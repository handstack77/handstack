( function( global, factory ) {

	"use strict";

	if ( typeof module === "object" && typeof module.exports === "object" ) {

		module.exports = global.document ?
			factory( global, true ) :
			function( w ) {
				if ( !w.document ) {
					throw new Error( "jQuery requires a window with a document" );
				}
				return factory( w );
			};
	} else {
		factory( global );
	}

} )( typeof window !== "undefined" ? window : this, function( window, noGlobal ) {

"use strict";

var arr = [];

var getProto = Object.getPrototypeOf;

var slice = arr.slice;

var flat = arr.flat ? function( array ) {
	return arr.flat.call( array );
} : function( array ) {
	return arr.concat.apply( [], array );
};


var push = arr.push;

var indexOf = arr.indexOf;

var class2type = {};

var toString = class2type.toString;

var hasOwn = class2type.hasOwnProperty;

var fnToString = hasOwn.toString;

var ObjectFunctionString = fnToString.call( Object );

var support = {};

var isFunction = function isFunction( obj ) {

		return typeof obj === "function" && typeof obj.nodeType !== "number" &&
			typeof obj.item !== "function";
	};


var isWindow = function isWindow( obj ) {
		return obj != null && obj === obj.window;
	};


var document = window.document;



	var preservedScriptAttributes = {
		type: true,
		src: true,
		nonce: true,
		noModule: true
	};

	function DOMEval( code, node, doc ) {
		doc = doc || document;

		var i, val,
			script = doc.createElement( "script" );

		script.text = code;
		if ( node ) {
			for ( i in preservedScriptAttributes ) {

				val = node[ i ] || node.getAttribute && node.getAttribute( i );
				if ( val ) {
					script.setAttribute( i, val );
				}
			}
		}
		doc.head.appendChild( script ).parentNode.removeChild( script );
	}


function toType( obj ) {
	if ( obj == null ) {
		return obj + "";
	}

	return typeof obj === "object" || typeof obj === "function" ?
		class2type[ toString.call( obj ) ] || "object" :
		typeof obj;
}



var version = "3.7.1",

	rhtmlSuffix = /HTML$/i,

	jQuery = function( selector, context ) {

		return new jQuery.fn.init( selector, context );
	};

jQuery.fn = jQuery.prototype = {

	jquery: version,

	constructor: jQuery,

	length: 0,

	toArray: function() {
		return slice.call( this );
	},

	get: function( num ) {

		if ( num == null ) {
			return slice.call( this );
		}

		return num < 0 ? this[ num + this.length ] : this[ num ];
	},

	pushStack: function( elems ) {

		var ret = jQuery.merge( this.constructor(), elems );

		ret.prevObject = this;

		return ret;
	},

	each: function( callback ) {
		return jQuery.each( this, callback );
	},

	map: function( callback ) {
		return this.pushStack( jQuery.map( this, function( elem, i ) {
			return callback.call( elem, i, elem );
		} ) );
	},

	slice: function() {
		return this.pushStack( slice.apply( this, arguments ) );
	},

	first: function() {
		return this.eq( 0 );
	},

	last: function() {
		return this.eq( -1 );
	},

	even: function() {
		return this.pushStack( jQuery.grep( this, function( _elem, i ) {
			return ( i + 1 ) % 2;
		} ) );
	},

	odd: function() {
		return this.pushStack( jQuery.grep( this, function( _elem, i ) {
			return i % 2;
		} ) );
	},

	eq: function( i ) {
		var len = this.length,
			j = +i + ( i < 0 ? len : 0 );
		return this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );
	},

	end: function() {
		return this.prevObject || this.constructor();
	},

	push: push,
	sort: arr.sort,
	splice: arr.splice
};

jQuery.extend = jQuery.fn.extend = function() {
	var options, name, src, copy, copyIsArray, clone,
		target = arguments[ 0 ] || {},
		i = 1,
		length = arguments.length,
		deep = false;

	if ( typeof target === "boolean" ) {
		deep = target;

		target = arguments[ i ] || {};
		i++;
	}

	if ( typeof target !== "object" && !isFunction( target ) ) {
		target = {};
	}

	if ( i === length ) {
		target = this;
		i--;
	}

	for ( ; i < length; i++ ) {

		if ( ( options = arguments[ i ] ) != null ) {

			for ( name in options ) {
				copy = options[ name ];

				if ( name === "__proto__" || target === copy ) {
					continue;
				}

				if ( deep && copy && ( jQuery.isPlainObject( copy ) ||
					( copyIsArray = Array.isArray( copy ) ) ) ) {
					src = target[ name ];

					if ( copyIsArray && !Array.isArray( src ) ) {
						clone = [];
					} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {
						clone = {};
					} else {
						clone = src;
					}
					copyIsArray = false;

					target[ name ] = jQuery.extend( deep, clone, copy );

				} else if ( copy !== undefined ) {
					target[ name ] = copy;
				}
			}
		}
	}

	return target;
};

jQuery.extend( {

	expando: "jQuery" + ( version + Math.random() ).replace( /\D/g, "" ),

	isReady: true,

	error: function( msg ) {
		throw new Error( msg );
	},

	noop: function() {},

	isPlainObject: function( obj ) {
		var proto, Ctor;

		if ( !obj || toString.call( obj ) !== "[object Object]" ) {
			return false;
		}

		proto = getProto( obj );

		if ( !proto ) {
			return true;
		}

		Ctor = hasOwn.call( proto, "constructor" ) && proto.constructor;
		return typeof Ctor === "function" && fnToString.call( Ctor ) === ObjectFunctionString;
	},

	isEmptyObject: function( obj ) {
		var name;

		for ( name in obj ) {
			return false;
		}
		return true;
	},

	globalEval: function( code, options, doc ) {
		DOMEval( code, { nonce: options && options.nonce }, doc );
	},

	each: function( obj, callback ) {
		var length, i = 0;

		if ( isArrayLike( obj ) ) {
			length = obj.length;
			for ( ; i < length; i++ ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		} else {
			for ( i in obj ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		}

		return obj;
	},


	text: function( elem ) {
		var node,
			ret = "",
			i = 0,
			nodeType = elem.nodeType;

		if ( !nodeType ) {

			while ( ( node = elem[ i++ ] ) ) {

				ret += jQuery.text( node );
			}
		}
		if ( nodeType === 1 || nodeType === 11 ) {
			return elem.textContent;
		}
		if ( nodeType === 9 ) {
			return elem.documentElement.textContent;
		}
		if ( nodeType === 3 || nodeType === 4 ) {
			return elem.nodeValue;
		}


		return ret;
	},

	makeArray: function( arr, results ) {
		var ret = results || [];

		if ( arr != null ) {
			if ( isArrayLike( Object( arr ) ) ) {
				jQuery.merge( ret,
					typeof arr === "string" ?
						[ arr ] : arr
				);
			} else {
				push.call( ret, arr );
			}
		}

		return ret;
	},

	inArray: function( elem, arr, i ) {
		return arr == null ? -1 : indexOf.call( arr, elem, i );
	},

	isXMLDoc: function( elem ) {
		var namespace = elem && elem.namespaceURI,
			docElem = elem && ( elem.ownerDocument || elem ).documentElement;

		return !rhtmlSuffix.test( namespace || docElem && docElem.nodeName || "HTML" );
	},

	merge: function( first, second ) {
		var len = +second.length,
			j = 0,
			i = first.length;

		for ( ; j < len; j++ ) {
			first[ i++ ] = second[ j ];
		}

		first.length = i;

		return first;
	},

	grep: function( elems, callback, invert ) {
		var callbackInverse,
			matches = [],
			i = 0,
			length = elems.length,
			callbackExpect = !invert;

		for ( ; i < length; i++ ) {
			callbackInverse = !callback( elems[ i ], i );
			if ( callbackInverse !== callbackExpect ) {
				matches.push( elems[ i ] );
			}
		}

		return matches;
	},

	map: function( elems, callback, arg ) {
		var length, value,
			i = 0,
			ret = [];

		if ( isArrayLike( elems ) ) {
			length = elems.length;
			for ( ; i < length; i++ ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}

		} else {
			for ( i in elems ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}
		}

		return flat( ret );
	},

	guid: 1,

	support: support
} );

if ( typeof Symbol === "function" ) {
	jQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];
}

jQuery.each( "Boolean Number String Function Array Date RegExp Object Error Symbol".split( " " ),
	function( _i, name ) {
		class2type[ "[object " + name + "]" ] = name.toLowerCase();
	} );

function isArrayLike( obj ) {

	var length = !!obj && "length" in obj && obj.length,
		type = toType( obj );

	if ( isFunction( obj ) || isWindow( obj ) ) {
		return false;
	}

	return type === "array" || length === 0 ||
		typeof length === "number" && length > 0 && ( length - 1 ) in obj;
}


function nodeName( elem, name ) {

	return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();

}
var pop = arr.pop;


var sort = arr.sort;


var splice = arr.splice;


var whitespace = "[\\x20\\t\\r\\n\\f]";


var rtrimCSS = new RegExp(
	"^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$",
	"g"
);




jQuery.contains = function( a, b ) {
	var bup = b && b.parentNode;

	return a === bup || !!( bup && bup.nodeType === 1 && (

		a.contains ?
			a.contains( bup ) :
			a.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16
	) );
};




var rcssescape = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;

function fcssescape( ch, asCodePoint ) {
	if ( asCodePoint ) {

		if ( ch === "\0" ) {
			return "\uFFFD";
		}

		return ch.slice( 0, -1 ) + "\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + " ";
	}

	return "\\" + ch;
}

jQuery.escapeSelector = function( sel ) {
	return ( sel + "" ).replace( rcssescape, fcssescape );
};




var preferredDoc = document,
	pushNative = push;

( function() {

var i,
	Expr,
	outermostContext,
	sortInput,
	hasDuplicate,
	push = pushNative,

	document,
	documentElement,
	documentIsHTML,
	rbuggyQSA,
	matches,

	expando = jQuery.expando,
	dirruns = 0,
	done = 0,
	classCache = createCache(),
	tokenCache = createCache(),
	compilerCache = createCache(),
	nonnativeSelectorCache = createCache(),
	sortOrder = function( a, b ) {
		if ( a === b ) {
			hasDuplicate = true;
		}
		return 0;
	},

	booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|" +
		"loop|multiple|open|readonly|required|scoped",


	identifier = "(?:\\\\[\\da-fA-F]{1,6}" + whitespace +
		"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",

	attributes = "\\[" + whitespace + "*(" + identifier + ")(?:" + whitespace +

		"*([*^$|!~]?=)" + whitespace +

		"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" +
		whitespace + "*\\]",

	pseudos = ":(" + identifier + ")(?:\\((" +

		"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" +

		"((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" +

		".*" +
		")\\)|)",

	rwhitespace = new RegExp( whitespace + "+", "g" ),

	rcomma = new RegExp( "^" + whitespace + "*," + whitespace + "*" ),
	rleadingCombinator = new RegExp( "^" + whitespace + "*([>+~]|" + whitespace + ")" +
		whitespace + "*" ),
	rdescend = new RegExp( whitespace + "|>" ),

	rpseudo = new RegExp( pseudos ),
	ridentifier = new RegExp( "^" + identifier + "$" ),

	matchExpr = {
		ID: new RegExp( "^#(" + identifier + ")" ),
		CLASS: new RegExp( "^\\.(" + identifier + ")" ),
		TAG: new RegExp( "^(" + identifier + "|[*])" ),
		ATTR: new RegExp( "^" + attributes ),
		PSEUDO: new RegExp( "^" + pseudos ),
		CHILD: new RegExp(
			"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" +
				whitespace + "*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" +
				whitespace + "*(\\d+)|))" + whitespace + "*\\)|)", "i" ),
		bool: new RegExp( "^(?:" + booleans + ")$", "i" ),

		needsContext: new RegExp( "^" + whitespace +
			"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + whitespace +
			"*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i" )
	},

	rinputs = /^(?:input|select|textarea|button)$/i,
	rheader = /^h\d$/i,

	rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,

	rsibling = /[+~]/,

	runescape = new RegExp( "\\\\[\\da-fA-F]{1,6}" + whitespace +
		"?|\\\\([^\\r\\n\\f])", "g" ),
	funescape = function( escape, nonHex ) {
		var high = "0x" + escape.slice( 1 ) - 0x10000;

		if ( nonHex ) {

			return nonHex;
		}

		return high < 0 ?
			String.fromCharCode( high + 0x10000 ) :
			String.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );
	},

	unloadHandler = function() {
		setDocument();
	},

	inDisabledFieldset = addCombinator(
		function( elem ) {
			return elem.disabled === true && nodeName( elem, "fieldset" );
		},
		{ dir: "parentNode", next: "legend" }
	);

function safeActiveElement() {
	try {
		return document.activeElement;
	} catch ( err ) { }
}

try {
	push.apply(
		( arr = slice.call( preferredDoc.childNodes ) ),
		preferredDoc.childNodes
	);

	arr[ preferredDoc.childNodes.length ].nodeType;
} catch ( e ) {
	push = {
		apply: function( target, els ) {
			pushNative.apply( target, slice.call( els ) );
		},
		call: function( target ) {
			pushNative.apply( target, slice.call( arguments, 1 ) );
		}
	};
}

function find( selector, context, results, seed ) {
	var m, i, elem, nid, match, groups, newSelector,
		newContext = context && context.ownerDocument,

		nodeType = context ? context.nodeType : 9;

	results = results || [];

	if ( typeof selector !== "string" || !selector ||
		nodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {

		return results;
	}

	if ( !seed ) {
		setDocument( context );
		context = context || document;

		if ( documentIsHTML ) {

			if ( nodeType !== 11 && ( match = rquickExpr.exec( selector ) ) ) {

				if ( ( m = match[ 1 ] ) ) {

					if ( nodeType === 9 ) {
						if ( ( elem = context.getElementById( m ) ) ) {

							if ( elem.id === m ) {
								push.call( results, elem );
								return results;
							}
						} else {
							return results;
						}

					} else {

						if ( newContext && ( elem = newContext.getElementById( m ) ) &&
							find.contains( context, elem ) &&
							elem.id === m ) {

							push.call( results, elem );
							return results;
						}
					}

				} else if ( match[ 2 ] ) {
					push.apply( results, context.getElementsByTagName( selector ) );
					return results;

				} else if ( ( m = match[ 3 ] ) && context.getElementsByClassName ) {
					push.apply( results, context.getElementsByClassName( m ) );
					return results;
				}
			}

			if ( !nonnativeSelectorCache[ selector + " " ] &&
				( !rbuggyQSA || !rbuggyQSA.test( selector ) ) ) {

				newSelector = selector;
				newContext = context;

				if ( nodeType === 1 &&
					( rdescend.test( selector ) || rleadingCombinator.test( selector ) ) ) {

					newContext = rsibling.test( selector ) && testContext( context.parentNode ) ||
						context;

					if ( newContext != context || !support.scope ) {

						if ( ( nid = context.getAttribute( "id" ) ) ) {
							nid = jQuery.escapeSelector( nid );
						} else {
							context.setAttribute( "id", ( nid = expando ) );
						}
					}

					groups = tokenize( selector );
					i = groups.length;
					while ( i-- ) {
						groups[ i ] = ( nid ? "#" + nid : ":scope" ) + " " +
							toSelector( groups[ i ] );
					}
					newSelector = groups.join( "," );
				}

				try {
					push.apply( results,
						newContext.querySelectorAll( newSelector )
					);
					return results;
				} catch ( qsaError ) {
					nonnativeSelectorCache( selector, true );
				} finally {
					if ( nid === expando ) {
						context.removeAttribute( "id" );
					}
				}
			}
		}
	}

	return select( selector.replace( rtrimCSS, "$1" ), context, results, seed );
}

function createCache() {
	var keys = [];

	function cache( key, value ) {

		if ( keys.push( key + " " ) > Expr.cacheLength ) {

			delete cache[ keys.shift() ];
		}
		return ( cache[ key + " " ] = value );
	}
	return cache;
}

function markFunction( fn ) {
	fn[ expando ] = true;
	return fn;
}

function assert( fn ) {
	var el = document.createElement( "fieldset" );

	try {
		return !!fn( el );
	} catch ( e ) {
		return false;
	} finally {

		if ( el.parentNode ) {
			el.parentNode.removeChild( el );
		}

		el = null;
	}
}

function createInputPseudo( type ) {
	return function( elem ) {
		return nodeName( elem, "input" ) && elem.type === type;
	};
}

function createButtonPseudo( type ) {
	return function( elem ) {
		return ( nodeName( elem, "input" ) || nodeName( elem, "button" ) ) &&
			elem.type === type;
	};
}

function createDisabledPseudo( disabled ) {

	return function( elem ) {

		if ( "form" in elem ) {

			if ( elem.parentNode && elem.disabled === false ) {

				if ( "label" in elem ) {
					if ( "label" in elem.parentNode ) {
						return elem.parentNode.disabled === disabled;
					} else {
						return elem.disabled === disabled;
					}
				}

				return elem.isDisabled === disabled ||

					elem.isDisabled !== !disabled &&
						inDisabledFieldset( elem ) === disabled;
			}

			return elem.disabled === disabled;

		} else if ( "label" in elem ) {
			return elem.disabled === disabled;
		}

		return false;
	};
}

function createPositionalPseudo( fn ) {
	return markFunction( function( argument ) {
		argument = +argument;
		return markFunction( function( seed, matches ) {
			var j,
				matchIndexes = fn( [], seed.length, argument ),
				i = matchIndexes.length;

			while ( i-- ) {
				if ( seed[ ( j = matchIndexes[ i ] ) ] ) {
					seed[ j ] = !( matches[ j ] = seed[ j ] );
				}
			}
		} );
	} );
}

function testContext( context ) {
	return context && typeof context.getElementsByTagName !== "undefined" && context;
}

function setDocument( node ) {
	var subWindow,
		doc = node ? node.ownerDocument || node : preferredDoc;

	if ( doc == document || doc.nodeType !== 9 || !doc.documentElement ) {
		return document;
	}

	document = doc;
	documentElement = document.documentElement;
	documentIsHTML = !jQuery.isXMLDoc( document );

	matches = documentElement.matches ||
		documentElement.webkitMatchesSelector ||
		documentElement.msMatchesSelector;

	if ( documentElement.msMatchesSelector &&

		preferredDoc != document &&
		( subWindow = document.defaultView ) && subWindow.top !== subWindow ) {

		subWindow.addEventListener( "unload", unloadHandler );
	}

	support.getById = assert( function( el ) {
		documentElement.appendChild( el ).id = jQuery.expando;
		return !document.getElementsByName ||
			!document.getElementsByName( jQuery.expando ).length;
	} );

	support.disconnectedMatch = assert( function( el ) {
		return matches.call( el, "*" );
	} );

	support.scope = assert( function() {
		return document.querySelectorAll( ":scope" );
	} );

	support.cssHas = assert( function() {
		try {
			document.querySelector( ":has(*,:jqfake)" );
			return false;
		} catch ( e ) {
			return true;
		}
	} );

	if ( support.getById ) {
		Expr.filter.ID = function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				return elem.getAttribute( "id" ) === attrId;
			};
		};
		Expr.find.ID = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var elem = context.getElementById( id );
				return elem ? [ elem ] : [];
			}
		};
	} else {
		Expr.filter.ID =  function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				var node = typeof elem.getAttributeNode !== "undefined" &&
					elem.getAttributeNode( "id" );
				return node && node.value === attrId;
			};
		};

		Expr.find.ID = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var node, i, elems,
					elem = context.getElementById( id );

				if ( elem ) {

					node = elem.getAttributeNode( "id" );
					if ( node && node.value === id ) {
						return [ elem ];
					}

					elems = context.getElementsByName( id );
					i = 0;
					while ( ( elem = elems[ i++ ] ) ) {
						node = elem.getAttributeNode( "id" );
						if ( node && node.value === id ) {
							return [ elem ];
						}
					}
				}

				return [];
			}
		};
	}

	Expr.find.TAG = function( tag, context ) {
		if ( typeof context.getElementsByTagName !== "undefined" ) {
			return context.getElementsByTagName( tag );

		} else {
			return context.querySelectorAll( tag );
		}
	};

	Expr.find.CLASS = function( className, context ) {
		if ( typeof context.getElementsByClassName !== "undefined" && documentIsHTML ) {
			return context.getElementsByClassName( className );
		}
	};



	rbuggyQSA = [];

	assert( function( el ) {

		var input;

		documentElement.appendChild( el ).innerHTML =
			"<a id='" + expando + "' href='' disabled='disabled'></a>" +
			"<select id='" + expando + "-\r\\' disabled='disabled'>" +
			"<option selected=''></option></select>";

		if ( !el.querySelectorAll( "[selected]" ).length ) {
			rbuggyQSA.push( "\\[" + whitespace + "*(?:value|" + booleans + ")" );
		}

		if ( !el.querySelectorAll( "[id~=" + expando + "-]" ).length ) {
			rbuggyQSA.push( "~=" );
		}

		if ( !el.querySelectorAll( "a#" + expando + "+*" ).length ) {
			rbuggyQSA.push( ".#.+[+~]" );
		}

		if ( !el.querySelectorAll( ":checked" ).length ) {
			rbuggyQSA.push( ":checked" );
		}

		input = document.createElement( "input" );
		input.setAttribute( "type", "hidden" );
		el.appendChild( input ).setAttribute( "name", "D" );

		documentElement.appendChild( el ).disabled = true;
		if ( el.querySelectorAll( ":disabled" ).length !== 2 ) {
			rbuggyQSA.push( ":enabled", ":disabled" );
		}

		input = document.createElement( "input" );
		input.setAttribute( "name", "" );
		el.appendChild( input );
		if ( !el.querySelectorAll( "[name='']" ).length ) {
			rbuggyQSA.push( "\\[" + whitespace + "*name" + whitespace + "*=" +
				whitespace + "*(?:''|\"\")" );
		}
	} );

	if ( !support.cssHas ) {

		rbuggyQSA.push( ":has" );
	}

	rbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join( "|" ) );


	sortOrder = function( a, b ) {

		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
		if ( compare ) {
			return compare;
		}

		compare = ( a.ownerDocument || a ) == ( b.ownerDocument || b ) ?
			a.compareDocumentPosition( b ) :

			1;

		if ( compare & 1 ||
			( !support.sortDetached && b.compareDocumentPosition( a ) === compare ) ) {

			if ( a === document || a.ownerDocument == preferredDoc &&
				find.contains( preferredDoc, a ) ) {
				return -1;
			}

			if ( b === document || b.ownerDocument == preferredDoc &&
				find.contains( preferredDoc, b ) ) {
				return 1;
			}

			return sortInput ?
				( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :
				0;
		}

		return compare & 4 ? -1 : 1;
	};

	return document;
}

find.matches = function( expr, elements ) {
	return find( expr, null, null, elements );
};

find.matchesSelector = function( elem, expr ) {
	setDocument( elem );

	if ( documentIsHTML &&
		!nonnativeSelectorCache[ expr + " " ] &&
		( !rbuggyQSA || !rbuggyQSA.test( expr ) ) ) {

		try {
			var ret = matches.call( elem, expr );

			if ( ret || support.disconnectedMatch ||

					elem.document && elem.document.nodeType !== 11 ) {
				return ret;
			}
		} catch ( e ) {
			nonnativeSelectorCache( expr, true );
		}
	}

	return find( expr, document, null, [ elem ] ).length > 0;
};

find.contains = function( context, elem ) {

	if ( ( context.ownerDocument || context ) != document ) {
		setDocument( context );
	}
	return jQuery.contains( context, elem );
};


find.attr = function( elem, name ) {

	if ( ( elem.ownerDocument || elem ) != document ) {
		setDocument( elem );
	}

	var fn = Expr.attrHandle[ name.toLowerCase() ],

		val = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?
			fn( elem, name, !documentIsHTML ) :
			undefined;

	if ( val !== undefined ) {
		return val;
	}

	return elem.getAttribute( name );
};

find.error = function( msg ) {
	throw new Error( "Syntax error, unrecognized expression: " + msg );
};

jQuery.uniqueSort = function( results ) {
	var elem,
		duplicates = [],
		j = 0,
		i = 0;

	hasDuplicate = !support.sortStable;
	sortInput = !support.sortStable && slice.call( results, 0 );
	sort.call( results, sortOrder );

	if ( hasDuplicate ) {
		while ( ( elem = results[ i++ ] ) ) {
			if ( elem === results[ i ] ) {
				j = duplicates.push( i );
			}
		}
		while ( j-- ) {
			splice.call( results, duplicates[ j ], 1 );
		}
	}

	sortInput = null;

	return results;
};

jQuery.fn.uniqueSort = function() {
	return this.pushStack( jQuery.uniqueSort( slice.apply( this ) ) );
};

Expr = jQuery.expr = {

	cacheLength: 50,

	createPseudo: markFunction,

	match: matchExpr,

	attrHandle: {},

	find: {},

	relative: {
		">": { dir: "parentNode", first: true },
		" ": { dir: "parentNode" },
		"+": { dir: "previousSibling", first: true },
		"~": { dir: "previousSibling" }
	},

	preFilter: {
		ATTR: function( match ) {
			match[ 1 ] = match[ 1 ].replace( runescape, funescape );

			match[ 3 ] = ( match[ 3 ] || match[ 4 ] || match[ 5 ] || "" )
				.replace( runescape, funescape );

			if ( match[ 2 ] === "~=" ) {
				match[ 3 ] = " " + match[ 3 ] + " ";
			}

			return match.slice( 0, 4 );
		},

		CHILD: function( match ) {

			match[ 1 ] = match[ 1 ].toLowerCase();

			if ( match[ 1 ].slice( 0, 3 ) === "nth" ) {

				if ( !match[ 3 ] ) {
					find.error( match[ 0 ] );
				}

				match[ 4 ] = +( match[ 4 ] ?
					match[ 5 ] + ( match[ 6 ] || 1 ) :
					2 * ( match[ 3 ] === "even" || match[ 3 ] === "odd" )
				);
				match[ 5 ] = +( ( match[ 7 ] + match[ 8 ] ) || match[ 3 ] === "odd" );

			} else if ( match[ 3 ] ) {
				find.error( match[ 0 ] );
			}

			return match;
		},

		PSEUDO: function( match ) {
			var excess,
				unquoted = !match[ 6 ] && match[ 2 ];

			if ( matchExpr.CHILD.test( match[ 0 ] ) ) {
				return null;
			}

			if ( match[ 3 ] ) {
				match[ 2 ] = match[ 4 ] || match[ 5 ] || "";

			} else if ( unquoted && rpseudo.test( unquoted ) &&

				( excess = tokenize( unquoted, true ) ) &&

				( excess = unquoted.indexOf( ")", unquoted.length - excess ) - unquoted.length ) ) {

				match[ 0 ] = match[ 0 ].slice( 0, excess );
				match[ 2 ] = unquoted.slice( 0, excess );
			}

			return match.slice( 0, 3 );
		}
	},

	filter: {

		TAG: function( nodeNameSelector ) {
			var expectedNodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();
			return nodeNameSelector === "*" ?
				function() {
					return true;
				} :
				function( elem ) {
					return nodeName( elem, expectedNodeName );
				};
		},

		CLASS: function( className ) {
			var pattern = classCache[ className + " " ];

			return pattern ||
				( pattern = new RegExp( "(^|" + whitespace + ")" + className +
					"(" + whitespace + "|$)" ) ) &&
				classCache( className, function( elem ) {
					return pattern.test(
						typeof elem.className === "string" && elem.className ||
							typeof elem.getAttribute !== "undefined" &&
								elem.getAttribute( "class" ) ||
							""
					);
				} );
		},

		ATTR: function( name, operator, check ) {
			return function( elem ) {
				var result = find.attr( elem, name );

				if ( result == null ) {
					return operator === "!=";
				}
				if ( !operator ) {
					return true;
				}

				result += "";

				if ( operator === "=" ) {
					return result === check;
				}
				if ( operator === "!=" ) {
					return result !== check;
				}
				if ( operator === "^=" ) {
					return check && result.indexOf( check ) === 0;
				}
				if ( operator === "*=" ) {
					return check && result.indexOf( check ) > -1;
				}
				if ( operator === "$=" ) {
					return check && result.slice( -check.length ) === check;
				}
				if ( operator === "~=" ) {
					return ( " " + result.replace( rwhitespace, " " ) + " " )
						.indexOf( check ) > -1;
				}
				if ( operator === "|=" ) {
					return result === check || result.slice( 0, check.length + 1 ) === check + "-";
				}

				return false;
			};
		},

		CHILD: function( type, what, _argument, first, last ) {
			var simple = type.slice( 0, 3 ) !== "nth",
				forward = type.slice( -4 ) !== "last",
				ofType = what === "of-type";

			return first === 1 && last === 0 ?

				function( elem ) {
					return !!elem.parentNode;
				} :

				function( elem, _context, xml ) {
					var cache, outerCache, node, nodeIndex, start,
						dir = simple !== forward ? "nextSibling" : "previousSibling",
						parent = elem.parentNode,
						name = ofType && elem.nodeName.toLowerCase(),
						useCache = !xml && !ofType,
						diff = false;

					if ( parent ) {

						if ( simple ) {
							while ( dir ) {
								node = elem;
								while ( ( node = node[ dir ] ) ) {
									if ( ofType ?
										nodeName( node, name ) :
										node.nodeType === 1 ) {

										return false;
									}
								}

								start = dir = type === "only" && !start && "nextSibling";
							}
							return true;
						}

						start = [ forward ? parent.firstChild : parent.lastChild ];

						if ( forward && useCache ) {

							outerCache = parent[ expando ] || ( parent[ expando ] = {} );
							cache = outerCache[ type ] || [];
							nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
							diff = nodeIndex && cache[ 2 ];
							node = nodeIndex && parent.childNodes[ nodeIndex ];

							while ( ( node = ++nodeIndex && node && node[ dir ] ||

								( diff = nodeIndex = 0 ) || start.pop() ) ) {

								if ( node.nodeType === 1 && ++diff && node === elem ) {
									outerCache[ type ] = [ dirruns, nodeIndex, diff ];
									break;
								}
							}

						} else {

							if ( useCache ) {
								outerCache = elem[ expando ] || ( elem[ expando ] = {} );
								cache = outerCache[ type ] || [];
								nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
								diff = nodeIndex;
							}

							if ( diff === false ) {

								while ( ( node = ++nodeIndex && node && node[ dir ] ||
									( diff = nodeIndex = 0 ) || start.pop() ) ) {

									if ( ( ofType ?
										nodeName( node, name ) :
										node.nodeType === 1 ) &&
										++diff ) {

										if ( useCache ) {
											outerCache = node[ expando ] ||
												( node[ expando ] = {} );
											outerCache[ type ] = [ dirruns, diff ];
										}

										if ( node === elem ) {
											break;
										}
									}
								}
							}
						}

						diff -= last;
						return diff === first || ( diff % first === 0 && diff / first >= 0 );
					}
				};
		},

		PSEUDO: function( pseudo, argument ) {

			var args,
				fn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||
					find.error( "unsupported pseudo: " + pseudo );

			if ( fn[ expando ] ) {
				return fn( argument );
			}

			if ( fn.length > 1 ) {
				args = [ pseudo, pseudo, "", argument ];
				return Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?
					markFunction( function( seed, matches ) {
						var idx,
							matched = fn( seed, argument ),
							i = matched.length;
						while ( i-- ) {
							idx = indexOf.call( seed, matched[ i ] );
							seed[ idx ] = !( matches[ idx ] = matched[ i ] );
						}
					} ) :
					function( elem ) {
						return fn( elem, 0, args );
					};
			}

			return fn;
		}
	},

	pseudos: {

		not: markFunction( function( selector ) {

			var input = [],
				results = [],
				matcher = compile( selector.replace( rtrimCSS, "$1" ) );

			return matcher[ expando ] ?
				markFunction( function( seed, matches, _context, xml ) {
					var elem,
						unmatched = matcher( seed, null, xml, [] ),
						i = seed.length;

					while ( i-- ) {
						if ( ( elem = unmatched[ i ] ) ) {
							seed[ i ] = !( matches[ i ] = elem );
						}
					}
				} ) :
				function( elem, _context, xml ) {
					input[ 0 ] = elem;
					matcher( input, null, xml, results );

					input[ 0 ] = null;
					return !results.pop();
				};
		} ),

		has: markFunction( function( selector ) {
			return function( elem ) {
				return find( selector, elem ).length > 0;
			};
		} ),

		contains: markFunction( function( text ) {
			text = text.replace( runescape, funescape );
			return function( elem ) {
				return ( elem.textContent || jQuery.text( elem ) ).indexOf( text ) > -1;
			};
		} ),

		lang: markFunction( function( lang ) {

			if ( !ridentifier.test( lang || "" ) ) {
				find.error( "unsupported lang: " + lang );
			}
			lang = lang.replace( runescape, funescape ).toLowerCase();
			return function( elem ) {
				var elemLang;
				do {
					if ( ( elemLang = documentIsHTML ?
						elem.lang :
						elem.getAttribute( "xml:lang" ) || elem.getAttribute( "lang" ) ) ) {

						elemLang = elemLang.toLowerCase();
						return elemLang === lang || elemLang.indexOf( lang + "-" ) === 0;
					}
				} while ( ( elem = elem.parentNode ) && elem.nodeType === 1 );
				return false;
			};
		} ),

		target: function( elem ) {
			var hash = window.location && window.location.hash;
			return hash && hash.slice( 1 ) === elem.id;
		},

		root: function( elem ) {
			return elem === documentElement;
		},

		focus: function( elem ) {
			return elem === safeActiveElement() &&
				document.hasFocus() &&
				!!( elem.type || elem.href || ~elem.tabIndex );
		},

		enabled: createDisabledPseudo( false ),
		disabled: createDisabledPseudo( true ),

		checked: function( elem ) {

			return ( nodeName( elem, "input" ) && !!elem.checked ) ||
				( nodeName( elem, "option" ) && !!elem.selected );
		},

		selected: function( elem ) {

			if ( elem.parentNode ) {
				elem.parentNode.selectedIndex;
			}

			return elem.selected === true;
		},

		empty: function( elem ) {

			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				if ( elem.nodeType < 6 ) {
					return false;
				}
			}
			return true;
		},

		parent: function( elem ) {
			return !Expr.pseudos.empty( elem );
		},

		header: function( elem ) {
			return rheader.test( elem.nodeName );
		},

		input: function( elem ) {
			return rinputs.test( elem.nodeName );
		},

		button: function( elem ) {
			return nodeName( elem, "input" ) && elem.type === "button" ||
				nodeName( elem, "button" );
		},

		text: function( elem ) {
			var attr;
			return nodeName( elem, "input" ) && elem.type === "text" &&

				( ( attr = elem.getAttribute( "type" ) ) == null ||
					attr.toLowerCase() === "text" );
		},

		first: createPositionalPseudo( function() {
			return [ 0 ];
		} ),

		last: createPositionalPseudo( function( _matchIndexes, length ) {
			return [ length - 1 ];
		} ),

		eq: createPositionalPseudo( function( _matchIndexes, length, argument ) {
			return [ argument < 0 ? argument + length : argument ];
		} ),

		even: createPositionalPseudo( function( matchIndexes, length ) {
			var i = 0;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} ),

		odd: createPositionalPseudo( function( matchIndexes, length ) {
			var i = 1;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} ),

		lt: createPositionalPseudo( function( matchIndexes, length, argument ) {
			var i;

			if ( argument < 0 ) {
				i = argument + length;
			} else if ( argument > length ) {
				i = length;
			} else {
				i = argument;
			}

			for ( ; --i >= 0; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} ),

		gt: createPositionalPseudo( function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; ++i < length; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} )
	}
};

Expr.pseudos.nth = Expr.pseudos.eq;

for ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {
	Expr.pseudos[ i ] = createInputPseudo( i );
}
for ( i in { submit: true, reset: true } ) {
	Expr.pseudos[ i ] = createButtonPseudo( i );
}

function setFilters() {}
setFilters.prototype = Expr.filters = Expr.pseudos;
Expr.setFilters = new setFilters();

function tokenize( selector, parseOnly ) {
	var matched, match, tokens, type,
		soFar, groups, preFilters,
		cached = tokenCache[ selector + " " ];

	if ( cached ) {
		return parseOnly ? 0 : cached.slice( 0 );
	}

	soFar = selector;
	groups = [];
	preFilters = Expr.preFilter;

	while ( soFar ) {

		if ( !matched || ( match = rcomma.exec( soFar ) ) ) {
			if ( match ) {

				soFar = soFar.slice( match[ 0 ].length ) || soFar;
			}
			groups.push( ( tokens = [] ) );
		}

		matched = false;

		if ( ( match = rleadingCombinator.exec( soFar ) ) ) {
			matched = match.shift();
			tokens.push( {
				value: matched,

				type: match[ 0 ].replace( rtrimCSS, " " )
			} );
			soFar = soFar.slice( matched.length );
		}

		for ( type in Expr.filter ) {
			if ( ( match = matchExpr[ type ].exec( soFar ) ) && ( !preFilters[ type ] ||
				( match = preFilters[ type ]( match ) ) ) ) {
				matched = match.shift();
				tokens.push( {
					value: matched,
					type: type,
					matches: match
				} );
				soFar = soFar.slice( matched.length );
			}
		}

		if ( !matched ) {
			break;
		}
	}

	if ( parseOnly ) {
		return soFar.length;
	}

	return soFar ?
		find.error( selector ) :

		tokenCache( selector, groups ).slice( 0 );
}

function toSelector( tokens ) {
	var i = 0,
		len = tokens.length,
		selector = "";
	for ( ; i < len; i++ ) {
		selector += tokens[ i ].value;
	}
	return selector;
}

function addCombinator( matcher, combinator, base ) {
	var dir = combinator.dir,
		skip = combinator.next,
		key = skip || dir,
		checkNonElements = base && key === "parentNode",
		doneName = done++;

	return combinator.first ?

		function( elem, context, xml ) {
			while ( ( elem = elem[ dir ] ) ) {
				if ( elem.nodeType === 1 || checkNonElements ) {
					return matcher( elem, context, xml );
				}
			}
			return false;
		} :

		function( elem, context, xml ) {
			var oldCache, outerCache,
				newCache = [ dirruns, doneName ];

			if ( xml ) {
				while ( ( elem = elem[ dir ] ) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						if ( matcher( elem, context, xml ) ) {
							return true;
						}
					}
				}
			} else {
				while ( ( elem = elem[ dir ] ) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						outerCache = elem[ expando ] || ( elem[ expando ] = {} );

						if ( skip && nodeName( elem, skip ) ) {
							elem = elem[ dir ] || elem;
						} else if ( ( oldCache = outerCache[ key ] ) &&
							oldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {

							return ( newCache[ 2 ] = oldCache[ 2 ] );
						} else {

							outerCache[ key ] = newCache;

							if ( ( newCache[ 2 ] = matcher( elem, context, xml ) ) ) {
								return true;
							}
						}
					}
				}
			}
			return false;
		};
}

function elementMatcher( matchers ) {
	return matchers.length > 1 ?
		function( elem, context, xml ) {
			var i = matchers.length;
			while ( i-- ) {
				if ( !matchers[ i ]( elem, context, xml ) ) {
					return false;
				}
			}
			return true;
		} :
		matchers[ 0 ];
}

function multipleContexts( selector, contexts, results ) {
	var i = 0,
		len = contexts.length;
	for ( ; i < len; i++ ) {
		find( selector, contexts[ i ], results );
	}
	return results;
}

function condense( unmatched, map, filter, context, xml ) {
	var elem,
		newUnmatched = [],
		i = 0,
		len = unmatched.length,
		mapped = map != null;

	for ( ; i < len; i++ ) {
		if ( ( elem = unmatched[ i ] ) ) {
			if ( !filter || filter( elem, context, xml ) ) {
				newUnmatched.push( elem );
				if ( mapped ) {
					map.push( i );
				}
			}
		}
	}

	return newUnmatched;
}

function setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {
	if ( postFilter && !postFilter[ expando ] ) {
		postFilter = setMatcher( postFilter );
	}
	if ( postFinder && !postFinder[ expando ] ) {
		postFinder = setMatcher( postFinder, postSelector );
	}
	return markFunction( function( seed, results, context, xml ) {
		var temp, i, elem, matcherOut,
			preMap = [],
			postMap = [],
			preexisting = results.length,

			elems = seed ||
				multipleContexts( selector || "*",
					context.nodeType ? [ context ] : context, [] ),

			matcherIn = preFilter && ( seed || !selector ) ?
				condense( elems, preMap, preFilter, context, xml ) :
				elems;

		if ( matcher ) {

			matcherOut = postFinder || ( seed ? preFilter : preexisting || postFilter ) ?

				[] :

				results;

			matcher( matcherIn, matcherOut, context, xml );
		} else {
			matcherOut = matcherIn;
		}

		if ( postFilter ) {
			temp = condense( matcherOut, postMap );
			postFilter( temp, [], context, xml );

			i = temp.length;
			while ( i-- ) {
				if ( ( elem = temp[ i ] ) ) {
					matcherOut[ postMap[ i ] ] = !( matcherIn[ postMap[ i ] ] = elem );
				}
			}
		}

		if ( seed ) {
			if ( postFinder || preFilter ) {
				if ( postFinder ) {

					temp = [];
					i = matcherOut.length;
					while ( i-- ) {
						if ( ( elem = matcherOut[ i ] ) ) {

							temp.push( ( matcherIn[ i ] = elem ) );
						}
					}
					postFinder( null, ( matcherOut = [] ), temp, xml );
				}

				i = matcherOut.length;
				while ( i-- ) {
					if ( ( elem = matcherOut[ i ] ) &&
						( temp = postFinder ? indexOf.call( seed, elem ) : preMap[ i ] ) > -1 ) {

						seed[ temp ] = !( results[ temp ] = elem );
					}
				}
			}

		} else {
			matcherOut = condense(
				matcherOut === results ?
					matcherOut.splice( preexisting, matcherOut.length ) :
					matcherOut
			);
			if ( postFinder ) {
				postFinder( null, results, matcherOut, xml );
			} else {
				push.apply( results, matcherOut );
			}
		}
	} );
}

function matcherFromTokens( tokens ) {
	var checkContext, matcher, j,
		len = tokens.length,
		leadingRelative = Expr.relative[ tokens[ 0 ].type ],
		implicitRelative = leadingRelative || Expr.relative[ " " ],
		i = leadingRelative ? 1 : 0,

		matchContext = addCombinator( function( elem ) {
			return elem === checkContext;
		}, implicitRelative, true ),
		matchAnyContext = addCombinator( function( elem ) {
			return indexOf.call( checkContext, elem ) > -1;
		}, implicitRelative, true ),
		matchers = [ function( elem, context, xml ) {

			var ret = ( !leadingRelative && ( xml || context != outermostContext ) ) || (
				( checkContext = context ).nodeType ?
					matchContext( elem, context, xml ) :
					matchAnyContext( elem, context, xml ) );

			checkContext = null;
			return ret;
		} ];

	for ( ; i < len; i++ ) {
		if ( ( matcher = Expr.relative[ tokens[ i ].type ] ) ) {
			matchers = [ addCombinator( elementMatcher( matchers ), matcher ) ];
		} else {
			matcher = Expr.filter[ tokens[ i ].type ].apply( null, tokens[ i ].matches );

			if ( matcher[ expando ] ) {

				j = ++i;
				for ( ; j < len; j++ ) {
					if ( Expr.relative[ tokens[ j ].type ] ) {
						break;
					}
				}
				return setMatcher(
					i > 1 && elementMatcher( matchers ),
					i > 1 && toSelector(

						tokens.slice( 0, i - 1 )
							.concat( { value: tokens[ i - 2 ].type === " " ? "*" : "" } )
					).replace( rtrimCSS, "$1" ),
					matcher,
					i < j && matcherFromTokens( tokens.slice( i, j ) ),
					j < len && matcherFromTokens( ( tokens = tokens.slice( j ) ) ),
					j < len && toSelector( tokens )
				);
			}
			matchers.push( matcher );
		}
	}

	return elementMatcher( matchers );
}

function matcherFromGroupMatchers( elementMatchers, setMatchers ) {
	var bySet = setMatchers.length > 0,
		byElement = elementMatchers.length > 0,
		superMatcher = function( seed, context, xml, results, outermost ) {
			var elem, j, matcher,
				matchedCount = 0,
				i = "0",
				unmatched = seed && [],
				setMatched = [],
				contextBackup = outermostContext,

				elems = seed || byElement && Expr.find.TAG( "*", outermost ),

				dirrunsUnique = ( dirruns += contextBackup == null ? 1 : Math.random() || 0.1 ),
				len = elems.length;

			if ( outermost ) {

				outermostContext = context == document || context || outermost;
			}

			for ( ; i !== len && ( elem = elems[ i ] ) != null; i++ ) {
				if ( byElement && elem ) {
					j = 0;

					if ( !context && elem.ownerDocument != document ) {
						setDocument( elem );
						xml = !documentIsHTML;
					}
					while ( ( matcher = elementMatchers[ j++ ] ) ) {
						if ( matcher( elem, context || document, xml ) ) {
							push.call( results, elem );
							break;
						}
					}
					if ( outermost ) {
						dirruns = dirrunsUnique;
					}
				}

				if ( bySet ) {

					if ( ( elem = !matcher && elem ) ) {
						matchedCount--;
					}

					if ( seed ) {
						unmatched.push( elem );
					}
				}
			}

			matchedCount += i;

			if ( bySet && i !== matchedCount ) {
				j = 0;
				while ( ( matcher = setMatchers[ j++ ] ) ) {
					matcher( unmatched, setMatched, context, xml );
				}

				if ( seed ) {

					if ( matchedCount > 0 ) {
						while ( i-- ) {
							if ( !( unmatched[ i ] || setMatched[ i ] ) ) {
								setMatched[ i ] = pop.call( results );
							}
						}
					}

					setMatched = condense( setMatched );
				}

				push.apply( results, setMatched );

				if ( outermost && !seed && setMatched.length > 0 &&
					( matchedCount + setMatchers.length ) > 1 ) {

					jQuery.uniqueSort( results );
				}
			}

			if ( outermost ) {
				dirruns = dirrunsUnique;
				outermostContext = contextBackup;
			}

			return unmatched;
		};

	return bySet ?
		markFunction( superMatcher ) :
		superMatcher;
}

function compile( selector, match  ) {
	var i,
		setMatchers = [],
		elementMatchers = [],
		cached = compilerCache[ selector + " " ];

	if ( !cached ) {

		if ( !match ) {
			match = tokenize( selector );
		}
		i = match.length;
		while ( i-- ) {
			cached = matcherFromTokens( match[ i ] );
			if ( cached[ expando ] ) {
				setMatchers.push( cached );
			} else {
				elementMatchers.push( cached );
			}
		}

		cached = compilerCache( selector,
			matcherFromGroupMatchers( elementMatchers, setMatchers ) );

		cached.selector = selector;
	}
	return cached;
}

function select( selector, context, results, seed ) {
	var i, tokens, token, type, find,
		compiled = typeof selector === "function" && selector,
		match = !seed && tokenize( ( selector = compiled.selector || selector ) );

	results = results || [];

	if ( match.length === 1 ) {

		tokens = match[ 0 ] = match[ 0 ].slice( 0 );
		if ( tokens.length > 2 && ( token = tokens[ 0 ] ).type === "ID" &&
				context.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[ 1 ].type ] ) {

			context = ( Expr.find.ID(
				token.matches[ 0 ].replace( runescape, funescape ),
				context
			) || [] )[ 0 ];
			if ( !context ) {
				return results;

			} else if ( compiled ) {
				context = context.parentNode;
			}

			selector = selector.slice( tokens.shift().value.length );
		}

		i = matchExpr.needsContext.test( selector ) ? 0 : tokens.length;
		while ( i-- ) {
			token = tokens[ i ];

			if ( Expr.relative[ ( type = token.type ) ] ) {
				break;
			}
			if ( ( find = Expr.find[ type ] ) ) {

				if ( ( seed = find(
					token.matches[ 0 ].replace( runescape, funescape ),
					rsibling.test( tokens[ 0 ].type ) &&
						testContext( context.parentNode ) || context
				) ) ) {

					tokens.splice( i, 1 );
					selector = seed.length && toSelector( tokens );
					if ( !selector ) {
						push.apply( results, seed );
						return results;
					}

					break;
				}
			}
		}
	}

	( compiled || compile( selector, match ) )(
		seed,
		context,
		!documentIsHTML,
		results,
		!context || rsibling.test( selector ) && testContext( context.parentNode ) || context
	);
	return results;
}


support.sortStable = expando.split( "" ).sort( sortOrder ).join( "" ) === expando;

setDocument();

support.sortDetached = assert( function( el ) {

	return el.compareDocumentPosition( document.createElement( "fieldset" ) ) & 1;
} );

jQuery.find = find;

jQuery.expr[ ":" ] = jQuery.expr.pseudos;
jQuery.unique = jQuery.uniqueSort;

find.compile = compile;
find.select = select;
find.setDocument = setDocument;
find.tokenize = tokenize;

find.escape = jQuery.escapeSelector;
find.getText = jQuery.text;
find.isXML = jQuery.isXMLDoc;
find.selectors = jQuery.expr;
find.support = jQuery.support;
find.uniqueSort = jQuery.uniqueSort;


} )();


var dir = function( elem, dir, until ) {
	var matched = [],
		truncate = until !== undefined;

	while ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {
		if ( elem.nodeType === 1 ) {
			if ( truncate && jQuery( elem ).is( until ) ) {
				break;
			}
			matched.push( elem );
		}
	}
	return matched;
};


var siblings = function( n, elem ) {
	var matched = [];

	for ( ; n; n = n.nextSibling ) {
		if ( n.nodeType === 1 && n !== elem ) {
			matched.push( n );
		}
	}

	return matched;
};


var rneedsContext = jQuery.expr.match.needsContext;

var rsingleTag = ( /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i );



function winnow( elements, qualifier, not ) {
	if ( isFunction( qualifier ) ) {
		return jQuery.grep( elements, function( elem, i ) {
			return !!qualifier.call( elem, i, elem ) !== not;
		} );
	}

	if ( qualifier.nodeType ) {
		return jQuery.grep( elements, function( elem ) {
			return ( elem === qualifier ) !== not;
		} );
	}

	if ( typeof qualifier !== "string" ) {
		return jQuery.grep( elements, function( elem ) {
			return ( indexOf.call( qualifier, elem ) > -1 ) !== not;
		} );
	}

	return jQuery.filter( qualifier, elements, not );
}

jQuery.filter = function( expr, elems, not ) {
	var elem = elems[ 0 ];

	if ( not ) {
		expr = ":not(" + expr + ")";
	}

	if ( elems.length === 1 && elem.nodeType === 1 ) {
		return jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];
	}

	return jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {
		return elem.nodeType === 1;
	} ) );
};

jQuery.fn.extend( {
	find: function( selector ) {
		var i, ret,
			len = this.length,
			self = this;

		if ( typeof selector !== "string" ) {
			return this.pushStack( jQuery( selector ).filter( function() {
				for ( i = 0; i < len; i++ ) {
					if ( jQuery.contains( self[ i ], this ) ) {
						return true;
					}
				}
			} ) );
		}

		ret = this.pushStack( [] );

		for ( i = 0; i < len; i++ ) {
			jQuery.find( selector, self[ i ], ret );
		}

		return len > 1 ? jQuery.uniqueSort( ret ) : ret;
	},
	filter: function( selector ) {
		return this.pushStack( winnow( this, selector || [], false ) );
	},
	not: function( selector ) {
		return this.pushStack( winnow( this, selector || [], true ) );
	},
	is: function( selector ) {
		return !!winnow(
			this,

			typeof selector === "string" && rneedsContext.test( selector ) ?
				jQuery( selector ) :
				selector || [],
			false
		).length;
	}
} );




var rootjQuery,

	rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,

	init = jQuery.fn.init = function( selector, context, root ) {
		var match, elem;

		if ( !selector ) {
			return this;
		}

		root = root || rootjQuery;

		if ( typeof selector === "string" ) {
			if ( selector[ 0 ] === "<" &&
				selector[ selector.length - 1 ] === ">" &&
				selector.length >= 3 ) {

				match = [ null, selector, null ];

			} else {
				match = rquickExpr.exec( selector );
			}

			if ( match && ( match[ 1 ] || !context ) ) {

				if ( match[ 1 ] ) {
					context = context instanceof jQuery ? context[ 0 ] : context;

					jQuery.merge( this, jQuery.parseHTML(
						match[ 1 ],
						context && context.nodeType ? context.ownerDocument || context : document,
						true
					) );

					if ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {
						for ( match in context ) {

							if ( isFunction( this[ match ] ) ) {
								this[ match ]( context[ match ] );

							} else {
								this.attr( match, context[ match ] );
							}
						}
					}

					return this;

				} else {
					elem = document.getElementById( match[ 2 ] );

					if ( elem ) {

						this[ 0 ] = elem;
						this.length = 1;
					}
					return this;
				}

			} else if ( !context || context.jquery ) {
				return ( context || root ).find( selector );

			} else {
				return this.constructor( context ).find( selector );
			}

		} else if ( selector.nodeType ) {
			this[ 0 ] = selector;
			this.length = 1;
			return this;

		} else if ( isFunction( selector ) ) {
			return root.ready !== undefined ?
				root.ready( selector ) :

				selector( jQuery );
		}

		return jQuery.makeArray( selector, this );
	};

init.prototype = jQuery.fn;

rootjQuery = jQuery( document );


var rparentsprev = /^(?:parents|prev(?:Until|All))/,

	guaranteedUnique = {
		children: true,
		contents: true,
		next: true,
		prev: true
	};

jQuery.fn.extend( {
	has: function( target ) {
		var targets = jQuery( target, this ),
			l = targets.length;

		return this.filter( function() {
			var i = 0;
			for ( ; i < l; i++ ) {
				if ( jQuery.contains( this, targets[ i ] ) ) {
					return true;
				}
			}
		} );
	},

	closest: function( selectors, context ) {
		var cur,
			i = 0,
			l = this.length,
			matched = [],
			targets = typeof selectors !== "string" && jQuery( selectors );

		if ( !rneedsContext.test( selectors ) ) {
			for ( ; i < l; i++ ) {
				for ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {

					if ( cur.nodeType < 11 && ( targets ?
						targets.index( cur ) > -1 :

						cur.nodeType === 1 &&
							jQuery.find.matchesSelector( cur, selectors ) ) ) {

						matched.push( cur );
						break;
					}
				}
			}
		}

		return this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );
	},

	index: function( elem ) {

		if ( !elem ) {
			return ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;
		}

		if ( typeof elem === "string" ) {
			return indexOf.call( jQuery( elem ), this[ 0 ] );
		}

		return indexOf.call( this,

			elem.jquery ? elem[ 0 ] : elem
		);
	},

	add: function( selector, context ) {
		return this.pushStack(
			jQuery.uniqueSort(
				jQuery.merge( this.get(), jQuery( selector, context ) )
			)
		);
	},

	addBack: function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	}
} );

function sibling( cur, dir ) {
	while ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}
	return cur;
}

jQuery.each( {
	parent: function( elem ) {
		var parent = elem.parentNode;
		return parent && parent.nodeType !== 11 ? parent : null;
	},
	parents: function( elem ) {
		return dir( elem, "parentNode" );
	},
	parentsUntil: function( elem, _i, until ) {
		return dir( elem, "parentNode", until );
	},
	next: function( elem ) {
		return sibling( elem, "nextSibling" );
	},
	prev: function( elem ) {
		return sibling( elem, "previousSibling" );
	},
	nextAll: function( elem ) {
		return dir( elem, "nextSibling" );
	},
	prevAll: function( elem ) {
		return dir( elem, "previousSibling" );
	},
	nextUntil: function( elem, _i, until ) {
		return dir( elem, "nextSibling", until );
	},
	prevUntil: function( elem, _i, until ) {
		return dir( elem, "previousSibling", until );
	},
	siblings: function( elem ) {
		return siblings( ( elem.parentNode || {} ).firstChild, elem );
	},
	children: function( elem ) {
		return siblings( elem.firstChild );
	},
	contents: function( elem ) {
		if ( elem.contentDocument != null &&

			getProto( elem.contentDocument ) ) {

			return elem.contentDocument;
		}

		if ( nodeName( elem, "template" ) ) {
			elem = elem.content || elem;
		}

		return jQuery.merge( [], elem.childNodes );
	}
}, function( name, fn ) {
	jQuery.fn[ name ] = function( until, selector ) {
		var matched = jQuery.map( this, fn, until );

		if ( name.slice( -5 ) !== "Until" ) {
			selector = until;
		}

		if ( selector && typeof selector === "string" ) {
			matched = jQuery.filter( selector, matched );
		}

		if ( this.length > 1 ) {

			if ( !guaranteedUnique[ name ] ) {
				jQuery.uniqueSort( matched );
			}

			if ( rparentsprev.test( name ) ) {
				matched.reverse();
			}
		}

		return this.pushStack( matched );
	};
} );
var rnothtmlwhite = ( /[^\x20\t\r\n\f]+/g );



function createOptions( options ) {
	var object = {};
	jQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {
		object[ flag ] = true;
	} );
	return object;
}

jQuery.Callbacks = function( options ) {

	options = typeof options === "string" ?
		createOptions( options ) :
		jQuery.extend( {}, options );

	var 
		firing,

		memory,

		fired,

		locked,

		list = [],

		queue = [],

		firingIndex = -1,

		fire = function() {

			locked = locked || options.once;

			fired = firing = true;
			for ( ; queue.length; firingIndex = -1 ) {
				memory = queue.shift();
				while ( ++firingIndex < list.length ) {

					if ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&
						options.stopOnFalse ) {

						firingIndex = list.length;
						memory = false;
					}
				}
			}

			if ( !options.memory ) {
				memory = false;
			}

			firing = false;

			if ( locked ) {

				if ( memory ) {
					list = [];

				} else {
					list = "";
				}
			}
		},

		self = {

			add: function() {
				if ( list ) {

					if ( memory && !firing ) {
						firingIndex = list.length - 1;
						queue.push( memory );
					}

					( function add( args ) {
						jQuery.each( args, function( _, arg ) {
							if ( isFunction( arg ) ) {
								if ( !options.unique || !self.has( arg ) ) {
									list.push( arg );
								}
							} else if ( arg && arg.length && toType( arg ) !== "string" ) {

								add( arg );
							}
						} );
					} )( arguments );

					if ( memory && !firing ) {
						fire();
					}
				}
				return this;
			},

			remove: function() {
				jQuery.each( arguments, function( _, arg ) {
					var index;
					while ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {
						list.splice( index, 1 );

						if ( index <= firingIndex ) {
							firingIndex--;
						}
					}
				} );
				return this;
			},

			has: function( fn ) {
				return fn ?
					jQuery.inArray( fn, list ) > -1 :
					list.length > 0;
			},

			empty: function() {
				if ( list ) {
					list = [];
				}
				return this;
			},

			disable: function() {
				locked = queue = [];
				list = memory = "";
				return this;
			},
			disabled: function() {
				return !list;
			},

			lock: function() {
				locked = queue = [];
				if ( !memory && !firing ) {
					list = memory = "";
				}
				return this;
			},
			locked: function() {
				return !!locked;
			},

			fireWith: function( context, args ) {
				if ( !locked ) {
					args = args || [];
					args = [ context, args.slice ? args.slice() : args ];
					queue.push( args );
					if ( !firing ) {
						fire();
					}
				}
				return this;
			},

			fire: function() {
				self.fireWith( this, arguments );
				return this;
			},

			fired: function() {
				return !!fired;
			}
		};

	return self;
};


function Identity( v ) {
	return v;
}
function Thrower( ex ) {
	throw ex;
}

function adoptValue( value, resolve, reject, noValue ) {
	var method;

	try {

		if ( value && isFunction( ( method = value.promise ) ) ) {
			method.call( value ).done( resolve ).fail( reject );

		} else if ( value && isFunction( ( method = value.then ) ) ) {
			method.call( value, resolve, reject );

		} else {

			resolve.apply( undefined, [ value ].slice( noValue ) );
		}

	} catch ( value ) {

		reject.apply( undefined, [ value ] );
	}
}

jQuery.extend( {

	Deferred: function( func ) {
		var tuples = [

				[ "notify", "progress", jQuery.Callbacks( "memory" ),
					jQuery.Callbacks( "memory" ), 2 ],
				[ "resolve", "done", jQuery.Callbacks( "once memory" ),
					jQuery.Callbacks( "once memory" ), 0, "resolved" ],
				[ "reject", "fail", jQuery.Callbacks( "once memory" ),
					jQuery.Callbacks( "once memory" ), 1, "rejected" ]
			],
			state = "pending",
			promise = {
				state: function() {
					return state;
				},
				always: function() {
					deferred.done( arguments ).fail( arguments );
					return this;
				},
				"catch": function( fn ) {
					return promise.then( null, fn );
				},

				pipe: function(  ) {
					var fns = arguments;

					return jQuery.Deferred( function( newDefer ) {
						jQuery.each( tuples, function( _i, tuple ) {

							var fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];

							deferred[ tuple[ 1 ] ]( function() {
								var returned = fn && fn.apply( this, arguments );
								if ( returned && isFunction( returned.promise ) ) {
									returned.promise()
										.progress( newDefer.notify )
										.done( newDefer.resolve )
										.fail( newDefer.reject );
								} else {
									newDefer[ tuple[ 0 ] + "With" ](
										this,
										fn ? [ returned ] : arguments
									);
								}
							} );
						} );
						fns = null;
					} ).promise();
				},
				then: function( onFulfilled, onRejected, onProgress ) {
					var maxDepth = 0;
					function resolve( depth, deferred, handler, special ) {
						return function() {
							var that = this,
								args = arguments,
								mightThrow = function() {
									var returned, then;

									if ( depth < maxDepth ) {
										return;
									}

									returned = handler.apply( that, args );

									if ( returned === deferred.promise() ) {
										throw new TypeError( "Thenable self-resolution" );
									}

									then = returned &&

										( typeof returned === "object" ||
											typeof returned === "function" ) &&
										returned.then;

									if ( isFunction( then ) ) {

										if ( special ) {
											then.call(
												returned,
												resolve( maxDepth, deferred, Identity, special ),
												resolve( maxDepth, deferred, Thrower, special )
											);

										} else {

											maxDepth++;

											then.call(
												returned,
												resolve( maxDepth, deferred, Identity, special ),
												resolve( maxDepth, deferred, Thrower, special ),
												resolve( maxDepth, deferred, Identity,
													deferred.notifyWith )
											);
										}

									} else {

										if ( handler !== Identity ) {
											that = undefined;
											args = [ returned ];
										}

										( special || deferred.resolveWith )( that, args );
									}
								},

								process = special ?
									mightThrow :
									function() {
										try {
											mightThrow();
										} catch ( e ) {

											if ( jQuery.Deferred.exceptionHook ) {
												jQuery.Deferred.exceptionHook( e,
													process.error );
											}

											if ( depth + 1 >= maxDepth ) {

												if ( handler !== Thrower ) {
													that = undefined;
													args = [ e ];
												}

												deferred.rejectWith( that, args );
											}
										}
									};

							if ( depth ) {
								process();
							} else {

								if ( jQuery.Deferred.getErrorHook ) {
									process.error = jQuery.Deferred.getErrorHook();

								} else if ( jQuery.Deferred.getStackHook ) {
									process.error = jQuery.Deferred.getStackHook();
								}
								window.setTimeout( process );
							}
						};
					}

					return jQuery.Deferred( function( newDefer ) {

						tuples[ 0 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onProgress ) ?
									onProgress :
									Identity,
								newDefer.notifyWith
							)
						);

						tuples[ 1 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onFulfilled ) ?
									onFulfilled :
									Identity
							)
						);

						tuples[ 2 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onRejected ) ?
									onRejected :
									Thrower
							)
						);
					} ).promise();
				},

				promise: function( obj ) {
					return obj != null ? jQuery.extend( obj, promise ) : promise;
				}
			},
			deferred = {};

		jQuery.each( tuples, function( i, tuple ) {
			var list = tuple[ 2 ],
				stateString = tuple[ 5 ];

			promise[ tuple[ 1 ] ] = list.add;

			if ( stateString ) {
				list.add(
					function() {

						state = stateString;
					},

					tuples[ 3 - i ][ 2 ].disable,

					tuples[ 3 - i ][ 3 ].disable,

					tuples[ 0 ][ 2 ].lock,

					tuples[ 0 ][ 3 ].lock
				);
			}

			list.add( tuple[ 3 ].fire );

			deferred[ tuple[ 0 ] ] = function() {
				deferred[ tuple[ 0 ] + "With" ]( this === deferred ? undefined : this, arguments );
				return this;
			};

			deferred[ tuple[ 0 ] + "With" ] = list.fireWith;
		} );

		promise.promise( deferred );

		if ( func ) {
			func.call( deferred, deferred );
		}

		return deferred;
	},

	when: function( singleValue ) {
		var

			remaining = arguments.length,

			i = remaining,

			resolveContexts = Array( i ),
			resolveValues = slice.call( arguments ),

			primary = jQuery.Deferred(),

			updateFunc = function( i ) {
				return function( value ) {
					resolveContexts[ i ] = this;
					resolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;
					if ( !( --remaining ) ) {
						primary.resolveWith( resolveContexts, resolveValues );
					}
				};
			};

		if ( remaining <= 1 ) {
			adoptValue( singleValue, primary.done( updateFunc( i ) ).resolve, primary.reject,
				!remaining );

			if ( primary.state() === "pending" ||
				isFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {

				return primary.then();
			}
		}

		while ( i-- ) {
			adoptValue( resolveValues[ i ], updateFunc( i ), primary.reject );
		}

		return primary.promise();
	}
} );


var rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;

jQuery.Deferred.exceptionHook = function( error, asyncError ) {

	if ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {
		window.console.warn( "jQuery.Deferred exception: " + error.message,
			error.stack, asyncError );
	}
};




jQuery.readyException = function( error ) {
	window.setTimeout( function() {
		throw error;
	} );
};




var readyList = jQuery.Deferred();

jQuery.fn.ready = function( fn ) {

	readyList
		.then( fn )

		.catch( function( error ) {
			jQuery.readyException( error );
		} );

	return this;
};

jQuery.extend( {

	isReady: false,

	readyWait: 1,

	ready: function( wait ) {

		if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {
			return;
		}

		jQuery.isReady = true;

		if ( wait !== true && --jQuery.readyWait > 0 ) {
			return;
		}

		readyList.resolveWith( document, [ jQuery ] );
	}
} );

jQuery.ready.then = readyList.then;

function completed() {
	document.removeEventListener( "DOMContentLoaded", completed );
	window.removeEventListener( "load", completed );
	jQuery.ready();
}

if ( document.readyState === "complete" ||
	( document.readyState !== "loading" && !document.documentElement.doScroll ) ) {

	window.setTimeout( jQuery.ready );

} else {

	document.addEventListener( "DOMContentLoaded", completed );

	window.addEventListener( "load", completed );
}




var access = function( elems, fn, key, value, chainable, emptyGet, raw ) {
	var i = 0,
		len = elems.length,
		bulk = key == null;

	if ( toType( key ) === "object" ) {
		chainable = true;
		for ( i in key ) {
			access( elems, fn, i, key[ i ], true, emptyGet, raw );
		}

	} else if ( value !== undefined ) {
		chainable = true;

		if ( !isFunction( value ) ) {
			raw = true;
		}

		if ( bulk ) {

			if ( raw ) {
				fn.call( elems, value );
				fn = null;

			} else {
				bulk = fn;
				fn = function( elem, _key, value ) {
					return bulk.call( jQuery( elem ), value );
				};
			}
		}

		if ( fn ) {
			for ( ; i < len; i++ ) {
				fn(
					elems[ i ], key, raw ?
						value :
						value.call( elems[ i ], i, fn( elems[ i ], key ) )
				);
			}
		}
	}

	if ( chainable ) {
		return elems;
	}

	if ( bulk ) {
		return fn.call( elems );
	}

	return len ? fn( elems[ 0 ], key ) : emptyGet;
};


var rmsPrefix = /^-ms-/,
	rdashAlpha = /-([a-z])/g;

function fcamelCase( _all, letter ) {
	return letter.toUpperCase();
}

function camelCase( string ) {
	return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );
}
var acceptData = function( owner ) {

	return owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );
};




function Data() {
	this.expando = jQuery.expando + Data.uid++;
}

Data.uid = 1;

Data.prototype = {

	cache: function( owner ) {

		var value = owner[ this.expando ];

		if ( !value ) {
			value = {};

			if ( acceptData( owner ) ) {

				if ( owner.nodeType ) {
					owner[ this.expando ] = value;

				} else {
					Object.defineProperty( owner, this.expando, {
						value: value,
						configurable: true
					} );
				}
			}
		}

		return value;
	},
	set: function( owner, data, value ) {
		var prop,
			cache = this.cache( owner );

		if ( typeof data === "string" ) {
			cache[ camelCase( data ) ] = value;

		} else {

			for ( prop in data ) {
				cache[ camelCase( prop ) ] = data[ prop ];
			}
		}
		return cache;
	},
	get: function( owner, key ) {
		return key === undefined ?
			this.cache( owner ) :

			owner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];
	},
	access: function( owner, key, value ) {

		if ( key === undefined ||
				( ( key && typeof key === "string" ) && value === undefined ) ) {

			return this.get( owner, key );
		}

		this.set( owner, key, value );

		return value !== undefined ? value : key;
	},
	remove: function( owner, key ) {
		var i,
			cache = owner[ this.expando ];

		if ( cache === undefined ) {
			return;
		}

		if ( key !== undefined ) {

			if ( Array.isArray( key ) ) {

				key = key.map( camelCase );
			} else {
				key = camelCase( key );

				key = key in cache ?
					[ key ] :
					( key.match( rnothtmlwhite ) || [] );
			}

			i = key.length;

			while ( i-- ) {
				delete cache[ key[ i ] ];
			}
		}

		if ( key === undefined || jQuery.isEmptyObject( cache ) ) {

			if ( owner.nodeType ) {
				owner[ this.expando ] = undefined;
			} else {
				delete owner[ this.expando ];
			}
		}
	},
	hasData: function( owner ) {
		var cache = owner[ this.expando ];
		return cache !== undefined && !jQuery.isEmptyObject( cache );
	}
};
var dataPriv = new Data();

var dataUser = new Data();




var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
	rmultiDash = /[A-Z]/g;

function getData( data ) {
	if ( data === "true" ) {
		return true;
	}

	if ( data === "false" ) {
		return false;
	}

	if ( data === "null" ) {
		return null;
	}

	if ( data === +data + "" ) {
		return +data;
	}

	if ( rbrace.test( data ) ) {
		return JSON.parse( data );
	}

	return data;
}

function dataAttr( elem, key, data ) {
	var name;

	if ( data === undefined && elem.nodeType === 1 ) {
		name = "data-" + key.replace( rmultiDash, "-$&" ).toLowerCase();
		data = elem.getAttribute( name );

		if ( typeof data === "string" ) {
			try {
				data = getData( data );
			} catch ( e ) {}

			dataUser.set( elem, key, data );
		} else {
			data = undefined;
		}
	}
	return data;
}

jQuery.extend( {
	hasData: function( elem ) {
		return dataUser.hasData( elem ) || dataPriv.hasData( elem );
	},

	data: function( elem, name, data ) {
		return dataUser.access( elem, name, data );
	},

	removeData: function( elem, name ) {
		dataUser.remove( elem, name );
	},

	_data: function( elem, name, data ) {
		return dataPriv.access( elem, name, data );
	},

	_removeData: function( elem, name ) {
		dataPriv.remove( elem, name );
	}
} );

jQuery.fn.extend( {
	data: function( key, value ) {
		var i, name, data,
			elem = this[ 0 ],
			attrs = elem && elem.attributes;

		if ( key === undefined ) {
			if ( this.length ) {
				data = dataUser.get( elem );

				if ( elem.nodeType === 1 && !dataPriv.get( elem, "hasDataAttrs" ) ) {
					i = attrs.length;
					while ( i-- ) {

						if ( attrs[ i ] ) {
							name = attrs[ i ].name;
							if ( name.indexOf( "data-" ) === 0 ) {
								name = camelCase( name.slice( 5 ) );
								dataAttr( elem, name, data[ name ] );
							}
						}
					}
					dataPriv.set( elem, "hasDataAttrs", true );
				}
			}

			return data;
		}

		if ( typeof key === "object" ) {
			return this.each( function() {
				dataUser.set( this, key );
			} );
		}

		return access( this, function( value ) {
			var data;

			if ( elem && value === undefined ) {

				data = dataUser.get( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				data = dataAttr( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				return;
			}

			this.each( function() {

				dataUser.set( this, key, value );
			} );
		}, null, value, arguments.length > 1, null, true );
	},

	removeData: function( key ) {
		return this.each( function() {
			dataUser.remove( this, key );
		} );
	}
} );


jQuery.extend( {
	queue: function( elem, type, data ) {
		var queue;

		if ( elem ) {
			type = ( type || "fx" ) + "queue";
			queue = dataPriv.get( elem, type );

			if ( data ) {
				if ( !queue || Array.isArray( data ) ) {
					queue = dataPriv.access( elem, type, jQuery.makeArray( data ) );
				} else {
					queue.push( data );
				}
			}
			return queue || [];
		}
	},

	dequeue: function( elem, type ) {
		type = type || "fx";

		var queue = jQuery.queue( elem, type ),
			startLength = queue.length,
			fn = queue.shift(),
			hooks = jQuery._queueHooks( elem, type ),
			next = function() {
				jQuery.dequeue( elem, type );
			};

		if ( fn === "inprogress" ) {
			fn = queue.shift();
			startLength--;
		}

		if ( fn ) {

			if ( type === "fx" ) {
				queue.unshift( "inprogress" );
			}

			delete hooks.stop;
			fn.call( elem, next, hooks );
		}

		if ( !startLength && hooks ) {
			hooks.empty.fire();
		}
	},

	_queueHooks: function( elem, type ) {
		var key = type + "queueHooks";
		return dataPriv.get( elem, key ) || dataPriv.access( elem, key, {
			empty: jQuery.Callbacks( "once memory" ).add( function() {
				dataPriv.remove( elem, [ type + "queue", key ] );
			} )
		} );
	}
} );

jQuery.fn.extend( {
	queue: function( type, data ) {
		var setter = 2;

		if ( typeof type !== "string" ) {
			data = type;
			type = "fx";
			setter--;
		}

		if ( arguments.length < setter ) {
			return jQuery.queue( this[ 0 ], type );
		}

		return data === undefined ?
			this :
			this.each( function() {
				var queue = jQuery.queue( this, type, data );

				jQuery._queueHooks( this, type );

				if ( type === "fx" && queue[ 0 ] !== "inprogress" ) {
					jQuery.dequeue( this, type );
				}
			} );
	},
	dequeue: function( type ) {
		return this.each( function() {
			jQuery.dequeue( this, type );
		} );
	},
	clearQueue: function( type ) {
		return this.queue( type || "fx", [] );
	},

	promise: function( type, obj ) {
		var tmp,
			count = 1,
			defer = jQuery.Deferred(),
			elements = this,
			i = this.length,
			resolve = function() {
				if ( !( --count ) ) {
					defer.resolveWith( elements, [ elements ] );
				}
			};

		if ( typeof type !== "string" ) {
			obj = type;
			type = undefined;
		}
		type = type || "fx";

		while ( i-- ) {
			tmp = dataPriv.get( elements[ i ], type + "queueHooks" );
			if ( tmp && tmp.empty ) {
				count++;
				tmp.empty.add( resolve );
			}
		}
		resolve();
		return defer.promise( obj );
	}
} );
var pnum = ( /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/ ).source;

var rcssNum = new RegExp( "^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i" );


var cssExpand = [ "Top", "Right", "Bottom", "Left" ];

var documentElement = document.documentElement;



	var isAttached = function( elem ) {
			return jQuery.contains( elem.ownerDocument, elem );
		},
		composed = { composed: true };

	if ( documentElement.getRootNode ) {
		isAttached = function( elem ) {
			return jQuery.contains( elem.ownerDocument, elem ) ||
				elem.getRootNode( composed ) === elem.ownerDocument;
		};
	}
var isHiddenWithinTree = function( elem, el ) {

		elem = el || elem;

		return elem.style.display === "none" ||
			elem.style.display === "" &&

			isAttached( elem ) &&

			jQuery.css( elem, "display" ) === "none";
	};



function adjustCSS( elem, prop, valueParts, tween ) {
	var adjusted, scale,
		maxIterations = 20,
		currentValue = tween ?
			function() {
				return tween.cur();
			} :
			function() {
				return jQuery.css( elem, prop, "" );
			},
		initial = currentValue(),
		unit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? "" : "px" ),

		initialInUnit = elem.nodeType &&
			( jQuery.cssNumber[ prop ] || unit !== "px" && +initial ) &&
			rcssNum.exec( jQuery.css( elem, prop ) );

	if ( initialInUnit && initialInUnit[ 3 ] !== unit ) {

		initial = initial / 2;

		unit = unit || initialInUnit[ 3 ];

		initialInUnit = +initial || 1;

		while ( maxIterations-- ) {

			jQuery.style( elem, prop, initialInUnit + unit );
			if ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {
				maxIterations = 0;
			}
			initialInUnit = initialInUnit / scale;

		}

		initialInUnit = initialInUnit * 2;
		jQuery.style( elem, prop, initialInUnit + unit );

		valueParts = valueParts || [];
	}

	if ( valueParts ) {
		initialInUnit = +initialInUnit || +initial || 0;

		adjusted = valueParts[ 1 ] ?
			initialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :
			+valueParts[ 2 ];
		if ( tween ) {
			tween.unit = unit;
			tween.start = initialInUnit;
			tween.end = adjusted;
		}
	}
	return adjusted;
}


var defaultDisplayMap = {};

function getDefaultDisplay( elem ) {
	var temp,
		doc = elem.ownerDocument,
		nodeName = elem.nodeName,
		display = defaultDisplayMap[ nodeName ];

	if ( display ) {
		return display;
	}

	temp = doc.body.appendChild( doc.createElement( nodeName ) );
	display = jQuery.css( temp, "display" );

	temp.parentNode.removeChild( temp );

	if ( display === "none" ) {
		display = "block";
	}
	defaultDisplayMap[ nodeName ] = display;

	return display;
}

function showHide( elements, show ) {
	var display, elem,
		values = [],
		index = 0,
		length = elements.length;

	for ( ; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}

		display = elem.style.display;
		if ( show ) {

			if ( display === "none" ) {
				values[ index ] = dataPriv.get( elem, "display" ) || null;
				if ( !values[ index ] ) {
					elem.style.display = "";
				}
			}
			if ( elem.style.display === "" && isHiddenWithinTree( elem ) ) {
				values[ index ] = getDefaultDisplay( elem );
			}
		} else {
			if ( display !== "none" ) {
				values[ index ] = "none";

				dataPriv.set( elem, "display", display );
			}
		}
	}

	for ( index = 0; index < length; index++ ) {
		if ( values[ index ] != null ) {
			elements[ index ].style.display = values[ index ];
		}
	}

	return elements;
}

jQuery.fn.extend( {
	show: function() {
		return showHide( this, true );
	},
	hide: function() {
		return showHide( this );
	},
	toggle: function( state ) {
		if ( typeof state === "boolean" ) {
			return state ? this.show() : this.hide();
		}

		return this.each( function() {
			if ( isHiddenWithinTree( this ) ) {
				jQuery( this ).show();
			} else {
				jQuery( this ).hide();
			}
		} );
	}
} );
var rcheckableType = ( /^(?:checkbox|radio)$/i );

var rtagName = ( /<([a-z][^\/\0>\x20\t\r\n\f]*)/i );

var rscriptType = ( /^$|^module$|\/(?:java|ecma)script/i );



( function() {
	var fragment = document.createDocumentFragment(),
		div = fragment.appendChild( document.createElement( "div" ) ),
		input = document.createElement( "input" );

	input.setAttribute( "type", "radio" );
	input.setAttribute( "checked", "checked" );
	input.setAttribute( "name", "t" );

	div.appendChild( input );

	support.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;

	div.innerHTML = "<textarea>x</textarea>";
	support.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;

	div.innerHTML = "<option></option>";
	support.option = !!div.lastChild;
} )();


var wrapMap = {

	thead: [ 1, "<table>", "</table>" ],
	col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
	tr: [ 2, "<table><tbody>", "</tbody></table>" ],
	td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],

	_default: [ 0, "", "" ]
};

wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
wrapMap.th = wrapMap.td;

if ( !support.option ) {
	wrapMap.optgroup = wrapMap.option = [ 1, "<select multiple='multiple'>", "</select>" ];
}


function getAll( context, tag ) {

	var ret;

	if ( typeof context.getElementsByTagName !== "undefined" ) {
		ret = context.getElementsByTagName( tag || "*" );

	} else if ( typeof context.querySelectorAll !== "undefined" ) {
		ret = context.querySelectorAll( tag || "*" );

	} else {
		ret = [];
	}

	if ( tag === undefined || tag && nodeName( context, tag ) ) {
		return jQuery.merge( [ context ], ret );
	}

	return ret;
}


function setGlobalEval( elems, refElements ) {
	var i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		dataPriv.set(
			elems[ i ],
			"globalEval",
			!refElements || dataPriv.get( refElements[ i ], "globalEval" )
		);
	}
}


var rhtml = /<|&#?\w+;/;

function buildFragment( elems, context, scripts, selection, ignored ) {
	var elem, tmp, tag, wrap, attached, j,
		fragment = context.createDocumentFragment(),
		nodes = [],
		i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		elem = elems[ i ];

		if ( elem || elem === 0 ) {

			if ( toType( elem ) === "object" ) {

				jQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );

			} else if ( !rhtml.test( elem ) ) {
				nodes.push( context.createTextNode( elem ) );

			} else {
				tmp = tmp || fragment.appendChild( context.createElement( "div" ) );

				tag = ( rtagName.exec( elem ) || [ "", "" ] )[ 1 ].toLowerCase();
				wrap = wrapMap[ tag ] || wrapMap._default;
				tmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];

				j = wrap[ 0 ];
				while ( j-- ) {
					tmp = tmp.lastChild;
				}

				jQuery.merge( nodes, tmp.childNodes );

				tmp = fragment.firstChild;

				tmp.textContent = "";
			}
		}
	}

	fragment.textContent = "";

	i = 0;
	while ( ( elem = nodes[ i++ ] ) ) {

		if ( selection && jQuery.inArray( elem, selection ) > -1 ) {
			if ( ignored ) {
				ignored.push( elem );
			}
			continue;
		}

		attached = isAttached( elem );

		tmp = getAll( fragment.appendChild( elem ), "script" );

		if ( attached ) {
			setGlobalEval( tmp );
		}

		if ( scripts ) {
			j = 0;
			while ( ( elem = tmp[ j++ ] ) ) {
				if ( rscriptType.test( elem.type || "" ) ) {
					scripts.push( elem );
				}
			}
		}
	}

	return fragment;
}


var rtypenamespace = /^([^.]*)(?:\.(.+)|)/;

function returnTrue() {
	return true;
}

function returnFalse() {
	return false;
}

function on( elem, types, selector, data, fn, one ) {
	var origFn, type;

	if ( typeof types === "object" ) {

		if ( typeof selector !== "string" ) {

			data = data || selector;
			selector = undefined;
		}
		for ( type in types ) {
			on( elem, type, selector, data, types[ type ], one );
		}
		return elem;
	}

	if ( data == null && fn == null ) {

		fn = selector;
		data = selector = undefined;
	} else if ( fn == null ) {
		if ( typeof selector === "string" ) {

			fn = data;
			data = undefined;
		} else {

			fn = data;
			data = selector;
			selector = undefined;
		}
	}
	if ( fn === false ) {
		fn = returnFalse;
	} else if ( !fn ) {
		return elem;
	}

	if ( one === 1 ) {
		origFn = fn;
		fn = function( event ) {

			jQuery().off( event );
			return origFn.apply( this, arguments );
		};

		fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );
	}
	return elem.each( function() {
		jQuery.event.add( this, types, fn, data, selector );
	} );
}

jQuery.event = {

	global: {},

	add: function( elem, types, handler, data, selector ) {

		var handleObjIn, eventHandle, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = dataPriv.get( elem );

		if ( !acceptData( elem ) ) {
			return;
		}

		if ( handler.handler ) {
			handleObjIn = handler;
			handler = handleObjIn.handler;
			selector = handleObjIn.selector;
		}

		if ( selector ) {
			jQuery.find.matchesSelector( documentElement, selector );
		}

		if ( !handler.guid ) {
			handler.guid = jQuery.guid++;
		}

		if ( !( events = elemData.events ) ) {
			events = elemData.events = Object.create( null );
		}
		if ( !( eventHandle = elemData.handle ) ) {
			eventHandle = elemData.handle = function( e ) {

				return typeof jQuery !== "undefined" && jQuery.event.triggered !== e.type ?
					jQuery.event.dispatch.apply( elem, arguments ) : undefined;
			};
		}

		types = ( types || "" ).match( rnothtmlwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			if ( !type ) {
				continue;
			}

			special = jQuery.event.special[ type ] || {};

			type = ( selector ? special.delegateType : special.bindType ) || type;

			special = jQuery.event.special[ type ] || {};

			handleObj = jQuery.extend( {
				type: type,
				origType: origType,
				data: data,
				handler: handler,
				guid: handler.guid,
				selector: selector,
				needsContext: selector && jQuery.expr.match.needsContext.test( selector ),
				namespace: namespaces.join( "." )
			}, handleObjIn );

			if ( !( handlers = events[ type ] ) ) {
				handlers = events[ type ] = [];
				handlers.delegateCount = 0;

				if ( !special.setup ||
					special.setup.call( elem, data, namespaces, eventHandle ) === false ) {

					if ( elem.addEventListener ) {
						elem.addEventListener( type, eventHandle );
					}
				}
			}

			if ( special.add ) {
				special.add.call( elem, handleObj );

				if ( !handleObj.handler.guid ) {
					handleObj.handler.guid = handler.guid;
				}
			}

			if ( selector ) {
				handlers.splice( handlers.delegateCount++, 0, handleObj );
			} else {
				handlers.push( handleObj );
			}

			jQuery.event.global[ type ] = true;
		}

	},

	remove: function( elem, types, handler, selector, mappedTypes ) {

		var j, origCount, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = dataPriv.hasData( elem ) && dataPriv.get( elem );

		if ( !elemData || !( events = elemData.events ) ) {
			return;
		}

		types = ( types || "" ).match( rnothtmlwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			if ( !type ) {
				for ( type in events ) {
					jQuery.event.remove( elem, type + types[ t ], handler, selector, true );
				}
				continue;
			}

			special = jQuery.event.special[ type ] || {};
			type = ( selector ? special.delegateType : special.bindType ) || type;
			handlers = events[ type ] || [];
			tmp = tmp[ 2 ] &&
				new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" );

			origCount = j = handlers.length;
			while ( j-- ) {
				handleObj = handlers[ j ];

				if ( ( mappedTypes || origType === handleObj.origType ) &&
					( !handler || handler.guid === handleObj.guid ) &&
					( !tmp || tmp.test( handleObj.namespace ) ) &&
					( !selector || selector === handleObj.selector ||
						selector === "**" && handleObj.selector ) ) {
					handlers.splice( j, 1 );

					if ( handleObj.selector ) {
						handlers.delegateCount--;
					}
					if ( special.remove ) {
						special.remove.call( elem, handleObj );
					}
				}
			}

			if ( origCount && !handlers.length ) {
				if ( !special.teardown ||
					special.teardown.call( elem, namespaces, elemData.handle ) === false ) {

					jQuery.removeEvent( elem, type, elemData.handle );
				}

				delete events[ type ];
			}
		}

		if ( jQuery.isEmptyObject( events ) ) {
			dataPriv.remove( elem, "handle events" );
		}
	},

	dispatch: function( nativeEvent ) {

		var i, j, ret, matched, handleObj, handlerQueue,
			args = new Array( arguments.length ),

			event = jQuery.event.fix( nativeEvent ),

			handlers = (
				dataPriv.get( this, "events" ) || Object.create( null )
			)[ event.type ] || [],
			special = jQuery.event.special[ event.type ] || {};

		args[ 0 ] = event;

		for ( i = 1; i < arguments.length; i++ ) {
			args[ i ] = arguments[ i ];
		}

		event.delegateTarget = this;

		if ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {
			return;
		}

		handlerQueue = jQuery.event.handlers.call( this, event, handlers );

		i = 0;
		while ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {
			event.currentTarget = matched.elem;

			j = 0;
			while ( ( handleObj = matched.handlers[ j++ ] ) &&
				!event.isImmediatePropagationStopped() ) {

				if ( !event.rnamespace || handleObj.namespace === false ||
					event.rnamespace.test( handleObj.namespace ) ) {

					event.handleObj = handleObj;
					event.data = handleObj.data;

					ret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||
						handleObj.handler ).apply( matched.elem, args );

					if ( ret !== undefined ) {
						if ( ( event.result = ret ) === false ) {
							event.preventDefault();
							event.stopPropagation();
						}
					}
				}
			}
		}

		if ( special.postDispatch ) {
			special.postDispatch.call( this, event );
		}

		return event.result;
	},

	handlers: function( event, handlers ) {
		var i, handleObj, sel, matchedHandlers, matchedSelectors,
			handlerQueue = [],
			delegateCount = handlers.delegateCount,
			cur = event.target;

		if ( delegateCount &&

			cur.nodeType &&

			!( event.type === "click" && event.button >= 1 ) ) {

			for ( ; cur !== this; cur = cur.parentNode || this ) {

				if ( cur.nodeType === 1 && !( event.type === "click" && cur.disabled === true ) ) {
					matchedHandlers = [];
					matchedSelectors = {};
					for ( i = 0; i < delegateCount; i++ ) {
						handleObj = handlers[ i ];

						sel = handleObj.selector + " ";

						if ( matchedSelectors[ sel ] === undefined ) {
							matchedSelectors[ sel ] = handleObj.needsContext ?
								jQuery( sel, this ).index( cur ) > -1 :
								jQuery.find( sel, this, null, [ cur ] ).length;
						}
						if ( matchedSelectors[ sel ] ) {
							matchedHandlers.push( handleObj );
						}
					}
					if ( matchedHandlers.length ) {
						handlerQueue.push( { elem: cur, handlers: matchedHandlers } );
					}
				}
			}
		}

		cur = this;
		if ( delegateCount < handlers.length ) {
			handlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );
		}

		return handlerQueue;
	},

	addProp: function( name, hook ) {
		Object.defineProperty( jQuery.Event.prototype, name, {
			enumerable: true,
			configurable: true,

			get: isFunction( hook ) ?
				function() {
					if ( this.originalEvent ) {
						return hook( this.originalEvent );
					}
				} :
				function() {
					if ( this.originalEvent ) {
						return this.originalEvent[ name ];
					}
				},

			set: function( value ) {
				Object.defineProperty( this, name, {
					enumerable: true,
					configurable: true,
					writable: true,
					value: value
				} );
			}
		} );
	},

	fix: function( originalEvent ) {
		return originalEvent[ jQuery.expando ] ?
			originalEvent :
			new jQuery.Event( originalEvent );
	},

	special: {
		load: {

			noBubble: true
		},
		click: {

			setup: function( data ) {

				var el = this || data;

				if ( rcheckableType.test( el.type ) &&
					el.click && nodeName( el, "input" ) ) {

					leverageNative( el, "click", true );
				}

				return false;
			},
			trigger: function( data ) {

				var el = this || data;

				if ( rcheckableType.test( el.type ) &&
					el.click && nodeName( el, "input" ) ) {

					leverageNative( el, "click" );
				}

				return true;
			},

			_default: function( event ) {
				var target = event.target;
				return rcheckableType.test( target.type ) &&
					target.click && nodeName( target, "input" ) &&
					dataPriv.get( target, "click" ) ||
					nodeName( target, "a" );
			}
		},

		beforeunload: {
			postDispatch: function( event ) {

				if ( event.result !== undefined && event.originalEvent ) {
					event.originalEvent.returnValue = event.result;
				}
			}
		}
	}
};

function leverageNative( el, type, isSetup ) {

	if ( !isSetup ) {
		if ( dataPriv.get( el, type ) === undefined ) {
			jQuery.event.add( el, type, returnTrue );
		}
		return;
	}

	dataPriv.set( el, type, false );
	jQuery.event.add( el, type, {
		namespace: false,
		handler: function( event ) {
			var result,
				saved = dataPriv.get( this, type );

			if ( ( event.isTrigger & 1 ) && this[ type ] ) {

				if ( !saved ) {

					saved = slice.call( arguments );
					dataPriv.set( this, type, saved );

					this[ type ]();
					result = dataPriv.get( this, type );
					dataPriv.set( this, type, false );

					if ( saved !== result ) {

						event.stopImmediatePropagation();
						event.preventDefault();

						return result;
					}

				} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {
					event.stopPropagation();
				}

			} else if ( saved ) {

				dataPriv.set( this, type, jQuery.event.trigger(
					saved[ 0 ],
					saved.slice( 1 ),
					this
				) );

				event.stopPropagation();
				event.isImmediatePropagationStopped = returnTrue;
			}
		}
	} );
}

jQuery.removeEvent = function( elem, type, handle ) {

	if ( elem.removeEventListener ) {
		elem.removeEventListener( type, handle );
	}
};

jQuery.Event = function( src, props ) {

	if ( !( this instanceof jQuery.Event ) ) {
		return new jQuery.Event( src, props );
	}

	if ( src && src.type ) {
		this.originalEvent = src;
		this.type = src.type;

		this.isDefaultPrevented = src.defaultPrevented ||
				src.defaultPrevented === undefined &&

				src.returnValue === false ?
			returnTrue :
			returnFalse;

		this.target = ( src.target && src.target.nodeType === 3 ) ?
			src.target.parentNode :
			src.target;

		this.currentTarget = src.currentTarget;
		this.relatedTarget = src.relatedTarget;

	} else {
		this.type = src;
	}

	if ( props ) {
		jQuery.extend( this, props );
	}

	this.timeStamp = src && src.timeStamp || Date.now();

	this[ jQuery.expando ] = true;
};

jQuery.Event.prototype = {
	constructor: jQuery.Event,
	isDefaultPrevented: returnFalse,
	isPropagationStopped: returnFalse,
	isImmediatePropagationStopped: returnFalse,
	isSimulated: false,

	preventDefault: function() {
		var e = this.originalEvent;

		this.isDefaultPrevented = returnTrue;

		if ( e && !this.isSimulated ) {
			e.preventDefault();
		}
	},
	stopPropagation: function() {
		var e = this.originalEvent;

		this.isPropagationStopped = returnTrue;

		if ( e && !this.isSimulated ) {
			e.stopPropagation();
		}
	},
	stopImmediatePropagation: function() {
		var e = this.originalEvent;

		this.isImmediatePropagationStopped = returnTrue;

		if ( e && !this.isSimulated ) {
			e.stopImmediatePropagation();
		}

		this.stopPropagation();
	}
};

jQuery.each( {
	altKey: true,
	bubbles: true,
	cancelable: true,
	changedTouches: true,
	ctrlKey: true,
	detail: true,
	eventPhase: true,
	metaKey: true,
	pageX: true,
	pageY: true,
	shiftKey: true,
	view: true,
	"char": true,
	code: true,
	charCode: true,
	key: true,
	keyCode: true,
	button: true,
	buttons: true,
	clientX: true,
	clientY: true,
	offsetX: true,
	offsetY: true,
	pointerId: true,
	pointerType: true,
	screenX: true,
	screenY: true,
	targetTouches: true,
	toElement: true,
	touches: true,
	which: true
}, jQuery.event.addProp );

jQuery.each( { focus: "focusin", blur: "focusout" }, function( type, delegateType ) {

	function focusMappedHandler( nativeEvent ) {
		if ( document.documentMode ) {


			var handle = dataPriv.get( this, "handle" ),
				event = jQuery.event.fix( nativeEvent );
			event.type = nativeEvent.type === "focusin" ? "focus" : "blur";
			event.isSimulated = true;

			handle( nativeEvent );

			if ( event.target === event.currentTarget ) {

				handle( event );
			}
		} else {

			jQuery.event.simulate( delegateType, nativeEvent.target,
				jQuery.event.fix( nativeEvent ) );
		}
	}

	jQuery.event.special[ type ] = {

		setup: function() {

			var attaches;

			leverageNative( this, type, true );

			if ( document.documentMode ) {

				attaches = dataPriv.get( this, delegateType );
				if ( !attaches ) {
					this.addEventListener( delegateType, focusMappedHandler );
				}
				dataPriv.set( this, delegateType, ( attaches || 0 ) + 1 );
			} else {

				return false;
			}
		},
		trigger: function() {

			leverageNative( this, type );

			return true;
		},

		teardown: function() {
			var attaches;

			if ( document.documentMode ) {
				attaches = dataPriv.get( this, delegateType ) - 1;
				if ( !attaches ) {
					this.removeEventListener( delegateType, focusMappedHandler );
					dataPriv.remove( this, delegateType );
				} else {
					dataPriv.set( this, delegateType, attaches );
				}
			} else {

				return false;
			}
		},

		_default: function( event ) {
			return dataPriv.get( event.target, type );
		},

		delegateType: delegateType
	};

	jQuery.event.special[ delegateType ] = {
		setup: function() {

			var doc = this.ownerDocument || this.document || this,
				dataHolder = document.documentMode ? this : doc,
				attaches = dataPriv.get( dataHolder, delegateType );

			if ( !attaches ) {
				if ( document.documentMode ) {
					this.addEventListener( delegateType, focusMappedHandler );
				} else {
					doc.addEventListener( type, focusMappedHandler, true );
				}
			}
			dataPriv.set( dataHolder, delegateType, ( attaches || 0 ) + 1 );
		},
		teardown: function() {
			var doc = this.ownerDocument || this.document || this,
				dataHolder = document.documentMode ? this : doc,
				attaches = dataPriv.get( dataHolder, delegateType ) - 1;

			if ( !attaches ) {
				if ( document.documentMode ) {
					this.removeEventListener( delegateType, focusMappedHandler );
				} else {
					doc.removeEventListener( type, focusMappedHandler, true );
				}
				dataPriv.remove( dataHolder, delegateType );
			} else {
				dataPriv.set( dataHolder, delegateType, attaches );
			}
		}
	};
} );

jQuery.each( {
	mouseenter: "mouseover",
	mouseleave: "mouseout",
	pointerenter: "pointerover",
	pointerleave: "pointerout"
}, function( orig, fix ) {
	jQuery.event.special[ orig ] = {
		delegateType: fix,
		bindType: fix,

		handle: function( event ) {
			var ret,
				target = this,
				related = event.relatedTarget,
				handleObj = event.handleObj;

			if ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {
				event.type = handleObj.origType;
				ret = handleObj.handler.apply( this, arguments );
				event.type = fix;
			}
			return ret;
		}
	};
} );

jQuery.fn.extend( {

	on: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn );
	},
	one: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn, 1 );
	},
	off: function( types, selector, fn ) {
		var handleObj, type;
		if ( types && types.preventDefault && types.handleObj ) {

			handleObj = types.handleObj;
			jQuery( types.delegateTarget ).off(
				handleObj.namespace ?
					handleObj.origType + "." + handleObj.namespace :
					handleObj.origType,
				handleObj.selector,
				handleObj.handler
			);
			return this;
		}
		if ( typeof types === "object" ) {

			for ( type in types ) {
				this.off( type, selector, types[ type ] );
			}
			return this;
		}
		if ( selector === false || typeof selector === "function" ) {

			fn = selector;
			selector = undefined;
		}
		if ( fn === false ) {
			fn = returnFalse;
		}
		return this.each( function() {
			jQuery.event.remove( this, types, fn, selector );
		} );
	}
} );


var

	rnoInnerhtml = /<script|<style|<link/i,

	rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,

	rcleanScript = /^\s*<!\[CDATA\[|\]\]>\s*$/g;

function manipulationTarget( elem, content ) {
	if ( nodeName( elem, "table" ) &&
		nodeName( content.nodeType !== 11 ? content : content.firstChild, "tr" ) ) {

		return jQuery( elem ).children( "tbody" )[ 0 ] || elem;
	}

	return elem;
}

function disableScript( elem ) {
	elem.type = ( elem.getAttribute( "type" ) !== null ) + "/" + elem.type;
	return elem;
}
function restoreScript( elem ) {
	if ( ( elem.type || "" ).slice( 0, 5 ) === "true/" ) {
		elem.type = elem.type.slice( 5 );
	} else {
		elem.removeAttribute( "type" );
	}

	return elem;
}

function cloneCopyEvent( src, dest ) {
	var i, l, type, pdataOld, udataOld, udataCur, events;

	if ( dest.nodeType !== 1 ) {
		return;
	}

	if ( dataPriv.hasData( src ) ) {
		pdataOld = dataPriv.get( src );
		events = pdataOld.events;

		if ( events ) {
			dataPriv.remove( dest, "handle events" );

			for ( type in events ) {
				for ( i = 0, l = events[ type ].length; i < l; i++ ) {
					jQuery.event.add( dest, type, events[ type ][ i ] );
				}
			}
		}
	}

	if ( dataUser.hasData( src ) ) {
		udataOld = dataUser.access( src );
		udataCur = jQuery.extend( {}, udataOld );

		dataUser.set( dest, udataCur );
	}
}

function fixInput( src, dest ) {
	var nodeName = dest.nodeName.toLowerCase();

	if ( nodeName === "input" && rcheckableType.test( src.type ) ) {
		dest.checked = src.checked;

	} else if ( nodeName === "input" || nodeName === "textarea" ) {
		dest.defaultValue = src.defaultValue;
	}
}

function domManip( collection, args, callback, ignored ) {

	args = flat( args );

	var fragment, first, scripts, hasScripts, node, doc,
		i = 0,
		l = collection.length,
		iNoClone = l - 1,
		value = args[ 0 ],
		valueIsFunction = isFunction( value );

	if ( valueIsFunction ||
			( l > 1 && typeof value === "string" &&
				!support.checkClone && rchecked.test( value ) ) ) {
		return collection.each( function( index ) {
			var self = collection.eq( index );
			if ( valueIsFunction ) {
				args[ 0 ] = value.call( this, index, self.html() );
			}
			domManip( self, args, callback, ignored );
		} );
	}

	if ( l ) {
		fragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );
		first = fragment.firstChild;

		if ( fragment.childNodes.length === 1 ) {
			fragment = first;
		}

		if ( first || ignored ) {
			scripts = jQuery.map( getAll( fragment, "script" ), disableScript );
			hasScripts = scripts.length;

			for ( ; i < l; i++ ) {
				node = fragment;

				if ( i !== iNoClone ) {
					node = jQuery.clone( node, true, true );

					if ( hasScripts ) {

						jQuery.merge( scripts, getAll( node, "script" ) );
					}
				}

				callback.call( collection[ i ], node, i );
			}

			if ( hasScripts ) {
				doc = scripts[ scripts.length - 1 ].ownerDocument;

				jQuery.map( scripts, restoreScript );

				for ( i = 0; i < hasScripts; i++ ) {
					node = scripts[ i ];
					if ( rscriptType.test( node.type || "" ) &&
						!dataPriv.access( node, "globalEval" ) &&
						jQuery.contains( doc, node ) ) {

						if ( node.src && ( node.type || "" ).toLowerCase()  !== "module" ) {

							if ( jQuery._evalUrl && !node.noModule ) {
								jQuery._evalUrl( node.src, {
									nonce: node.nonce || node.getAttribute( "nonce" )
								}, doc );
							}
						} else {

							DOMEval( node.textContent.replace( rcleanScript, "" ), node, doc );
						}
					}
				}
			}
		}
	}

	return collection;
}

function remove( elem, selector, keepData ) {
	var node,
		nodes = selector ? jQuery.filter( selector, elem ) : elem,
		i = 0;

	for ( ; ( node = nodes[ i ] ) != null; i++ ) {
		if ( !keepData && node.nodeType === 1 ) {
			jQuery.cleanData( getAll( node ) );
		}

		if ( node.parentNode ) {
			if ( keepData && isAttached( node ) ) {
				setGlobalEval( getAll( node, "script" ) );
			}
			node.parentNode.removeChild( node );
		}
	}

	return elem;
}

jQuery.extend( {
	htmlPrefilter: function( html ) {
		return html;
	},

	clone: function( elem, dataAndEvents, deepDataAndEvents ) {
		var i, l, srcElements, destElements,
			clone = elem.cloneNode( true ),
			inPage = isAttached( elem );

		if ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&
				!jQuery.isXMLDoc( elem ) ) {

			destElements = getAll( clone );
			srcElements = getAll( elem );

			for ( i = 0, l = srcElements.length; i < l; i++ ) {
				fixInput( srcElements[ i ], destElements[ i ] );
			}
		}

		if ( dataAndEvents ) {
			if ( deepDataAndEvents ) {
				srcElements = srcElements || getAll( elem );
				destElements = destElements || getAll( clone );

				for ( i = 0, l = srcElements.length; i < l; i++ ) {
					cloneCopyEvent( srcElements[ i ], destElements[ i ] );
				}
			} else {
				cloneCopyEvent( elem, clone );
			}
		}

		destElements = getAll( clone, "script" );
		if ( destElements.length > 0 ) {
			setGlobalEval( destElements, !inPage && getAll( elem, "script" ) );
		}

		return clone;
	},

	cleanData: function( elems ) {
		var data, elem, type,
			special = jQuery.event.special,
			i = 0;

		for ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {
			if ( acceptData( elem ) ) {
				if ( ( data = elem[ dataPriv.expando ] ) ) {
					if ( data.events ) {
						for ( type in data.events ) {
							if ( special[ type ] ) {
								jQuery.event.remove( elem, type );

							} else {
								jQuery.removeEvent( elem, type, data.handle );
							}
						}
					}

					elem[ dataPriv.expando ] = undefined;
				}
				if ( elem[ dataUser.expando ] ) {

					elem[ dataUser.expando ] = undefined;
				}
			}
		}
	}
} );

jQuery.fn.extend( {
	detach: function( selector ) {
		return remove( this, selector, true );
	},

	remove: function( selector ) {
		return remove( this, selector );
	},

	text: function( value ) {
		return access( this, function( value ) {
			return value === undefined ?
				jQuery.text( this ) :
				this.empty().each( function() {
					if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
						this.textContent = value;
					}
				} );
		}, null, value, arguments.length );
	},

	append: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.appendChild( elem );
			}
		} );
	},

	prepend: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.insertBefore( elem, target.firstChild );
			}
		} );
	},

	before: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this );
			}
		} );
	},

	after: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this.nextSibling );
			}
		} );
	},

	empty: function() {
		var elem,
			i = 0;

		for ( ; ( elem = this[ i ] ) != null; i++ ) {
			if ( elem.nodeType === 1 ) {

				jQuery.cleanData( getAll( elem, false ) );

				elem.textContent = "";
			}
		}

		return this;
	},

	clone: function( dataAndEvents, deepDataAndEvents ) {
		dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
		deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;

		return this.map( function() {
			return jQuery.clone( this, dataAndEvents, deepDataAndEvents );
		} );
	},

	html: function( value ) {
		return access( this, function( value ) {
			var elem = this[ 0 ] || {},
				i = 0,
				l = this.length;

			if ( value === undefined && elem.nodeType === 1 ) {
				return elem.innerHTML;
			}

			if ( typeof value === "string" && !rnoInnerhtml.test( value ) &&
				!wrapMap[ ( rtagName.exec( value ) || [ "", "" ] )[ 1 ].toLowerCase() ] ) {

				value = jQuery.htmlPrefilter( value );

				try {
					for ( ; i < l; i++ ) {
						elem = this[ i ] || {};

						if ( elem.nodeType === 1 ) {
							jQuery.cleanData( getAll( elem, false ) );
							elem.innerHTML = value;
						}
					}

					elem = 0;

				} catch ( e ) {}
			}

			if ( elem ) {
				this.empty().append( value );
			}
		}, null, value, arguments.length );
	},

	replaceWith: function() {
		var ignored = [];

		return domManip( this, arguments, function( elem ) {
			var parent = this.parentNode;

			if ( jQuery.inArray( this, ignored ) < 0 ) {
				jQuery.cleanData( getAll( this ) );
				if ( parent ) {
					parent.replaceChild( elem, this );
				}
			}

		}, ignored );
	}
} );

jQuery.each( {
	appendTo: "append",
	prependTo: "prepend",
	insertBefore: "before",
	insertAfter: "after",
	replaceAll: "replaceWith"
}, function( name, original ) {
	jQuery.fn[ name ] = function( selector ) {
		var elems,
			ret = [],
			insert = jQuery( selector ),
			last = insert.length - 1,
			i = 0;

		for ( ; i <= last; i++ ) {
			elems = i === last ? this : this.clone( true );
			jQuery( insert[ i ] )[ original ]( elems );

			push.apply( ret, elems.get() );
		}

		return this.pushStack( ret );
	};
} );
var rnumnonpx = new RegExp( "^(" + pnum + ")(?!px)[a-z%]+$", "i" );

var rcustomProp = /^--/;


var getStyles = function( elem ) {

		var view = elem.ownerDocument.defaultView;

		if ( !view || !view.opener ) {
			view = window;
		}

		return view.getComputedStyle( elem );
	};

var swap = function( elem, options, callback ) {
	var ret, name,
		old = {};

	for ( name in options ) {
		old[ name ] = elem.style[ name ];
		elem.style[ name ] = options[ name ];
	}

	ret = callback.call( elem );

	for ( name in options ) {
		elem.style[ name ] = old[ name ];
	}

	return ret;
};


var rboxStyle = new RegExp( cssExpand.join( "|" ), "i" );



( function() {

	function computeStyleTests() {

		if ( !div ) {
			return;
		}

		container.style.cssText = "position:absolute;left:-11111px;width:60px;" +
			"margin-top:1px;padding:0;border:0";
		div.style.cssText =
			"position:relative;display:block;box-sizing:border-box;overflow:scroll;" +
			"margin:auto;border:1px;padding:1px;" +
			"width:60%;top:1%";
		documentElement.appendChild( container ).appendChild( div );

		var divStyle = window.getComputedStyle( div );
		pixelPositionVal = divStyle.top !== "1%";

		reliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;

		div.style.right = "60%";
		pixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;

		boxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;

		div.style.position = "absolute";
		scrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;

		documentElement.removeChild( container );

		div = null;
	}

	function roundPixelMeasures( measure ) {
		return Math.round( parseFloat( measure ) );
	}

	var pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,
		reliableTrDimensionsVal, reliableMarginLeftVal,
		container = document.createElement( "div" ),
		div = document.createElement( "div" );

	if ( !div.style ) {
		return;
	}

	div.style.backgroundClip = "content-box";
	div.cloneNode( true ).style.backgroundClip = "";
	support.clearCloneStyle = div.style.backgroundClip === "content-box";

	jQuery.extend( support, {
		boxSizingReliable: function() {
			computeStyleTests();
			return boxSizingReliableVal;
		},
		pixelBoxStyles: function() {
			computeStyleTests();
			return pixelBoxStylesVal;
		},
		pixelPosition: function() {
			computeStyleTests();
			return pixelPositionVal;
		},
		reliableMarginLeft: function() {
			computeStyleTests();
			return reliableMarginLeftVal;
		},
		scrollboxSize: function() {
			computeStyleTests();
			return scrollboxSizeVal;
		},

		reliableTrDimensions: function() {
			var table, tr, trChild, trStyle;
			if ( reliableTrDimensionsVal == null ) {
				table = document.createElement( "table" );
				tr = document.createElement( "tr" );
				trChild = document.createElement( "div" );

				table.style.cssText = "position:absolute;left:-11111px;border-collapse:separate";
				tr.style.cssText = "box-sizing:content-box;border:1px solid";

				tr.style.height = "1px";
				trChild.style.height = "9px";

				trChild.style.display = "block";

				documentElement
					.appendChild( table )
					.appendChild( tr )
					.appendChild( trChild );

				trStyle = window.getComputedStyle( tr );
				reliableTrDimensionsVal = ( parseInt( trStyle.height, 10 ) +
					parseInt( trStyle.borderTopWidth, 10 ) +
					parseInt( trStyle.borderBottomWidth, 10 ) ) === tr.offsetHeight;

				documentElement.removeChild( table );
			}
			return reliableTrDimensionsVal;
		}
	} );
} )();


function curCSS( elem, name, computed ) {
	var width, minWidth, maxWidth, ret,
		isCustomProp = rcustomProp.test( name ),

		style = elem.style;

	computed = computed || getStyles( elem );

	if ( computed ) {

		ret = computed.getPropertyValue( name ) || computed[ name ];

		if ( isCustomProp && ret ) {

			ret = ret.replace( rtrimCSS, "$1" ) || undefined;
		}

		if ( ret === "" && !isAttached( elem ) ) {
			ret = jQuery.style( elem, name );
		}

		if ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {

			width = style.width;
			minWidth = style.minWidth;
			maxWidth = style.maxWidth;

			style.minWidth = style.maxWidth = style.width = ret;
			ret = computed.width;

			style.width = width;
			style.minWidth = minWidth;
			style.maxWidth = maxWidth;
		}
	}

	return ret !== undefined ?

		ret + "" :
		ret;
}


function addGetHookIf( conditionFn, hookFn ) {

	return {
		get: function() {
			if ( conditionFn() ) {

				delete this.get;
				return;
			}

			return ( this.get = hookFn ).apply( this, arguments );
		}
	};
}


var cssPrefixes = [ "Webkit", "Moz", "ms" ],
	emptyStyle = document.createElement( "div" ).style,
	vendorProps = {};

function vendorPropName( name ) {

	var capName = name[ 0 ].toUpperCase() + name.slice( 1 ),
		i = cssPrefixes.length;

	while ( i-- ) {
		name = cssPrefixes[ i ] + capName;
		if ( name in emptyStyle ) {
			return name;
		}
	}
}

function finalPropName( name ) {
	var final = jQuery.cssProps[ name ] || vendorProps[ name ];

	if ( final ) {
		return final;
	}
	if ( name in emptyStyle ) {
		return name;
	}
	return vendorProps[ name ] = vendorPropName( name ) || name;
}


var

	rdisplayswap = /^(none|table(?!-c[ea]).+)/,
	cssShow = { position: "absolute", visibility: "hidden", display: "block" },
	cssNormalTransform = {
		letterSpacing: "0",
		fontWeight: "400"
	};

function setPositiveNumber( _elem, value, subtract ) {

	var matches = rcssNum.exec( value );
	return matches ?

		Math.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || "px" ) :
		value;
}

function boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {
	var i = dimension === "width" ? 1 : 0,
		extra = 0,
		delta = 0,
		marginDelta = 0;

	if ( box === ( isBorderBox ? "border" : "content" ) ) {
		return 0;
	}

	for ( ; i < 4; i += 2 ) {

		if ( box === "margin" ) {
			marginDelta += jQuery.css( elem, box + cssExpand[ i ], true, styles );
		}

		if ( !isBorderBox ) {

			delta += jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );

			if ( box !== "padding" ) {
				delta += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );

			} else {
				extra += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}

		} else {

			if ( box === "content" ) {
				delta -= jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );
			}

			if ( box !== "margin" ) {
				delta -= jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		}
	}

	if ( !isBorderBox && computedVal >= 0 ) {

		delta += Math.max( 0, Math.ceil(
			elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -
			computedVal -
			delta -
			extra -
			0.5

		) ) || 0;
	}

	return delta + marginDelta;
}

function getWidthOrHeight( elem, dimension, extra ) {

	var styles = getStyles( elem ),

		boxSizingNeeded = !support.boxSizingReliable() || extra,
		isBorderBox = boxSizingNeeded &&
			jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
		valueIsBorderBox = isBorderBox,

		val = curCSS( elem, dimension, styles ),
		offsetProp = "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );

	if ( rnumnonpx.test( val ) ) {
		if ( !extra ) {
			return val;
		}
		val = "auto";
	}


	if ( ( !support.boxSizingReliable() && isBorderBox ||

		!support.reliableTrDimensions() && nodeName( elem, "tr" ) ||

		val === "auto" ||

		!parseFloat( val ) && jQuery.css( elem, "display", false, styles ) === "inline" ) &&

		elem.getClientRects().length ) {

		isBorderBox = jQuery.css( elem, "boxSizing", false, styles ) === "border-box";

		valueIsBorderBox = offsetProp in elem;
		if ( valueIsBorderBox ) {
			val = elem[ offsetProp ];
		}
	}

	val = parseFloat( val ) || 0;

	return ( val +
		boxModelAdjustment(
			elem,
			dimension,
			extra || ( isBorderBox ? "border" : "content" ),
			valueIsBorderBox,
			styles,

			val
		)
	) + "px";
}

jQuery.extend( {

	cssHooks: {
		opacity: {
			get: function( elem, computed ) {
				if ( computed ) {

					var ret = curCSS( elem, "opacity" );
					return ret === "" ? "1" : ret;
				}
			}
		}
	},

	cssNumber: {
		animationIterationCount: true,
		aspectRatio: true,
		borderImageSlice: true,
		columnCount: true,
		flexGrow: true,
		flexShrink: true,
		fontWeight: true,
		gridArea: true,
		gridColumn: true,
		gridColumnEnd: true,
		gridColumnStart: true,
		gridRow: true,
		gridRowEnd: true,
		gridRowStart: true,
		lineHeight: true,
		opacity: true,
		order: true,
		orphans: true,
		scale: true,
		widows: true,
		zIndex: true,
		zoom: true,

		fillOpacity: true,
		floodOpacity: true,
		stopOpacity: true,
		strokeMiterlimit: true,
		strokeOpacity: true
	},

	cssProps: {},

	style: function( elem, name, value, extra ) {

		if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {
			return;
		}

		var ret, type, hooks,
			origName = camelCase( name ),
			isCustomProp = rcustomProp.test( name ),
			style = elem.style;

		if ( !isCustomProp ) {
			name = finalPropName( origName );
		}

		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		if ( value !== undefined ) {
			type = typeof value;

			if ( type === "string" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {
				value = adjustCSS( elem, name, ret );

				type = "number";
			}

			if ( value == null || value !== value ) {
				return;
			}

			if ( type === "number" && !isCustomProp ) {
				value += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? "" : "px" );
			}

			if ( !support.clearCloneStyle && value === "" && name.indexOf( "background" ) === 0 ) {
				style[ name ] = "inherit";
			}

			if ( !hooks || !( "set" in hooks ) ||
				( value = hooks.set( elem, value, extra ) ) !== undefined ) {

				if ( isCustomProp ) {
					style.setProperty( name, value );
				} else {
					style[ name ] = value;
				}
			}

		} else {

			if ( hooks && "get" in hooks &&
				( ret = hooks.get( elem, false, extra ) ) !== undefined ) {

				return ret;
			}

			return style[ name ];
		}
	},

	css: function( elem, name, extra, styles ) {
		var val, num, hooks,
			origName = camelCase( name ),
			isCustomProp = rcustomProp.test( name );

		if ( !isCustomProp ) {
			name = finalPropName( origName );
		}

		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		if ( hooks && "get" in hooks ) {
			val = hooks.get( elem, true, extra );
		}

		if ( val === undefined ) {
			val = curCSS( elem, name, styles );
		}

		if ( val === "normal" && name in cssNormalTransform ) {
			val = cssNormalTransform[ name ];
		}

		if ( extra === "" || extra ) {
			num = parseFloat( val );
			return extra === true || isFinite( num ) ? num || 0 : val;
		}

		return val;
	}
} );

jQuery.each( [ "height", "width" ], function( _i, dimension ) {
	jQuery.cssHooks[ dimension ] = {
		get: function( elem, computed, extra ) {
			if ( computed ) {

				return rdisplayswap.test( jQuery.css( elem, "display" ) ) &&

					( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?
					swap( elem, cssShow, function() {
						return getWidthOrHeight( elem, dimension, extra );
					} ) :
					getWidthOrHeight( elem, dimension, extra );
			}
		},

		set: function( elem, value, extra ) {
			var matches,
				styles = getStyles( elem ),

				scrollboxSizeBuggy = !support.scrollboxSize() &&
					styles.position === "absolute",

				boxSizingNeeded = scrollboxSizeBuggy || extra,
				isBorderBox = boxSizingNeeded &&
					jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
				subtract = extra ?
					boxModelAdjustment(
						elem,
						dimension,
						extra,
						isBorderBox,
						styles
					) :
					0;

			if ( isBorderBox && scrollboxSizeBuggy ) {
				subtract -= Math.ceil(
					elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -
					parseFloat( styles[ dimension ] ) -
					boxModelAdjustment( elem, dimension, "border", false, styles ) -
					0.5
				);
			}

			if ( subtract && ( matches = rcssNum.exec( value ) ) &&
				( matches[ 3 ] || "px" ) !== "px" ) {

				elem.style[ dimension ] = value;
				value = jQuery.css( elem, dimension );
			}

			return setPositiveNumber( elem, value, subtract );
		}
	};
} );

jQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,
	function( elem, computed ) {
		if ( computed ) {
			return ( parseFloat( curCSS( elem, "marginLeft" ) ) ||
				elem.getBoundingClientRect().left -
					swap( elem, { marginLeft: 0 }, function() {
						return elem.getBoundingClientRect().left;
					} )
			) + "px";
		}
	}
);

jQuery.each( {
	margin: "",
	padding: "",
	border: "Width"
}, function( prefix, suffix ) {
	jQuery.cssHooks[ prefix + suffix ] = {
		expand: function( value ) {
			var i = 0,
				expanded = {},

				parts = typeof value === "string" ? value.split( " " ) : [ value ];

			for ( ; i < 4; i++ ) {
				expanded[ prefix + cssExpand[ i ] + suffix ] =
					parts[ i ] || parts[ i - 2 ] || parts[ 0 ];
			}

			return expanded;
		}
	};

	if ( prefix !== "margin" ) {
		jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;
	}
} );

jQuery.fn.extend( {
	css: function( name, value ) {
		return access( this, function( elem, name, value ) {
			var styles, len,
				map = {},
				i = 0;

			if ( Array.isArray( name ) ) {
				styles = getStyles( elem );
				len = name.length;

				for ( ; i < len; i++ ) {
					map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );
				}

				return map;
			}

			return value !== undefined ?
				jQuery.style( elem, name, value ) :
				jQuery.css( elem, name );
		}, name, value, arguments.length > 1 );
	}
} );


function Tween( elem, options, prop, end, easing ) {
	return new Tween.prototype.init( elem, options, prop, end, easing );
}
jQuery.Tween = Tween;

Tween.prototype = {
	constructor: Tween,
	init: function( elem, options, prop, end, easing, unit ) {
		this.elem = elem;
		this.prop = prop;
		this.easing = easing || jQuery.easing._default;
		this.options = options;
		this.start = this.now = this.cur();
		this.end = end;
		this.unit = unit || ( jQuery.cssNumber[ prop ] ? "" : "px" );
	},
	cur: function() {
		var hooks = Tween.propHooks[ this.prop ];

		return hooks && hooks.get ?
			hooks.get( this ) :
			Tween.propHooks._default.get( this );
	},
	run: function( percent ) {
		var eased,
			hooks = Tween.propHooks[ this.prop ];

		if ( this.options.duration ) {
			this.pos = eased = jQuery.easing[ this.easing ](
				percent, this.options.duration * percent, 0, 1, this.options.duration
			);
		} else {
			this.pos = eased = percent;
		}
		this.now = ( this.end - this.start ) * eased + this.start;

		if ( this.options.step ) {
			this.options.step.call( this.elem, this.now, this );
		}

		if ( hooks && hooks.set ) {
			hooks.set( this );
		} else {
			Tween.propHooks._default.set( this );
		}
		return this;
	}
};

Tween.prototype.init.prototype = Tween.prototype;

Tween.propHooks = {
	_default: {
		get: function( tween ) {
			var result;

			if ( tween.elem.nodeType !== 1 ||
				tween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {
				return tween.elem[ tween.prop ];
			}

			result = jQuery.css( tween.elem, tween.prop, "" );

			return !result || result === "auto" ? 0 : result;
		},
		set: function( tween ) {

			if ( jQuery.fx.step[ tween.prop ] ) {
				jQuery.fx.step[ tween.prop ]( tween );
			} else if ( tween.elem.nodeType === 1 && (
				jQuery.cssHooks[ tween.prop ] ||
					tween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {
				jQuery.style( tween.elem, tween.prop, tween.now + tween.unit );
			} else {
				tween.elem[ tween.prop ] = tween.now;
			}
		}
	}
};

Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
	set: function( tween ) {
		if ( tween.elem.nodeType && tween.elem.parentNode ) {
			tween.elem[ tween.prop ] = tween.now;
		}
	}
};

jQuery.easing = {
	linear: function( p ) {
		return p;
	},
	swing: function( p ) {
		return 0.5 - Math.cos( p * Math.PI ) / 2;
	},
	_default: "swing"
};

jQuery.fx = Tween.prototype.init;

jQuery.fx.step = {};




var
	fxNow, inProgress,
	rfxtypes = /^(?:toggle|show|hide)$/,
	rrun = /queueHooks$/;

function schedule() {
	if ( inProgress ) {
		if ( document.hidden === false && window.requestAnimationFrame ) {
			window.requestAnimationFrame( schedule );
		} else {
			window.setTimeout( schedule, jQuery.fx.interval );
		}

		jQuery.fx.tick();
	}
}

function createFxNow() {
	window.setTimeout( function() {
		fxNow = undefined;
	} );
	return ( fxNow = Date.now() );
}

function genFx( type, includeWidth ) {
	var which,
		i = 0,
		attrs = { height: type };

	includeWidth = includeWidth ? 1 : 0;
	for ( ; i < 4; i += 2 - includeWidth ) {
		which = cssExpand[ i ];
		attrs[ "margin" + which ] = attrs[ "padding" + which ] = type;
	}

	if ( includeWidth ) {
		attrs.opacity = attrs.width = type;
	}

	return attrs;
}

function createTween( value, prop, animation ) {
	var tween,
		collection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ "*" ] ),
		index = 0,
		length = collection.length;
	for ( ; index < length; index++ ) {
		if ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {

			return tween;
		}
	}
}

function defaultPrefilter( elem, props, opts ) {
	var prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,
		isBox = "width" in props || "height" in props,
		anim = this,
		orig = {},
		style = elem.style,
		hidden = elem.nodeType && isHiddenWithinTree( elem ),
		dataShow = dataPriv.get( elem, "fxshow" );

	if ( !opts.queue ) {
		hooks = jQuery._queueHooks( elem, "fx" );
		if ( hooks.unqueued == null ) {
			hooks.unqueued = 0;
			oldfire = hooks.empty.fire;
			hooks.empty.fire = function() {
				if ( !hooks.unqueued ) {
					oldfire();
				}
			};
		}
		hooks.unqueued++;

		anim.always( function() {

			anim.always( function() {
				hooks.unqueued--;
				if ( !jQuery.queue( elem, "fx" ).length ) {
					hooks.empty.fire();
				}
			} );
		} );
	}

	for ( prop in props ) {
		value = props[ prop ];
		if ( rfxtypes.test( value ) ) {
			delete props[ prop ];
			toggle = toggle || value === "toggle";
			if ( value === ( hidden ? "hide" : "show" ) ) {

				if ( value === "show" && dataShow && dataShow[ prop ] !== undefined ) {
					hidden = true;

				} else {
					continue;
				}
			}
			orig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );
		}
	}

	propTween = !jQuery.isEmptyObject( props );
	if ( !propTween && jQuery.isEmptyObject( orig ) ) {
		return;
	}

	if ( isBox && elem.nodeType === 1 ) {

		opts.overflow = [ style.overflow, style.overflowX, style.overflowY ];

		restoreDisplay = dataShow && dataShow.display;
		if ( restoreDisplay == null ) {
			restoreDisplay = dataPriv.get( elem, "display" );
		}
		display = jQuery.css( elem, "display" );
		if ( display === "none" ) {
			if ( restoreDisplay ) {
				display = restoreDisplay;
			} else {

				showHide( [ elem ], true );
				restoreDisplay = elem.style.display || restoreDisplay;
				display = jQuery.css( elem, "display" );
				showHide( [ elem ] );
			}
		}

		if ( display === "inline" || display === "inline-block" && restoreDisplay != null ) {
			if ( jQuery.css( elem, "float" ) === "none" ) {

				if ( !propTween ) {
					anim.done( function() {
						style.display = restoreDisplay;
					} );
					if ( restoreDisplay == null ) {
						display = style.display;
						restoreDisplay = display === "none" ? "" : display;
					}
				}
				style.display = "inline-block";
			}
		}
	}

	if ( opts.overflow ) {
		style.overflow = "hidden";
		anim.always( function() {
			style.overflow = opts.overflow[ 0 ];
			style.overflowX = opts.overflow[ 1 ];
			style.overflowY = opts.overflow[ 2 ];
		} );
	}

	propTween = false;
	for ( prop in orig ) {

		if ( !propTween ) {
			if ( dataShow ) {
				if ( "hidden" in dataShow ) {
					hidden = dataShow.hidden;
				}
			} else {
				dataShow = dataPriv.access( elem, "fxshow", { display: restoreDisplay } );
			}

			if ( toggle ) {
				dataShow.hidden = !hidden;
			}

			if ( hidden ) {
				showHide( [ elem ], true );
			}


			anim.done( function() {


				if ( !hidden ) {
					showHide( [ elem ] );
				}
				dataPriv.remove( elem, "fxshow" );
				for ( prop in orig ) {
					jQuery.style( elem, prop, orig[ prop ] );
				}
			} );
		}

		propTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );
		if ( !( prop in dataShow ) ) {
			dataShow[ prop ] = propTween.start;
			if ( hidden ) {
				propTween.end = propTween.start;
				propTween.start = 0;
			}
		}
	}
}

function propFilter( props, specialEasing ) {
	var index, name, easing, value, hooks;

	for ( index in props ) {
		name = camelCase( index );
		easing = specialEasing[ name ];
		value = props[ index ];
		if ( Array.isArray( value ) ) {
			easing = value[ 1 ];
			value = props[ index ] = value[ 0 ];
		}

		if ( index !== name ) {
			props[ name ] = value;
			delete props[ index ];
		}

		hooks = jQuery.cssHooks[ name ];
		if ( hooks && "expand" in hooks ) {
			value = hooks.expand( value );
			delete props[ name ];

			for ( index in value ) {
				if ( !( index in props ) ) {
					props[ index ] = value[ index ];
					specialEasing[ index ] = easing;
				}
			}
		} else {
			specialEasing[ name ] = easing;
		}
	}
}

function Animation( elem, properties, options ) {
	var result,
		stopped,
		index = 0,
		length = Animation.prefilters.length,
		deferred = jQuery.Deferred().always( function() {

			delete tick.elem;
		} ),
		tick = function() {
			if ( stopped ) {
				return false;
			}
			var currentTime = fxNow || createFxNow(),
				remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),

				temp = remaining / animation.duration || 0,
				percent = 1 - temp,
				index = 0,
				length = animation.tweens.length;

			for ( ; index < length; index++ ) {
				animation.tweens[ index ].run( percent );
			}

			deferred.notifyWith( elem, [ animation, percent, remaining ] );

			if ( percent < 1 && length ) {
				return remaining;
			}

			if ( !length ) {
				deferred.notifyWith( elem, [ animation, 1, 0 ] );
			}

			deferred.resolveWith( elem, [ animation ] );
			return false;
		},
		animation = deferred.promise( {
			elem: elem,
			props: jQuery.extend( {}, properties ),
			opts: jQuery.extend( true, {
				specialEasing: {},
				easing: jQuery.easing._default
			}, options ),
			originalProperties: properties,
			originalOptions: options,
			startTime: fxNow || createFxNow(),
			duration: options.duration,
			tweens: [],
			createTween: function( prop, end ) {
				var tween = jQuery.Tween( elem, animation.opts, prop, end,
					animation.opts.specialEasing[ prop ] || animation.opts.easing );
				animation.tweens.push( tween );
				return tween;
			},
			stop: function( gotoEnd ) {
				var index = 0,

					length = gotoEnd ? animation.tweens.length : 0;
				if ( stopped ) {
					return this;
				}
				stopped = true;
				for ( ; index < length; index++ ) {
					animation.tweens[ index ].run( 1 );
				}

				if ( gotoEnd ) {
					deferred.notifyWith( elem, [ animation, 1, 0 ] );
					deferred.resolveWith( elem, [ animation, gotoEnd ] );
				} else {
					deferred.rejectWith( elem, [ animation, gotoEnd ] );
				}
				return this;
			}
		} ),
		props = animation.props;

	propFilter( props, animation.opts.specialEasing );

	for ( ; index < length; index++ ) {
		result = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );
		if ( result ) {
			if ( isFunction( result.stop ) ) {
				jQuery._queueHooks( animation.elem, animation.opts.queue ).stop =
					result.stop.bind( result );
			}
			return result;
		}
	}

	jQuery.map( props, createTween, animation );

	if ( isFunction( animation.opts.start ) ) {
		animation.opts.start.call( elem, animation );
	}

	animation
		.progress( animation.opts.progress )
		.done( animation.opts.done, animation.opts.complete )
		.fail( animation.opts.fail )
		.always( animation.opts.always );

	jQuery.fx.timer(
		jQuery.extend( tick, {
			elem: elem,
			anim: animation,
			queue: animation.opts.queue
		} )
	);

	return animation;
}

jQuery.Animation = jQuery.extend( Animation, {

	tweeners: {
		"*": [ function( prop, value ) {
			var tween = this.createTween( prop, value );
			adjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );
			return tween;
		} ]
	},

	tweener: function( props, callback ) {
		if ( isFunction( props ) ) {
			callback = props;
			props = [ "*" ];
		} else {
			props = props.match( rnothtmlwhite );
		}

		var prop,
			index = 0,
			length = props.length;

		for ( ; index < length; index++ ) {
			prop = props[ index ];
			Animation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];
			Animation.tweeners[ prop ].unshift( callback );
		}
	},

	prefilters: [ defaultPrefilter ],

	prefilter: function( callback, prepend ) {
		if ( prepend ) {
			Animation.prefilters.unshift( callback );
		} else {
			Animation.prefilters.push( callback );
		}
	}
} );

jQuery.speed = function( speed, easing, fn ) {
	var opt = speed && typeof speed === "object" ? jQuery.extend( {}, speed ) : {
		complete: fn || !fn && easing ||
			isFunction( speed ) && speed,
		duration: speed,
		easing: fn && easing || easing && !isFunction( easing ) && easing
	};

	if ( jQuery.fx.off ) {
		opt.duration = 0;

	} else {
		if ( typeof opt.duration !== "number" ) {
			if ( opt.duration in jQuery.fx.speeds ) {
				opt.duration = jQuery.fx.speeds[ opt.duration ];

			} else {
				opt.duration = jQuery.fx.speeds._default;
			}
		}
	}

	if ( opt.queue == null || opt.queue === true ) {
		opt.queue = "fx";
	}

	opt.old = opt.complete;

	opt.complete = function() {
		if ( isFunction( opt.old ) ) {
			opt.old.call( this );
		}

		if ( opt.queue ) {
			jQuery.dequeue( this, opt.queue );
		}
	};

	return opt;
};

jQuery.fn.extend( {
	fadeTo: function( speed, to, easing, callback ) {

		return this.filter( isHiddenWithinTree ).css( "opacity", 0 ).show()

			.end().animate( { opacity: to }, speed, easing, callback );
	},
	animate: function( prop, speed, easing, callback ) {
		var empty = jQuery.isEmptyObject( prop ),
			optall = jQuery.speed( speed, easing, callback ),
			doAnimation = function() {

				var anim = Animation( this, jQuery.extend( {}, prop ), optall );

				if ( empty || dataPriv.get( this, "finish" ) ) {
					anim.stop( true );
				}
			};

		doAnimation.finish = doAnimation;

		return empty || optall.queue === false ?
			this.each( doAnimation ) :
			this.queue( optall.queue, doAnimation );
	},
	stop: function( type, clearQueue, gotoEnd ) {
		var stopQueue = function( hooks ) {
			var stop = hooks.stop;
			delete hooks.stop;
			stop( gotoEnd );
		};

		if ( typeof type !== "string" ) {
			gotoEnd = clearQueue;
			clearQueue = type;
			type = undefined;
		}
		if ( clearQueue ) {
			this.queue( type || "fx", [] );
		}

		return this.each( function() {
			var dequeue = true,
				index = type != null && type + "queueHooks",
				timers = jQuery.timers,
				data = dataPriv.get( this );

			if ( index ) {
				if ( data[ index ] && data[ index ].stop ) {
					stopQueue( data[ index ] );
				}
			} else {
				for ( index in data ) {
					if ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {
						stopQueue( data[ index ] );
					}
				}
			}

			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this &&
					( type == null || timers[ index ].queue === type ) ) {

					timers[ index ].anim.stop( gotoEnd );
					dequeue = false;
					timers.splice( index, 1 );
				}
			}

			if ( dequeue || !gotoEnd ) {
				jQuery.dequeue( this, type );
			}
		} );
	},
	finish: function( type ) {
		if ( type !== false ) {
			type = type || "fx";
		}
		return this.each( function() {
			var index,
				data = dataPriv.get( this ),
				queue = data[ type + "queue" ],
				hooks = data[ type + "queueHooks" ],
				timers = jQuery.timers,
				length = queue ? queue.length : 0;

			data.finish = true;

			jQuery.queue( this, type, [] );

			if ( hooks && hooks.stop ) {
				hooks.stop.call( this, true );
			}

			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this && timers[ index ].queue === type ) {
					timers[ index ].anim.stop( true );
					timers.splice( index, 1 );
				}
			}

			for ( index = 0; index < length; index++ ) {
				if ( queue[ index ] && queue[ index ].finish ) {
					queue[ index ].finish.call( this );
				}
			}

			delete data.finish;
		} );
	}
} );

jQuery.each( [ "toggle", "show", "hide" ], function( _i, name ) {
	var cssFn = jQuery.fn[ name ];
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return speed == null || typeof speed === "boolean" ?
			cssFn.apply( this, arguments ) :
			this.animate( genFx( name, true ), speed, easing, callback );
	};
} );

jQuery.each( {
	slideDown: genFx( "show" ),
	slideUp: genFx( "hide" ),
	slideToggle: genFx( "toggle" ),
	fadeIn: { opacity: "show" },
	fadeOut: { opacity: "hide" },
	fadeToggle: { opacity: "toggle" }
}, function( name, props ) {
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return this.animate( props, speed, easing, callback );
	};
} );

jQuery.timers = [];
jQuery.fx.tick = function() {
	var timer,
		i = 0,
		timers = jQuery.timers;

	fxNow = Date.now();

	for ( ; i < timers.length; i++ ) {
		timer = timers[ i ];

		if ( !timer() && timers[ i ] === timer ) {
			timers.splice( i--, 1 );
		}
	}

	if ( !timers.length ) {
		jQuery.fx.stop();
	}
	fxNow = undefined;
};

jQuery.fx.timer = function( timer ) {
	jQuery.timers.push( timer );
	jQuery.fx.start();
};

jQuery.fx.interval = 13;
jQuery.fx.start = function() {
	if ( inProgress ) {
		return;
	}

	inProgress = true;
	schedule();
};

jQuery.fx.stop = function() {
	inProgress = null;
};

jQuery.fx.speeds = {
	slow: 600,
	fast: 200,

	_default: 400
};


jQuery.fn.delay = function( time, type ) {
	time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;
	type = type || "fx";

	return this.queue( type, function( next, hooks ) {
		var timeout = window.setTimeout( next, time );
		hooks.stop = function() {
			window.clearTimeout( timeout );
		};
	} );
};


( function() {
	var input = document.createElement( "input" ),
		select = document.createElement( "select" ),
		opt = select.appendChild( document.createElement( "option" ) );

	input.type = "checkbox";

	support.checkOn = input.value !== "";

	support.optSelected = opt.selected;

	input = document.createElement( "input" );
	input.value = "t";
	input.type = "radio";
	support.radioValue = input.value === "t";
} )();


var boolHook,
	attrHandle = jQuery.expr.attrHandle;

jQuery.fn.extend( {
	attr: function( name, value ) {
		return access( this, jQuery.attr, name, value, arguments.length > 1 );
	},

	removeAttr: function( name ) {
		return this.each( function() {
			jQuery.removeAttr( this, name );
		} );
	}
} );

jQuery.extend( {
	attr: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		if ( typeof elem.getAttribute === "undefined" ) {
			return jQuery.prop( elem, name, value );
		}

		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {
			hooks = jQuery.attrHooks[ name.toLowerCase() ] ||
				( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );
		}

		if ( value !== undefined ) {
			if ( value === null ) {
				jQuery.removeAttr( elem, name );
				return;
			}

			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			elem.setAttribute( name, value + "" );
			return value;
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		ret = jQuery.find.attr( elem, name );

		return ret == null ? undefined : ret;
	},

	attrHooks: {
		type: {
			set: function( elem, value ) {
				if ( !support.radioValue && value === "radio" &&
					nodeName( elem, "input" ) ) {
					var val = elem.value;
					elem.setAttribute( "type", value );
					if ( val ) {
						elem.value = val;
					}
					return value;
				}
			}
		}
	},

	removeAttr: function( elem, value ) {
		var name,
			i = 0,

			attrNames = value && value.match( rnothtmlwhite );

		if ( attrNames && elem.nodeType === 1 ) {
			while ( ( name = attrNames[ i++ ] ) ) {
				elem.removeAttribute( name );
			}
		}
	}
} );

boolHook = {
	set: function( elem, value, name ) {
		if ( value === false ) {

			jQuery.removeAttr( elem, name );
		} else {
			elem.setAttribute( name, name );
		}
		return name;
	}
};

jQuery.each( jQuery.expr.match.bool.source.match( /\w+/g ), function( _i, name ) {
	var getter = attrHandle[ name ] || jQuery.find.attr;

	attrHandle[ name ] = function( elem, name, isXML ) {
		var ret, handle,
			lowercaseName = name.toLowerCase();

		if ( !isXML ) {

			handle = attrHandle[ lowercaseName ];
			attrHandle[ lowercaseName ] = ret;
			ret = getter( elem, name, isXML ) != null ?
				lowercaseName :
				null;
			attrHandle[ lowercaseName ] = handle;
		}
		return ret;
	};
} );




var rfocusable = /^(?:input|select|textarea|button)$/i,
	rclickable = /^(?:a|area)$/i;

jQuery.fn.extend( {
	prop: function( name, value ) {
		return access( this, jQuery.prop, name, value, arguments.length > 1 );
	},

	removeProp: function( name ) {
		return this.each( function() {
			delete this[ jQuery.propFix[ name ] || name ];
		} );
	}
} );

jQuery.extend( {
	prop: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {

			name = jQuery.propFix[ name ] || name;
			hooks = jQuery.propHooks[ name ];
		}

		if ( value !== undefined ) {
			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			return ( elem[ name ] = value );
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		return elem[ name ];
	},

	propHooks: {
		tabIndex: {
			get: function( elem ) {

				var tabindex = jQuery.find.attr( elem, "tabindex" );

				if ( tabindex ) {
					return parseInt( tabindex, 10 );
				}

				if (
					rfocusable.test( elem.nodeName ) ||
					rclickable.test( elem.nodeName ) &&
					elem.href
				) {
					return 0;
				}

				return -1;
			}
		}
	},

	propFix: {
		"for": "htmlFor",
		"class": "className"
	}
} );

if ( !support.optSelected ) {
	jQuery.propHooks.selected = {
		get: function( elem ) {


			var parent = elem.parentNode;
			if ( parent && parent.parentNode ) {
				parent.parentNode.selectedIndex;
			}
			return null;
		},
		set: function( elem ) {


			var parent = elem.parentNode;
			if ( parent ) {
				parent.selectedIndex;

				if ( parent.parentNode ) {
					parent.parentNode.selectedIndex;
				}
			}
		}
	};
}

jQuery.each( [
	"tabIndex",
	"readOnly",
	"maxLength",
	"cellSpacing",
	"cellPadding",
	"rowSpan",
	"colSpan",
	"useMap",
	"frameBorder",
	"contentEditable"
], function() {
	jQuery.propFix[ this.toLowerCase() ] = this;
} );




	function stripAndCollapse( value ) {
		var tokens = value.match( rnothtmlwhite ) || [];
		return tokens.join( " " );
	}


function getClass( elem ) {
	return elem.getAttribute && elem.getAttribute( "class" ) || "";
}

function classesToArray( value ) {
	if ( Array.isArray( value ) ) {
		return value;
	}
	if ( typeof value === "string" ) {
		return value.match( rnothtmlwhite ) || [];
	}
	return [];
}

jQuery.fn.extend( {
	addClass: function( value ) {
		var classNames, cur, curValue, className, i, finalValue;

		if ( isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).addClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		classNames = classesToArray( value );

		if ( classNames.length ) {
			return this.each( function() {
				curValue = getClass( this );
				cur = this.nodeType === 1 && ( " " + stripAndCollapse( curValue ) + " " );

				if ( cur ) {
					for ( i = 0; i < classNames.length; i++ ) {
						className = classNames[ i ];
						if ( cur.indexOf( " " + className + " " ) < 0 ) {
							cur += className + " ";
						}
					}

					finalValue = stripAndCollapse( cur );
					if ( curValue !== finalValue ) {
						this.setAttribute( "class", finalValue );
					}
				}
			} );
		}

		return this;
	},

	removeClass: function( value ) {
		var classNames, cur, curValue, className, i, finalValue;

		if ( isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		if ( !arguments.length ) {
			return this.attr( "class", "" );
		}

		classNames = classesToArray( value );

		if ( classNames.length ) {
			return this.each( function() {
				curValue = getClass( this );

				cur = this.nodeType === 1 && ( " " + stripAndCollapse( curValue ) + " " );

				if ( cur ) {
					for ( i = 0; i < classNames.length; i++ ) {
						className = classNames[ i ];

						while ( cur.indexOf( " " + className + " " ) > -1 ) {
							cur = cur.replace( " " + className + " ", " " );
						}
					}

					finalValue = stripAndCollapse( cur );
					if ( curValue !== finalValue ) {
						this.setAttribute( "class", finalValue );
					}
				}
			} );
		}

		return this;
	},

	toggleClass: function( value, stateVal ) {
		var classNames, className, i, self,
			type = typeof value,
			isValidValue = type === "string" || Array.isArray( value );

		if ( isFunction( value ) ) {
			return this.each( function( i ) {
				jQuery( this ).toggleClass(
					value.call( this, i, getClass( this ), stateVal ),
					stateVal
				);
			} );
		}

		if ( typeof stateVal === "boolean" && isValidValue ) {
			return stateVal ? this.addClass( value ) : this.removeClass( value );
		}

		classNames = classesToArray( value );

		return this.each( function() {
			if ( isValidValue ) {

				self = jQuery( this );

				for ( i = 0; i < classNames.length; i++ ) {
					className = classNames[ i ];

					if ( self.hasClass( className ) ) {
						self.removeClass( className );
					} else {
						self.addClass( className );
					}
				}

			} else if ( value === undefined || type === "boolean" ) {
				className = getClass( this );
				if ( className ) {

					dataPriv.set( this, "__className__", className );
				}

				if ( this.setAttribute ) {
					this.setAttribute( "class",
						className || value === false ?
							"" :
							dataPriv.get( this, "__className__" ) || ""
					);
				}
			}
		} );
	},

	hasClass: function( selector ) {
		var className, elem,
			i = 0;

		className = " " + selector + " ";
		while ( ( elem = this[ i++ ] ) ) {
			if ( elem.nodeType === 1 &&
				( " " + stripAndCollapse( getClass( elem ) ) + " " ).indexOf( className ) > -1 ) {
				return true;
			}
		}

		return false;
	}
} );




var rreturn = /\r/g;

jQuery.fn.extend( {
	val: function( value ) {
		var hooks, ret, valueIsFunction,
			elem = this[ 0 ];

		if ( !arguments.length ) {
			if ( elem ) {
				hooks = jQuery.valHooks[ elem.type ] ||
					jQuery.valHooks[ elem.nodeName.toLowerCase() ];

				if ( hooks &&
					"get" in hooks &&
					( ret = hooks.get( elem, "value" ) ) !== undefined
				) {
					return ret;
				}

				ret = elem.value;

				if ( typeof ret === "string" ) {
					return ret.replace( rreturn, "" );
				}

				return ret == null ? "" : ret;
			}

			return;
		}

		valueIsFunction = isFunction( value );

		return this.each( function( i ) {
			var val;

			if ( this.nodeType !== 1 ) {
				return;
			}

			if ( valueIsFunction ) {
				val = value.call( this, i, jQuery( this ).val() );
			} else {
				val = value;
			}

			if ( val == null ) {
				val = "";

			} else if ( typeof val === "number" ) {
				val += "";

			} else if ( Array.isArray( val ) ) {
				val = jQuery.map( val, function( value ) {
					return value == null ? "" : value + "";
				} );
			}

			hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];

			if ( !hooks || !( "set" in hooks ) || hooks.set( this, val, "value" ) === undefined ) {
				this.value = val;
			}
		} );
	}
} );

jQuery.extend( {
	valHooks: {
		option: {
			get: function( elem ) {

				var val = jQuery.find.attr( elem, "value" );
				return val != null ?
					val :

					stripAndCollapse( jQuery.text( elem ) );
			}
		},
		select: {
			get: function( elem ) {
				var value, option, i,
					options = elem.options,
					index = elem.selectedIndex,
					one = elem.type === "select-one",
					values = one ? null : [],
					max = one ? index + 1 : options.length;

				if ( index < 0 ) {
					i = max;

				} else {
					i = one ? index : 0;
				}

				for ( ; i < max; i++ ) {
					option = options[ i ];

					if ( ( option.selected || i === index ) &&

							!option.disabled &&
							( !option.parentNode.disabled ||
								!nodeName( option.parentNode, "optgroup" ) ) ) {

						value = jQuery( option ).val();

						if ( one ) {
							return value;
						}

						values.push( value );
					}
				}

				return values;
			},

			set: function( elem, value ) {
				var optionSet, option,
					options = elem.options,
					values = jQuery.makeArray( value ),
					i = options.length;

				while ( i-- ) {
					option = options[ i ];


					if ( option.selected =
						jQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1
					) {
						optionSet = true;
					}

				}

				if ( !optionSet ) {
					elem.selectedIndex = -1;
				}
				return values;
			}
		}
	}
} );

jQuery.each( [ "radio", "checkbox" ], function() {
	jQuery.valHooks[ this ] = {
		set: function( elem, value ) {
			if ( Array.isArray( value ) ) {
				return ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );
			}
		}
	};
	if ( !support.checkOn ) {
		jQuery.valHooks[ this ].get = function( elem ) {
			return elem.getAttribute( "value" ) === null ? "on" : elem.value;
		};
	}
} );




var location = window.location;

var nonce = { guid: Date.now() };

var rquery = ( /\?/ );



jQuery.parseXML = function( data ) {
	var xml, parserErrorElem;
	if ( !data || typeof data !== "string" ) {
		return null;
	}

	try {
		xml = ( new window.DOMParser() ).parseFromString( data, "text/xml" );
	} catch ( e ) {}

	parserErrorElem = xml && xml.getElementsByTagName( "parsererror" )[ 0 ];
	if ( !xml || parserErrorElem ) {
		jQuery.error( "Invalid XML: " + (
			parserErrorElem ?
				jQuery.map( parserErrorElem.childNodes, function( el ) {
					return el.textContent;
				} ).join( "\n" ) :
				data
		) );
	}
	return xml;
};


var rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
	stopPropagationCallback = function( e ) {
		e.stopPropagation();
	};

jQuery.extend( jQuery.event, {

	trigger: function( event, data, elem, onlyHandlers ) {

		var i, cur, tmp, bubbleType, ontype, handle, special, lastElement,
			eventPath = [ elem || document ],
			type = hasOwn.call( event, "type" ) ? event.type : event,
			namespaces = hasOwn.call( event, "namespace" ) ? event.namespace.split( "." ) : [];

		cur = lastElement = tmp = elem = elem || document;

		if ( elem.nodeType === 3 || elem.nodeType === 8 ) {
			return;
		}

		if ( rfocusMorph.test( type + jQuery.event.triggered ) ) {
			return;
		}

		if ( type.indexOf( "." ) > -1 ) {

			namespaces = type.split( "." );
			type = namespaces.shift();
			namespaces.sort();
		}
		ontype = type.indexOf( ":" ) < 0 && "on" + type;

		event = event[ jQuery.expando ] ?
			event :
			new jQuery.Event( type, typeof event === "object" && event );

		event.isTrigger = onlyHandlers ? 2 : 3;
		event.namespace = namespaces.join( "." );
		event.rnamespace = event.namespace ?
			new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" ) :
			null;

		event.result = undefined;
		if ( !event.target ) {
			event.target = elem;
		}

		data = data == null ?
			[ event ] :
			jQuery.makeArray( data, [ event ] );

		special = jQuery.event.special[ type ] || {};
		if ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {
			return;
		}

		if ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {

			bubbleType = special.delegateType || type;
			if ( !rfocusMorph.test( bubbleType + type ) ) {
				cur = cur.parentNode;
			}
			for ( ; cur; cur = cur.parentNode ) {
				eventPath.push( cur );
				tmp = cur;
			}

			if ( tmp === ( elem.ownerDocument || document ) ) {
				eventPath.push( tmp.defaultView || tmp.parentWindow || window );
			}
		}

		i = 0;
		while ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {
			lastElement = cur;
			event.type = i > 1 ?
				bubbleType :
				special.bindType || type;

			handle = ( dataPriv.get( cur, "events" ) || Object.create( null ) )[ event.type ] &&
				dataPriv.get( cur, "handle" );
			if ( handle ) {
				handle.apply( cur, data );
			}

			handle = ontype && cur[ ontype ];
			if ( handle && handle.apply && acceptData( cur ) ) {
				event.result = handle.apply( cur, data );
				if ( event.result === false ) {
					event.preventDefault();
				}
			}
		}
		event.type = type;

		if ( !onlyHandlers && !event.isDefaultPrevented() ) {

			if ( ( !special._default ||
				special._default.apply( eventPath.pop(), data ) === false ) &&
				acceptData( elem ) ) {

				if ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {

					tmp = elem[ ontype ];

					if ( tmp ) {
						elem[ ontype ] = null;
					}

					jQuery.event.triggered = type;

					if ( event.isPropagationStopped() ) {
						lastElement.addEventListener( type, stopPropagationCallback );
					}

					elem[ type ]();

					if ( event.isPropagationStopped() ) {
						lastElement.removeEventListener( type, stopPropagationCallback );
					}

					jQuery.event.triggered = undefined;

					if ( tmp ) {
						elem[ ontype ] = tmp;
					}
				}
			}
		}

		return event.result;
	},

	simulate: function( type, elem, event ) {
		var e = jQuery.extend(
			new jQuery.Event(),
			event,
			{
				type: type,
				isSimulated: true
			}
		);

		jQuery.event.trigger( e, null, elem );
	}

} );

jQuery.fn.extend( {

	trigger: function( type, data ) {
		return this.each( function() {
			jQuery.event.trigger( type, data, this );
		} );
	},
	triggerHandler: function( type, data ) {
		var elem = this[ 0 ];
		if ( elem ) {
			return jQuery.event.trigger( type, data, elem, true );
		}
	}
} );


var
	rbracket = /\[\]$/,
	rCRLF = /\r?\n/g,
	rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
	rsubmittable = /^(?:input|select|textarea|keygen)/i;

function buildParams( prefix, obj, traditional, add ) {
	var name;

	if ( Array.isArray( obj ) ) {

		jQuery.each( obj, function( i, v ) {
			if ( traditional || rbracket.test( prefix ) ) {

				add( prefix, v );

			} else {

				buildParams(
					prefix + "[" + ( typeof v === "object" && v != null ? i : "" ) + "]",
					v,
					traditional,
					add
				);
			}
		} );

	} else if ( !traditional && toType( obj ) === "object" ) {

		for ( name in obj ) {
			buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );
		}

	} else {

		add( prefix, obj );
	}
}

jQuery.param = function( a, traditional ) {
	var prefix,
		s = [],
		add = function( key, valueOrFunction ) {

			var value = isFunction( valueOrFunction ) ?
				valueOrFunction() :
				valueOrFunction;

			s[ s.length ] = encodeURIComponent( key ) + "=" +
				encodeURIComponent( value == null ? "" : value );
		};

	if ( a == null ) {
		return "";
	}

	if ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {

		jQuery.each( a, function() {
			add( this.name, this.value );
		} );

	} else {

		for ( prefix in a ) {
			buildParams( prefix, a[ prefix ], traditional, add );
		}
	}

	return s.join( "&" );
};

jQuery.fn.extend( {
	serialize: function() {
		return jQuery.param( this.serializeArray() );
	},
	serializeArray: function() {
		return this.map( function() {

			var elements = jQuery.prop( this, "elements" );
			return elements ? jQuery.makeArray( elements ) : this;
		} ).filter( function() {
			var type = this.type;

			return this.name && !jQuery( this ).is( ":disabled" ) &&
				rsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&
				( this.checked || !rcheckableType.test( type ) );
		} ).map( function( _i, elem ) {
			var val = jQuery( this ).val();

			if ( val == null ) {
				return null;
			}

			if ( Array.isArray( val ) ) {
				return jQuery.map( val, function( val ) {
					return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
				} );
			}

			return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
		} ).get();
	}
} );


var
	r20 = /%20/g,
	rhash = /#.*$/,
	rantiCache = /([?&])_=[^&]*/,
	rheaders = /^(.*?):[ \t]*([^\r\n]*)$/mg,

	rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
	rnoContent = /^(?:GET|HEAD)$/,
	rprotocol = /^\/\//,

	prefilters = {},

	transports = {},

	allTypes = "*/".concat( "*" ),

	originAnchor = document.createElement( "a" );

originAnchor.href = location.href;

function addToPrefiltersOrTransports( structure ) {

	return function( dataTypeExpression, func ) {

		if ( typeof dataTypeExpression !== "string" ) {
			func = dataTypeExpression;
			dataTypeExpression = "*";
		}

		var dataType,
			i = 0,
			dataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];

		if ( isFunction( func ) ) {

			while ( ( dataType = dataTypes[ i++ ] ) ) {

				if ( dataType[ 0 ] === "+" ) {
					dataType = dataType.slice( 1 ) || "*";
					( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );

				} else {
					( structure[ dataType ] = structure[ dataType ] || [] ).push( func );
				}
			}
		}
	};
}

function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {

	var inspected = {},
		seekingTransport = ( structure === transports );

	function inspect( dataType ) {
		var selected;
		inspected[ dataType ] = true;
		jQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {
			var dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );
			if ( typeof dataTypeOrTransport === "string" &&
				!seekingTransport && !inspected[ dataTypeOrTransport ] ) {

				options.dataTypes.unshift( dataTypeOrTransport );
				inspect( dataTypeOrTransport );
				return false;
			} else if ( seekingTransport ) {
				return !( selected = dataTypeOrTransport );
			}
		} );
		return selected;
	}

	return inspect( options.dataTypes[ 0 ] ) || !inspected[ "*" ] && inspect( "*" );
}

function ajaxExtend( target, src ) {
	var key, deep,
		flatOptions = jQuery.ajaxSettings.flatOptions || {};

	for ( key in src ) {
		if ( src[ key ] !== undefined ) {
			( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];
		}
	}
	if ( deep ) {
		jQuery.extend( true, target, deep );
	}

	return target;
}

function ajaxHandleResponses( s, jqXHR, responses ) {

	var ct, type, finalDataType, firstDataType,
		contents = s.contents,
		dataTypes = s.dataTypes;

	while ( dataTypes[ 0 ] === "*" ) {
		dataTypes.shift();
		if ( ct === undefined ) {
			ct = s.mimeType || jqXHR.getResponseHeader( "Content-Type" );
		}
	}

	if ( ct ) {
		for ( type in contents ) {
			if ( contents[ type ] && contents[ type ].test( ct ) ) {
				dataTypes.unshift( type );
				break;
			}
		}
	}

	if ( dataTypes[ 0 ] in responses ) {
		finalDataType = dataTypes[ 0 ];
	} else {

		for ( type in responses ) {
			if ( !dataTypes[ 0 ] || s.converters[ type + " " + dataTypes[ 0 ] ] ) {
				finalDataType = type;
				break;
			}
			if ( !firstDataType ) {
				firstDataType = type;
			}
		}

		finalDataType = finalDataType || firstDataType;
	}

	if ( finalDataType ) {
		if ( finalDataType !== dataTypes[ 0 ] ) {
			dataTypes.unshift( finalDataType );
		}
		return responses[ finalDataType ];
	}
}

function ajaxConvert( s, response, jqXHR, isSuccess ) {
	var conv2, current, conv, tmp, prev,
		converters = {},

		dataTypes = s.dataTypes.slice();

	if ( dataTypes[ 1 ] ) {
		for ( conv in s.converters ) {
			converters[ conv.toLowerCase() ] = s.converters[ conv ];
		}
	}

	current = dataTypes.shift();

	while ( current ) {

		if ( s.responseFields[ current ] ) {
			jqXHR[ s.responseFields[ current ] ] = response;
		}

		if ( !prev && isSuccess && s.dataFilter ) {
			response = s.dataFilter( response, s.dataType );
		}

		prev = current;
		current = dataTypes.shift();

		if ( current ) {

			if ( current === "*" ) {

				current = prev;

			} else if ( prev !== "*" && prev !== current ) {

				conv = converters[ prev + " " + current ] || converters[ "* " + current ];

				if ( !conv ) {
					for ( conv2 in converters ) {

						tmp = conv2.split( " " );
						if ( tmp[ 1 ] === current ) {

							conv = converters[ prev + " " + tmp[ 0 ] ] ||
								converters[ "* " + tmp[ 0 ] ];
							if ( conv ) {

								if ( conv === true ) {
									conv = converters[ conv2 ];

								} else if ( converters[ conv2 ] !== true ) {
									current = tmp[ 0 ];
									dataTypes.unshift( tmp[ 1 ] );
								}
								break;
							}
						}
					}
				}

				if ( conv !== true ) {

					if ( conv && s.throws ) {
						response = conv( response );
					} else {
						try {
							response = conv( response );
						} catch ( e ) {
							return {
								state: "parsererror",
								error: conv ? e : "No conversion from " + prev + " to " + current
							};
						}
					}
				}
			}
		}
	}

	return { state: "success", data: response };
}

jQuery.extend( {

	active: 0,

	lastModified: {},
	etag: {},

	ajaxSettings: {
		url: location.href,
		type: "GET",
		isLocal: rlocalProtocol.test( location.protocol ),
		global: true,
		processData: true,
		async: true,
		contentType: "application/x-www-form-urlencoded; charset=UTF-8",


		accepts: {
			"*": allTypes,
			text: "text/plain",
			html: "text/html",
			xml: "application/xml, text/xml",
			json: "application/json, text/javascript"
		},

		contents: {
			xml: /\bxml\b/,
			html: /\bhtml/,
			json: /\bjson\b/
		},

		responseFields: {
			xml: "responseXML",
			text: "responseText",
			json: "responseJSON"
		},

		converters: {

			"* text": String,

			"text html": true,

			"text json": JSON.parse,

			"text xml": jQuery.parseXML
		},

		flatOptions: {
			url: true,
			context: true
		}
	},

	ajaxSetup: function( target, settings ) {
		return settings ?

			ajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :

			ajaxExtend( jQuery.ajaxSettings, target );
	},

	ajaxPrefilter: addToPrefiltersOrTransports( prefilters ),
	ajaxTransport: addToPrefiltersOrTransports( transports ),

	ajax: function( url, options ) {

		if ( typeof url === "object" ) {
			options = url;
			url = undefined;
		}

		options = options || {};

		var transport,

			cacheURL,

			responseHeadersString,
			responseHeaders,

			timeoutTimer,

			urlAnchor,

			completed,

			fireGlobals,

			i,

			uncached,

			s = jQuery.ajaxSetup( {}, options ),

			callbackContext = s.context || s,

			globalEventContext = s.context &&
				( callbackContext.nodeType || callbackContext.jquery ) ?
				jQuery( callbackContext ) :
				jQuery.event,

			deferred = jQuery.Deferred(),
			completeDeferred = jQuery.Callbacks( "once memory" ),

			statusCode = s.statusCode || {},

			requestHeaders = {},
			requestHeadersNames = {},

			strAbort = "canceled",

			jqXHR = {
				readyState: 0,

				getResponseHeader: function( key ) {
					var match;
					if ( completed ) {
						if ( !responseHeaders ) {
							responseHeaders = {};
							while ( ( match = rheaders.exec( responseHeadersString ) ) ) {
								responseHeaders[ match[ 1 ].toLowerCase() + " " ] =
									( responseHeaders[ match[ 1 ].toLowerCase() + " " ] || [] )
										.concat( match[ 2 ] );
							}
						}
						match = responseHeaders[ key.toLowerCase() + " " ];
					}
					return match == null ? null : match.join( ", " );
				},

				getAllResponseHeaders: function() {
					return completed ? responseHeadersString : null;
				},

				setRequestHeader: function( name, value ) {
					if ( completed == null ) {
						name = requestHeadersNames[ name.toLowerCase() ] =
							requestHeadersNames[ name.toLowerCase() ] || name;
						requestHeaders[ name ] = value;
					}
					return this;
				},

				overrideMimeType: function( type ) {
					if ( completed == null ) {
						s.mimeType = type;
					}
					return this;
				},

				statusCode: function( map ) {
					var code;
					if ( map ) {
						if ( completed ) {

							jqXHR.always( map[ jqXHR.status ] );
						} else {

							for ( code in map ) {
								statusCode[ code ] = [ statusCode[ code ], map[ code ] ];
							}
						}
					}
					return this;
				},

				abort: function( statusText ) {
					var finalText = statusText || strAbort;
					if ( transport ) {
						transport.abort( finalText );
					}
					done( 0, finalText );
					return this;
				}
			};

		deferred.promise( jqXHR );

		s.url = ( ( url || s.url || location.href ) + "" )
			.replace( rprotocol, location.protocol + "//" );

		s.type = options.method || options.type || s.method || s.type;

		s.dataTypes = ( s.dataType || "*" ).toLowerCase().match( rnothtmlwhite ) || [ "" ];

		if ( s.crossDomain == null ) {
			urlAnchor = document.createElement( "a" );

			try {
				urlAnchor.href = s.url;

				urlAnchor.href = urlAnchor.href;
				s.crossDomain = originAnchor.protocol + "//" + originAnchor.host !==
					urlAnchor.protocol + "//" + urlAnchor.host;
			} catch ( e ) {

				s.crossDomain = true;
			}
		}

		if ( s.data && s.processData && typeof s.data !== "string" ) {
			s.data = jQuery.param( s.data, s.traditional );
		}

		inspectPrefiltersOrTransports( prefilters, s, options, jqXHR );

		if ( completed ) {
			return jqXHR;
		}

		fireGlobals = jQuery.event && s.global;

		if ( fireGlobals && jQuery.active++ === 0 ) {
			jQuery.event.trigger( "ajaxStart" );
		}

		s.type = s.type.toUpperCase();

		s.hasContent = !rnoContent.test( s.type );

		cacheURL = s.url.replace( rhash, "" );

		if ( !s.hasContent ) {

			uncached = s.url.slice( cacheURL.length );

			if ( s.data && ( s.processData || typeof s.data === "string" ) ) {
				cacheURL += ( rquery.test( cacheURL ) ? "&" : "?" ) + s.data;

				delete s.data;
			}

			if ( s.cache === false ) {
				cacheURL = cacheURL.replace( rantiCache, "$1" );
				uncached = ( rquery.test( cacheURL ) ? "&" : "?" ) + "_=" + ( nonce.guid++ ) +
					uncached;
			}

			s.url = cacheURL + uncached;

		} else if ( s.data && s.processData &&
			( s.contentType || "" ).indexOf( "application/x-www-form-urlencoded" ) === 0 ) {
			s.data = s.data.replace( r20, "+" );
		}

		if ( s.ifModified ) {
			if ( jQuery.lastModified[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-Modified-Since", jQuery.lastModified[ cacheURL ] );
			}
			if ( jQuery.etag[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-None-Match", jQuery.etag[ cacheURL ] );
			}
		}

		if ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {
			jqXHR.setRequestHeader( "Content-Type", s.contentType );
		}

		jqXHR.setRequestHeader(
			"Accept",
			s.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?
				s.accepts[ s.dataTypes[ 0 ] ] +
					( s.dataTypes[ 0 ] !== "*" ? ", " + allTypes + "; q=0.01" : "" ) :
				s.accepts[ "*" ]
		);

		for ( i in s.headers ) {
			jqXHR.setRequestHeader( i, s.headers[ i ] );
		}

		if ( s.beforeSend &&
			( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {

			return jqXHR.abort();
		}

		strAbort = "abort";

		completeDeferred.add( s.complete );
		jqXHR.done( s.success );
		jqXHR.fail( s.error );

		transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );

		if ( !transport ) {
			done( -1, "No Transport" );
		} else {
			jqXHR.readyState = 1;

			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxSend", [ jqXHR, s ] );
			}

			if ( completed ) {
				return jqXHR;
			}

			if ( s.async && s.timeout > 0 ) {
				timeoutTimer = window.setTimeout( function() {
					jqXHR.abort( "timeout" );
				}, s.timeout );
			}

			try {
				completed = false;
				transport.send( requestHeaders, done );
			} catch ( e ) {

				if ( completed ) {
					throw e;
				}

				done( -1, e );
			}
		}

		function done( status, nativeStatusText, responses, headers ) {
			var isSuccess, success, error, response, modified,
				statusText = nativeStatusText;

			if ( completed ) {
				return;
			}

			completed = true;

			if ( timeoutTimer ) {
				window.clearTimeout( timeoutTimer );
			}

			transport = undefined;

			responseHeadersString = headers || "";

			jqXHR.readyState = status > 0 ? 4 : 0;

			isSuccess = status >= 200 && status < 300 || status === 304;

			if ( responses ) {
				response = ajaxHandleResponses( s, jqXHR, responses );
			}

			if ( !isSuccess &&
				jQuery.inArray( "script", s.dataTypes ) > -1 &&
				jQuery.inArray( "json", s.dataTypes ) < 0 ) {
				s.converters[ "text script" ] = function() {};
			}

			response = ajaxConvert( s, response, jqXHR, isSuccess );

			if ( isSuccess ) {

				if ( s.ifModified ) {
					modified = jqXHR.getResponseHeader( "Last-Modified" );
					if ( modified ) {
						jQuery.lastModified[ cacheURL ] = modified;
					}
					modified = jqXHR.getResponseHeader( "etag" );
					if ( modified ) {
						jQuery.etag[ cacheURL ] = modified;
					}
				}

				if ( status === 204 || s.type === "HEAD" ) {
					statusText = "nocontent";

				} else if ( status === 304 ) {
					statusText = "notmodified";

				} else {
					statusText = response.state;
					success = response.data;
					error = response.error;
					isSuccess = !error;
				}
			} else {

				error = statusText;
				if ( status || !statusText ) {
					statusText = "error";
					if ( status < 0 ) {
						status = 0;
					}
				}
			}

			jqXHR.status = status;
			jqXHR.statusText = ( nativeStatusText || statusText ) + "";

			if ( isSuccess ) {
				deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );
			} else {
				deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );
			}

			jqXHR.statusCode( statusCode );
			statusCode = undefined;

			if ( fireGlobals ) {
				globalEventContext.trigger( isSuccess ? "ajaxSuccess" : "ajaxError",
					[ jqXHR, s, isSuccess ? success : error ] );
			}

			completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );

			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxComplete", [ jqXHR, s ] );

				if ( !( --jQuery.active ) ) {
					jQuery.event.trigger( "ajaxStop" );
				}
			}
		}

		return jqXHR;
	},

	getJSON: function( url, data, callback ) {
		return jQuery.get( url, data, callback, "json" );
	},

	getScript: function( url, callback ) {
		return jQuery.get( url, undefined, callback, "script" );
	}
} );

jQuery.each( [ "get", "post" ], function( _i, method ) {
	jQuery[ method ] = function( url, data, callback, type ) {

		if ( isFunction( data ) ) {
			type = type || callback;
			callback = data;
			data = undefined;
		}

		return jQuery.ajax( jQuery.extend( {
			url: url,
			type: method,
			dataType: type,
			data: data,
			success: callback
		}, jQuery.isPlainObject( url ) && url ) );
	};
} );

jQuery.ajaxPrefilter( function( s ) {
	var i;
	for ( i in s.headers ) {
		if ( i.toLowerCase() === "content-type" ) {
			s.contentType = s.headers[ i ] || "";
		}
	}
} );


jQuery._evalUrl = function( url, options, doc ) {
	return jQuery.ajax( {
		url: url,

		type: "GET",
		dataType: "script",
		cache: true,
		async: false,
		global: false,

		converters: {
			"text script": function() {}
		},
		dataFilter: function( response ) {
			jQuery.globalEval( response, options, doc );
		}
	} );
};


jQuery.fn.extend( {
	wrapAll: function( html ) {
		var wrap;

		if ( this[ 0 ] ) {
			if ( isFunction( html ) ) {
				html = html.call( this[ 0 ] );
			}

			wrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );

			if ( this[ 0 ].parentNode ) {
				wrap.insertBefore( this[ 0 ] );
			}

			wrap.map( function() {
				var elem = this;

				while ( elem.firstElementChild ) {
					elem = elem.firstElementChild;
				}

				return elem;
			} ).append( this );
		}

		return this;
	},

	wrapInner: function( html ) {
		if ( isFunction( html ) ) {
			return this.each( function( i ) {
				jQuery( this ).wrapInner( html.call( this, i ) );
			} );
		}

		return this.each( function() {
			var self = jQuery( this ),
				contents = self.contents();

			if ( contents.length ) {
				contents.wrapAll( html );

			} else {
				self.append( html );
			}
		} );
	},

	wrap: function( html ) {
		var htmlIsFunction = isFunction( html );

		return this.each( function( i ) {
			jQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );
		} );
	},

	unwrap: function( selector ) {
		this.parent( selector ).not( "body" ).each( function() {
			jQuery( this ).replaceWith( this.childNodes );
		} );
		return this;
	}
} );


jQuery.expr.pseudos.hidden = function( elem ) {
	return !jQuery.expr.pseudos.visible( elem );
};
jQuery.expr.pseudos.visible = function( elem ) {
	return !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );
};




jQuery.ajaxSettings.xhr = function() {
	try {
		return new window.XMLHttpRequest();
	} catch ( e ) {}
};

var xhrSuccessStatus = {

		0: 200,

		1223: 204
	},
	xhrSupported = jQuery.ajaxSettings.xhr();

support.cors = !!xhrSupported && ( "withCredentials" in xhrSupported );
support.ajax = xhrSupported = !!xhrSupported;

jQuery.ajaxTransport( function( options ) {
	var callback, errorCallback;

	if ( support.cors || xhrSupported && !options.crossDomain ) {
		return {
			send: function( headers, complete ) {
				var i,
					xhr = options.xhr();

				xhr.open(
					options.type,
					options.url,
					options.async,
					options.username,
					options.password
				);

				if ( options.xhrFields ) {
					for ( i in options.xhrFields ) {
						xhr[ i ] = options.xhrFields[ i ];
					}
				}

				if ( options.mimeType && xhr.overrideMimeType ) {
					xhr.overrideMimeType( options.mimeType );
				}

				if ( !options.crossDomain && !headers[ "X-Requested-With" ] ) {
					headers[ "X-Requested-With" ] = "XMLHttpRequest";
				}

				for ( i in headers ) {
					xhr.setRequestHeader( i, headers[ i ] );
				}

				callback = function( type ) {
					return function() {
						if ( callback ) {
							callback = errorCallback = xhr.onload =
								xhr.onerror = xhr.onabort = xhr.ontimeout =
									xhr.onreadystatechange = null;

							if ( type === "abort" ) {
								xhr.abort();
							} else if ( type === "error" ) {

								if ( typeof xhr.status !== "number" ) {
									complete( 0, "error" );
								} else {
									complete(

										xhr.status,
										xhr.statusText
									);
								}
							} else {
								complete(
									xhrSuccessStatus[ xhr.status ] || xhr.status,
									xhr.statusText,

									( xhr.responseType || "text" ) !== "text"  ||
									typeof xhr.responseText !== "string" ?
										{ binary: xhr.response } :
										{ text: xhr.responseText },
									xhr.getAllResponseHeaders()
								);
							}
						}
					};
				};

				xhr.onload = callback();
				errorCallback = xhr.onerror = xhr.ontimeout = callback( "error" );

				if ( xhr.onabort !== undefined ) {
					xhr.onabort = errorCallback;
				} else {
					xhr.onreadystatechange = function() {

						if ( xhr.readyState === 4 ) {

							window.setTimeout( function() {
								if ( callback ) {
									errorCallback();
								}
							} );
						}
					};
				}

				callback = callback( "abort" );

				try {

					xhr.send( options.hasContent && options.data || null );
				} catch ( e ) {

					if ( callback ) {
						throw e;
					}
				}
			},

			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
} );




jQuery.ajaxPrefilter( function( s ) {
	if ( s.crossDomain ) {
		s.contents.script = false;
	}
} );

jQuery.ajaxSetup( {
	accepts: {
		script: "text/javascript, application/javascript, " +
			"application/ecmascript, application/x-ecmascript"
	},
	contents: {
		script: /\b(?:java|ecma)script\b/
	},
	converters: {
		"text script": function( text ) {
			jQuery.globalEval( text );
			return text;
		}
	}
} );

jQuery.ajaxPrefilter( "script", function( s ) {
	if ( s.cache === undefined ) {
		s.cache = false;
	}
	if ( s.crossDomain ) {
		s.type = "GET";
	}
} );

jQuery.ajaxTransport( "script", function( s ) {

	if ( s.crossDomain || s.scriptAttrs ) {
		var script, callback;
		return {
			send: function( _, complete ) {
				script = jQuery( "<script>" )
					.attr( s.scriptAttrs || {} )
					.prop( { charset: s.scriptCharset, src: s.url } )
					.on( "load error", callback = function( evt ) {
						script.remove();
						callback = null;
						if ( evt ) {
							complete( evt.type === "error" ? 404 : 200, evt.type );
						}
					} );

				document.head.appendChild( script[ 0 ] );
			},
			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
} );




var oldCallbacks = [],
	rjsonp = /(=)\?(?=&|$)|\?\?/;

jQuery.ajaxSetup( {
	jsonp: "callback",
	jsonpCallback: function() {
		var callback = oldCallbacks.pop() || ( jQuery.expando + "_" + ( nonce.guid++ ) );
		this[ callback ] = true;
		return callback;
	}
} );

jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {

	var callbackName, overwritten, responseContainer,
		jsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?
			"url" :
			typeof s.data === "string" &&
				( s.contentType || "" )
					.indexOf( "application/x-www-form-urlencoded" ) === 0 &&
				rjsonp.test( s.data ) && "data"
		);

	if ( jsonProp || s.dataTypes[ 0 ] === "jsonp" ) {

		callbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?
			s.jsonpCallback() :
			s.jsonpCallback;

		if ( jsonProp ) {
			s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, "$1" + callbackName );
		} else if ( s.jsonp !== false ) {
			s.url += ( rquery.test( s.url ) ? "&" : "?" ) + s.jsonp + "=" + callbackName;
		}

		s.converters[ "script json" ] = function() {
			if ( !responseContainer ) {
				jQuery.error( callbackName + " was not called" );
			}
			return responseContainer[ 0 ];
		};

		s.dataTypes[ 0 ] = "json";

		overwritten = window[ callbackName ];
		window[ callbackName ] = function() {
			responseContainer = arguments;
		};

		jqXHR.always( function() {

			if ( overwritten === undefined ) {
				jQuery( window ).removeProp( callbackName );

			} else {
				window[ callbackName ] = overwritten;
			}

			if ( s[ callbackName ] ) {

				s.jsonpCallback = originalSettings.jsonpCallback;

				oldCallbacks.push( callbackName );
			}

			if ( responseContainer && isFunction( overwritten ) ) {
				overwritten( responseContainer[ 0 ] );
			}

			responseContainer = overwritten = undefined;
		} );

		return "script";
	}
} );




support.createHTMLDocument = ( function() {
	var body = document.implementation.createHTMLDocument( "" ).body;
	body.innerHTML = "<form></form><form></form>";
	return body.childNodes.length === 2;
} )();


jQuery.parseHTML = function( data, context, keepScripts ) {
	if ( typeof data !== "string" ) {
		return [];
	}
	if ( typeof context === "boolean" ) {
		keepScripts = context;
		context = false;
	}

	var base, parsed, scripts;

	if ( !context ) {

		if ( support.createHTMLDocument ) {
			context = document.implementation.createHTMLDocument( "" );

			base = context.createElement( "base" );
			base.href = document.location.href;
			context.head.appendChild( base );
		} else {
			context = document;
		}
	}

	parsed = rsingleTag.exec( data );
	scripts = !keepScripts && [];

	if ( parsed ) {
		return [ context.createElement( parsed[ 1 ] ) ];
	}

	parsed = buildFragment( [ data ], context, scripts );

	if ( scripts && scripts.length ) {
		jQuery( scripts ).remove();
	}

	return jQuery.merge( [], parsed.childNodes );
};


jQuery.fn.load = function( url, params, callback ) {
	var selector, type, response,
		self = this,
		off = url.indexOf( " " );

	if ( off > -1 ) {
		selector = stripAndCollapse( url.slice( off ) );
		url = url.slice( 0, off );
	}

	if ( isFunction( params ) ) {

		callback = params;
		params = undefined;

	} else if ( params && typeof params === "object" ) {
		type = "POST";
	}

	if ( self.length > 0 ) {
		jQuery.ajax( {
			url: url,

			type: type || "GET",
			dataType: "html",
			data: params
		} ).done( function( responseText ) {

			response = arguments;

			self.html( selector ?

				jQuery( "<div>" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :

				responseText );

		} ).always( callback && function( jqXHR, status ) {
			self.each( function() {
				callback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );
			} );
		} );
	}

	return this;
};




jQuery.expr.pseudos.animated = function( elem ) {
	return jQuery.grep( jQuery.timers, function( fn ) {
		return elem === fn.elem;
	} ).length;
};




jQuery.offset = {
	setOffset: function( elem, options, i ) {
		var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,
			position = jQuery.css( elem, "position" ),
			curElem = jQuery( elem ),
			props = {};

		if ( position === "static" ) {
			elem.style.position = "relative";
		}

		curOffset = curElem.offset();
		curCSSTop = jQuery.css( elem, "top" );
		curCSSLeft = jQuery.css( elem, "left" );
		calculatePosition = ( position === "absolute" || position === "fixed" ) &&
			( curCSSTop + curCSSLeft ).indexOf( "auto" ) > -1;

		if ( calculatePosition ) {
			curPosition = curElem.position();
			curTop = curPosition.top;
			curLeft = curPosition.left;

		} else {
			curTop = parseFloat( curCSSTop ) || 0;
			curLeft = parseFloat( curCSSLeft ) || 0;
		}

		if ( isFunction( options ) ) {

			options = options.call( elem, i, jQuery.extend( {}, curOffset ) );
		}

		if ( options.top != null ) {
			props.top = ( options.top - curOffset.top ) + curTop;
		}
		if ( options.left != null ) {
			props.left = ( options.left - curOffset.left ) + curLeft;
		}

		if ( "using" in options ) {
			options.using.call( elem, props );

		} else {
			curElem.css( props );
		}
	}
};

jQuery.fn.extend( {

	offset: function( options ) {

		if ( arguments.length ) {
			return options === undefined ?
				this :
				this.each( function( i ) {
					jQuery.offset.setOffset( this, options, i );
				} );
		}

		var rect, win,
			elem = this[ 0 ];

		if ( !elem ) {
			return;
		}

		if ( !elem.getClientRects().length ) {
			return { top: 0, left: 0 };
		}

		rect = elem.getBoundingClientRect();
		win = elem.ownerDocument.defaultView;
		return {
			top: rect.top + win.pageYOffset,
			left: rect.left + win.pageXOffset
		};
	},

	position: function() {
		if ( !this[ 0 ] ) {
			return;
		}

		var offsetParent, offset, doc,
			elem = this[ 0 ],
			parentOffset = { top: 0, left: 0 };

		if ( jQuery.css( elem, "position" ) === "fixed" ) {

			offset = elem.getBoundingClientRect();

		} else {
			offset = this.offset();

			doc = elem.ownerDocument;
			offsetParent = elem.offsetParent || doc.documentElement;
			while ( offsetParent &&
				( offsetParent === doc.body || offsetParent === doc.documentElement ) &&
				jQuery.css( offsetParent, "position" ) === "static" ) {

				offsetParent = offsetParent.parentNode;
			}
			if ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {

				parentOffset = jQuery( offsetParent ).offset();
				parentOffset.top += jQuery.css( offsetParent, "borderTopWidth", true );
				parentOffset.left += jQuery.css( offsetParent, "borderLeftWidth", true );
			}
		}

		return {
			top: offset.top - parentOffset.top - jQuery.css( elem, "marginTop", true ),
			left: offset.left - parentOffset.left - jQuery.css( elem, "marginLeft", true )
		};
	},

	offsetParent: function() {
		return this.map( function() {
			var offsetParent = this.offsetParent;

			while ( offsetParent && jQuery.css( offsetParent, "position" ) === "static" ) {
				offsetParent = offsetParent.offsetParent;
			}

			return offsetParent || documentElement;
		} );
	}
} );

jQuery.each( { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function( method, prop ) {
	var top = "pageYOffset" === prop;

	jQuery.fn[ method ] = function( val ) {
		return access( this, function( elem, method, val ) {

			var win;
			if ( isWindow( elem ) ) {
				win = elem;
			} else if ( elem.nodeType === 9 ) {
				win = elem.defaultView;
			}

			if ( val === undefined ) {
				return win ? win[ prop ] : elem[ method ];
			}

			if ( win ) {
				win.scrollTo(
					!top ? val : win.pageXOffset,
					top ? val : win.pageYOffset
				);

			} else {
				elem[ method ] = val;
			}
		}, method, val, arguments.length );
	};
} );

jQuery.each( [ "top", "left" ], function( _i, prop ) {
	jQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,
		function( elem, computed ) {
			if ( computed ) {
				computed = curCSS( elem, prop );

				return rnumnonpx.test( computed ) ?
					jQuery( elem ).position()[ prop ] + "px" :
					computed;
			}
		}
	);
} );


jQuery.each( { Height: "height", Width: "width" }, function( name, type ) {
	jQuery.each( {
		padding: "inner" + name,
		content: type,
		"": "outer" + name
	}, function( defaultExtra, funcName ) {

		jQuery.fn[ funcName ] = function( margin, value ) {
			var chainable = arguments.length && ( defaultExtra || typeof margin !== "boolean" ),
				extra = defaultExtra || ( margin === true || value === true ? "margin" : "border" );

			return access( this, function( elem, type, value ) {
				var doc;

				if ( isWindow( elem ) ) {

					return funcName.indexOf( "outer" ) === 0 ?
						elem[ "inner" + name ] :
						elem.document.documentElement[ "client" + name ];
				}

				if ( elem.nodeType === 9 ) {
					doc = elem.documentElement;

					return Math.max(
						elem.body[ "scroll" + name ], doc[ "scroll" + name ],
						elem.body[ "offset" + name ], doc[ "offset" + name ],
						doc[ "client" + name ]
					);
				}

				return value === undefined ?

					jQuery.css( elem, type, extra ) :

					jQuery.style( elem, type, value, extra );
			}, type, chainable ? margin : undefined, chainable );
		};
	} );
} );


jQuery.each( [
	"ajaxStart",
	"ajaxStop",
	"ajaxComplete",
	"ajaxError",
	"ajaxSuccess",
	"ajaxSend"
], function( _i, type ) {
	jQuery.fn[ type ] = function( fn ) {
		return this.on( type, fn );
	};
} );




jQuery.fn.extend( {

	bind: function( types, data, fn ) {
		return this.on( types, null, data, fn );
	},
	unbind: function( types, fn ) {
		return this.off( types, null, fn );
	},

	delegate: function( selector, types, data, fn ) {
		return this.on( types, selector, data, fn );
	},
	undelegate: function( selector, types, fn ) {

		return arguments.length === 1 ?
			this.off( selector, "**" ) :
			this.off( types, selector || "**", fn );
	},

	hover: function( fnOver, fnOut ) {
		return this
			.on( "mouseenter", fnOver )
			.on( "mouseleave", fnOut || fnOver );
	}
} );

jQuery.each(
	( "blur focus focusin focusout resize scroll click dblclick " +
	"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
	"change select submit keydown keypress keyup contextmenu" ).split( " " ),
	function( _i, name ) {

		jQuery.fn[ name ] = function( data, fn ) {
			return arguments.length > 0 ?
				this.on( name, null, data, fn ) :
				this.trigger( name );
		};
	}
);




var rtrim = /^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;

jQuery.proxy = function( fn, context ) {
	var tmp, args, proxy;

	if ( typeof context === "string" ) {
		tmp = fn[ context ];
		context = fn;
		fn = tmp;
	}

	if ( !isFunction( fn ) ) {
		return undefined;
	}

	args = slice.call( arguments, 2 );
	proxy = function() {
		return fn.apply( context || this, args.concat( slice.call( arguments ) ) );
	};

	proxy.guid = fn.guid = fn.guid || jQuery.guid++;

	return proxy;
};

jQuery.holdReady = function( hold ) {
	if ( hold ) {
		jQuery.readyWait++;
	} else {
		jQuery.ready( true );
	}
};
jQuery.isArray = Array.isArray;
jQuery.parseJSON = JSON.parse;
jQuery.nodeName = nodeName;
jQuery.isFunction = isFunction;
jQuery.isWindow = isWindow;
jQuery.camelCase = camelCase;
jQuery.type = toType;

jQuery.now = Date.now;

jQuery.isNumeric = function( obj ) {

	var type = jQuery.type( obj );
	return ( type === "number" || type === "string" ) &&

		!isNaN( obj - parseFloat( obj ) );
};

jQuery.trim = function( text ) {
	return text == null ?
		"" :
		( text + "" ).replace( rtrim, "$1" );
};





if ( typeof define === "function" && define.amd ) {
	define( "jquery", [], function() {
		return jQuery;
	} );
}




var

	_jQuery = window.jQuery,

	_$ = window.$;

jQuery.noConflict = function( deep ) {
	if ( window.$ === jQuery ) {
		window.$ = _$;
	}

	if ( deep && window.jQuery === jQuery ) {
		window.jQuery = _jQuery;
	}

	return jQuery;
};

if ( typeof noGlobal === "undefined" ) {
	window.jQuery = window.$ = jQuery;
}




return jQuery;
} );

(function (factory) {
	if (typeof define === "function" && define.amd) {
		define(["jquery"], factory);
	} else {
		factory(jQuery);
	}
})

	(function ($) {
		var d = [], doc = $(document), ie6 = false && typeof window["XMLHttpRequest"] !== "object", ie7 = false, ieQuirks = null, wndw = $(window), w = [];
		$.alert = function (data, options) {
			return $.alert.impl.init(data, options);
		};
		$.alert.close = function () {
			$.alert.impl.close();
		};
		$.alert.focus = function (pos) {
			$.alert.impl.focus(pos);
		};
		$.alert.setContainerDimensions = function () {
			$.alert.impl.setContainerDimensions();
		};
		$.alert.setPosition = function () {
			$.alert.impl.setPosition();
		};
		$.alert.update = function (height, width) {
			$.alert.impl.update(height, width);
		};
		$.fn.alert = function (options) {
			return $.alert.impl.init(this, options)
		};
		$.alert.defaults = {
			appendTo: "body", focus: true, opacity: 50, overlayId: "alertmodal-overlay", overlayCss: {}, containerId: "alertmodal-container", containerCss: {}, dataId: "alertmodal-data", dataCss: {}, minHeight: null, minWidth: null, maxHeight: null, maxWidth: null, autoResize: false, autoPosition: true, zIndex: 20200, close: true, closeHTML: '<a class="modalCloseImg" title="Close"></a>', closeClass: "alertmodal-close", escClose: false, overlayClose: false, fixed: true, position: null, persist: false, alert: true,
			onOpen: null, onShow: null, onClose: null
		};
		$.alert.impl = {
			d: {}, init: function (data, options) {
				var s = this;
				if (s.d.data) {
					return false;
				}
				ieQuirks = !$.boxModel;
				s.o = $.extend({}, $.alert.defaults, options);
				s.zIndex = s.o.zIndex;
				s.occb = false;
				if (typeof data === "object") {
					data = data instanceof jQuery ? data : $(data);
					s.d.placeholder = false;
					if (data.parent().parent().length > 0) {
						data.before($("<span></span>").attr("id", "alertmodal-placeholder").css({ display: "none" }));
						s.d.placeholder = true;
						s.display = data.css("display");
						if (!s.o.persist) {
							s.d.orig = data.clone(true);
						}
					}
				} else {
					if (typeof data === "string" || typeof data === "number") {
						data = $("<div></div>").html(data);
					} else {
						alert("AlertModal Error: Unsupported data type: " + typeof data);
						return s;
					}
				}
				s.create(data);
				data = null;
				s.open();
				if ($.isFunction(s.o.onShow)) {
					s.o.onShow.apply(s, [s.d]);
				}
				return s
			}, create: function (data) {
				var s = this;
				s.getDimensions();
				if (s.o.alert && syn.$b.isIE6) {
					s.d.iframe = $('<iframe src="javascript:false;"></iframe>').css($.extend(s.o.iframeCss, { display: "none", opacity: 0, position: "fixed", height: w[0], width: w[1], zIndex: s.o.zIndex, top: 0, left: 0 })).appendTo(s.o.appendTo);
				}
				s.d.overlay = $("<div></div>").attr("id", s.o.overlayId).addClass("alertmodal-overlay").css($.extend(s.o.overlayCss, { display: "none", opacity: s.o.opacity / 100, height: s.o.alert ? d[0] : 0, width: s.o.alert ? d[1] : 0, position: "fixed", left: 0, top: 0, zIndex: s.o.zIndex + 1 })).appendTo(s.o.appendTo);
				s.d.container = $("<div></div>").attr("id", s.o.containerId).addClass("alertmodal-container").css($.extend({ position: "fixed" }, s.o.containerCss, { display: "none", zIndex: s.o.zIndex + 2 })).append(s.o.close && s.o.closeHTML ? $(s.o.closeHTML).addClass(s.o.closeClass) : "").appendTo(s.o.appendTo);
				s.d.wrap = $("<div></div>").attr("tabIndex", -1).addClass("alertmodal-wrap").css({ height: "100%", outline: 0, width: "100%" }).appendTo(s.d.container);
				s.d.data = data.attr("id", data.attr("id") || s.o.dataId).addClass("alertmodal-data").css($.extend(s.o.dataCss, { display: "none" })).appendTo("body");
				data = null;
				s.setContainerDimensions();
				s.d.data.appendTo(s.d.wrap);
				if (syn.$b.isIE6) {
					s.fixIE();
				}
			}, bindEvents: function () {
				var s = this;
				$("." + s.o.closeClass).bind("click.alertmodal", function (e) {
					e.preventDefault();
					s.close();
				});
				if (s.o.alert && s.o.close && s.o.overlayClose) {
					s.d.overlay.bind("click.alertmodal", function (e) {
						e.preventDefault();
						s.close();
					})
				}
				doc.bind("keydown.alertmodal", function (e) {
					if (s.o.alert && e.keyCode === 9) {
						s.watchTab(e);
					} else {
						if (s.o.close && s.o.escClose && e.keyCode === 27) {
							e.preventDefault();
							s.close();
						}
					}
				});
				wndw.bind("resize.alertmodal orientationchange.alertmodal", function () {
					s.getDimensions();
					s.o.autoResize ? s.setContainerDimensions() : s.o.autoPosition && s.setPosition();
					if (syn.$b.isIE6) {
						s.fixIE();
					} else {
						if (s.o.alert) {
							s.d.iframe && s.d.iframe.css({ height: w[0], width: w[1] });
							s.d.overlay.css({ height: d[0], width: d[1] });
						}
					}
				})
			}, unbindEvents: function () {
				$("." + this.o.closeClass).unbind("click.alertmodal");
				doc.unbind("keydown.alertmodal");
				wndw.unbind(".alertmodal");
				this.d.overlay.unbind("click.alertmodal");
			}, fixIE: function () {
				var s = this, p = s.o.position;
				$.each([s.d.iframe || null, !s.o.alert ? null : s.d.overlay, s.d.container.css("position") === "fixed" ? s.d.container : null], function (i, el) {
					if (el) {
						var bch = "document.body.clientHeight", bcw = "document.body.clientWidth", bsh = "document.body.scrollHeight", bsl = "document.body.scrollLeft", bst = "document.body.scrollTop", bsw = "document.body.scrollWidth", ch = "document.documentElement.clientHeight", cw = "document.documentElement.clientWidth", sl = "document.documentElement.scrollLeft", st = "document.documentElement.scrollTop", s = el[0].style;
						s.position = "absolute";
						if (i < 2) {
							s.removeExpression("height");
							s.removeExpression("width");
							s.setExpression("height", "" + bsh + " > " + bch + " ? " + bsh + " : " + bch + ' + "px"');
							s.setExpression("width", "" + bsw + " > " + bcw + " ? " + bsw + " : " + bcw + ' + "px"')
						} else {
							var te, le;
							if (p && p.constructor === Array) {
								var top = p[0] ? typeof p[0] === "number" ? p[0].toString() : p[0].replace(/px/, "") : el.css("top").replace(/px/, "");
								te = top.indexOf("%") === -1 ? top + " + (t = " + st + " ? " + st + " : " + bst + ') + "px"' : parseInt(top.replace(/%/, "")) + " * ((" + ch + " || " + bch + ") / 100) + (t = " + st + " ? " + st + " : " + bst + ') + "px"';
								if (p[1]) {
									var left = typeof p[1] === "number" ? p[1].toString() : p[1].replace(/px/, "");
									le = left.indexOf("%") === -1 ? left + " + (t = " + sl + " ? " + sl + " : " + bsl + ') + "px"' : parseInt(left.replace(/%/, "")) + " * ((" + cw + " || " + bcw + ") / 100) + (t = " + sl + " ? " + sl + " : " + bsl + ') + "px"'
								}
							} else {
								te = "(" + ch + " || " + bch + ") / 2 - (this.offsetHeight / 2) + (t = " + st + " ? " + st + " : " + bst + ') + "px"';
								le = "(" + cw + " || " + bcw + ") / 2 - (this.offsetWidth / 2) + (t = " + sl + " ? " + sl + " : " + bsl + ') + "px"'
							}
							s.removeExpression("top");
							s.removeExpression("left");
							s.setExpression("top", te);
							s.setExpression("left", le);
						}
					}
				})
			}, focus: function (pos) {
				var s = this, p = pos && $.inArray(pos, ["first", "last"]) !== -1 ? pos : "first";
				var input = $(":input:enabled:visible:" + p, s.d.wrap);
				setTimeout(function () {
					input.length > 0 ? input.focus() : s.d.wrap.focus();
				}, 10)
			}, getDimensions: function () {
				var s = this, h = wndw.height();
				d = [doc.height(), doc.width()];
				w = [h, wndw.width()];
			}, getVal: function (v, d) {
				return v ? typeof v === "number" ? v : v === "auto" ? 0 : v.indexOf("%") > 0 ? parseInt(v.replace(/%/, "")) / 100 * (d === "h" ? w[0] : w[1]) : parseInt(v.replace(/px/, "")) : null
			}, update: function (height, width) {
				var s = this;
				if (!s.d.data) {
					return false;
				}
				s.d.origHeight = s.getVal(height, "h");
				s.d.origWidth = s.getVal(width, "w");
				s.d.data.hide();
				height && s.d.container.css("height", height);
				width && s.d.container.css("width", width);
				s.setContainerDimensions();
				s.d.data.show();
				s.o.focus && s.focus();
				s.unbindEvents();
				s.bindEvents();
			}, setContainerDimensions: function () {
				var s = this, badIE = syn.$b.isIE6 || syn.$b.isIE7;
				var ch = s.getVal(s.d.container.css('height'), 'h'),
					cw = s.getVal(s.d.container.css('width'), 'h'),
					dh = s.d.data.outerHeight(true),
					dw = s.d.data.outerWidth(true);
				s.d.origHeight = s.d.origHeight || ch;
				s.d.origWidth = s.d.origWidth || cw;
				var mxoh = s.o.maxHeight ? s.getVal(s.o.maxHeight, "h") : null, mxow = s.o.maxWidth ? s.getVal(s.o.maxWidth, "w") : null, mh = mxoh && mxoh < w[0] ? mxoh : w[0], mw = mxow && mxow < w[1] ? mxow : w[1];
				var moh = s.o.minHeight ? s.getVal(s.o.minHeight, "h") : "auto";
				if (ch && ch > moh) {
					if (!dh) {
						ch = moh;
					} else {
						if (dh > mh) {
							ch = mh;
						} else {
							if (s.o.minHeight && moh !== "auto" && dh < moh) {
								ch = moh;
							} else {
								ch = dh;
							}
						}
					}
				} else {
					ch = s.o.autoResize && ch > mh ? mh : ch < moh ? moh : ch;
				}
				var mow = s.o.minWidth ? s.getVal(s.o.minWidth, "w") : "auto";
				if (cw && cw > mow) {
					if (!dw) {
						cw = mow;
					} else {
						if (dw > mw) {
							cw = mw;
						} else {
							if (s.o.minWidth && mow !== "auto" && dw < mow) {
								cw = mow;
							} else {
								cw = dw;
							}
						}
					}
				} else {
					cw = s.o.autoResize && cw > mw ? mw : cw < mow ? mow : cw;
				}
				s.d.container.css({ height: ch, width: cw });
				s.d.wrap.css({ overflow: dh > ch || dw > cw ? "auto" : "visible" });
				s.o.autoPosition && s.setPosition();
			}, setPosition: function () {
				var s = this, top, left, hc = w[0] / 2 - s.d.container.outerHeight(true) / 2, vc = w[1] / 2 - s.d.container.outerWidth(true) / 2, st = s.d.container.css("position") !== "fixed" ? wndw.scrollTop() : 0;
				if (s.o.position && Object.prototype.toString.call(s.o.position) === "[object Array]") {
					top = st + (s.o.position[0] || hc);
					left = s.o.position[1] || vc;
				} else {
					top = st + hc;
					left = vc;
				}
				s.d.container.css({ left: left, top: top })
			}, watchTab: function (e) {
				var s = this;
				if ($(e.target).parents(".alertmodal-container").length > 0) {
					s.inputs = $(":input:enabled:visible:first, :input:enabled:visible:last", s.d.data[0]);
					if (!e.shiftKey && e.target === s.inputs[s.inputs.length - 1] || e.shiftKey && e.target === s.inputs[0] || s.inputs.length === 0) {
						e.preventDefault();
						var pos = e.shiftKey ? "last" : "first";
						s.focus(pos);
					}
				} else {
					e.preventDefault();
					s.focus();
				}
			}, open: function () {
				var s = this;
				s.d.iframe && s.d.iframe.show();
				if ($.isFunction(s.o.onOpen)) {
					s.o.onOpen.apply(s, [s.d])
				} else {
					s.d.overlay.show();
					s.d.container.show();
					s.d.data.show();
				}
				s.o.focus && s.focus();
				s.bindEvents();
			}, close: function () {
				var s = this;
				if (!s.d.data) {
					return false;
				}
				s.unbindEvents();
				if ($.isFunction(s.o.onClose) && !s.occb) {
					s.occb = true;
					s.o.onClose.apply(s, [s.d]);
				} else {
					if (s.d.placeholder) {
						var ph = $("#alertmodal-placeholder");
						if (s.o.persist) {
							ph.replaceWith(s.d.data.removeClass("alertmodal-data").css("display", s.display))
						} else {
							s.d.data.hide().remove();
							ph.replaceWith(s.d.orig)
						}
					} else {
						s.d.data.hide().remove();
					}
					s.d.container.hide().remove();
					s.d.overlay.hide();
					s.d.iframe && s.d.iframe.hide().remove();
					s.d.overlay.remove();
					s.d = {};
				}
			}
		}
	});


;(function (factory) {
	if (typeof define === 'function' && define.amd) {
		define(['jquery'], factory);
	} else if(typeof module === 'object' && module.exports) {
		module.exports = factory(require("jQuery"));
	} else {
		factory(jQuery);
	}
}
(function ($) {
	var d = [],
		doc = $(document),
		ua = navigator.userAgent.toLowerCase(),
		wndw = $(window),
		w = [];

	var browser = {
		ieQuirks: null,
		msie: /msie/.test(ua) && !/opera/.test(ua),
		opera: /opera/.test(ua)
	};
	browser.ie6 = browser.msie && /msie 6./.test(ua) && typeof window['XMLHttpRequest'] !== 'object';
	browser.ie7 = browser.msie && /msie 7.0/.test(ua);
	browser.boxModel = (document.compatMode === "CSS1Compat");

	$.modal = function (data, options) {
		return $.modal.impl.init(data, options);
	};

	$.modal.close = function () {
		$.modal.impl.close();
	};

	$.modal.focus = function (pos) {
		$.modal.impl.focus(pos);
	};

	$.modal.setContainerDimensions = function () {
		$.modal.impl.setContainerDimensions();
	};

	$.modal.setPosition = function () {
		$.modal.impl.setPosition();
	};

	$.modal.update = function (height, width) {
		$.modal.impl.update(height, width);
	};

	$.fn.modal = function (options) {
		return $.modal.impl.init(this, options);
	};

	$.modal.defaults = {
		appendTo: 'body',
		focus: true,
		opacity: 50,
		overlayId: 'simplemodal-overlay',
		overlayCss: {},
		containerId: 'simplemodal-container',
		containerCss: {},
		dataId: 'simplemodal-data',
		dataCss: {},
		minHeight: null,
		minWidth: null,
		maxHeight: null,
		maxWidth: null,
		autoResize: false,
		autoPosition: true,
		zIndex: 1000,
		close: true,
		closeHTML: '<a class="modalCloseImg" title="Close"></a>',
		closeClass: 'simplemodal-close',
		escClose: true,
		overlayClose: false,
		fixed: true,
		position: null,
		persist: false,
		modal: true,
		onOpen: null,
		onShow: null,
		onClose: null
	};

	$.modal.impl = {
		d: {},
		init: function (data, options) {
			var s = this;

			if (s.d.data) {
				return false;
			}

			browser.ieQuirks = browser.msie && !browser.boxModel;

			s.o = $.extend({}, $.modal.defaults, options);

			s.zIndex = s.o.zIndex;

			s.occb = false;

			if (typeof data === 'object') {
				data = data instanceof $ ? data : $(data);
				s.d.placeholder = false;

				if (data.parent().parent().length > 0) {
					data.before($('<span></span>')
						.attr('id', 'simplemodal-placeholder')
						.css({display: 'none'}));

					s.d.placeholder = true;
					s.display = data.css('display');

					if (!s.o.persist) {
						s.d.orig = data.clone(true);
					}
				}
			}
			else if (typeof data === 'string' || typeof data === 'number') {
				data = $('<div></div>').html(data);
			}
			else {
				alert('SimpleModal Error: Unsupported data type: ' + typeof data);
				return s;
			}

			s.create(data);
			data = null;

			s.open();

			if ($.isFunction(s.o.onShow)) {
				s.o.onShow.apply(s, [s.d]);
			}

			return s;
		},
		create: function (data) {
			var s = this;

			s.getDimensions();

			if (s.o.modal && browser.ie6) {
				s.d.iframe = $('<iframe src="javascript:false;"></iframe>')
					.css($.extend(s.o.iframeCss, {
						display: 'none',
						opacity: 0,
						position: 'fixed',
						height: w[0],
						width: w[1],
						zIndex: s.o.zIndex,
						top: 0,
						left: 0
					}))
					.appendTo(s.o.appendTo);
			}

			s.d.overlay = $('<div></div>')
				.attr('id', s.o.overlayId)
				.addClass('simplemodal-overlay')
				.css($.extend(s.o.overlayCss, {
					display: 'none',
					opacity: s.o.opacity / 100,
					height: s.o.modal ? d[0] : 0,
					width: s.o.modal ? d[1] : 0,
					position: 'fixed',
					left: 0,
					top: 0,
					zIndex: s.o.zIndex + 1
				}))
				.appendTo(s.o.appendTo);

			s.d.container = $('<div></div>')
				.attr('id', s.o.containerId)
				.attr('role', 'dialog')
				.addClass('simplemodal-container')
				.css($.extend(
					{position: s.o.fixed ? 'fixed' : 'absolute'},
					s.o.containerCss,
					{display: 'none', zIndex: s.o.zIndex + 2}
				))
				.append(s.o.close && s.o.closeHTML
					? $(s.o.closeHTML).addClass(s.o.closeClass)
					: '')
				.appendTo(s.o.appendTo);

			s.d.wrap = $('<div></div>')
				.attr('tabIndex', -1)
				.addClass('simplemodal-wrap')
				.css({height: '100%', outline: 0, width: '100%'})
				.appendTo(s.d.container);

			s.d.data = data
				.attr('id', data.attr('id') || s.o.dataId)
				.addClass('simplemodal-data')
				.css($.extend(s.o.dataCss, {
						display: 'none'
				}))
				.appendTo('body');
			data = null;

			s.setContainerDimensions();
			s.d.data.appendTo(s.d.wrap);

			if (browser.ie6 || browser.ieQuirks) {
				s.fixIE();
			}
		},
		bindEvents: function () {
			var s = this;

			$('.' + s.o.closeClass).bind('click.simplemodal', function (e) {
				e.preventDefault();
				s.close();
			});

			if (s.o.modal && s.o.close && s.o.overlayClose) {
				s.d.overlay.bind('click.simplemodal', function (e) {
					e.preventDefault();
					s.close();
				});
			}

			doc.bind('keydown.simplemodal', function (e) {
				if (s.o.modal && e.keyCode === 9) { 
					s.watchTab(e);
				}
				else if ((s.o.close && s.o.escClose) && e.keyCode === 27) { 
					e.preventDefault();
					s.close();
				}
			});

			wndw.bind('resize.simplemodal orientationchange.simplemodal', function () {
				s.getDimensions();

				s.o.autoResize ? s.setContainerDimensions() : s.o.autoPosition && s.setPosition();

				if (browser.ie6 || browser.ieQuirks) {
					s.fixIE();
				}
				else if (s.o.modal) {
					s.d.iframe && s.d.iframe.css({height: w[0], width: w[1]});
					s.d.overlay.css({height: d[0], width: d[1]});
				}
			});
		},
		unbindEvents: function () {
			$('.' + this.o.closeClass).unbind('click.simplemodal');
			doc.unbind('keydown.simplemodal');
			wndw.unbind('.simplemodal');
			this.d.overlay.unbind('click.simplemodal');
		},
		fixIE: function () {
			var s = this, p = s.o.position;

			$.each([s.d.iframe || null, !s.o.modal ? null : s.d.overlay, s.d.container.css('position') === 'fixed' ? s.d.container : null], function (i, el) {
				if (el) {
					var bch = 'document.body.clientHeight', bcw = 'document.body.clientWidth',
						bsh = 'document.body.scrollHeight', bsl = 'document.body.scrollLeft',
						bst = 'document.body.scrollTop', bsw = 'document.body.scrollWidth',
						ch = 'document.documentElement.clientHeight', cw = 'document.documentElement.clientWidth',
						sl = 'document.documentElement.scrollLeft', st = 'document.documentElement.scrollTop',
						s = el[0].style;

					s.position = 'absolute';
					if (i < 2) {
						s.removeExpression('height');
						s.removeExpression('width');
						s.setExpression('height','' + bsh + ' > ' + bch + ' ? ' + bsh + ' : ' + bch + ' + "px"');
						s.setExpression('width','' + bsw + ' > ' + bcw + ' ? ' + bsw + ' : ' + bcw + ' + "px"');
					}
					else {
						var te, le;
						if (p && p.constructor === Array) {
							var top = p[0]
								? typeof p[0] === 'number' ? p[0].toString() : p[0].replace(/px/, '')
								: el.css('top').replace(/px/, '');
							te = top.indexOf('%') === -1
								? top + ' + (t = ' + st + ' ? ' + st + ' : ' + bst + ') + "px"'
								: parseInt(top.replace(/%/, '')) + ' * ((' + ch + ' || ' + bch + ') / 100) + (t = ' + st + ' ? ' + st + ' : ' + bst + ') + "px"';

							if (p[1]) {
								var left = typeof p[1] === 'number' ? p[1].toString() : p[1].replace(/px/, '');
								le = left.indexOf('%') === -1
									? left + ' + (t = ' + sl + ' ? ' + sl + ' : ' + bsl + ') + "px"'
									: parseInt(left.replace(/%/, '')) + ' * ((' + cw + ' || ' + bcw + ') / 100) + (t = ' + sl + ' ? ' + sl + ' : ' + bsl + ') + "px"';
							}
						}
						else {
							te = '(' + ch + ' || ' + bch + ') / 2 - (this.offsetHeight / 2) + (t = ' + st + ' ? ' + st + ' : ' + bst + ') + "px"';
							le = '(' + cw + ' || ' + bcw + ') / 2 - (this.offsetWidth / 2) + (t = ' + sl + ' ? ' + sl + ' : ' + bsl + ') + "px"';
						}
						s.removeExpression('top');
						s.removeExpression('left');
						s.setExpression('top', te);
						s.setExpression('left', le);
					}
				}
			});
		},
		focus: function (pos) {
			var s = this, p = pos && $.inArray(pos, ['first', 'last']) !== -1 ? pos : 'first';

			var input = $(':input:enabled:visible:' + p, s.d.wrap);
			setTimeout(function () {
				input.length > 0 ? input.focus() : s.d.wrap.focus();
			}, 10);
		},
		getDimensions: function () {
			var s = this,
				h = typeof window.innerHeight === 'undefined' ? wndw.height() : window.innerHeight;

			d = [doc.height(), doc.width()];
			w = [h, wndw.width()];
		},
		getVal: function (v, d) {
			return v ? (typeof v === 'number' ? v
					: v === 'auto' ? 0
					: v.indexOf('%') > 0 ? ((parseInt(v.replace(/%/, '')) / 100) * (d === 'h' ? w[0] : w[1]))
					: parseInt(v.replace(/px/, '')))
				: null;
		},
		update: function (height, width) {
			var s = this;

			if (!s.d.data) {
				return false;
			}

			s.d.origHeight = s.getVal(height, 'h');
			s.d.origWidth = s.getVal(width, 'w');

			s.d.data.hide();
			height && s.d.container.css('height', height);
			width && s.d.container.css('width', width);
			s.setContainerDimensions();
			s.d.data.show();
			s.o.focus && s.focus();

			s.unbindEvents();
			s.bindEvents();
		},
		setContainerDimensions: function () {
			var s = this,
				badIE = browser.ie6 || browser.ie7;

			var ch = s.d.origHeight ? s.d.origHeight : browser.opera ? s.d.container.height() : s.getVal(badIE ? s.d.container[0].currentStyle['height'] : s.d.container.css('height'), 'h'),
				cw = s.d.origWidth ? s.d.origWidth : browser.opera ? s.d.container.width() : s.getVal(badIE ? s.d.container[0].currentStyle['width'] : s.d.container.css('width'), 'w'),
				dh = s.d.data.outerHeight(true), dw = s.d.data.outerWidth(true);

			s.d.origHeight = s.d.origHeight || ch;
			s.d.origWidth = s.d.origWidth || cw;

			var mxoh = s.o.maxHeight ? s.getVal(s.o.maxHeight, 'h') : null,
				mxow = s.o.maxWidth ? s.getVal(s.o.maxWidth, 'w') : null,
				mh = mxoh && mxoh < w[0] ? mxoh : w[0],
				mw = mxow && mxow < w[1] ? mxow : w[1];

			var moh = s.o.minHeight ? s.getVal(s.o.minHeight, 'h') : 'auto';
			if (!ch) {
				if (!dh) {ch = moh;}
				else {
					if (dh > mh) {ch = mh;}
					else if (s.o.minHeight && moh !== 'auto' && dh < moh) {ch = moh;}
					else {ch = dh;}
				}
			}
			else {
				ch = s.o.autoResize && ch > mh ? mh : ch < moh ? moh : ch;
			}

			var mow = s.o.minWidth ? s.getVal(s.o.minWidth, 'w') : 'auto';
			if (!cw) {
				if (!dw) {cw = mow;}
				else {
					if (dw > mw) {cw = mw;}
					else if (s.o.minWidth && mow !== 'auto' && dw < mow) {cw = mow;}
					else {cw = dw;}
				}
			}
			else {
				cw = s.o.autoResize && cw > mw ? mw : cw < mow ? mow : cw;
			}

			s.d.container.css({height: ch, width: cw});
			s.d.wrap.css({overflow: (dh > ch || dw > cw) ? 'auto' : 'visible'});
			s.o.autoPosition && s.setPosition();
		},
		setPosition: function () {
			var s = this, top, left,
				hc = (w[0]/2) - (s.d.container.outerHeight(true)/2),
				vc = (w[1]/2) - (s.d.container.outerWidth(true)/2),
				st = s.d.container.css('position') !== 'fixed' ? wndw.scrollTop() : 0;

			if (s.o.position && Object.prototype.toString.call(s.o.position) === '[object Array]') {
				top = parseFloat(st) + parseFloat(s.o.position[0] || hc);
				left = s.o.position[1] || vc;
			} else {
				top = st + hc;
				left = vc;
			}
			s.d.container.css({left: left, top: top});
		},
		watchTab: function (e) {
			var s = this;

			if ($(e.target).parents('.simplemodal-container').length > 0) {
				s.inputs = $(':input:enabled:visible:first, :input:enabled:visible:last', s.d.data[0]);

				if ((!e.shiftKey && e.target === s.inputs[s.inputs.length -1]) ||
						(e.shiftKey && e.target === s.inputs[0]) ||
						s.inputs.length === 0) {
					e.preventDefault();
					var pos = e.shiftKey ? 'last' : 'first';
					s.focus(pos);
				}
			}
			else {
				e.preventDefault();
				s.focus();
			}
		},
		open: function () {
			var s = this;
			s.d.iframe && s.d.iframe.show();

			if ($.isFunction(s.o.onOpen)) {
				s.o.onOpen.apply(s, [s.d]);
			}
			else {
				s.d.overlay.show();
				s.d.container.show();
				s.d.data.show();
			}

			s.o.focus && s.focus();

			s.bindEvents();
		},
		close: function () {
			var s = this;

			if (!s.d.data) {
				return false;
			}

			s.unbindEvents();

			if ($.isFunction(s.o.onClose) && !s.occb) {
				s.occb = true;

				s.o.onClose.apply(s, [s.d]);
			}
			else {
				if (s.d.placeholder) {
					var ph = $('#simplemodal-placeholder');
					if (s.o.persist) {
						ph.replaceWith(s.d.data.removeClass('simplemodal-data').css('display', s.display));
					}
					else {
						s.d.data.hide().remove();
						ph.replaceWith(s.d.orig);
					}
				}
				else {
					s.d.data.hide().remove();
				}

				s.d.container.hide().remove();
				s.d.overlay.hide();
				s.d.iframe && s.d.iframe.hide().remove();
				s.d.overlay.remove();

				s.d = {};
			}
		}
	};
}));

(function ($) {
    var winJQ, lastMouseX, lastMouseY, zIndex = 10000, minH, minW = 160, newWinOffset = 50,
        isIE = navigator.userAgent.match(/MSIE/),
        template = '<div class=window><div class=windowtitlebar><img src=/favicon.ico width=16 height=16 class=titlebaricon><div class=titlebartext></div><div class=horizbuts><div class=minimizebut title="hidden"></div><div class=restorebut style="display:none;" title=restore></div><div class="maximizebut" style="display: none;" title=close></div><div class=closebut title=close></div></div></div><div class=windowcontent></div><div class=resizer-tl></div><div class=resizer-t></div><div class=resizer-tr></div><div class=resizer-r></div><div class=resizer-br></div><div class=resizer-b></div><div class=resizer-bl></div><div class=resizer-l></div></div>',

        resizerP = $('<div id=resizerproxy>').mousemove(function (e) {
            if (resizeMask & 1) {
                resizerPos.top += (lastMouseY - e.pageY) * -1;
                var a = resizerPos.parentH - resizerPos.top - resizerPos.bottom - minH;
                if (a < 0) resizerPos.top += a;
            }
            else if (resizeMask & 4) {
                resizerPos.bottom += (lastMouseY - e.pageY);
                var a = resizerPos.parentH - resizerPos.top - resizerPos.bottom - minH;
                if (a < 0) resizerPos.bottom += a;
            }
            if (resizeMask & 8) {
                resizerPos.left += (lastMouseX - e.pageX) * -1;
                var a = resizerPos.parentW - resizerPos.left - resizerPos.right - minW;
                if (a < 0) resizerPos.left += a;
            }
            else if (resizeMask & 2) {
                resizerPos.right += (lastMouseX - e.pageX);
                var a = resizerPos.parentW - resizerPos.left - resizerPos.right - minW;
                if (a < 0) resizerPos.left += a;
            }
            lastMouseX = e.pageX;
            lastMouseY = e.pageY;
            resizerC.css(resizerPos);
            return false;
        })
            .mouseup(function () {
                resizerP.hide();
                winJQ.css(resizerPos).WM_ensure_viewable();
                winJQ = undefined;
                return false;
            }),
        resizerC = $('<div>').appendTo(resizerP),
        resizerPos = null,
        resizeMask = null,
        onStartResize = function (e) {
            var rv = this.className.match(/resizer\-(\w+)/);
            if (rv.length != 2) return true;
            var type = rv[1];
            resizeMask = 0;
            if (type[0] == 't') resizeMask |= 1;
            else if (type[0] == 'b') resizeMask |= 4;
            if (type.match(/l/)) resizeMask |= 8;
            else if (type.match(/r/)) resizeMask |= 2;
            winJQ = $(this).closest('.window')
                .removeClass('minimized').removeClass('maximized').removeData('oldPos');
            minH = winJQ.find('> .windowtitlebar').height() + 5;
            resizerPos = getPos(winJQ);

            resizerPos.right = resizerPos.parentW - winJQ.outerWidth() - resizerPos.left;
            resizerPos.bottom = resizerPos.parentH - winJQ.outerHeight() - resizerPos.top;
            resizerPos.width = resizerPos.height = 'auto';
            lastMouseX = e.pageX;
            lastMouseY = e.pageY;
            resizerC.css(resizerPos);
            resizerP.show();
            return false;
        },
        moverP = $('<div id=moverproxy>')
            .mousemove(function (e) {
                moverPos.top += (lastMouseY - e.pageY) * -1;
                moverPos.left += (lastMouseX - e.pageX) * -1;
                lastMouseX = e.pageX;
                lastMouseY = e.pageY;
                moverC.css(moverPos);
                return false;
            })
            .mouseup(function () {
                moverP.hide();
                winJQ.css(moverPos).WM_ensure_viewable().removeClass('moving');
                winJQ = undefined;
                return false;
            }),
        moverPos = { left: 0, top: 0, right: 'auto', bottom: 'auto', width: 0, height: 0 },
        moverC = $('<div>').appendTo(moverP), lastClick = 0,
        onStartMove = function (e) {
            winJQ = $(this).closest('.window');
            if (!isIE)
                var t1 = new Date().getTime();
            if (t1 - lastClick <= 250) {
                lastClick = 0;
                winJQ.triggerHandler('dblclick');
                return false;
            }

            lastClick = t1;
            winJQ.WM_raise();
            moverPos = getPos(winJQ);
            moverPos.width = winJQ.width() + 2;
            moverPos.height = winJQ.height() + 2;
            moverPos.bottom = moverPos.right = 'auto';
            moverC.css(moverPos);
            moverP.show();
            lastMouseX = e.pageX;
            lastMouseY = e.pageY;
            return false;
        },
        getPos = function (w) {
            var p = w.offset();
            p.top -= $(document).scrollTop();
            p.left -= $(document).scrollLeft();
            p.parentW = $(window).width();
            p.parentH = $(window).height();
            return p;
        },
        savePos = function (w) {
            if (!w.data('oldPos')) {
                var p = getPos(w);
                w.data('oldPos', {
                    top: p.top, left: p.left, right: 'auto',
                    bottom: 'auto', width: w.width(), height: w.height()
                });
            }
        },
        cancelBubble = function () { return false; },
        onClickWindow =
            function () { $(this).closest('.window').WM_raise(); return true; },
        onClickMinimizeBut =
            function () { $(this).closest('.window').WM_minimize(); return false; },
        onClickRestoreBut =
            function () { $(this).closest('.window').WM_restore(); return false; },
        onClickMaximizeBut =
            function () { $(this).closest('.window').WM_maximize(); return false; },
        onClickCloseBut =
            function () {
                var windowHandle = $(this).closest('.window');
                var elID = windowHandle.attr('id');

                var channels = syn.$w.channels.filter(function (item) { return item.elID == elID });
                if (channels.length > 0) {
                    var iframeChannel = channels[0];
                    var windowHandle = iframeChannel.windowHandle;
                    var channel = iframeChannel.channel;
                    channel.destroy();

                    var baseELID = windowHandle.attr('baseELID');
                    if (baseELID != '') {
                        $('#' + baseELID).closest('.window').WM_raise();
                    }
                    var windowOverlayID = windowHandle.attr('id') + '_overlay';
                    $('#' + windowOverlayID).remove();
                    windowHandle.WM_close();
                }

                return false;
            },
        onDblClickTitlebar = function () {
            var w = $(this).closest('.window');
            if (w.hasClass('maximized')) w.WM_restore();
            else w.WM_maximize();
            return false;
        };
    moverP[0].onselectstart = cancelBubble;

    $.fn.WM_ensure_viewable = function () {
        this.filter('.window').each(function () {
            var w = $(this);
            var p = getPos(w);
            if (p.top < 0)
                w.css('top', 0);
            else if (p.parentH - p.top < 20)
                w.css('top', p.parentH - 20);
            if (p.left + w.width() < 80)
                w.css({ left: w.width() * -1 + 80, width: w.width(), right: 'auto' });
            else if (p.parentW - p.left < 30)
                w.css('left', p.parentW - 30);
        });
        return this;
    };

    $.fn.WM_minimize = function () {
        this.each(function () {
            var w = $(this);
            if (!w.is('.window')) return true;
            w.removeClass('maximized');
            savePos(w);
            minH = w.find('>.windowtitlebar').height() + 5;
            w.css({ left: 'auto', top: 'auto', right: 0, width: 300, height: minH, zIndex: 10000 })
                .removeClass('focused')
                .addClass('minimized');
        });
        $.WM_retileMin();
        return this;
    };

    $.WM_retileMin = function () {
        $('.window.minimized').each(function (i) {
            var b = i * (minH + 2)
            if ($(this).css('bottom') != b) $(this).css('bottom', b);
        });
        return this;
    };

    $.fn.WM_maximize = function () {
        var retile;
        this.each(function () {
            var w = $(this);
            if (!w.is('.window')) return true;
            if (w.hasClass('minimized')) {
                w.removeClass('minimized');
                retile = 1;
            }
            savePos(w);
            w.css({ left: 0, top: 0, bottom: 0, right: 0, width: 'auto', height: 'auto' })
                .WM_raise().addClass('maximized');
        });
        if (retile) $.WM_retileMin();
        return this;
    };

    $.fn.WM_restore = function () {
        var retile;
        this.each(function () {
            var w = $(this);
            if (!w.is('.window')) return true;
            if (w.hasClass('minimized')) {
                w.removeClass('minimized');
                retile = 1;
            } else w.removeClass('maximized');
            w.css(w.data('oldPos'))
                .removeData('oldPos')
                .WM_ensure_viewable()
        });
        if (retile) $.WM_retileMin();
        this.WM_raise();
        return this;
    };

    $.fn.WM_raise = function () {
        var w = this.filter('.window:first');
        if (w.length == 0 || w.hasClass('focused')) return this;
        $(".window.focused").removeClass('focused');
        w.addClass('focused');

        var baseELID = w.attr('baseELID');
        if (baseELID) {
            if (w.attr('id') != baseELID) {
                w.css('zIndex', ++zIndex);
            }
        }
        else {
            if (baseELID != '') {
                w.css('zIndex', ++zIndex);
            }
        }

        return this;
    };

    $.fn.WM_close = function () {
        var channelID = this.attr('channelID');
        if (channelID) {
            var itemToFind = syn.$w.channels.find(function (item) { return item.id == channelID });
            var idx = syn.$w.channels.indexOf(itemToFind);
            if (idx > -1) {
                syn.$w.channels.splice(idx, 1);
            }
        }
        return this.filter('.window').remove();
    };

    $.WM_open = function (elemID, lnk, target, opts) {
        if (!opts) opts = {};
        var w = $(template);
        w[0].id = elemID;

        var nam = opts.name || opts.title || target || lnk;
        if (lnk) {
            nam = lnk.replace(/^https?:\/\/[^\/]+\//, '').replace(/\.\w+$/, '')
                .replace(/[^A-Za-z0-9]/g, '');
        }
        if (!nam) nam = 'default';
        w.addClass('windowname_' + nam);

        newWinOffset += 10;
        if (newWinOffset > 400) {
            newWinOffset = 50;
        }

        if (opts.width) {
            w.css('width', opts.width);
        }

        if (opts.height) {
            w.css('height', opts.height);
        }

        if (opts.top) {
            w.css('top', opts.top);
        }
        else {
            w.css('top', newWinOffset);
        }

        if (opts.left) {
            w.css('left', opts.left);
        }
        else {
            w.css('left', newWinOffset);
        }

        $('.resizer-tl,.resizer-t,.resizer-tr,.resizer-r,.resizer-br,.resizer-b,' +
            '.resizer-bl,.resizer-l', w).mousedown(onStartResize);

        w.click(onClickWindow);

        var tb = $('.windowtitlebar', w);
        tb.mousedown(onStartMove);
        var buts = tb.find('> .horizbuts').mousedown(cancelBubble).children();
        buts.eq(0).click(onClickMinimizeBut);
        buts.eq(1).click(onClickRestoreBut);
        buts.eq(2).click(onClickMaximizeBut);
        buts.eq(3).click(onClickCloseBut);

        var tbt = tb.children('.titlebartext').text(opts.title || lnk || '');
        tbt[0].onselectstart = cancelBubble;
        tbt[0].unselectable = "on";

        $(window.document.body).append(w);

        if (!lnk) { } 

        else if (typeof lnk == 'string') {
            var scrolling = opts.scrolling || 'no';
            var m = lnk.match(/^(https?\:\/\/)([^\/]+)/);
            if (m && m[2] != document.location.hostname)
                w.find('.titlebaricon').attr('src', m[1] + m[2] + "/favicon.ico");
            $('<iframe src="' + lnk + '" target="' + target + '" scrolling="' + scrolling + '"></iframe>' +
                '<div class=iframecover></div>')
                .appendTo(w.find('.windowcontent'));
        }

        else w.find('.windowcontent').append(lnk);

        w.WM_raise();
        return w;
    };

    $(document).delegate('a', 'click', function (e) {
        if ((!e.button || e.button == 0) && this.target.match(/^\_child\b/)) {
            var t = $(this);
            window.jQuery.WM_open(this.href, this.target,
                { title: t.attr('title') || t.text().substr(0, 100) });
            return false;
        }
        return true;
    });

    $(window).resize(function () { $('.window').WM_ensure_viewable(); return true; });

    $(function () {
        if (isIE) $(document.body).addClass('IE');
        $(document.body).append(moverP).append(resizerP);
    });
})(jQuery);



(function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		define([ "jquery" ], factory );
	} else {

		factory( jQuery );
	}
}(function( $ ) {

$.ui = $.ui || {};

var version = $.ui.version = "1.12.1";







var widgetUuid = 0;
var widgetSlice = Array.prototype.slice;

$.cleanData = ( function( orig ) {
	return function( elems ) {
		var events, elem, i;
		for ( i = 0; ( elem = elems[ i ] ) != null; i++ ) {
			try {

				events = $._data( elem, "events" );
				if ( events && events.remove ) {
					$( elem ).triggerHandler( "remove" );
				}

			} catch ( e ) {}
		}
		orig( elems );
	};
} )( $.cleanData );

$.widget = function( name, base, prototype ) {
	var existingConstructor, constructor, basePrototype;

	var proxiedPrototype = {};

	var namespace = name.split( "." )[ 0 ];
	name = name.split( "." )[ 1 ];
	var fullName = namespace + "-" + name;

	if ( !prototype ) {
		prototype = base;
		base = $.Widget;
	}

	if ( $.isArray( prototype ) ) {
		prototype = $.extend.apply( null, [ {} ].concat( prototype ) );
	}

	$.expr[ ":" ][ fullName.toLowerCase() ] = function( elem ) {
		return !!$.data( elem, fullName );
	};

	$[ namespace ] = $[ namespace ] || {};
	existingConstructor = $[ namespace ][ name ];
	constructor = $[ namespace ][ name ] = function( options, element ) {

		if ( !this._createWidget ) {
			return new constructor( options, element );
		}

		if ( arguments.length ) {
			this._createWidget( options, element );
		}
	};

	$.extend( constructor, existingConstructor, {
		version: prototype.version,

		_proto: $.extend( {}, prototype ),

		_childConstructors: []
	} );

	basePrototype = new base();

	basePrototype.options = $.widget.extend( {}, basePrototype.options );
	$.each( prototype, function( prop, value ) {
		if ( !$.isFunction( value ) ) {
			proxiedPrototype[ prop ] = value;
			return;
		}
		proxiedPrototype[ prop ] = ( function() {
			function _super() {
				return base.prototype[ prop ].apply( this, arguments );
			}

			function _superApply( args ) {
				return base.prototype[ prop ].apply( this, args );
			}

			return function() {
				var __super = this._super;
				var __superApply = this._superApply;
				var returnValue;

				this._super = _super;
				this._superApply = _superApply;

				returnValue = value.apply( this, arguments );

				this._super = __super;
				this._superApply = __superApply;

				return returnValue;
			};
		} )();
	} );
	constructor.prototype = $.widget.extend( basePrototype, {

		widgetEventPrefix: existingConstructor ? ( basePrototype.widgetEventPrefix || name ) : name
	}, proxiedPrototype, {
		constructor: constructor,
		namespace: namespace,
		widgetName: name,
		widgetFullName: fullName
	} );

	if ( existingConstructor ) {
		$.each( existingConstructor._childConstructors, function( i, child ) {
			var childPrototype = child.prototype;

			$.widget( childPrototype.namespace + "." + childPrototype.widgetName, constructor,
				child._proto );
		} );

		delete existingConstructor._childConstructors;
	} else {
		base._childConstructors.push( constructor );
	}

	$.widget.bridge( name, constructor );

	return constructor;
};

$.widget.extend = function( target ) {
	var input = widgetSlice.call( arguments, 1 );
	var inputIndex = 0;
	var inputLength = input.length;
	var key;
	var value;

	for ( ; inputIndex < inputLength; inputIndex++ ) {
		for ( key in input[ inputIndex ] ) {
			value = input[ inputIndex ][ key ];
			if ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {

				if ( $.isPlainObject( value ) ) {
					target[ key ] = $.isPlainObject( target[ key ] ) ?
						$.widget.extend( {}, target[ key ], value ) :

						$.widget.extend( {}, value );

				} else {
					target[ key ] = value;
				}
			}
		}
	}
	return target;
};

$.widget.bridge = function( name, object ) {
	var fullName = object.prototype.widgetFullName || name;
	$.fn[ name ] = function( options ) {
		var isMethodCall = typeof options === "string";
		var args = widgetSlice.call( arguments, 1 );
		var returnValue = this;

		if ( isMethodCall ) {

			if ( !this.length && options === "instance" ) {
				returnValue = undefined;
			} else {
				this.each( function() {
					var methodValue;
					var instance = $.data( this, fullName );

					if ( options === "instance" ) {
						returnValue = instance;
						return false;
					}

					if ( !instance ) {
						return $.error( "cannot call methods on " + name +
							" prior to initialization; " +
							"attempted to call method '" + options + "'" );
					}

					if ( !$.isFunction( instance[ options ] ) || options.charAt( 0 ) === "_" ) {
						return $.error( "no such method '" + options + "' for " + name +
							" widget instance" );
					}

					methodValue = instance[ options ].apply( instance, args );

					if ( methodValue !== instance && methodValue !== undefined ) {
						returnValue = methodValue && methodValue.jquery ?
							returnValue.pushStack( methodValue.get() ) :
							methodValue;
						return false;
					}
				} );
			}
		} else {

			if ( args.length ) {
				options = $.widget.extend.apply( null, [ options ].concat( args ) );
			}

			this.each( function() {
				var instance = $.data( this, fullName );
				if ( instance ) {
					instance.option( options || {} );
					if ( instance._init ) {
						instance._init();
					}
				} else {
					$.data( this, fullName, new object( options, this ) );
				}
			} );
		}

		return returnValue;
	};
};

$.Widget = function(  ) {};
$.Widget._childConstructors = [];

$.Widget.prototype = {
	widgetName: "widget",
	widgetEventPrefix: "",
	defaultElement: "<div>",

	options: {
		classes: {},
		disabled: false,

		create: null
	},

	_createWidget: function( options, element ) {
		element = $( element || this.defaultElement || this )[ 0 ];
		this.element = $( element );
		this.uuid = widgetUuid++;
		this.eventNamespace = "." + this.widgetName + this.uuid;

		this.bindings = $();
		this.hoverable = $();
		this.focusable = $();
		this.classesElementLookup = {};

		if ( element !== this ) {
			$.data( element, this.widgetFullName, this );
			this._on( true, this.element, {
				remove: function( event ) {
					if ( event.target === element ) {
						this.destroy();
					}
				}
			} );
			this.document = $( element.style ?

				element.ownerDocument :

				element.document || element );
			this.window = $( this.document[ 0 ].defaultView || this.document[ 0 ].parentWindow );
		}

		this.options = $.widget.extend( {},
			this.options,
			this._getCreateOptions(),
			options );

		this._create();

		if ( this.options.disabled ) {
			this._setOptionDisabled( this.options.disabled );
		}

		this._trigger( "create", null, this._getCreateEventData() );
		this._init();
	},

	_getCreateOptions: function() {
		return {};
	},

	_getCreateEventData: $.noop,

	_create: $.noop,

	_init: $.noop,

	destroy: function() {
		var that = this;

		this._destroy();
		$.each( this.classesElementLookup, function( key, value ) {
			that._removeClass( value, key );
		} );

		this.element
			.off( this.eventNamespace )
			.removeData( this.widgetFullName );
		this.widget()
			.off( this.eventNamespace )
			.removeAttr( "aria-disabled" );

		this.bindings.off( this.eventNamespace );
	},

	_destroy: $.noop,

	widget: function() {
		return this.element;
	},

	option: function( key, value ) {
		var options = key;
		var parts;
		var curOption;
		var i;

		if ( arguments.length === 0 ) {

			return $.widget.extend( {}, this.options );
		}

		if ( typeof key === "string" ) {

			options = {};
			parts = key.split( "." );
			key = parts.shift();
			if ( parts.length ) {
				curOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );
				for ( i = 0; i < parts.length - 1; i++ ) {
					curOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};
					curOption = curOption[ parts[ i ] ];
				}
				key = parts.pop();
				if ( arguments.length === 1 ) {
					return curOption[ key ] === undefined ? null : curOption[ key ];
				}
				curOption[ key ] = value;
			} else {
				if ( arguments.length === 1 ) {
					return this.options[ key ] === undefined ? null : this.options[ key ];
				}
				options[ key ] = value;
			}
		}

		this._setOptions( options );

		return this;
	},

	_setOptions: function( options ) {
		var key;

		for ( key in options ) {
			this._setOption( key, options[ key ] );
		}

		return this;
	},

	_setOption: function( key, value ) {
		if ( key === "classes" ) {
			this._setOptionClasses( value );
		}

		this.options[ key ] = value;

		if ( key === "disabled" ) {
			this._setOptionDisabled( value );
		}

		return this;
	},

	_setOptionClasses: function( value ) {
		var classKey, elements, currentElements;

		for ( classKey in value ) {
			currentElements = this.classesElementLookup[ classKey ];
			if ( value[ classKey ] === this.options.classes[ classKey ] ||
					!currentElements ||
					!currentElements.length ) {
				continue;
			}

			elements = $( currentElements.get() );
			this._removeClass( currentElements, classKey );

			elements.addClass( this._classes( {
				element: elements,
				keys: classKey,
				classes: value,
				add: true
			} ) );
		}
	},

	_setOptionDisabled: function( value ) {
		this._toggleClass( this.widget(), this.widgetFullName + "-disabled", null, !!value );

		if ( value ) {
			this._removeClass( this.hoverable, null, "ui-state-hover" );
			this._removeClass( this.focusable, null, "ui-state-focus" );
		}
	},

	enable: function() {
		return this._setOptions( { disabled: false } );
	},

	disable: function() {
		return this._setOptions( { disabled: true } );
	},

	_classes: function( options ) {
		var full = [];
		var that = this;

		options = $.extend( {
			element: this.element,
			classes: this.options.classes || {}
		}, options );

		function processClassString( classes, checkOption ) {
			var current, i;
			for ( i = 0; i < classes.length; i++ ) {
				current = that.classesElementLookup[ classes[ i ] ] || $();
				if ( options.add ) {
					current = $( $.unique( current.get().concat( options.element.get() ) ) );
				} else {
					current = $( current.not( options.element ).get() );
				}
				that.classesElementLookup[ classes[ i ] ] = current;
				full.push( classes[ i ] );
				if ( checkOption && options.classes[ classes[ i ] ] ) {
					full.push( options.classes[ classes[ i ] ] );
				}
			}
		}

		this._on( options.element, {
			"remove": "_untrackClassesElement"
		} );

		if ( options.keys ) {
			processClassString( options.keys.match( /\S+/g ) || [], true );
		}
		if ( options.extra ) {
			processClassString( options.extra.match( /\S+/g ) || [] );
		}

		return full.join( " " );
	},

	_untrackClassesElement: function( event ) {
		var that = this;
		$.each( that.classesElementLookup, function( key, value ) {
			if ( $.inArray( event.target, value ) !== -1 ) {
				that.classesElementLookup[ key ] = $( value.not( event.target ).get() );
			}
		} );
	},

	_removeClass: function( element, keys, extra ) {
		return this._toggleClass( element, keys, extra, false );
	},

	_addClass: function( element, keys, extra ) {
		return this._toggleClass( element, keys, extra, true );
	},

	_toggleClass: function( element, keys, extra, add ) {
		add = ( typeof add === "boolean" ) ? add : extra;
		var shift = ( typeof element === "string" || element === null ),
			options = {
				extra: shift ? keys : extra,
				keys: shift ? element : keys,
				element: shift ? this.element : element,
				add: add
			};
		options.element.toggleClass( this._classes( options ), add );
		return this;
	},

	_on: function( suppressDisabledCheck, element, handlers ) {
		var delegateElement;
		var instance = this;

		if ( typeof suppressDisabledCheck !== "boolean" ) {
			handlers = element;
			element = suppressDisabledCheck;
			suppressDisabledCheck = false;
		}

		if ( !handlers ) {
			handlers = element;
			element = this.element;
			delegateElement = this.widget();
		} else {
			element = delegateElement = $( element );
			this.bindings = this.bindings.add( element );
		}

		$.each( handlers, function( event, handler ) {
			function handlerProxy() {

				if ( !suppressDisabledCheck &&
						( instance.options.disabled === true ||
						$( this ).hasClass( "ui-state-disabled" ) ) ) {
					return;
				}
				return ( typeof handler === "string" ? instance[ handler ] : handler )
					.apply( instance, arguments );
			}

			if ( typeof handler !== "string" ) {
				handlerProxy.guid = handler.guid =
					handler.guid || handlerProxy.guid || $.guid++;
			}

			var match = event.match( /^([\w:-]*)\s*(.*)$/ );
			var eventName = match[ 1 ] + instance.eventNamespace;
			var selector = match[ 2 ];

			if ( selector ) {
				delegateElement.on( eventName, selector, handlerProxy );
			} else {
				element.on( eventName, handlerProxy );
			}
		} );
	},

	_off: function( element, eventName ) {
		eventName = ( eventName || "" ).split( " " ).join( this.eventNamespace + " " ) +
			this.eventNamespace;
		element.off( eventName ).off( eventName );

		this.bindings = $( this.bindings.not( element ).get() );
		this.focusable = $( this.focusable.not( element ).get() );
		this.hoverable = $( this.hoverable.not( element ).get() );
	},

	_delay: function( handler, delay ) {
		function handlerProxy() {
			return ( typeof handler === "string" ? instance[ handler ] : handler )
				.apply( instance, arguments );
		}
		var instance = this;
		return setTimeout( handlerProxy, delay || 0 );
	},

	_hoverable: function( element ) {
		this.hoverable = this.hoverable.add( element );
		this._on( element, {
			mouseenter: function( event ) {
				this._addClass( $( event.currentTarget ), null, "ui-state-hover" );
			},
			mouseleave: function( event ) {
				this._removeClass( $( event.currentTarget ), null, "ui-state-hover" );
			}
		} );
	},

	_focusable: function( element ) {
		this.focusable = this.focusable.add( element );
		this._on( element, {
			focusin: function( event ) {
				this._addClass( $( event.currentTarget ), null, "ui-state-focus" );
			},
			focusout: function( event ) {
				this._removeClass( $( event.currentTarget ), null, "ui-state-focus" );
			}
		} );
	},

	_trigger: function( type, event, data ) {
		var prop, orig;
		var callback = this.options[ type ];

		data = data || {};
		event = $.Event( event );
		event.type = ( type === this.widgetEventPrefix ?
			type :
			this.widgetEventPrefix + type ).toLowerCase();

		event.target = this.element[ 0 ];

		orig = event.originalEvent;
		if ( orig ) {
			for ( prop in orig ) {
				if ( !( prop in event ) ) {
					event[ prop ] = orig[ prop ];
				}
			}
		}

		this.element.trigger( event, data );
		return !( $.isFunction( callback ) &&
			callback.apply( this.element[ 0 ], [ event ].concat( data ) ) === false ||
			event.isDefaultPrevented() );
	}
};

$.each( { show: "fadeIn", hide: "fadeOut" }, function( method, defaultEffect ) {
	$.Widget.prototype[ "_" + method ] = function( element, options, callback ) {
		if ( typeof options === "string" ) {
			options = { effect: options };
		}

		var hasOptions;
		var effectName = !options ?
			method :
			options === true || typeof options === "number" ?
				defaultEffect :
				options.effect || defaultEffect;

		options = options || {};
		if ( typeof options === "number" ) {
			options = { duration: options };
		}

		hasOptions = !$.isEmptyObject( options );
		options.complete = callback;

		if ( options.delay ) {
			element.delay( options.delay );
		}

		if ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {
			element[ method ]( options );
		} else if ( effectName !== method && element[ effectName ] ) {
			element[ effectName ]( options.duration, options.easing, callback );
		} else {
			element.queue( function( next ) {
				$( this )[ method ]();
				if ( callback ) {
					callback.call( element[ 0 ] );
				}
				next();
			} );
		}
	};
} );

var widget = $.widget;






( function() {
var cachedScrollbarWidth,
	max = Math.max,
	abs = Math.abs,
	rhorizontal = /left|center|right/,
	rvertical = /top|center|bottom/,
	roffset = /[\+\-]\d+(\.[\d]+)?%?/,
	rposition = /^\w+/,
	rpercent = /%$/,
	_position = $.fn.position;

function getOffsets( offsets, width, height ) {
	return [
		parseFloat( offsets[ 0 ] ) * ( rpercent.test( offsets[ 0 ] ) ? width / 100 : 1 ),
		parseFloat( offsets[ 1 ] ) * ( rpercent.test( offsets[ 1 ] ) ? height / 100 : 1 )
	];
}

function parseCss( element, property ) {
	return parseInt( $.css( element, property ), 10 ) || 0;
}

function getDimensions( elem ) {
	var raw = elem[ 0 ];
	if ( raw.nodeType === 9 ) {
		return {
			width: elem.width(),
			height: elem.height(),
			offset: { top: 0, left: 0 }
		};
	}
	if ( $.isWindow( raw ) ) {
		return {
			width: elem.width(),
			height: elem.height(),
			offset: { top: elem.scrollTop(), left: elem.scrollLeft() }
		};
	}
	if ( raw.preventDefault ) {
		return {
			width: 0,
			height: 0,
			offset: { top: raw.pageY, left: raw.pageX }
		};
	}
	return {
		width: elem.outerWidth(),
		height: elem.outerHeight(),
		offset: elem.offset()
	};
}

$.position = {
	scrollbarWidth: function() {
		if ( cachedScrollbarWidth !== undefined ) {
			return cachedScrollbarWidth;
		}
		var w1, w2,
			div = $( "<div " +
				"style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'>" +
				"<div style='height:100px;width:auto;'></div></div>" ),
			innerDiv = div.children()[ 0 ];

		$( "body" ).append( div );
		w1 = innerDiv.offsetWidth;
		div.css( "overflow", "scroll" );

		w2 = innerDiv.offsetWidth;

		if ( w1 === w2 ) {
			w2 = div[ 0 ].clientWidth;
		}

		div.remove();

		return ( cachedScrollbarWidth = w1 - w2 );
	},
	getScrollInfo: function( within ) {
		var overflowX = within.isWindow || within.isDocument ? "" :
				within.element.css( "overflow-x" ),
			overflowY = within.isWindow || within.isDocument ? "" :
				within.element.css( "overflow-y" ),
			hasOverflowX = overflowX === "scroll" ||
				( overflowX === "auto" && within.width < within.element[ 0 ].scrollWidth ),
			hasOverflowY = overflowY === "scroll" ||
				( overflowY === "auto" && within.height < within.element[ 0 ].scrollHeight );
		return {
			width: hasOverflowY ? $.position.scrollbarWidth() : 0,
			height: hasOverflowX ? $.position.scrollbarWidth() : 0
		};
	},
	getWithinInfo: function( element ) {
		var withinElement = $( element || window ),
			isWindow = $.isWindow( withinElement[ 0 ] ),
			isDocument = !!withinElement[ 0 ] && withinElement[ 0 ].nodeType === 9,
			hasOffset = !isWindow && !isDocument;
		return {
			element: withinElement,
			isWindow: isWindow,
			isDocument: isDocument,
			offset: hasOffset ? $( element ).offset() : { left: 0, top: 0 },
			scrollLeft: withinElement.scrollLeft(),
			scrollTop: withinElement.scrollTop(),
			width: withinElement.outerWidth(),
			height: withinElement.outerHeight()
		};
	}
};

$.fn.position = function( options ) {
	if ( !options || !options.of ) {
		return _position.apply( this, arguments );
	}

	options = $.extend( {}, options );

	var atOffset, targetWidth, targetHeight, targetOffset, basePosition, dimensions,
		target = $( options.of ),
		within = $.position.getWithinInfo( options.within ),
		scrollInfo = $.position.getScrollInfo( within ),
		collision = ( options.collision || "flip" ).split( " " ),
		offsets = {};

	dimensions = getDimensions( target );
	if ( target[ 0 ].preventDefault ) {

		options.at = "left top";
	}
	targetWidth = dimensions.width;
	targetHeight = dimensions.height;
	targetOffset = dimensions.offset;

	basePosition = $.extend( {}, targetOffset );

	$.each( [ "my", "at" ], function() {
		var pos = ( options[ this ] || "" ).split( " " ),
			horizontalOffset,
			verticalOffset;

		if ( pos.length === 1 ) {
			pos = rhorizontal.test( pos[ 0 ] ) ?
				pos.concat( [ "center" ] ) :
				rvertical.test( pos[ 0 ] ) ?
					[ "center" ].concat( pos ) :
					[ "center", "center" ];
		}
		pos[ 0 ] = rhorizontal.test( pos[ 0 ] ) ? pos[ 0 ] : "center";
		pos[ 1 ] = rvertical.test( pos[ 1 ] ) ? pos[ 1 ] : "center";

		horizontalOffset = roffset.exec( pos[ 0 ] );
		verticalOffset = roffset.exec( pos[ 1 ] );
		offsets[ this ] = [
			horizontalOffset ? horizontalOffset[ 0 ] : 0,
			verticalOffset ? verticalOffset[ 0 ] : 0
		];

		options[ this ] = [
			rposition.exec( pos[ 0 ] )[ 0 ],
			rposition.exec( pos[ 1 ] )[ 0 ]
		];
	} );

	if ( collision.length === 1 ) {
		collision[ 1 ] = collision[ 0 ];
	}

	if ( options.at[ 0 ] === "right" ) {
		basePosition.left += targetWidth;
	} else if ( options.at[ 0 ] === "center" ) {
		basePosition.left += targetWidth / 2;
	}

	if ( options.at[ 1 ] === "bottom" ) {
		basePosition.top += targetHeight;
	} else if ( options.at[ 1 ] === "center" ) {
		basePosition.top += targetHeight / 2;
	}

	atOffset = getOffsets( offsets.at, targetWidth, targetHeight );
	basePosition.left += atOffset[ 0 ];
	basePosition.top += atOffset[ 1 ];

	return this.each( function() {
		var collisionPosition, using,
			elem = $( this ),
			elemWidth = elem.outerWidth(),
			elemHeight = elem.outerHeight(),
			marginLeft = parseCss( this, "marginLeft" ),
			marginTop = parseCss( this, "marginTop" ),
			collisionWidth = elemWidth + marginLeft + parseCss( this, "marginRight" ) +
				scrollInfo.width,
			collisionHeight = elemHeight + marginTop + parseCss( this, "marginBottom" ) +
				scrollInfo.height,
			position = $.extend( {}, basePosition ),
			myOffset = getOffsets( offsets.my, elem.outerWidth(), elem.outerHeight() );

		if ( options.my[ 0 ] === "right" ) {
			position.left -= elemWidth;
		} else if ( options.my[ 0 ] === "center" ) {
			position.left -= elemWidth / 2;
		}

		if ( options.my[ 1 ] === "bottom" ) {
			position.top -= elemHeight;
		} else if ( options.my[ 1 ] === "center" ) {
			position.top -= elemHeight / 2;
		}

		position.left += myOffset[ 0 ];
		position.top += myOffset[ 1 ];

		collisionPosition = {
			marginLeft: marginLeft,
			marginTop: marginTop
		};

		$.each( [ "left", "top" ], function( i, dir ) {
			if ( $.ui.position[ collision[ i ] ] ) {
				$.ui.position[ collision[ i ] ][ dir ]( position, {
					targetWidth: targetWidth,
					targetHeight: targetHeight,
					elemWidth: elemWidth,
					elemHeight: elemHeight,
					collisionPosition: collisionPosition,
					collisionWidth: collisionWidth,
					collisionHeight: collisionHeight,
					offset: [ atOffset[ 0 ] + myOffset[ 0 ], atOffset [ 1 ] + myOffset[ 1 ] ],
					my: options.my,
					at: options.at,
					within: within,
					elem: elem
				} );
			}
		} );

		if ( options.using ) {

			using = function( props ) {
				var left = targetOffset.left - position.left,
					right = left + targetWidth - elemWidth,
					top = targetOffset.top - position.top,
					bottom = top + targetHeight - elemHeight,
					feedback = {
						target: {
							element: target,
							left: targetOffset.left,
							top: targetOffset.top,
							width: targetWidth,
							height: targetHeight
						},
						element: {
							element: elem,
							left: position.left,
							top: position.top,
							width: elemWidth,
							height: elemHeight
						},
						horizontal: right < 0 ? "left" : left > 0 ? "right" : "center",
						vertical: bottom < 0 ? "top" : top > 0 ? "bottom" : "middle"
					};
				if ( targetWidth < elemWidth && abs( left + right ) < targetWidth ) {
					feedback.horizontal = "center";
				}
				if ( targetHeight < elemHeight && abs( top + bottom ) < targetHeight ) {
					feedback.vertical = "middle";
				}
				if ( max( abs( left ), abs( right ) ) > max( abs( top ), abs( bottom ) ) ) {
					feedback.important = "horizontal";
				} else {
					feedback.important = "vertical";
				}
				options.using.call( this, props, feedback );
			};
		}

		elem.offset( $.extend( position, { using: using } ) );
	} );
};

$.ui.position = {
	fit: {
		left: function( position, data ) {
			var within = data.within,
				withinOffset = within.isWindow ? within.scrollLeft : within.offset.left,
				outerWidth = within.width,
				collisionPosLeft = position.left - data.collisionPosition.marginLeft,
				overLeft = withinOffset - collisionPosLeft,
				overRight = collisionPosLeft + data.collisionWidth - outerWidth - withinOffset,
				newOverRight;

			if ( data.collisionWidth > outerWidth ) {

				if ( overLeft > 0 && overRight <= 0 ) {
					newOverRight = position.left + overLeft + data.collisionWidth - outerWidth -
						withinOffset;
					position.left += overLeft - newOverRight;

				} else if ( overRight > 0 && overLeft <= 0 ) {
					position.left = withinOffset;

				} else {
					if ( overLeft > overRight ) {
						position.left = withinOffset + outerWidth - data.collisionWidth;
					} else {
						position.left = withinOffset;
					}
				}

			} else if ( overLeft > 0 ) {
				position.left += overLeft;

			} else if ( overRight > 0 ) {
				position.left -= overRight;

			} else {
				position.left = max( position.left - collisionPosLeft, position.left );
			}
		},
		top: function( position, data ) {
			var within = data.within,
				withinOffset = within.isWindow ? within.scrollTop : within.offset.top,
				outerHeight = data.within.height,
				collisionPosTop = position.top - data.collisionPosition.marginTop,
				overTop = withinOffset - collisionPosTop,
				overBottom = collisionPosTop + data.collisionHeight - outerHeight - withinOffset,
				newOverBottom;

			if ( data.collisionHeight > outerHeight ) {

				if ( overTop > 0 && overBottom <= 0 ) {
					newOverBottom = position.top + overTop + data.collisionHeight - outerHeight -
						withinOffset;
					position.top += overTop - newOverBottom;

				} else if ( overBottom > 0 && overTop <= 0 ) {
					position.top = withinOffset;

				} else {
					if ( overTop > overBottom ) {
						position.top = withinOffset + outerHeight - data.collisionHeight;
					} else {
						position.top = withinOffset;
					}
				}

			} else if ( overTop > 0 ) {
				position.top += overTop;

			} else if ( overBottom > 0 ) {
				position.top -= overBottom;

			} else {
				position.top = max( position.top - collisionPosTop, position.top );
			}
		}
	},
	flip: {
		left: function( position, data ) {
			var within = data.within,
				withinOffset = within.offset.left + within.scrollLeft,
				outerWidth = within.width,
				offsetLeft = within.isWindow ? within.scrollLeft : within.offset.left,
				collisionPosLeft = position.left - data.collisionPosition.marginLeft,
				overLeft = collisionPosLeft - offsetLeft,
				overRight = collisionPosLeft + data.collisionWidth - outerWidth - offsetLeft,
				myOffset = data.my[ 0 ] === "left" ?
					-data.elemWidth :
					data.my[ 0 ] === "right" ?
						data.elemWidth :
						0,
				atOffset = data.at[ 0 ] === "left" ?
					data.targetWidth :
					data.at[ 0 ] === "right" ?
						-data.targetWidth :
						0,
				offset = -2 * data.offset[ 0 ],
				newOverRight,
				newOverLeft;

			if ( overLeft < 0 ) {
				newOverRight = position.left + myOffset + atOffset + offset + data.collisionWidth -
					outerWidth - withinOffset;
				if ( newOverRight < 0 || newOverRight < abs( overLeft ) ) {
					position.left += myOffset + atOffset + offset;
				}
			} else if ( overRight > 0 ) {
				newOverLeft = position.left - data.collisionPosition.marginLeft + myOffset +
					atOffset + offset - offsetLeft;
				if ( newOverLeft > 0 || abs( newOverLeft ) < overRight ) {
					position.left += myOffset + atOffset + offset;
				}
			}
		},
		top: function( position, data ) {
			var within = data.within,
				withinOffset = within.offset.top + within.scrollTop,
				outerHeight = within.height,
				offsetTop = within.isWindow ? within.scrollTop : within.offset.top,
				collisionPosTop = position.top - data.collisionPosition.marginTop,
				overTop = collisionPosTop - offsetTop,
				overBottom = collisionPosTop + data.collisionHeight - outerHeight - offsetTop,
				top = data.my[ 1 ] === "top",
				myOffset = top ?
					-data.elemHeight :
					data.my[ 1 ] === "bottom" ?
						data.elemHeight :
						0,
				atOffset = data.at[ 1 ] === "top" ?
					data.targetHeight :
					data.at[ 1 ] === "bottom" ?
						-data.targetHeight :
						0,
				offset = -2 * data.offset[ 1 ],
				newOverTop,
				newOverBottom;
			if ( overTop < 0 ) {
				newOverBottom = position.top + myOffset + atOffset + offset + data.collisionHeight -
					outerHeight - withinOffset;
				if ( newOverBottom < 0 || newOverBottom < abs( overTop ) ) {
					position.top += myOffset + atOffset + offset;
				}
			} else if ( overBottom > 0 ) {
				newOverTop = position.top - data.collisionPosition.marginTop + myOffset + atOffset +
					offset - offsetTop;
				if ( newOverTop > 0 || abs( newOverTop ) < overBottom ) {
					position.top += myOffset + atOffset + offset;
				}
			}
		}
	},
	flipfit: {
		left: function() {
			$.ui.position.flip.left.apply( this, arguments );
			$.ui.position.fit.left.apply( this, arguments );
		},
		top: function() {
			$.ui.position.flip.top.apply( this, arguments );
			$.ui.position.fit.top.apply( this, arguments );
		}
	}
};

} )();

var position = $.ui.position;






var keycode = $.ui.keyCode = {
	BACKSPACE: 8,
	COMMA: 188,
	DELETE: 46,
	DOWN: 40,
	END: 35,
	ENTER: 13,
	ESCAPE: 27,
	HOME: 36,
	LEFT: 37,
	PAGE_DOWN: 34,
	PAGE_UP: 33,
	PERIOD: 190,
	RIGHT: 39,
	SPACE: 32,
	TAB: 9,
	UP: 38
};







var uniqueId = $.fn.extend( {
	uniqueId: ( function() {
		var uuid = 0;

		return function() {
			return this.each( function() {
				if ( !this.id ) {
					this.id = "ui-id-" + ( ++uuid );
				}
			} );
		};
	} )(),

	removeUniqueId: function() {
		return this.each( function() {
			if ( /^ui-id-\d+$/.test( this.id ) ) {
				$( this ).removeAttr( "id" );
			}
		} );
	}
} );



var safeActiveElement = $.ui.safeActiveElement = function( document ) {
	var activeElement;

	try {
		activeElement = document.activeElement;
	} catch ( error ) {
		activeElement = document.body;
	}

	if ( !activeElement ) {
		activeElement = document.body;
	}

	if ( !activeElement.nodeName ) {
		activeElement = document.body;
	}

	return activeElement;
};







var widgetsMenu = $.widget( "ui.menu", {
	version: "1.12.1",
	defaultElement: "<ul>",
	delay: 300,
	options: {
		icons: {
			submenu: "ui-icon-caret-1-e"
		},
		items: "> *",
		menus: "ul",
		position: {
			my: "left top",
			at: "right top"
		},
		role: "menu",

		blur: null,
		focus: null,
		select: null
	},

	_create: function() {
		this.activeMenu = this.element;

		this.mouseHandled = false;
		this.element
			.uniqueId()
			.attr( {
				role: this.options.role,
				tabIndex: 0
			} );

		this._addClass( "ui-menu", "ui-widget ui-widget-content" );
		this._on( {

			"mousedown .ui-menu-item": function( event ) {
				event.preventDefault();
			},
			"click .ui-menu-item": function( event ) {
				var target = $( event.target );
				var active = $( $.ui.safeActiveElement( this.document[ 0 ] ) );
				if ( !this.mouseHandled && target.not( ".ui-state-disabled" ).length ) {
					this.select( event );

					if ( !event.isPropagationStopped() ) {
						this.mouseHandled = true;
					}

					if ( target.has( ".ui-menu" ).length ) {
						this.expand( event );
					} else if ( !this.element.is( ":focus" ) &&
							active.closest( ".ui-menu" ).length ) {

						this.element.trigger( "focus", [ true ] );

						if ( this.active && this.active.parents( ".ui-menu" ).length === 1 ) {
							clearTimeout( this.timer );
						}
					}
				}
			},
			"mouseenter .ui-menu-item": function( event ) {

				if ( this.previousFilter ) {
					return;
				}

				var actualTarget = $( event.target ).closest( ".ui-menu-item" ),
					target = $( event.currentTarget );

				if ( actualTarget[ 0 ] !== target[ 0 ] ) {
					return;
				}

				this._removeClass( target.siblings().children( ".ui-state-active" ),
					null, "ui-state-active" );
				this.focus( event, target );
			},
			mouseleave: "collapseAll",
			"mouseleave .ui-menu": "collapseAll",
			focus: function( event, keepActiveItem ) {

				var item = this.active || this.element.find( this.options.items ).eq( 0 );

				if ( !keepActiveItem ) {
					this.focus( event, item );
				}
			},
			blur: function( event ) {
				this._delay( function() {
					var notContained = !$.contains(
						this.element[ 0 ],
						$.ui.safeActiveElement( this.document[ 0 ] )
					);
					if ( notContained ) {
						this.collapseAll( event );
					}
				} );
			},
			keydown: "_keydown"
		} );

		this.refresh();

		this._on( this.document, {
			click: function( event ) {
				if ( this._closeOnDocumentClick( event ) ) {
					this.collapseAll( event );
				}

				this.mouseHandled = false;
			}
		} );
	},

	_destroy: function() {
		var items = this.element.find( ".ui-menu-item" )
				.removeAttr( "role aria-disabled" ),
			submenus = items.children( ".ui-menu-item-wrapper" )
				.removeUniqueId()
				.removeAttr( "tabIndex role aria-haspopup" );

		this.element
			.removeAttr( "aria-activedescendant" )
			.find( ".ui-menu" ).addBack()
				.removeAttr( "role aria-labelledby aria-expanded aria-hidden aria-disabled " +
					"tabIndex" )
				.removeUniqueId()
				.show();

		submenus.children().each( function() {
			var elem = $( this );
			if ( elem.data( "ui-menu-submenu-caret" ) ) {
				elem.remove();
			}
		} );
	},

	_keydown: function( event ) {
		var match, prev, character, skip,
			preventDefault = true;

		switch ( event.keyCode ) {
		case $.ui.keyCode.PAGE_UP:
			this.previousPage( event );
			break;
		case $.ui.keyCode.PAGE_DOWN:
			this.nextPage( event );
			break;
		case $.ui.keyCode.HOME:
			this._move( "first", "first", event );
			break;
		case $.ui.keyCode.END:
			this._move( "last", "last", event );
			break;
		case $.ui.keyCode.UP:
			this.previous( event );
			break;
		case $.ui.keyCode.DOWN:
			this.next( event );
			break;
		case $.ui.keyCode.LEFT:
			this.collapse( event );
			break;
		case $.ui.keyCode.RIGHT:
			if ( this.active && !this.active.is( ".ui-state-disabled" ) ) {
				this.expand( event );
			}
			break;
		case $.ui.keyCode.ENTER:
		case $.ui.keyCode.SPACE:
			this._activate( event );
			break;
		case $.ui.keyCode.ESCAPE:
			this.collapse( event );
			break;
		default:
			preventDefault = false;
			prev = this.previousFilter || "";
			skip = false;

			character = event.keyCode >= 96 && event.keyCode <= 105 ?
				( event.keyCode - 96 ).toString() : String.fromCharCode( event.keyCode );

			clearTimeout( this.filterTimer );

			if ( character === prev ) {
				skip = true;
			} else {
				character = prev + character;
			}

			match = this._filterMenuItems( character );
			match = skip && match.index( this.active.next() ) !== -1 ?
				this.active.nextAll( ".ui-menu-item" ) :
				match;

			if ( !match.length ) {
				character = String.fromCharCode( event.keyCode );
				match = this._filterMenuItems( character );
			}

			if ( match.length ) {
				this.focus( event, match );
				this.previousFilter = character;
				this.filterTimer = this._delay( function() {
					delete this.previousFilter;
				}, 1000 );
			} else {
				delete this.previousFilter;
			}
		}

		if ( preventDefault ) {
			event.preventDefault();
		}
	},

	_activate: function( event ) {
		if ( this.active && !this.active.is( ".ui-state-disabled" ) ) {
			if ( this.active.children( "[aria-haspopup='true']" ).length ) {
				this.expand( event );
			} else {
				this.select( event );
			}
		}
	},

	refresh: function() {
		var menus, items, newSubmenus, newItems, newWrappers,
			that = this,
			icon = this.options.icons.submenu,
			submenus = this.element.find( this.options.menus );

		this._toggleClass( "ui-menu-icons", null, !!this.element.find( ".ui-icon" ).length );

		newSubmenus = submenus.filter( ":not(.ui-menu)" )
			.hide()
			.attr( {
				role: this.options.role,
				"aria-hidden": "true",
				"aria-expanded": "false"
			} )
			.each( function() {
				var menu = $( this ),
					item = menu.prev(),
					submenuCaret = $( "<span>" ).data( "ui-menu-submenu-caret", true );

				that._addClass( submenuCaret, "ui-menu-icon", "ui-icon " + icon );
				item
					.attr( "aria-haspopup", "true" )
					.prepend( submenuCaret );
				menu.attr( "aria-labelledby", item.attr( "id" ) );
			} );

		this._addClass( newSubmenus, "ui-menu", "ui-widget ui-widget-content ui-front" );

		menus = submenus.add( this.element );
		items = menus.find( this.options.items );

		items.not( ".ui-menu-item" ).each( function() {
			var item = $( this );
			if ( that._isDivider( item ) ) {
				that._addClass( item, "ui-menu-divider", "ui-widget-content" );
			}
		} );

		newItems = items.not( ".ui-menu-item, .ui-menu-divider" );
		newWrappers = newItems.children()
			.not( ".ui-menu" )
				.uniqueId()
				.attr( {
					tabIndex: -1,
					role: this._itemRole()
				} );
		this._addClass( newItems, "ui-menu-item" )
			._addClass( newWrappers, "ui-menu-item-wrapper" );

		items.filter( ".ui-state-disabled" ).attr( "aria-disabled", "true" );

		if ( this.active && !$.contains( this.element[ 0 ], this.active[ 0 ] ) ) {
			this.blur();
		}
	},

	_itemRole: function() {
		return {
			menu: "menuitem",
			listbox: "option"
		}[ this.options.role ];
	},

	_setOption: function( key, value ) {
		if ( key === "icons" ) {
			var icons = this.element.find( ".ui-menu-icon" );
			this._removeClass( icons, null, this.options.icons.submenu )
				._addClass( icons, null, value.submenu );
		}
		this._super( key, value );
	},

	_setOptionDisabled: function( value ) {
		this._super( value );

		this.element.attr( "aria-disabled", String( value ) );
		this._toggleClass( null, "ui-state-disabled", !!value );
	},

	focus: function( event, item ) {
		var nested, focused, activeParent;
		this.blur( event, event && event.type === "focus" );

		this._scrollIntoView( item );

		this.active = item.first();

		focused = this.active.children( ".ui-menu-item-wrapper" );
		this._addClass( focused, null, "ui-state-active" );

		if ( this.options.role ) {
			this.element.attr( "aria-activedescendant", focused.attr( "id" ) );
		}

		activeParent = this.active
			.parent()
				.closest( ".ui-menu-item" )
					.children( ".ui-menu-item-wrapper" );
		this._addClass( activeParent, null, "ui-state-active" );

		if ( event && event.type === "keydown" ) {
			this._close();
		} else {
			this.timer = this._delay( function() {
				this._close();
			}, this.delay );
		}

		nested = item.children( ".ui-menu" );
		if ( nested.length && event && ( /^mouse/.test( event.type ) ) ) {
			this._startOpening( nested );
		}
		this.activeMenu = item.parent();

		this._trigger( "focus", event, { item: item } );
	},

	_scrollIntoView: function( item ) {
		var borderTop, paddingTop, offset, scroll, elementHeight, itemHeight;
		if ( this._hasScroll() ) {
			borderTop = parseFloat( $.css( this.activeMenu[ 0 ], "borderTopWidth" ) ) || 0;
			paddingTop = parseFloat( $.css( this.activeMenu[ 0 ], "paddingTop" ) ) || 0;
			offset = item.offset().top - this.activeMenu.offset().top - borderTop - paddingTop;
			scroll = this.activeMenu.scrollTop();
			elementHeight = this.activeMenu.height();
			itemHeight = item.outerHeight();

			if ( offset < 0 ) {
				this.activeMenu.scrollTop( scroll + offset );
			} else if ( offset + itemHeight > elementHeight ) {
				this.activeMenu.scrollTop( scroll + offset - elementHeight + itemHeight );
			}
		}
	},

	blur: function( event, fromFocus ) {
		if ( !fromFocus ) {
			clearTimeout( this.timer );
		}

		if ( !this.active ) {
			return;
		}

		this._removeClass( this.active.children( ".ui-menu-item-wrapper" ),
			null, "ui-state-active" );

		this._trigger( "blur", event, { item: this.active } );
		this.active = null;
	},

	_startOpening: function( submenu ) {
		clearTimeout( this.timer );

		if ( submenu.attr( "aria-hidden" ) !== "true" ) {
			return;
		}

		this.timer = this._delay( function() {
			this._close();
			this._open( submenu );
		}, this.delay );
	},

	_open: function( submenu ) {
		var position = $.extend( {
			of: this.active
		}, this.options.position );

		clearTimeout( this.timer );
		this.element.find( ".ui-menu" ).not( submenu.parents( ".ui-menu" ) )
			.hide()
			.attr( "aria-hidden", "true" );

		submenu
			.show()
			.removeAttr( "aria-hidden" )
			.attr( "aria-expanded", "true" )
			.position( position );
	},

	collapseAll: function( event, all ) {
		clearTimeout( this.timer );
		this.timer = this._delay( function() {

			var currentMenu = all ? this.element :
				$( event && event.target ).closest( this.element.find( ".ui-menu" ) );

			if ( !currentMenu.length ) {
				currentMenu = this.element;
			}

			this._close( currentMenu );

			this.blur( event );

			this._removeClass( currentMenu.find( ".ui-state-active" ), null, "ui-state-active" );

			this.activeMenu = currentMenu;
		}, this.delay );
	},

	_close: function( startMenu ) {
		if ( !startMenu ) {
			startMenu = this.active ? this.active.parent() : this.element;
		}

		startMenu.find( ".ui-menu" )
			.hide()
			.attr( "aria-hidden", "true" )
			.attr( "aria-expanded", "false" );
	},

	_closeOnDocumentClick: function( event ) {
		return !$( event.target ).closest( ".ui-menu" ).length;
	},

	_isDivider: function( item ) {

		return !/[^\-\u2014\u2013\s]/.test( item.text() );
	},

	collapse: function( event ) {
		var newItem = this.active &&
			this.active.parent().closest( ".ui-menu-item", this.element );
		if ( newItem && newItem.length ) {
			this._close();
			this.focus( event, newItem );
		}
	},

	expand: function( event ) {
		var newItem = this.active &&
			this.active
				.children( ".ui-menu " )
					.find( this.options.items )
						.first();

		if ( newItem && newItem.length ) {
			this._open( newItem.parent() );

			this._delay( function() {
				this.focus( event, newItem );
			} );
		}
	},

	next: function( event ) {
		this._move( "next", "first", event );
	},

	previous: function( event ) {
		this._move( "prev", "last", event );
	},

	isFirstItem: function() {
		return this.active && !this.active.prevAll( ".ui-menu-item" ).length;
	},

	isLastItem: function() {
		return this.active && !this.active.nextAll( ".ui-menu-item" ).length;
	},

	_move: function( direction, filter, event ) {
		var next;
		if ( this.active ) {
			if ( direction === "first" || direction === "last" ) {
				next = this.active
					[ direction === "first" ? "prevAll" : "nextAll" ]( ".ui-menu-item" )
					.eq( -1 );
			} else {
				next = this.active
					[ direction + "All" ]( ".ui-menu-item" )
					.eq( 0 );
			}
		}
		if ( !next || !next.length || !this.active ) {
			next = this.activeMenu.find( this.options.items )[ filter ]();
		}

		this.focus( event, next );
	},

	nextPage: function( event ) {
		var item, base, height;

		if ( !this.active ) {
			this.next( event );
			return;
		}
		if ( this.isLastItem() ) {
			return;
		}
		if ( this._hasScroll() ) {
			base = this.active.offset().top;
			height = this.element.height();
			this.active.nextAll( ".ui-menu-item" ).each( function() {
				item = $( this );
				return item.offset().top - base - height < 0;
			} );

			this.focus( event, item );
		} else {
			this.focus( event, this.activeMenu.find( this.options.items )
				[ !this.active ? "first" : "last" ]() );
		}
	},

	previousPage: function( event ) {
		var item, base, height;
		if ( !this.active ) {
			this.next( event );
			return;
		}
		if ( this.isFirstItem() ) {
			return;
		}
		if ( this._hasScroll() ) {
			base = this.active.offset().top;
			height = this.element.height();
			this.active.prevAll( ".ui-menu-item" ).each( function() {
				item = $( this );
				return item.offset().top - base + height > 0;
			} );

			this.focus( event, item );
		} else {
			this.focus( event, this.activeMenu.find( this.options.items ).first() );
		}
	},

	_hasScroll: function() {
		return this.element.outerHeight() < this.element.prop( "scrollHeight" );
	},

	select: function( event ) {

		this.active = this.active || $( event.target ).closest( ".ui-menu-item" );
		var ui = { item: this.active };
		if ( !this.active.has( ".ui-menu" ).length ) {
			this.collapseAll( event, true );
		}
		this._trigger( "select", event, ui );
	},

	_filterMenuItems: function( character ) {
		var escapedCharacter = character.replace( /[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&" ),
			regex = new RegExp( "^" + escapedCharacter, "i" );

		return this.activeMenu
			.find( this.options.items )

				.filter( ".ui-menu-item" )
					.filter( function() {
						return regex.test(
							$.trim( $( this ).children( ".ui-menu-item-wrapper" ).text() ) );
					} );
	}
} );




}));


(function( factory ) {
	"use strict";
	if ( typeof define === "function" && define.amd ) {
		define([ "jquery", "jquery-ui/ui/widgets/menu" ], factory );
	} else {
		factory( jQuery );
	}
}(function( $ ) {

"use strict";

var supportSelectstart = "onselectstart" in document.createElement("div"),
	match = $.ui.menu.version.match(/^(\d)\.(\d+)/),
	uiVersion = {
		major: parseInt(match[1], 10),
		minor: parseInt(match[2], 10)
	},
	isLTE110 = ( uiVersion.major < 2 && uiVersion.minor <= 10 ),
	isLTE111 = ( uiVersion.major < 2 && uiVersion.minor <= 11 );

$.widget("moogle.contextmenu", {
	version: "@VERSION",
	options: {
		addClass: "ui-contextmenu",  
		closeOnWindowBlur: true,     
		autoFocus: false,     
		autoTrigger: true,    
		delegate: null,       
		hide: { effect: "fadeOut", duration: "fast" },
		ignoreParentSelect: true, 
		menu: null,           
		position: null,       
		preventContextMenuForPopup: false, 
		preventSelect: false, 
		show: { effect: "slideDown", duration: "fast" },
		taphold: false,       
		uiMenuOptions: {},	  
		beforeOpen: $.noop,   
		blur: $.noop,         
		close: $.noop,        
		create: $.noop,       
		createMenu: $.noop,   
		focus: $.noop,        
		open: $.noop,         
		select: $.noop        
	},

	_create: function() {
		var cssText, eventNames, targetId,
			opts = this.options;

		this.$headStyle = null;
		this.$menu = null;
		this.menuIsTemp = false;
		this.currentTarget = null;
		this.extraData = {};
		this.previousFocus = null;

		if (opts.delegate == null) {
			$.error("ui-contextmenu: Missing required option `delegate`.");
		}
		if (opts.preventSelect) {
			targetId = ($(this.element).is(document) ? $("body")
				: this.element).uniqueId().attr("id");
			cssText = "#" + targetId + " " + opts.delegate + " { " +
					"-webkit-user-select: none; " +
					"-khtml-user-select: none; " +
					"-moz-user-select: none; " +
					"-ms-user-select: none; " +
					"user-select: none; " +
					"}";
			this.$headStyle = $("<style class='moogle-contextmenu-style' />")
				.prop("type", "text/css")
				.appendTo("head");

			try {
				this.$headStyle.html(cssText);
			} catch ( e ) {
				this.$headStyle[0].styleSheet.cssText = cssText;
			}
			if (supportSelectstart) {
				this.element.on("selectstart" + this.eventNamespace, opts.delegate,
									  function(event) {
					event.preventDefault();
				});
			}
		}
		this._createUiMenu(opts.menu);

		eventNames = "contextmenu" + this.eventNamespace;
		if (opts.taphold) {
			eventNames += " taphold" + this.eventNamespace;
		}
		this.element.on(eventNames, opts.delegate, $.proxy(this._openMenu, this));
	},

	_destroy: function() {
		this.element.off(this.eventNamespace);

		this._createUiMenu(null);

		if (this.$headStyle) {
			this.$headStyle.remove();
			this.$headStyle = null;
		}
	},

	_createUiMenu: function(menuDef) {
		var ct, ed,
			opts = this.options;

		if (this.isOpen()) {
			ct = this.currentTarget;
			ed = this.extraData;
			this._closeMenu(true);
			this.currentTarget = ct;
			this.extraData = ed;
		}
		if (this.menuIsTemp) {
			this.$menu.remove(); 
		} else if (this.$menu) {
			this.$menu
				.menu("destroy")
				.removeClass(this.options.addClass)
				.hide();
		}
		this.$menu = null;
		this.menuIsTemp = false;
		if ( !menuDef ) {
			return;
		} else if ($.isArray(menuDef)) {
			this.$menu = $.moogle.contextmenu.createMenuMarkup(menuDef);
			this.menuIsTemp = true;
		}else if ( typeof menuDef === "string" ) {
			this.$menu = $(menuDef);
		} else {
			this.$menu = menuDef;
		}
		this.$menu
			.hide()
			.addClass(opts.addClass)
			.menu($.extend(true, {}, opts.uiMenuOptions, {
				items: "> :not(.ui-widget-header)",
				blur: $.proxy(opts.blur, this),
				create: $.proxy(opts.createMenu, this),
				focus: $.proxy(opts.focus, this),
				select: $.proxy(function(event, ui) {
					var retval,
						isParent = $.moogle.contextmenu.isMenu(ui.item),
						actionHandler = ui.item.data("actionHandler");

					ui.cmd = ui.item.attr("data-command");
					ui.target = $(this.currentTarget);
					ui.extraData = this.extraData;
					if ( !isParent || !opts.ignoreParentSelect) {
						retval = this._trigger.call(this, "select", event, ui);
						if ( actionHandler ) {
							retval = actionHandler.call(this, event, ui);
						}
						if ( retval !== false ) {
							this._closeMenu.call(this);
						}
						event.preventDefault();
					}
				}, this)
			}));
	},

	_openMenu: function(event, recursive) {
		var res, promise, ui,
			opts = this.options,
			posOption = opts.position,
			self = this,
			manualTrigger = !!event.isTrigger;

		if ( !opts.autoTrigger && !manualTrigger ) {
			return;
		}
		event.preventDefault();

		this.currentTarget = event.target;
		this.extraData = event._extraData || {};

		ui = { menu: this.$menu, target: $(this.currentTarget), extraData: this.extraData,
			   originalEvent: event, result: null };

		if ( !recursive ) {
			res = this._trigger("beforeOpen", event, ui);
			promise = (ui.result && $.isFunction(ui.result.promise)) ? ui.result : null;
			ui.result = null;
			if ( res === false ) {
				this.currentTarget = null;
				return false;
			} else if ( promise ) {
				promise.done(function() {
					self._openMenu(event, true);
				});
				this.currentTarget = null;
				return false;
			}
			ui.menu = this.$menu; 
		}

		$(document).on("keydown" + this.eventNamespace, function(event) {
			if ( event.which === $.ui.keyCode.ESCAPE ) {
				self._closeMenu();
			}
		}).on("mousedown" + this.eventNamespace + " touchstart" + this.eventNamespace,
				function(event) {
			if ( !$(event.target).closest(".ui-menu-item").length ) {
				self._closeMenu();
			}
		});
		$(window).on("blur" + this.eventNamespace, function(event) {
			if ( opts.closeOnWindowBlur ) {
				self._closeMenu();
			}
		});

		if ($.isFunction(posOption)) {
			posOption = posOption(event, ui);
		}
		posOption = $.extend({
			my: "left top",
			at: "left bottom",
			of: (event.pageX === undefined) ? event.target : event,
			collision: "fit"
		}, posOption);

		this._updateEntries(this.$menu);

		this.$menu
			.show() 
			.css({
				position: "absolute",
				left: 0,
				top: 0
			}).position(posOption)
			.hide(); 

		if ( opts.preventContextMenuForPopup ) {
			this.$menu.on("contextmenu" + this.eventNamespace, function(event) {
				event.preventDefault();
			});
		}
		this._show(this.$menu, opts.show, function() {
			var $first;

			if ( opts.autoFocus ) {
				self.previousFocus = $(event.target);
				$first = self.$menu
					.children("li.ui-menu-item")
					.not(".ui-state-disabled")
					.first();
				self.$menu.menu("focus", null, $first).focus();
			}
			self._trigger.call(self, "open", event, ui);
		});
	},

	_closeMenu: function(immediately) {
		var self = this,
			hideOpts = immediately ? false : this.options.hide,
			ui = { menu: this.$menu, target: $(this.currentTarget), extraData: this.extraData };

		$(document)
			.off("mousedown" + this.eventNamespace)
			.off("touchstart" + this.eventNamespace)
			.off("keydown" + this.eventNamespace);
		$(window)
			.off("blur" + this.eventNamespace);

		self.currentTarget = null; 
		self.extraData = {};
		if ( this.$menu ) { 
			this.$menu
				.off("contextmenu" + this.eventNamespace);
			this._hide(this.$menu, hideOpts, function() {
				if ( self.previousFocus ) {
					self.previousFocus.focus();
					self.previousFocus = null;
				}
				self._trigger("close", null, ui);
			});
		} else {
			self._trigger("close", null, ui);
		}
	},

	_setOption: function(key, value) {
		switch (key) {
		case "menu":
			this.replaceMenu(value);
			break;
		}
		$.Widget.prototype._setOption.apply(this, arguments);
	},

	_getMenuEntry: function(cmd) {
		return this.$menu.find("li[data-command=" + cmd + "]");
	},

	close: function() {
		if (this.isOpen()) {
			this._closeMenu();
		}
	},

	_updateEntries: function() {
		var self = this,
			ui = {
				menu: this.$menu, target: $(this.currentTarget), extraData: this.extraData };

		$.each(this.$menu.find(".ui-menu-item"), function(i, o) {
			var $entry = $(o),
				fn = $entry.data("disabledHandler"),
				res = fn ? fn({ type: "disabled" }, ui) : null;

			ui.item = $entry;
			ui.cmd = $entry.attr("data-command");
			if ( res != null ) {
				self.enableEntry(ui.cmd, !res);
				self.showEntry(ui.cmd, res !== "hide");
			}
			fn = $entry.data("titleHandler"),
			res = fn ? fn({ type: "title" }, ui) : null;
			if ( res != null ) {
				self.setTitle(ui.cmd, "" + res);
			}
			fn = $entry.data("tooltipHandler"),
			res = fn ? fn({ type: "tooltip" }, ui) : null;
			if ( res != null ) {
				$entry.attr("title", "" + res);
			}
		});
	},

	enableEntry: function(cmd, flag) {
		this._getMenuEntry(cmd).toggleClass("ui-state-disabled", (flag === false));
	},

	getEntry: function(cmd) {
		return this._getMenuEntry(cmd);
	},

	getEntryWrapper: function(cmd) {
		return this._getMenuEntry(cmd).find(">[role=menuitem]").addBack("[role=menuitem]");
	},

	getMenu: function() {
		return this.$menu;
	},

	isOpen: function() {
		return !!this.$menu && !!this.currentTarget;
	},

	open: function(targetOrEvent, extraData) {
		extraData = extraData || {};

		var isEvent = (targetOrEvent && targetOrEvent.type && targetOrEvent.target),
			event =  isEvent ? targetOrEvent : {},
			target = isEvent ? targetOrEvent.target : targetOrEvent,
			e = jQuery.Event("contextmenu", {
				target: $(target).get(0),
				pageX: event.pageX,
				pageY: event.pageY,
				originalEvent: isEvent ? targetOrEvent : undefined,
				_extraData: extraData
			});
		return this.element.trigger(e);
	},

	replaceMenu: function(data) {
		this._createUiMenu(data);
	},

	setEntry: function(cmd, entry) {
		var $ul,
			$entryLi = this._getMenuEntry(cmd);

		if (typeof entry === "string") {
			window.console && window.console.warn(
				"setEntry(cmd, t) with a plain string title is deprecated since v1.18." +
				"Use setTitle(cmd, '" + entry + "') instead.");
			return this.setTitle(cmd, entry);
		}
		$entryLi.empty();
		entry.cmd = entry.cmd || cmd;
		$.moogle.contextmenu.createEntryMarkup(entry, $entryLi);
		if ($.isArray(entry.children)) {
			$ul = $("<ul/>").appendTo($entryLi);
			$.moogle.contextmenu.createMenuMarkup(entry.children, $ul);
		}
		$entryLi.removeClass("ui-menu-item");
		this.getMenu().menu("refresh");
	},

	setIcon: function(cmd, icon) {
		return this.updateEntry(cmd, { uiIcon: icon });
	},

	setTitle: function(cmd, title) {
		return this.updateEntry(cmd, { title: title });
	},

	showEntry: function(cmd, flag) {
		this._getMenuEntry(cmd).toggle(flag !== false);
	},

	updateEntry: function(cmd, entry) {
		var $icon, $wrapper,
			$entryLi = this._getMenuEntry(cmd);

		if ( entry.title !== undefined ) {
			$.moogle.contextmenu.updateTitle($entryLi, "" + entry.title);
		}
		if ( entry.tooltip !== undefined ) {
			if ( entry.tooltip === null ) {
				$entryLi.removeAttr("title");
			} else {
				$entryLi.attr("title", entry.tooltip);
			}
		}
		if ( entry.uiIcon !== undefined ) {
			$wrapper = this.getEntryWrapper(cmd),
			$icon = $wrapper.find("span.ui-icon").not(".ui-menu-icon");
			$icon.remove();
			if ( entry.uiIcon ) {
				$wrapper.append($("<span class='ui-icon' />").addClass(entry.uiIcon));
			}
		}
		if ( entry.hide !== undefined ) {
			$entryLi.toggle(!entry.hide);
		} else if ( entry.show !== undefined ) {
			$entryLi.toggle(!!entry.show);
		}
		if ( entry.data !== undefined ) {
			$entryLi.data(entry.data);
		}

		if ( entry.disabled === undefined ) {
			entry.disabled = $entryLi.hasClass("ui-state-disabled");
		}
		if ( entry.setClass ) {
			if ( $entryLi.hasClass("ui-menu-item") ) {
				entry.setClass += " ui-menu-item";
			}
			$entryLi.removeClass();
			$entryLi.addClass(entry.setClass);
		} else if ( entry.addClass ) {
			$entryLi.addClass(entry.addClass);
		}
		$entryLi.toggleClass("ui-state-disabled", !!entry.disabled);
	}
});


$.extend($.moogle.contextmenu, {

	createEntryMarkup: function(entry, $parentLi) {
		var $wrapper = null;

		$parentLi.attr("data-command", entry.cmd);

		if ( !/[^\-\u2014\u2013\s]/.test( entry.title ) ) {
			$parentLi.text(entry.title);
		} else {
			if ( isLTE110 ) {
				$wrapper = $("<a/>", {
						html: "" + entry.title,
						href: "#"
					}).appendTo($parentLi);

			} else if ( isLTE111 ) {
				$parentLi.html("" + entry.title);
				$wrapper = $parentLi;

			} else {
				$wrapper = $("<div/>", {
						html: "" + entry.title
					}).appendTo($parentLi);
			}
			if ( entry.uiIcon ) {
				$wrapper.append($("<span class='ui-icon' />").addClass(entry.uiIcon));
			}
			$.each( [ "action", "disabled", "title", "tooltip" ], function(i, attr) {
				if ( $.isFunction(entry[attr]) ) {
					$parentLi.data(attr + "Handler", entry[attr]);
				}
			});
			if ( entry.disabled === true ) {
				$parentLi.addClass("ui-state-disabled");
			}
			if ( entry.isHeader ) {
				$parentLi.addClass("ui-widget-header");
			}
			if ( entry.addClass ) {
				$parentLi.addClass(entry.addClass);
			}
			if ( $.isPlainObject(entry.data) ) {
				$parentLi.data(entry.data);
			}
			if ( typeof entry.tooltip === "string" ) {
				$parentLi.attr("title", entry.tooltip);
			}
		}
	},

	createMenuMarkup: function(options, $parentUl) {
		var i, menu, $ul, $li;
		if ( $parentUl == null ) {
			$parentUl = $("<ul class='ui-helper-hidden' />").appendTo("body");
		}
		for (i = 0; i < options.length; i++) {
			menu = options[i];
			$li = $("<li/>").appendTo($parentUl);

			$.moogle.contextmenu.createEntryMarkup(menu, $li);

			if ( $.isArray(menu.children) ) {
				$ul = $("<ul/>").appendTo($li);
				$.moogle.contextmenu.createMenuMarkup(menu.children, $ul);
			}
		}
		return $parentUl;
	},

	isMenu: function(item) {
		if ( isLTE110 ) {
			return item.has(">a[aria-haspopup='true']").length > 0;
		} else if ( isLTE111 ) {  
			return item.is("[aria-haspopup='true']");
		} else {
			return item.has(">div[aria-haspopup='true']").length > 0;
		}
	},

	replaceFirstTextNodeChild: function(elem, html) {
		var $icons = elem.find(">span.ui-icon,>ul.ui-menu").detach();

		elem
			.empty()
			.html(html)
			.append($icons);
	},

	updateTitle: function(item, title) {
		if ( isLTE110 ) {  
			$.moogle.contextmenu.replaceFirstTextNodeChild($("a", item), title);
		} else if ( isLTE111 ) {  
			$.moogle.contextmenu.replaceFirstTextNodeChild(item, title);
		} else {  
			$.moogle.contextmenu.replaceFirstTextNodeChild($("div", item), title);
		}
	}
});

}));

(function (root) {
  'use strict'
  var css = '.nanobar{width:100%;height:4px;z-index:9999;top:0}.bar{width:0;height:100%;transition:height .3s;background:#000}'

  function addCss () {
    var s = document.getElementById('nanobarcss')

    if (s === null) {
      s = document.createElement('style')
      s.type = 'text/css'
      s.id = 'nanobarcss'
      document.head.insertBefore(s, document.head.firstChild)
      if (!s.styleSheet) return s.appendChild(document.createTextNode(css))
      s.styleSheet.cssText = css
    }
  }

  function addClass (el, cls) {
    if (el.classList) el.classList.add(cls)
    else el.className += ' ' + cls
  }

  function createBar (rm) {
    var el = document.createElement('div'),
        width = 0,
        here = 0,
        on = 0,
        bar = {
          el: el,
          go: go
        }

    addClass(el, 'bar')

    function move () {
      var dist = width - here

      if (dist < 0.1 && dist > -0.1) {
        place(here)
        on = 0
        if (width === 100) {
          el.style.height = 0
          setTimeout(function () {
            rm(el)
          }, 300)
        }
      } else {
        place(width - dist / 4)
        setTimeout(go, 16)
      }
    }

    function place (num) {
      width = num
      el.style.width = width + '%'
    }

    function go (num) {
      if (num >= 0) {
        here = num
        if (!on) {
          on = 1
          move()
        }
      } else if (on) {
        move()
      }
    }
    return bar
  }

  function Nanobar (opts) {
    opts = opts || {}
    var el = document.createElement('div'),
        applyGo,
        nanobar = {
          el: el,
          go: function (p) {
            applyGo(p)
            if (p === 100) {
              init()
            }
          }
        }

    function rm (child) {
      el.removeChild(child)
    }

    function init () {
      var bar = createBar(rm)
      el.appendChild(bar.el)
      applyGo = bar.go
    }

    addCss()

    addClass(el, 'nanobar')
    if (opts.id) el.id = opts.id
    if (opts.classname) addClass(el, opts.classname)

    if (opts.target) {
      el.style.position = 'relative'
      opts.target.insertBefore(el, opts.target.firstChild)
    } else {
      el.style.position = 'fixed'
      document.getElementsByTagName('body')[0].appendChild(el)
    }

    init()
    return nanobar
  }

  if (typeof exports === 'object') {
    module.exports = Nanobar
  } else if (typeof define === 'function' && define.amd) {
    define([], function () { return Nanobar })
  } else {
    root.Nanobar = Nanobar
  }
}(this))

; (function (root, factory) {
    if (typeof exports === 'object' && typeof module === 'object') {
        module.exports = factory();
    } else if (typeof define === 'function' && define.amd) {
        define([], factory);
    } else if (typeof exports === 'object') {
        exports['notifier'] = factory();
    } else {
        root['notifier'] = factory();
    }
}(typeof self !== 'undefined' ? self : this, function () {
    let notificationCounter = 0;
    const createElement = function (tagName, attributes) {
        const element = document.createElement(tagName);
        for (const property in attributes) {
            element.setAttribute(property, attributes[property]);
        }
        return element;
    };

    const createNotificationContainer = function () {
        const container = createElement('div', { class: 'notifier-container', id: 'notifier-container' });
        document.body.appendChild(container);
    };

    const showNotification = function (title, message, notificationType, iconUrl, options) {
        let config = {
            autoHideTimeout: 3000,
            classList: [],
            payload: {},
            clickNotify: null
        };

        title = title || '';
        message = message || ' .';
        notificationType = notificationType || 'info';

        if (typeof options === 'number') {
            config.autoHideTimeout = options;
        } else if (typeof options === 'object' && options !== null) {
            config.autoHideTimeout = typeof options.autoHideTimeout === 'number' ? options.autoHideTimeout : 3000;
            config.classList = options.classList || [];
            config.payload = options.payload || {};
            config.clickNotify = typeof options.clickNotify === 'function' ? options.clickNotify : null;
        }

        const notificationId = config.payload.id || 'notifier-' + notificationCounter;
        const container = document.querySelector('.notifier-container'),
            notification = createElement('div', { class: 'notifier ' + notificationType }),
            titleElement = createElement('h3', { class: 'notifier-title' }),
            bodyElement = createElement('div', { class: 'notifier-body' }),
            imageContainer = createElement('div', { class: 'notifier-img' }),
            closeButton = createElement('button', { class: 'notifier-close', type: 'button' });

        if (config.classList && config.classList.length > 0) {
            config.classList.forEach(cls => {
                if (!container.classList.contains(cls)) {
                    container.classList.add(cls);
                }
            });
        }
        titleElement.innerHTML = title;
        bodyElement.innerHTML = message;
        closeButton.innerHTML = '&times;';

        if (iconUrl && iconUrl.length > 0) {
            imageContainer.appendChild(createElement('img', { class: 'img', src: iconUrl }));
        }

        notification.appendChild(closeButton);
        notification.appendChild(imageContainer);
        notification.appendChild(titleElement);
        notification.appendChild(bodyElement);

        container.appendChild(notification);

        imageContainer.style.height = imageContainer.parentNode.offsetHeight + 'px' || null;

        setTimeout(function () {
            notification.className += ' shown';
            notification.setAttribute('id', notificationId);
        }, 100);

        if (config.autoHideTimeout > 0) {
            setTimeout(function () {
                hideNotification(notificationId);
            }, config.autoHideTimeout);
        }

        if (config.clickNotify) {
            notification.addEventListener('click', function (evt) {
                if (evt.target !== closeButton) {
                    config.clickNotify(evt, config.payload, notificationId);
                    hideNotification(notificationId);
                }
            });
            notification.style.cursor = 'pointer';
        }

        closeButton.addEventListener('click', function () {
            hideNotification(notificationId);
        });

        notificationCounter += 1;

        return notificationId;
    };

    const hideNotification = function (notificationId) {
        const notificationElement = document.getElementById(notificationId);

        if (notificationElement) {
            notificationElement.className = notificationElement.className.replace(' shown', '');

            setTimeout(function () {
                notificationElement.parentNode?.removeChild(notificationElement);
            }, 600);

            return true;
        } else {
            return false;
        }
    };

    createNotificationContainer();

    return {
        show: showNotification,
        hide: hideNotification
    };
}));

(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["ClipboardJS"] = factory();
	else
		root["ClipboardJS"] = factory();
})(this, function() {
return  (function() { 
 	var __webpack_modules__ = ({

 686:
 (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";

__webpack_require__.d(__webpack_exports__, {
  "default": function() { return  clipboard; }
});

var tiny_emitter = __webpack_require__(279);
var tiny_emitter_default = __webpack_require__.n(tiny_emitter);
var listen = __webpack_require__(370);
var listen_default = __webpack_require__.n(listen);
var src_select = __webpack_require__(817);
var select_default = __webpack_require__.n(src_select);
;
function command(type) {
  try {
    return document.execCommand(type);
  } catch (err) {
    return false;
  }
}
;



var ClipboardActionCut = function ClipboardActionCut(target) {
  var selectedText = select_default()(target);
  command('cut');
  return selectedText;
};

 var actions_cut = (ClipboardActionCut);
;
function createFakeElement(value) {
  var isRTL = document.documentElement.getAttribute('dir') === 'rtl';
  var fakeElement = document.createElement('textarea'); 

  fakeElement.style.fontSize = '12pt'; 

  fakeElement.style.border = '0';
  fakeElement.style.padding = '0';
  fakeElement.style.margin = '0'; 

  fakeElement.style.position = 'absolute';
  fakeElement.style[isRTL ? 'right' : 'left'] = '-9999px'; 

  var yPosition = window.pageYOffset || document.documentElement.scrollTop;
  fakeElement.style.top = "".concat(yPosition, "px");
  fakeElement.setAttribute('readonly', '');
  fakeElement.value = value;
  return fakeElement;
}
;




var fakeCopyAction = function fakeCopyAction(value, options) {
  var fakeElement = createFakeElement(value);
  options.container.appendChild(fakeElement);
  var selectedText = select_default()(fakeElement);
  command('copy');
  fakeElement.remove();
  return selectedText;
};


var ClipboardActionCopy = function ClipboardActionCopy(target) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
    container: document.body
  };
  var selectedText = '';

  if (typeof target === 'string') {
    selectedText = fakeCopyAction(target, options);
  } else if (target instanceof HTMLInputElement && !['text', 'search', 'url', 'tel', 'password'].includes(target === null || target === void 0 ? void 0 : target.type)) {
    selectedText = fakeCopyAction(target.value, options);
  } else {
    selectedText = select_default()(target);
    command('copy');
  }

  return selectedText;
};

 var actions_copy = (ClipboardActionCopy);
;
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }




var ClipboardActionDefault = function ClipboardActionDefault() {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var _options$action = options.action,
      action = _options$action === void 0 ? 'copy' : _options$action,
      container = options.container,
      target = options.target,
      text = options.text; 

  if (action !== 'copy' && action !== 'cut') {
    throw new Error('Invalid "action" value, use either "copy" or "cut"');
  } 


  if (target !== undefined) {
    if (target && _typeof(target) === 'object' && target.nodeType === 1) {
      if (action === 'copy' && target.hasAttribute('disabled')) {
        throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');
      }

      if (action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {
        throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');
      }
    } else {
      throw new Error('Invalid "target" value, use a valid Element');
    }
  } 


  if (text) {
    return actions_copy(text, {
      container: container
    });
  } 


  if (target) {
    return action === 'cut' ? actions_cut(target) : actions_copy(target, {
      container: container
    });
  }
};

 var actions_default = (ClipboardActionDefault);
;
function clipboard_typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { clipboard_typeof = function _typeof(obj) { return typeof obj; }; } else { clipboard_typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return clipboard_typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (clipboard_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }







function getAttributeValue(suffix, element) {
  var attribute = "data-clipboard-".concat(suffix);

  if (!element.hasAttribute(attribute)) {
    return;
  }

  return element.getAttribute(attribute);
}


var Clipboard = function (_Emitter) {
  _inherits(Clipboard, _Emitter);

  var _super = _createSuper(Clipboard);

  function Clipboard(trigger, options) {
    var _this;

    _classCallCheck(this, Clipboard);

    _this = _super.call(this);

    _this.resolveOptions(options);

    _this.listenClick(trigger);

    return _this;
  }


  _createClass(Clipboard, [{
    key: "resolveOptions",
    value: function resolveOptions() {
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      this.action = typeof options.action === 'function' ? options.action : this.defaultAction;
      this.target = typeof options.target === 'function' ? options.target : this.defaultTarget;
      this.text = typeof options.text === 'function' ? options.text : this.defaultText;
      this.container = clipboard_typeof(options.container) === 'object' ? options.container : document.body;
    }

  }, {
    key: "listenClick",
    value: function listenClick(trigger) {
      var _this2 = this;

      this.listener = listen_default()(trigger, 'click', function (e) {
        return _this2.onClick(e);
      });
    }

  }, {
    key: "onClick",
    value: function onClick(e) {
      var trigger = e.delegateTarget || e.currentTarget;
      var action = this.action(trigger) || 'copy';
      var text = actions_default({
        action: action,
        container: this.container,
        target: this.target(trigger),
        text: this.text(trigger)
      }); 

      this.emit(text ? 'success' : 'error', {
        action: action,
        text: text,
        trigger: trigger,
        clearSelection: function clearSelection() {
          if (trigger) {
            trigger.focus();
          }

          window.getSelection().removeAllRanges();
        }
      });
    }

  }, {
    key: "defaultAction",
    value: function defaultAction(trigger) {
      return getAttributeValue('action', trigger);
    }

  }, {
    key: "defaultTarget",
    value: function defaultTarget(trigger) {
      var selector = getAttributeValue('target', trigger);

      if (selector) {
        return document.querySelector(selector);
      }
    }

  }, {
    key: "defaultText",

    value: function defaultText(trigger) {
      return getAttributeValue('text', trigger);
    }

  }, {
    key: "destroy",
    value: function destroy() {
      this.listener.destroy();
    }
  }], [{
    key: "copy",
    value: function copy(target) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
        container: document.body
      };
      return actions_copy(target, options);
    }

  }, {
    key: "cut",
    value: function cut(target) {
      return actions_cut(target);
    }

  }, {
    key: "isSupported",
    value: function isSupported() {
      var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['copy', 'cut'];
      var actions = typeof action === 'string' ? [action] : action;
      var support = !!document.queryCommandSupported;
      actions.forEach(function (action) {
        support = support && !!document.queryCommandSupported(action);
      });
      return support;
    }
  }]);

  return Clipboard;
}((tiny_emitter_default()));

 var clipboard = (Clipboard);

 }),

 828:
 (function(module) {

var DOCUMENT_NODE_TYPE = 9;

if (typeof Element !== 'undefined' && !Element.prototype.matches) {
    var proto = Element.prototype;

    proto.matches = proto.matchesSelector ||
                    proto.mozMatchesSelector ||
                    proto.msMatchesSelector ||
                    proto.oMatchesSelector ||
                    proto.webkitMatchesSelector;
}

function closest (element, selector) {
    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {
        if (typeof element.matches === 'function' &&
            element.matches(selector)) {
          return element;
        }
        element = element.parentNode;
    }
}

module.exports = closest;


 }),

 438:
 (function(module, __unused_webpack_exports, __webpack_require__) {

var closest = __webpack_require__(828);

function _delegate(element, selector, type, callback, useCapture) {
    var listenerFn = listener.apply(this, arguments);

    element.addEventListener(type, listenerFn, useCapture);

    return {
        destroy: function() {
            element.removeEventListener(type, listenerFn, useCapture);
        }
    }
}

function delegate(elements, selector, type, callback, useCapture) {
    if (typeof elements.addEventListener === 'function') {
        return _delegate.apply(null, arguments);
    }

    if (typeof type === 'function') {
        return _delegate.bind(null, document).apply(null, arguments);
    }

    if (typeof elements === 'string') {
        elements = document.querySelectorAll(elements);
    }

    return Array.prototype.map.call(elements, function (element) {
        return _delegate(element, selector, type, callback, useCapture);
    });
}

function listener(element, selector, type, callback) {
    return function(e) {
        e.delegateTarget = closest(e.target, selector);

        if (e.delegateTarget) {
            callback.call(element, e);
        }
    }
}

module.exports = delegate;


 }),

 879:
 (function(__unused_webpack_module, exports) {

exports.node = function(value) {
    return value !== undefined
        && value instanceof HTMLElement
        && value.nodeType === 1;
};

exports.nodeList = function(value) {
    var type = Object.prototype.toString.call(value);

    return value !== undefined
        && (type === '[object NodeList]' || type === '[object HTMLCollection]')
        && ('length' in value)
        && (value.length === 0 || exports.node(value[0]));
};

exports.string = function(value) {
    return typeof value === 'string'
        || value instanceof String;
};

exports.fn = function(value) {
    var type = Object.prototype.toString.call(value);

    return type === '[object Function]';
};


 }),

 370:
 (function(module, __unused_webpack_exports, __webpack_require__) {

var is = __webpack_require__(879);
var delegate = __webpack_require__(438);

function listen(target, type, callback) {
    if (!target && !type && !callback) {
        throw new Error('Missing required arguments');
    }

    if (!is.string(type)) {
        throw new TypeError('Second argument must be a String');
    }

    if (!is.fn(callback)) {
        throw new TypeError('Third argument must be a Function');
    }

    if (is.node(target)) {
        return listenNode(target, type, callback);
    }
    else if (is.nodeList(target)) {
        return listenNodeList(target, type, callback);
    }
    else if (is.string(target)) {
        return listenSelector(target, type, callback);
    }
    else {
        throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');
    }
}

function listenNode(node, type, callback) {
    node.addEventListener(type, callback);

    return {
        destroy: function() {
            node.removeEventListener(type, callback);
        }
    }
}

function listenNodeList(nodeList, type, callback) {
    Array.prototype.forEach.call(nodeList, function(node) {
        node.addEventListener(type, callback);
    });

    return {
        destroy: function() {
            Array.prototype.forEach.call(nodeList, function(node) {
                node.removeEventListener(type, callback);
            });
        }
    }
}

function listenSelector(selector, type, callback) {
    return delegate(document.body, selector, type, callback);
}

module.exports = listen;


 }),

 817:
 (function(module) {

function select(element) {
    var selectedText;

    if (element.nodeName === 'SELECT') {
        element.focus();

        selectedText = element.value;
    }
    else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {
        var isReadOnly = element.hasAttribute('readonly');

        if (!isReadOnly) {
            element.setAttribute('readonly', '');
        }

        element.select();
        element.setSelectionRange(0, element.value.length);

        if (!isReadOnly) {
            element.removeAttribute('readonly');
        }

        selectedText = element.value;
    }
    else {
        if (element.hasAttribute('contenteditable')) {
            element.focus();
        }

        var selection = window.getSelection();
        var range = document.createRange();

        range.selectNodeContents(element);
        selection.removeAllRanges();
        selection.addRange(range);

        selectedText = selection.toString();
    }

    return selectedText;
}

module.exports = select;


 }),

 279:
 (function(module) {

function E () {
}

E.prototype = {
  on: function (name, callback, ctx) {
    var e = this.e || (this.e = {});

    (e[name] || (e[name] = [])).push({
      fn: callback,
      ctx: ctx
    });

    return this;
  },

  once: function (name, callback, ctx) {
    var self = this;
    function listener () {
      self.off(name, listener);
      callback.apply(ctx, arguments);
    };

    listener._ = callback
    return this.on(name, listener, ctx);
  },

  emit: function (name) {
    var data = [].slice.call(arguments, 1);
    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();
    var i = 0;
    var len = evtArr.length;

    for (i; i < len; i++) {
      evtArr[i].fn.apply(evtArr[i].ctx, data);
    }

    return this;
  },

  off: function (name, callback) {
    var e = this.e || (this.e = {});
    var evts = e[name];
    var liveEvents = [];

    if (evts && callback) {
      for (var i = 0, len = evts.length; i < len; i++) {
        if (evts[i].fn !== callback && evts[i].fn._ !== callback)
          liveEvents.push(evts[i]);
      }
    }


    (liveEvents.length)
      ? e[name] = liveEvents
      : delete e[name];

    return this;
  }
};

module.exports = E;
module.exports.TinyEmitter = E;


 })

 	});
 	var __webpack_module_cache__ = {};
 	function __webpack_require__(moduleId) {
 		if(__webpack_module_cache__[moduleId]) {
 			return __webpack_module_cache__[moduleId].exports;
 		}
 		var module = __webpack_module_cache__[moduleId] = {
 			exports: {}
 		};
 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
 		return module.exports;
 	}
 	!function() {
 		__webpack_require__.n = function(module) {
 			var getter = module && module.__esModule ?
 				function() { return module['default']; } :
 				function() { return module; };
 			__webpack_require__.d(getter, { a: getter });
 			return getter;
 		};
 	}();
 	!function() {
 		__webpack_require__.d = function(exports, definition) {
 			for(var key in definition) {
 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
 				}
 			}
 		};
 	}();
 	!function() {
 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
 	}();
 	return __webpack_require__(686);
 })()
.default;
});
(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):(global=global||self,global.Mustache=factory())})(this,function(){"use strict";var objectToString=Object.prototype.toString;var isArray=Array.isArray||function isArrayPolyfill(object){return objectToString.call(object)==="[object Array]"};function isFunction(object){return typeof object==="function"}function typeStr(obj){return isArray(obj)?"array":typeof obj}function escapeRegExp(string){return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function hasProperty(obj,propName){return obj!=null&&typeof obj==="object"&&propName in obj}function primitiveHasOwnProperty(primitive,propName){return primitive!=null&&typeof primitive!=="object"&&primitive.hasOwnProperty&&primitive.hasOwnProperty(propName)}var regExpTest=RegExp.prototype.test;function testRegExp(re,string){return regExpTest.call(re,string)}var nonSpaceRe=/\S/;function isWhitespace(string){return!testRegExp(nonSpaceRe,string)}var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function escapeHtml(string){return String(string).replace(/[&<>"'`=\/]/g,function fromEntityMap(s){return entityMap[s]})}var whiteRe=/\s*/;var spaceRe=/\s+/;var equalsRe=/\s*=/;var curlyRe=/\s*\}/;var tagRe=/#|\^|\/|>|\{|&|=|!/;function parseTemplate(template,tags){if(!template)return[];var lineHasNonSpace=false;var sections=[];var tokens=[];var spaces=[];var hasTag=false;var nonSpace=false;var indentation="";var tagIndex=0;function stripSpace(){if(hasTag&&!nonSpace){while(spaces.length)delete tokens[spaces.pop()]}else{spaces=[]}hasTag=false;nonSpace=false}var openingTagRe,closingTagRe,closingCurlyRe;function compileTags(tagsToCompile){if(typeof tagsToCompile==="string")tagsToCompile=tagsToCompile.split(spaceRe,2);if(!isArray(tagsToCompile)||tagsToCompile.length!==2)throw new Error("Invalid tags: "+tagsToCompile);openingTagRe=new RegExp(escapeRegExp(tagsToCompile[0])+"\\s*");closingTagRe=new RegExp("\\s*"+escapeRegExp(tagsToCompile[1]));closingCurlyRe=new RegExp("\\s*"+escapeRegExp("}"+tagsToCompile[1]))}compileTags(tags||mustache.tags);var scanner=new Scanner(template);var start,type,value,chr,token,openSection;while(!scanner.eos()){start=scanner.pos;value=scanner.scanUntil(openingTagRe);if(value){for(var i=0,valueLength=value.length;i<valueLength;++i){chr=value.charAt(i);if(isWhitespace(chr)){spaces.push(tokens.length);indentation+=chr}else{nonSpace=true;lineHasNonSpace=true;indentation+=" "}tokens.push(["text",chr,start,start+1]);start+=1;if(chr==="\n"){stripSpace();indentation="";tagIndex=0;lineHasNonSpace=false}}}if(!scanner.scan(openingTagRe))break;hasTag=true;type=scanner.scan(tagRe)||"name";scanner.scan(whiteRe);if(type==="="){value=scanner.scanUntil(equalsRe);scanner.scan(equalsRe);scanner.scanUntil(closingTagRe)}else if(type==="{"){value=scanner.scanUntil(closingCurlyRe);scanner.scan(curlyRe);scanner.scanUntil(closingTagRe);type="&"}else{value=scanner.scanUntil(closingTagRe)}if(!scanner.scan(closingTagRe))throw new Error("Unclosed tag at "+scanner.pos);if(type==">"){token=[type,value,start,scanner.pos,indentation,tagIndex,lineHasNonSpace]}else{token=[type,value,start,scanner.pos]}tagIndex++;tokens.push(token);if(type==="#"||type==="^"){sections.push(token)}else if(type==="/"){openSection=sections.pop();if(!openSection)throw new Error('Unopened section "'+value+'" at '+start);if(openSection[1]!==value)throw new Error('Unclosed section "'+openSection[1]+'" at '+start)}else if(type==="name"||type==="{"||type==="&"){nonSpace=true}else if(type==="="){compileTags(value)}}stripSpace();openSection=sections.pop();if(openSection)throw new Error('Unclosed section "'+openSection[1]+'" at '+scanner.pos);return nestTokens(squashTokens(tokens))}function squashTokens(tokens){var squashedTokens=[];var token,lastToken;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];if(token){if(token[0]==="text"&&lastToken&&lastToken[0]==="text"){lastToken[1]+=token[1];lastToken[3]=token[3]}else{squashedTokens.push(token);lastToken=token}}}return squashedTokens}function nestTokens(tokens){var nestedTokens=[];var collector=nestedTokens;var sections=[];var token,section;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];switch(token[0]){case"#":case"^":collector.push(token);sections.push(token);collector=token[4]=[];break;case"/":section=sections.pop();section[5]=token[2];collector=sections.length>0?sections[sections.length-1][4]:nestedTokens;break;default:collector.push(token)}}return nestedTokens}function Scanner(string){this.string=string;this.tail=string;this.pos=0}Scanner.prototype.eos=function eos(){return this.tail===""};Scanner.prototype.scan=function scan(re){var match=this.tail.match(re);if(!match||match.index!==0)return"";var string=match[0];this.tail=this.tail.substring(string.length);this.pos+=string.length;return string};Scanner.prototype.scanUntil=function scanUntil(re){var index=this.tail.search(re),match;switch(index){case-1:match=this.tail;this.tail="";break;case 0:match="";break;default:match=this.tail.substring(0,index);this.tail=this.tail.substring(index)}this.pos+=match.length;return match};function Context(view,parentContext){this.view=view;this.cache={".":this.view};this.parent=parentContext}Context.prototype.push=function push(view){return new Context(view,this)};Context.prototype.lookup=function lookup(name){var cache=this.cache;var value;if(cache.hasOwnProperty(name)){value=cache[name]}else{var context=this,intermediateValue,names,index,lookupHit=false;while(context){if(name.indexOf(".")>0){intermediateValue=context.view;names=name.split(".");index=0;while(intermediateValue!=null&&index<names.length){if(index===names.length-1)lookupHit=hasProperty(intermediateValue,names[index])||primitiveHasOwnProperty(intermediateValue,names[index]);intermediateValue=intermediateValue[names[index++]]}}else{intermediateValue=context.view[name];lookupHit=hasProperty(context.view,name)}if(lookupHit){value=intermediateValue;break}context=context.parent}cache[name]=value}if(isFunction(value))value=value.call(this.view);return value};function Writer(){this.templateCache={_cache:{},set:function set(key,value){this._cache[key]=value},get:function get(key){return this._cache[key]},clear:function clear(){this._cache={}}}}Writer.prototype.clearCache=function clearCache(){if(typeof this.templateCache!=="undefined"){this.templateCache.clear()}};Writer.prototype.parse=function parse(template,tags){var cache=this.templateCache;var cacheKey=template+":"+(tags||mustache.tags).join(":");var isCacheEnabled=typeof cache!=="undefined";var tokens=isCacheEnabled?cache.get(cacheKey):undefined;if(tokens==undefined){tokens=parseTemplate(template,tags);isCacheEnabled&&cache.set(cacheKey,tokens)}return tokens};Writer.prototype.render=function render(template,view,partials,config){var tags=this.getConfigTags(config);var tokens=this.parse(template,tags);var context=view instanceof Context?view:new Context(view,undefined);return this.renderTokens(tokens,context,partials,template,config)};Writer.prototype.renderTokens=function renderTokens(tokens,context,partials,originalTemplate,config){var buffer="";var token,symbol,value;for(var i=0,numTokens=tokens.length;i<numTokens;++i){value=undefined;token=tokens[i];symbol=token[0];if(symbol==="#")value=this.renderSection(token,context,partials,originalTemplate,config);else if(symbol==="^")value=this.renderInverted(token,context,partials,originalTemplate,config);else if(symbol===">")value=this.renderPartial(token,context,partials,config);else if(symbol==="&")value=this.unescapedValue(token,context);else if(symbol==="name")value=this.escapedValue(token,context,config);else if(symbol==="text")value=this.rawValue(token);if(value!==undefined)buffer+=value}return buffer};Writer.prototype.renderSection=function renderSection(token,context,partials,originalTemplate,config){var self=this;var buffer="";var value=context.lookup(token[1]);function subRender(template){return self.render(template,context,partials,config)}if(!value)return;if(isArray(value)){for(var j=0,valueLength=value.length;j<valueLength;++j){buffer+=this.renderTokens(token[4],context.push(value[j]),partials,originalTemplate,config)}}else if(typeof value==="object"||typeof value==="string"||typeof value==="number"){buffer+=this.renderTokens(token[4],context.push(value),partials,originalTemplate,config)}else if(isFunction(value)){if(typeof originalTemplate!=="string")throw new Error("Cannot use higher-order sections without the original template");value=value.call(context.view,originalTemplate.slice(token[3],token[5]),subRender);if(value!=null)buffer+=value}else{buffer+=this.renderTokens(token[4],context,partials,originalTemplate,config)}return buffer};Writer.prototype.renderInverted=function renderInverted(token,context,partials,originalTemplate,config){var value=context.lookup(token[1]);if(!value||isArray(value)&&value.length===0)return this.renderTokens(token[4],context,partials,originalTemplate,config)};Writer.prototype.indentPartial=function indentPartial(partial,indentation,lineHasNonSpace){var filteredIndentation=indentation.replace(/[^ \t]/g,"");var partialByNl=partial.split("\n");for(var i=0;i<partialByNl.length;i++){if(partialByNl[i].length&&(i>0||!lineHasNonSpace)){partialByNl[i]=filteredIndentation+partialByNl[i]}}return partialByNl.join("\n")};Writer.prototype.renderPartial=function renderPartial(token,context,partials,config){if(!partials)return;var tags=this.getConfigTags(config);var value=isFunction(partials)?partials(token[1]):partials[token[1]];if(value!=null){var lineHasNonSpace=token[6];var tagIndex=token[5];var indentation=token[4];var indentedValue=value;if(tagIndex==0&&indentation){indentedValue=this.indentPartial(value,indentation,lineHasNonSpace)}var tokens=this.parse(indentedValue,tags);return this.renderTokens(tokens,context,partials,indentedValue,config)}};Writer.prototype.unescapedValue=function unescapedValue(token,context){var value=context.lookup(token[1]);if(value!=null)return value};Writer.prototype.escapedValue=function escapedValue(token,context,config){var escape=this.getConfigEscape(config)||mustache.escape;var value=context.lookup(token[1]);if(value!=null)return typeof value==="number"&&escape===mustache.escape?String(value):escape(value)};Writer.prototype.rawValue=function rawValue(token){return token[1]};Writer.prototype.getConfigTags=function getConfigTags(config){if(isArray(config)){return config}else if(config&&typeof config==="object"){return config.tags}else{return undefined}};Writer.prototype.getConfigEscape=function getConfigEscape(config){if(config&&typeof config==="object"&&!isArray(config)){return config.escape}else{return undefined}};var mustache={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:undefined,escape:undefined,parse:undefined,render:undefined,Scanner:undefined,Context:undefined,Writer:undefined,set templateCache(cache){defaultWriter.templateCache=cache},get templateCache(){return defaultWriter.templateCache}};var defaultWriter=new Writer;mustache.clearCache=function clearCache(){return defaultWriter.clearCache()};mustache.parse=function parse(template,tags){return defaultWriter.parse(template,tags)};mustache.render=function render(template,view,partials,config){if(typeof template!=="string"){throw new TypeError('Invalid template! Template should be a "string" '+'but "'+typeStr(template)+'" was given as the first '+"argument for mustache#render(template, view, partials)")}return defaultWriter.render(template,view,partials,config)};mustache.escape=escapeHtml;mustache.Scanner=Scanner;mustache.Context=Context;mustache.Writer=Writer;return mustache});

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).DOMPurify=t()}(this,(function(){"use strict";const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:o,getOwnPropertyDescriptor:r}=Object;let{freeze:i,seal:a,create:l}=Object,{apply:c,construct:s}="undefined"!=typeof Reflect&&Reflect;i||(i=function(e){return e}),a||(a=function(e){return e}),c||(c=function(e,t,n){return e.apply(t,n)}),s||(s=function(e,t){return new e(...t)});const u=R(Array.prototype.forEach),m=R(Array.prototype.lastIndexOf),p=R(Array.prototype.pop),f=R(Array.prototype.push),d=R(Array.prototype.splice),h=R(String.prototype.toLowerCase),g=R(String.prototype.toString),T=R(String.prototype.match),y=R(String.prototype.replace),E=R(String.prototype.indexOf),A=R(String.prototype.trim),_=R(Object.prototype.hasOwnProperty),S=R(RegExp.prototype.test),b=(N=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(N,t)});var N;function R(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return c(e,t,o)}}function w(e,o){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;t&&t(e,null);let i=o.length;for(;i--;){let t=o[i];if("string"==typeof t){const e=r(t);e!==t&&(n(o)||(o[i]=e),t=e)}e[t]=!0}return e}function O(e){for(let t=0;t<e.length;t++){_(e,t)||(e[t]=null)}return e}function D(t){const n=l(null);for(const[o,r]of e(t)){_(t,o)&&(Array.isArray(r)?n[o]=O(r):r&&"object"==typeof r&&r.constructor===Object?n[o]=D(r):n[o]=r)}return n}function v(e,t){for(;null!==e;){const n=r(e,t);if(n){if(n.get)return R(n.get);if("function"==typeof n.value)return R(n.value)}e=o(e)}return function(){return null}}const L=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),C=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),x=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),I=i(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),M=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),k=i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),U=i(["#text"]),z=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),P=i(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),H=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),F=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),B=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),W=a(/<%[\w\W]*|[\w\W]*%>/gm),G=a(/\$\{[\w\W]*/gm),Y=a(/^data-[\-\w.\u00B7-\uFFFF]+$/),j=a(/^aria-[\-\w]+$/),X=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),q=a(/^(?:\w+script|data):/i),$=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),K=a(/^html$/i),V=a(/^[a-z][.\w]*(-[.\w]+)+$/i);var Z=Object.freeze({__proto__:null,ARIA_ATTR:j,ATTR_WHITESPACE:$,CUSTOM_ELEMENT:V,DATA_ATTR:Y,DOCTYPE_NAME:K,ERB_EXPR:W,IS_ALLOWED_URI:X,IS_SCRIPT_OR_DATA:q,MUSTACHE_EXPR:B,TMPLIT_EXPR:G});const J=1,Q=3,ee=7,te=8,ne=9,oe=function(){return"undefined"==typeof window?null:window};var re=function t(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe();const o=e=>t(e);if(o.version="3.2.5",o.removed=[],!n||!n.document||n.document.nodeType!==ne||!n.Element)return o.isSupported=!1,o;let{document:r}=n;const a=r,c=a.currentScript,{DocumentFragment:s,HTMLTemplateElement:N,Node:R,Element:O,NodeFilter:B,NamedNodeMap:W=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:G,DOMParser:Y,trustedTypes:j}=n,q=O.prototype,$=v(q,"cloneNode"),V=v(q,"remove"),re=v(q,"nextSibling"),ie=v(q,"childNodes"),ae=v(q,"parentNode");if("function"==typeof N){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let le,ce="";const{implementation:se,createNodeIterator:ue,createDocumentFragment:me,getElementsByTagName:pe}=r,{importNode:fe}=a;let de={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};o.isSupported="function"==typeof e&&"function"==typeof ae&&se&&void 0!==se.createHTMLDocument;const{MUSTACHE_EXPR:he,ERB_EXPR:ge,TMPLIT_EXPR:Te,DATA_ATTR:ye,ARIA_ATTR:Ee,IS_SCRIPT_OR_DATA:Ae,ATTR_WHITESPACE:_e,CUSTOM_ELEMENT:Se}=Z;let{IS_ALLOWED_URI:be}=Z,Ne=null;const Re=w({},[...L,...C,...x,...M,...U]);let we=null;const Oe=w({},[...z,...P,...H,...F]);let De=Object.seal(l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ve=null,Le=null,Ce=!0,xe=!0,Ie=!1,Me=!0,ke=!1,Ue=!0,ze=!1,Pe=!1,He=!1,Fe=!1,Be=!1,We=!1,Ge=!0,Ye=!1,je=!0,Xe=!1,qe={},$e=null;const Ke=w({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ve=null;const Ze=w({},["audio","video","img","source","image","track"]);let Je=null;const Qe=w({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),et="http://www.w3.org/1998/Math/MathML",tt="http://www.w3.org/2000/svg",nt="http://www.w3.org/1999/xhtml";let ot=nt,rt=!1,it=null;const at=w({},[et,tt,nt],g);let lt=w({},["mi","mo","mn","ms","mtext"]),ct=w({},["annotation-xml"]);const st=w({},["title","style","font","a","script"]);let ut=null;const mt=["application/xhtml+xml","text/html"];let pt=null,ft=null;const dt=r.createElement("form"),ht=function(e){return e instanceof RegExp||e instanceof Function},gt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ft||ft!==e){if(e&&"object"==typeof e||(e={}),e=D(e),ut=-1===mt.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,pt="application/xhtml+xml"===ut?g:h,Ne=_(e,"ALLOWED_TAGS")?w({},e.ALLOWED_TAGS,pt):Re,we=_(e,"ALLOWED_ATTR")?w({},e.ALLOWED_ATTR,pt):Oe,it=_(e,"ALLOWED_NAMESPACES")?w({},e.ALLOWED_NAMESPACES,g):at,Je=_(e,"ADD_URI_SAFE_ATTR")?w(D(Qe),e.ADD_URI_SAFE_ATTR,pt):Qe,Ve=_(e,"ADD_DATA_URI_TAGS")?w(D(Ze),e.ADD_DATA_URI_TAGS,pt):Ze,$e=_(e,"FORBID_CONTENTS")?w({},e.FORBID_CONTENTS,pt):Ke,ve=_(e,"FORBID_TAGS")?w({},e.FORBID_TAGS,pt):{},Le=_(e,"FORBID_ATTR")?w({},e.FORBID_ATTR,pt):{},qe=!!_(e,"USE_PROFILES")&&e.USE_PROFILES,Ce=!1!==e.ALLOW_ARIA_ATTR,xe=!1!==e.ALLOW_DATA_ATTR,Ie=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Me=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,ke=e.SAFE_FOR_TEMPLATES||!1,Ue=!1!==e.SAFE_FOR_XML,ze=e.WHOLE_DOCUMENT||!1,Fe=e.RETURN_DOM||!1,Be=e.RETURN_DOM_FRAGMENT||!1,We=e.RETURN_TRUSTED_TYPE||!1,He=e.FORCE_BODY||!1,Ge=!1!==e.SANITIZE_DOM,Ye=e.SANITIZE_NAMED_PROPS||!1,je=!1!==e.KEEP_CONTENT,Xe=e.IN_PLACE||!1,be=e.ALLOWED_URI_REGEXP||X,ot=e.NAMESPACE||nt,lt=e.MATHML_TEXT_INTEGRATION_POINTS||lt,ct=e.HTML_INTEGRATION_POINTS||ct,De=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ht(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(De.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ht(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(De.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(De.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ke&&(xe=!1),Be&&(Fe=!0),qe&&(Ne=w({},U),we=[],!0===qe.html&&(w(Ne,L),w(we,z)),!0===qe.svg&&(w(Ne,C),w(we,P),w(we,F)),!0===qe.svgFilters&&(w(Ne,x),w(we,P),w(we,F)),!0===qe.mathMl&&(w(Ne,M),w(we,H),w(we,F))),e.ADD_TAGS&&(Ne===Re&&(Ne=D(Ne)),w(Ne,e.ADD_TAGS,pt)),e.ADD_ATTR&&(we===Oe&&(we=D(we)),w(we,e.ADD_ATTR,pt)),e.ADD_URI_SAFE_ATTR&&w(Je,e.ADD_URI_SAFE_ATTR,pt),e.FORBID_CONTENTS&&($e===Ke&&($e=D($e)),w($e,e.FORBID_CONTENTS,pt)),je&&(Ne["#text"]=!0),ze&&w(Ne,["html","head","body"]),Ne.table&&(w(Ne,["tbody"]),delete ve.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw b('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw b('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');le=e.TRUSTED_TYPES_POLICY,ce=le.createHTML("")}else void 0===le&&(le=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}}(j,c)),null!==le&&"string"==typeof ce&&(ce=le.createHTML(""));i&&i(e),ft=e}},Tt=w({},[...C,...x,...I]),yt=w({},[...M,...k]),Et=function(e){f(o.removed,{element:e});try{ae(e).removeChild(e)}catch(t){V(e)}},At=function(e,t){try{f(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){f(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(Fe||Be)try{Et(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},_t=function(e){let t=null,n=null;if(He)e="<remove></remove>"+e;else{const t=T(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===ut&&ot===nt&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const o=le?le.createHTML(e):e;if(ot===nt)try{t=(new Y).parseFromString(o,ut)}catch(e){}if(!t||!t.documentElement){t=se.createDocument(ot,"template",null);try{t.documentElement.innerHTML=rt?ce:o}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(r.createTextNode(n),i.childNodes[0]||null),ot===nt?pe.call(t,ze?"html":"body")[0]:ze?t.documentElement:i},St=function(e){return ue.call(e.ownerDocument||e,e,B.SHOW_ELEMENT|B.SHOW_COMMENT|B.SHOW_TEXT|B.SHOW_PROCESSING_INSTRUCTION|B.SHOW_CDATA_SECTION,null)},bt=function(e){return e instanceof G&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof W)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Nt=function(e){return"function"==typeof R&&e instanceof R};function Rt(e,t,n){u(e,(e=>{e.call(o,t,n,ft)}))}const wt=function(e){let t=null;if(Rt(de.beforeSanitizeElements,e,null),bt(e))return Et(e),!0;const n=pt(e.nodeName);if(Rt(de.uponSanitizeElement,e,{tagName:n,allowedTags:Ne}),e.hasChildNodes()&&!Nt(e.firstElementChild)&&S(/<[/\w!]/g,e.innerHTML)&&S(/<[/\w!]/g,e.textContent))return Et(e),!0;if(e.nodeType===ee)return Et(e),!0;if(Ue&&e.nodeType===te&&S(/<[/\w]/g,e.data))return Et(e),!0;if(!Ne[n]||ve[n]){if(!ve[n]&&Dt(n)){if(De.tagNameCheck instanceof RegExp&&S(De.tagNameCheck,n))return!1;if(De.tagNameCheck instanceof Function&&De.tagNameCheck(n))return!1}if(je&&!$e[n]){const t=ae(e)||e.parentNode,n=ie(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o){const r=$(n[o],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,re(e))}}}return Et(e),!0}return e instanceof O&&!function(e){let t=ae(e);t&&t.tagName||(t={namespaceURI:ot,tagName:"template"});const n=h(e.tagName),o=h(t.tagName);return!!it[e.namespaceURI]&&(e.namespaceURI===tt?t.namespaceURI===nt?"svg"===n:t.namespaceURI===et?"svg"===n&&("annotation-xml"===o||lt[o]):Boolean(Tt[n]):e.namespaceURI===et?t.namespaceURI===nt?"math"===n:t.namespaceURI===tt?"math"===n&&ct[o]:Boolean(yt[n]):e.namespaceURI===nt?!(t.namespaceURI===tt&&!ct[o])&&!(t.namespaceURI===et&&!lt[o])&&!yt[n]&&(st[n]||!Tt[n]):!("application/xhtml+xml"!==ut||!it[e.namespaceURI]))}(e)?(Et(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!S(/<\/no(script|embed|frames)/i,e.innerHTML)?(ke&&e.nodeType===Q&&(t=e.textContent,u([he,ge,Te],(e=>{t=y(t,e," ")})),e.textContent!==t&&(f(o.removed,{element:e.cloneNode()}),e.textContent=t)),Rt(de.afterSanitizeElements,e,null),!1):(Et(e),!0)},Ot=function(e,t,n){if(Ge&&("id"===t||"name"===t)&&(n in r||n in dt))return!1;if(xe&&!Le[t]&&S(ye,t));else if(Ce&&S(Ee,t));else if(!we[t]||Le[t]){if(!(Dt(e)&&(De.tagNameCheck instanceof RegExp&&S(De.tagNameCheck,e)||De.tagNameCheck instanceof Function&&De.tagNameCheck(e))&&(De.attributeNameCheck instanceof RegExp&&S(De.attributeNameCheck,t)||De.attributeNameCheck instanceof Function&&De.attributeNameCheck(t))||"is"===t&&De.allowCustomizedBuiltInElements&&(De.tagNameCheck instanceof RegExp&&S(De.tagNameCheck,n)||De.tagNameCheck instanceof Function&&De.tagNameCheck(n))))return!1}else if(Je[t]);else if(S(be,y(n,_e,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==E(n,"data:")||!Ve[e]){if(Ie&&!S(Ae,y(n,_e,"")));else if(n)return!1}else;return!0},Dt=function(e){return"annotation-xml"!==e&&T(e,Se)},vt=function(e){Rt(de.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||bt(e))return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:we,forceKeepAttr:void 0};let r=t.length;for(;r--;){const i=t[r],{name:a,namespaceURI:l,value:c}=i,s=pt(a);let m="value"===a?c:A(c);if(n.attrName=s,n.attrValue=m,n.keepAttr=!0,n.forceKeepAttr=void 0,Rt(de.uponSanitizeAttribute,e,n),m=n.attrValue,!Ye||"id"!==s&&"name"!==s||(At(a,e),m="user-content-"+m),Ue&&S(/((--!?|])>)|<\/(style|title)/i,m)){At(a,e);continue}if(n.forceKeepAttr)continue;if(At(a,e),!n.keepAttr)continue;if(!Me&&S(/\/>/i,m)){At(a,e);continue}ke&&u([he,ge,Te],(e=>{m=y(m,e," ")}));const f=pt(e.nodeName);if(Ot(f,s,m)){if(le&&"object"==typeof j&&"function"==typeof j.getAttributeType)if(l);else switch(j.getAttributeType(f,s)){case"TrustedHTML":m=le.createHTML(m);break;case"TrustedScriptURL":m=le.createScriptURL(m)}try{l?e.setAttributeNS(l,a,m):e.setAttribute(a,m),bt(e)?Et(e):p(o.removed)}catch(e){}}}Rt(de.afterSanitizeAttributes,e,null)},Lt=function e(t){let n=null;const o=St(t);for(Rt(de.beforeSanitizeShadowDOM,t,null);n=o.nextNode();)Rt(de.uponSanitizeShadowNode,n,null),wt(n),vt(n),n.content instanceof s&&e(n.content);Rt(de.afterSanitizeShadowDOM,t,null)};return o.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null,i=null,l=null;if(rt=!e,rt&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Nt(e)){if("function"!=typeof e.toString)throw b("toString is not a function");if("string"!=typeof(e=e.toString()))throw b("dirty is not a string, aborting")}if(!o.isSupported)return e;if(Pe||gt(t),o.removed=[],"string"==typeof e&&(Xe=!1),Xe){if(e.nodeName){const t=pt(e.nodeName);if(!Ne[t]||ve[t])throw b("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof R)n=_t("\x3c!----\x3e"),r=n.ownerDocument.importNode(e,!0),r.nodeType===J&&"BODY"===r.nodeName||"HTML"===r.nodeName?n=r:n.appendChild(r);else{if(!Fe&&!ke&&!ze&&-1===e.indexOf("<"))return le&&We?le.createHTML(e):e;if(n=_t(e),!n)return Fe?null:We?ce:""}n&&He&&Et(n.firstChild);const c=St(Xe?e:n);for(;i=c.nextNode();)wt(i),vt(i),i.content instanceof s&&Lt(i.content);if(Xe)return e;if(Fe){if(Be)for(l=me.call(n.ownerDocument);n.firstChild;)l.appendChild(n.firstChild);else l=n;return(we.shadowroot||we.shadowrootmode)&&(l=fe.call(a,l,!0)),l}let m=ze?n.outerHTML:n.innerHTML;return ze&&Ne["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&S(K,n.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+m),ke&&u([he,ge,Te],(e=>{m=y(m,e," ")})),le&&We?le.createHTML(m):m},o.setConfig=function(){gt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Pe=!0},o.clearConfig=function(){ft=null,Pe=!1},o.isValidAttribute=function(e,t,n){ft||gt({});const o=pt(e),r=pt(t);return Ot(o,r,n)},o.addHook=function(e,t){"function"==typeof t&&f(de[e],t)},o.removeHook=function(e,t){if(void 0!==t){const n=m(de[e],t);return-1===n?void 0:d(de[e],n,1)[0]}return p(de[e])},o.removeHooks=function(e){de[e]=[]},o.removeAllHooks=function(){de={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},o}();return re}));

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).marked={})}(this,(function(e){"use strict";function t(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function n(t){e.defaults=t}e.defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};const s={exec:()=>null};function r(e,t=""){let n="string"==typeof e?e:e.source;const s={replace:(e,t)=>{let r="string"==typeof t?t:t.source;return r=r.replace(i.caret,"$1"),n=n.replace(e,r),s},getRegex:()=>new RegExp(n,t)};return s}const i={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},l=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,o=/(?:[*+-]|\d{1,9}[.)])/,a=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,c=r(a).replace(/bull/g,o).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),h=r(a).replace(/bull/g,o).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),p=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,u=/(?!\s*\])(?:\\.|[^\[\]\\])+/,g=r(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",u).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),k=r(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,o).getRegex(),d="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",f=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,x=r("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",f).replace("tag",d).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),b=r(p).replace("hr",l).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",d).getRegex(),m={blockquote:r(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",b).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:g,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:l,html:x,lheading:c,list:k,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:b,table:s,text:/^[^\n]+/},w=r("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",l).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",d).getRegex(),y={...m,lheading:h,table:w,paragraph:r(p).replace("hr",l).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",w).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",d).getRegex()},$={...m,html:r("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",f).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:s,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:r(p).replace("hr",l).replace("heading"," *#{1,6} *[^\n]").replace("lheading",c).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},R=/^( {2,}|\\)\n(?!\s*$)/,S=/[\p{P}\p{S}]/u,T=/[\s\p{P}\p{S}]/u,z=/[^\s\p{P}\p{S}]/u,A=r(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,T).getRegex(),_=/(?!~)[\p{P}\p{S}]/u,P=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,I=r(P,"u").replace(/punct/g,S).getRegex(),L=r(P,"u").replace(/punct/g,_).getRegex(),B="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",C=r(B,"gu").replace(/notPunctSpace/g,z).replace(/punctSpace/g,T).replace(/punct/g,S).getRegex(),q=r(B,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,_).getRegex(),E=r("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,z).replace(/punctSpace/g,T).replace(/punct/g,S).getRegex(),Z=r(/\\(punct)/,"gu").replace(/punct/g,S).getRegex(),v=r(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),D=r(f).replace("(?:--\x3e|$)","--\x3e").getRegex(),M=r("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",D).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),O=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Q=r(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",O).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),j=r(/^!?\[(label)\]\[(ref)\]/).replace("label",O).replace("ref",u).getRegex(),N=r(/^!?\[(ref)\](?:\[\])?/).replace("ref",u).getRegex(),G={_backpedal:s,anyPunctuation:Z,autolink:v,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:R,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:s,emStrongLDelim:I,emStrongRDelimAst:C,emStrongRDelimUnd:E,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:Q,nolink:N,punctuation:A,reflink:j,reflinkSearch:r("reflink|nolink(?!\\()","g").replace("reflink",j).replace("nolink",N).getRegex(),tag:M,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:s},H={...G,link:r(/^!?\[(label)\]\((.*?)\)/).replace("label",O).getRegex(),reflink:r(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",O).getRegex()},X={...G,emStrongRDelimAst:q,emStrongLDelim:L,url:r(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},F={...X,br:r(R).replace("{2,}","*").getRegex(),text:r(X.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},U={normal:m,gfm:y,pedantic:$},J={normal:G,gfm:X,breaks:F,pedantic:H},K={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},V=e=>K[e];function W(e,t){if(t){if(i.escapeTest.test(e))return e.replace(i.escapeReplace,V)}else if(i.escapeTestNoEncode.test(e))return e.replace(i.escapeReplaceNoEncode,V);return e}function Y(e){try{e=encodeURI(e).replace(i.percentDecode,"%")}catch{return null}return e}function ee(e,t){const n=e.replace(i.findPipe,((e,t,n)=>{let s=!1,r=t;for(;--r>=0&&"\\"===n[r];)s=!s;return s?"|":" |"})).split(i.splitPipe);let s=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;s<n.length;s++)n[s]=n[s].trim().replace(i.slashPipe,"|");return n}function te(e,t,n){const s=e.length;if(0===s)return"";let r=0;for(;r<s;){if(e.charAt(s-r-1)!==t)break;r++}return e.slice(0,s-r)}function ne(e,t,n,s,r){const i=t.href,l=t.title||null,o=e[1].replace(r.other.outputLinkReplace,"$1");s.state.inLink=!0;const a={type:"!"===e[0].charAt(0)?"image":"link",raw:n,href:i,title:l,text:o,tokens:s.inlineTokens(o)};return s.state.inLink=!1,a}class se{options;rules;lexer;constructor(t){this.options=t||e.defaults}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:te(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t,n){const s=e.match(n.other.indentCodeCompensation);if(null===s)return t;const r=s[1];return t.split("\n").map((e=>{const t=e.match(n.other.beginningSpace);if(null===t)return e;const[s]=t;return s.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){const t=te(e,"#");this.options.pedantic?e=t.trim():t&&!this.rules.other.endingSpaceChar.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:te(t[0],"\n")}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let e=te(t[0],"\n").split("\n"),n="",s="";const r=[];for(;e.length>0;){let t=!1;const i=[];let l;for(l=0;l<e.length;l++)if(this.rules.other.blockquoteStart.test(e[l]))i.push(e[l]),t=!0;else{if(t)break;i.push(e[l])}e=e.slice(l);const o=i.join("\n"),a=o.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${o}`:o,s=s?`${s}\n${a}`:a;const c=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(a,r,!0),this.lexer.state.top=c,0===e.length)break;const h=r.at(-1);if("code"===h?.type)break;if("blockquote"===h?.type){const t=h,i=t.raw+"\n"+e.join("\n"),l=this.blockquote(i);r[r.length-1]=l,n=n.substring(0,n.length-t.raw.length)+l.raw,s=s.substring(0,s.length-t.text.length)+l.text;break}if("list"!==h?.type);else{const t=h,i=t.raw+"\n"+e.join("\n"),l=this.list(i);r[r.length-1]=l,n=n.substring(0,n.length-h.raw.length)+l.raw,s=s.substring(0,s.length-t.raw.length)+l.raw,e=i.substring(r.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:n,tokens:r,text:s}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const s=n.length>1,r={type:"list",raw:"",ordered:s,start:s?+n.slice(0,-1):"",loose:!1,items:[]};n=s?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=s?n:"[*+-]");const i=this.rules.other.listItemRegex(n);let l=!1;for(;e;){let n=!1,s="",o="";if(!(t=i.exec(e)))break;if(this.rules.block.hr.test(e))break;s=t[0],e=e.substring(s.length);let a=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,(e=>" ".repeat(3*e.length))),c=e.split("\n",1)[0],h=!a.trim(),p=0;if(this.options.pedantic?(p=2,o=a.trimStart()):h?p=t[1].length+1:(p=t[2].search(this.rules.other.nonSpaceChar),p=p>4?1:p,o=a.slice(p),p+=t[1].length),h&&this.rules.other.blankLine.test(c)&&(s+=c+"\n",e=e.substring(c.length+1),n=!0),!n){const t=this.rules.other.nextBulletRegex(p),n=this.rules.other.hrRegex(p),r=this.rules.other.fencesBeginRegex(p),i=this.rules.other.headingBeginRegex(p),l=this.rules.other.htmlBeginRegex(p);for(;e;){const u=e.split("\n",1)[0];let g;if(c=u,this.options.pedantic?(c=c.replace(this.rules.other.listReplaceNesting,"  "),g=c):g=c.replace(this.rules.other.tabCharGlobal,"    "),r.test(c))break;if(i.test(c))break;if(l.test(c))break;if(t.test(c))break;if(n.test(c))break;if(g.search(this.rules.other.nonSpaceChar)>=p||!c.trim())o+="\n"+g.slice(p);else{if(h)break;if(a.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4)break;if(r.test(a))break;if(i.test(a))break;if(n.test(a))break;o+="\n"+c}h||c.trim()||(h=!0),s+=u+"\n",e=e.substring(u.length+1),a=g.slice(p)}}r.loose||(l?r.loose=!0:this.rules.other.doubleBlankLine.test(s)&&(l=!0));let u,g=null;this.options.gfm&&(g=this.rules.other.listIsTask.exec(o),g&&(u="[ ] "!==g[0],o=o.replace(this.rules.other.listReplaceTask,""))),r.items.push({type:"list_item",raw:s,task:!!g,checked:u,loose:!1,text:o,tokens:[]}),r.raw+=s}const o=r.items.at(-1);if(!o)return;o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd(),r.raw=r.raw.trimEnd();for(let e=0;e<r.items.length;e++)if(this.lexer.state.top=!1,r.items[e].tokens=this.lexer.blockTokens(r.items[e].text,[]),!r.loose){const t=r.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>this.rules.other.anyLine.test(e.raw)));r.loose=n}if(r.loose)for(let e=0;e<r.items.length;e++)r.items[e].loose=!0;return r}}html(e){const t=this.rules.block.html.exec(e);if(t){return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:s}}}table(e){const t=this.rules.block.table.exec(e);if(!t)return;if(!this.rules.other.tableDelimiter.test(t[2]))return;const n=ee(t[1]),s=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===s.length){for(const e of s)this.rules.other.tableAlignRight.test(e)?i.align.push("right"):this.rules.other.tableAlignCenter.test(e)?i.align.push("center"):this.rules.other.tableAlignLeft.test(e)?i.align.push("left"):i.align.push(null);for(let e=0;e<n.length;e++)i.header.push({text:n[e],tokens:this.lexer.inline(n[e]),header:!0,align:i.align[e]});for(const e of r)i.rows.push(ee(e,i.header.length).map(((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:i.align[t]}))));return i}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;const t=te(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let s=0;s<e.length;s++)if("\\"===e[s])s++;else if(e[s]===t[0])n++;else if(e[s]===t[1]&&(n--,n<0))return s;return n>0?-2:-1}(t[2],"()");if(-2===e)return;if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],s="";if(this.options.pedantic){const e=this.rules.other.pedanticHrefTitle.exec(n);e&&(n=e[1],s=e[3])}else s=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(n=this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?n.slice(1):n.slice(1,-1)),ne(t,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:s?s.replace(this.rules.inline.anyPunctuation,"$1"):s},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const e=t[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return ne(n,e,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!s)return;if(s[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(s[1]||s[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const n=[...s[0]].length-1;let r,i,l=n,o=0;const a="*"===s[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(a.lastIndex=0,t=t.slice(-1*e.length+n);null!=(s=a.exec(t));){if(r=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!r)continue;if(i=[...r].length,s[3]||s[4]){l+=i;continue}if((s[5]||s[6])&&n%3&&!((n+i)%3)){o+=i;continue}if(l-=i,l>0)continue;i=Math.min(i,i+l+o);const t=[...s[0]][0].length,a=e.slice(0,n+s.index+t+i);if(Math.min(n,i)%2){const e=a.slice(1,-1);return{type:"em",raw:a,text:e,tokens:this.lexer.inlineTokens(e)}}const c=a.slice(2,-2);return{type:"strong",raw:a,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," ");const n=this.rules.other.nonSpaceChar.test(e),s=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return n&&s&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=t[1],n="mailto:"+e):(e=t[1],n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=t[0],n="mailto:"+e;else{let s;do{s=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(s!==t[0]);e=t[0],n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}}class re{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||e.defaults,this.options.tokenizer=this.options.tokenizer||new se,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:i,block:U.normal,inline:J.normal};this.options.pedantic?(n.block=U.pedantic,n.inline=J.pedantic):this.options.gfm&&(n.block=U.gfm,this.options.breaks?n.inline=J.breaks:n.inline=J.gfm),this.tokenizer.rules=n}static get rules(){return{block:U,inline:J}}static lex(e,t){return new re(t).lex(e)}static lexInline(e,t){return new re(t).inlineTokens(e)}lex(e){e=e.replace(i.carriageReturn,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(i.tabCharGlobal,"    ").replace(i.spaceLine,""));e;){let s;if(this.options.extensions?.block?.some((n=>!!(s=n.call({lexer:this},e,t))&&(e=e.substring(s.raw.length),t.push(s),!0))))continue;if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length);const n=t.at(-1);1===s.raw.length&&void 0!==n?n.raw+="\n":t.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length);const n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+s.raw,n.text+="\n"+s.text,this.inlineQueue.at(-1).src=n.text):t.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length);const n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+s.raw,n.text+="\n"+s.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),t.push(s);continue}let r=e;if(this.options.extensions?.startBlock){let t=1/0;const n=e.slice(1);let s;this.options.extensions.startBlock.forEach((e=>{s=e.call({lexer:this},n),"number"==typeof s&&s>=0&&(t=Math.min(t,s))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(this.state.top&&(s=this.tokenizer.paragraph(r))){const i=t.at(-1);n&&"paragraph"===i?.type?(i.raw+="\n"+s.raw,i.text+="\n"+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):t.push(s),n=r.length!==e.length,e=e.substring(s.raw.length)}else if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length);const n=t.at(-1);"text"===n?.type?(n.raw+="\n"+s.raw,n.text+="\n"+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):t.push(s)}else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,s=null;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(n));)e.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.anyPunctuation.exec(n));)n=n.slice(0,s.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(n));)n=n.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let r=!1,i="";for(;e;){let s;if(r||(i=""),r=!1,this.options.extensions?.inline?.some((n=>!!(s=n.call({lexer:this},e,t))&&(e=e.substring(s.raw.length),t.push(s),!0))))continue;if(s=this.tokenizer.escape(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.tag(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.link(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(s.raw.length);const n=t.at(-1);"text"===s.type&&"text"===n?.type?(n.raw+=s.raw,n.text+=s.text):t.push(s);continue}if(s=this.tokenizer.emStrong(e,n,i)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.codespan(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.br(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.del(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.autolink(e)){e=e.substring(s.raw.length),t.push(s);continue}if(!this.state.inLink&&(s=this.tokenizer.url(e))){e=e.substring(s.raw.length),t.push(s);continue}let l=e;if(this.options.extensions?.startInline){let t=1/0;const n=e.slice(1);let s;this.options.extensions.startInline.forEach((e=>{s=e.call({lexer:this},n),"number"==typeof s&&s>=0&&(t=Math.min(t,s))})),t<1/0&&t>=0&&(l=e.substring(0,t+1))}if(s=this.tokenizer.inlineText(l)){e=e.substring(s.raw.length),"_"!==s.raw.slice(-1)&&(i=s.raw.slice(-1)),r=!0;const n=t.at(-1);"text"===n?.type?(n.raw+=s.raw,n.text+=s.text):t.push(s)}else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return t}}class ie{options;parser;constructor(t){this.options=t||e.defaults}space(e){return""}code({text:e,lang:t,escaped:n}){const s=(t||"").match(i.notSpaceStart)?.[0],r=e.replace(i.endingNewline,"")+"\n";return s?'<pre><code class="language-'+W(s)+'">'+(n?r:W(r,!0))+"</code></pre>\n":"<pre><code>"+(n?r:W(r,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){const t=e.ordered,n=e.start;let s="";for(let t=0;t<e.items.length;t++){const n=e.items[t];s+=this.listitem(n)}const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+s+"</"+r+">\n"}listitem(e){let t="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?"paragraph"===e.tokens[0]?.type?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=n+" "+W(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let t=0;t<e.header.length;t++)n+=this.tablecell(e.header[t]);t+=this.tablerow({text:n});let s="";for(let t=0;t<e.rows.length;t++){const r=e.rows[t];n="";for(let e=0;e<r.length;e++)n+=this.tablecell(r[e]);s+=this.tablerow({text:n})}return s&&(s=`<tbody>${s}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+s+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${W(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const s=this.parser.parseInline(n),r=Y(e);if(null===r)return s;let i='<a href="'+(e=r)+'"';return t&&(i+=' title="'+W(t)+'"'),i+=">"+s+"</a>",i}image({href:e,title:t,text:n,tokens:s}){s&&(n=this.parser.parseInline(s,this.parser.textRenderer));const r=Y(e);if(null===r)return W(n);let i=`<img src="${e=r}" alt="${n}"`;return t&&(i+=` title="${W(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:W(e.text)}}class le{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class oe{options;renderer;textRenderer;constructor(t){this.options=t||e.defaults,this.options.renderer=this.options.renderer||new ie,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new le}static parse(e,t){return new oe(t).parse(e)}static parseInline(e,t){return new oe(t).parseInline(e)}parse(e,t=!0){let n="";for(let s=0;s<e.length;s++){const r=e[s];if(this.options.extensions?.renderers?.[r.type]){const e=r,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}const i=r;switch(i.type){case"space":n+=this.renderer.space(i);continue;case"hr":n+=this.renderer.hr(i);continue;case"heading":n+=this.renderer.heading(i);continue;case"code":n+=this.renderer.code(i);continue;case"table":n+=this.renderer.table(i);continue;case"blockquote":n+=this.renderer.blockquote(i);continue;case"list":n+=this.renderer.list(i);continue;case"html":n+=this.renderer.html(i);continue;case"paragraph":n+=this.renderer.paragraph(i);continue;case"text":{let r=i,l=this.renderer.text(r);for(;s+1<e.length&&"text"===e[s+1].type;)r=e[++s],l+="\n"+this.renderer.text(r);n+=t?this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):l;continue}default:{const e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t=this.renderer){let n="";for(let s=0;s<e.length;s++){const r=e[s];if(this.options.extensions?.renderers?.[r.type]){const e=this.options.extensions.renderers[r.type].call({parser:this},r);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)){n+=e||"";continue}}const i=r;switch(i.type){case"escape":case"text":n+=t.text(i);break;case"html":n+=t.html(i);break;case"link":n+=t.link(i);break;case"image":n+=t.image(i);break;case"strong":n+=t.strong(i);break;case"em":n+=t.em(i);break;case"codespan":n+=t.codespan(i);break;case"br":n+=t.br(i);break;case"del":n+=t.del(i);break;default:{const e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}}class ae{options;block;constructor(t){this.options=t||e.defaults}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?re.lex:re.lexInline}provideParser(){return this.block?oe.parse:oe.parseInline}}class ce{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=oe;Renderer=ie;TextRenderer=le;Lexer=re;Tokenizer=se;Hooks=ae;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const s of e)switch(n=n.concat(t.call(this,s)),s.type){case"table":{const e=s;for(const s of e.header)n=n.concat(this.walkTokens(s.tokens,t));for(const s of e.rows)for(const e of s)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=s;n=n.concat(this.walkTokens(e.items,t));break}default:{const e=s;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((s=>{const r=e[s].flat(1/0);n=n.concat(this.walkTokens(r,t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let s=e.renderer.apply(this,t);return!1===s&&(s=n.apply(this,t)),s}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new ie(this.defaults);for(const n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;const s=n,r=e.renderer[s],i=t[s];t[s]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=i.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new se(this.defaults);for(const n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const s=n,r=e.tokenizer[s],i=t[s];t[s]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=i.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new ae;for(const n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;const s=n,r=e.hooks[s],i=t[s];ae.passThroughHooks.has(n)?t[s]=e=>{if(this.defaults.async)return Promise.resolve(r.call(t,e)).then((e=>i.call(t,e)));const n=r.call(t,e);return i.call(t,n)}:t[s]=(...e)=>{let n=r.apply(t,e);return!1===n&&(n=i.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,s=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(s.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return re.lex(e,t??this.defaults)}parser(e,t){return oe.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{const s={...n},r={...this.defaults,...s},i=this.onError(!!r.silent,!!r.async);if(!0===this.defaults.async&&!1===s.async)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(null==t)return i(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));r.hooks&&(r.hooks.options=r,r.hooks.block=e);const l=r.hooks?r.hooks.provideLexer():e?re.lex:re.lexInline,o=r.hooks?r.hooks.provideParser():e?oe.parse:oe.parseInline;if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(t):t).then((e=>l(e,r))).then((e=>r.hooks?r.hooks.processAllTokens(e):e)).then((e=>r.walkTokens?Promise.all(this.walkTokens(e,r.walkTokens)).then((()=>e)):e)).then((e=>o(e,r))).then((e=>r.hooks?r.hooks.postprocess(e):e)).catch(i);try{r.hooks&&(t=r.hooks.preprocess(t));let e=l(t,r);r.hooks&&(e=r.hooks.processAllTokens(e)),r.walkTokens&&this.walkTokens(e,r.walkTokens);let n=o(e,r);return r.hooks&&(n=r.hooks.postprocess(n)),n}catch(e){return i(e)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+W(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}}const he=new ce;function pe(e,t){return he.parse(e,t)}pe.options=pe.setOptions=function(e){return he.setOptions(e),pe.defaults=he.defaults,n(pe.defaults),pe},pe.getDefaults=t,pe.defaults=e.defaults,pe.use=function(...e){return he.use(...e),pe.defaults=he.defaults,n(pe.defaults),pe},pe.walkTokens=function(e,t){return he.walkTokens(e,t)},pe.parseInline=he.parseInline,pe.Parser=oe,pe.parser=oe.parse,pe.Renderer=ie,pe.TextRenderer=le,pe.Lexer=re,pe.lexer=re.lex,pe.Tokenizer=se,pe.Hooks=ae,pe.parse=pe;const ue=pe.options,ge=pe.setOptions,ke=pe.use,de=pe.walkTokens,fe=pe.parseInline,xe=pe,be=oe.parse,me=re.lex;e.Hooks=ae,e.Lexer=re,e.Marked=ce,e.Parser=oe,e.Renderer=ie,e.TextRenderer=le,e.Tokenizer=se,e.getDefaults=t,e.lexer=me,e.marked=pe,e.options=ue,e.parse=xe,e.parseInline=fe,e.parser=be,e.setOptions=ge,e.use=ke,e.walkTokens=de}));

!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.printJS=t():e.printJS=t()}(window,function(){return r={},o.m=n={"./src/index.js":function(e,t,n){"use strict";n.r(t);n("./src/sass/index.scss");n=n("./src/js/init.js").default.init;"undefined"!=typeof window&&(window.printJS=n),t.default=n},"./src/js/browser.js":function(e,t,n){"use strict";n.r(t);var r={isFirefox:function(){return"undefined"!=typeof InstallTrigger},isIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},isEdge:function(){return!r.isIE()&&!!window.StyleMedia},isChrome:function(e){return!!(0<arguments.length&&void 0!==e?e:window).chrome},isSafari:function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")||-1!==navigator.userAgent.toLowerCase().indexOf("safari")},isIOSChrome:function(){return-1!==navigator.userAgent.toLowerCase().indexOf("crios")}};t.default=r},"./src/js/functions.js":function(e,t,n){"use strict";n.r(t),n.d(t,"addWrapper",function(){return r}),n.d(t,"capitalizePrint",function(){return l}),n.d(t,"collectStyles",function(){return s}),n.d(t,"addHeader",function(){return d}),n.d(t,"cleanUp",function(){return c}),n.d(t,"isRawHTML",function(){return u});var o=n("./src/js/modal.js"),i=n("./src/js/browser.js");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return'<div style="'+("font-family:"+t.font+" !important; font-size: "+t.font_size+" !important; width:100%;")+'">'+e+"</div>"}function l(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e,t){for(var n="",r=(document.defaultView||window).getComputedStyle(e,""),o=0;o<r.length;o++)(-1!==t.targetStyles.indexOf("*")||-1!==t.targetStyle.indexOf(r[o])||function(e,t){for(var n=0;n<e.length;n++)if("object"===a(t)&&-1!==t.indexOf(e[n]))return!0;return!1}(t.targetStyles,r[o]))&&r.getPropertyValue(r[o])&&(n+=r[o]+":"+r.getPropertyValue(r[o])+";");return n+="max-width: "+t.maxWidth+"px !important; font-size: "+t.font_size+" !important;"}function d(e,t){var n,r,o=document.createElement("div");u(t.header)?o.innerHTML=t.header:(n=document.createElement("h1"),r=document.createTextNode(t.header),n.appendChild(r),n.setAttribute("style",t.headerStyle),o.appendChild(n)),e.insertBefore(o,e.childNodes[0])}function c(t){t.showModal&&o.default.close(),t.onLoadingEnd&&t.onLoadingEnd(),(t.showModal||t.onLoadingStart)&&window.URL.revokeObjectURL(t.printable);var n="mouseover";(i.default.isChrome()||i.default.isFirefox())&&(n="focus");function r(){window.removeEventListener(n,r),t.onPrintDialogClose();var e=document.getElementById(t.frameId);e&&e.remove()}window.addEventListener(n,r)}function u(e){return new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>").test(e)}},"./src/js/html.js":function(e,t,n){"use strict";n.r(t);var l=n("./src/js/functions.js"),r=n("./src/js/print.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.default={print:function(e,t){var n,n="object"===o(n=e.printable)&&n&&(n instanceof HTMLElement||1===n.nodeType)?e.printable:document.getElementById(e.printable);n?(e.printableElement=function e(t,n){var r=t.cloneNode();var o=Array.prototype.slice.call(t.childNodes);for(var i=0;i<o.length;i++){var a;-1===n.ignoreElements.indexOf(o[i].id)&&(a=e(o[i],n),r.appendChild(a))}n.scanStyles&&1===t.nodeType&&r.setAttribute("style",Object(l.collectStyles)(t,n));switch(t.tagName){case"SELECT":r.value=t.value;break;case"CANVAS":r.getContext("2d").drawImage(t,0,0)}return r}(n,e),e.header&&Object(l.addHeader)(e.printableElement,e),r.default.send(e,t)):window.console.error("Invalid HTML element id: "+e.printable)}}},"./src/js/image.js":function(e,t,n){"use strict";n.r(t);var o=n("./src/js/functions.js"),i=n("./src/js/print.js"),a=n("./src/js/browser.js");t.default={print:function(r,e){r.printable.constructor!==Array&&(r.printable=[r.printable]),r.printableElement=document.createElement("div"),r.printable.forEach(function(e){var t=document.createElement("img");t.setAttribute("style",r.imageStyle),t.src=e,a.default.isFirefox()&&(n=t.src,t.src=n);var n=document.createElement("div");n.appendChild(t),r.printableElement.appendChild(n)}),r.header&&Object(o.addHeader)(r.printableElement,r),i.default.send(r,e)}}},"./src/js/init.js":function(e,t,n){"use strict";n.r(t);var a=n("./src/js/browser.js"),l=n("./src/js/modal.js"),s=n("./src/js/pdf.js"),d=n("./src/js/html.js"),c=n("./src/js/raw-html.js"),u=n("./src/js/image.js"),f=n("./src/js/json.js");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=["pdf","html","image","json","raw-html"];t.default={init:function(e,t){var n={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(e){throw e},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},r=e;if(void 0===r)throw new Error("printJS expects at least 1 attribute.");switch(p(r)){case"string":n.printable=encodeURI(r),n.fallbackPrintable=n.printable,n.type=t||n.type;break;case"object":for(var o in n.printable=r.printable,n.fallbackPrintable=void 0!==r.fallbackPrintable?r.fallbackPrintable:n.printable,n.fallbackPrintable=n.base64?"data:application/pdf;base64,".concat(n.fallbackPrintable):n.fallbackPrintable,n)"printable"!==o&&"fallbackPrintable"!==o&&(n[o]=(void 0!==r[o]?r:n)[o]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+p(r))}if(!n.printable)throw new Error("Missing printable information.");if(!n.type||"string"!=typeof n.type||-1===b.indexOf(n.type.toLowerCase()))throw new Error("Invalid print type. Available types are: pdf, html, image and json.");n.showModal&&l.default.show(n),n.onLoadingStart&&n.onLoadingStart();t=document.getElementById(n.frameId);t&&t.parentNode.removeChild(t);var i=document.createElement("iframe");switch(a.default.isFirefox()?i.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):i.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),i.setAttribute("id",n.frameId),"pdf"!==n.type&&(i.srcdoc="<html><head><title>"+n.documentTitle+"</title>",n.css&&(Array.isArray(n.css)||(n.css=[n.css]),n.css.forEach(function(e){i.srcdoc+='<link rel="stylesheet" href="'+e+'">'})),i.srcdoc+="</head><body></body></html>"),n.type){case"pdf":if(a.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer."),window.open(n.fallbackPrintable,"_blank").focus(),n.onIncompatibleBrowser()}catch(e){n.onError(e)}finally{n.showModal&&l.default.close(),n.onLoadingEnd&&n.onLoadingEnd()}else s.default.print(n,i);break;case"image":u.default.print(n,i);break;case"html":d.default.print(n,i);break;case"raw-html":c.default.print(n,i);break;case"json":f.default.print(n,i)}}}},"./src/js/json.js":function(e,t,n){"use strict";n.r(t);var c=n("./src/js/functions.js"),r=n("./src/js/print.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.default={print:function(t,e){if("object"!==o(t.printable))throw new Error("Invalid javascript data object (JSON).");if("boolean"!=typeof t.repeatTableHeader)throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!t.properties||!Array.isArray(t.properties))throw new Error("Invalid properties array for your JSON data.");t.properties=t.properties.map(function(e){return{field:"object"===o(e)?e.field:e,displayName:"object"===o(e)?e.displayName:e,columnSize:"object"===o(e)&&e.columnSize?e.columnSize+";":100/t.properties.length+"%;"}}),t.printableElement=document.createElement("div"),t.header&&Object(c.addHeader)(t.printableElement,t),t.printableElement.innerHTML+=function(e){var t=e.printable,n=e.properties,r='<table style="border-collapse: collapse; width: 100%;">';e.repeatTableHeader&&(r+="<thead>");r+="<tr>";for(var o=0;o<n.length;o++)r+='<th style="width:'+n[o].columnSize+";"+e.gridHeaderStyle+'">'+Object(c.capitalizePrint)(n[o].displayName)+"</th>";r+="</tr>",e.repeatTableHeader&&(r+="</thead>");r+="<tbody>";for(var i=0;i<t.length;i++){r+="<tr>";for(var a=0;a<n.length;a++){var l=t[i],s=n[a].field.split(".");if(1<s.length)for(var d=0;d<s.length;d++)l=l[s[d]];else l=l[n[a].field];r+='<td style="width:'+n[a].columnSize+e.gridStyle+'">'+l+"</td>"}r+="</tr>"}return r+="</tbody></table>"}(t),r.default.send(t,e)}}},"./src/js/modal.js":function(e,t,n){"use strict";n.r(t);var o={show:function(e){var t=document.createElement("div");t.setAttribute("style","font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;"),t.setAttribute("id","printJS-Modal");var n=document.createElement("div");n.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var r=document.createElement("div");r.setAttribute("class","printClose"),r.setAttribute("id","printClose"),n.appendChild(r);r=document.createElement("span");r.setAttribute("class","printSpinner"),n.appendChild(r);e=document.createTextNode(e.modalMessage);n.appendChild(e),t.appendChild(n),document.getElementsByTagName("body")[0].appendChild(t),document.getElementById("printClose").addEventListener("click",function(){o.close()})},close:function(){var e=document.getElementById("printJS-Modal");e&&e.parentNode.removeChild(e)}};t.default=o},"./src/js/pdf.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/js/print.js"),o=n("./src/js/functions.js");function i(e,t,n){n=new window.Blob([n],{type:"application/pdf"}),n=window.URL.createObjectURL(n);t.setAttribute("src",n),r.default.send(e,t)}t.default={print:function(e,t){var n,r;e.base64?(n=Uint8Array.from(atob(e.printable),function(e){return e.charCodeAt(0)}),i(e,t,n)):(e.printable=/^(blob|http|\/\/)/i.test(e.printable)?e.printable:window.location.origin+("/"!==e.printable.charAt(0)?"/"+e.printable:e.printable),(r=new window.XMLHttpRequest).responseType="arraybuffer",r.addEventListener("error",function(){Object(o.cleanUp)(e),e.onError(r.statusText,r)}),r.addEventListener("load",function(){return-1===[200,201].indexOf(r.status)?(Object(o.cleanUp)(e),void e.onError(r.statusText,r)):void i(e,t,r.response)}),r.open("GET",e.printable,!0),r.send())}}},"./src/js/print.js":function(e,t,n){"use strict";n.r(t);var o=n("./src/js/browser.js"),r=n("./src/js/functions.js"),n={send:function(n,e){document.getElementsByTagName("body")[0].appendChild(e);var r=document.getElementById(n.frameId);r.onload=function(){var e,t;"pdf"!==n.type?((t=r.contentWindow||r.contentDocument).document&&(t=t.document),t.body.appendChild(n.printableElement),"pdf"!==n.type&&n.style&&((e=document.createElement("style")).innerHTML=n.style,t.head.appendChild(e)),0<(t=t.getElementsByTagName("img")).length?function(e){e=e.map(function(e){if(e.src&&e.src!==window.location.href)return n=e,new Promise(function(t){(function e(){n&&void 0!==n.naturalWidth&&0!==n.naturalWidth&&n.complete?t():setTimeout(e,500)})()});var n});return Promise.all(e)}(Array.from(t)).then(function(){return i(r,n)}):i(r,n)):o.default.isFirefox()?setTimeout(function(){return i(r,n)},1e3):i(r,n)}}};function i(t,n){try{if(t.focus(),o.default.isEdge()||o.default.isIE())try{t.contentWindow.document.execCommand("print",!1,null)}catch(e){t.contentWindow.print()}else t.contentWindow.print()}catch(e){n.onError(e)}finally{o.default.isFirefox()&&(t.style.visibility="hidden",t.style.left="-1px"),Object(r.cleanUp)(n)}}t.default=n},"./src/js/raw-html.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/js/print.js");t.default={print:function(e,t){e.printableElement=document.createElement("div"),e.printableElement.setAttribute("style","width:100%"),e.printableElement.innerHTML=e.printable,r.default.send(e,t)}}},"./src/sass/index.scss":function(e,t,n){},0:function(e,t,n){e.exports=n("./src/index.js")}},o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0).default;function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,r});
const AUIGridLicense = 'eyJjdCI6Ikc5QWExc0tScDNBYytmZGhFS1VLNXVHYjdhTk81dmZiVmFHRG5VZWVVT3YwOXlkSFRtZ2VjakpLeU1MMWxpdmNaL2MxdXh4eEc5cU9UR1ZyUVl5NTdBRmNVTG00NDRyYW1DR0xWT3pPV0gwPSIsIml2IjoiMmEwZjZjN2Q5YzUyZGVhMWFiZjliMGY0NGIwYTkyNWUiLCJzIjoiYTlkOTJhOWI3NWZhMTBlYiJ9';
if (typeof window !== 'undefined') window.AUIGridLicense = AUIGridLicense;

eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('(1c(){1a a=["1T","1K$1cE","1K$1D6","1CE","1Ea","iU","1DA","1DC","1DD","1Al","1Hp","1GQ","1I0","1HP","1Gq","1Fd","yx","1uY","1v8","1va","1wV","1xH","KY","1xB","1Tp","1Ti","1Up","1WQ","1Vt","1Vs","1Vu","1Vv","1Lo","1KK","1KC","1KT","1P4","1Qa","1Qc","1Q7","1Q0","1Qp","jw","1Pw","1N8","5o","1N7","1N3","1MU","1Oq","1Nz","1K$1NB","$yL",",","1NV","$1","1Ny",".$yL","","m6","1Nw","1Nx","$1b","1NC","1K$1Q6","1Qb","1K$pf","1c","$1Q9","G4","yL 4A is 1T","1OP","y0","1IX","$$Uq","Uq","1Vg","1rT","ts","12u","$$Ui","Ui","1RH","on","1RC","1P","Gp","1QN","1QT","1N","$$1K$1TW","1h2","1yT","1ul","1vp","1uO","1Fa","1EX","1F5","zY","1HW","1HV","sJ","1uA","1tY","zX","1yS","1z6","1z9","fN","1zm","lc","1zf","wK","8x","1zD","1y5","2g","qW","1y2","5f","jW","dR","n7","1Tj","vL","1K$1S3","3b","1Vi","4X","x","y","gA","RH","QU","iq","12r","1K$1PV","1O5=","12s","p1","oT","1K$12Z","11X","xv","QN","1K$13b","11T","1O0","px","12x","1NI","6L","1ND","5Y","kw","1kN(",", ","Hd","11Y","1NX","11W","1NP","1NQ","1NR","kG","12i","1NO","11V","aT","1hS","5H","1sk(1hS=",")","1Ok","1O1","1Nv"," ","1MQ","12c","1K$HP","1K$Hu","1K$12P","a4","1MT","1MY","1MA","1MC","1Ns","12h","wz","vu","ju","$cr","11U","11Z","12a","12f","12g","12e","12d","12b","Nu","I4","12y","GI","1K$12T","1K$12U","1K$12S","1K$12R","1K$12Q","1K$12V","12W","1K$13a","1K$12X","0","[jW 1E]","-","/","/Rm","1Nf","4w","1N6","Ff:","1N1","Ot","1Z","1N2","1Nd","1Ne","1Nc","1PS","1PJ","1PY","1Qi","12G","1Ql","12L","12Y","12M","Ff","1Qe","+","1Q4","1Q3","th","st","nd","rd","Ik L4 dd d5 HH:MM:ss","m/d/yy","L4 d, d5","L8 d, d5","12z, L8 d, d5","h:MM TT","h:MM:ss TT","h:MM:ss TT Z","d5-mm-dd","HH:MM:ss","d5-mm-dd\\\'T\\\'HH:MM:ss","Ff:d5-mm-dd\\\'T\\\'HH:MM:ss\\\'Z\\\'","\\1Q8","\\Hi","\\yd","\\1Pu","\\1Pt","\\1OR","\\1OW","1Oy","1Ow","1OH","1OG","1OF","1OD","1OE","1Pl","1Pj","1Pi","1Ph","1Pm","1Pn","1Ps","1Po","1Pp","1P7","1JR","1JV","1Ko","1V8","1Xa","1X0","1X1","1TZ","1SW","1SX","1Tq","1To","1Tm","\\Mq\\DX","\\Mq\\1Tn","am","pm","A","P","AM","PM","yy","d5","m","mm","d","dd","HH","MM","ss","1Td","1Tc","1T2","1xM","11a","1wz","1wy","1wE","\\\\","\\\\$&","1wj","1wo","1wt","1x3","1x7","1x9","1zk","1A1",":","1zH","1yt","1yF","1yD",".","O5","$2","11f","11j","g","1yB","#,##0","1ys","#,###","11g","1yf","#.##0","#.###","# ##0","# ###","11i","1yX","zW","1u5","1um","1uo","1vD","XJ","oV","gX","1vC","1vA","1vO","1w3","1vY","1c5","1uP","Pn","1ux","1uy","1r-kL-1vf","1r-kL-1lD","1r-kL-up","1r-kL-C9","1uT","1FF","1FC","F2","1r-1Gn-kL-1lD","1G2","1HB","1Iq","F8","1Id","1GI","1GF","1GB","1Hm","1Ho","1Hd","1BP","1BN","1BM","1BX","1BU","1Bc","1Aw","1At","1Ar","1Ay","1Ad","1Ao","1Ak","1AF","1AG","1K$1B0","1r-ND","1DO","w6","1Ec","K3","Ab-ot","OT","1K$10S","1DV","wl","1K$10T","10U$uO","1K$uO","10V$uO","aG","1r-1DZ","1r-1Dh","OY","11H","QI","QH","Rb","Rc","1De$1kY","1CO$1kY","vP","ot","1CV","10Q","15a","1CU","1Db","1Dd","11G","RU","RS","1Dg","11L","Pg","Sa","1Df","Rt","XO","10R","1Da","1D9","1K$1D4","rk","WV","1an","RC","1bv","$19R","$19N","$19X","$19S","1K$11I","11J","11E","11F","11K","q4","q4-vP:Es !ai; 3b:1k4 !ai","Qn","dS","HZ","Ga","HN","k3","1D3","11C","kH","1D5","1lq","1D7","ne","11t","sX","11r","1Cr","1Cs","1Ci","1Cm","1CJ","1CD","1Cy NC-8 3D","1Cz","1Di","1DY","11s","y6","11v","LL","1E0","1E1","oD","va","Lb","11o","11p","CL","vE","1E3","1E2","1DX","11y","Ai","1DW+/=","1DR","1DQ","1DS","LU","1DT","11A","1DU","11x","xQ","13c","13d","1Eg","14L","14M","1Eh","1Ed","Dr","Ds","1Dt","L2","1Dy","1DG","1DB","1B1","1An","1Ah","15p","15m","1Ac","1Ab","14P","1Aa","iv","LX","M2","1Ag","LE","9d","14N","1Ap","14r","1Aq","xg","Dv","KL","1AA","14q","14C","1Az","14G","14w","hl","1AB","1AC","1AE","1AD","15q","[+-]","[0-9]","[A-Z]","[A-Za-z]","[A-Za-z0-9]","1Ax","1As","15u","1Au","1Av","15t","MN","#yM","#","FF","1Bb","),","))","1BT","(","1BW","1BQ","1BL","1BK","i","15b","Sr","15f","5o/3E","1BO","mD.1Ca","1Cb","1g","1Cc","1C7","1C3","1Be 1Bd: ","1Bg","\\\'","(\\\\","|\\\\r?\\\\n|\\\\r|^)","(?:\\"([^\\"]*(?:\\"\\"[^\\"]*)*)\\"|","([^\\"\\\\","\\\\r\\\\n]*))","gi","\\"\\"","\\"","1Bh","@","1Bj","1Bs","1BB","13w","#5o","Fo","#1BA","14o","13x","\\UG","14n",":[","[","\\rm",",\\rm","]","1h",":{","{","}","<","=\\"",">","</","/>","<![1pO[","]]>","1Bv","1Bw","1K$1El","13u","1K$","1K$t5","1K$1H8","1K$iP","13v","1H6","1f","1","13A","13j","13B","13G","1H3","\\1Hl","\\1Gt","6W","1Gs","5l","1K$1GR","xU","1K$1GW","1K$13D","xR","xX","1Ie","10L","1I8","1I7","1I2","1K$jH","hB","13E","gz$1I1","13C","1Ig","1Ij","1Il","1HZ","8g","1HE","1HD","4M","oR","1HF","1HG","1HI","NV","\\C7\\rm","&lt","&gt","13J","1HC","1Hw","1Hx","14f","jH","1Hy","1HU","1HX","9O","1r-1v","1HL","1HO",":LO","1.10","1.25","1.50","1.75","2.50","0.90","0.80","0.75","0.67","0.50","1K","15v","Hb","1HQ","1g1","13O","1Gr","1kt","Fb","1F2","qV","1F3","1F4","1ET","19B","1EV","1EW","13M","tr","1EY","1kN","-1F7-kw","px)","td","1F8","1Fi","1Fh","1Fj","1Fk","1Fm","1Fl","1Fg","EI","1Ff","1F9","1Fb","ic","Ol","BY","NZ","O3","lq:0 !ai; 9d:0 !ai; 2G-lM:0 !ai; jl-4X:0 !ai;","fs","1r-Gy","1Fc","Gy","lz-vu","5T","1r-gV-5y-ot","aR","1ES","1ER","1Ew","1A9","1Ex","1Ey","je","eq","1EA","1Ez","1r-1v-5H-gP-D2","1Eu","1r-1v-5H-gP-D2-4y","1Et","1r-1v-5H-gP-4y-lP","1Eo","1r-1v-5H-gP-1En-d9","1Em","1r-1v-5H-gP-D2-sJ","1Ep","1Eq","1EC","1r-1v-5H-gP-D2-gU","1EM","1r-8x 1r-1v-5H-gP-12l-d9","1EL","1EN","1EO","1EP","1r-8x 1r-1v-5H-gP-1EK-d9","WG","WQ","lP","WF","Wv","WB","1K$jl","WC"," aR ","<1kL 4M=\\"","oN","</1kL>","<ul 4A=\\"1r-1v-5H-gP-sJ-ND\\">","<li>","Ww"," : ","co","</li>","<li><5y 4A=\\"1r-5y\\"><oR id=\\"1K$1lC\\">","</oR></5y><5y 4A=\\"1r-5y\\"><fs 1P=\\"5o\\" id=\\"1K$1lB\\" 4A=\\"1r-fs-5o\\"></5y></li>","<li><fs 1P=\\"Dg\\" id=\\"1K$1la\\" 7X=\\"1K$Ke\\" 4M=\\"KK\\" 5T><5y 1i=\\"1K$1la\\" 4A=\\"1r-5y\\">","Wu","</5y>","<fs 1P=\\"Dg\\" id=\\"1K$1lA\\" 7X=\\"1K$Ke\\" 4M=\\"or\\"><5y 1i=\\"1K$1lA\\" 4A=\\"1r-5y\\">","Wt","</5y></li>","<li><5y 4A=\\"1r-5y\\"><oR id=\\"1K$1lz\\">","</oR></5y><5y 4A=\\"1r-5y\\"><fs 1P=\\"5o\\" id=\\"1K$1lv\\" 4A=\\"1r-fs-5o\\"></5y></li>","</ul>","1K$1lB","1EG","LO","1K$1lC","1K$1lz","1K$1lv","1K$Ke","1EH","KK","1G7","Ru","1G9","1r-DP-fs","Ur","1nv","1G8","1G3","1FZ","1G1","1Gb","1Gl","1r-DP-d9","1Gk","3D","1r-8x","1ly","1r-1v-8x-3f","1Gm","1r-Dg","Dg","1r-fs-5o","UK","1Go","1Gj","1Gi","1Gd","1Gc","1Ge","1kZ","oZ","lq","0 ","1Gf","1r-1v-5H-lz-fs","1Gh","1FU","1Fz","1Fy","1FA","1r-1v-5H-lz-fs-H1","lz","1K$wp","1FD","1Fx","1Fr","1r-1v-5H-lz-ot-LO","1Fs","3l","1Ft","1Fv","1Fu","1FP","1ir","5y","1r-5y","1FO","1FN","1lH","1r-1lH","f4","1FI","a","1K$EI","1FJ a 9P 4y KK 6c 1Iv to Qq by 1A4","1v2","1v1","(\\kZ\\1ld \\1v4 \\1v0\\jK)","(\\DX\\R4\\tv\\tu)","\\kZ\\tJ \\vk\\gQ\\yd","(\\Iz\\Ix \\DX\\R4\\tv\\tu)","(\\1uZ\\1uV \\tv\\tu \\kZ\\tJ\\1uW \\1uX\\1lg\\tY\\1v7 \\1lg\\E5)","\\Iz\\Ix","\\1vh \\1vi","\\1v9 \\1vb","\\1vc\\gQ","\\wm\\E5\\nA \\Ir\\1uS \\kZ\\tJ","\\kZ\\1ld\\1uz","\\1uB\\1uC\\lo","\\1uv\\1uu","1uL 11N af...1uF 1lq","No 12v to wz","\\h7\\g0(=)","\\GK\\g0(>)","\\GK\\tV\\uC \\h7\\g0(>=)","\\xn\\g0(<)","\\xn\\tV\\uC \\h7\\g0(<=)","\\h7\\E7 \\E8\\g0(!=)","\\1vk\\1vl\\1vX \\wm\\E5\\nA \\kZ\\tJ","\\1vZ\\nA \\wm\\E5\\nA \\kZ\\tJ","\\h7\\jK","\\h7\\E7 \\E8\\jK","\\1w0\\xn \\1lp\\nA","\\1vV \\1lp\\nA","\\1lm\\1ln","\\1lm\\1ln\\tY\\E7 \\E8\\jK","\\h7\\jK(=)","\\h7\\E7 \\E8\\jK(!=)","\\kV\\g0 \\1w5(>)","\\GK\\tV\\uC \\h7\\jK(>=)","\\kV\\g0 \\xn\\jK(<)","\\xn\\tV\\uC \\h7\\jK(<=)","\\12m\\1vw \\1vy\\1jJ","\\1vs\\1jJ 10","\\1jK\\1jG \\vk\\1vr","\\1jK\\1jG \\1vK\\1jD","$4M \\1jD \\kV\\gQ","1vL","$4M \\Mp\\tV\\tY\\lo \\g0 \\kV\\gQ","$4M \\Mp\\tV\\tY\\lo \\kV\\gQ","\\1vB\\1wf \\kZ\\tJ\\1tR \\vk\\gQ\\yd","\\1jR\\1jQ \\1jC \\lo\\Ir","\\1jR\\1jQ \\1jC \\lo\\Ir \\vk\\gQ\\yd","\\1ua\\1uh","1un","No.","\\Iz\\Ix\\1u9\\1u6 \\1wb\\1A8\\tY\\1z0\\1yH.","\\qf\\kV\\qf\\gQ \\vk\\gQ\\yd \\1kk...","\\qf\\kV\\qf\\gQ \\1yr\\1kj \\1kk...","\\qf\\kV\\qf\\gQ\\12J \\1yy \\1yx\\1za\\1zQ\\1zR\\g0.","$4M \\1kj(\\1zN)","( \\DX\\R4 \\tv\\tu )","1r-1v-4I-RJ","1r-1v-1zI-4I-RJ","1bA","nL","pW","1as","gz$1zU","10t","10u","XF","1A5","10C","Zl","Zm","1bh","$1ao","1A6","1A7","10s","1c3","1A2","1bP","1ax","1zW","1aC","1zV","1r-1v-gM-mx","1bd","1b9","1b1","1zF","1aQ","1K$1zl","1r-1v-6L-9i-mx","aC","gz$1zj","1r-1v-Es-9P-wN","Cz","1zc","1K$1ze","1r-1v-4y-mx","1K$1zp","1r-1v-sJ-mx","1K$1zA","1r-1v-gU-mx","1zB","1jZ","1zC","1v","-1","Es","1zy","1hx","1zx","1ht","1h0","1h3","1hR","1zs","1hf","1r-1v-Ab-mx-Hc","1K$1zr","1r-1v-9i-mx","1K$1zt","1K$1zu","1K$1zw","1K$1zv","1r-1v-Es-4I-wN","Ys","1r-1v-jf-d6-az-N5","Yt","ZQ","ZR","1yd","1r-kL-9O-7E","1yc","1wW","1wY","BU","40","1wT","1r-1v-Ch-kX","1wS","13P","1wN","1wM","1wO","1wP","1wR","1wQ","1iN","17E","Z9","1ox","1wZ","1at","1oE","1x0","XR","1xc","1xd","1x8","1x4","XT","Xv","WZ","1x5","1wL","10r","WK","ZK","Yw","1wK","1e2","15h","3E 3D is fj 1i oZ, ","15d","Fr","4I","15c","Zn","Zs","1sm","1wq","1wr","1ws","1wu","1wn","Xe","XE","WJ","Zz","Zy","Zw","Zx","10m","Zu","Zv","1gA","H1","1dl","1dp","1wi","1wk","1wm","1wl","15B","ZW","ZU","ZV","15z","Yk","T6","10a","ZX","1iz","1wv","Yh","1wF","1wH","1wI","1wx","XS","1wA","1wC","1wB","XB","Yx","Y4","Ic","Yj","vz","1K$14W","1k4","WM","XV","XU","Y6","Y8","X5","Y1","Z6","Zc","IX","Yr","Yc","CW","Zi","CV","1bD","WA","Xh","1bs","1bm","YY","1bk","Yo","1bp","1bq","1ai","1aH","1c8","1cb","Fu","1bR","WW","Xf","YM","1bX","1aG","1bu","Yb","1xV","1aA","1aB","1az","1aO","yU","1xR","1qS","1gF","1ec","Y2","Xi","16b","VF","1bS","Yq","vZ","Fx","XA","16L","16Q","1K$XC","16K","Uy","$1xL","$3b","$1xK","$1xP","1bK","GC","E6","Yl","Xm","Xc","16R","Yf","1aU","XG","1xX","1y8","10j","17j","1aD","1y9","1av","1qD","1oO","19a","18H","VK","Vt","VM","1d9","1d4","1yb","1y0","1ef","1dg","17U","1y3","1xI","gM","xV","TY","$1xq","Tz","We","1de","Ws","Wx","1r-1v-1xs-13Q-kX","Jy","1bU","1xm","1bZ","1aF","1K$Yg","1ar","1aq","1xt","1xE","1xF","10D","X7","10B","1r-1v-d6-1xG-ju-4I-zW-az","1aL","1rf","1oS","2P","1xC","1ka","1xw","1dD","TI","1cU","1xv","1cW","1cX","16g","1cM","1cq","1cr","1mw","Ny","Vf","SY","1da","1K$hB","1xx","1kd","Xw","Xx","1xy","XD","Xz","ZY","Xs","ZB","1xA","1Ev","1Ta","YS","1T5","1T4","FJ","1r-1v-15s-5T-4I","1dw","BO","1dA","1dF","Xt","1aI","1K$mc","1K$ms","1SZ","1qf","X6","10y","10w","10v","1d3","1dq","1SY","17h","17m","16p","1c4","1T0","1T1","1dv","1cF","1T3","1b3","1Tf","Pw","Pm","Pq","1b6","1dK","Y9","ZA","1r-1v-d6-o9-8x","1e7","1r-1v-d6-o9-8x-7g","1r-1v-d6-o9-8x-1Te-5M","1r-1v-d6-o9-8x-1Tg-AH","1r-1v-d6-o9-8x-6c-5M","1r-1v-d6-o9-8x-1nv","1b2","1SC","1iM","JF","1SB","1SD","1SE","1r-1v-jf-4y-9P","1r-1v-jf-4I-mL-9P","1r-1v-4I-jz-Sn","X9","1K$v0","1r-1v-4I-jz-v0","1r-1v-4I-1SG-v0-Ip","1K$oB","1K$ti","1r-1v-4I-jz-ti-oB","1r-1v-4I-jz-oB","1K$1SA","1Su","1r-1v-4I-jz-ti","1St","oB","1e4","ti","v0","3f","1b5","1b4","1Sw","1Sx","1bH","1bI","1SH","1SI","1SS","1SR","1SU","1SQ","1SP","1b8","Hc","1SK","FH","19h","1SJ","1SL","3i","e","1K$1SM","1dk","1ts","1SO","1SN","14c","1Tr","1bL","1Ts","X3","Ky","Gl","Jo","I2","1U7","19x","1U6","Ya","1eb","1U8","1eg","Y5","1U9","1Ua","1U5","1U4","1TY","1U1","1U3","1U2","1Ub","1Uc","1Um","1Ul","1Un","1Uk","1Uj","1Ue","15N","12t","1ed","QE","1Ud","RV","1Uf","z8","YL$YQ","1Ui","1Uh","XQ","15Z","15Y","1TX","1TB","iP","WX","1e3","1cA","1bG","16w","15F","15L","15M","19I","1dR","1dQ","1dV","18L","1bj","1TD","15D","1ac","1TE","Qg","1TG","WO","WN","WI","1Tz","1e1","1di","1Tu","1Tt","1Tv","IB","1Tw","13F","1Ty","Yv","1Tx","1TH","1aE","1K$1TR","1K$1TT","1K$1TV","7C","vq","YA","XY","Xd","1TQ","1sy","Y0","1TP","1TK","1Iw","YD","1TJ","1TL","1TM","1bt","1TN","1Ss","1Ra","1Rc","1Rb","1R6","1R1","1Re","1b7","1Ro","1Rn","2y","wZ","ZN","1cl","1l-12E","HW","1Rp","1Rq","LK","15X","1iX","1ck","1Rm","1Rl","1Rg","1Rf","1hX","19","29","12F","1Rh","1Ri","YP","1Rk","1Rj","7g","1cm","1cn","1QY","1QX","1QD","1QC","1QE","7E","1QF","1QH","1QB","1QA","1Qv","5M","1Qw","1Qx","1dP","1Qy","1sZ","Xq","9","1QI","1QJ","1QV","XI","1hb","1QW","1QR","1QQ","1qA","1QL","1hc","1QM","1hd","1QP","1qH","1QO","YO","10E","1Rs","10N","1Rt","1S8","I9","1S9","1Sa","1S5(","0 0","13k","13l","1RZ","1S4","1Sc","1Sd","$zA","1kc","AL","1ix","1qh","10x","1Sn","19G","1eV","1Sm","1So","1oq","1Sp","dS-Db","1Sq","1r-1v-aG-1g7-wN","Yn","9i","1d6","1Sl","YK","1d8","1Sk","1Sf","1Sg","1Sh","1Sj","1cS","1fz","1r-1v-jf-bg","1r-1v-jf-1mb-bg","1r-1v-jf-4I-bg","1r-1v-jf-4I-1mb-bg","1cT","1dd","1dc","XH","1dm","1dG","1cV","1cZ","1d2","1RF","d6","Yz","1ak","1al","10n","1sP","ZH","17e","16t","1RG","l6","1RB","1RA","up","C9","1Rv","1Ru","10h","17b","17g","1ie","1cY","1af","1hH","1hB","1hA","1hu","VS","17k","17d","1d0","17a","Sf","1d1","16Y","YE","1r-1v-gM-3i","1Rw","1iY","1Rz","YH","1r-1v-gM-Cq-d9","1j1","YF","1r-1v-gM-vL-d9","1j0","1Ry","1r-1v-gM-l9","Y3","Xu","1K$3b","ZG","%","1RI","X4","Xy","1cd","1ch","YW","17I","1dC","17J","1RJ","1RT","1rK","YV","1RU","1ap","1RV","1aK","Ym","1RW","YR","YX","1RL","YU","1r-1v-kL-1X4-gZ","WH","1ab","1ad","17H","17N","1X2","1WW","1bC","16u","X1","1WY","1bB","1Xk","17F","1Xd","1WB","ZI","gz$1h","1WE","17P","19F","1bM","17R","13i","17Q","15A","15E","1WD","ZJ","14d","1Wt","1Wv","1WF","1WP","17O","1WI","wx","1Y6","1Y7","1Y8","1Y2","1r-1v-EE-wx-1mT","1r-1v-EE-wx-1n0","1r-1v-wx-1mT","1r-1v-wx-1n0","1c0","$1XZ","$1Y0","$1Y9","1Ym","17B","17D","1Yn","12C","1r-1v-4w-9P 1r-1v-jf-bg ","1r-1v-4w-9P 1r-1v-jf-bg","10f","TC","1r-1v-4w-4y ","W","ZE","17s","Gr","13H","14i","RN","10d","H2","1jT","1oF","Yp","17y","1Yi","16I","ww","1r-1v-4w-9P ","1r-1v-4w-4y 1r-1v-Qq-D8-4y ","15U","15R","15S","XW","MI","1Yh","Yd","1bw","1K$1mw","1K$Ny","1K$1fa","1Ye","1K$QN","1XA","1K$1XB","MC","18I","1iB","19C","15H","16z","16v","1K$ju","16A","1XE","AB","Ar","j9","1XD","s9","1K$1Xy","1Xt","1Xu","1K$1Xw","1K$1XF","1K$1XQ","1XP","16k","1ey","1K$1XR","An","Al","Ao","19H","1XS","16e","16B","16D","X0","1K$1XT","YZ","1br","ZP","1bY","1K$1XO","$4M","1K$1XN","BC","1XI","16h","16f","16r","1K$16q","16l","1K$16o","Rq","Yu","1XH","1id","1XJ","1XK","1XM","1ib","19z","1tu","19A","19w","ZD","1XL","1Va","19v","VB","Kb","1r-14H-BQ-1d7","1V9","1V4","1r-1v-lK-nT-gP","1V3","1r-1v-lK-nT-ND","1V0","1r-1v-lK-nT-gZ","1V1","1r-1v-lK-nT-h3","1Vb","1r-1v-lK-nT-12p","1Vc","1r-1v-lK-nT-lP","1Vm","1Vl","y3","1Vn","1qL","$Xp","1Vp","7X","1Vk","19j","1Vj","1Ve","1Vd","1Vf","1UC","1UD","1Uu","11k","1Ux","1Uw","11l","1UR","1UQ","13n","1US","Ye","1a1","P7","1UT","1UU","17Y","16J","1a4","1UP","1a5","1UO","Pb","1UJ","1UI","1UK","18l","1UL","18R","18Z","1UN","OZ","18t","1UM","H9","1a9","1a8","19O","10c","10b","1aa","1a3","1Vq","1a7","15C","1cs","1a2","19U","19T","1Vr","1W6","1W5","1W7","19e","1W8","18p","1W9","18q","1W4","Wy","1W3","1dO","1VY","1VZ","1W0","1r-8x-EZ","14b","WT","WS","WR","1r-1v-5H-Ch-l9","Wr","1W2","1r-1v-5H-Do-kX","18u","1W1","WU","18o","WP","19W","1Wa","1r-1v-5H-Do-kX-gU","1Wb","19f","1Wl","1Wk","1Wm","1Wn-kX-1g7","18k","18v","WE","WD","1Wd","1r-1v-5H-rC-zW","18d","1Wc","1We","18e","1Wf","1Wg","gS","OD","1VV","1VB","18U","1VA","I7","XN","1VC","!","&","|","18i","18f","18A","1r-1v-5H-Do-5H-rC-nN-kX","<ul 4A=\\"1r-1v-5H-rC-nN-ul\\">","13I","<li 4A=\\"1r-1v-5H-rC-nN-1VD\\"></li>","<li 4A=\\"1r-1v-5H-rC-nN-li\\" 3D-1g4=\\"","\\">","3D-1g4","19d","18Y","18g","1r-1v-5H-rC-zW-aR","18b","14m","18c","18h","1VE","1r-1v-5H-gP","19c","19b","1bV","13s","13U","13S","13T","10H","14a","zA","15O","1Vz","1Vy","1r-1v-q4","1Vx","lq: 0 !ai; 9d: 0 !ai; jl-4X: 0 !ai; 3b: 0; 4X: 0 !ai; az: 0 ju !ai;","1Vw","az:0 ju !ai;","1VG","16c","1r-1v-5H-lz-4I","1r-1v-5H-lz-ot","18j","18a","17V","17W","1bQ","18O","1K$1VH","1K$1VR","1r-1v-4w-4y","1jc","1oC","1r-1v-4w-4y 1r-1v-Qq-D8-4y","1oD","1bN","1VQ","1VS","1VT","1VU","1VP","1VO","18P","1VJ","1r-1v-4w-4y 1r-1v-4I-Bh-Qd-4y","1r-1v-4w-4y 1r-1v-4I-mL-4y","1VI","1pE","0 2px","ZF","1r-1v-4w-4y 1r-1v-4I-jz-4y","1r-1v-4w-4y 1r-1v-4I-gV-4y","1bf","10g","1pB","1r-1v-5H-lz-9P","1VK","1K$1g5","1g5","1VN","18J","UE","18D","1VM","1Qt","1Qs","19Y","1Lb","1iZ","1La","1tL","1Lc","1th","1Ld","1te","1Lf","Gm","1Le","18M","1r-1v-4w-9P","1L9","1L8","1L3","Vk","1cy","1L2","1L4","1L5","1rD","1ss","1rs","1rA","1rI","1tx","1tI","1rn","1sE","1t9","1L7","1L6","1Lg","1Lh","1Lr","1Lq","1Ls","Sv","1tp","1r-1v-4I-Bh-Qd-9P","aC:wl; 9d: 0 0 0 0;","1rU","1r-1v-4I-mL-9P","aC:wl; 9d: 0 2px;","1rQ","1r-1v-4I-jz-9P","1r-1v-4I-gV-9P","1Lt","1os","T2","1dE","Tm","SW","Tv","Tx","1Lu","Db","1K$1Lp","M7","XX","N1","1Li","VX","1Lk","1r-1v-4w-gU","1r-1v-gU-1g6-jl","1r-1v-gU-1g6-jl-5Y-a4","1r-1v-4w-gU-5Y-a4","VN","1Lm","1L1","1L0","1KG","1KF","VC","1py","1pk","1KH","1KI","1KE","1KD","1Ky","1Kx","1Kz","1ph","1pe","#6I","Vj","1KA","1KB","UD","W3","UL","UH","1c7","U6","NP","NU","^","$","NS","YG","UN","UT","1iV","1KL","1if","U8","NI","1iP","UJ","Ue","1KM","vO","1bJ","1K$aT","Us","1ag","VV","VW","lK","1KW","Wl","13m","Wn","Wh","Wc","1KV","Aw","s0","19l","1KX","1KY","W8","1KZ","1KO","1KN","Vp","1KP","VQ","QG to km Om 1KQ 1i 1KS zM","13K","ZO","1Lw","1Mb","1g0","rH","1K$1Ma","Vy","QG to km a 2G ki(.1fT) 1i oZ","1Mc","QG to km a 2G ki(.1fT) 1i oZ\\C7\\1Md : ","1Me","1M9","1M8 1M3 xA oZ.1M2.js ki to O6 1M4.","1M5","Wk","SE","1M7","Ch","1M6","1Mf","1Mg","1Mq","2G","SK","1K$14X","1Mp","1Mr","1Ms","Te","Tl","Sp","U4","#1Mh","fl/zM","1Mj","1Mk","PH",".zM","1Mm","1Ml","Y7","zM","gc","19n","lM","A4","1M1","Tf","1M0","1LG","1LF","1r-1v-1v-N5-1i-lK","1LH","RJ","1LI","1LK","V9","1LJ","1LE","1LD","j3","19t","1Lx","TS","eF","Td","Tp","Ta","T0","1Lz","1gn","1LA","1LC","1LB","1LL","Om","1LW","1LV","1LX","1LY","1LU","Ts","Th","1LO","1LN","Tc","1LP","SV","1LQ","1LS","1LR","1Kv","1Jb","1Ja","#1Jc","1Jd","#1Jf","1Je","#1J9","1J8","1J3","1J2","Tn","1J4","1J5","1J7","#1J6","1r-1v-h3-3f-Wa","1r-1v-h3-3f-UQ","1r-1v-h3-3f-1Jg","1r-1v-h3-3f-LK","<?3E yx=\\"1.0\\" 1dZ=\\"NC-8\\" 1Jh=\\"1Jr\\"?>\\C7\\rm","Zk","Zj","Zh","Ae","1c6","qI","1Jq","nT","1Js","19i","0%","19m","1%","T7","1Jt","ZM","$1Ju","XP","Mw 1","1kU","CU","Mw ","Vq","1Jp","gz$SC","TU","1Jo","1Jj","1Ji","1Jk","Af","Va","1Jl","1Jm","D9","P3","T9","\\Iw\\HR \\lo\\Hm\\"/><1J1 2s=\\"Vw","Sz","Tk","VA","VI","gu","1J0","xl/ow.3E","ki","1IG","1IF","n0","<lk it=\\"fl/i5.3U-kC.n0+3E\\" ll=\\"/xl/EJ/n0",".3E\\"/>","xl/EJ/n0",".3E","xl/yA/Kn/i7",".3E.Bg","<hw 5e=\\"3B://3X.3U.4u/hs/4x/7P\\"><gW Id=\\"v2\\" dJ=\\"3B://3X.3U.4u/9L/4x/7P/n0\\" dx=\\"../EJ/1IH.3E\\"/></hw>","i7","xl/yA/i7","1II","1IK","</1fB>","Vg","Ud","<1fA 5e=\\"3B://3X.3U.4u/9L/4x/Jx-sW\\" 5e:vt=\\"3B://3X.3U.4u/9L/4x/1IJ\\">","<1fS>mD 1IE</1fS><1fF>0</1fF><1fG>1g</1fG>","<1fH><vt:AO lM=\\"2\\" 1fE=\\"v1\\"><vt:v1><vt:vo>1Iy</vt:vo></vt:v1><vt:v1><vt:i4>","</vt:i4></vt:v1></vt:AO></1fH>","<1fD><vt:AO lM=\\"","\\" 1fE=\\"vo\\">","<vt:vo>Mw","</vt:vo>","</vt:AO></1fD>","</1fA>","<1fB 5e=\\"3B://3X.3U.4u/hs/4x/Ab-1IV\\"><1fC 1fI=\\"Bg\\" it=\\"fl/i5.3U-hs.7P+3E\\"/><1fC 1fI=\\"3E\\" it=\\"fl/3E\\"/><lk ll=\\"/xl/pv.3E\\" it=\\"fl/i5.3U-kC.b7.i7.9i+3E\\"/>","<lk ll=\\"/xl/yA/i7",".3E\\" it=\\"fl/i5.3U-kC.b7.ur+3E\\"/>","<lk ll=\\"/xl/gr/Ei.3E\\" it=\\"fl/i5.3U-kC.gr+3E\\"/>","<lk ll=\\"/xl/pz.3E\\" it=\\"fl/i5.3U-kC.b7.pz+3E\\"/><lk it=\\"fl/i5.3U-kC.b7.ow+3E\\" ll=\\"/xl/ow.3E\\"/><lk ll=\\"/sY/sS.3E\\" it=\\"fl/i5.3U-hs.sS-sW+3E\\"/>","<lk ll=\\"/sY/xF.3E\\" it=\\"fl/i5.3U-kC.Jx-sW+3E\\"/>","<pv 5e=\\"3B://3X.3U.4u/b7/4x/9i\\" 5e:r=\\"3B://3X.3U.4u/9L/4x/7P\\" 5e:mc=\\"3B://3X.3U.4u/1fQ-1gb/4x\\" mc:1gc=\\"Aj\\" 5e:Aj=\\"3B://3X.im.io/ip/b7/F0/11/9i\\"><1IU 1IT=\\"xl\\" 1IO=\\"6\\" 1IN=\\"6\\" 1IP=\\"1IQ\\"/><1IS/><1fJ><1IR 1Jv=\\"0\\" 1Jw=\\"0\\" 1Kb=\\"1Ka\\" 1Kf=\\"1Ke\\"/></1fJ>","<Cy>","TO","<i7 7X=\\"","\\" 1s8=\\"","\\" r:id=\\"EG","\\"/>","</Cy><1qQ 1tA=\\"0\\"/></pv>","<hw 5e=\\"3B://3X.3U.4u/hs/4x/7P\\">","<gW Id=\\"EG","\\" dJ=\\"3B://3X.3U.4u/9L/4x/7P/ur\\" dx=\\"yA/i7","\\" dJ=\\"3B://3X.3U.4u/9L/4x/7P/gr\\" dx=\\"gr/Ei.3E\\"/>","\\" dJ=\\"3B://3X.3U.4u/9L/4x/7P/pz\\" dx=\\"pz.3E\\"/>","\\" dJ=\\"3B://3X.3U.4u/9L/4x/7P/ow\\" dx=\\"ow.3E\\"/>","</hw>","<1eI 5e=\\"3B://3X.3U.4u/b7/4x/9i\\" 5e:mc=\\"3B://3X.3U.4u/1fQ-1gb/4x\\" mc:1gc=\\"zI\\" 5e:zI=\\"3B://3X.im.io/ip/b7/j5/9/ac\\">","1Kh","<1gK 7C=\\"","<Az 7v=\\"178\\" At=\\"1gx \\"/>","<Az 7v=\\"179\\" At=\\"#,##0.1gx \\"/>","<Az 7v=\\"180\\" At=\\"#,##0.1Ki \\"/>","<Az 7v=\\"","\\" At=\\"","</1gK>","<pB 7C=\\"","pB","\\" zI:1eH=\\"1\\">","</pB>","<rl 7C=\\"","rl","</rl>","<6C 7C=\\"2\\"><az><6L/><7E/><5Y/><9O/><FC/></az><az><6L aT=\\"As\\"><ic 9K=\\"","\\"/></6L><7E aT=\\"As\\"><ic 9K=\\"","\\"/></7E><5Y aT=\\"As\\"><ic 9K=\\"","\\"/></5Y><9O aT=\\"As\\"><ic 9K=\\"","\\"/></9O><FC/></az></6C>","<zU 7C=\\"1\\"><xf ej=\\"0\\" ei=\\"0\\" fh=\\"0\\" 7v=\\"0\\"><eo aG=\\"f4\\"/></xf></zU>","<Ah 7C=\\"","UR","</Ah>","<1gG 7C=\\"1\\"><1Kl 7X=\\"\\1Km\\1K1\\" go=\\"0\\" 1K0=\\"0\\"/></1gG><1JF 7C=\\"0\\"/><1JK 7C=\\"0\\" 1JJ=\\"1JE\\" 1Jy=\\"1Jz\\"/><m0><es q9=\\"{1JA-1JB-1JL-1JY-1JZ}\\" 5e:4l=\\"3B://3X.im.io/ip/b7/j5/9/9i\\"><4l:1JU 1JT=\\"1JO\\"/></es><es q9=\\"{1JN-1JP-1P5-1Pe-1Pf}\\" 5e:Aj=\\"3B://3X.im.io/ip/b7/F0/11/9i\\"><Aj:1OY 1OC=\\"1OB\\"/></es></m0></1eI>","<pB 7C=\\"1\\" zI:1eH=\\"1\\"><2G><sz 2s=\\"9\\"/><ic gr=\\"1\\"/><7X 2s=\\"","\\"/><1oG 2s=\\"2\\"/><Cc 2s=\\"129\\"/></2G></pB><rl 7C=\\"2\\"><eF><mn t7=\\"ju\\"/></eF><eF><mn t7=\\"1qb\\"/></eF></rl><6C 7C=\\"1\\"><az><6L/><7E/><5Y/><9O/><FC/></az></6C><zU 7C=\\"1\\"><xf 7v=\\"0\\" fh=\\"0\\" ei=\\"0\\" ej=\\"0\\"><eo aG=\\"f4\\"/></xf></zU>","<Ah 7C=\\"1\\"><xf 7v=\\"0\\" fh=\\"0\\" ei=\\"0\\" ej=\\"0\\" go=\\"0\\"><eo aG=\\"f4\\"/></xf></Ah>","xl/pz.3E","[1OA].3E","sY/sS.3E","<cp:1Oz 5e:cp=\\"3B://3X.3U.4u/hs/4x/1fv/sS-sW\\" 5e:dc=\\"3B://Lv.4u/dc/1OJ/1.1/\\" 5e:1OK=\\"3B://Lv.4u/dc/1OT/\\" 5e:1eo=\\"3B://Lv.4u/dc/1eo/\\" 5e:1OQ=\\"3B://1Q2.w3.4u/9A/1Qo-1Qr\\"/>","sY/xF.3E","Kn/.Bg","<hw 5e=\\"3B://3X.3U.4u/hs/4x/7P\\"><gW Id=\\"1pu\\" dJ=\\"3B://3X.3U.4u/9L/4x/7P/Jx-sW\\" dx=\\"sY/xF.3E\\"/><gW Id=\\"1qq\\" dJ=\\"3B://3X.3U.4u/hs/4x/7P/1fv/sS-sW\\" dx=\\"sY/sS.3E\\"/><gW Id=\\"v2\\" dJ=\\"3B://3X.3U.4u/9L/4x/7P/9L\\" dx=\\"xl/pv.3E\\"/></hw>","xl/Kn/pv.3E.Bg","xl/gr/Ei.3E","<a:gr 5e:a=\\"3B://3X.3U.4u/JQ/4x/9i\\" 7X=\\"xM \\1Qg\\12K\\"><a:1rN><a:1ij 7X=\\"xM\\"><a:GV><a:1fg 2s=\\"1Qf\\" 1ff=\\"yM\\"/></a:GV><a:GF><a:1fg 2s=\\"2g\\" 1ff=\\"1PD\\"/></a:GF><a:1f5><a:d7 2s=\\"1PA\\"/></a:1f5><a:1fd><a:d7 2s=\\"1PU\\"/></a:1fd><a:1fe><a:d7 2s=\\"1PT\\"/></a:1fe><a:1io><a:d7 2s=\\"1PX\\"/></a:1io><a:1iq><a:d7 2s=\\"1PN\\"/></a:1iq><a:1iE><a:d7 2s=\\"1Ou\\"/></a:1iE><a:1im><a:d7 2s=\\"1Nq\\"/></a:1im><a:E3><a:d7 2s=\\"1Ni\\"/></a:E3><a:1i8><a:d7 2s=\\"1Nh\\"/></a:1i8><a:1i5><a:d7 2s=\\"1Nm\\"/></a:1i5></a:1ij><a:1oT 7X=\\"xM\\"><a:1j8><a:1jg 2J=\\"1je 1MV\\" 1jd=\\"1MS\\"/><a:ea 2J=\\"\\"/><a:cs 2J=\\"\\"/><a:2G 2S=\\"1jb\\" 2J=\\"\\1iL\\1iK \\1iI\\1iJ\\1iS\\1iT\\1i3\\"/><a:2G 2S=\\"1i2\\" 2J=\\"\\Iw\\HR \\lo\\Hm\\"/><a:2G 2S=\\"1hg\\" 2J=\\"\\1ho\\1hm\\"/><a:2G 2S=\\"1hj\\" 2J=\\"\\1hk\\1hl\\1h8\\1h7\\"/><a:2G 2S=\\"1gU\\" 2J=\\"JR JS Ki\\"/><a:2G 2S=\\"1gV\\" 2J=\\"JR JS Ki\\"/><a:2G 2S=\\"1gW\\" 2J=\\"1gT\\"/><a:2G 2S=\\"1gS\\" 2J=\\"1gP\\"/><a:2G 2S=\\"1gQ\\" 2J=\\"1gR\\"/><a:2G 2S=\\"1gX\\" 2J=\\"1gY\\"/><a:2G 2S=\\"1h4\\" 2J=\\"1MO\\"/><a:2G 2S=\\"1gZ\\" 2J=\\"1h1\\"/><a:2G 2S=\\"1hQ\\" 2J=\\"1hN\\"/><a:2G 2S=\\"1hT\\" 2J=\\"1hU\\"/><a:2G 2S=\\"1hK\\" 2J=\\"1hI 1hG\\"/><a:2G 2S=\\"1rZ\\" 2J=\\"mD Yi Bz\\"/><a:2G 2S=\\"1s4\\" 2J=\\"mD 1rX\\"/><a:2G 2S=\\"1rP\\" 2J=\\"MV 1sp\\"/><a:2G 2S=\\"1sj\\" 2J=\\"1sg\\"/><a:2G 2S=\\"1rj\\" 2J=\\"1rh\\"/><a:2G 2S=\\"1rk\\" 2J=\\"1ro\\"/><a:2G 2S=\\"1r8\\" 2J=\\"1r7 1r9\\"/><a:2G 2S=\\"1ra\\" 2J=\\"1rb\\"/><a:2G 2S=\\"1rp\\" 2J=\\"1rq\\"/><a:2G 2S=\\"1rt\\" 2J=\\"1rr\\"/><a:2G 2S=\\"1rv\\" 2J=\\"1rx 1st\\"/><a:2G 2S=\\"1to\\" 2J=\\"1tm Bz\\"/><a:2G 2S=\\"1tl\\" 2J=\\"JR JS Ki\\"/><a:2G 2S=\\"1sH\\" 2J=\\"mD 1sL\\"/><a:2G 2S=\\"1pq\\" 2J=\\"1op\\"/></a:1j8><a:1oP><a:1jg 2J=\\"1je\\" 1jd=\\"1Od\\"/><a:ea 2J=\\"\\"/><a:cs 2J=\\"\\"/><a:2G 2S=\\"1jb\\" 2J=\\"\\1iL\\1iK \\1iI\\1iJ\\1iS\\1iT\\1i3\\"/><a:2G 2S=\\"1i2\\" 2J=\\"\\Iw\\HR \\lo\\Hm\\"/><a:2G 2S=\\"1hg\\" 2J=\\"\\1ho\\1hm\\"/><a:2G 2S=\\"1hj\\" 2J=\\"\\1hk\\1hl\\1h8\\1h7\\"/><a:2G 2S=\\"1gU\\" 2J=\\"N3\\"/><a:2G 2S=\\"1gV\\" 2J=\\"N3\\"/><a:2G 2S=\\"1gW\\" 2J=\\"1gT\\"/><a:2G 2S=\\"1gS\\" 2J=\\"1gP\\"/><a:2G 2S=\\"1gQ\\" 2J=\\"1gR\\"/><a:2G 2S=\\"1gX\\" 2J=\\"1gY\\"/><a:2G 2S=\\"1h4\\" 2J=\\"1NH\\"/><a:2G 2S=\\"1gZ\\" 2J=\\"1h1\\"/><a:2G 2S=\\"1hQ\\" 2J=\\"1hN\\"/><a:2G 2S=\\"1hT\\" 2J=\\"1hU\\"/><a:2G 2S=\\"1hK\\" 2J=\\"1hI 1hG\\"/><a:2G 2S=\\"1rZ\\" 2J=\\"mD Yi Bz\\"/><a:2G 2S=\\"1s4\\" 2J=\\"mD 1rX\\"/><a:2G 2S=\\"1rP\\" 2J=\\"MV 1sp\\"/><a:2G 2S=\\"1sj\\" 2J=\\"1sg\\"/><a:2G 2S=\\"1rj\\" 2J=\\"1rh\\"/><a:2G 2S=\\"1rk\\" 2J=\\"1ro\\"/><a:2G 2S=\\"1r8\\" 2J=\\"1r7 1r9\\"/><a:2G 2S=\\"1ra\\" 2J=\\"1rb\\"/><a:2G 2S=\\"1rp\\" 2J=\\"1rq\\"/><a:2G 2S=\\"1rt\\" 2J=\\"1rr\\"/><a:2G 2S=\\"1rv\\" 2J=\\"1rx 1st\\"/><a:2G 2S=\\"1to\\" 2J=\\"1tm Bz\\"/><a:2G 2S=\\"1tl\\" 2J=\\"N3\\"/><a:2G 2S=\\"1sH\\" 2J=\\"mD 1sL\\"/><a:2G 2S=\\"1pq\\" 2J=\\"1op\\"/></a:1oP></a:1oT><a:1sr 7X=\\"xM\\"><a:1qT><a:9D><a:6b 2s=\\"d0\\"/></a:9D><a:pM CM=\\"1\\"><a:qi><a:gs jZ=\\"0\\"><a:6b 2s=\\"d0\\"><a:kv 2s=\\"1qt\\"/><a:hm 2s=\\"OU\\"/><a:mY 2s=\\"1PK\\"/></a:6b></a:gs><a:gs jZ=\\"Oj\\"><a:6b 2s=\\"d0\\"><a:kv 2s=\\"OU\\"/><a:hm 2s=\\"Og\\"/><a:mY 2s=\\"1Pz\\"/></a:6b></a:gs><a:gs jZ=\\"rO\\"><a:6b 2s=\\"d0\\"><a:kv 2s=\\"OU\\"/><a:hm 2s=\\"1PG\\"/><a:mY 2s=\\"1PF\\"/></a:6b></a:gs></a:qi><a:NF NH=\\"Eg\\" Nx=\\"0\\"/></a:pM><a:pM CM=\\"1\\"><a:qi><a:gs jZ=\\"0\\"><a:6b 2s=\\"d0\\"><a:hm 2s=\\"Og\\"/><a:kv 2s=\\"1tO\\"/><a:mY 2s=\\"1PE\\"/></a:6b></a:gs><a:gs jZ=\\"Oj\\"><a:6b 2s=\\"d0\\"><a:hm 2s=\\"1qt\\"/><a:kv 2s=\\"rO\\"/><a:uZ 2s=\\"rO\\"/></a:6b></a:gs><a:gs jZ=\\"rO\\"><a:6b 2s=\\"d0\\"><a:kv 2s=\\"1Qm\\"/><a:hm 2s=\\"1pm\\"/><a:uZ 2s=\\"1Qn\\"/></a:6b></a:gs></a:qi><a:NF NH=\\"Eg\\" Nx=\\"0\\"/></a:pM></a:1qT><a:1oL><a:ln w=\\"1Qd\\" PN=\\"Oo\\" Nc=\\"DB\\" xq=\\"wU\\"><a:9D><a:6b 2s=\\"d0\\"/></a:9D><a:N8 2s=\\"vN\\"/><a:Ns Nl=\\"Ni\\"/></a:ln><a:ln w=\\"1Q5\\" PN=\\"Oo\\" Nc=\\"DB\\" xq=\\"wU\\"><a:9D><a:6b 2s=\\"d0\\"/></a:9D><a:N8 2s=\\"vN\\"/><a:Ns Nl=\\"Ni\\"/></a:ln><a:ln w=\\"1rm\\" PN=\\"Oo\\" Nc=\\"DB\\" xq=\\"wU\\"><a:9D><a:6b 2s=\\"d0\\"/></a:9D><a:N8 2s=\\"vN\\"/><a:Ns Nl=\\"Ni\\"/></a:ln></a:1oL><a:1tB><a:pK><a:Cl/></a:pK><a:pK><a:Cl/></a:pK><a:pK><a:Cl><a:1tk 1Mv=\\"1JW\\" 1K7=\\"1rm\\" uz=\\"Eg\\" xq=\\"wU\\" CM=\\"0\\"><a:d7 2s=\\"yM\\"><a:1sk 2s=\\"1sQ\\"/></a:d7></a:1tk></a:Cl></a:pK></a:1tB><a:1su><a:9D><a:6b 2s=\\"d0\\"/></a:9D><a:9D><a:6b 2s=\\"d0\\"><a:mY 2s=\\"1Ll\\"/><a:hm 2s=\\"1VL\\"/></a:6b></a:9D><a:pM CM=\\"1\\"><a:qi><a:gs jZ=\\"0\\"><a:6b 2s=\\"d0\\"><a:mY 2s=\\"1Wi\\"/><a:hm 2s=\\"1Uv\\"/><a:uZ 2s=\\"1tz\\"/><a:kv 2s=\\"1tO\\"/></a:6b></a:gs><a:gs jZ=\\"Oj\\"><a:6b 2s=\\"d0\\"><a:mY 2s=\\"1tz\\"/><a:hm 2s=\\"1UW\\"/><a:uZ 2s=\\"1Vh\\"/><a:kv 2s=\\"Og\\"/></a:6b></a:gs><a:gs jZ=\\"rO\\"><a:6b 2s=\\"d0\\"><a:uZ 2s=\\"1sQ\\"/><a:hm 2s=\\"1pm\\"/></a:6b></a:gs></a:qi><a:NF NH=\\"Eg\\" Nx=\\"0\\"/></a:pM></a:1su></a:1sr></a:1rN><a:1WG/><a:1RO/><a:m0><a:es q9=\\"{1RQ-1RR-dZ-1Rx-1S0}\\"><1p0:1S6 5e:1p0=\\"3B://3X.im.io/ip/1S7/wc/9i\\" 7X=\\"xM 1R4\\" id=\\"{1R2-1R0-1R9-1R7-1R8}\\" 1Sr=\\"{1TO-1TU-1TS-1TI-1TA}\\"/></a:es></a:m0></a:gr>","xl/pv.3E","1TF","wg","1TC","O6",".1sI","1sI","SD","1K$1SV","1Sv","1Tk","1wJ","1ww","1wh","<hw 5e=\\"3B://3X.3U.4u/hs/4x/7P\\"><gW Id=\\"1pu\\" dJ=\\"3B://3X.3U.4u/9L/4x/7P/pz\\" dx=\\"pz.3E\\"/><gW Id=\\"1qq\\" dJ=\\"3B://3X.3U.4u/9L/4x/7P/gr\\" dx=\\"gr/Ei.3E\\"/><gW Id=\\"v2\\" dJ=\\"3B://3X.3U.4u/9L/4x/7P/ur\\" dx=\\"yA/i7",".3E\\"/><gW Id=\\"1yj\\" dJ=\\"3B://3X.3U.4u/9L/4x/7P/ow\\" dx=\\"ow.3E\\"/></hw>","<Cy><i7 7X=\\"","\\" 1s8=\\"1\\" r:id=\\"v2\\"/></Cy><1qQ 1tA=\\"0\\"/></pv>","<5C:1tn 5e:5C=\\"3B://3X.3U.4u/JQ/4x/1vG\\" 5e:a=\\"3B://3X.3U.4u/JQ/4x/9i\\">","1vM","<eF><mn t7=\\"ju\\"/></eF>","<eF><mn t7=\\"1qb\\"/></eF>","<xf ej=\\"0\\" ei=\\"0\\" fh=\\"0\\" 7v=\\"0\\" go=\\"0\\"><eo aG=\\"f4\\"/></xf>","1vI","1vJ","SR","1vx","EK","pJ","p8","1vv","U9","Wf","<b/>","<u/>","1w7","<i/>","<2G>","<sz 2s=\\"","\\"/><ic 9K=\\"","\\"/><7X 2s=\\"","\\"/><1oG 2s=\\"2\\"/><Cc 2s=\\"129\\"/></2G>","<ic 9K=\\"","em","<7X 2s=\\"","1t8","<eF><mn t7=\\"vN\\"><1pj 9K=\\"","\\"/><1sx 1tP=\\"64\\"/></mn></eF>","<xf ej=\\"1\\" ei=\\"2\\" fh=\\"1\\" 7v=\\"0\\" go=\\"0\\" lF=\\"1\\" lB=\\"1\\"><eo aG=\\"f4\\" gX=\\"","\\"/></xf>","<xf ej=\\"1\\" ei=\\"3\\" fh=\\"0\\" 7v=\\"0\\" go=\\"0\\" lF=\\"1\\" lB=\\"1\\"><eo aG=\\"f4\\" gX=\\"","<xf ej=\\"1\\" ei=\\"4\\" fh=\\"0\\" 7v=\\"0\\" go=\\"0\\" lF=\\"1\\" lB=\\"1\\"><eo aG=\\"f4\\" gX=\\"","<xf ej=\\"1\\" ei=\\"3\\" fh=\\"0\\" 7v=\\"0\\" QP=\\"1\\" go=\\"0\\" lF=\\"1\\" lB=\\"1\\"><eo aG=\\"f4\\" gX=\\"","<xf ej=\\"1\\" ei=\\"4\\" fh=\\"0\\" 7v=\\"0\\" QP=\\"1\\" go=\\"0\\" lF=\\"1\\" lB=\\"1\\"><eo aG=\\"f4\\" gX=\\"","<eF><mn t7=\\"vN\\"><1pj 9K=\\"1t8\\"/><1sx 1tP=\\"64\\"/></mn></eF>","<xf ej=\\"1\\" ei=\\"5\\" fh=\\"2\\" 7v=\\"0\\" go=\\"0\\" lF=\\"1\\" lB=\\"1\\"><eo aG=\\"f4\\" gX=\\"","SH","U3","U5","Uk","1uR","VO","1vd","Vm","</5C:1tn>","<hw 5e=\\"3B://3X.3U.4u/hs/4x/7P\\"><gW Id=\\"v2\\" dJ=\\"3B://3X.3U.4u/9L/4x/7P/n0\\" dx=\\"../EJ/n0",".3E\\"/></hw>","<ur 5e=\\"3B://3X.3U.4u/b7/4x/9i\\" 5e:r=\\"3B://3X.3U.4u/9L/4x/7P\\">","<Wi H3=\\"A1:","Uv","<1rB><1si 1vg=\\"0\\"><1v6 jz=\\"1uU\\" 1FK=\\"1FL\\" 1FM=\\"","\\" 1FT=\\"","\\" 1FR=\\"","\\"/></1si></1rB>","Tu","<Nz>","</Nz>","<1t1>","</1t1>","<1sU 7C=\\"","</1sU>","<n0 r:id=\\"EG","1pQ","1pZ","<1pp>","EG","<1qo H3=\\"","\\" r:id=\\"","</1pp>","JY","1pX","<m0>","</m0>","</ur>","<gW 1ED=\\"1EE\\" dx=\\"","\\" dJ=\\"3B://3X.3U.4u/9L/4x/7P/1qo\\" Id=\\"","<1qa 5e=\\"3B://3X.3U.4u/b7/4x/9i\\" 7C=\\"","\\" 1EU=\\"","1EZ"," 3E:12B=\\"1F6\\"","<si><t","><![1pO[","]]></t></si>","</1qa>","1HN","1HY","1HT","1Hz","1HH","1Gx","1C9","1BR","1BV","1BS","1AR","1E5","1Cx","<4I r=\\"","\\" 1CW=\\"1\\" ht=\\"","</4I>","13o","SP","4y"," 1cl=\\"1\\" ","V6","<c r=\\"","\\" t=\\"s\\" s=\\"","\\"><v>","</v></c>","\\" s=\\"","\\"></c>","<1V5 H3=\\"","<dS 1Cv=\\"1\\" 3b=\\"","\\" F2=\\"","\\" F8=\\"","\\" s=\\"1\\"></c>","SM","pt","DW","<xf ej=\\"0\\" ei=\\"","\\" fh=\\"","\\" "," go=\\"0\\" ","lF=\\"0\\" lB=\\"1\\" W0=\\"1\\"><eo aG=\\"","\\" gX=\\"","/></xf>","t","l","yM","Wi","<5C:Wm>","<5C:uQ><5C:dS>","1EI","</5C:dS><5C:TA>","1FY","</5C:TA>","<5C:4I>","1uk","</5C:4I><5C:Lt>","1u1","</5C:Lt></5C:uQ>","<5C:to><5C:dS>","1u2","1u3","1yZ","1yh","</5C:Lt></5C:to>","<5C:sp 1yi=\\"\\" 1yA=\\"\\"><5C:UX><5C:1zS 7X=\\"\\1zM\\wm\\1zG\\1zE 1\\" id=\\"2\\"/><5C:1zo/></5C:UX><5C:Up><a:Vi><a:UK y=\\"1xa\\" x=\\"1xb\\"/><a:es cy=\\"1x2\\" cx=\\"1wp\\"/></a:Vi><a:Vc 1wG=\\"V9\\"><a:1xe/></a:Vc>","<a:9D><a:d7 2s=\\"","\\"/></a:9D>","<a:V7/>","1xS","<a:ln w=\\"","<a:ln><a:V7/>","<a:ln w=\\"1xU\\">","Uu","<a:9D><a:6b 2s=\\"1xQ\\"/></a:9D>","</a:ln></5C:Up>","<5C:aT><a:VZ iR=\\"2\\"><a:6b 2s=\\"E3\\"/></a:VZ><a:Wj iR=\\"1\\"><a:6b 2s=\\"GF\\"/></a:Wj><a:Vr iR=\\"0\\"><a:6b 2s=\\"E3\\"/></a:Vr><a:Vn iR=\\"Vw\\"><a:6b 2s=\\"GV\\"/></a:Vn></5C:aT>","b","wU","r","<5C:Wo><a:1Sy 1Ug=\\"","\\" 1R3=\\"0\\" 1Rd=\\"SQ\\" 1Rr=\\"SQ\\"/><a:1Qu/><a:p><a:1Qz xq=\\""," b=\\"1\\" ","  u=\\"DB\\" "," i=\\"1\\" ","<a:r><a:Wg 1QS=\\"ko-KR\\""," sz=\\"","\\" 1QU=\\"en-US\\"><a:9D><a:d7 2s=\\"","\\"/></a:9D></a:Wg><a:t>","</a:t></a:r></a:p></5C:Wo></5C:sp>","<5C:1Sb/></5C:Wm>","1S1","49","1S2","&VU;/&VU;",";@","13N"," 1cI=\\"","<xf ej=\\"0\\" ei=\\"0\\" fh=\\"0\\" go=\\"0\\" W0=\\"1\\"><eo aG=\\"f4\\" gX=\\"6L\\"","17i","gU","1Se","1K$1Si","St","1RY","1RD","1r-1v-4I-mL-4y","14e","<2G><sz 2s=\\""," QP=\\"1\\" "," 7v=\\"49\\" "," 7v=\\"3\\" ","#,##0.12k"," 7v=\\"4\\" ","#,##0.0"," 7v=\\"179\\" ","#,##0.1RE"," 7v=\\"180\\" ","###0"," 7v=\\"178\\" "," 7v=\\"14\\" "," 7v=\\""," 7v=\\"0\\" ","<xf ej=\\"1\\" ei=\\"","lF=\\"1\\" lB=\\"1\\"><eo aG=\\"","<es 5e:4l=\\"3B://3X.im.io/ip/b7/j5/9/9i\\" q9=\\"{1RK-1RM-1RN-1RP-1Uq}\\">","<es 5e:4l=\\"3B://3X.im.io/ip/b7/j5/9/9i\\" q9=\\"{1Ur-1X5-1Xl-1Wx-1Ws}\\">","<4l:V2 5e:xm=\\"3B://3X.im.io/ip/Uo/4x/9i\\">","9P","jl","1Wu","cf","</4l:V2></es>","<4l:Vd>","</4l:Vd></es>","<4l:Uf 1WO=\\"1WJ\\" 1P=\\"","UQ=\\"1\\" ","1Y4=\\"1\\" ","1XW=\\"1\\" ","MU=\\"1\\" ","MC=\\"1\\" ","\\UG<4l:1XY 9K=\\"","<4l:1Ya 9K=\\"","<4l:1Yk 9K=\\"MN\\"/>","<4l:1Yl 9K=\\"","<4l:1Yc 9K=\\"","<4l:1Yg 9K=\\"","<4l:1Yf 9K=\\"","<4l:1XV 9K=\\"","<4l:V4>","1ot","<4l:V3><xm:f>\\\'","\\\'!","</xm:f><xm:wq>","</xm:wq></4l:V3>","</4l:V4></4l:Uf>","1Xz","1XC","<Cg wq=\\"","\\"><Cn 1P=\\"rf\\" 1Xs=\\"","<rf><pX 1P=\\"mL\\" 2s=\\"","\\"/><pX 1P=\\"mL\\" 2s=\\"","\\"/></rf>","<m0><es q9=\\"{1Wq-1UY-1UX-1UZ-1V2}\\" 5e:4l=\\"3B://3X.im.io/ip/b7/j5/9/9i\\">","<4l:id>","</4l:id>","</es></m0></Cn></Cg>","<4l:Cg 5e:xm=\\"3B://3X.im.io/ip/Uo/4x/9i\\">","<4l:Cn 1P=\\"rf\\" id=\\"","<4l:rf Ur=\\"0\\" 1VF=\\"100\\" az=\\"1\\">","<4l:pX 1P=\\"mL\\"><xm:f>","</xm:f></4l:pX><4l:pX 1P=\\"mL\\"><xm:f>","</xm:f></4l:pX>","<4l:Uu gr=\\"0\\" mY=\\"-0.1Ix\\"/>","<4l:1IB 9K=\\"","<4l:1IW 9K=\\"MN\\"/>","</4l:rf></4l:Cn>","<xm:wq>","</xm:wq></4l:Cg>","1qv","1r-1v-9q-mx","1K8","1r-1v-9q-Ch-5o","1pK","1K3","1r-1v-9q-r3-8x 1r-1v-9q-r3-W7-Cq","1K4","Cq","1sJ","1K5","1r-1v-9q-r3-8x 1r-1v-9q-r3-W7-vL","1K6","r3","1bx","1Kg","1Kr","1Kq","1r-1v-9q-dR 1r-1v-9q-MU","MU","<<","1sK","1Ks","1r-1v-9q-dR 1r-1v-9q-Cq","1r-1v-9q-dR","1Ku","1r-1v-9q-dR 1r-1v-9q-vL","1Kp","1r-1v-9q-dR 1r-1v-9q-MC",">>","1by","Kd","1Kj","1r-1v-9q-4I-7C-oR","1Kk","1Kn","1qR","1td","1JM","14k","1s6","1c1","1tG","1rC","1tr","1r-1v-9q-dR-r3-5o"," / ","1r-1v-9q-dR-aR","Xg"," ~ "," of "," s9","1oI","1p9","1JX","1JS","GO","1sW","1q8","1Pc","Xj","Xk","1rE","15i","uR","KQ","1tM","16a","1el","Wa","1P6","Xl","1sG","Xn","1t5","1qB","1pC","1qC","Xo","<ul 4A=\\"1r-1v-gS-5M-ul\\">","<ul 4A=\\"1r-1v-gS-5M-ul-nN\\" aT=\\"wz:ju;\\">","1r-1v-gS-3i 1r-1v-gS-3i-SJ-nN-HG","1r-1v-gS-3i 1r-1v-gS-3i-jl","1r-1v-gS-3i","EZ","1r-1v-gS-3i-EZ","<li 4A=\\"","\\" 3D-LN=\\"","\\" 3D-7X=\\"","1r-1v-gS-Do-kX","1oA","1qm","13p",".1r-1v-gS-3i-SJ-nN-HG","3D-LN","ul","1qr","1qs","3D-EZ","3D-7X","1pr","1oY","1qp","1OV","pi","1sV","1ah","Ii","Jc","1tb","1OX","id","1r-1v-6c-5M","1OS","1OM","1OL","1qe","1ON","1r-1v-6c-5M-3i 1r-1v-6c-5M-3i-aR","14g","1ru","1s0","1rS","1rc","1OO","1r-1v-6c-5M-3i","14h","GE","1Q1","10F","1PR","t5","1PM","1PL","1PQ","1PP","1Nb","1Nj","d5/mm/dd","1t6","1jl","1ow","1pN","1Nk","1r-1v-d6-o9-8x-S0-BQ","1MF","1MI","1pt","oZ 1MD 1Mx 1Mw 1MB 1ML Sr xg","1MW","pI","qr","1MX","1r-1v-4I-Bh-Qd","Zd","15x","1MN","1MM","Ji","1iG","1ae","1iF","1qy","1tC","1qK","1on","Ze","Zb","$6c","1MP","1pG","Z8","1MR","1pF","1fr","1fs","Md","1ic","Mb","Mc","1Nu","1r2","::","1Oa","1t4","1O9","1ei","1Ob","1iw","Ma","1Oc","1cc","1c2","15y","1cf","1O8","1r-1v-4I-gK-nu","Me","1O7","1pb","$gK","14Y","1sl","1r-1v-4I-gK-nu-1cP","1t7","1sd","1ex","1rL","1rG","16m","1qF","1ov","1O2","1r-1v-d6-gK-nu","1O3","1pS","1sD","1tf","1pW","1sc","16s","1O4","1r-1v-gX-4I-Hz-wN","1O6","1r-1v-4I-gK-jQ-1Oe-13h","1sq","10o","10q","1r-1v-gK-d6-az-N5","1Op","1Om","1Oh","1K$1Oj","gK","Ne","1pU","1q2","1tt","Bh","Kx","vm","Mi","7H","7J","6E","1eK","1ig","1gL","19k","uv","1fb","6C","1ii","af","1sR","Po","jQ","Pp","hk","GR","gb","oS","Lu","PT","k5","KU","KI","Mr","M6","OG","IQ","OM","OE","yq","x4","Gh","Pd","Pi","1fu","1gE","1gy","1gz","1gw","1NZ","1NF","1r6","1oH","1qG","1qE","1qu","1qI","Wq","10A","GH","1r-","10z","1NE","1NG","1rV","1rH","14l","1rJ","D6","YI","1jW","1r-1v-dR-sF-fs","1r-1v-9q","1r-1v-gU","1r-kL-","1r-1v-gM-","1oK","$1NM","1NN","1NS","1NT","1NY","1NW","1NU","1gM","1NL","1NK","1NA","1NJ","X2","aA","17M","1Ol","1bT","1Oi","1K$1Og","1bO","17u","1On","1c9","YN","Lp","1pD","Lr","1Os","L9","1Or","1Oo","1Of","1MK","1p5","1K$1Mz","1My","1MJ","Fs","1MH","1MG","1r3","6I","XZ","Z5","Z3","Zq","Z4","Zg","Zf","1tE","Zp","Z2","Z0","1ME","1r-1v-jQ-16C-fp","1r-1v-jQ-1MZ-fp","1r-1v-jQ-S0-BQ","1tw","1N0","1Nl","1fp","1e5","YB","Z1","1tK","1cK","1Nn","1r-1v-4y-12A-F3-gZ","1No","1Nt","1Nr","1Np","1Ng","1N5","1N4","1kq","1N9","1Na","Eo","1Ot","1dJ","1PO","F3","1PW","1Py","1Px","1r-1v-F3-gZ","ZS","1r-1v-d6-1Pv-aT","YT","1PB","1PC","1ce","1PH","ZC","1PI","1aw","1hW","1hV","1PZ","1Qj","1Qk","1Qh","1rY","1rg","1K$1Qq","1K$1OU","1K$19X","1K$19S","1K$19R","1K$19N","Zo","Zr","1Ox","1sf","1ri","Zt","1sa","1Ov","1so","1r-1v-19Q-6L-8x","1r-1v-19Q-7E-8x","1OI","1OZ","10l","1Pk","Ip","JO","ti-oB","1s5","1aj","1Pg","10p","1K$gb","Z7","1ca","1bg","10k","Li","X8","10i","1Pr","1Pq","1P3","1tq","1k0","1P2","1dt","1P0","1hY","1P1","1hM","1cO","Xr","1Pd","1Pb","1dM","1cB","16y","1i9","1Pa","1hZ","1P8","YC","1hJ","l9","IP","ME","1P9","1r-1v-19h-l9-kX","1hz","1i1","s","1i0","1Mu","1hr","[^0-9\\\\","\\\\-]","1JQ","1JC","nI","1Jx","1JD","1h9","cb","1h5","ZL","1au","1JI","1JH","1JG","1Kt","1K2","1K9","1hL","1Kd","1Kc","1IZ","1IY","1is","EE","1s2","17n","17l","ZT","1iH","1IM","5v","5G","Ih","1IL","16C","1ha","1IC","1IA","1Iz","AE","1ID","5o/1cz","1Jn","1he","G0","Yy","10e","$1bi","1bn","1bo","1Kw","15e","1iv","1LT","17f","1dr","uP","1LZ","WY","1LM","1bz","Jp","1iO","1Ly","1am","13g","1Mi","Xb","YJ","1Mn","1ja","WL","1Mo","1Mt","1Lv","1KR","1KU","1KJ","1Ln","CB","50% 50%","1r-1v-gM-gK-nu","1r-1v-9P-gK-nu","1Lj","1r-1v-aG-9P-Hz-wN","1r-1v-gM-gK-nu 1r-1v-gM-gK-nu-1cP","1r-1v-gM-3i-sX","15J","16Z","QN id is pC 1VW 1i oZ","1j7","1j5","1aP","1K$1Wh","IN","16j","L3","LB","13t","17T","1Wj","15K","19u","1qd","Jw","1hP","1hO","1du","1ay","1Wo","1r-S0-BQ-1d7","1VX","yw","19E","1aJ","16i","1e6","1e9","1ia","1sO","G8","1f2","1UH","1bW","1dN","1bE","1e8","1tH","17G","1bl","1UG","Xa","1Us","B8","mt","fS","1oZ","1Ut","1Uy","1Uz","1UE","1fc","1et","TG","W6","1cN","Pj","PX","1UF","1f6","1eA","TB","PW","c","Tt","18m","iR","1q7","1cI","1q5","1UA","1qk","1qg","1q6","1qc","1UB","1do","1oB","tc","1pH","KH","Jr","1UV","GB","u","1cE","Nz","Lj","1ea","1bF","R3","1ek","1en","J6","KO","Lm","Jl","G1","JH","J1","1eS","15g","sB","1eO","5o/1cz;Cc=Q5-8",".1dW","1Vo","1dW","3E","<?3E yx=\\"1.0\\" 1dZ=\\"NC-8\\" ?>\\C7\\rm","<s9>","<4I jH=\\"","</s9>","1V7","1eN","1dS","19r","1eF","1V6","\\1Wp","5o/1dS;Cc=Q5-8","1XG","1Xv","1Xr","19q","1bb","1b0","18r","1qU","1Xx","1XU","1Yd","1Yb","1Yj","1Y1","1XX","1Y3","1Y5","Qe","1Xq","1Xp","1WL","1WM","8A","1WK","1WH","1WN","1WT","1WS","a7","PI","13X","13W","r4","1WR","1Ww","1gB","\\ee\\ee","1Wr","./1fP","./6V","1Wy","1g8","1WC of 3D 1Wz (3D m6 = ",", 1WA jH = ","). rj gu ?","1ga","1g2","1fU","1WU","1fW","1oh","uz","O2","MR","1WV","1Xg","qS","1Xh","1Xf","1Xe","1Xc","1Xi","1Xj","1Xo","1Xn","1Xm","BV","1fR","rb","1fO","1fK","\\On\\ee","1Xb","1fN","1WZ","./rH","1WX","1X3","km","./jW","./km","nb","./nb","Bi","./Bi","6V","./1mD","1fZ","1ji","vX","./vX","./1mB","1X8","1X9","1X7","1X6","./Pl","./r4","./zu","./xW","./BB","./1mx","./1mv","./1my","1fM","1RS","vR","qQ","Q5-8","1mF","1mu","1mr","1RX","11e","1mH","1mC","1QK 3D of \\\'","\\\' is in an 1QG xg !","1fL","uc","\\rm\\ee","\\ee\\On","1QZ","1R5","\\4l\\ee","\\1Uo\\ee\\ee\\ee","\\ee\\ee\\ee\\ee","1U0 y3 is pC 1ST. Is xA ki 1Sz-km.js 1SF ?"," is pC a uP wg y3 !","1mG","1mA","1Th","MB","xW","PK\\1Tl\\1Tb","PK\\1T9\\1T8","PK\\1T6\\CH","1T7","PK\\CH\\Wz","1Yo","PK\\CH\\CH","1xz","PK\\Wz\\On","./MK","1fX","fl/i5.3U-kC.b7.i7","1xD","1xu","1xk","1xl","1xj","1xi","1xg","S3 : QC\\\'t 1xh xA jw.","1xn","[jW 5f]"," is pC R8 by 1b 1xr","\\\\x","[jW 5s]","./OP","./1lQ","./1lP","1xo","1fV","1xp","rj gu or 1xJ : 1y4 zu ",", 1y1 ","1xZ","1y6","1ya","1y7","1xY","1xO","1xN","1xW","1xT","1xf","1wD","1x6","1x1","1wX","1wU-1zz gu 13R pC R8","1zq","1mL","1mk","1mc","1lY","1ml","rj gu : QC\\\'t GT l6 of Qy Qs","1mN","rj gu : QC\\\'t GT xA 1zg l6 of Qy Qs 1zh","1mq","1mR","1lX","1m2","1lZ","1m0","1zd","S3 : 1zi 3D lM JX","1g3","1zn","S3 or 1zZ gu : 1A0\\\'t Ot 1zY 1zX uQ xA Qy Qs ","(13X == -1 || 13W == -1)","rj gu : wg "," D6 (1A3 ki : ","1lU","1lT","1wg","rj gu : 1zT JX","1fY","1zK","1zL","1zJ","1zO","1zP","1lS","1zb gu 13R pC R8","1ma","1mg","1yw","1lV","1mf","1me","1yv","./k3/6V/f1","./k3/rn","./k3/pV","./k3/aK/z6","./aK/rn.js","./6V/f1","./6V/Pc","./aK/yk","./aK/Pe","1yu","OC","1yz","13f","13Q","1yE","1yC","1yg","1ye","1md","1n1","1n2","1yk","1yl","Ox","1yq","1yp","1yo","1ym","1yn","1yG","rn","1z1","to","1z2","1yY","1z3","1z4","OW","1z8","./aK/pV.js","./aK/z6","./aK/1nH","1z7","1od","1z5","1oc","1o9","1yW","pV","1of","1yV","1yM","OX","1yN","1yL","1yK","1yI be 1yJ-jW","1yO","1yP","1yU","./f1","../6V/f1","./1nF","./Np","./yk","jz","1yQ","1yR","1u4","1u7","1u0","1tV","1tU","12D","1tT","1tW","1tX","1tZ","1u8","1uj","1ui","1tS","1ug","1ub","1uc","1ud","1uf","13h","1ue","1tQ","1vF","1vE","1vH","1vz","1vq","1vo","1vm","1vn","1vt","1vu","1vN","1w6","1w4","1w8","1w9","1we","1wd","1wc","1wa","1up","1w2","1w1","1vT","1vS","1vR","1vP","1vQ","1vU","1vW","1uJ","1uI","1uH","1uG","1uK","1uQ","1uM","1uN","1uE","1uD","15s","os","1ut","1us","1uq","1ur","1uw","1ve","BV rn (uQ 10M 10W)","1vj","1v5","1v3","1FG","1FH","1FS","1FQ","qF","1FE","1Fp","1Fq","1Fw","1FB","fj BK 11D 1FV 11u","fj BK nI","fj 11O/m6 nI","./1nm","./1nz","1Gg","11q","1Gp","gV","12N","1Ga","1G0","1FW","1FX","1G6","1G4","1G5","1Fo","1Fn","11u","1EF","JV 4y gV","D6 wg y3","fj 2g lM","D6 4y 11q vR","4y 1EJ JX","fj vu 1P","fj 1EQ vu K6","11D 11N m6 or BK 1EB","fj nI K6 vR","fj 1Er m6 12w","fj nI -- 1Es l6-of-vu","fj 11O/K6 vR","fj 1Fe vR","JV 3D gV","JV m6 gV","1F0","1F1","1HM","1HR","1HS","BV pV (uQ 10M 10W)","1HK 1HJ","10X l6","ki ET","10X ET","3D ET","1HA 1Hv","11e ET","1Im yx","1Ik","1Ih","1Ii","1In","1Io","1It","1Iu","1Is","1Ir","1Ip GT 1If \\\'","\\1I5","\\1I6","\\1I4","\\1I3","\\1Ic","\\1Ib","\\1I9","\\1Ia","\\1Hu","\\1Ht","\\1GN","\\1GO","\\1GM","\\1GL","\\1GJ","\\1GK","\\1GP","\\1GV","\\1GU","1GT","[\\12J-\\1GS]","[\\uC-\\1GH]","[\\g0-\\1Gy]","[\\1Gw-\\1Gv]","[\\12K-\\1Gu]","[\\1Gz-\\1GA]","[\\wm-\\1GG]","[\\1GE-\\1GD]","[\\nA-\\1GC]","[\\1GX-\\1GY]","[\\1Hj-\\1Hk]","[\\1Hi-\\1Hh]","[\\1Hf-\\1Hg]","[\\tY-\\1Hr]","1k7","1k6","1Hs","1l0","1r-1v-3f-6I","9d:0 ","px 0 ","px; aC:wl;","0 0 0 0","1Hq","NN","NO","Rp","1r-1v-d6-oB-Ip","1Hn","1r-1v-3f-6I 1r-1v-H9-3f-6I","1He","1r-1v-H9-12F-3f-6I","1jY","1H4","1r-1v-3f-6I 1r-1v-4y-3f","1H2","1H1","1GZ","1H0","1r-1v-4y-5H-fp","1H5","1r-1v-4y-HG-fp","1Hb","1Hc","1Ha","1H9","1H7","1r-1v-4y-12A-F3-fp","1kg","1Ek","1r-1v-4y-5H-fp-1By","1Bz","1r-1v-3f-6I 1r-1v-4y-3f 1r-1v-4y-8x-3f","1Bx","1r-1v-3f-6I 1r-1v-4y-3f 1r-1v-Gy-4y-3f","1Bu","1BG","b9","1K$b9","1BH","1r-1v-3f-6I 1r-1v-4y-3f 1r-1v-6c-C9-4y-3f","1BF","1BE","1BC","1BD","1r-1v-3f-6I 1r-1v-gU-3f","1Bt","aC:wl; 1Bi-12B:12C; 12E-12D:LK;","1Bf","1Bk==","*","*/","1Bl","1Bq","1Br==","1Bp=","1Bo","1Bm","1Bn=","1BI==","1BJ==","1C4","{\\"ct\\":",", \\"iv\\":",", \\"s\\":","ct","1C5=","1tN","1r-1v-3f-6I 1r-1v-EE-5o-3f","100%","1C2","1r-1v-3f-6I 1r-gV-5y-ot","1C0","1C1","1C6","1r-1v-3f-6I 1r-4v-5y-ot","1r-4v-xZ-5y","1r-4v-xZ-12O","--h3-3b","1nw","--h3-12N-3b","1Cd","1r-4v-xZ-12O-12Y","1C8","1r-4v-xZ-5y-BO","1r-4v-xZ","1r-1v-3f-6I 1r-1v-jQ-9P-3f","1BZ","1BY","1Af","fp","1Ae","1r-1v-jQ-D8-fp","1r-1v-jQ-D8-Fb-fp","1r-1v-jQ-12t-fp","1Ai","1Am","1Aj(",") 50% 50% no-12w","1r-1B2","1AZ","1AX","1AY","1B3","1B4","1B9","1Ba","1B8","1B7","1B5","1B6","1AW","1AV","1AL","1AM","1AK","1AJ","15j","([^\\\\.","]*)$","1AH","1AI","1AN","1AO","1AT","1AU","1AS","1AP","1AQ","1Ce","1Cf","1DE","1DF","1DH","1DM","1DN","1DL","1DK","1DI","1DJ","In","1Dz","1r-1v-3f-6I 1r-1v-Om-3f","1Do","1Dp","1Dn","1Dm","1jF","1Dj","1r-1v-3f-6I 1r-1v-fp-3f","1Dk","1Dl","1Dq","2px","1Dr","1Dw","1Dx","1Dv","1Du","1Ds","1r-1v-8x-3f 1r-1v-8x-12p-3b","1DP","1r-1v-8x-3f-BO","1Eb","1r-1v-3f-6I 1r-1v-dR-sF-3f","1E9","0 0 0 ","1E8","1r-1v-dR-sF-up-d9","1E6","1E7","1r-1v-dR-sF-C9-d9","1Ei","1Ej","1Ee","1Ef","1E4","1r-1v-dR-sF-d9-gX","1CB","1CC","1CA","sF","1CK","1CI","-0","1CH","1r-1v-3f-6I 1r-1v-6c-5M-3f","1CF","1CG","1Cw","gZ","1r-1v-6c-5M-gZ","1r-1v-6c-5M-Ab","1Cl","1r-1v-6c-5M-fp","1Ck","1Cj","1Cg","1Ch","1r-1v-6c-5M-3f-BO","1Cn","1Co","<ul 4A=\\"1r-1v-6c-5M-ul\\">","1Ct","1Cu","<li 4A=\\"1r-1v-6c-5M-3i 1r-1v-6c-5M-BC-gV 1r-1v-6c-5M-3i-aR 1r-1v-6c-5M-3i-5T\\" 7X=\\"gz$Mh\\" 3D-5T=\\"1f\\">","<li 4A=\\"1r-1v-6c-5M-3i 1r-1v-6c-5M-BC-gV\\" 7X=\\"gz$Mh\\" 3D-5T=\\"1g\\">","<li 4A=\\"1r-1v-6c-5M-3i 1r-1v-6c-5M-3i-aR 1r-1v-6c-5M-3i-5T\\" 7X=\\"","\\" 3D-5T=\\"1f\\" aT=\\"9d:0 Me;\\">","<li 4A=\\"1r-1v-6c-5M-3i\\" 7X=\\"","\\" 3D-5T=\\"1g\\" aT=\\"9d:0 Me;\\">","<li 4A=\\"1r-1v-6c-5M-3i 1r-1v-6c-5M-3i-aR\\" 7X=\\"","<li>&12j;</li>","1r-1v-6c-5M-3i-gZ","1Cp","1Cq","1CL","1CM","3D-5T","gz$Mh","1r-1v-6c-5M-3i-5T","1r-1v-6c-5M-3i-aR","1D8","1r-1v-6c-5M-BC-gV","1r-1v-3f-6I 1r-1v-h3-3f","h3","1r-1v-h3-3f-h3-6I","1r-1v-3f-6I 1r-1v-12n-jl-3f","1em","LN","2d","1Dc","1D2","1D1","1CR","1CS","1CQ","1CP","1CN(255, 255, 255, 0.Rm)","1CT","1CZ","1D0","1CY","1CX","1r-1v-3f-6I 1r-1v-12n-9P-3f","1r-1v-3f-6I 1r-1v-27n-3f","Hz","2mx","\\" aR>","1r-7g","2my","2mw","2mv","d5\\12o mm\\Hi","2mt","m\\Hi","2mu","d5\\12o","2mz","2mA","2mF","2mE","2mD","2mB","2mC","2ms","\\Mq\\2mr \\tv\\tu","2mh","2mi","\\2mg\\2mf \\tv\\tu \\12m\\Mp","2md","L6","2me","2mj","2mk","2mp","2mq","2mo","2mn","2ml","2mm","2mG","2mH","2n1","2n2","2n0","2mZ","2mX","2mY","2n3","2n4","2n9","2n8","2n7","2n5","2n6","2mW","2mV","2mM","1r-7g-4y","1r-7g-sJ","1r-7g-sJ-yw","1r-7g-gU","1r-7g-6L-d9","1r-7g-7E-d9","1r-7g-lP","1r-7g-rK-d9","1r-7g-2j-d9","1r-7g-12l-d9","2mN","<Ga><tr>","<HZ>","2mL","<th DT=\\"dS\\" 4A=\\"um-lP FS\\">","</th>","<th DT=\\"dS\\" 4A=\\"um-lP FW\\">","<th DT=\\"dS\\" 4A=\\"um-lP\\">","</tr></Ga>","<tr>","<td 4A=\\"2mK\\" 3D-6W=\\"","</td>","</tr><tr>","<td>&12j;</td>","<td 4A=\\"tR FW aR-um\\" 3D-6W=\\"","<td 4A=\\"tR FS aR-um\\" 3D-6W=\\"","<td 4A=\\"tR aR-um\\" 3D-6W=\\"","</tr>","<td 4A=\\"tR FW\\" 3D-6W=\\"","<td 4A=\\"tR FS\\" 3D-6W=\\"","<td 4A=\\"tR\\" 3D-6W=\\"","d5/m/d","\\" 3D-6W=\\""," rK\\" 3D-6W=\\"","</HZ>","<q4 4A=\\"1r-7g-q4\\">","<HN aT=\\"lq: 0 !ai; 9d: 0 !ai; jl-4X: 0 !ai; 3b: 0; 4X: 0 !ai; az: 0 ju !ai;\\"></HN>","</q4>","2mI","<Qn><dS 3b=\\"25%\\"><dS 3b=\\"25%\\"><dS 3b=\\"25%\\"><dS 3b=\\"25%\\"></Qn><tr>","/1","<td 4A=\\"1r-7g-wL wL aR-wL\\" 3D-6W=\\"","<td 4A=\\"1r-7g-wL wL\\" 3D-6W=\\"","2mJ","/1/1","<td 4A=\\"1r-7g-yv yv aR-yv\\" 3D-6W=\\"","<td 4A=\\"1r-7g-yv yv\\" 3D-6W=\\"","2mO","2mP","1r-1v-7g-yw-oR","2mU","2mT","2mS","1r-1v-7g-yw-2mQ","2mR","2mc","2mb","25%","2ly","12k","2lz","3D-6W","2lx","2lw","2lu","2lv","2lA","2lB","2lG","1r-1v-7g-gZ","2lF","2lE","2lC","1r-1v-2lD-7g-gZ","2lt","2ls","2li","2lj","2lh","2lg","2le","1r-1v-jq-7g-gZ","2lf","yy/mm/dd","2lk","2ll","2lq","1r-1v-3f-6I 1r-1v-12q-3f","1r-1v-12q-3f-gZ","1r-1v-3f-6I 1r-1v-TL-3f","2lr","2lp","2lo","2lm","2ln","No 12v","3.0.15.11","2lH","2lI Co., 2m2.","2m3","Ra","2m1","1j3","1l1","Mv","Lk","LA","HI","Iu","It","Iq","IM","I1","I8","G9","Lx","Kr","IU","LS","M3","KS","Lq","Ll","1ew","Fz","FB","Gs","Gq","FL","IO","Ij","HY","IL","GW","HB","RQ","1kn","Rj","1ev","Se","R2","Qz","QL","1eL","RF","Oa","1il","1ik","2m0","2lY","2lZ","1dj","O7","H0","IA","Il","HV","AH","1p4","FR","G5","FY","FK","FG","FI","FD","GP","GN","Ge","GU","Gb","Gv","Fw","KT","L5","Mg","LZ","M1","1a6","17z","15Q","17t","19D","Hk","Hs","Kv","Kf","zJ","AF","HQ","Rs","S9","1gp","1go","1pv","Nw","Sm","If","1ft","1eq","1iD","15V","15W","JW","17c","1ep","1i4","1gt","1gs","1fn","1fm","1i6","Gj","1eW","19o","19J","Wp","NX","1eP","1eD","1eQ","QF","1f8","1f9","1gr"];1c b(){if(1L 2g===a[0]){1d};1a W=2g;1a y={};if(1L y[a[1]]===a[0]){y[a[1]]={}};y[a[2]]=a[3]in 1N||2g[a[5]][a[4]]>1||2g[a[5]][a[6]]>1?1f:1g;y[a[7]]=1c(){if(1L y[a[7]][a[8]]==a[0]){1a b=1N[a[10]](a[9]);y[a[7]][a[8]]=b&&b[a[11]]?1f:1g;b=1h};1d y[a[7]][a[8]]};y[a[12]]=iU[a[12]][a[13]]();y[a[14]]=!!(2g[a[15]]&&2g[a[15]][a[16]]);y[a[17]]=6w[a[23]][a[22]][a[21]](2g[a[20]])[a[19]](a[18])>0;y[a[24]]=(/2m4/i[a[25]](y[a[12]])||/2m5\\/7.0/[a[25]](y[a[12]]))&&!y[a[14]];y[a[26]]=/2ma|2m9/[a[25]](y[a[12]]);y[a[27]]=1L 2m8!==a[0];y[a[28]]=y[a[12]][a[19]](a[29])>-1&&!y[a[14]];y[a[30]]=y[a[12]][a[19]](a[31])>-1&&!y[a[26]];y[a[32]]=iU[a[35]][a[34]]()[a[19]](a[33])>=0;y[a[36]]=1c(){if(y[a[12]][a[37]](/2m6/i)||y[a[12]][a[37]](/2m7/i)||y[a[12]][a[37]](/2lX/i)||y[a[12]][a[37]](/2lW/i)||y[a[12]][a[37]](/2lN/i)||(y[a[12]][a[37]](/OL/i)&&iU[a[4]]&&iU[a[4]]>1)||(y[a[12]][a[37]](/2lO/i)&&iU[a[4]]&&iU[a[4]]>1)||y[a[12]][a[37]](/2lM/i)||y[a[12]][a[37]](/2lL 2lJ/i)){1d 1f};1d 1g};y[a[38]]=y[a[36]]();y[a[39]]=y[a[12]][a[37]](/2lK|OL/i);y[a[40]]=y[a[12]][a[37]](/OL|sm-/i);y[a[41]]=!y[a[17]]&&1L 2g[a[42]]!==a[0]?1f:1g;(1c(){1a b=1N[a[10]](a[43]);b[a[44]]=a[45];y[a[46]]=b[a[47]]===a[45]?a[47]:a[48];b=1h})();y[a[49]]=1c(){1d 1f};1a bv;1a bf=(1c(){1a b=1c(){};1d 1c(d,f){b[a[23]]=f[a[23]];d[a[23]]=1j b();d[a[23]][a[50]]=d}})();y[a[51]]=1c(f){1c d(){1a g=1b;1a b=[];1a f=1c(g,h,b){if(g!=a[50]&&b[a[22]]()[a[19]](a[52])>-1){1a d=b[a[22]]()[a[56]](/1c\\s*\\(([^\\)]*)[\\w\\W]*/g,a[55])[a[54]](a[53]);1a f=b[a[22]]()[a[56]](/1c[^{]*{/,a[58])[a[56]](/(\\w|\\.?)(1b\\.\\$yL|1b)/g,1c(b,d,f){if(!d){1d f+a[57]};1d b});f=f[a[60]](0,f[a[59]]-1);b=h[g]=1j 2lP(d[a[61]](a[53]),f)};1d 1c(){1a d=1b[a[62]][g];1a h=1b[a[62]];1a f=(h[g]=b)[a[63]](h,1Y);h[g]=d;1d f}};1U(1L g[a[64]]!=a[0]){g[a[52]]=1j 6w();g[a[52]][a[62]]=1b;1i(1a h in g[a[64]][a[23]]){if(g[a[64]][a[23]][a[65]](h)){if(1L 1b[h]==a[0]&&h!=a[66]){1b[h]=g[a[64]][a[23]][h]};if(h!=a[50]&&h!=a[64]&&1L g[a[64]][a[23]][h]==a[67]){g[a[52]][h]=f(h,g[a[64]],g[a[64]][a[23]][h])}1e{g[a[52]][h]=g[a[64]][a[23]][h]}}};if(1L g[a[52]][a[66]]==a[67]){b[b[a[59]]]=g};g=g[a[52]]};1i(1a d=b[a[59]]-1;d>-1;d--){b[d][a[52]][a[66]][a[63]](b[d][a[52]],1Y)};if(1L 1b[a[66]]==a[67]){1b[a[66]][a[63]](1b,1Y)}}if(1L f[a[68]]!=a[0]){1a b=0;1i(1a g in f){if(f[a[65]](g)){g==a[68]||b++}};1i(g in f[a[68]]){if(f[a[68]][a[65]](g)){d[g]=f[a[68]][g]}};if(!b){1d f[a[68]]};2j f[a[68]]};d[a[23]]=f;d[a[23]][a[50]]=d;d[a[69]]=y[a[51]][a[69]];1d d};y[a[51]][a[69]]=1c(b){if(1L b==a[0]||b===1h||!b[a[69]]){6h 1j 6G(a[70])};1b[a[23]][a[64]]=b;1i(1a d in b){if(b[a[65]](d)){if(d==a[23]){1u};1b[d]=b[d]}};1d 1b};1c bo(){1a b=1g;if(bo[a[71]]===1h){8R{12u(a[25],1h,6w[a[73]]({},a[72],{Ot:1c(){b=1f}}))}8g(e){};bo[a[71]]=b};1d bo[a[71]]}bo[a[71]]=1h;1c r(d,h,f,b){if(/1r/i[a[25]](h)){if(!f[a[74]]){f[a[74]]=r[a[75]]++};1a g=d[a[76]][h];if(!g){g=d[a[76]][h]={}};g[a[77]+f[a[74]]]=d;g[a[78]+f[a[74]]]=b;g[f[a[74]]]=f}1e{if(d[a[79]]){if(d===1N){d[a[79]](h,f,bo()?{EL:1f,y0:1g}:1f)}1e{d[a[79]](h,f,bo()?{EL:1g,y0:1g}:1g)}}1e{if(!f[a[80]]){f[a[80]]=r[a[81]]++};if(!d[a[82]]){d[a[82]]={}};1a g=d[a[82]][h];if(!g){g=d[a[82]][h]={};if(d[a[83]+h]){g[0]=d[a[83]+h]}};g[f[a[80]]]=f;d[a[83]+h]=k}}}r[a[81]]=1;r[a[75]]=1;1c bA(b,f,d){if(!b){1d};if(/1r/i[a[25]](f)){if(bn(b[a[76]])&&1L b[a[76]][f]!=a[0]&&1L d[a[74]]!=a[0]){2j b[a[76]][f][d[a[74]]];2j b[a[76]][f][a[77]+d[a[74]]];2j b[a[76]][f][a[78]+d[a[74]]]}}1e{if(b[a[84]]){if(b===1N){b[a[84]](f,d,bo()?{EL:1f,y0:1g}:1f)}1e{b[a[84]](f,d,bo()?{EL:1g,y0:1g}:1g)}}1e{if(b[a[82]]&&b[a[82]][f]&&d&&1L d[a[80]]!=a[0]){2j b[a[82]][f][d[a[80]]]}}}}1c d(b){1a h=b[a[85]]||b;1a g=1b[a[76]][h];1a f;1i(1a d in g){if(/^[0-9]*$/[a[25]](d)){f=g[d];b[a[77]]=g[a[77]+d];b[a[78]]=g[a[78]+d];f[a[21]](1b,b)}}}1c k(b){1a g=1f;b=b||j(((1b[a[88]]||1b[a[89]]||1b)[a[87]]||2g)[a[86]]);1a d=1b[a[82]][b[a[85]]];1i(1a f in d){1b[a[90]]=d[f];if(1b[a[90]](b)===1g){g=1g}};1d g}1c j(f){f[a[91]]=j[a[91]];f[a[92]]=j[a[92]];if(!f[a[77]]){f[a[77]]=f[a[93]]||1N};if(f[a[77]][a[94]]===3){f[a[77]]=f[a[77]][a[95]]};if(!f[a[96]]&&f[a[97]]){f[a[96]]=f[a[97]]===f[a[77]]?f[a[98]]:f[a[97]]};if(f[a[99]]==1h&&f[a[100]]!=1h){1a g=f[a[77]][a[88]]||1N,d=g[a[101]],b=g[a[102]];f[a[99]]=f[a[100]]+((d&&d[a[103]])||(b&&b[a[103]])||0)-((d&&d[a[104]])||(b&&b[a[104]])||0);f[a[105]]=f[a[106]]+((d&&d[a[107]])||(b&&b[a[107]])||0)-((d&&d[a[108]])||(b&&b[a[108]])||0)};if(f[a[109]]==1h&&(f[a[110]]!=1h||f[a[111]]!=1h)){f[a[109]]=f[a[110]]!=1h?f[a[110]]:f[a[111]]};if(!f[a[112]]&&f[a[113]]){f[a[112]]=f[a[113]]};if(!f[a[109]]&&1L f[a[114]]!==1T){f[a[109]]=f[a[114]]&1?1:f[a[114]]&2?3:f[a[114]]&4?2:0};1d f}j[a[91]]=1c(){1b[a[115]]=1g};j[a[92]]=1c(){1b[a[116]]=1f};1c br(b){1d b!=1h&&b==b[a[117]]}1c bp(b){1d 1L b===a[118]}1c bi(b){if(l(b)){1d 1g};if(5f[a[119]]){1d 5f[a[119]](b)};if(b iK 5f){1d 1f};1d b[a[50]]==a[120]}1c bn(b){1d!m(b)&&1L b===a[121]&&!bi(b)}1c bm(b){b=1o(b);1d!1D(b)&&1L b===a[122]&&b!==hQ&&b!==-hQ}1c i(b){1d 1L b===a[67]}1c bl(a){1d 1D(a)||a===1h||!bm(a)}1c bq(a){1d m(a)||!bm(a)}1c l(b){1d b===1h||1L b===a[0]}1c m(b){1d b===1h||1L b===a[0]||b===a[58]}1c bj(b){1d 1D(1Z[a[123]](b))?1g:1f}1c bL(a){1d 1j 2lQ(1c(b){8A(b,a)})}1c bM(d,b){1a g=2lV[a[124]]();1c f(a){if(a-g>=d){b()}1e{Qe(f)}}Qe(f)}1c w(h,j,f,b){1a g=-1;1a d=1g;1a i={vL:1c(){if(d){1d};if(g<h){g++;if(g%100==0){j(g,i);8A(i[a[125]],16)}1e{j(g,i);i[a[125]]()}}1e{d=1f;f(g)}},2lU:1c(){1d g-1},2lT:1c(){d=1f;b(g)}};i[a[125]]();1d i}y[a[126]]=y[a[51]]({x:2z,y:2z,3b:2z,4X:2z,kG:a[126],1K$pf:1c(){1a b=1b;b[a[76]]={}},gA:1c(){1a b;1i(b in 1b[a[76]]){1b[a[76]][b]=1h};1i(b in 1b){1b[b]=1h}},RH:1c(d,b){if(1D(d)||1D(b)){1d};if(d<0){d=0};if(b<0){b=0};1b[a[127]]=1o(d[a[128]](2));1b[a[129]]=1o(b[a[128]](2))},QU:1c(b,d){if(1D(b)||1D(d)){1d};1b[a[130]]=b;1b[a[131]]=d},iq:1c(){},12r:1c(b){d[a[21]](1b,b)}});1c f(){1a b=1b;b[a[130]]=2z;b[a[131]]=2z;b[a[127]]=2z;b[a[129]]=2z;b[a[76]]={}}f[a[23]][a[50]]=f;1a bv=f[a[23]];bv[a[132]]=1c(){1a b;1i(b in 1b[a[76]]){1b[a[76]][b]=1h};1i(b in 1b){1b[b]=1h}};bv[a[133]]=1c(d,b){if(1D(d)||1D(b)){1d};if(d<0){d=0};if(b<0){b=0};1b[a[127]]=1o(d[a[128]](2));1b[a[129]]=1o(b[a[128]](2))};bv[a[134]]=1c(b,d){if(1D(b)||1D(d)){1d};1b[a[130]]=b;1b[a[131]]=d};bv[a[135]]=1c(){};bv[a[136]]=1c(b){d[a[21]](1b,b)};y[a[137]]=y[a[51]]({kG:a[137],$cr:a[138],p1:1h,oT:1h,12s:1h,12i:1h,12h:1f,11X:a[58],11Y:a[58],11W:yb,11V:2z,11T:1h,1K$pf:1c(){1a b=1b;b[a[139]]=b[a[142]](b[a[140]],b[a[141]]);if(b[a[141]]!==1h){b[a[143]]=b[a[141]]}},gA:1c(d){1a b=1b;if(b[a[139]][a[144]]){b[a[139]][a[144]]=1h};if(b[a[139]][a[82]]){b[a[139]][a[82]]=1h};if(b[a[139]][a[90]]){b[a[139]][a[90]]=1h};if(!d){if(b[a[145]]&&b[a[145]][a[146]]){b[a[145]][a[146]](b)};b[a[139]]=1h};if(1b[a[147]]){1b[a[147]][a[132]](1g);1b[a[147]]=1h};y[a[126]][a[23]][a[132]][a[63]](1b);b=1h},iq:1c(){if(i(1b[a[148]])){1b[a[148]]()}},RH:1c(d,b){if(bl(d)||bl(b)){1d};if(1b[a[127]]==d&&1b[a[129]]==b){1d};if(d<0){d=0};if(b<0){b=0};1b[a[127]]=1o(d[a[128]](2));1b[a[129]]=1o(b[a[128]](2));1b[a[150]]({3b:1b[a[127]]+a[149],4X:1b[a[129]]+a[149]})},11U:1c(b){if(bl(b)){1b[a[127]]=2z;1b[a[150]](a[127],a[58]);1d};1a d=1o(b[a[128]](2));if(1b[a[127]]==d){1d};if(d<0){d=0};1b[a[127]]=d;1b[a[150]](a[127],d+a[149])},11Z:1c(b){if(bl(b)){1b[a[129]]=2z;1b[a[150]](a[129],a[58]);1d};1a d=1o(b[a[128]](2));if(1b[a[129]]==d){1d};if(d<0){d=0};1b[a[129]]=d;1b[a[150]](a[129],d+a[149])},12a:1c(b){if(1D(b)){1d};1b[a[151]]=1b[a[130]];b=1o(b[a[128]](2));if(1b[a[151]]!=b){1b[a[150]](a[152],b+a[149])};1b[a[130]]=b},12f:1c(b){if(1D(b)){1d};1b[a[153]]=1b[a[131]];b=1o(b[a[128]](2));if(1b[a[153]]!=b){1b[a[150]](a[154],b+a[149])};1b[a[131]]=b},QU:1c(b,d){if(1D(b)||1D(d)){1d};1b[a[151]]=1b[a[130]];1b[a[153]]=1b[a[131]];b=1o(b[a[128]](2));d=1o(d[a[128]](2));if(1b[a[151]]!=b){1b[a[150]](a[152],b+a[149])};if(1b[a[153]]!=d){1b[a[150]](a[154],d+a[149])};1b[a[130]]=b;1b[a[131]]=d},12g:1c(b,d){if(1D(b)||1D(d)){1d};if(!y[a[24]]&&y[a[49]]()){1b[a[151]]=1b[a[130]];1b[a[153]]=1b[a[131]];b=1o(b[a[128]](2));d=1o(d[a[128]](2));1b[a[150]](a[155],a[156]+b+a[149]+a[157]+d+a[149]);1b[a[130]]=b;1b[a[131]]=d}1e{1b[a[134]](b,d)}},12e:1c(b){1a f=1b;if(1Y[a[59]]>1){if(1Y[0]==a[158]){if(f[a[159]]==1Y[1]){1d};f[a[159]]=1Y[1]}1e{if(1Y[0]==a[160]){if(f[a[161]]==1Y[1]){1d};f[a[161]]=1Y[1]}};f[a[139]][a[162]](1Y[0],1Y[1])}1e{if(bn(b)){1i(1a d in b){f[a[139]][a[162]](d,b[d])}}}},12d:1c(b){if(b==a[158]){1d 1b[a[159]]}1e{if(b==a[160]){1d 1b[a[161]]}};1d 1b[a[139]][a[163]](b)},12b:1c(b){if(b==a[158]){1b[a[159]]=a[58]}1e{if(b==a[160]){1b[a[161]]=yb}};1b[a[139]][a[164]](b)},Nu:1c(d){1a f=1b;if(1Y[a[59]]>1){if(1Y[0]==a[165]){if(f[a[143]]!=a[58]&&!f[a[143]]&&f[a[143]]==1Y[1]){1d};f[a[143]]=1Y[1];f[a[166]]=1h};f[a[139]][1Y[0]]=1Y[1]}1e{if(bn(d)){1i(1a b in d){f[a[139]][b]=d[b]}}}},12c:1c(b){1a d=1b;if(d[a[143]]!=a[58]&&!d[a[143]]&&d[a[143]]==b){1d};d[a[143]]=b;d[a[139]][a[165]]=b},I4:1c(b){1a d=1b;if(b==a[165]){1d d[a[143]]};1d 1b[a[139]][b]},12x:1c(f){1a d=1b;if(1L 1Y[1]!=a[0]){if(1Y[1]==a[167]){if(d[a[168]]==1Y[1]){1d}};d[a[168]]=1Y[1];1b[a[139]][a[169]][1Y[0]]=1Y[1]}1e{if(1L f[a[170]]!=a[0]){if(y[a[24]]){f[a[171]]=a[172]+f[a[170]]*100+a[173]}};1i(1a b in f){1b[a[139]][a[169]][b]=f[b]}}},12y:1c(b){1a d=1b;if(1b[a[139]][a[169]][a[174]]){1b[a[139]][a[169]][a[174]](b)}1e{1b[a[139]][a[169]][a[164]](b)}},GI:1c(g){1a d,i,f={},b=0;1a h=1b;if(2g[a[175]]){i=2g[a[175]](1b[a[139]],1h)}1e{if(1N[a[101]][a[176]]){i=1b[a[139]][a[176]]}1e{1d a[58]}};if(bi(g)){d=g[a[59]];1i(;b<d;b++){f[g[b]]=i[g[b]]};1d f}1e{1d i[g]}},1K$12T:1c(b){1a j=1b;1a i=j[a[166]];1a k=a[58];1a l=a[177];1a d;1a f;1a g,h;if(i&&i==k&&i==b){1d};if(i===b){1d};if(1L b===a[121]){1b[a[150]](b);j[a[166]]=b;1d};if(i){d=j[a[143]];f=d[a[54]](l);1i(g=0,h=f[a[59]];g<h;g++){if(f[g]==i){f[g]=k;1l}};d=f[a[61]](a[53])[a[56]](/\\,+/g,l);d=1E(d)[a[178]]();f=d[a[54]](l);f[f[a[59]]]=b;d=f[a[61]](a[53])[a[56]](/\\,+/g,l);d=1E(d)[a[178]]();j[a[179]](d)}1e{j[a[180]](b)};j[a[166]]=b},1K$12U:1c(){1a d=1b;1a b=d[a[166]];if(b&&b!=a[58]){d[a[181]](b);d[a[166]]=1h}},1K$HP:1c(b){1a g=1b;if(!b||b==a[58]){1d};if(1b[a[182]](b)){1d};1a d=g[a[143]];if(!d){g[a[179]](b)}1e{1a f=d[a[54]](a[177]);f[f[a[59]]]=b;d=f[a[61]](a[53])[a[56]](/\\,+/g,a[177]);d=1E(d)[a[178]]();g[a[179]](d)}},1K$12S:1c(b){1a g=1b;if(!b||b==a[58]){1d};1a d=g[a[143]];1a f=d[a[54]](a[177]);f[f[a[59]]]=b;d=f[a[61]](a[53])[a[56]](/\\,+/g,a[177]);d=1E(d)[a[178]]();1d d},1K$Hu:1c(b){1a i=1b;if(!b||b==a[58]){1d};1a d=i[a[143]];1a f=d[a[54]](a[177]);if(f[a[19]](b)==-1){1d};1i(1a g=0,h=f[a[59]];g<h;g++){if(f[g]==b){f[g]=a[58];1l}};d=f[a[61]](a[53])[a[56]](/\\,+/g,a[177]);d=1E(d)[a[178]]();i[a[179]](d)},1K$12R:1c(b){1a i=1b;if(!b||b==a[58]){1d};1a d=i[a[143]];1a f=d[a[54]](a[177]);if(f[a[19]](b)==-1){d=f[a[61]](a[53])[a[56]](/\\,+/g,a[177]);d=1E(d)[a[178]]();1d d};1i(1a g=0,h=f[a[59]];g<h;g++){if(f[g]==b){f[g]=a[58];1l}};d=f[a[61]](a[53])[a[56]](/\\,+/g,a[177]);d=1E(d)[a[178]]();1d d},1K$12P:1c(b){1a g=1b;1a d=g[a[143]];if(!l(d)&&d!=a[58]&&d[a[59]]>0){1a f=d[a[54]](a[177]);if(f[a[19]](b)==-1){1d 1g}}1e{1d 1g};1d 1f},1K$12Q:1c(b,d){if(!b||(b[a[145]]&&b[a[145]]===1b)){1d};if(!d){b[a[139]][a[169]][a[183]]=a[184]};b[a[145]]=1b;1b[a[139]][a[185]](b[a[139]])},1K$12V:1c(b,d){if(!d){b[a[139]][a[169]][a[183]]=a[184]};if(b[a[145]]&&b[a[145]]===1b&&1b[a[139]][a[186]]===b[a[139]]){1d};b[a[145]]=1b;1b[a[139]][a[187]](b[a[139]],1b[a[139]][a[186]])},12W:1c(b,f,d){if(!d){b[a[139]][a[169]][a[183]]=a[184]};if(b[a[145]]&&b[a[145]]===1b&&1b[a[139]][a[186]]===b[a[139]]){1d};b[a[145]]=1b;1b[a[139]][a[187]](b[a[139]],f[a[139]])},1K$13b:1c(b){if(b[a[139]]&&b[a[139]][a[95]]&&b[a[139]][a[95]]==1b[a[139]]){1b[a[139]][a[188]](b[a[139]])};b[a[145]]=1h},1K$13a:1c(f,b){1a d=1b;if(d[a[189]]==f){1d};if(f){if(l(b)){d[a[150]](a[190],a[191])}1e{d[a[150]](a[190],b)}}1e{d[a[150]](a[190],a[192])};d[a[189]]=f},1K$12Z:1c(f,b){1a d=1N[a[10]](f);if(!m(b)){d[a[165]]=b};1d d},1K$12X:1c(d){1a b=1b[a[139]];b[a[47]]!=1h?(b[a[47]]=d):(b[a[48]]=d)}})[a[69]](y[a[126]]);1c p(g,b){f[a[63]](1b,1Y);1a d=1b;(d[a[193]]=a[138]),(d[a[141]]=1h);d[a[166]]=1h;d[a[189]]=1f;d[a[143]]=b||a[58];d[a[159]]=a[58];d[a[168]]=2z;d[a[161]]=yb;d[a[147]]=1h;d[a[139]]=d[a[142]](g,b)}bf(p,f);bv=p[a[23]];bv[a[132]]=1c(d){1a b=1b;if(b[a[139]][a[144]]){b[a[139]][a[144]]=1h};if(b[a[139]][a[82]]){b[a[139]][a[82]]=1h};if(b[a[139]][a[90]]){b[a[139]][a[90]]=1h};if(!d){if(b[a[145]]&&b[a[145]][a[146]]){b[a[145]][a[146]](b)};b[a[139]]=1h};if(1b[a[147]]){1b[a[147]][a[132]](1g);1b[a[147]]=1h};f[a[23]][a[132]][a[63]](1b);b=1h};bv[a[135]]=1c(){if(i(1b[a[148]])){1b[a[148]]()}};bv[a[133]]=1c(d,b){if(bl(d)||bl(b)){1d};if(1b[a[127]]==d&&1b[a[129]]==b){1d};if(d<0){d=0};if(b<0){b=0};1b[a[127]]=1o(d[a[128]](2));1b[a[129]]=1o(b[a[128]](2));1b[a[150]]({3b:1b[a[127]]+a[149],4X:1b[a[129]]+a[149]})};bv[a[194]]=1c(b){if(bl(b)){1b[a[127]]=2z;1b[a[150]](a[127],a[58]);1d};1a d=1o(b[a[128]](2));if(1b[a[127]]==d){1d};if(d<0){d=0};1b[a[127]]=d;1b[a[150]](a[127],d+a[149])};bv[a[195]]=1c(b){if(bl(b)){1b[a[129]]=2z;1b[a[150]](a[129],a[58]);1d};1a d=1o(b[a[128]](2));if(1b[a[129]]==d){1d};if(d<0){d=0};1b[a[129]]=d;1b[a[150]](a[129],d+a[149])};bv[a[196]]=1c(b){if(1D(b)){1d};1b[a[151]]=1b[a[130]];b=1o(b[a[128]](2));if(1b[a[151]]!=b){1b[a[150]](a[152],b+a[149])};1b[a[130]]=b};bv[a[197]]=1c(b){if(1D(b)){1d};1b[a[153]]=1b[a[131]];b=1o(b[a[128]](2));if(1b[a[153]]!=b){1b[a[150]](a[154],b+a[149])};1b[a[131]]=b};bv[a[134]]=1c(b,d){if(1D(b)||1D(d)){1d};1b[a[151]]=1b[a[130]];1b[a[153]]=1b[a[131]];b=1o(b[a[128]](2));d=1o(d[a[128]](2));if(1b[a[151]]!=b){1b[a[150]](a[152],b+a[149])};if(1b[a[153]]!=d){1b[a[150]](a[154],d+a[149])};1b[a[130]]=b;1b[a[131]]=d};bv[a[198]]=1c(b,d){if(1D(b)||1D(d)){1d};if(!y[a[24]]&&y[a[49]]()){1b[a[151]]=1b[a[130]];1b[a[153]]=1b[a[131]];b=1o(b[a[128]](2));d=1o(d[a[128]](2));1b[a[150]](a[155],a[156]+b+a[149]+a[157]+d+a[149]);1b[a[130]]=b;1b[a[131]]=d}1e{1b[a[134]](b,d)}};bv[a[199]]=1c(b){1a f=1b;if(1Y[a[59]]>1){if(1Y[0]==a[158]){if(f[a[159]]==1Y[1]){1d};f[a[159]]=1Y[1]}1e{if(1Y[0]==a[160]){if(f[a[161]]==1Y[1]){1d};f[a[161]]=1Y[1]}};f[a[139]][a[162]](1Y[0],1Y[1])}1e{if(bn(b)){1i(1a d in b){f[a[139]][a[162]](d,b[d])}}}};bv[a[200]]=1c(b){if(b==a[158]){1d 1b[a[159]]}1e{if(b==a[160]){1d 1b[a[161]]}};1d 1b[a[139]][a[163]](b)};bv[a[201]]=1c(b){if(b==a[158]){1b[a[159]]=a[58]}1e{if(b==a[160]){1b[a[161]]=yb}};1b[a[139]][a[164]](b)};bv[a[202]]=1c(d){1a f=1b;if(1Y[a[59]]>1){if(1Y[0]==a[165]){if(f[a[143]]!=a[58]&&!f[a[143]]&&f[a[143]]==1Y[1]){1d};f[a[143]]=1Y[1];f[a[166]]=1h};f[a[139]][1Y[0]]=1Y[1]}1e{if(bn(d)){1i(1a b in d){f[a[139]][b]=d[b]}}}};bv[a[179]]=1c(b){1a d=1b;if(d[a[143]]!=a[58]&&!d[a[143]]&&d[a[143]]==b){1d};d[a[143]]=b;d[a[139]][a[165]]=b};bv[a[203]]=1c(b){1a d=1b;if(b==a[165]){1d d[a[143]]};1d 1b[a[139]][b]};bv[a[150]]=1c(f){1a d=1b;if(1L 1Y[1]!=a[0]){if(1Y[1]==a[167]){if(d[a[168]]==1Y[1]){1d}};d[a[168]]=1Y[1];1b[a[139]][a[169]][1Y[0]]=1Y[1]}1e{if(1L f[a[170]]!=a[0]){if(y[a[24]]){f[a[171]]=a[172]+f[a[170]]*100+a[173]}};1i(1a b in f){1b[a[139]][a[169]][b]=f[b]}}};bv[a[204]]=1c(b){if(1b[a[139]][a[169]][a[174]]){1b[a[139]][a[169]][a[174]](b)}1e{1b[a[139]][a[169]][a[164]](b)}};bv[a[205]]=1c(g){1a h,d,f={},b=0;if(2g[a[175]]){h=2g[a[175]](1b[a[139]],1h)}1e{if(1N[a[101]][a[176]]){h=1b[a[139]][a[176]]}1e{1d a[58]}};if(bi(g)){d=g[a[59]];1i(;b<d;b++){f[g[b]]=h[g[b]]};1d f}1e{1d h[g]}};bv[a[206]]=1c(b){1a j=1b;1a i=j[a[166]];1a k=a[58];1a l=a[177];1a d;1a f;1a g,h;if(i&&i==k&&i==b){1d};if(i===b){1d};if(1L b===a[121]){1b[a[150]](b);j[a[166]]=b;1d};if(i){d=j[a[143]];f=d[a[54]](l);1i(g=0,h=f[a[59]];g<h;g++){if(f[g]==i){f[g]=k;1l}};d=f[a[61]](a[53])[a[56]](/\\,+/g,l);d=1E(d)[a[178]]();f=d[a[54]](l);f[f[a[59]]]=b;d=f[a[61]](a[53])[a[56]](/\\,+/g,l);d=1E(d)[a[178]]();j[a[179]](d)}1e{j[a[180]](b)};j[a[166]]=b};bv[a[207]]=1c(){1a d=1b;1a b=d[a[166]];if(b&&b!=a[58]){d[a[181]](b);d[a[166]]=1h}};bv[a[180]]=1c(b){1a g=1b;if(!b||b==a[58]){1d};if(1b[a[182]](b)){1d};1a d=g[a[143]];if(!d){g[a[179]](b)}1e{1a f=d[a[54]](a[177]);f[f[a[59]]]=b;d=f[a[61]](a[53])[a[56]](/\\,+/g,a[177]);d=1E(d)[a[178]]();g[a[179]](d)}};bv[a[208]]=1c(b){1a g=1b;if(!b||b==a[58]){1d};1a d=g[a[143]];1a f=d[a[54]](a[177]);f[f[a[59]]]=b;d=f[a[61]](a[53])[a[56]](/\\,+/g,a[177]);d=1E(d)[a[178]]();1d d};bv[a[181]]=1c(b){1a i=1b;if(!b||b==a[58]){1d};1a d=i[a[143]];1a f=d[a[54]](a[177]);if(f[a[19]](b)==-1){1d};1i(1a g=0,h=f[a[59]];g<h;g++){if(f[g]==b){f[g]=a[58];1l}};d=f[a[61]](a[53])[a[56]](/\\,+/g,a[177]);d=1E(d)[a[178]]();i[a[179]](d)};bv[a[209]]=1c(b){1a i=1b;if(!b||b==a[58]){1d};1a d=i[a[143]];1a f=d[a[54]](a[177]);if(f[a[19]](b)==-1){d=f[a[61]](a[53])[a[56]](/\\,+/g,a[177]);d=1E(d)[a[178]]();1d d};1i(1a g=0,h=f[a[59]];g<h;g++){if(f[g]==b){f[g]=a[58];1l}};d=f[a[61]](a[53])[a[56]](/\\,+/g,a[177]);d=1E(d)[a[178]]();1d d};bv[a[182]]=1c(b){1a g=1b;1a d=g[a[143]];if(!l(d)&&d!=a[58]&&d[a[59]]>0){1a f=d[a[54]](a[177]);if(f[a[19]](b)==-1){1d 1g}}1e{1d 1g};1d 1f};bv[a[210]]=1c(b,d){if(!b||(b[a[145]]&&b[a[145]]===1b)){1d};if(!d){b[a[139]][a[169]][a[183]]=a[184]};b[a[145]]=1b;1b[a[139]][a[185]](b[a[139]])};bv[a[211]]=1c(b,d){if(!d){b[a[139]][a[169]][a[183]]=a[184]};if(b[a[145]]&&b[a[145]]===1b&&1b[a[139]][a[186]]===b[a[139]]){1d};b[a[145]]=1b;1b[a[139]][a[187]](b[a[139]],1b[a[139]][a[186]])};bv[a[212]]=1c(b,f,d){if(!d){b[a[139]][a[169]][a[183]]=a[184]};if(b[a[145]]&&b[a[145]]===1b&&1b[a[139]][a[186]]===b[a[139]]){1d};b[a[145]]=1b;1b[a[139]][a[187]](b[a[139]],f[a[139]])};bv[a[146]]=1c(b){if(b[a[139]]&&b[a[139]][a[95]]&&b[a[139]][a[95]]==1b[a[139]]){1b[a[139]][a[188]](b[a[139]])};b[a[145]]=1h};bv[a[213]]=1c(f,b){1a d=1b;if(d[a[189]]==f){1d};if(f){if(l(b)){d[a[150]](a[190],a[191])}1e{d[a[150]](a[190],b)}}1e{d[a[150]](a[190],a[192])};d[a[189]]=f};bv[a[142]]=1c(f,b){1a d=1N[a[10]](f);if(!m(b)){d[a[165]]=b};1d d};bv[a[214]]=1c(d){1a b=1b[a[139]];b[a[47]]!=1h?(b[a[47]]=d):(b[a[48]]=d)};1a M=(1c(){1a g=/d{1,4}|m{1,4}|yy(?:yy)?|([2lR])\\1?|[2lS]|"[^"]*"|\'[^\']*\'/g,d=/\\b(?:[2na][2nb]T|(?:2ov|2ow|2ou|2ot|2or) (?:2os|2ox|2oy) 2oD|(?:2oC|Ff)(?:[-+]\\d{4})?)\\b/g,f=/[^-+\\dA-Z]/g,b=1c(d,b){d=1E(d);b=b||2;1U(d[a[59]]<b){d=a[215]+d};1d d};1d 1c(k,s,w){1a m=M;1a l;if(1Y[a[59]]==1&&6w[a[23]][a[22]][a[21]](k)==a[216]&&!/\\d/[a[25]](k)){s=k;k=1T};1a u=k;if(1L k==a[118]&&k[a[59]]>2){if(k[a[19]](a[217])>0){k=k[a[56]](/-/g,a[218])}1e{if(k[a[19]](a[218])==-1&&!1D(1o(k))){if(k[a[59]]>8){k=1o(k)}1e{if(k[a[59]]==8){k=k[a[60]](0,4)+a[218]+k[a[60]](4,2)+a[218]+k[a[60]](6,2)}1e{if(k[a[59]]==6){k=k[a[60]](0,4)+a[218]+k[a[60]](4,2)+a[219]}1e{if(k[a[59]]>8){k=k[a[60]](0,4)+a[218]+k[a[60]](4,2)+a[218]+k[a[60]](6,2)+k[a[60]](8)}}}}}1e{l=k[a[54]](a[177]);if(l[a[59]]==2&&l[0][a[59]]==8&&l[0][a[19]](a[218])==-1&&!1D(1o(l[0]))){k=l[0][a[60]](0,4)+a[218]+l[0][a[60]](4,2)+a[218]+l[0][a[60]](6,2);k+=a[177]+l[1]}}}};k=k?1j 1Z(k):1j 1Z();if(1D(k)){1d u};s=1E(m[a[220]][s]||s||m[a[220]][a[221]]);if(s[a[222]](0,4)==a[223]){s=s[a[222]](4);w=1f};1a h=w?a[224]:a[225],i=k[h+a[226]](),j=k[h+a[227]](),q=k[h+a[228]](),x=k[h+a[229]](),o=k[h+a[230]](),r=k[h+a[231]](),v=k[h+a[232]](),p=k[h+a[233]](),t=w?0:k[a[234]](),n={d:i,dd:b(i),Ik:m[a[236]][a[235]][j],12z:m[a[236]][a[235]][j+7],m:q+1,mm:b(q+1),L4:m[a[236]][a[237]][q],L8:m[a[236]][a[237]][q+12],yy:1E(x)[a[222]](2),d5:x,h:o%12||12,hh:b(o%12||12),H:o,HH:b(o),M:r,MM:b(r),s:v,ss:b(v),l:b(p,3),L:b(p>99?1k[a[238]](p/10):p),t:o<12?m[a[236]][a[239]][0]:m[a[236]][a[239]][1],tt:o<12?m[a[236]][a[239]][2]:m[a[236]][a[239]][3],T:o<12?m[a[236]][a[239]][4]:m[a[236]][a[239]][5],TT:o<12?m[a[236]][a[239]][6]:m[a[236]][a[239]][7],Z:w?a[240]:(1E(k)[a[37]](d)||[a[58]])[a[241]]()[a[56]](f,a[58]),o:(t>0?a[217]:a[242])+b(1k[a[244]](1k[a[243]](t)/60)*100+(1k[a[243]](t)%60),4),S:[a[245],a[246],a[247],a[248]][i%10>3?0:(((i%100)-(i%10)!=10)*i)%10]};1d s[a[56]](g,1c($0){1d $0 in n?n[$0]:$0[a[222]](1,$0[a[59]]-1)})}})();M[a[220]]={\'4w\':a[249],2oB:a[250],2oz:a[251],2oA:a[252],2oq:a[253],2op:a[254],2of:a[255],2og:a[256],2oe:a[257],2od:a[258],2ob:a[259],2oc:a[260]};M[a[236]]={12G:[a[261],a[262],a[263],a[264],a[265],a[266],a[267],a[268],a[269],a[270],a[271],a[272],a[273],a[274]],12L:[a[275],a[276],a[277],a[278],a[279],a[280],a[281],a[282],a[283],a[284],a[285],a[286],a[287],a[288],a[289],a[290],a[279],a[291],a[292],a[293],a[294],a[295],a[296],a[297]],12M:[a[298],a[299],a[aH],a[2oh],a[JM],a[2oi],a[2on],a[2oo]]};1a N=(1c(){1a p=/(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|mo|mm?m?m?|do|2om|dd?d?d?|Ik?d?|do?|w[o|w]?|W[o|W]?|Qo?|d5|yy|gg(2ol?)?|GG(2oj?)?|e|E|a|A|hh?|HH?|kk?|MM?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;1a J=0;1a B=1;1a n=2;1a t=3;1a A=4;1a E=5;1a z=6;1a H=7;1a I=8;1a w=/\\d\\d/;1a x=/\\d{4}/;1a u=/\\d\\d?/;1a v=/\\d{1,4}/;1a y=/[+-]?\\d+/;1a F={};1a C={};1c d(d,a,b){C[d]=i(a)?a:1c(d,f){1d b?b:a}}1c b(g,b){1a f,d=b;if(1L g===a[118]){g=[g]};if(1L b==a[122]){d=1c(d,a){a[b]=1o(d)}};1i(f=0;f<g[a[59]];f++){F[g[f]]=d}}d(a[131],y);d(a[2ok],u,w);d(a[12H],v,x);d(a[12I],u);d(a[11S],u,w);d(a[ik],u);d(a[11R],u,w);d(a[11c],u,w);d(a[11d],u,w);d(a[11b],u,w);b(a[12H],1c(b,a){a[J]=1o(b)});b([a[12I],a[11S]],1c(b,a){a[B]=1o(b)-1});b([a[ik],a[11R]],n);b(a[11c],1c(b,a){a[t]=1o(b)});b(a[11d],1c(b,a){a[A]=1o(b)});b(a[11b],1c(b,a){a[E]=1o(b)});1c h(b){b[a[8j]]=[];1a j=a[58]+b[a[Fj]],d,h,m,k,i,n=0;if(l(b[a[Fc]])){b[a[Fc]]=a[58]};m=b[a[Fc]][a[37]](p)||[];1i(d=0;d<m[a[59]];d++){k=m[d];h=(j[a[37]](q(k,b))||[])[0];if(h){i=j[a[60]](0,j[a[19]](h));if(i[a[59]]>0){r(b)[a[2oE]][a[1s]](i)};j=j[a[222]](j[a[19]](h)+h[a[59]]);n+=h[a[59]]};f(k,h,b)};if(b[a[8j]][a[59]]==0){1d b[a[Fj]]};g(b);1d b[a[v5]]}1c q(d,b){if(!s(C,d)){1d 1j 5s(G(d))};1d C[d](b[a[2oF]],b[a[2oZ]])}1c f(f,d,b){if(d!=1h&&s(F,f)){F[f](d,b[a[8j]],b,f)}}1c G(b){1d D(b[a[56]](a[iB],a[58])[a[56]](/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,1c(a,b,d,f,g){1d b||d||f||g}))}1c o(){1d{2p0:1g,2oY:[],11a:[],aC:-2,2oX:0,2oV:1g,2oW:1h,2p1:1g,2p2:1g,2p7:1g,2p6:[],2p5:1h,2p3:1g,2p4:1g}}1c D(b){1d b[a[56]](/[-\\/\\\\^$*+?.()|[\\]{}]/g,a[pD])}1c r(b){if(b[a[GL]]==1h){b[a[GL]]=o()};1d b[a[GL]]}1c s(b,d){1d 6w[a[23]][a[65]][a[21]](b,d)}1c m(b){1a d=1j 1Z();if(b[a[Gi]]){1d[d[a[10Z]](),d[a[2oU]](),d[a[2oT]]()]};1d[d[a[4Z]](),d[a[7p]](),d[a[9C]]()]}1c g(b){1a f,g=[],d,h,i;if(b[a[v5]]){1d};d=m(b);1i(f=0;f<3&&b[a[8j]][f]==1h;++f){b[a[8j]][f]=g[f]=d[f]};if((h=1E(b[a[Fj]])[a[54]](a[177]))[a[59]]==2){i=h[1][a[54]](a[5h]);if(b[a[8j]][t]===1T){b[a[8j]][t]=i[0]!==1T?1o(i[0]):0};if(b[a[8j]][A]===1T){b[a[8j]][A]=i[1]!==1T?1o(i[1]):0};if(b[a[8j]][E]===1T){b[a[8j]][E]=i[2]!==1T?1o(i[2]):0};if(b[a[8j]][z]===1T){b[a[8j]][z]=i[3]!==1T?1o(i[3]):0}};1i(;f<7;f++){b[a[8j]][f]=g[f]=b[a[8j]][f]==1h?(f===2?1:0):b[a[8j]][f]};if(b[a[8j]][t]===24&&b[a[8j]][A]===0&&b[a[8j]][E]===0&&b[a[8j]][z]===0){b[a[2oK]]=1f;b[a[8j]][t]=0};b[a[v5]]=(b[a[Gi]]?k:j)[a[63]](1h,g)}1c j(k,g,b,f,h,j,i){1a d;if(k<100&&k>=0){d=1j 1Z(k+ch,g,b,f,h,j,i);if(10Y(d[a[4Z]]())){d[a[oQ]](k)}}1e{d=1j 1Z(k,g,b,f,h,j,i)};1d d}1c k(f){1a d;if(f<100&&f>=0){1a b=5f[a[23]][a[222]][a[21]](1Y);b[0]=f+ch;d=1j 1Z(1Z[a[240]][a[63]](1h,b));if(10Y(d[a[10Z]]())){d[a[2oL]](f)}}1e{d=1j 1Z(1Z[a[240]][a[63]](1h,1Y))};1d d}1d 1c(f,d,g){1a b={};b[a[Gi]]=g;b[a[Fj]]=f;b[a[Fc]]=d;if(d==a[xu]){1d 1o(f)};1d h(b)}})();1a V={O5:a[53],11f:a[b4],Ih:[110,190],11k:1c(b){1a d=/(^[+-]?\\d+)(\\d{3})/;b+=a[58];1U(d[a[25]](b)){b=b[a[56]](d,a[55]+1b[a[o7]]+a[11h])};b=b[a[56]](a[b4],1b[a[ae]]);1d b},11l:1c(b){1d 1o(1b[a[fV]](b))},11j:1c(d){d=d+a[58];1a b=1j 5s(a[iB]+1b[a[o7]],a[cN]);d=d[a[56]](b,a[58]);if(1b[a[ae]]!=a[b4]){b=1j 5s(a[iB]+1b[a[ae]],a[cN]);d=d[a[56]](b,a[b4])};1d d},11i:1c(f,b){if(b===1T){b=0};1a d=1k[a[L1]](10,b);f=2oJ((f*d)[a[128]](11));1d 1k[a[238]](f)/d},11g:1c(z,l,t){1a j;1a w=1b[a[o7]];1a f=1b[a[ae]];if(!l||1D(+z)){1d z};if(l==a[Mm]){if(z===0){1d a[215]};j=z<0?(z=-z):0;if(t==a[244]){z=1k[a[244]](z)}1e{if(t==a[7y]){z=1k[a[7y]](z)}1e{z=1k[a[238]](z)}};1a r=/(^[+-]?\\d+)(\\d{3})/;z+=a[58];1U(r[a[25]](z)){z=z[a[56]](r,a[55]+w+a[11h])};1d(j&&z!=0?a[217]:a[58])+z}1e{if(l==a[2oI]){if(z===0){1d a[58]};z=V[a[da]](z,a[Mm],t);if(z==a[215]){1d a[58]};1d z}};z=l[a[4J]](0)==a[217]?-z:+z;j=z<0?(z=-z):0;1a s,d,g;s=l[a[37]](/[^\\d\\-\\+#]/g);if(s){d=(s&&s[s[a[59]]-1])||a[53];g=(s&&s[1]&&s[0])||a[b4];if(g==a[53]&&d==a[b4]){l=l[a[56]](/[^\\d\\-\\+#]/g,1c(g,b,d){1d g==a[53]?w:g==a[b4]?f:g})}};if(l==a[2oG]||l==a[2oH]||l==a[2oM]||l==a[2oN]){s=l[a[37]](/[^\\d\\-\\+#]/g);g=(s&&s[0])||a[b4];d=1h;l=[l]}1e{s=l[a[37]](/[^\\d\\-\\+#]/g);d=(s&&s[s[a[59]]-1])||f;g=(s&&s[1]&&s[0])||w;l=l[a[54]](d)};1a b;1a x,y;if(t==a[244]){b=1k[a[L1]](10,l[1]&&l[1][a[59]]);if(1D(b)){b=1};y=1E(z)[a[54]](d);x=(y[0]&&1 in y&&y[1][a[59]])<=(l[1]&&l[1][a[59]])?z:1k[a[244]](z*b)/b;z=x[a[128]](l[1]&&l[1][a[59]])}1e{if(t==a[7y]){b=1k[a[L1]](10,l[1]&&l[1][a[59]]);if(1D(b)){b=1};y=1E(z)[a[54]](d);x=(y[0]&&1 in y&&y[1][a[59]])<=(l[1]&&l[1][a[59]])?z:1k[a[7y]](z*b)/b;z=x[a[128]](l[1]&&l[1][a[59]])}1e{z=1b[a[2oS]](z,l[1]&&l[1][a[59]])}};z=+z+a[58];1a q=l[1]&&l[1][a[MX]](a[215]);1a n=z[a[54]](a[b4]);if(!n[1]||(n[1]&&n[1][a[59]]<=q)){z=(+z)[a[128]](q+1)};1a v=l[0][a[54]](g);l[0]=v[a[61]](a[58]);1a o=l[0]&&l[0][a[19]](a[215]);if(o>-1){1U(n[0][a[59]]<l[0][a[59]]-o){n[0]=a[215]+n[0]}}1e{if(+n[0]==0){n[0]=a[58]}};z=z[a[54]](a[b4]);z[0]=n[0];1a p=v[1]&&v[v[a[59]]-1][a[59]];if(p){1a i=z[0];1a u=a[58];1a m=i[a[59]]%p;1i(1a h=0,k=i[a[59]];h<k;h++){u+=i[a[4J]](h);if(!((h-m+1)%p)&&h<k-p){u+=g}};z[0]=u};z[1]=l[1]&&z[1]?d+z[1]:a[58];1d(j&&(z[0]||z[1])?a[217]:a[58])+z[0]+z[1]},10N:1c(a,b,d){1d M(a,b,d)},10L:1c(a,b,d){1d N(a,b,d)}};1c O(b){p[a[21]](1b,a[43],b)}bf(O,p);1c bN(b){p[a[21]](1b,a[3M],b)}bf(bN,p);1c h(b){p[a[21]](1b,a[43],b);1a d=1b;d[a[db]]=1h;d[a[3G]]=1h;d[a[8N]]=1h;d[a[8S]]=1h;d[a[he]]=1g;d[a[a1]]=a[hO];d[a[LG]]=30;d[a[kF]]=2z;d[a[9E]]=1f;d[a[kf]]=0;d[a[2K]]=0;d[a[3q]]=1;d[a[uL]]=1g;d[a[66]]()}bf(h,p);bv=h[a[23]];bv[a[66]]=1c(){1a b=1b;b[a[150]](a[183],a[184]);b[a[cJ]]();b[a[10I]]()};bv[a[132]]=1c(d){1a b=1b;b[a[10J]]();b[a[db]][a[132]](d);b[a[3G]][a[132]](d);b[a[8N]][a[132]](d);b[a[8S]][a[132]](d);p[a[23]][a[132]][a[21]](1b,d)};bv[a[cJ]]=1c(){1a b=1b;if(!b[a[he]]){b[a[he]]=1f;b[a[db]]=1j O(a[2oR]);b[a[210]](b[a[db]]);b[a[3G]]=1j O(a[2oQ]);b[a[210]](b[a[3G]]);b[a[8N]]=1j O(a[1aM]);b[a[210]](b[a[8N]]);b[a[8S]]=1j O(a[2oO]);b[a[210]](b[a[8S]])}};bv[a[148]]=1c(){1a g=1b;1a h;1a i=g[a[eE]];1a k=g[a[127]];1a j=g[a[129]];1a b=g[a[kf]];1a f;1a l=0;1a m=0;1a d=g[a[5O]]-g[a[7k]];if(g[a[a1]]==a[hO]){if(1D(g[a[kF]])){if(g[a[9E]]){h=g[a[129]]-1}1e{h=g[a[129]]}}1e{h=g[a[kF]]};f=g[a[127]]-b*2-g[a[eE]];l=d==0||1D(d)?0:(g[a[2K]]-g[a[7k]])*(f/d)+b;if(g[a[3G]]){m=g[a[3G]][a[131]]}}1e{if(1D(g[a[kF]])){if(g[a[9E]]){h=g[a[127]]-1}1e{h=g[a[127]]}}1e{h=g[a[kF]]};f=g[a[129]]-b*2-g[a[eE]];m=d==0||1D(d)?0:(g[a[2K]]-g[a[7k]])*(f/d)+b;if(g[a[3G]]){l=g[a[3G]][a[130]]}};if(g[a[a1]]==a[hO]){if(g[a[db]]){g[a[db]][a[134]](0,0);g[a[db]][a[133]](k,j)};if(g[a[3G]]){if(d==0||1D(d)){g[a[3G]][a[150]](a[190],a[192])}1e{g[a[3G]][a[150]](a[190],a[191])};l=1k[a[1F]](l,b);if(g[a[uL]]){g[a[3G]][a[134]](l,-h);g[a[3G]][a[206]](a[10K])}1e{g[a[3G]][a[134]](l,(j-h)*0.5);g[a[3G]][a[207]]()};if(l+i>k-b){i-=l+i-(k-b)};g[a[3G]][a[133]](i,h)};if(g[a[8N]]){if(g[a[9E]]){g[a[8N]][a[150]](a[190],a[191]);g[a[8N]][a[134]](0,0);g[a[8N]][a[133]](b,b)}1e{g[a[8N]][a[150]](a[190],a[192])}};if(g[a[8S]]){if(g[a[9E]]){g[a[8S]][a[150]](a[190],a[191]);g[a[8S]][a[134]](k-b,0);g[a[8S]][a[133]](b,b)}1e{g[a[8S]][a[150]](a[190],a[192])}}}1e{if(g[a[db]]){g[a[db]][a[134]](0,0);g[a[db]][a[133]](k,j)};if(g[a[3G]]){if(d==0||1D(d)){g[a[3G]][a[150]](a[190],a[192])}1e{g[a[3G]][a[150]](a[190],a[191])};if(g[a[uL]]){g[a[3G]][a[134]](-h,m);g[a[3G]][a[206]](a[10K])}1e{g[a[3G]][a[134]]((k-h)*0.5,m);g[a[3G]][a[207]]()};g[a[3G]][a[133]](h,i)};if(g[a[8N]]){if(g[a[9E]]){g[a[8N]][a[150]](a[190],a[191]);g[a[8N]][a[134]](0,0);g[a[8N]][a[133]](b,b)}1e{g[a[8N]][a[150]](a[190],a[192])}};if(g[a[8S]]){if(g[a[9E]]){g[a[8S]][a[150]](a[190],a[191]);g[a[8S]][a[134]](0,j-b);g[a[8S]][a[133]](b,b)}1e{g[a[8S]][a[150]](a[190],a[192])}}}};bv[a[iV]]=1c(h,g,f,d,j,b){1a i=1b;i[a[10P]]=j>0?j:g;i[a[Dc]]=b;i[a[7k]]=1k[a[1F]](f,0);i[a[5O]]=1k[a[1F]](d,0);i[a[2K]]=h;i[a[2K]]=1k[a[1F]](i[a[7k]],i[a[2K]]);i[a[2K]]=1k[a[1A]](i[a[5O]],i[a[2K]]);if(i[a[a1]]==a[hO]){if(i[a[9E]]){i[a[kf]]=i[a[129]]};i[a[eE]]=1k[a[1F]](1k[a[244]]((g/(i[a[5O]]-i[a[7k]]+g))*i[a[127]]),i[a[LG]])}1e{if(i[a[9E]]){i[a[kf]]=i[a[127]]};i[a[eE]]=1k[a[1F]](1k[a[244]]((g/(i[a[5O]]-i[a[7k]]+g))*i[a[129]]),i[a[LG]]);if(i[a[9E]]){i[a[eE]]=1k[a[1A]](i[a[eE]],i[a[129]]-i[a[kf]]*2-4)}1e{i[a[eE]]=1k[a[1A]](i[a[eE]],i[a[129]]-4)}}};bv[a[2r]]=1c(j,f){1a i=1b;1a d=i[a[5O]]-i[a[7k]];1a b=i[a[kf]];1a h=i[a[2K]];1a g;1a k;1a l;f=!!f;j=1k[a[1A]](j,i[a[5O]]);j=1k[a[1F]](j,i[a[7k]]);i[a[2K]]=j;if(!f&&h==j){1d};if(i[a[a1]]==a[hO]){g=i[a[127]]-b*2-i[a[eE]];k=d==0||1D(d)?0:(j-i[a[7k]])*(g/d)+b;k=1k[a[1F]](k,b);l=i[a[3G]][a[131]]}1e{g=i[a[129]]-b*2-i[a[eE]];l=d==0||1D(d)?0:(j-i[a[7k]])*(g/d)+b;k=i[a[3G]][a[130]]};i[a[3G]][a[134]](k,l);i[a[10O]](h)};bv[a[10I]]=1c(){1a b=1b;if(b[a[Jf]]){1d};b[a[Jf]]=1f;b[a[3G]][a[139]][a[fe]]=1b;b[a[db]][a[139]][a[fe]]=1b;b[a[8N]][a[139]][a[fe]]=1b;b[a[8S]][a[139]][a[fe]]=1b;r(b[a[3G]][a[139]],a[2i],b[a[uB]]);if(y[a[2]]){r(b[a[3G]][a[139]],a[2X],b[a[uB]])};r(b[a[db]][a[139]],a[2h],b[a[JT]]);if(b[a[9E]]){r(b[a[8N]][a[139]],a[2i],b[a[v6]]);r(b[a[8S]][a[139]],a[2i],b[a[y1]]);if(y[a[2]]){r(b[a[8N]][a[139]],a[2X],b[a[v6]]);r(b[a[8S]][a[139]],a[2X],b[a[y1]])}}};bv[a[10J]]=1c(){1a b=1b;b[a[3G]][a[139]][a[fe]]=1h;b[a[db]][a[139]][a[fe]]=1h;b[a[8N]][a[139]][a[fe]]=1h;b[a[8S]][a[139]][a[fe]]=1h;b[a[Jf]]=1g;bA(b[a[3G]][a[139]],a[2i],b[a[uB]]);if(y[a[2]]){bA(b[a[3G]][a[139]],a[2X],b[a[uB]])};bA(b[a[db]][a[139]],a[2h],b[a[JT]]);if(b[a[9E]]){bA(b[a[8N]][a[139]],a[2i],b[a[v6]]);bA(b[a[8S]][a[139]],a[2i],b[a[y1]]);if(y[a[2]]){bA(b[a[8N]][a[139]],a[2X],b[a[v6]]);bA(b[a[8S]][a[139]],a[2X],b[a[y1]])}}};bv[a[10O]]=1c(d){1a f=1b;1a b={};b[a[85]]=a[iD];b[a[183]]=1b[a[2K]];b[a[2oP]]=1b[a[2K]]-d;b[a[a1]]=1b[a[a1]];f[a[136]](b)};bv[a[uB]]=1c(f){1a g=1b[a[fe]];1a h=g[a[3G]];1a b=g[a[5O]];1a d=g[a[7k]];1a m=g[a[kf]]+2;1a k=0;1a n=g[a[3q]];if(g[a[a1]]==a[hO]){k=g[a[127]]-g[a[kf]]-g[a[eE]]-2}1e{k=g[a[129]]-g[a[kf]]-g[a[eE]]-2};if(f[a[85]]==a[2i]){h[a[ch]]=1f;h[a[cH]]={x:f[a[99]]-cd[a[99]](h[a[139]],n),y:f[a[105]]-cd[a[105]](h[a[139]],n)};f[a[91]]();f[a[92]]();r(1N,a[6q],i);r(1N,a[4i],i);8R{if(W[a[154]]&&W[a[154]]!==W){r(W[a[154]],a[6q],i);r(W[a[154]],a[4i],i)}}8g(e){}}1e{if(f[a[85]]==a[2X]){1a j=f[a[3P]][0];h[a[ch]]=1f;h[a[cH]]={x:j[a[99]]-cd[a[99]](h[a[139]],n),y:j[a[105]]-cd[a[105]](h[a[139]],n)};f[a[91]]();f[a[92]]();r(1N,a[4T],i);r(1N,a[4V],i)}};1c i(f){1a j,o,p;if(f[a[85]]==a[4i]){bA(1N,a[6q],i);bA(1N,a[4i],i);8R{if(W[a[154]]&&W[a[154]]!==W){bA(W[a[154]],a[6q],i);bA(W[a[154]],a[4i],i)}}8g(e){};if(l(h)||l(h[a[cH]])){1d};h[a[ch]]=1g;j=f[a[99]]-cd[a[99]](h[a[139]],n);o=f[a[105]]-cd[a[105]](h[a[139]],n);if(g[a[a1]]==a[hO]){p=1k[a[238]](((b-d)*(h[a[130]]+j-h[a[cH]][a[130]]-m))/(k-m))+d}1e{p=1k[a[238]](((b-d)*(h[a[131]]+o-h[a[cH]][a[131]]-m))/(k-m))+d};if(!1D(p)){g[a[2r]](p,1f)};h[a[cH]]=1h}1e{if(f[a[85]]==a[6q]&&h[a[ch]]){j=f[a[99]]-cd[a[99]](h[a[139]],n);o=f[a[105]]-cd[a[105]](h[a[139]],n);if(!h[a[cH]]){h[a[cH]]={x:0,y:0}};if(g[a[a1]]==a[hO]){p=1k[a[238]](((b-d)*(h[a[130]]+j-h[a[cH]][a[130]]-m))/(k-m))+d}1e{p=1k[a[238]](((b-d)*(h[a[131]]+o-h[a[cH]][a[131]]-m))/(k-m))+d};if(g[a[2K]]!=p&&!1D(p)){g[a[2r]](p)};f[a[91]]();f[a[92]]()}1e{if(f[a[85]]==a[4T]&&h[a[ch]]){1a q=f[a[3P]][0];j=q[a[99]]-cd[a[99]](h[a[139]],n);o=q[a[105]]-cd[a[105]](h[a[139]],n);if(!h[a[cH]]){h[a[cH]]={x:0,y:0}};if(g[a[a1]]==a[hO]){p=1k[a[238]](((b-d)*(h[a[130]]+j-h[a[cH]][a[130]]-m))/(k-m))+d}1e{p=1k[a[238]](((b-d)*(h[a[131]]+o-h[a[cH]][a[131]]-m))/(k-m))+d};if(g[a[2K]]!=p&&!1D(p)){g[a[2r]](p)};f[a[91]]();f[a[92]]()}1e{if(f[a[85]]==a[4V]){bA(1N,a[4T],i);bA(1N,a[4V],i);h[a[ch]]=1g;h[a[cH]]=1h}}}}}};bv[a[JT]]=1c(b){1a f=1b[a[fe]];1a g=f[a[10P]];1a h=0;1a i=f[a[3q]];if(f[a[a1]]==a[hO]){1a d=b[a[99]]-cd[a[99]](1b,i);if(d<f[a[3G]][a[130]]){g*=-1}}1e{if((b[a[2oa]]||b[a[2o9]])<f[a[3G]][a[131]]){g*=-1}};h=f[a[2K]]+g;f[a[2r]](h);b[a[91]]();b[a[92]]();1d 1g};bv[a[v6]]=1c(f){1a g=1b[a[fe]];1a h=g[a[Dc]];1a i=g[a[2K]]-h;1a d;1a b=1c(f){if(f[a[85]]==a[4i]){gR(d);bA(1N,a[4i],b)}1e{if(f[a[85]]==a[4V]){bA(1N,a[4V],b)}}};g[a[2r]](i);f[a[91]]();f[a[92]]();if(f[a[85]]==a[2i]){d=gI(1c(){g[a[2r]](g[a[2K]]-h)},100);r(1N,a[4i],b)}1e{r(1N,a[4V],b)};1d 1g};bv[a[y1]]=1c(f){1a g=1b[a[fe]];1a h=g[a[Dc]];1a i=g[a[2K]]+h;1a d;1a b=1c(f){if(f[a[85]]==a[4i]){gR(d);bA(1N,a[4i],b)}1e{if(f[a[85]]==a[4V]){bA(1N,a[4V],b)}}};g[a[2r]](i);f[a[91]]();f[a[92]]();if(f[a[85]]==a[2i]){d=gI(1c(){g[a[2r]](g[a[2K]]+h)},100);r(1N,a[4i],b)}1e{r(1N,a[4V],b)};1d 1g};y[a[y4]]=y[a[51]]({kG:a[y4],p1:a[43],oT:a[11Q],Rc:a[7d],Rb:a[7d],10U$uO:1h,10V$uO:1h,1K$10T:1h,1K$10S:1h,QI:10,10Q:0,vP:a[58],RC:1f,Sa:1f,10R:1f,Rt:15,1K$pf:1c(){1a b=1b;b[a[1p]]=[];b[a[150]](a[183],a[eV]);b[a[150]](a[Bl],a[qZ]);b[a[cJ]]();b[a[EV]]()},Pn:1c(){1a b=1b;if(b[a[he]]){1d};b[a[he]]=1f;b[a[8q]]=1j y[a[11m]]();b[a[210]](b[a[8q]]);b[a[8q]][a[150]]({a4:a[eV],K3:a[qZ],aC:a[9M]});b[a[5c]]=1j y[a[11m]]();b[a[8q]][a[210]](b[a[5c]]);b[a[5c]][a[150]]({a4:a[eV]});b[a[2C]]=1j y[a[11n]]();b[a[1R]]=1j y[a[11n]]();b[a[1R]][a[a1]]=a[PL];b[a[210]](b[a[2C]]);b[a[210]](b[a[1R]]);b[a[2C]][a[202]](a[165],a[PG]);b[a[1R]][a[202]](a[165],a[PJ])},gA:1c(d){1a b=1b;b[a[wF]]();if(!d){b[a[vi]]()};b[a[1R]][a[132]](d);b[a[2C]][a[132]](d);b[a[5c]][a[132]](d);b[a[8q]][a[132]](d);y[a[137]][a[23]][a[132]][a[21]](1b,d);b=1h},iq:1c(){1a k=1b;1a g=k[a[2C]];1a l=k[a[1R]];1a b=k[a[5c]];1a d=k[a[8q]];1a h=k[a[3w]];1a m=k[a[3w]];1a f=k[a[Bn]]();1a i=1g;1a j=1g;if(k[a[dq]]==a[7d]){if(f[a[129]]>k[a[129]]){j=1f}1e{j=1g}}1e{if(k[a[dq]]==a[83]){j=1f}};if(k[a[iJ]]==a[7d]){if(f[a[127]]>k[a[127]]){i=1f}1e{i=1g}}1e{if(k[a[iJ]]==a[83]){i=1f}};1a n=f[a[127]]-k[a[127]];1a p=f[a[129]]-k[a[129]];if(!j){m=0};if(!i){h=0;g[a[150]](a[190],a[192]);k[a[3g]]=1g}1e{k[a[3g]]=1f;g[a[150]](a[190],a[191]);g[a[133]](k[a[127]]-m,k[a[3w]]);g[a[134]](0,k[a[129]]-k[a[3w]]);1a o=1k[a[244]](n*0.1);g[a[iV]](0,f[a[127]],0,n,o,o);g[a[135]]()};if(!j){m=0;l[a[150]](a[190],a[192]);k[a[2w]]=1g}1e{k[a[2w]]=1f;l[a[150]](a[190],a[191]);l[a[133]](k[a[3w]],k[a[129]]-h);l[a[134]](k[a[127]]-k[a[3w]],0);1a q=1k[a[244]](p*0.1);l[a[iV]](0,f[a[129]],0,p,q,q);l[a[135]]()};d[a[133]](k[a[127]]-m,k[a[129]]-h);if(k[a[jM]]!=a[np]){b[a[133]](f[a[127]],f[a[129]])};k[a[11P]]=f;b[a[134]](0,0)},1K$11I:1c(b){if(1b[a[jM]]==a[np]){1b[a[5c]][a[210]](b,1f)}1e{1b[a[5c]][a[210]](b)};1b[a[1p]][a[1s]](b);1b[a[ad]]++},11J:1c(d){1a b;1a g=[];1i(1a f=0;f<1b[a[ad]];f++){b=1b[a[1p]][f];if(b===d){1b[a[5c]][a[146]](d);2j 1b[a[1p]][f];b=1h;1b[a[ad]]--;1d}};cd[a[1q]](1b[a[1p]],1c(b,d){if(d){g[a[1s]](d)}});1b[a[1p]]=g;1b[a[ad]]=g[a[59]]},11H:1c(){1a b;1i(1a d=0,f=1b[a[ad]];d<f;d++){b=1b[a[1p]][d];if(b&&b[a[132]]){b[a[132]](1g)};1b[a[1p]][d]=1h};1b[a[ad]]=0;1b[a[1p]]=[]},11G:1c(g){1a d=1b[a[5c]][a[139]][a[KZ]][g];1a b;1i(1a f=0;f<1b[a[ad]];f++){b=1b[a[1p]][f];if(b[a[139]]===d){1d b}}},QH:1c(){1a h=1b;1a j=h[a[127]];1a i=h[a[129]];1a b;1a f,d;if(h[a[jM]]==a[np]){j=h[a[5c]][a[139]][a[3O]];i=h[a[5c]][a[139]][a[3T]]+4}1e{1i(1a g=0;g<h[a[ad]];g++){b=h[a[K2]](g);if(b){f=b[a[130]]+b[a[127]];d=b[a[131]]+b[a[129]];if(!bl(f)){j=1k[a[1F]](j,f)};if(!bl(d)){i=1k[a[1F]](i,d)}}}};1d{3b:j,4X:i}},OT:1c(){1a b=1b;b[a[139]][a[144]]=b;r(b[a[2C]],a[iD],b[a[vW]],b);r(b[a[1R]],a[iD],b[a[vT]],b);r(b[a[139]],a[ED],b[a[6H]]);if(y[a[2]]){r(b[a[139]],a[2X],b[a[a5]])}},OY:1c(){1a b=1b;b[a[139]][a[144]]=1h;bA(b[a[2C]],a[iD],b[a[vW]],b);bA(b[a[1R]],a[iD],b[a[vT]],b);bA(b[a[139]],a[ED],b[a[6H]]);if(y[a[2]]){bA(b[a[139]],a[2X],b[a[a5]])}},RU:1c(f){1a d=f[a[78]];1a g=f[a[183]];1a b=d[a[5c]];b[a[134]](-g,b[a[131]])},RS:1c(f){1a d=f[a[78]];1a g=f[a[183]];1a b=d[a[5c]];b[a[134]](b[a[130]],-g)},11E:1c(d){1a b=1b;if(b[a[2w]]&&b[a[1R]]){1d b[a[1R]][a[2r]](d)}},11F:1c(){1a b=1b;if(b[a[2w]]){1d b[a[1R]][a[2K]]};1d 0},11K:1c(){1a b=1b;if(b[a[2w]]){1d b[a[1R]][a[5O]]};1d 0},11L:1c(d){1a g=1b[a[144]];1a b=0;1a f;1a j;1a i;1a h;if(!g[a[nj]]||d[a[113]]){1d};if(!d){d=2g[a[86]]};if(!1D(d[a[D4]])){b=d[a[D4]]}1e{1d};i=g[a[K7]]||3;h=g[a[11M]]||50;if(g[a[q5]]&&g[a[3g]]&&(d[a[K8]]!==0&&d[a[JZ]]===0)){j=g[a[2C]];if(g[a[165]]==a[oU]){i=h}}1e{if(d[a[K8]]===0&&d[a[JZ]]!==0){if(g[a[2w]]&&!d[a[5u]]&&1k[a[243]](g[a[1R]][a[5O]]-g[a[1R]][a[7k]])>0){j=g[a[1R]];if(g[a[2m]]){i=i*20}}1e{if(g[a[3g]]&&g[a[q5]]){if(g[a[2nw]]&&!d[a[5u]]){1d};j=g[a[2C]];if(g[a[165]]==a[oU]){i=h}}1e{1d}}}1e{1d}};if(g[a[JP]]){f=d1(i)}1e{f=1k[a[244]]((j[a[5O]]-j[a[7k]])/i)};if(b>0){j[a[2r]](j[a[2K]]-f)}1e{j[a[2r]](j[a[2K]]+f)};if(g[a[P8]]){if(!(j[a[2K]]==j[a[5O]]||j[a[2K]]==j[a[7k]])){d[a[91]]()}}1e{d[a[91]]()}},Pg:1c(f){1a l=1b[a[144]];1a m=50;1a g=l[a[2C]];1a o=l[a[1R]];1a n=f[a[3P]][0];f[a[92]]();if(f[a[85]]==a[2X]){l[a[7t]]=n[a[99]];l[a[7o]]=n[a[105]];l[a[ft]]=l[a[7t]];l[a[fu]]=l[a[7o]];r(l[a[139]],a[4T],l[a[a5]]);r(l[a[139]],a[4V],l[a[a5]])}1e{if(f[a[85]]==a[4T]){f[a[91]]();1a j=n[a[99]];1a k=n[a[105]];1a b=1k[a[244]](l[a[7t]]-j);1a d=1k[a[244]](l[a[7o]]-k);1a h=1g;1a i=1g;if(1k[a[243]](b)>=1&&1k[a[243]](b)>=m){h=1f};if(1k[a[243]](d)>=1){i=1f};if(h){g[a[2r]](g[a[2K]]+b);l[a[7t]]=j};if(i){o[a[2r]](o[a[2K]]+d);l[a[7o]]=k}}1e{if(f[a[85]]==a[4V]){l[a[ft]]=l[a[7t]]=1h;l[a[fu]]=l[a[7o]]=1h;bA(l[a[139]],a[4T],l[a[a5]]);bA(l[a[139]],a[4V],l[a[a5]])}}}}})[a[69]](y[a[137]]);1c o(b){p[a[21]](1b,a[43],b||a[11Q]);1a d=1b;d[a[iJ]]=a[7d];d[a[dq]]=a[7d];d[a[he]]=1g;d[a[2C]]=1h;d[a[1R]]=1h;d[a[5c]]=1h;d[a[8q]]=1h;d[a[3w]]=10;d[a[ad]]=0;d[a[jM]]=a[58];d[a[JP]]=1f;d[a[nj]]=1f;d[a[q5]]=1f;d[a[K7]]=15;d[a[66]]()}bf(o,p);bv=o[a[23]];bv[a[66]]=1c(){1a b=1b;b[a[1p]]=[];b[a[150]](a[183],a[eV]);b[a[150]](a[Bl],a[qZ]);b[a[cJ]]();b[a[EV]]()};bv[a[cJ]]=1c(){1a b=1b;if(b[a[he]]){1d};b[a[he]]=1f;b[a[8q]]=1j O();b[a[210]](b[a[8q]]);b[a[8q]][a[150]]({a4:a[eV],K3:a[qZ],aC:a[9M]});b[a[5c]]=1j O();b[a[8q]][a[210]](b[a[5c]]);b[a[5c]][a[150]]({a4:a[eV]});b[a[2C]]=1j h(a[PG]);b[a[1R]]=1j h(a[PJ]);b[a[1R]][a[a1]]=a[PL];b[a[210]](b[a[2C]]);b[a[210]](b[a[1R]])};bv[a[132]]=1c(d){1a b=1b;b[a[wF]]();if(!d){b[a[vi]]()};b[a[1R]][a[132]](d);b[a[2C]][a[132]](d);b[a[5c]][a[132]](d);b[a[8q]][a[132]](d);p[a[23]][a[132]][a[21]](1b,d);b=1h};bv[a[135]]=1c(){1a k=1b;1a g=k[a[2C]];1a l=k[a[1R]];1a b=k[a[5c]];1a d=k[a[8q]];1a h=k[a[3w]];1a m=k[a[3w]];1a f=k[a[Bn]]();1a i=1g;1a j=1g;if(k[a[dq]]==a[7d]){if(f[a[129]]>k[a[129]]){j=1f}1e{j=1g}}1e{if(k[a[dq]]==a[83]){j=1f}};if(k[a[iJ]]==a[7d]){if(f[a[127]]>k[a[127]]){i=1f}1e{i=1g}}1e{if(k[a[iJ]]==a[83]){i=1f}};1a n=f[a[127]]-k[a[127]];1a p=f[a[129]]-k[a[129]];if(!j){m=0};if(!i){h=0;g[a[150]](a[190],a[192]);k[a[3g]]=1g}1e{k[a[3g]]=1f;g[a[150]](a[190],a[191]);g[a[133]](k[a[127]]-m,k[a[3w]]);g[a[134]](0,k[a[129]]-k[a[3w]]);1a o=1k[a[244]](n*0.1);g[a[iV]](0,f[a[127]],0,n,o,o);g[a[135]]()};if(!j){m=0;l[a[150]](a[190],a[192]);k[a[2w]]=1g}1e{k[a[2w]]=1f;l[a[150]](a[190],a[191]);l[a[133]](k[a[3w]],k[a[129]]-h);l[a[134]](k[a[127]]-k[a[3w]],0);1a q=1k[a[244]](p*0.1);l[a[iV]](0,f[a[129]],0,p,q,q);l[a[135]]()};d[a[133]](k[a[127]]-m,k[a[129]]-h);if(k[a[jM]]!=a[np]){b[a[133]](f[a[127]],f[a[129]])};k[a[11P]]=f;b[a[134]](0,0)};bv[a[di]]=1c(b){if(1b[a[jM]]==a[np]){1b[a[5c]][a[210]](b,1f)}1e{1b[a[5c]][a[210]](b)};1b[a[1p]][a[1s]](b);1b[a[ad]]++};bv[a[2nx]]=1c(d){1a b;1a g=[];1i(1a f=0;f<1b[a[ad]];f++){b=1b[a[1p]][f];if(b===d){1b[a[5c]][a[146]](d);2j 1b[a[1p]][f];b=1h;1b[a[ad]]--;1d}};cd[a[1q]](1b[a[1p]],1c(b,d){if(d){g[a[1s]](d)}});1b[a[1p]]=g;1b[a[ad]]=g[a[59]]};bv[a[vi]]=1c(){1a b;1i(1a d=0,f=1b[a[ad]];d<f;d++){b=1b[a[1p]][d];if(b&&b[a[132]]){b[a[132]](1g)};1b[a[1p]][d]=1h};1b[a[ad]]=0;1b[a[1p]]=[]};bv[a[K2]]=1c(g){1a d=1b[a[5c]][a[139]][a[KZ]][g];1a b;1i(1a f=0;f<1b[a[ad]];f++){b=1b[a[1p]][f];if(b[a[139]]===d){1d b}}};bv[a[Bn]]=1c(){1a h=1b;1a j=h[a[127]];1a i=h[a[129]];1a b;1a f,d;if(h[a[jM]]==a[np]){j=h[a[5c]][a[139]][a[3O]];i=h[a[5c]][a[139]][a[3T]]+4}1e{1i(1a g=0;g<h[a[ad]];g++){b=h[a[K2]](g);if(b){f=b[a[130]]+b[a[127]];d=b[a[131]]+b[a[129]];if(!bl(f)){j=1k[a[1F]](j,f)};if(!bl(d)){i=1k[a[1F]](i,d)}}}};1d{3b:j,4X:i}};bv[a[EV]]=1c(){1a b=1b;b[a[139]][a[144]]=b;r(b[a[2C]],a[iD],b[a[vW]],b);r(b[a[1R]],a[iD],b[a[vT]],b);r(b[a[139]],a[ED],b[a[6H]]);if(y[a[2]]){r(b[a[139]],a[2X],b[a[a5]])}};bv[a[wF]]=1c(){1a b=1b;b[a[139]][a[144]]=1h;bA(b[a[2C]],a[iD],b[a[vW]],b);bA(b[a[1R]],a[iD],b[a[vT]],b);bA(b[a[139]],a[ED],b[a[6H]]);if(y[a[2]]){bA(b[a[139]],a[2X],b[a[a5]])}};bv[a[vW]]=1c(f){1a d=f[a[78]];1a g=f[a[183]];1a b=d[a[5c]];b[a[134]](-g,b[a[131]])};bv[a[vT]]=1c(f){1a d=f[a[78]];1a g=f[a[183]];1a b=d[a[5c]];b[a[134]](b[a[130]],-g)};bv[a[2nv]]=1c(d){1a b=1b;if(b[a[2w]]&&b[a[1R]]){1d b[a[1R]][a[2r]](d)}};bv[a[2nu]]=1c(){1a b=1b;if(b[a[2w]]){1d b[a[1R]][a[2K]]};1d 0};bv[a[2ns]]=1c(){1a b=1b;if(b[a[2w]]){1d b[a[1R]][a[5O]]};1d 0};bv[a[6H]]=1c(d){1a g=1b[a[144]];1a b=0;1a f;1a j;1a i;1a h;if(!g[a[nj]]||d[a[113]]){1d};if(!d){d=2g[a[86]]};if(!1D(d[a[D4]])){b=d[a[D4]]}1e{1d};i=g[a[K7]]||3;h=g[a[11M]]||50;if((g[a[q5]]&&d[a[5u]]&&g[a[3g]])||(d[a[K8]]!==0&&d[a[JZ]]===0)){j=g[a[2C]];if(g[a[165]]==a[oU]){i=h}}1e{if(g[a[2w]]&&!d[a[5u]]&&1k[a[243]](g[a[1R]][a[5O]]-g[a[1R]][a[7k]])>0){j=g[a[1R]];if(g[a[2m]]){i=i*20}}1e{if(g[a[3g]]&&g[a[q5]]){j=g[a[2C]];if(g[a[165]]==a[oU]){i=h}}1e{1d}}};if(g[a[JP]]){f=d1(i)}1e{f=1k[a[244]]((j[a[5O]]-j[a[7k]])/i)};if(b>0){j[a[2r]](j[a[2K]]-f)}1e{j[a[2r]](j[a[2K]]+f)};if(g[a[P8]]){if(!(j[a[2K]]==j[a[5O]]||j[a[2K]]==j[a[7k]])){d[a[91]]()}}1e{d[a[91]]()}};bv[a[a5]]=1c(f){1a l=1b[a[144]];1a m=50;1a g=l[a[2C]];1a o=l[a[1R]];1a n=f[a[3P]][0];f[a[92]]();if(f[a[85]]==a[2X]){l[a[7t]]=n[a[99]];l[a[7o]]=n[a[105]];l[a[ft]]=l[a[7t]];l[a[fu]]=l[a[7o]];r(l[a[139]],a[4T],l[a[a5]]);r(l[a[139]],a[4V],l[a[a5]])}1e{if(f[a[85]]==a[4T]){f[a[91]]();1a j=n[a[99]];1a k=n[a[105]];1a b=1k[a[244]](l[a[7t]]-j);1a d=1k[a[244]](l[a[7o]]-k);1a h=1g;1a i=1g;if(1k[a[243]](b)>=1&&1k[a[243]](b)>=m){h=1f};if(1k[a[243]](d)>=1){i=1f};if(h){g[a[2r]](g[a[2K]]+b);l[a[7t]]=j};if(i){o[a[2r]](o[a[2K]]+d);l[a[7o]]=k}}1e{if(f[a[85]]==a[4V]){l[a[ft]]=l[a[7t]]=1h;l[a[fu]]=l[a[7o]]=1h;bA(l[a[139]],a[4T],l[a[a5]]);bA(l[a[139]],a[4V],l[a[a5]])}}}};1c bS(b){p[a[21]](1b,a[2nt],b);1a d=1b;d[a[66]]()}bf(bS,p);bv=bS[a[23]];bv[a[66]]=1c(){1b[a[199]](a[169],a[2ny])};1c K(b){p[a[21]](1b,a[2nz],b)}bf(K,p);1c J(b){p[a[21]](1b,a[13L],b)}bf(J,p);1c bT(b){p[a[21]](1b,a[2nE],b)}bf(bT,p);1c ca(b){p[a[21]](1b,a[2nD],b)}bf(ca,p);1c bU(b){p[a[21]](1b,a[2nC],b)}bf(bU,p);1a L=L||1c(m,h){1a d={},f=d[a[lR]]={},k=1c(){},l=f[a[IZ]]={G4:1c(b){k[a[23]]=1b;1a d=1j k;b&&d[a[KP]](b);d[a[65]](a[cq])||(d[a[cq]]=1c(){d[a[52]][a[cq]][a[63]](1b,1Y)});d[a[cq]][a[23]]=d;d[a[52]]=1b;1d d},Ai:1c(){1a b=1b[a[69]]();b[a[cq]][a[63]](b,1Y);1d b},kH:1c(){},11C:1c(b){1i(1a d in b){b[a[65]](d)&&(1b[d]=b[d])};b[a[65]](a[22])&&(1b[a[22]]=b[a[22]])},sX:1c(){1d 1b[a[cq]][a[23]][a[69]](1b)}},j=f[a[uI]]=l[a[69]]({kH:1c(b,d){b=1b[a[9u]]=b||[];1b[a[8F]]=d!=h?d:4*b[a[59]]},KY:1c(b){1d(b||n)[a[rR]](1b)},11s:1c(b){1a d=1b[a[9u]],f=b[a[9u]],g=1b[a[8F]];b=b[a[8F]];1b[a[11B]]();if(g%4){1i(1a h=0;h<b;h++){d[g+h>>>2]|=(f[h>>>2]>>>24-8*(h%4)&255)<<24-8*((g+h)%4)}}1e{if(1mZ<f[a[59]]){1i(h=0;h<b;h+=4){d[g+h>>>2]=f[h>>>2]}}1e{d[a[1s]][a[63]](d,f)}};1b[a[8F]]+=b;1d 1b},11t:1c(){1a b=1b[a[9u]],d=1b[a[8F]];b[d>>>2]&=2nA<<32-8*(d%4);b[a[59]]=m[a[7y]](d/4)},sX:1c(){1a b=l[a[oz]][a[21]](1b);b[a[9u]]=1b[a[9u]][a[222]](0);1d b},11r:1c(b){1i(1a d=[],f=0;f<b;f+=4){d[a[1s]](JK*m[a[yz]]()|0)};1d 1j j[a[cq]](d,b)}}),o=d[a[lN]]={},n=o[a[RM]]={ne:1c(b){1a d=b[a[9u]];b=b[a[8F]];1i(1a f=[],g=0;g<b;g++){1a h=d[g>>>2]>>>24-8*(g%4)&255;f[a[1s]]((h>>>4)[a[22]](16));f[a[1s]]((h&15)[a[22]](16))};1d f[a[61]](a[58])},n7:1c(b){1i(1a d=b[a[59]],f=[],g=0;g<d;g+=2){f[g>>>3]|=d1(b[a[60]](g,2),16)<<24-4*(g%8)};1d 1j j[a[cq]](f,d/2)}},b=o[a[2nB]]={ne:1c(b){1a d=b[a[9u]];b=b[a[8F]];1i(1a f=[],g=0;g<b;g++){f[a[1s]](1E[a[4r]](d[g>>>2]>>>24-8*(g%4)&255))};1d f[a[61]](a[58])},n7:1c(b){1i(1a d=b[a[59]],f=[],g=0;g<d;g++){f[g>>>2]|=(b[a[5q]](g)&255)<<24-8*(g%4)};1d 1j j[a[cq]](f,d)}},p=o[a[1ki]]={ne:1c(d){8R{1d 2nr(Fo(b[a[rR]](d)))}8g(c){6h 6G(a[2nq])}},n7:1c(d){1d b[a[123]](2ng(14j(d)))}},i=f[a[14J]]=l[a[69]]({va:1c(){1b[a[7m]]=1j j[a[cq]];1b[a[Km]]=0},11o:1c(b){a[118]==1L b&&(b=p[a[123]](b));1b[a[7m]][a[5I]](b);1b[a[Km]]+=b[a[8F]]},11p:1c(b){1a f=1b[a[7m]],g=f[a[9u]],h=f[a[8F]],i=1b[a[fT]],d=h/(4*i),d=b?m[a[7y]](d):m[a[1F]]((d|0)-1b[a[14O]],0);b=d*i;h=m[a[1A]](4*b,h);if(b){1i(1a k=0;k<b;k+=i){1b[a[2nh]](g,k)};k=g[a[2E]](0,b);f[a[8F]]-=h};1d 1j j[a[cq]](k,h)},sX:1c(){1a b=l[a[oz]][a[21]](1b);b[a[7m]]=1b[a[7m]][a[oz]]();1d b},11v:0});f[a[11w]]=i[a[69]]({oD:l[a[69]](),kH:1c(b){1b[a[b3]]=1b[a[b3]][a[69]](b);1b[a[oF]]()},va:1c(){i[a[oF]][a[21]](1b);1b[a[14I]]()},iq:1c(b){1b[a[Cu]](b);1b[a[s7]]();1d 1b},vE:1c(b){b&&1b[a[Cu]](b);1d 1b[a[14F]]()},y6:16,LU:1c(b){1d 1c(d,f){1d(1j b[a[cq]](f))[a[ov]](d)}},11A:1c(b){1d 1c(d,f){1d(1j g[a[My]][a[cq]](b,f))[a[ov]](d)}}});1a g=d[a[qR]]={};1d d}(1k);(1c(){1a d=L,b=d[a[lR]][a[uI]];d[a[lN]][a[Du]]={ne:1c(b){1a d=b[a[9u]],f=b[a[8F]],h=1b[a[11z]];b[a[11B]]();b=[];1i(1a g=0;g<f;g+=3){1i(1a j=(d[g>>>2]>>>24-8*(g%4)&255)<<16|(d[g+1>>>2]>>>24-8*((g+1)%4)&255)<<8|d[g+2>>>2]>>>24-8*((g+2)%4)&255,i=0;4>i&&g+0.75*i<f;i++){b[a[1s]](h[a[4J]](j>>>6*(3-i)&63))}};if(d=h[a[4J]](64)){1i(;b[a[59]]%4;){b[a[1s]](d)}};1d b[a[61]](a[58])},n7:1c(f){1a g=f[a[59]],i=1b[a[11z]],j=i[a[4J]](64);j&&(j=f[a[19]](j),-1!=j&&(g=j));1i(1a j=[],h=0,l=0;l<g;l++){if(l%4){1a k=i[a[19]](f[a[4J]](l-1))<<2*(l%4),d=i[a[19]](f[a[4J]](l))>>>6-2*(l%4);j[h>>>2]|=(k|d)<<24-8*(h%4);h++}};1d b[a[9S]](j,h)},11y:a[H5]}})();(1c(k){1c g(b,i,a,d,f,g,h){b=b+(i&a|~i&d)+f+h;1d(b<<g|b>>>32-g)+i}1c d(b,i,a,d,f,g,h){b=b+(i&d|a&~d)+f+h;1d(b<<g|b>>>32-g)+i}1c f(b,i,a,d,f,g,h){b=b+(i^a^d)+f+h;1d(b<<g|b>>>32-g)+i}1c i(b,i,a,d,f,g,h){b=b+(a^(i|~d))+f+h;1d(b<<g|b>>>32-g)+i}1i(1a j=L,h=j[a[lR]],m=h[a[uI]],l=h[a[11w]],h=j[a[qR]],b=[],n=0;64>n;n++){b[n]=JK*k[a[243]](k[a[1gJ]](n+1))|0};h=h[a[IV]]=l[a[69]]({Lb:1c(){1b[a[w5]]=1j m[a[cq]]([2nf,2ne,2nc,2nd])},LL:1c(x,w){1i(1a h=0;16>h;h++){1a l=w+h,o=x[l];x[l]=(o<<8|o>>>24)&Dk|(o<<24|o>>>8)&Dn};1a h=1b[a[w5]][a[9u]],l=x[w+0],o=x[w+1],t=x[w+2],u=x[w+3],E=x[w+4],y=x[w+5],z=x[w+6],C=x[w+7],B=x[w+8],j=x[w+9],k=x[w+10],m=x[w+11],A=x[w+12],n=x[w+13],p=x[w+14],D=x[w+15],q=h[0],v=h[1],r=h[2],s=h[3],q=g(q,v,r,s,l,7,b[0]),s=g(s,q,v,r,o,12,b[1]),r=g(r,s,q,v,t,17,b[2]),v=g(v,r,s,q,u,22,b[3]),q=g(q,v,r,s,E,7,b[4]),s=g(s,q,v,r,y,12,b[5]),r=g(r,s,q,v,z,17,b[6]),v=g(v,r,s,q,C,22,b[7]),q=g(q,v,r,s,B,7,b[8]),s=g(s,q,v,r,j,12,b[9]),r=g(r,s,q,v,k,17,b[10]),v=g(v,r,s,q,m,22,b[11]),q=g(q,v,r,s,A,7,b[12]),s=g(s,q,v,r,n,12,b[13]),r=g(r,s,q,v,p,17,b[14]),v=g(v,r,s,q,D,22,b[15]),q=d(q,v,r,s,o,5,b[16]),s=d(s,q,v,r,z,9,b[17]),r=d(r,s,q,v,m,14,b[18]),v=d(v,r,s,q,l,20,b[19]),q=d(q,v,r,s,y,5,b[20]),s=d(s,q,v,r,k,9,b[21]),r=d(r,s,q,v,D,14,b[22]),v=d(v,r,s,q,E,20,b[23]),q=d(q,v,r,s,j,5,b[24]),s=d(s,q,v,r,p,9,b[25]),r=d(r,s,q,v,u,14,b[26]),v=d(v,r,s,q,B,20,b[27]),q=d(q,v,r,s,n,5,b[28]),s=d(s,q,v,r,t,9,b[29]),r=d(r,s,q,v,C,14,b[30]),v=d(v,r,s,q,A,20,b[31]),q=f(q,v,r,s,y,4,b[32]),s=f(s,q,v,r,B,11,b[33]),r=f(r,s,q,v,m,16,b[34]),v=f(v,r,s,q,p,23,b[35]),q=f(q,v,r,s,o,4,b[36]),s=f(s,q,v,r,E,11,b[37]),r=f(r,s,q,v,C,16,b[38]),v=f(v,r,s,q,k,23,b[39]),q=f(q,v,r,s,n,4,b[40]),s=f(s,q,v,r,l,11,b[41]),r=f(r,s,q,v,u,16,b[42]),v=f(v,r,s,q,z,23,b[43]),q=f(q,v,r,s,j,4,b[44]),s=f(s,q,v,r,A,11,b[45]),r=f(r,s,q,v,D,16,b[46]),v=f(v,r,s,q,t,23,b[47]),q=i(q,v,r,s,l,6,b[48]),s=i(s,q,v,r,C,10,b[49]),r=i(r,s,q,v,p,15,b[50]),v=i(v,r,s,q,y,21,b[51]),q=i(q,v,r,s,A,6,b[52]),s=i(s,q,v,r,u,10,b[53]),r=i(r,s,q,v,k,15,b[54]),v=i(v,r,s,q,o,21,b[55]),q=i(q,v,r,s,B,6,b[56]),s=i(s,q,v,r,D,10,b[57]),r=i(r,s,q,v,z,15,b[58]),v=i(v,r,s,q,n,21,b[59]),q=i(q,v,r,s,E,6,b[60]),s=i(s,q,v,r,m,10,b[61]),r=i(r,s,q,v,t,15,b[62]),v=i(v,r,s,q,j,21,b[63]);h[0]=h[0]+q|0;h[1]=h[1]+v|0;h[2]=h[2]+r|0;h[3]=h[3]+s|0},CL:1c(){1a d=1b[a[7m]],h=d[a[9u]],b=8*1b[a[Km]],f=8*d[a[8F]];h[f>>>5]|=128<<24-f%32;1a g=k[a[244]](b/JK);h[(f+64>>>9<<4)+15]=(g<<8|g>>>24)&Dk|(g<<24|g>>>8)&Dn;h[(f+64>>>9<<4)+14]=(b<<8|b>>>24)&Dk|(b<<24|b>>>8)&Dn;d[a[8F]]=4*(h[a[59]]+1);1b[a[s7]]();d=1b[a[w5]];h=d[a[9u]];1i(b=0;4>b;b++){f=h[b],h[b]=(f<<8|f>>>24)&Dk|(f<<24|f>>>8)&Dn};1d d},sX:1c(){1a b=l[a[oz]][a[21]](1b);b[a[w5]]=1b[a[w5]][a[oz]]();1d b}});j[a[IV]]=l[a[15w]](h);j[a[2ni]]=l[a[2nj]](h)})(1k);(1c(){1a h=L,f=h[a[lR]],b=f[a[IZ]],d=f[a[uI]],f=h[a[qR]],g=f[a[JA]]=b[a[69]]({oD:b[a[69]]({xQ:4,11x:f[a[IV]],13c:1}),kH:1c(b){1b[a[b3]]=1b[a[b3]][a[69]](b)},13d:1c(g,k){1i(1a i=1b[a[b3]],l=i[a[2no]][a[9S]](),f=d[a[9S]](),m=f[a[9u]],j=i[a[Ly]],i=i[a[2np]];m[a[59]]<j;){h&&l[a[135]](h);1a h=l[a[135]](g)[a[ov]](k);l[a[oF]]();1i(1a b=1;b<i;b++){h=l[a[ov]](h),l[a[oF]]()};f[a[5I]](h)};f[a[8F]]=4*j;1d f}});h[a[JA]]=1c(b,d,f){1d g[a[9S]](f)[a[14B]](b,d)}})();L[a[lR]][a[14K]]||1c(o){1a j=L,g=j[a[lR]],h=g[a[IZ]],m=g[a[uI]],n=g[a[14J]],l=j[a[lN]][a[Du]],q=j[a[qR]][a[JA]],p=g[a[14K]]=n[a[69]]({oD:h[a[69]](),LX:1c(d,b){1d 1b[a[9S]](1b[a[M5]],d,b)},M2:1c(d,b){1d 1b[a[9S]](1b[a[2nn]],d,b)},kH:1c(f,b,d){1b[a[b3]]=1b[a[b3]][a[69]](d);1b[a[Ms]]=f;1b[a[15o]]=b;1b[a[oF]]()},va:1c(){n[a[oF]][a[21]](1b);1b[a[14I]]()},14H:1c(b){1b[a[Cu]](b);1d 1b[a[s7]]()},vE:1c(b){b&&1b[a[Cu]](b);1d 1b[a[14F]]()},xQ:4,14G:4,14L:1,14M:2,LU:1c(d){1d{Dr:1c(g,i,h){1d(a[118]==1L i?f:b)[a[14A]](d,g,i,h)},Ds:1c(g,i,h){1d(a[118]==1L i?f:b)[a[RX]](d,g,i,h)}}}});g[a[2nm]]=p[a[69]]({CL:1c(){1d 1b[a[s7]](!0)},y6:1});1a d=j[a[2A]]={},r=1c(h,b,d){1a f=1b[a[LY]];f?1b[a[LY]]=o:f=1b[a[LJ]];1i(1a g=0;g<d;g++){h[b+g]^=f[g]}},k=(g[a[2nk]]=h[a[69]]({LX:1c(d,b){1d 1b[a[14R]][a[9S]](d,b)},M2:1c(d,b){1d 1b[a[14Q]][a[9S]](d,b)},kH:1c(d,b){1b[a[LD]]=d;1b[a[LY]]=b}}))[a[69]]();k[a[14R]]=k[a[69]]({LE:1c(g,b){1a d=1b[a[LD]],f=d[a[fT]];r[a[21]](1b,g,b,f);d[a[2nl]](g,b);1b[a[LJ]]=g[a[222]](b,b+f)}});k[a[14Q]]=k[a[69]]({LE:1c(h,b){1a d=1b[a[LD]],f=d[a[fT]],g=h[a[222]](b,b+f);d[a[2nF]](h,b);r[a[21]](1b,h,b,f);1b[a[LJ]]=g}});d=d[a[2nG]]=k;k=(j[a[14D]]={})[a[2o0]]={14P:1c(b,d){1i(1a f=4*d,f=f-b[a[8F]]%f,g=f<<24|f<<16|f<<8|f,h=[],i=0;i<f;i+=4){h[a[1s]](g)};f=m[a[9S]](h,f);b[a[5I]](f)},14N:1c(b){b[a[8F]]-=b[a[9u]][b[a[8F]]-1>>>2]&255}};g[a[14S]]=p[a[69]]({oD:p[a[b3]][a[69]]({L2:d,9d:k}),va:1c(){p[a[oF]][a[21]](1b);1a b=1b[a[b3]],d=b[a[gL]],b=b[a[2A]];if(1b[a[Ms]]==1b[a[M5]]){1a f=b[a[14s]]}1e{f=b[a[14p]],1b[a[14O]]=1};1b[a[14E]]=f[a[21]](b,1b,d&&d[a[9u]])},LL:1c(b,d){1b[a[14E]][a[2o1]](b,d)},CL:1c(){1a b=1b[a[b3]][a[9j]];if(1b[a[Ms]]==1b[a[M5]]){b[a[14D]](1b[a[7m]],1b[a[fT]]);1a d=1b[a[s7]](!0)}1e{d=1b[a[s7]](!0),b[a[2nZ]](d)};1d d},y6:4});1a i=g[a[1ko]]=h[a[69]]({kH:1c(b){1b[a[KP]](b)},KY:1c(b){1d(b||1b[a[2nY]])[a[rR]](1b)}}),d=(j[a[Ee]]={})[a[14v]]={ne:1c(b){1a d=b[a[Sl]];b=b[a[v9]];1d(b?m[a[9S]]([14t,14u])[a[5I]](b)[a[5I]](d):d)[a[22]](l)},n7:1c(b){b=l[a[123]](b);1a d=b[a[9u]];if(14t==d[0]&&14u==d[1]){1a f=m[a[9S]](d[a[222]](2,4));d[a[2E]](0,4);b[a[8F]]-=16};1d i[a[9S]]({Dv:b,KL:f})}},b=g[a[2nW]]=h[a[69]]({oD:h[a[69]]({xg:d}),Dr:1c(b,d,f,g){g=1b[a[b3]][a[69]](g);1a h=b[a[14s]](f,g);d=h[a[ov]](d);h=h[a[b3]];1d i[a[9S]]({Dv:d,hl:f,iv:h[a[gL]],2nX:b,L2:h[a[2A]],9d:h[a[9j]],y6:b[a[fT]],14r:g[a[Ee]]})},Ds:1c(b,d,f,g){g=1b[a[b3]][a[69]](g);d=1b[a[14z]](d,g[a[Ee]]);1d b[a[14p]](f,g)[a[ov]](d[a[Sl]])},14q:1c(b,d){1d a[118]==1L b?d[a[123]](b,1b):b}}),j=(j[a[Lo]]={})[a[14v]]={14w:1c(b,d,f,g){g||(g=m[a[yz]](8));b=q[a[9S]]({xQ:d+f})[a[14B]](b,g);f=m[a[9S]](b[a[9u]][a[222]](d),4*f);b[a[8F]]=4*d;1d i[a[9S]]({hl:b,iv:f,KL:g})}},f=g[a[2o2]]=b[a[69]]({oD:b[a[b3]][a[69]]({14C:j}),Dr:1c(d,f,g,h){h=1b[a[b3]][a[69]](h);g=h[a[Lo]][a[14x]](g,d[a[Ly]],d[a[14y]]);h[a[gL]]=g[a[gL]];d=b[a[14A]][a[21]](1b,d,f,g[a[gB]],h);d[a[KP]](g);1d d},Ds:1c(d,f,g,h){h=1b[a[b3]][a[69]](h);f=1b[a[14z]](f,h[a[Ee]]);g=h[a[Lo]][a[14x]](g,d[a[Ly]],d[a[14y]],f[a[v9]]);h[a[gL]]=g[a[gL]];1d b[a[RX]][a[21]](1b,d,f,g[a[gB]],h)}})}();(1c(){1i(1a u=L,p=u[a[lR]][a[14S]],g=u[a[qR]],n=[],s=[],t=[],r=[],w=[],v=[],d=[],x=[],q=[],o=[],b=[],f=0;256>f;f++){b[f]=128>f?f<<1:f<<1^283};1i(1a h=0,l=0,f=0;256>f;f++){1a m=l^l<<1^l<<2^l<<3^l<<4,m=m>>>8^m&255^99;n[h]=m;s[m]=h;1a z=b[h],i=b[z],j=b[i],y=257*b[m]^14T*m;t[h]=y<<24|y>>>8;r[h]=y<<16|y>>>16;w[h]=y<<8|y>>>24;v[h]=y;y=2o3*j^1nM*i^257*z^14T*h;d[m]=y<<24|y>>>8;x[m]=y<<16|y>>>16;q[m]=y<<8|y>>>24;o[m]=y;h?(h=z^b[b[b[j^z]]],l^=b[b[l]]):h=l=1};1a k=[0,1,2,4,8,16,32,64,128,27,54],g=g[a[S2]]=p[a[69]]({Lb:1c(){1i(1a b=1b[a[15o]],f=b[a[9u]],g=b[a[8F]]/ 4,b=4* ((1b[a[15r]]= g+ 6)+ 1),h=1b[a[15n]]= [],i=0;i< b;i++){if(i< g){h[i]= f[i]}1e {1a j=h[i- 1];i% g?6< g&& 4== i% g&& (j= n[j>>> 24]<< 24| n[j>>> 16& 255]<< 16| n[j>>> 8& 255]<< 8| n[j& 255]):(j= j<< 8| j>>> 24,j= n[j>>> 24]<< 24| n[j>>> 16& 255]<< 16| n[j>>> 8& 255]<< 8| n[j& 255],j^= k[i/g|0]<<24);h[i]=h[i-g]^j}};f=1b[a[15l]]=[];1i(g=0;g<b;g++){i=b-g,j=g%4?h[i]:h[i-4],f[g]=4>g||4>=i?j:d[n[j>>>24]]^x[n[j>>>16&255]]^q[n[j>>>8&255]]^o[n[j&255]]}},15p:1c(b,d){1b[a[15k]](b,d,1b[a[15n]],t,r,w,v,n)},15m:1c(b,f){1a g=b[f+1];b[f+1]=b[f+3];b[f+3]=g;1b[a[15k]](b,f,1b[a[15l]],d,x,q,o,s);g=b[f+1];b[f+1]=b[f+3];b[f+3]=g},15q:1c(b,d,f,g,h,l,n,i){1i(1a o=1b[a[15r]],j=b[d]^f[0],k=b[d+1]^f[1],m=b[d+2]^f[2],p=b[d+3]^f[3],q=4,s=1;s<o;s++){1a r=g[j>>>24]^h[k>>>16&255]^l[m>>>8&255]^n[p&255]^f[q++],t=g[k>>>24]^h[m>>>16&255]^l[p>>>8&255]^n[j&255]^f[q++],u=g[m>>>24]^h[p>>>16&255]^l[j>>>8&255]^n[k&255]^f[q++],p=g[p>>>24]^h[j>>>16&255]^l[k>>>8&255]^n[m&255]^f[q++],j=r,k=t,m=u};r=(i[j>>>24]<<24|i[k>>>16&255]<<16|i[m>>>8&255]<<8|i[p&255])^f[q++];t=(i[k>>>24]<<24|i[m>>>16&255]<<16|i[p>>>8&255]<<8|i[j&255])^f[q++];u=(i[m>>>24]<<24|i[p>>>16&255]<<16|i[j>>>8&255]<<8|i[k&255])^f[q++];p=(i[p>>>24]<<24|i[j>>>16&255]<<16|i[k>>>8&255]<<8|i[m&255])^f[q++];b[d]=r;b[d+1]=t;b[d+2]=u;b[d+3]=p},xQ:8});u[a[S2]]=p[a[15w]](g)})();1a cd={Ih:{\',\':[188],\'.\':[110,190],\' \':[32],\'`\':[192],\';\':[186]},15v:{\'~\':a[2o8],9:a[2o7],A:a[2o6],a:a[2o4],\'*\':a[2o5]},15u:1c(b){1d br(b)?b:b[a[94]]===9?b[a[2nV]]||b[a[87]]:1g},15t:1c(g,j){1a f,i,b={5Y:0,6L:0},d=g&&g[a[88]];1a h=a[0];j=j===1T?1:j;if(!d){1d};f=d[a[101]];if(1L g[a[kP]]!==h){b=g[a[kP]]()};i=1b[a[2nU]](d);1d{5Y:(b[a[154]]+(i[a[13q]]||f[a[107]])-(f[a[108]]||0))/j,6L:(b[a[152]]+(i[a[13r]]||f[a[103]])-(f[a[104]]||0))/j}},15j:1c(l,m,j,g){1a k=l===1T?a[58]:l;1a i=j===1T?0:j;1a f=g===1T?k[a[59]]:g;1a d=0;1a b;1i(1a h=i;h<f;h++){b=k[a[4J]](h);if(b==m){d++}};1d d},2nL:1c(b,d){d=d===1T?1:d;1d 1b[a[7n]](b,d)},zY:1c(b,d){d=d===1T?1:d;1d 1b[a[7n]](b,d)[a[152]]},15i:1c(a,b){1d 0},zX:1c(b,d){d=d===1T?1:d;1d 1b[a[7n]](b,d)[a[154]]},14Y:1c(a,b){1d 0},2nM:1c(b,d){d=d===1T?1:d;1d 1b[a[7n]](b,d)},GI:1c(b,g){1a h,f={},d=0;if(2g[a[175]]){h=2g[a[175]](b,1h)}1e{if(1N[a[101]][a[176]]){h=b[a[176]]}1e{1d a[58]}};if(bi(g)){14Z=g[a[59]];1i(;d<14Z;d++){f[g[d]]=h[g[d]]};1d f};1d h[g]},2nK:1c(b,f,g){1a d=b[f];b[a[2E]](f,1);b[a[2E]](g,0,d)},1K$14X:1c(f,d){1a b,g,j,i,h;if(!f||f==a[58]||f[a[59]]<2){1d d?a[V8]:a[PF]};if(f[a[19]](a[7T])==0){if(d){1d f[a[56]](a[7T],a[f6])};1d f};b=f[a[19]](a[2nJ]);if(b!=-1){b=f[a[19]](a[2nH]);f=f[a[60]](b+2);b=f[a[19]](a[Nm]);f=f[a[4c]](0,b+1)};b=f[a[19]](a[1mK]);f=f[a[60]](b+1);b=f[a[19]](a[173]);if(b!=-1){f=f[a[4c]](0,b)}1e{f=f[a[4c]](0,f[a[59]]-1)};g=f[a[54]](a[53]);j=1o(g[0])[a[22]](16);i=1o(g[1])[a[22]](16);h=1o(g[2])[a[22]](16);if(j[a[59]]<2){j=a[215]+j};if(i[a[59]]<2){i=a[215]+i};if(h[a[59]]<2){h=a[215]+h};1d d?(a[f6]+j+i+h)[a[34]]():a[7T]+j+i+h},1K$14W:1c(b,f){1a d=a[b4]+b,k=1N[a[Qb]],l=1h,j,h=f===1f,i=1h,g;if(1L b===a[121]){1d b||{}};if(h){i=[]};1i(g=k[a[59]]-1;g>=0;g--){j=k[g];8R{if(j[a[14U]]){l=j[a[14U]]}1e{if(j[a[14V]]){l=j[a[14V]]}}}8g(e){1u};if(!l){1u};1b[a[1q]](l,1c(b,f){if(f[a[2nI]]==d){if(h){i[i[a[59]]]=f[a[169]]}1e{i=f[a[169]]};1d h?1f:1g}});if(i&&!h){1l}};1d i||{}},15a:1c(h,d){1a i,f=0,g=h[a[59]],b=bi(h);if(b){1i(;f<g;f++){i=d[a[21]](h[f],f,h[f]);if(i===1g){1l}}}1e{1i(f in h){i=d[a[21]](h[f],f,h[f]);if(i===1g){1l}}};1d h},15b:1c(d,b,g){1a j,i=[],f=0,h=d[a[59]];g=!!g;1i(;f<h;f++){j=!!b(f,d[f]);if(g!==j){i[i[a[59]]]=d[f]}};1d i},5H:1c(b,f){1a d=1j 5s(f[a[56]](/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,a[pD]),a[pq]);1d 1b[a[cv]](b,1c(b,f){1d d[a[25]](f)})},15g:1c(b){1d 2g[a[A9]][a[123]](b+a[58])},15h:1c(b){1a f,d;if(!b||1L b!==a[118]){1d 1h};8R{if(2g[a[2nN]]){d=1j 15f();f=d[a[2nO]](b,a[2nT])}1e{f=1j 2nS(a[2nR]);f[a[2nP]]=a[vr];f[a[2nQ]](b)}}8g(e){f=1T};if(!f||!f[a[101]]||f[a[2ld]](a[2lc])[a[59]]){1d a[2iB]+b};1d f},15e:1c(n,o){if(n[a[59]]==1){n=n[a[178]]()};1a j=/(?:(\\t)|(\\r?\\n)|"((?:[^"]+|"")*)"|([^\\t\\r\\n]+))/gi;1a h=j[a[E2]](n);1a d=[];1a k=d[a[222]]();1a l=[];1a i=1f;1a p,b,g,q,f;1a m=a[58];1U(h!==1h){if(h[4]){k[a[1s]](h[4]);i=1g}1e{if(h[3]){k[a[1s]](h[3][a[56]](/""/g,a[1gC]));i=1g}1e{if(h[1]){if(i){k[a[1s]](m)};i=1f}1e{if(h[2]){if(i){k[a[1s]](m)};i=1g;l[a[1s]](k);k=d[a[222]]()}}}};h=j[a[E2]](n)};if(k[a[59]]){if(i){k[a[1s]](m)};l[a[1s]](k)};if(l[a[59]]>1){p=l[a[59]];b=l[0][a[59]]-1;1i(q=0;q<p;q++){g=l[q];1i(f=b;f>=0;f--){if(g[f]===1T){g[f]=m}}}};1d l},15c:1c(g,h){if(g[a[59]]==1){g=g[a[178]]()};h=h||a[53];1a f=1j 5s(a[2iC]+h+a[2iA]+a[2iz]+a[2ix]+h+a[2iy],a[2iD]);1a b=[[]];1a d=1h;1U((d=f[a[E2]](g))){1a i=d[1];if(i[a[59]]&&i!==h){b[a[1s]]([])};1a j;if(d[2]){j=d[2][a[56]](1j 5s(a[1kv],a[cN]),a[ah])}1e{j=d[3]};b[b[a[59]]-1][a[1s]](j)};1d b},15d:1c(f,b){1a d={14o:1c(k){1a i={};if(k[a[94]]==1){if(k[a[i0]][a[59]]){1i(1a g=0;g<k[a[i0]][a[59]];g++){i[a[So]+k[a[i0]][g][a[fF]]]=(k[a[i0]][g][a[jD]]||a[58])[a[22]]()}};if(k[a[186]]){1a j=0,b=0,f=1g;1i(1a h=k[a[186]];h;h=h[a[ff]]){if(h[a[94]]==1){f=1f}1e{if(h[a[94]]==3&&h[a[jD]][a[37]](/[^ \\f\\n\\r\\t\\v]/)){j++}1e{if(h[a[94]]==4){b++}}}};if(f){if(j<2&&b<2){d[a[G2]](k);1i(1a h=k[a[186]];h;h=h[a[ff]]){if(h[a[94]]==3){i[a[GQ]]=d[a[jG]](h[a[jD]])}1e{if(h[a[94]]==4){i[a[2iE]]=d[a[jG]](h[a[jD]])}1e{if(i[h[a[fF]]]){if(i[h[a[fF]]]iK 5f){i[h[a[fF]]][i[h[a[fF]]][a[59]]]=d[a[xs]](h)}1e{i[h[a[fF]]]=[i[h[a[fF]]],d[a[xs]](h)]}}1e{i[h[a[fF]]]=d[a[xs]](h)}}}}}1e{if(!k[a[i0]][a[59]]){i=d[a[jG]](d[a[xo]](k))}1e{i[a[GQ]]=d[a[jG]](d[a[xo]](k))}}}1e{if(j){if(!k[a[i0]][a[59]]){i=d[a[jG]](d[a[xo]](k))}1e{i[a[GQ]]=d[a[jG]](d[a[xo]](k))}}1e{if(b){if(b>1){i=d[a[jG]](d[a[xo]](k))}1e{1i(1a h=k[a[186]];h;h=h[a[ff]]){i=d[a[jG]](h[a[jD]])}}}}}};if(!k[a[i0]][a[59]]&&!k[a[186]]){i=1h}}1e{if(k[a[94]]==9){i=d[a[xs]](k[a[101]])}};1d i},14n:1c(l,k,g){1a h=k?a[ah]+k+a[ah]:a[58];if(l iK 5f){1i(1a f=0,j=l[a[59]];f<j;f++){l[f]=d[a[13y]](l[f],a[58],g+a[eW])};h+=(k?a[2iJ]:a[1lM])+(l[a[59]]>1?a[Ev]+g+a[eW]+l[a[61]](a[13z]+g+a[eW])+a[Ev]+g:l[a[61]](a[58]))+a[1k8]}1e{if(l==1h){h+=(k&&a[5h])+a[K0]}1e{if(1L l==a[121]){1a b=[];1i(1a i in l){b[b[a[59]]]=d[a[13y]](l[i],i,g+a[eW])};h+=(k?a[2iI]:a[1sb])+(b[a[59]]>1?a[Ev]+g+a[eW]+b[a[61]](a[13z]+g+a[eW])+a[Ev]+g:b[a[61]](a[58]))+a[Rr]}1e{if(1L l==a[118]){h+=(k&&a[5h])+a[ah]+l[a[22]]()+a[ah]}1e{h+=(k&&a[5h])+l[a[22]]()}}}};1d h},13x:1c(f){1a g=a[58];if(a[44]in f){g=f[a[44]]}1e{1a b=1c(g){1a h=a[58];if(g[a[94]]==1){h+=a[Aa]+g[a[fF]];1i(1a f=0;f<g[a[i0]][a[59]];f++){h+=a[177]+g[a[i0]][f][a[fF]]+a[2iH]+(g[a[i0]][f][a[jD]]||a[58])[a[22]]()+a[ah]};if(g[a[186]]){h+=a[jr];1i(1a d=g[a[186]];d;d=d[a[ff]]){h+=b(d)};h+=a[1eU]+g[a[fF]]+a[jr]}1e{h+=a[2iF]}}1e{if(g[a[94]]==3){h+=g[a[jD]]}1e{if(g[a[94]]==4){h+=a[2iG]+g[a[jD]]+a[2iw]}}};1d h};1i(1a d=f[a[186]];d;d=d[a[ff]]){g+=b(d)}};1d g},Fo:1c(a){1d a},13w:1c(b){b[a[2iv]]();1i(1a f=b[a[186]];f;){if(f[a[94]]==3){if(!f[a[jD]][a[37]](/[^ \\f\\n\\r\\t\\v]/)){1a g=f[a[ff]];b[a[188]](f);f=g}1e{f=f[a[ff]]}}1e{if(f[a[94]]==1){d[a[G2]](f);f=f[a[ff]]}1e{f=f[a[ff]]}}};1d b}};if(f[a[94]]==9){f=f[a[101]]};1d d[a[xs]](d[a[G2]](f))},G4:1c(){1a m,f,d,k,l,b,n=1Y[0]||{},h=1,j=1Y[a[59]],g=1g;if(1L n===a[nE]){g=n;n=1Y[h]||{};h++};if(1L n!==a[121]&&!i(n)){n={}};if(h===j){n=1b;h--};1i(;h<j;h++){if((l=1Y[h])!=1h){1i(k in l){m=n[k];d=l[k];if(n===d){1u};if(g&&d&&(bn(d)||(f=bi(d)))){if(f){f=1g;b=m&&bi(m)?m:[]}1e{b=m&&bn(m)?m:{}};n[k]=1b[a[69]](g,b,d)}1e{if(d!==1T){n[k]=d}}}}};1d n},13u:1c(){1a n=a[5k];1a m,f,d,k,l,b,o=1Y[0]||{},h=1,j=1Y[a[59]],g=1g;if(1L o===a[nE]){g=o;o=1Y[h]||{};h++};if(1L o!==a[121]&&!i(o)){o={}};if(h===j){o=1b;h--};1i(;h<j;h++){if((l=1Y[h])!=1h){1i(k in l){if(k==n){1u};m=o[k];d=l[k];if(o===d){1u};if(g&&d&&(bn(d)||(f=bi(d)))){if(f){f=1g;b=m&&bi(m)?m:[]}1e{b=m&&bn(m)?m:{}};o[k]=1b[a[4R]](g,b,d)}1e{if(d!==1T){o[k]=d}}}}};1d o},13v:1c(){1a m,f,d,k,l,b,n=1Y[0]||{},h=1,j=1Y[a[59]],g=1g;if(1L n===a[nE]){g=n;n=1Y[h]||{};h++};if(1L n!==a[121]&&!i(n)){n={}};if(h===j){n=1b;h--};1i(;h<j;h++){if((l=1Y[h])!=1h){1i(k in l){if(k[a[19]](a[Ju])==0&&k!=a[6k]&&k!=a[3e]&&k!=a[4O]){1u};m=n[k];d=l[k];if(n===d){1u};if(g&&d&&(bn(d)||(f=bi(d)))){if(f){f=1g;b=m&&bi(m)?m:[]}1e{b=m&&bn(m)?m:{}};n[k]=1b[a[BW]](g,b,d)}1e{if(d!==1T){n[k]=d}}}}};1d n},13A:1c(g,l,f,t,j){1a m=l[a[59]];1a r=a[4t];1a p=a[nE];1a s=a[cn];1a q=a[vr];1a o=a[rw];1a n=a[215];1a v,b,d,k;1a u;f=f||{};1i(1a h=0;h<m;h++){k=l[h];g[h]={};1i(1a i in k){v=k[i];if(bi(v)&&f[i]===1T){b=[];g[h][i]=1b[a[jj]](b,v,f,t,j)}1e{d=f[i];if(d==r){if(v===1h){g[h][i]=v}1e{u=1o(v);g[h][i]=1D(u)?v:u}}1e{if(d==p){if(v===s){u=1f}1e{if(v===q){u=1g}1e{if(v===o){u=1}1e{if(v===n){u=0}1e{u=v}}}};g[h][i]=u}1e{g[h][i]=v}}}};if(bn(g[h])){g[h][t]=1b[a[g8]]()}};1d g},13B:1c(g,i,d){1a h=g[a[59]];1a f;1i(1a b=0;b<h;b++){f=g[b];if(!f){1u};if(f[a[1p]]&&f[a[1p]][a[59]]){1b[a[2il]](f[a[1p]],i,d)};if(1L f[i]!=a[0]){d[f[i]]=1b[a[69]]({},f)}}},13G:1c(j,d,h){1a k=j[a[59]];1a p=a[4t];1a n=a[nE];1a q=a[cn];1a o=a[vr];1a m=a[rw];1a l=a[215];1a s,b,i;1a r;1i(1a f=0;f<k;f++){i=j[f];1i(1a g in i){s=i[g];if(bi(s)){1b[a[ql]](s,d)}1e{b=d[g];if(b==p){if(h===1f&&s===1h){i[g]=1h}1e{r=1o(s);i[g]=1D(r)?s:r}}1e{if(b==n){if(s===q){r=1f}1e{if(s===o){r=1g}1e{if(s===m){r=1}1e{if(s===l){r=0}1e{r=s}}}};i[g]=r}1e{i[g]=s}}}}}},13H:1c(d,g){1a b,f,h,j;1a i=a[0];g=!!g;if(g){b=[];1i(f=0,h=d[a[59]];f<h;f++){j=d[f];if(b[a[19]](j)==-1){b[a[1s]](j)}};d[a[59]]=0;1i(f=0,h=b[a[59]];f<h;f++){d[f]=b[f]}}1e{b={};1i(f=0,h=d[a[59]];f<h;f++){if(1L b[d[f]]==i){b[d[f]]=1}};d[a[59]]=0;1i(1a f in b){d[d[a[59]]]=f}};1d d},13F:1c(g,b){1a f=1h;1a d=g[a[19]](b);if(d>0){f=g[d-1]};1d f},13E:1c(g,b){1a f=1h;1a d=g[a[19]](b);if(d!=-1&&d<g[a[59]]){f=g[d+1]};1d f},13C:1c(){1a d=1b[a[222]]();if(!1Y[a[59]]){1d d[a[aP]]()};1a b=5f[a[23]][a[222]][a[21]](1Y);1a o=1T;1a g=a[2im];1a f=a[2ik];1a n=a[4t];1a l=a[5U];1a k=a[58];1a i=1o[a[5E]];1a j=-1o[a[5E]];1a h=d[a[nY]](1c(h,p){1a t=b;1a s;1a d;1a r={1K$jH:p,1K$13D:1g};1i(1a p=0,q=t[a[59]];p<q;p++){s=t[p];d=s[a[1m]];if(h[a[7a]]){if(s[a[3W]]==n&&!1D(h[a[Av]])){r[d]=h[d]===o||h[d]===1h||h[d]===k?f:h[a[Av]]}1e{r[d]=h[d]===o||h[d]===1h||h[d]===k?f:h[d]}}1e{if(h[a[2R]]){r[a[2R]]=1f}1e{if(s[a[3W]]==n){if(s[a[zE]]){r[d]=h[d]===o||h[d]===1h||h[d]===k?(s[a[eL]]==1?i:j):1o(h[d])}1e{r[d]=h[d]===o||h[d]===1h||h[d]===k?j:1o(h[d])}}1e{if(s[a[3W]]==l&&!m(s[a[4P]])){if(s[a[zE]]){r[d]=h[d]===o||h[d]===1h||h[d]===k?(s[a[eL]]==1?i:j):V[a[f3]](h[d],s[a[4P]]);if(!bj(r[d])){r[d]=s[a[eL]]==1?i:j}}1e{r[d]=h[d]===o||h[d]===1h||h[d]===k?j:V[a[f3]](h[d],s[a[4P]]);if(!bj(r[d])){r[d]=j}}}1e{if(s[a[zE]]){r[d]=h[d]===o||h[d]===1h||h[d]===k?(s[a[eL]]==1?g:f):h[d]}1e{r[d]=h[d]===o||h[d]===1h||h[d]===k?f:h[d]}}}}}};1d r});h[a[aP]](1c(d,f){1a j,k;1a g=1;1a i=b[a[222]]();1a h=i[a[kq]]();g=h[a[17S]]?g*-1:g;1U((j=d[h[a[1m]]])==(k=f[h[a[1m]]])&&i[a[59]]){h=i[a[kq]]()};if(d[a[2R]]){1d g}1e{if(f[a[2R]]){1d g*-1}1e{if(h[a[eL]]==1){1d+(j>k)||+(j===k)-1}1e{if(h[a[eL]]==-1){1d+(j<k)||+(j===k)-1}}}};1d 0});1d h[a[nY]](1c(b){1d d[b[a[2ij]]]})},13t:1c(){1a d=1b[a[222]]();if(!1Y[a[59]]){1d d[a[aP]]()};1a b=5f[a[23]][a[222]][a[21]](1Y);1d d[a[aP]](1c(d,f){1a i,j;1a h=b[a[222]]();1a g=h[a[kq]]();1U((i=d[g])==(j=f[g])&&h[a[59]]){g=h[a[kq]]()};1d+(i>j)||+(i===j)-1})},13s:1c(){1a d=1b[a[222]]();if(!1Y[a[59]]){1d d[a[aP]]()};1a b=5f[a[23]][a[222]][a[21]](1Y);1d d[a[aP]](1c(d,f){1a i,j;1a h=b[a[222]]();1a g=h[a[kq]]();1U((i=d[g])==(j=f[g])&&h[a[59]]){g=h[a[kq]]()};1d+(i<j)||+(i===j)-1})},13i:1c(b,f,g){1a h=[];g[0][a[2x]]=f[a[59]];if(bi(b[a[1p]])){d(1E(f[0]),b);1d b};h[0]={w6:b};d(1E(f[0]),h);1d h[0][a[1p]];1c d(h,b){1a j=cd[a[Nj]](f,h);1i(1a i=0;i<b[a[59]];i++){if(bi(b[i][a[1p]])){if(h[a[19]](a[KM])<0){b[i][a[1p]]=cd[a[S4]][a[63]](b[i][a[1p]],g)};if(!l(j)){d(j,b[i][a[1p]])}}};if(l(j)){1d}}},13j:1c(){1a b=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];1a j=1j 5f(36);1a f=0;1a d;1a g;1i(d=0;d<8;d++){j[f++]=b[1k[a[244]](1k[a[yz]]()*16)]};1i(d=0;d<3;d++){j[f++]=45;1i(g=0;g<4;g++){j[f++]=b[1k[a[244]](1k[a[yz]]()*16)]}};j[f++]=45;1a h=1j 1Z()[a[aO]]();1a i=(a[2ih]+h[a[22]](16)[a[34]]())[a[60]](-8);1i(d=0;d<8;d++){j[f++]=i[a[5q]](d)};1i(d=0;d<4;d++){j[f++]=b[1k[a[244]](1k[a[yz]]()*16)]};1d 1E[a[4r]][a[63]](1h,j)},13g:1c(f,d){if(2g[a[5]][a[ck]]&&2g[a[5]][a[ck]][a[Dw]]&&d){2g[a[5]][a[ck]][a[Dw]](f)[a[2ii]](1c(a){b(f)})}1e{if(i(1N[a[13e]])){b(f)}1e{if(iU[a[ck]]&&iU[a[ck]][a[Dw]]){2g[a[5]][a[ck]][a[Dw]](f)}}};1c b(b){1a d=1N[a[10]](a[1rd]);d[a[2b]]=b;1N[a[102]][a[185]](d);d[a[J9]]();8R{1N[a[13e]](a[2in])}8g(13f){}2io{1N[a[102]][a[188]](d)}}},13k:1c(g,h,b,k){1a i=0,j=0;1a f;1a d=1b[a[7n]](b,1);k=k===1T?1:k;if(1b[a[205]](1N[a[102]],a[183])===a[eV]){f=1b[a[7n]](1N[a[102]],1);i=d[a[152]]-f[a[152]]+g*k;j=d[a[154]]-f[a[154]]+h*k}1e{i=d[a[152]]+g*k;j=d[a[154]]+h*k};1d{x:i,y:j}},13l:1c(f,g,b,j){1a h=0,i=0;1a d=1b[a[7n]](b,1);j=j===1T?1:j;h=f*j-d[a[152]];i=g*j-d[a[154]];1d{x:h,y:i}},NV:1c(h,m,i,j,s,k){1a b=1N[a[102]],g=h[a[3O]],n=0,f=h[a[3T]],d=1N[a[101]],r=d[a[2it]],q=d[a[EK]],p=2g[a[13q]]||d[a[107]]||b[a[107]],o=2g[a[13r]]||d[a[103]]||b[a[103]];if(!l(k)){n=h[a[95]][a[3O]]};s=s===1T?1:s;if(!bl(s)){g=g*s;f=f*s};if(n<=0){m[a[130]]-=1k[a[1A]](m[a[130]],m[a[130]]+g>o+r&&r>g?1k[a[243]](m[a[130]]+g+n-(o+r)+24):0)}1e{if(m[a[130]]+g>o+r&&r>g){m[a[130]]-=g+n}};j=!!j;if(!j){m[a[131]]-=1k[a[1A]](m[a[131]],m[a[131]]+f>p+q&&q>f?1k[a[243]](f+i):0)};m[a[130]]=1k[a[1F]](m[a[130]],0);m[a[131]]=1k[a[1F]](m[a[131]],0);1d m},13p:1c(b,g,d,f,h){1d 1b[a[qD]](b,g,d,f,h,b[a[95]])},13o:1c(b){1d 1o(((b*10)/75)[a[128]](3))},13m:1c(b){1d 1k[a[238]]((1o(b)*72.27)/96)},13n:1c(b){if(!(1L b===a[118])){1d b};b=b[a[56]](/(<br>|<br\\/>)/gi,a[ge]);1d b[a[56]](/(<([^>]+)>)/gi,a[58])},13I:1c(b){if(!bp(b)){1d b};b=b[a[56]](/\\</gi,a[2iu]);b=b[a[56]](/\\>/gi,a[2is]);1d b},13J:1c(b){1a f=b;1a d;if(1L b==a[118]&&b[a[59]]>2){if(b[a[19]](a[217])>0){b=b[a[56]](/-/g,a[218])}1e{if(b[a[19]](a[218])==-1&&!1D(1o(b))){if(b[a[59]]>8){b=1o(b)}1e{if(b[a[59]]==8){b=b[a[60]](0,4)+a[218]+b[a[60]](4,2)+a[218]+b[a[60]](6,2)}1e{if(b[a[59]]==6){b=b[a[60]](0,4)+a[218]+b[a[60]](4,2)+a[219]}1e{if(b[a[59]]>8){b=b[a[60]](0,4)+a[218]+b[a[60]](4,2)+a[218]+b[a[60]](6,2)+b[a[60]](8)}}}}}1e{d=b[a[54]](a[177]);if(d[a[59]]==2&&d[0][a[59]]==8&&d[0][a[19]](a[218])==-1&&!1D(1o(d[0]))){b=d[0][a[60]](0,4)+a[218]+d[0][a[60]](4,2)+a[218]+d[0][a[60]](6,2);b+=a[177]+d[1]}}}};b=b?1j 1Z(b):1j 1Z();if(1D(b)){1d f};1d b},14e:1c(f,g,k){1a b=2ir;1a l=6m*60*60*24;1a o;1a d,m;1a j;1a h;1a n;if(g!==1T){d=V[a[f3]](f,g)}1e{d=1b[a[2ip]](f)};if(1D(d)||!i(d[a[4Z]])){1d 1g};o=d[a[4Z]]();m=1Z[a[240]](o,d[a[7p]](),d[a[9C]]());j=1k[a[244]](m/l);if(o>=z7){h=b+j}1e{if(o>=19s){if(j>=-2iq){h=b+j}1e{h=b+j-1}}1e{1d 1g}};if(h<=0){1d 1g};n=d[a[Je]]()*0.2iK+d[a[IW]]()*0.2iL+d[a[F5]]()*0.2j5;1d k===1f?1dT+h+n:h+n},2j6:1c(b,f,k){1a l=f;1a m=k;1a h={};1a i;1a j;1i(1a d=0,g=b[a[59]];d<g;d++){i=b[d];i[a[1p]]=[];h[i[l]]=i;j=i[m]||a[217];if(!h[j]){h[j]={w6:[]}};h[j][a[1p]][a[1s]](i)};1d h[a[217]][a[1p]]},14f:1c(b,j,d,g){1a h;1i(1a f=0,i=b[a[59]];f<i;f++){h=b[f];if(h[d]&&h[d][a[59]]){if(g){j[j[a[59]]]=h};1b[a[B5]](h[d],j,d,g)}1e{j[j[a[59]]]=h}};1d j},14d:1c(b,f,i){1a h={};1a d,g;if(l(f)){1i(d=0,g=b[a[59]];d<g;d++){h[b[d]]=1}}1e{if(i==a[4H]){1i(d=0,g=b[a[59]];d<g;d++){h[b[d][f]]=d}}1e{1i(d=0,g=b[a[59]];d<g;d++){h[b[d][f]]=1}}};1d h},14c:1c(f){1a b=[];if(l(f)){1d b};1i(1a d in f){b[b[a[59]]]=d};1d b},2j4:1c(f){1a b=[];if(l(f)){1d b};1i(1a d in f){b[b[a[59]]]=f[d]};1d b},14a:1c(d,f){1a b=1f;if(bn(d)&&bn(f)){if(6w[a[9T]](d)[a[59]]==6w[a[9T]](f)[a[59]]){cd[a[1q]](d,1c(a,d){if(f[a]!==d){b=1g;1d 1g}});1d b}};1d 1g},14b:1c(d,f){1a b=1f;if(bn(d)&&bn(f)){cd[a[1q]](d,1c(a,d){if(f[a]!==d){b=1g;1d 1g}});1d b};1d 1g},2j3:1c(b,d){1a g=1f;if(b===d){1d 1f};if(b==1h||d==1h){1d 1g};if(b[a[59]]!==d[a[59]]){1d 1g};1i(1a f=0;f<b[a[59]];++f){if(b[f]!==d[f]){g=1g;1l}};1d g},14g:1c(d){if(1L 1N[a[Ef]]!=a[0]){1d 1N[a[Ef]](d)}1e{if(1L 1N[a[DK]]!=a[0]){1a b=d[a[54]](a[177]);1b[a[1q]](b,1c(d,f){b[d]=a[b4]+f});1d 1N[a[DK]](b[a[61]](a[58]))}};1d[]},14h:1c(d,f){1a g=d[a[kP]](),h=g[a[154]],b=g[a[4S]],d=f||d[a[95]];g=d[a[kP]]();if(h>=g[a[154]]&&b<=g[a[4S]]){1d 1f};1d 1g},14m:1c(f,h){1a b;1a g=1g;1a d=f;1U(d){b=d[a[165]];if(b&&b[a[19]]&&b[a[19]](h)>=0){g=1f;1l};d=d[a[95]];if(d===1N[a[102]]){1l}};d=1h;1d g},14l:1c(f,h){1a b;1a g=1g;1a d=f;1U(d){b=d[a[165]];if(b&&b[a[19]]&&b[a[19]](h)>=0){g=1f;1l};d=d[a[95]];if(d===1N[a[102]]||d[a[165]]===a[sa]){1l}};d=1h;1d g},1K$HP:1c(g,f){1a d=g[a[165]];1a b=d[a[54]](a[177]);if(b[a[19]](f)<0){g[a[165]]=d+a[177]+f}},1K$Hu:1c(g,f){1a d=g[a[165]];1a b=d[a[54]](a[177]);1a j=[];if(b[a[19]](f)>=0){1i(1a h=0,i=b[a[59]];h<i;h++){if(b[h]!=f){j[a[1s]](b[h])}};g[a[165]]=j[a[61]](a[177])}},2j1:1c(){1a b=1N[a[tp]];if(!b||b==1N[a[102]]){b=1h}1e{if(1N[a[Dt]]){b=1N[a[Dt]](a[2j2])}};1d b},14k:1c(d){1a b=0;if(y[a[24]]){1d b};d=d[a[128]](2);4v(d){1C a[2j7]:;1C a[2j8]:;1C a[2jd]:;1C a[2jc]:;1C a[2jb]:;1C a[2j9]:;1C a[2ja]:b=0.36;1l;1C a[2j0]:b=0.67;1l;1C a[2iZ]:b=1.2iQ;1l;1C a[2iR]:b=1;1l;4w:b=0};1d b},FH:1c(k,s,q,g){1a d;1a i;if(l(q)){q=a[1jq]};if(l(g)){g=1g};d={Hb:1b[a[1jo]],Hd:q};1a p=[];1a o=(i=k[a[59]]);cd[a[1q]](k[a[54]](a[58]),1c(f,b){if(d[a[ub]][b]){p[a[1s]](1j 5s(d[a[ub]][b]))}1e{p[a[1s]](1h)}});1a j=k[a[54]](a[58])[a[nY]](1c(b,f){1d d[a[ub]][b]?n(f):b});1a h=-1;1a f,b,r;1i(f=0,r=0;f<i;f++){if(p[f]){j[f]=m(f);1U(r++<s[a[59]]){b=s[a[4J]](r-1);if(p[f][a[25]](b)){j[f]=b;h=f;1l}};if(r>s[a[59]]){m(f+1,i);1l}}1e{if(j[f]===1E(s)[a[4J]](r)){r++};if(f<o){h=f}}};if(h+1<o){1d 1h};if(g){1d j[a[nY]](1c(a,b){1d p[b]&&a!=n(b)?a:1h})[a[61]](a[58])};1d j[a[61]](a[58]);1c n(b){if(b<q[a[59]]){1d q[a[4J]](b)};1d q[a[4J]](0)}1c m(d,a){1a b;1i(b=d;b<a&&b<i;b++){if(p[b]){j[b]=n(b)}}}},2iP:1c(b,d,a){if(b&&d){1d b[a]===1T||b[a]===1h?d[a]:b[a]}},14i:1c(d){1a b;if(l(d)){d=a[58]};if(l(2g[a[13Z]])){b=14j(d)[a[37]](/%[2iO]/g);1d d[a[59]]+(b?b[a[59]]:0)};1d 1j 2g[a[13Z]]()[a[mj]](d)[a[59]]},2iM:1c(f){if(f===1h||f[a[59]]==0){1d 0};1a g=0;1i(1a b=0,d=f[a[59]];b<d;b++){g+=1b[a[13Y]](f[a[4J]](b))};1d g},2iN:1c(h,f){if(h===1h||h[a[59]]==0){1d 0};1a i=0;1a g=h[a[59]];1i(1a b=0,d=h[a[59]];b<d;b++){i+=1b[a[13Y]](h[a[4J]](b));if(i==f){g=b+1;1l}1e{if(i>f){g=b;1l}}};1d h[a[4c]](0,g)},13O:1c(b){if(b===1h||b[a[59]]==0){1d 0};1a d=b[a[5q]](0);if(d<=2iS){1d 1}1e{if(d<=2iT){1d 2}1e{if(d<=2p9){1d 3}1e{1d 4}}}},13P:1c(o){if(2g[a[RI]]&&i(2g[a[RI]])){1d 2g[a[RI]](o)};1a n=a[58];1a d,f,g;1a h,j,k,l;1a m=0;1a b=a[H5];o=o[a[56]](/[^A-Za-z0-9\\+\\/\\=]/g,a[58]);1U(m<o[a[59]]){h=b[a[19]](o[a[4J]](m++));j=b[a[19]](o[a[4J]](m++));k=b[a[19]](o[a[4J]](m++));l=b[a[19]](o[a[4J]](m++));d=(h<<2)|(j>>4);f=((j&15)<<4)|(k>>2);g=((k&3)<<6)|l;n=n+1E[a[4r]](d);if(k!=64){n=n+1E[a[4r]](f)};if(l!=64){n=n+1E[a[4r]](g)}};1d n},13N:1c(f){1a d=1g;1a b=1o(f);if(bl(b)){d=1f}1e{if(b>2iX.2iW){d=1f}1e{if(b>=1&&1E(f)[a[4J]](0)==a[215]){d=1f}}};1d d}};1a u={13M:1c(g,b,d){1a f=1j 2iU();f[a[Qa]](a[2iV],g,1f);f[a[2ig]]=a[hX];f[a[2if]]=1c(){if(f[a[2hC]]==4){if(f[a[eY]]==200){b(f[a[2hD]],g)}1e{d(g,f[a[2hB]])}}};f[a[2hA]](1h)},13K:1c(k,d,h){1a j=1g;1a f={};1i(1a i=0;i<k[a[59]];i++){1a b=1c(g,i){if(j){1d};f[i]=g;1a h=0;1i(1a b in f){if(f[a[65]](b)){h++}};if(h==k[a[59]]){d(f)}};1a g=1c(a){j=1f;h(a)};1b[a[Vs]](k[i],b,g)}}};1c cb(b){p[a[21]](1b,a[2hy],b);1a d=1b;d[a[jA]]=0}bf(cb,p);bv=cb[a[23]];bv[a[BS]]=1c(d){1a b=1b;b[a[jA]]=d;if(d==0){b[a[204]](a[155]);b[a[204]](a[ym]);1d};b[a[150]](a[ym],a[156]+d+a[BT]);b[a[150]](a[155],a[156]+d+a[BT])};1c bV(b){p[a[21]](1b,a[2hz],b);1a d=1b;d[a[RP]]=a[7j];d[a[Ry]]=a[7j];d[a[Rw]]=a[7j];d[a[Sg]]=a[7j];d[a[Sb]]=a[7j];d[a[u3]]=0;d[a[pr]]=0}bf(bV,p);bv=bV[a[23]];bv[a[132]]=1c(b){1b[a[139]][a[hT]]=1h;p[a[23]][a[132]][a[63]](1b,1Y)};bv[a[199]]=1c(b){1a d=1b;if(1Y[a[59]]>1){if(1Y[0]==a[2T]){if(d[a[u3]]==1Y[1]){1d};d[a[u3]]=1Y[1]}1e{if(1Y[0]==a[7e]){if(d[a[pr]]==1Y[1]){1d};d[a[pr]]=1Y[1]}}};p[a[23]][a[199]][a[63]](1b,1Y)};bv[a[200]]=1c(b){1a d=1b;if(b==a[2T]){1d d[a[u3]]}1e{if(b==a[7e]){1d d[a[pr]]}};1d p[a[23]][a[200]][a[21]](1b,b)};bv[a[201]]=1c(b){1a d=1b;if(b==a[2T]){d[a[u3]]=0}1e{if(b==a[7e]){d[a[pr]]=0}};p[a[23]][a[201]][a[21]](1b,b)};bv[a[uu]]=1c(i){1a h=1b;1a d,b,g,j,f;if(i[a[3s]]){d=i[a[3s]]}1e{d=a[7j]};if(h[a[RP]]!=d){h[a[139]][a[169]][a[3s]]=h[a[RP]]=d};if(i[a[e0]]){b=i[a[e0]]}1e{b=a[7j]};if(h[a[Ry]]!=b){h[a[139]][a[169]][a[e0]]=h[a[Ry]]=b};if(i[a[7l]]){g=i[a[7l]]}1e{g=a[7j]};if(h[a[Rw]]!=g){h[a[139]][a[169]][a[7l]]=h[a[Rw]]=g};if(i[a[8P]]){j=i[a[8P]]}1e{j=a[7j]};if(h[a[Sg]]!=j){h[a[139]][a[169]][a[8P]]=h[a[Sg]]=j};if(i[a[cI]]){f=i[a[cI]]}1e{f=a[7j]};if(h[a[Sb]]!=f){h[a[139]][a[169]][a[cI]]=h[a[Sb]]=f}};1c bZ(b){p[a[21]](1b,a[245],b);1b[a[66]]()}bf(bZ,p);bv=bZ[a[23]];bv[a[66]]=1c(){1b[a[199]]({DT:a[13L],aT:a[2hE]})};1c G(b){p[a[21]](1b,a[2e],b||a[2hF]);1a d=1b;d[a[E1]]=1g;d[a[66]]()}bf(G,p);bv=G[a[23]];bv[a[66]]=1c(){1a b=1b;b[a[199]]({1P:a[gO],10G:-1});b[a[150]](a[190],a[oC])};bv[a[202]]=1c(d){1a f=1b;if(1Y[a[59]]>1){if(1Y[0]==a[5d]){f[a[E1]]=1Y[1]}1e{if(bn(d)){1i(1a b in d){if(b==a[5d]){f[a[E1]]=d[b];1l}}}}};p[a[23]][a[202]][a[63]](1b,1Y)};bv[a[203]]=1c(b){1a d=1b;if(b==a[5d]){1d d[a[E1]]};1d p[a[23]][a[203]][a[63]](1b,1Y)};1c I(b){p[a[21]](1b,a[3M],b||a[2hK]);1a d=1b;d[a[3n]]=1g;d[a[45]]=a[58];d[a[66]]()}bf(I,p);bv=I[a[23]];bv[a[66]]=1c(){1a b=1b;b[a[139]][a[144]]=1b;r(b[a[139]],a[2h],b[a[9N]]);b[a[cJ]]()};bv[a[132]]=1c(d){1a b=1b;b[a[3A]][a[132]](d);b[a[3K]][a[132]](d);bA(b[a[139]],a[2h],b[a[9N]]);p[a[23]][a[132]][a[21]](1b,d)};bv[a[cJ]]=1c(){1a b=1b;b[a[3A]]=1j bs(a[gO]);b[a[210]](b[a[3A]],1f);b[a[3K]]=1j bN();b[a[210]](b[a[3K]],1f)};bv[a[135]]=1c(){1a b=1b;if(b[a[3n]]){b[a[3A]][a[202]](a[5d],1f)}1e{b[a[3A]][a[202]](a[5d],1g)}};bv[a[214]]=1c(d){1b[a[45]]=d;1a b=1b[a[3K]][a[139]];b[a[47]]!=1h?(b[a[47]]=d):(b[a[48]]=d)};bv[a[qU]]=1c(b){1a d=1b;d[a[3n]]=b;d[a[3A]][a[202]](a[5d],b)};bv[a[9N]]=1c(b){1a d=1b[a[144]];d[a[3n]]=!d[a[3n]];b[a[92]]();if(d[a[3n]]){d[a[3A]][a[202]](a[5d],1f)}1e{d[a[3A]][a[202]](a[5d],1g)};d[a[136]]({1P:a[2hJ],aR:d[a[3n]],5o:d[a[45]]})};1c S(b){I[a[21]](1b,b);1a d=1b;d[a[4H]]=-1}bf(S,I);bv=S[a[23]];bv[a[132]]=1c(d){1a b=1b;b[a[139]][a[144]]=1h;b[a[3A]][a[132]](d);b[a[3K]][a[132]](d);bA(b[a[139]],a[2h],b[a[9N]]);p[a[23]][a[132]][a[21]](1b,d)};bv[a[9N]]=1c(b){I[a[23]][a[9N]][a[21]](1b,b);1a d=1b[a[144]];d[a[136]]({1P:a[g5],jH:d[a[4H]],5T:d[a[3n]],5o:d[a[45]],4M:d[a[2b]]})};1c T(b){p[a[21]](1b,a[43],b);1a d=1b;d[a[5L]]=1h;d[a[zh]]=1h;d[a[66]]()}bf(T,p);bv=T[a[23]];bv[a[66]]=1c(){1a b=1b;b[a[139]][a[144]]=1b;r(b[a[139]],a[2i],b[a[kp]]);b[a[pF]]=1j O(a[2hI]);b[a[210]](b[a[pF]],1f);b[a[yB]]=1j O(a[2hG]);b[a[pF]][a[210]](b[a[yB]],1f);b[a[DL]]=1j O(a[2hH]);b[a[yB]][a[210]](b[a[DL]],1f);b[a[kY]]=1j O(a[2hx]);b[a[kY]][a[139]][a[144]]=b;r(b[a[kY]][a[139]],a[2h],b[a[kp]]);b[a[yB]][a[210]](b[a[kY]],1f);b[a[od]]=1j O(a[2hw]);b[a[od]][a[139]][a[144]]=1b;r(b[a[od]][a[139]],a[h6],b[a[q2]]);b[a[pF]][a[210]](b[a[od]],1f);b[a[pJ]]=1j O(a[2hm]);b[a[pF]][a[210]](b[a[pJ]],1f);b[a[kg]]=1j bN(a[2hn]);b[a[kg]][a[150]](a[ij],a[x0]);b[a[kg]][a[139]][a[144]]=1b;r(b[a[kg]][a[139]],a[2h],b[a[DI]]);b[a[pJ]][a[210]](b[a[kg]],1f);b[a[ks]]=1j bN(a[2hl]);b[a[ks]][a[150]](a[ij],a[x0]);b[a[ks]][a[139]][a[144]]=1b;r(b[a[ks]][a[139]],a[2h],b[a[kp]]);b[a[pJ]][a[210]](b[a[ks]],1f)};bv[a[132]]=1c(d){1a b=1b;bA(b[a[139]],a[2i],b[a[kp]]);bA(b[a[kg]][a[139]],a[2h],b[a[DI]]);bA(b[a[ks]][a[139]],a[2h],b[a[kp]]);bA(b[a[kY]][a[139]],a[2h],b[a[kp]]);b[a[139]][a[144]]=1h;b[a[kg]][a[139]][a[144]]=1h;b[a[ks]][a[139]][a[144]]=1h;b[a[kY]][a[139]][a[144]]=1h;b[a[DL]][a[132]](1f);b[a[kY]][a[132]](1f);b[a[yB]][a[132]](1f);bA(b[a[od]][a[139]],a[h6],b[a[q2]]);b[a[od]][a[132]](1f);b[a[kg]][a[132]](1f);b[a[ks]][a[132]](1f);b[a[pJ]][a[132]](1f);b[a[pF]][a[132]](1f);p[a[23]][a[132]][a[21]](b,d);b[a[139]]=1h};bv[a[135]]=1c(){1a n=1b;1a b=n[a[5L]];1a f=n[a[zh]];1a o=[];1a g=[{hl:-1,oN:a[58]}];1a j=[];1a k=[];1a l=a[58];1a m=a[58];1a h,i,p;1a d=0;n[a[ks]][a[214]](n[a[zw]]);n[a[kg]][a[214]](n[a[yO]]);n[a[kY]][a[202]](a[5z],n[a[J0]]);n[a[DL]][a[214]](n[a[IY]]);if(b[a[3W]]==a[4t]){p=n[a[vs]];1i(h=0,i=p[a[59]];h<i;h++){if(p[h]==a[hd]){1u};if(p[h]==1h||p[h]==a[58]){d++;1u};g[g[a[59]]]={hl:d++,oN:p[h]};if(d>=6){1l}}}1e{p=n[a[yX]];1i(h=0,i=p[a[59]];h<i;h++){if(p[h]==a[hd]){1u};if(p[h]==1h||p[h]==a[58]){d++;1u};g[g[a[59]]]={hl:d++,oN:p[h]}}};1i(h=0,i=g[a[59]];h<i;h++){if(b[a[3W]]==a[4t]&&f==6){if(g[h][a[gB]]==3){l=a[RL]}1e{l=a[58]};if(g[h][a[gB]]==5){m=a[RL]}1e{m=a[58]}}1e{if(f==g[h][a[gB]]){l=a[RL]}1e{l=a[58]};m=a[58]};j[j[a[59]]]=a[CX]+g[h][a[gB]]+a[ah]+l+a[jr]+g[h][a[1B]]+a[CY];k[k[a[59]]]=a[CX]+g[h][a[gB]]+a[ah]+m+a[jr]+g[h][a[1B]]+a[CY]};o[o[a[59]]]=a[2hk];o[o[a[59]]]=a[2hi]+n[a[Jz]]+a[2hj]+b[a[2a]]+a[aj];o[o[a[59]]]=a[2ho]+j[a[61]](a[58])+a[2hp];o[o[a[59]]]=a[2hu]+n[a[JC]]+a[2hv];o[o[a[59]]]=a[2ht]+n[a[JG]]+a[2hs];o[o[a[59]]]=a[2hq]+k[a[61]](a[58])+a[2hr];o[o[a[59]]]=a[rA];n[a[od]][a[139]][a[44]]=o[a[61]](a[58]);if(!y[a[38]]){8A(1c(){1a b=1N[a[gH]](a[13V]);if(b){b[a[eI]]()};b=1h},32)}};bv[a[DI]]=1c(i){1a n=1b[a[144]];1a b=n[a[5L]];1a d=1N[a[gH]](a[yJ])[a[2b]];1a f=1N[a[gH]](a[13V])[a[2b]];1a h=1N[a[gH]](a[2hL])[a[2b]];1a g=1N[a[gH]](a[2hM])[a[2b]];1a m=1N[a[2i6]](a[2i7]);1a k=1g;1i(1a j=0,l=m[a[59]];j<l;j++){if(m[j][a[5d]]){k=m[j][a[2b]]==a[2i5]?1f:1g;1l}};if(d==-1&&h!=-1){1d};if(d==-1){n[a[kp]][a[21]](1b,{Ru:2});1d};n[a[136]]({1P:a[zo],5l:b[a[1m]],eq:1o(d),13U:f,13S:1o(h),13T:g,10H:k});d=f=h=g=m=1h};bv[a[kp]]=1c(b){1a d=1b[a[144]];if(b[a[2i4]]==2){d[a[136]]({1P:a[z3]})}};bv[a[q2]]=1c(b){1a f=1b[a[144]];1a d=b[a[111]];if(d==13){f[a[DI]][a[21]](1b,b)}1e{if(d==27){f[a[kp]][a[21]](1b,{Ru:2})}}};1c bJ(b){p[a[21]](1b,a[43],b||a[2i2]);1a d=1b;d[a[S7]]=0;d[a[66]]()}bf(bJ,p);bv=bJ[a[23]];bv[a[66]]=1c(){1a b=1b;b[a[2F]]=1j bs(a[45]);b[a[2F]][a[2e]][a[139]][a[144]]=b;r(b[a[2F]][a[2e]][a[139]],a[2e],b[a[iX]]);r(b[a[2F]][a[2e]][a[139]],a[h6],b[a[sG]]);r(b[a[2F]][a[2e]][a[139]],a[h5],b[a[sy]]);r(b[a[2F]][a[2e]][a[139]],a[2i],b[a[RZ]]);b[a[210]](b[a[2F]],1f);b[a[Rx]]=1j bN(a[2i3]);b[a[210]](b[a[Rx]],1f)};bv[a[132]]=1c(d){1a b=1b;bA(b[a[2F]][a[2e]][a[139]],a[2e],b[a[iX]]);bA(b[a[2F]][a[2e]][a[139]],a[h6],b[a[sG]]);bA(b[a[2F]][a[2e]][a[139]],a[h5],b[a[sy]]);bA(b[a[2F]][a[2e]][a[139]],a[2i],b[a[RZ]]);b[a[Rx]][a[132]](d);b[a[2F]][a[132]](d);p[a[23]][a[132]][a[21]](b,d)};bv[a[RZ]]=1c(b){b[a[92]]()};bv[a[sy]]=1c(b){b[a[92]]()};bv[a[sG]]=1c(b){1a f=1b[a[144]];1a d=b[a[111]];1a g=(f[a[45]]=1b[a[2b]]);if(l(g)){g=a[58]};if(d==13||d==27){if(g[a[59]]>=f[a[S7]]){f[a[136]]({1P:a[zB],lc:d,5o:g})}}};bv[a[iX]]=1c(b){1a d=1b[a[144]];1a f=(d[a[45]]=1b[a[2b]]);if(l(f)){f=a[58]};if(f[a[59]]>=d[a[S7]]){d[a[136]]({1P:a[zB],lc:b[a[1w]],5o:f})}};1c A(b){p[a[21]](1b,a[3M],b||a[2i8]);1a d=1b;d[a[3h]]=a[58];d[a[66]]()}bf(A,p);bv=A[a[23]];bv[a[66]]=1c(){1a b=1b;b[a[139]][a[144]]=1b;b[a[180]](a[1ke]);r(b[a[139]],a[2h],b[a[ax]])};bv[a[132]]=1c(b){1b[a[139]][a[144]]=1h;bA(1b[a[139]],a[2h],1b[a[ax]]);p[a[23]][a[132]][a[21]](1b,b)};bv[a[ax]]=1c(b){1a d=1b[a[144]];d[a[136]]({1P:d[a[3h]]})};1c by(b){p[a[21]](1b,a[2e],b||a[2i9]);1a d=1b;d[a[66]]()}bf(by,p);bv=by[a[23]];bv[a[66]]=1c(){1b[a[199]]({1P:a[Iv]});1b[a[150]](a[190],a[oC])};1c bg(b){p[a[21]](1b,a[2e],b||a[2ie]);1a d=1b;d[a[66]]()}bf(bg,p);bv=bg[a[23]];bv[a[66]]=1c(){1b[a[199]]({1P:a[45],DP:a[pS]})};1c bh(b){p[a[21]](1b,a[43],b);1a d=1b;d[a[9e]]=1h;d[a[qC]]=a[58];d[a[fi]]=1h;d[a[Gd]]=aH;d[a[1w]]=1h;d[a[xJ]]=1h;d[a[Qt]]=1g;d[a[66]]()}bf(bh,p);bv=bh[a[23]];bv[a[66]]=1c(){1a d=1b;1a b=W[a[2k]][a[5N]]||4;d[a[139]][a[144]]=d;d[a[150]](a[QR],a[qp]+b+a[149]);r(d[a[139]],a[2i],d[a[R9]]);d[a[9e]]=1j bs(a[45],a[2id]);d[a[9e]][a[199]]({10G:-1});d[a[9e]][a[2e]][a[139]][a[144]]=d;r(d[a[9e]][a[2e]][a[139]],a[2e],d[a[Ri]],1f);r(d[a[9e]][a[2e]][a[139]],a[h5],d[a[Rf]]);r(d[a[9e]][a[2e]][a[139]],a[R6],d[a[xO]]);r(d[a[9e]][a[2e]][a[139]],a[XM],d[a[xO]]);d[a[210]](d[a[9e]],1f);d[a[fi]]=1j bN(a[2ic]);d[a[fi]][a[139]][a[144]]=d;r(d[a[fi]][a[139]],a[2h],d[a[ax]]);d[a[210]](d[a[fi]],1f)};bv[a[132]]=1c(d){1a b=1b;bA(b[a[139]],a[2i],b[a[R9]]);bA(b[a[9e]][a[2e]][a[139]],a[2e],b[a[Ri]]);bA(b[a[9e]][a[2e]][a[139]],a[h5],b[a[Rf]]);bA(b[a[9e]][a[2e]][a[139]],a[R6],b[a[xO]]);bA(b[a[9e]][a[2e]][a[139]],a[XM],b[a[xO]]);bA(b[a[fi]][a[139]],a[2h],b[a[ax]]);b[a[139]][a[144]]=1h;b[a[9e]][a[2e]][a[139]][a[144]]=1h;b[a[fi]][a[139]][a[144]]=1h;b[a[9e]][a[132]](1f);b[a[fi]][a[132]](1f);p[a[23]][a[132]][a[21]](b,d);b[a[139]]=1h};bv[a[135]]=1c(){1a i=1b;1a h=i[a[9e]];1a b=i[a[fi]];1a g=i[a[1w]];1a f=W[a[2k]][a[5N]];1a k=i[a[127]]-f*2;1a j=1g;1a d=24;if(!l(g[a[171]])){if(g[a[171]][a[iH]]===1g){i[a[213]](1g);1d}1e{if(bn(g[a[171]][a[iH]])){h[a[199]](g[a[171]][a[iH]])}}}1e{i[a[213]](1f,a[58])};if(!i[a[Qt]]&&!m(g[a[Qj]])){h[a[202]](a[2b],g[a[Qj]]);i[a[qC]]=g[a[Qj]];j=1f};if(h[a[203]](a[2b])[a[59]]>0){j=1f};if(g[a[171]]&&g[a[171]][a[QQ]]===1g){j=1g;d=f};if(j){b[a[213]](1f,a[58])}1e{b[a[213]](1g)};i[a[194]](k);h[a[194]](k-d);i[a[Qt]]=1f};bv[a[R9]]=1c(b){b[a[92]]()};bv[a[Ri]]=1c(g){1a h=1b[a[144]];1a b=h[a[1w]];1a d=h[a[Gd]];1a i=1b[a[2b]];1a f=1c(){h[a[136]]({1P:a[L7],5l:b[a[1m]],5o:i})};h[a[qC]]=i;if((1E(i)[a[59]]>0)&!(b[a[171]]&&b[a[171]][a[QQ]]===1g)){h[a[fi]][a[213]](1f,a[58])};if(h[a[xJ]]!==1h){a7(h[a[xJ]]);h[a[xJ]]=1h};h[a[xJ]]=8A(1c(){f()},d)};bv[a[Rf]]=1c(f){1a g=1b[a[144]];1a b=g[a[1w]];1a d=f[a[111]];if(d==9){f[a[91]]();g[a[136]]({1P:a[JE],5l:b[a[1m]],XN:!f[a[5u]]})}};bv[a[xO]]=1c(d){1a f=1b[a[144]];1a g=d[a[85]];1a b=f[a[1w]];if(g==a[R6]){f[a[206]](a[XL]);f[a[136]]({1P:a[Le],5l:b[a[1m]],3l:b[a[1n]]})}1e{f[a[207]](a[XL])}};bv[a[ax]]=1c(d){1a f=1b[a[144]];1a b=f[a[1w]];f[a[136]]({1P:a[Ku],5l:b[a[1m]]})};bv[a[G6]]=1c(){1a d=1b;1a b=d[a[9e]];b[a[202]](a[2b],a[58]);d[a[qC]]=a[58];d[a[fi]][a[213]](1g)};bv[a[19K]]=1c(g){1a f=1b;1a b=f[a[1w]];1a d=f[a[9e]];d[a[202]](a[2b],g);f[a[qC]]=g;if((1E(g)[a[59]]>0)&!(b[a[171]]&&b[a[171]][a[QQ]]===1g)){f[a[fi]][a[213]](1f,a[58])}};bv[a[19p]]=1c(){1a b=1b;1d b[a[qC]]};bv[a[p8]]=1c(){1b[a[9e]][a[2e]][a[139]][a[eI]]()};1c bs(d,b){p[a[21]](1b,a[7M],a[2ia]);1a f=1b;f[a[2e]]=1h;f[a[y8]]=d||a[45];f[a[XK]]=b||a[58];f[a[66]]()}bf(bs,p);bv=bs[a[23]];bv[a[66]]=1c(){1a d=1b;1a b=d[a[XK]];if(d[a[y8]]===a[gO]){d[a[2e]]=1j G(b);d[a[2e]][a[133]](16,16)}1e{if(d[a[y8]]===a[Iv]){d[a[2e]]=1j by(b);d[a[2e]][a[133]](16,16)}1e{d[a[2e]]=1j bg(b)}};d[a[210]](d[a[2e]],1f)};bv[a[132]]=1c(d){1a b=1b;b[a[2e]][a[132]](d);p[a[23]][a[132]][a[21]](1b,d)};bv[a[199]]=1c(b){1b[a[2e]][a[199]][a[63]](1b[a[2e]],1Y)};bv[a[200]]=1c(b){1d 1b[a[2e]][a[200]](b)};bv[a[202]]=1c(b){1b[a[2e]][a[202]][a[63]](1b[a[2e]],1Y)};bv[a[203]]=1c(b){1d 1b[a[2e]][a[203]](b)};bv[a[133]]=1c(d,b){1b[a[2e]][a[133]](d,b)};bv[a[194]]=1c(b){1b[a[2e]][a[194]](b)};bv[a[195]]=1c(b){1b[a[2e]][a[195]](b)};bv[a[150]]=1c(b){1b[a[2e]][a[150]][a[63]](1b[a[2e]],1Y)};1c bd(b){p[a[21]](1b,a[4m],b||a[2ib]);1a d=1b;d[a[66]]()}bf(bd,p);bv=bd[a[23]];bv[a[66]]=1c(){1b[a[150]]({az:a[215],9d:0,lq:0,XI:a[cY],DW:a[kR]})};1c x(b){p[a[21]](1b,a[iu],b)}bf(x,p);y[a[oU]]=y[a[51]]({kG:a[oU],p1:a[43],oT:a[sa],XJ:1g,RC:1f,Rt:3,XO:50,Sa:1f,XP:1f,QI:14,XU:4,XV:10,Rb:a[7d],Rc:a[7d],XT:1h,XS:1h,XQ:1,XR:1h,XH:1g,XG:1h,Xw:1h,Xx:1h,2i1:1h,Xv:1h,Xu:80,vZ:1f,Xs:40,Ic:1g,Xt:1g,Xy:25,Xz:1g,XE:1h,XF:1h,XD:1h,1K$XC:0,XA:0,XB:0,MI:26,XW:1h,N1:30,XX:1h,vz:26,Yj:20,yU:1g,Yk:a[x2],Yh:a[x2],1K$Yg:1h,GC:1h,Ye:1h,Yf:0,Yl:0,Ym:0,Yr:1f,Yq:1g,Yp:1f,Yn:1f,Yo:1g,Yd:1g,Yc:1g,Y2:40,Y3:a[2i0],Y1:12,Y0:18,XY:0,XZ:1g,Y4:1g,CV:0,Y5:0,Ya:1f,CW:0,2hR:0,2hS:1f,nL:1h,xV:1h,Yb:a[nO],pW:1h,Y9:1g,Y8:a[Bt],Y6:1g,Y7:1h,Xr:1g,Xq:1f,2hQ:1g,WL:1g,WM:1g,WK:1g,WJ:1g,WH:1g,WI:50,WN:a[4S],WO:a[2hP],WT:a[2hN],WU:a[2hO],WS:a[2hT],WR:a[2hU],WP:a[2hZ],WQ:a[1lb],WG:a[2hY],WF:a[2hX],Wv:a[2hV],Ww:a[2hW],Wu:a[2je],Wt:a[2jf],Wr:a[2kz],Ws:1f,Wx:a[2kA],Wy:[a[2ky],a[2kx],a[2kv],a[2kw],a[2kB],a[2kC]],WD:a[2kH],WE:a[2kG],WC:[a[2kF],a[2kD],a[hd],a[2kE],a[2ku],a[hd],a[2kt],a[2kj]],WB:[a[2kk],a[2ki],a[hd],a[2kh],a[2kf],a[2kg],a[2kl],a[2km],a[hd],a[2kr],a[2ks],a[2kq]],WA:10,WV:1g,WW:a[221],Xh:20,FJ:1,E6:2z,Xi:34,Xg:1h,Xf:1f,Xd:1h,Xe:{},Xj:1g,Xk:1g,$Xp:1g,$zA:1g,Xo:1h,Xn:[{5y:a[1sX],pi:a[nC]},{5y:a[1pd],pi:a[nC]},{5y:a[1pc],pi:a[nC]},{5y:a[1pg],pi:a[nC]},{5y:a[hd]},{5y:a[1p2],pi:a[nC]},{5y:a[1p6],pi:a[nC]}],Xl:[],2kp:[],Xm:0,Xc:0,Xb:1g,X1:1f,X2:a[5u],X0:a[2kn],O5:a[53],7g:1h,WZ:1f,WX:1g,WY:1g,X3:1g,Fx:1g,X4:16,X9:1f,IX:1f,Xa:a[2ko],X8:1g,2kI:1g,X7:18,X5:1f,z8:1g,X6:1f,Ys:1h,Yt:1h,ZQ:1h,ZR:1h,ZP:1g,ZO:aH,ZM:20,2kJ:1f,ZN:1g,ZS:EK,ZT:1f,ZY:1g,10a:1f,ZX:1f,ZW:1g,ZU:1h,ZV:a[145],ZL:1f,ZK:6m,ZA:1f,ZB:1g,Zz:1h,Zy:1h,Zw:1h,Zx:1h,ZC:1g,ZD:1f,ZI:1g,ZJ:1f,ZH:1g,ZG:1g,ZE:1g,ZF:a[2l3],10b:v5,10c:260,10x:1g,10y:1h,10w:-1,10v:-1,10t:1h,10u:1h,10z:1f,10A:1f,10F:1g,2l4:1h,10E:a[2l2],vO:1f,10D:1h,10B:1g,10C:1h,10s:1h,10r:1g,10h:1g,10i:1g,10g:1f,10f:1f,10d:1f,10e:1f,10j:a[4S],10k:1h,10p:50,10q:30,10o:100,10n:1f,10l:1f,10m:1f,Zv:0,Zu:1h,YO:1f,YP:1g,YN:1g,YM:1g,YK:1g,YL$YQ:1f,YR:1f,YW:1f,YX:1g,YV:1g,YU:1h,YS:1g,YT:1f,YJ:1h,YI:1g,Yy:1g,Yz:1f,Yx:1f,Yw:1g,Yu:1f,Yv:a[221],YA:a[221],YB:1f,YG:1h,YH:1h,YF:1h,YE:0,YC:0,YD:1g,YY:1g,YZ:a[221],Zl:1h,Zm:1h,Zk:a[2l1],Zj:a[2kZ],Zh:a[2l0],Zi:1g,Zn:1g,Zo:2z,Zt:aH,Zs:1h,Zr:1g,Zp:EK,Zq:1g,Zg:1h,Zf:1f,Z4:1f,Z5:2z,Z3:2z,Z2:2z,Z0:2z,Z1:1g,Z6:1g,Z7:1g,Zd:1f,Ze:1f,Zc:1g,Zb:1h,Z8:1f,Z9:1h,15x:1g,15y:a[2l5],1bB:1f,1bC:1f,1bA:1h,1bz:1g,1bx:1g,1by:[10,20,30,40,50],1bD:1g,1bE:1g,1bJ:8,1bK:1g,1bI:1g,1bH:1g,1bF:1f,1bG:1f,1bw:1g,1bv:1f,1bl:a[221],1bm:1g,1bk:1g,1bj:1f,1bh:1h,$1bi:1g,1bn:1g,1bo:1g,1bt:a[2l6],1bu:a[4S],1bs:1g,1br:1g,1bp:1f,1bq:1g,1bL:1g,1bM:1g,1c7:1g,1c8:1,1c6:1h,1c5:1,1c3:1h,1c4:1f,1c9:1f,1ca:1h,1cf:1f,1ce:1g,Fu:1g,1cd:32,1cb:2z,1cc:14,1c2:20,1c1:1,1bR:1g,1bS:30,1bQ:aH,1bP:1h,1bN:1h,1bO:fT,1bT:1f,1bU:a[221],1bZ:a[221],1c0:1,1bY:1g,1bX:1g,1bV:1g,1bW:1f,1bg:1h,1bf:a[58],1aA:1h,1aB:1h,1az:1g,1ay:1g,1aw:1f,1ax:1h,2lb:[],1aC:[],1aD:a[nO],1aI:a[58],1aJ:1g,1aH:1g,1aG:1g,1aE:1f,1aF:1h,1av:1g,1au:1f,1ak:-1,1al:-1,1aj:1g,1ai:1g,1ag:1g,1ah:1h,1am:1g,1an:1f,1as:1h,1at:1g,1ar:[a[2la],a[2l9]],1aq:1f,$1ao:1g,1ap:1g,1aK:4,1aL:1h,1K$pf:1c(){1a b=1b;b[a[lg]]={};b[a[1W]]=[];b[a[1O]]=[];b[a[1I]]={};b[a[nf]]=[];b[a[uG]]=[];b[a[uH]]=[];b[a[8r]]={};b[a[4C]]={};b[a[k4]]={};b[a[jc]]={};b[a[sN]]={};b[a[9t]]={};b[a[jX]]=1g;b[a[6P]]={};b[a[4D]]={};b[a[ar]]={};b[a[1iu]]={1b6:1f,1b7:1f,Pw:1f,Pq:1f,Pm:1f,1b5:1f,1b4:1f};b[a[1ds]]={1b2:1f,1b3:1f,1b8:1f,Pw:1f,Pq:1f,Pm:1f};b[a[qn]]=[];b[a[gk]]=[];b[a[yr]]=[];b[a[ys]]=[]},Pn:1c(){1a b=1b;if(b[a[he]]){1d};b[a[he]]=1f;b[a[150]]({aC:a[9M],2l7:0});b[a[dh]]=1j O(a[2l8]);b[a[dh]][a[213]](1g);b[a[210]](b[a[dh]]);b[a[2kY]]();b[a[2kX]]();b[a[2kO]]();b[a[N4]]=1f;b[a[6m]]([])},1b9:1c(){1a b=1b;b[a[8m]]=1j O(a[2kP]);b[a[8m]][a[150]](a[Ap],a[9M]);b[a[210]](b[a[8m]]);b[a[fz]]=1j O(a[1be]);b[a[fz]][a[150]](a[Rn],a[192]);b[a[210]](b[a[fz]]);b[a[dI]]=1j O(a[1be]);b[a[dI]][a[150]](a[Rn],a[192]);b[a[dI]][a[213]](1g);b[a[210]](b[a[dI]]);b[a[ld]]=1j O(a[1bc]);b[a[8m]][a[210]](b[a[ld]]);b[a[j7]]=1j O(a[P5]);b[a[j7]][a[150]](a[Ap],a[9M]);b[a[8m]][a[210]](b[a[j7]]);b[a[gJ]]=1j O(a[1ba]);b[a[8m]][a[210]](b[a[gJ]])},1bd:1c(){1a b=1b;b[a[2D]]=1j n();b[a[2D]][a[199]](a[5z],a[177]);b[a[2D]][a[8D]]=1g;b[a[2D]][a[vK]]=1f;b[a[2D]][a[139]][a[l2]]=b;b[a[2D]][a[150]]({BU:a[1ct],a4:a[1cv]});b[a[2D]][a[133]](1,1);b[a[2D]][a[134]](-1cu,0);r(b[a[2D]],a[vG],b[a[AD]],b);r(b[a[2D]],a[4Q],b[a[dk]],b);r(b[a[2D]][a[139]],a[2e],b[a[P9]]);r(b[a[2D]][a[139]],a[h5],b[a[Nh]]);r(b[a[2D]][a[139]],a[h6],b[a[1gm]]);r(b[a[2D]][a[139]],a[1gl],b[a[1gf]]);b[a[210]](b[a[2D]],1f);b[a[8q]]=1j O(a[1oU]);b[a[8q]][a[150]]({a4:a[184],aC:a[9M]});b[a[210]](b[a[8q]]);b[a[5c]]=1j O();b[a[8q]][a[210]](b[a[5c]]);b[a[eb]]=1j O(a[2kN]);b[a[di]](b[a[eb]]);b[a[ku]]=1j O(a[1bc]);b[a[eb]][a[210]](b[a[ku]]);b[a[d8]]=1j O(a[P5]);b[a[d8]][a[150]](a[Ap],a[9M]);b[a[eb]][a[210]](b[a[d8]]);b[a[gE]]=1j O(a[1ba]);b[a[eb]][a[210]](b[a[gE]])},1bb:1c(d){1a b=1b;if(!l(b[a[ku]])){b[a[ku]][a[132]](d)};b[a[ku]]=1h;if(!l(b[a[d8]])){b[a[d8]][a[132]](d)};b[a[d8]]=1h;if(!l(b[a[gE]])){b[a[gE]][a[132]](d)};b[a[gE]]=1h;if(!l(b[a[5c]])){b[a[5c]][a[132]](d)};b[a[5c]]=1h;if(!l(b[a[8q]])){b[a[8q]][a[132]](d)};b[a[8q]]=1h;if(!l(b[a[eb]])){b[a[eb]][a[132]](d)};b[a[eb]]=1h},1b1:1c(){1a f=1b;1a d={Cz:a[192],az:a[192]};f[a[fo]]=1j O(a[2kM]);f[a[fo]][a[213]](1g);f[a[210]](f[a[fo]]);f[a[8l]]=1j O(a[wd]);f[a[8l]][a[213]](1g);f[a[8l]][a[150]](d);f[a[210]](f[a[8l]]);f[a[ak]]=1j O(a[wd]);f[a[ak]][a[213]](1g);f[a[ak]][a[150]](d);f[a[210]](f[a[ak]]);f[a[aD]]=1j O(a[wd]);f[a[aD]][a[213]](1g);f[a[aD]][a[150]](d);f[a[210]](f[a[aD]]);f[a[8G]]=1j O(a[wd]);f[a[8G]][a[213]](1g);f[a[8G]][a[150]](d);f[a[210]](f[a[8G]]);f[a[2C]]=1j h(a[PG]);f[a[1R]]=1j h(a[PJ]);f[a[1R]][a[a1]]=a[PL];f[a[210]](f[a[2C]]);f[a[210]](f[a[1R]]);f[a[r2]]=1j O(a[2kK]);f[a[210]](f[a[r2]]);f[a[xd]]=0;f[a[xL]]=1h;if(f[a[xd]]==0){b();f[a[xL]]=gI(1c(){b()},2kL)};f[a[ey]]=1j O();f[a[ey]][a[213]](1g);f[a[ey]][a[150]](a[g6],a[19g]);f[a[210]](f[a[ey]]);f[a[ev]]=1j O(a[2kQ]);f[a[ev]][a[150]](a[g6],a[rw]);f[a[210]](f[a[ev]]);f[a[dw]]=1j O();f[a[dw]][a[150]](a[g6],a[rw]);f[a[210]](f[a[dw]]);1c b(){if(f&&f[a[139]]){1a b=cd[a[xh]];if(f[a[gN]]){8R{f[a[139]][a[188]](f[a[gN]]);f[a[gN]]=1h}8g(e){f[a[gN]]=1h}};f[a[gN]]=1N[a[10]](a[43]);f[a[xd]]=f[a[kK]]+Q[a[Re]];f[a[gN]][a[44]]=b(a[2kR]);f[a[gN]][a[162]](a[169],b(a[2kW]));f[a[139]][a[185]](f[a[gN]])}}},1b0:1c(d){1a b=1b;if(!l(b[a[2v]])&&!l(b[a[2v]][a[139]])){b[a[2v]][a[139]][a[144]]=1h;bA(b[a[2v]][a[139]],a[2i],b[a[tP]]);b[a[2v]][a[132]](d)};b[a[2v]]=1h;if(!l(b[a[2C]])){b[a[2C]][a[132]](d)};b[a[2C]]=1h;if(!l(b[a[1R]])){b[a[1R]][a[132]](d)};b[a[1R]]=1h;b[a[yP]]();if(!l(b[a[7Q]])){bA(b[a[7Q]][a[139]],a[2i],b[a[1qO]]);b[a[7Q]][a[132]](d)};b[a[7Q]]=1h;if(!l(b[a[fo]])){b[a[fo]][a[132]](d)};b[a[fo]]=1h;if(!l(b[a[ev]])){b[a[ev]][a[132]](d)};b[a[ev]]=1h;if(!l(b[a[dw]])){b[a[dw]][a[132]](d)};b[a[dw]]=1h},1aQ:1c(g){1a d=1b;if(l(g)){g=[]}1e{if(!bi(g)){g=[g]}};if(d[a[1J]]||d[a[8o]]){d[a[2l]](1f,1f)};if(d[a[ev]]){d[a[ev]][a[213]](1g)};d[a[Cd]]=1f;d[a[1x]]=1h;d[a[xz]]=1f;d[a[2c]]=1h;d[a[8I]]=1h;d[a[8p]]=1h;d[a[2U]]=1h;d[a[2N]]=[];d[a[8H]]=1f;d[a[1Q]]=1g;d[a[4z]]=1g;d[a[9t]]={};d[a[ar]]={};d[a[o0]]=1g;1a b=d[a[p3]];d[a[p3]]=1f;1a f=d[a[Kp]];if(!l(g)&&g[a[59]]>0){if(d[a[fk]]){d[a[1Q]]=1f;d[a[4z]]=1f}1e{cd[a[1q]](g,1c(b,g){if(bi(g[a[1p]])&&g[a[1p]][a[59]]>0){d[a[1Q]]=1f;d[a[4z]]=1f;1d 1g};if(b>f){1d 1g}})}};if(d[a[1aR]]){d[a[1Q]]=1f;d[a[4z]]=1f};if(d[a[1W]]&&d[a[1W]][a[59]]>0){d[a[4z]]=1g};d[a[2U]]=g;d[a[Op]]();d[a[p3]]=b},Mv:1c(g,d){1a f=1b;1a h;if(bp(g)){h=cd[a[2kV]](g)}1e{h=g};if(bp(h)){6h 1j 6G(a[2kU]+h);1d};1a b=cd[a[2kS]](g);if(l(b)){f[a[n1]]([])}1e{if(l(d)){d=a[2kT]};f[a[n1]](b[d])}},Lk:1c(j,b,f){if(f){1a i=j[a[54]](a[ge]);1a h=[];1i(1a d=0,g=i[a[59]];d<g;d++){h[d]=i[d][a[54]](a[53])};1b[a[n1]](h)}1e{1b[a[n1]](cd[a[2ke]](j,b))}},Fr:1c(i,b,d){1a g=1b;1a f=g[a[1Q]];if(!bi(i)){i=[i]};if(l(d)){d=1g};if(g[a[1J]]||g[a[8o]]){g[a[2l]](1f,1f)};if(g[a[so]]){if(g[a[ao]]){g[a[xk]](g[a[ao]])};g[a[ao]]=1h};g[a[CJ]]=[];g[a[N4]]=1g;if(g[a[ev]]){g[a[ev]][a[213]](1g)};g[a[Cd]]=1f;g[a[1x]]=1h;g[a[xz]]=1f;g[a[2c]]=1h;g[a[8I]]=1h;g[a[8p]]=1h;g[a[2U]]=1h;g[a[yl]]=1f;g[a[g1]]=1g;g[a[ky]]=1g;g[a[dp]]=1g;g[a[2N]]=[];g[a[lg]]={};g[a[py]]={};g[a[3a]]={};g[a[8r]]={};g[a[7c]]=1g;g[a[3j]]=1h;g[a[3k]]=1h;g[a[3t]]=1h;g[a[3u]]=1h;if(g[a[4j]]){if(!l(g[a[2Y]])){g[a[2Y]][a[2kd]](1k[a[1F]](0,1o(g[a[2jA]])));g[a[2Y]][a[dW]]()}};g[a[8H]]=1f;g[a[4D]]={};g[a[4C]]={};if(l(b)){g[a[k4]]={}}1e{g[a[k4]]=cd[a[69]](1f,{},b)};g[a[BX]]();g[a[uA]]();g[a[df]]=1g;g[a[g7]]=1g;g[a[cG]]=1g;g[a[eD]]={};g[a[1Q]]=1g;g[a[4z]]=1g;1a h=g[a[Kp]];if(!l(i)&&i[a[59]]>0){if(g[a[fk]]){g[a[1Q]]=1f;g[a[4z]]=1f;i=g[a[19y]](i)}1e{if(g[a[2jB]]&&!m(g[a[AS]])&&!m(g[a[QB]])){g[a[1Q]]=1f;g[a[4z]]=1f;i=g[a[2jz]](i)}1e{cd[a[1q]](i,1c(b,d){if(bi(d[a[1p]])&&d[a[1p]][a[59]]>0){g[a[1Q]]=1f;g[a[4z]]=1f;1d 1g};if(b>h){1d 1g}})}}};if(g[a[1aR]]){g[a[1Q]]=1f;g[a[4z]]=1f};if(d){g[a[p3]]=1f}1e{if(m(g[a[1M]])||g[a[1M]]==a[x2]){g[a[1M]]=a[x2];g[a[p3]]=1g}1e{g[a[p3]]=1f}};if(g[a[1W]]&&g[a[1W]][a[59]]>0){g[a[g1]]=1f};g[a[2U]]=i;g[a[Op]]();if(f||g[a[4z]]){g[a[fZ]](1f)};g[a[fP]](1g,g[a[2jy]],g[a[1aZ]],1g,1f)},LA:1c(b){1a d=1b;d[a[3r]]=b;d[a[xz]]=1f},1aP:1c(b,g,i){1a h=1b;1a d;1a f=1h;if(l(g)){g=1f};if(!bi(b)){b=[b]};if(g){h[a[yP]]()};h[a[3j]]=1h;h[a[3k]]=1h;h[a[3t]]=1h;h[a[3u]]=1h;d=cd[a[jj]]([],b,1h,h[a[2O]]);if(h[a[sj]]&&bi(i)){f=cd[a[jj]]([],i,1h,h[a[2O]])};h[a[2N]]=[];h[a[3N]]={};h[a[eT]]=f;h[a[ez]]=d;h[a[5V]]=d;h[a[5g]]=1h;h[a[1z]]=1h;h[a[Of]]=1f;h[a[Op]]()},1aO:1c(){1a d=1b;d[a[l4]]=0;d[a[2jw]]=1f;if(d[a[fk]]){d[a[zc]]=1g};if(d[a[7A]]&&d[a[Bo]]<20){d[a[Bo]]=20};if(d[a[1X]]<d[a[Bo]]){d[a[1X]]=d[a[Bo]]};1a f=cd[a[4q]](a[1aM])||{};d[a[2C]][a[9E]]=f[a[127]]==a[Et]?1g:1f;d[a[1R]][a[9E]]=f[a[127]]==a[Et]?1g:1f;if(y[a[38]]){if(d[a[2jx]]){d[a[3w]]=0;d[a[CC]]=d[a[19L]];d[a[2C]][a[9E]]=1g;d[a[1R]][a[9E]]=1g;d[a[2C]][a[uL]]=1f;d[a[1R]][a[uL]]=1f;d[a[1R]][a[3G]][a[150]](a[Bl],a[qZ]);d[a[2C]][a[3G]][a[150]](a[Bl],a[qZ])};if(d[a[2jC]]){d[a[Ck]]=a[2h]}};if(!d[a[4z]]&&!d[a[qh]]){d[a[zc]]=1f};d[a[c0]]=1k[a[1F]](d[a[c0]],W[a[2k]][a[5N]]*2+2);if(d[a[mI]]&&d[a[wS]]){d[a[i8]]=1g};if(!d[a[6R]]||d[a[4z]]){d[a[7r]]=1g};if(d[a[2m]]){d[a[1V]]=0;d[a[dq]]=a[83]};if(d[a[tL]]){d[a[iJ]]=a[pS];d[a[2o]]=0;d[a[8G]][a[150]](a[g6],1)}1e{d[a[8G]][a[150]](a[g6],a[58])};if(d[a[ef]]){d[a[dq]]=a[pS]};d[a[xE]]=1k[a[1A]](d[a[xE]],20);d[a[8X]]=1k[a[1A]](d[a[8X]],fT);if(d[a[y5]]){d[a[hq]]=1g;d[a[ex]]=1g;d[a[oP]]=1g};if(!d[a[hq]]){d[a[oP]]=1g};if(d[a[hq]]){d[a[ex]]=1g};if(d[a[2H]]&&!d[a[fU]]){d[a[9U]]=1f};if(d[a[2H]]&&d[a[fU]]&&d[a[1hw]]){d[a[1og]]=1f;d[a[9U]]=1g};d[a[9z]]=1k[a[1F]](1,d[a[9z]]);1a b=cd[a[4q]](a[wd],1f);if(1D(d[a[pe]])&&bi(b)&&b[a[59]]>0){d[a[pe]]=b[0][a[127]];d[a[pe]]=1E(d[a[pe]])[a[56]](a[149],a[58])[a[178]]();if(m(d[a[pe]])){d[a[pe]]=2}};if(d[a[ka]]){d[a[mI]]=1f};if(!d[a[6R]]){d[a[6T]]=1g};if(d[a[su]]==a[114]){d[a[rU]]=1g};if(d[a[iM]]){d[a[la]]=1g};if(d[a[oA]]){d[a[ve]]=a[4S]};if(d[a[5F]]==a[192]){d[a[150]]({1aN:a[45],1aS:a[45]})}1e{d[a[150]]({1aN:a[192],1aS:a[192]})}},iq:1c(){1a M=1b;1a x=M[a[2C]];1a U=M[a[1R]];1a k=M[a[5c]];1a d=M[a[eb]];1a g=M[a[d8]];1a h=M[a[ku]];1a o=M[a[gE]];1a n=M[a[8q]];1a ba;1a B;1a Z;1a v;1a T;1a I;1a bb;1a bc;1a V;1a K,L,J;1a G;1a A=0;if(!bi(M[a[1z]])){1d};if(y[a[30]]&&!1D(W[a[xw]])&&W[a[xw]]!=1){A=-0.5;I+=0.5};if(!m(M[a[1aT]])){M[a[3Q]]=W[a[89]][a[gH]](M[a[1aT]]);M[a[hr]]=1f}1e{M[a[3Q]]=W[a[89]][a[102]];M[a[hr]]=1g};M[a[2jD]]();I=M[a[1X]];ba=M[a[3p]];B=M[a[3w]];Z=M[a[3w]];v=M[a[l4]];T=M[a[2m]];if(M[a[4j]]){if(l(M[a[2Y]])){M[a[2Y]]=1j y[a[1gD]]();M[a[2Y]][a[2jI]](1c(b){M[a[2jH]](b)})}};if(M[a[2o]]>M[a[1z]][a[59]]){M[a[2o]]=M[a[1z]][a[59]]};M[a[2o]]=M[a[zj]](M[a[2o]]);1a w=M[a[6M]];if(!M[a[7r]]){w=0;M[a[dh]][a[213]](1g)}1e{M[a[dh]][a[213]](1f)};1a F=M[a[hW]];if(!T||!M[a[rU]]){M[a[hW]]=F=0};1a z=M[a[6o]]();1a u=M[a[dK]]();if(!M[a[6R]]){z=0;M[a[ku]][a[213]](1g)}1e{M[a[ku]][a[213]](1f)};if(M[a[6T]]){z+=M[a[aQ]]};if(!M[a[2Z]]){u=0;v=0;if(!l(M[a[gE]])){M[a[gE]][a[213]](1g)};if(!l(M[a[gJ]])){M[a[gJ]][a[213]](1g)}}1e{if(!l(M[a[gE]])){M[a[gE]][a[213]](1f)};if(!l(M[a[gJ]])){M[a[gJ]][a[213]](1f)}};1a t=M[a[Bn]](z+w,u+v+F);1a s=M[a[2N]];1a H=0;if(M[a[8n]]||M[a[7A]]||M[a[cO]]||M[a[ka]]||M[a[2o]]>0){H=M[a[iG]];H+=M[a[9Q]]();H+=M[a[IG]]();M[a[6Y]]=H-M[a[iG]]}1e{M[a[6Y]]=0};1a p=M[a[6Y]];1a D=1g;1a E=1g;1a N=M[a[127]]-H-t[a[2jG]]+2;if(M[a[iJ]]==a[7d]){if(1k[a[244]](t[a[127]])>N){D=1f}1e{D=1g;B=0}}1e{if(M[a[iJ]]==a[83]){D=1f}1e{B=0}};if(M[a[dq]]==a[7d]){if(ba){bc=M[a[1aY]]();if(bc>0){E=1f}1e{E=1g;Z=0}}1e{V=M[a[129]]-w-z-u-v-F-B;if(t[a[129]]>V){E=1f}1e{E=1g;Z=0}}}1e{if(M[a[dq]]==a[83]){E=1f;if(ba){bc=M[a[1aY]]()}1e{V=M[a[129]]-w-z-u-v-F-B}}1e{E=1g;Z=0;bc=0}};1a Y=M[a[127]]-Z-H;M[a[kd]]=Y;M[a[2jE]]=M[a[127]]-Z;1a X=M[a[129]]-w-B-F;M[a[gG]]=X;1a R=t[a[127]];1a P=X-z-u-v;M[a[iA]]=P;if(T){if(M[a[1aX]]&&M[a[1x]][a[59]]<=0){M[a[2u]]=0;M[a[b2]]=1}1e{M[a[2u]]=M[a[8X]];M[a[b2]]=1k[a[7y]](M[a[1x]][a[59]]/ M[a[2u]]);if(M[a[b2]]<= 0&&  !M[a[1aZ]]){M[a[b2]]= 1}}}1e {if(M[a[ef]]&& M[a[1x]][a[59]]> 0){M[a[2u]]= M[a[1x]][a[59]]}1e {if(M[a[1aX]]&& M[a[1x]][a[59]]<= 0){M[a[2u]]= 0}1e {M[a[2u]]= 1k[a[7y]](P/I)}}};M[a[2u]]=1k[a[1F]](0,M[a[2u]]);bb=t[a[127]]-M[a[127]]+Z+H;bb=1k[a[1F]](bb,0);if(!ba){bc=M[a[1x]][a[59]]-M[a[2u]]+1};if(M[a[1V]]>M[a[2u]]){M[a[1V]]=M[a[2u]]};if(!D){x[a[213]](1g);M[a[3g]]=1g;M[a[4h]]=0;M[a[oK]]=0;M[a[lx]]=s[a[59]]}1e{M[a[3g]]=1f;K=0;L=M[a[129]]-M[a[3w]]-F;x[a[213]](1f);x[a[3q]]=M[a[3q]];x[a[kF]]=M[a[CC]];x[a[133]](M[a[127]]-Z,M[a[3w]]);x[a[134]](K,L);G=1k[a[244]](R/(s[a[59]]-M[a[2o]]));M[a[4h]]=1k[a[1A]](bb,M[a[4h]]);x[a[iV]](M[a[4h]],d1(Y*0.2),0,bb,G,d1(G*0.2));x[a[135]]();M[a[16W]]()};if(!E){U[a[213]](1g);M[a[2w]]=1g;M[a[1S]]=0;M[a[1aW]](1f)}1e{if(!T){M[a[1S]]=1k[a[1A]](M[a[1S]],bc);M[a[2w]]=1f;U[a[213]](1f);U[a[3q]]=M[a[3q]];U[a[kF]]=M[a[CC]];K=M[a[127]]-M[a[3w]];L=w;if(M[a[3w]]===0){L+=M[a[6o]]();if(M[a[6T]]){L+=M[a[aQ]]}};J=M[a[129]]-B-F-L;U[a[134]](K,L);U[a[133]](M[a[3w]],J);U[a[iV]](M[a[1S]],1k[a[244]](M[a[129]]/ M[a[2u]]/(I*0.1)),0,bc,M[a[2u]],1);U[a[135]]()};M[a[1aW]](1g)};if(E&&D){M[a[r2]][a[133]](M[a[3w]],M[a[3w]]);M[a[r2]][a[134]](M[a[127]]-M[a[3w]],M[a[129]]-M[a[3w]]);M[a[r2]][a[213]](1f,a[58])}1e{M[a[r2]][a[213]](1g)};M[a[kW]]={3b:R,4X:P};M[a[1df]]=M[a[127]]-Z;n[a[133]](Y,X);n[a[134]](H,w);k[a[133]](t[a[127]],X);k[a[198]](-M[a[4h]],0);if(w>0){M[a[dh]][a[133]](M[a[127]],w);M[a[dh]][a[134]](0,0)};if(M[a[b0]]&&F>0){M[a[b0]][a[133]](M[a[127]],F);M[a[b0]][a[134]](0,M[a[129]]-F)};if(p>0){M[a[8m]][a[134]](0,w);M[a[8m]][a[133]](H,X);M[a[8m]][a[213]](1f);1a b=M[a[ld]];1a j=M[a[j7]];1a f=M[a[gJ]];1a q=M[a[fz]];q[a[195]](X);q[a[134]](p+M[a[iG]],w);q[a[213]](1f,a[58]);b[a[133]](p,z);b[a[134]](0,A);if(M[a[6x]]==a[154]){f[a[133]](p,u);f[a[134]](0,z);j[a[133]](p,P);j[a[134]](0,z+u+v)}1e{f[a[133]](p,u);f[a[134]](0,X-u);j[a[133]](p,P);j[a[134]](0,z)}}1e{M[a[8m]][a[213]](1g);M[a[fz]][a[213]](1g)};d[a[133]](R,X);d[a[134]](0,0);h[a[133]](R,z);h[a[134]](0,A);if(M[a[6x]]==a[154]){o[a[133]](R,u);o[a[134]](0,z);g[a[133]](R,P);g[a[134]](0,z+u+v)}1e{o[a[133]](R,u);o[a[134]](0,X-u);g[a[133]](R,P);g[a[134]](0,z)};if(w>0){M[a[2jF]]()};if(!M[a[jX]]){if(M[a[n6]]==a[tW]&&M[a[2H]]&&M[a[9U]]){if(M[a[Fg]]){bA(M[a[139]],a[6q],M[a[P2]])};r(M[a[139]],a[6q],M[a[P2]]);M[a[Fg]]=1f};if(T){M[a[2jv]]()};M[a[D3]]();M[a[sx]]();if(p>0){M[a[w2]]()};M[a[T3]]();if(M[a[2Z]]){M[a[sV]]()};M[a[wj]]();M[a[oy]]();M[a[mT]]={};M[a[mJ]]={};if(M[a[2o]]>0){M[a[yK]]()};if(M[a[1V]]>0){M[a[uh]]()};M[a[18N]]();if(Q(M)!=0){1d};if(M[a[yl]]&&i(M[a[1I]][a[se]])){M[a[1I]][a[se]]({1P:a[se],2y:M[a[2f]]})};if(M[a[g1]]&&i(M[a[1I]][a[eU]])){M[a[1I]][a[eU]]({1P:a[eU],2y:M[a[2f]],nL:cd[a[69]]([],M[a[1W]]),xV:cd[a[69]](1f,{},M[a[7x]])})};M[a[g1]]=1g;M[a[yl]]=1g}1e{M[a[jX]]=1g;M[a[sx]]();if(p>0){M[a[2ju]]()};M[a[FV]]=1g;M[a[2jk]]();if(M[a[2Z]]){M[a[jB]]()};if(M[a[1V]]>0){M[a[uh]]()};M[a[2Q]]();M[a[oy]]()};if(!M[a[N4]]&&M[a[1x]][a[59]]<=0){if(M[a[1na]]){1a C=1N[a[10]](a[43]);1a S=M[a[Da]];1a O=P;if(M[a[2Z]]){O+=u};C[a[165]]=a[2jl];C[a[47]]!=1h?(C[a[47]]=S):(C[a[48]]=S);M[a[LR]](C);C[a[169]][a[154]]=((O-C[a[3T]])*0.5)[a[128]](0)+a[149];C[a[169]][a[152]]=((M[a[127]]-C[a[3O]])*0.5)[a[128]](0)+a[149];C=1h}}1e{if(M[a[1x]][a[59]]>0){M[a[ev]][a[213]](1g)}}},1aU:1c(d){1a f=1b;1a g=f[a[BA]]==a[221]?a[1aV]:f[a[BA]];1a b=f[a[1cg]]==a[221]?a[1aV]:f[a[1cg]];if(d){if(f[a[Bu]]==g){1d};f[a[Bu]]=g;f[a[150]](a[BA],g)}1e{if(f[a[Bu]]==b){1d};f[a[Bu]]=b;f[a[150]](a[BA],b)}},1ch:1c(s){1a bi=1b;1a D=bi[a[2H]];1a E=bi[a[ex]];1a be=bi[a[1S]];1a bb=bi[a[2u]];1a B=bi[a[1x]];1a A=B[a[59]];1a b=bi[a[2I]];1a Z=bi[a[Dp]];1a bj=bi[a[Dj]];1a O,r,X,ba;1a i=bi[a[3Z]];1a j=bi[a[3Y]];1a bk;1a F;1a u=bi[a[1z]];1a Q=bi[a[8L]];1a w;1a bo;1a R=1h;1a U;1a bq=1h;1a I=bi[a[1V]];1a J=bi[a[1W]];1a z,M;1a bc=bi[a[1X]];1a bh=bi[a[mG]];1a G=bi[a[hq]];1a h=bi[a[oP]];1a N,P,S,t,y;1a o=1h;1a bg=1h;1a V;1a bv=bi[a[2m]];1a bx=bi[a[3p]];1a g=bi[a[6Y]];1a x=bi[a[oK]];1a q=bi[a[lx]];1a H=bi[a[2o]];1a bp=bi[a[at]];1a v=bi[a[2N]];1a d=b[a[59]];1a m=W[a[2k]][a[5N]];1a n=m*2;1a bd=bi[a[1M]];1a bs;1a p=bi[a[ar]];1a bw=bi[a[o0]];1a C=bi[a[k4]];1a bu=bi[a[Oh]];1a l=bi[a[fU]];1a Y=1h;1a br;1a bt=1T;1a bl=a[58];1a bm=a[177];1a bf=a[1oz];1a f=1c(b){1d 1L b===a[67]};1a K=f(bh)?1f:1g;1a bn=a[165];bi[a[uN]]=[];if(bu){Y={ic:a[7j],Ol:a[7j],BY:a[7j],NZ:a[7j],O3:a[7j]}};bi[a[aI]]();if(bv){bi[a[1pn]](s);1d};if(bx){bk=1k[a[1A]](be,1k[a[1F]](B[a[59]]+1,0));F=be+bb;V=1k[a[1A]](bb,A);x=0;q=u[a[59]]}1e{bk=1k[a[1A]](be,1k[a[1F]](B[a[59]]+1-bb,0));F=1k[a[1A]](B[a[59]]+1,be+bb);V=1k[a[1A]](bb,A)};if(s===1f||bx){1i(N=0,S=b[a[59]];N<S;N++){O=b[N];1i(P=0,t=O[a[59]];P<t;P++){X=b[N][P];X[a[1H]]=-1;X[a[1n]]=-1;X[a[1w]]=1h;X[a[1B]]=1h;X[a[135]]()}};1i(N=0,S=j[a[59]];N<S;N++){bq=j[N];bq[a[213]](1f,bl);bq[a[202]](bn,bl);1i(P=0,t=i[N][a[59]];P<t;P++){i[N][P][a[207]]()}};if(g>0){1i(N=0,S=Q[a[59]];N<S;N++){bq=Q[N];bq[a[213]](1f,bl);bq[a[202]](bn,bl)}};1i(N=V,S=j[a[59]];N<S;N++){j[N][a[213]](1g)};if(g>0){1i(N=V,S=Q[a[59]];N<S;N++){Q[N][a[213]](1g)}}};if(bi[a[1Q]]){if(B[a[59]]<b[a[59]]){1i(N=B[a[59]],S=b[a[59]];N<S;N++){O=b[N];1i(P=0,t=O[a[59]];P<t;P++){X=O[P];X[a[213]](1g)}}}};if(I>0){bk+=I;1i(N=0;N<I;N++){O=B[N];bq=j[N];if(g>0){R=Q[N]};if(!O){bq[a[202]](bn,bl);if(g>0){R[a[202]](bn,bl)};1i(P=0,t=u[a[59]];P<t;P++){X=b[N][P];X[a[213]](1g)};1u};bs=O[bd];if(bj){ba=Z[N%Z[a[59]]];bq[a[202]](bn,ba);if(g>0){R[a[202]](bn,ba)}}1e{bq[a[202]](bn,bl);if(g>0){R[a[202]](bn,bl)}};if(bx){bq[a[195]](2z);if(g>0){R[a[195]](2z)}};if(K){bg=bh(N,O,A);if(bg&&bg!=bl){if(G&&D&&!E){if(O[a[2R]]!==1f){bq[a[206]](bg);if(g>0){R[a[206]](bg)}}}1e{bq[a[206]](bg);if(g>0){R[a[206]](bg)}}}1e{if(O[a[2R]]===1f){bq[a[207]]();if(g>0){R[a[207]]()}}}};1i(P=0,t=u[a[59]];P<t;P++){bo=i[N][P];r=u[P];if(r[a[2q]]===1g){bo[a[213]](1g);1u}1e{bo[a[213]](1f,bl)};X=b[N][P];X[a[213]](1f);if(X[a[dC]]){X[a[194]](v[P])}1e{y=v[P]-n;if(y<0){y=0};X[a[194]](y)};z=r[a[1m]];M=r[a[2a]];w=O[z];X[a[1H]]=N;X[a[1n]]=P;X[a[1w]]=O;X[a[1m]]=z;X[a[2a]]=M;X[a[1B]]=w;X[a[at]]=bp;if(bx){X[a[1X]]=2z}1e{X[a[1X]]=bc};X[a[135]]();if(bw){if(p[bs]!==bt&&p[bs][P]!==bt){o=p[bs][P]}1e{if(f(r[a[7b]])){o=r[a[7b]](N,P,w,M,O,z)}}}1e{if(f(r[a[7b]])){o=r[a[7b]](N,P,w,M,O,z)}};bi[a[Js]](O,bo,P,o,bg,bl,bm,G,h);o=1h};bg=1h}};1i(N=bk;N<F;N++){O=B[N];U=N-bk;if(U>=d){1l};br=U+I;bq=j[br];if(g>0){R=Q[br]};if(bx){bq[a[195]](2z);if(g>0){R[a[195]](2z)}};if(!O){bq[a[213]](1g);if(g>0){R[a[213]](1g)};1u};bs=O[bd];if(bj){ba=Z[N%Z[a[59]]];bq[a[202]](bn,ba);if(g>0){R[a[202]](bn,ba)}}1e{bq[a[202]](bn,bl);if(g>0){R[a[202]](bn,bl)}};bq[a[213]](1f,bl);if(g>0){R[a[213]](1f,bl)};if(K){bg=bh(N,O,A);if(bg&&bg!=bl){if(G&&D&&!E){if(O[a[2R]]!==1f){bq[a[206]](bg);if(g>0){R[a[206]](bg)}}}1e{bq[a[206]](bg);if(g>0){R[a[206]](bg)}}}1e{if(O[a[2R]]===1f){bq[a[207]]();if(g>0){R[a[207]]()}}}};1i(P=0,t=u[a[59]];P<t;P++){if(!s&&P>H&&(P<x||P>=q)){1u};bo=i[br][P];r=u[P];if(r[a[2q]]===1g){bo[a[213]](1g);1u}1e{bo[a[213]](1f,bl)};X=b[br][P];X[a[213]](1f);if(X[a[dC]]){X[a[194]](v[P])}1e{y=v[P]-n;if(y<0){y=0};X[a[194]](y)};z=r[a[1m]];M=r[a[2a]];w=O[z];X[a[1H]]=N;X[a[1n]]=P;X[a[1w]]=O;X[a[1m]]=z;X[a[2a]]=M;if(D&&!l){if(r[a[7I]]===1f||J[a[19]](z)!=-1){if(!bi[a[1po]](O,z)){X[a[5t]]=1g;bo[a[181]](bf)}1e{if(bi[a[Jn]](O,z)){X[a[5t]]=1g;bo[a[180]](bf)}1e{if(bi[a[1p7]](O,z)){X[a[5t]]=1f;bo[a[181]](bf)}1e{X[a[5t]]=1f;bo[a[180]](bf)}}};if(br==I){X[a[5t]]=1g}}1e{X[a[5t]]=1g;bo[a[181]](bf)}}1e{X[a[5t]]=1g;bo[a[181]](bf)};X[a[1B]]=w;X[a[at]]=bp;if(bx){X[a[1X]]=2z}1e{X[a[1X]]=bc};X[a[135]]();if(bu){if(C[bs]&&C[bs][z]){bo[a[uu]](C[bs][z])}1e{bo[a[uu]](Y)}};if(bw){if(p[bs]!==bt&&p[bs][P]!==bt){o=p[bs][P]}1e{if(f(r[a[7b]])){o=r[a[7b]](N,P,w,M,O,z)}}}1e{if(f(r[a[7b]])){o=r[a[7b]](N,P,w,M,O,z)}};bi[a[Js]](O,bo,P,o,bg,bl,bm,G,h);o=1h};bg=1h};if(D&&bi[a[1x]]&&bi[a[1x]][a[59]]){1a k;1a by,T;1a L;if(J&&J[a[59]]>0){1i(N=0,S=J[a[59]];N<S;N++){L=bi[a[6U]](J[N]);if(L<0){1u};bi[a[fL]](L,0,bb)};1i(N=0,S=J[a[59]];N<S;N++){L=bi[a[6U]](J[N]);if(L<0){1u};if(l){bi[a[pc]](L)};if(bi[a[ex]]){bi[a[Cj]](L)}};1i(N=0,S=u[a[59]];N<S;N++){if(u[N][a[7I]]===1f&&J[a[19]](u[N][a[1m]])==-1){bi[a[fL]](N,0,bb);if(l){bi[a[pc]](N)}}}}1e{1i(N=0,S=u[a[59]];N<S;N++){if(u[N][a[7I]]===1f){bi[a[fL]](N,0,bb)};if(u[N][a[cW]]===1f){k=u[N][a[9g]];1i(by=N,T=N+k;by<T;by++){if(u[by]&&u[by][a[7I]]!==1g&&u[by][a[cW]]!==1g){bi[a[fL]](by,0,bb)}}}};1i(N=0,S=u[a[59]];N<S;N++){if(u[N][a[7I]]===1f&&l){bi[a[pc]](N)};if(u[N][a[cW]]===1f){k=u[N][a[9g]];1i(by=N,T=N+k;by<T;by++){bi[a[Cj]](by)}}}}};if(bx){bi[a[1re]]()};bi[a[2Q]]();if(bi[a[ef]]){bi[a[2jj]]()};bi[a[1rW]]();if(bi[a[so]]){if(bi[a[ao]]){bi[a[xk]](bi[a[ao]])}};if(bi[a[1V]]>0){bi[a[uh]]()}},1dD:1c(i,o,j,d,k,m,n,h,b){1a l=1b;1a g=i[a[4b]];1a f;if(d&&d!=m){o[a[206]](d)}1e{if(k&&k!=m){if(i[a[2R]]===1f){if(b){f=1o(l[a[oI]][g]);if(j>=f){o[a[206]](k)}1e{o[a[207]]()}}1e{if(h){if(j>=g-2){o[a[206]](k)}1e{o[a[207]]()}}1e{o[a[206]](k)}}}1e{o[a[206]](k)}}1e{o[a[207]]()}}},1dE:1c(){1a o=1b;1a b=o[a[2I]];1a m;1a h=o[a[2N]];1a j=o[a[1z]];1a i;1a d=W[a[2k]][a[5N]];1a f=d*2;1a n=a[qp]+d+a[149];1a q=a[0];1a p=a[9j];1a r=a[215];if(b){1i(1a k=0,s=b[a[59]];k<s;k++){1i(1a l=0,g=b[k][a[59]];l<g;l++){m=b[k][l];if(1L m==q){1u};if(m[a[dC]]){m[a[194]](h[l])}1e{i=h[l]-f;if(i<=0){i=0;m[a[194]](i);m[a[150]](p,r)}1e{if(!m[a[dC]]){m[a[150]](p,n)};m[a[194]](i)}};m[a[dg]]=1g}}}},1dC:1c(m){1a N=1b;1a I=N[a[1X]];1a V=N[a[3p]];1a M=N[a[1S]];1a H=N[a[2u]];1a s=N[a[kJ]];1a r,k,C;1a g=N[a[nM]];1a P=N[a[dL]];1a j=N[a[3a]];1a v=N[a[8r]];1a h=N[a[1dz]];1a J=N[a[1M]];1a X=N[a[G3]];1a D=N[a[Gg]];1a t=N[a[1V]];1a n;1a U,u,A,y,K;1a q=N[a[1x]];1a p=q[a[59]];1a B=1k[a[1A]](p,H);1a L=N[a[uM]];1a O=N[a[TH]];1a o=N[a[TF]];1a d=W[a[2k]][a[5N]];1a b=N[a[3Y]];1a z=N[a[8L]];1a F=N[a[lp]];1a E=N[a[xT]];1a G;1a w=1g;1a x=1g;1a f=1f;1a R=a[7e];1a Q=a[58];1a T,S;if(p==0||N[a[6Y]]<=0||l(b)||l(z)){1d};if(i(E)&&N[a[2ji]]){w=1f};if(i(N[a[ok]])){E=N[a[ok]];w=1f};if(N[a[iM]]&&i(N[a[1dB]])){G=N[a[1dB]];x=1f};if(N[a[2m]]){M=(N[a[4K]]-1)*N[a[8X]];B=1k[a[1A]](p-M,N[a[8X]]);B=1k[a[1F]](0,B)}1e{if(M+H>p&&H<=p){if(N[a[8n]]&&s[a[59]]>0){s[s[a[59]]-1][a[213]](1g)};if(N[a[7A]]&&g[a[59]]>0){g[g[a[59]]-1][a[213]](1g)};if(N[a[cO]]&&P[a[59]]>0){P[P[a[59]]-1][a[207]]()};B-=1}1e{if(N[a[8n]]&&s[a[59]]>0){s[s[a[59]]-1][a[213]](1f)};if(N[a[7A]]&&g[a[59]]>0){g[g[a[59]]-1][a[213]](1f,a[oC])}};if(!N[a[2w]]){M=0}};if(N[a[8n]]){if(m===1f){1i(u=0,A=s[a[59]];u<A;u++){s[u][a[1B]]=Q;s[u][a[135]]()}};1i(u=0;u<B;u++){s[u][a[213]](1f)};1i(u=B;u<s[a[59]];u++){s[u][a[213]](1g)};if(N[a[1Q]]){if(p<s[a[59]]){1i(u=0,A=p;u<A;u++){s[u][a[213]](1f)};1i(u=p,A=s[a[59]];u<A;u++){s[u][a[213]](1g)}}};1i(u=0;u<t;u++){r=s[u];if(O){C=q[u][o]}1e{if(D){if(X){C=p-(1+u)}1e{C=p-u}}1e{if(X){C=u}1e{C=1+u}}};r[a[194]](L-d);r[a[1B]]=C;if(V){r[a[1X]]=2z}1e{r[a[1X]]=I};r[a[135]]()};1i(u=t;u<B;u++){r=s[u];if(O){C=u+M;if(C>=q[a[59]]){1l};C=q[C][o]}1e{if(D){if(X){C=p-(1+u+M)}1e{C=p-(u+M)}}1e{if(X){C=u+M}1e{C=1+u+M}}};r[a[194]](L-4);r[a[1B]]=C;if(V){r[a[1X]]=2z}1e{r[a[1X]]=I};r[a[135]]()}};if(N[a[7A]]){if(m===1f){1i(u=0,A=g[a[59]];u<A;u++){g[u][a[213]](1g);g[u][a[202]]({5T:1g,b9:1g})}};1i(u=0;u<B;u++){g[u][a[213]](1f,a[oC])};1i(u=B;u<g[a[59]];u++){g[u][a[213]](1g)};if(N[a[1Q]]){if(p<s[a[59]]){1i(u=0,A=p;u<A;u++){g[u][a[213]](1f,a[oC])};1i(u=p,A=s[a[59]];u<A;u++){g[u][a[213]](1g)}}};if(m!==1f){1i(u=0;u<g[a[59]];u++){k=g[u];k[a[202]]({5T:1g,b9:1g})}};if(l(j)){j=N[a[3a]]={}};if(h&&h[a[59]]){1i(u=0,A=h[a[59]];u<A;u++){cd[a[1q]](q,1c(a,b){if(b[J]==h[u]){j[b[J]]=b;1d 1g}})};N[a[1dz]]=1h};if(N[a[7c]]){1i(u=0;u<g[a[59]];u++){k=g[u];k[a[202]]({5T:1f,b9:1g});if(!k||k[a[189]]===1g){1u};if(b[u]){b[u][a[206]](a[Bv])};if(z[u]){z[u][a[206]](a[Bv])}}}1e{1i(u=0;u<g[a[59]];u++){k=g[u];if(!k||k[a[189]]===1g){1u};K=N[a[Ng]](u);if(K==-1){1u};y=q[K];if(y){if(j[y[J]]){k[a[202]]({5T:1f,b9:1g});T=b[u];if(T){T[a[206]](a[Bv])};T=z[u];if(T){T[a[206]](a[Bv])}}1e{if(v[y[J]]){k[a[202]]({5T:1g,b9:1f})}}}}};if(x){1i(u=0;u<g[a[59]];u++){k=g[u];K=N[a[Ng]](u);if(K==-1){1u};y=q[K];f=G(K,k[a[203]](a[5d]),y);k[a[213]](f)}};if(w){1i(u=0;u<g[a[59]];u++){k=g[u];if(!k||k[a[189]]===1g){1u};K=N[a[Ng]](u);if(K==-1){1u};y=q[K];f=E(K,k[a[203]](a[5d]),y);k[a[202]](a[yo],!!!f)}}};if(N[a[ON]]()){1i(u=0,A=F[a[59]];u<A;u++){S=F[u];S[a[213]](1f,Q);if(S[a[200]](R)){S[a[201]](R)}};N[a[2jg]]()}},1dA:1c(){1a d=1b;1a b=1g;if(d[a[7A]]&&d[a[2H]]&&!d[a[fH]]&&!m(d[a[z9]])&&d[a[1x]]&&d[a[1x]][a[59]]){b=1f};1d b},1dF:1c(){1a u=1b;1a f=u[a[1x]];1a r=u[a[1M]];1a t=u[a[1S]];1a j;1a z;1a i;1a l;1a s=u[a[9t]];1a q=u[a[2u]];1a p=u[a[lp]];1a o;1a b;1a h=u[a[hq]];1a v=1k[a[1F]](0,t+u[a[1V]]);1a g=1k[a[1A]](t+q,f[a[59]]);1a d=u[a[z9]];1a m=a[a9]+d;1a n=a[9x]+d;1a w=a[7e];1a x,y;1i(1a k=v;k<g;k++){z=k-t;x=p[z];j=f[k];y=j[r];o=s[y];i=j[a[2R]]===1f?1f:1g;l=1k[a[1A]](s[y][m],q-z);if(o[n]){b=1f}1e{if(k==v){if(l>1){b=1f}1e{1u}}1e{b=1g}};if(h){i=1g};if(b&&l!=1&&!i){x[a[199]](w,l)}1e{if(!b){x[a[213]](1g)}}}},1dG:1c(){1a I=1b;1a u=I[a[mI]];1a L=I[a[2m]];1a i=I[a[3Z]];1a G=I[a[1M]];1a w=I[a[b6]];1a b=I[a[6Y]];1a v=I[a[2o]];1a t=I[a[2H]];1a r=1f;1a q=1f;1a z=1f;1a N=0;1a p=1f;1a B=1f;1a F,E;1a H;1a j=1o(I[a[pe]]);1a n,o;1a C,J,D,K;1a d,g,f,h;d=g=f=h=2z;if(1D(j)){j=2};if(I[a[mI]]){I[a[1qM]]()};if(I[a[7Q]]){I[a[7Q]][a[213]](1g)};if(!I[a[zG]]){p=1g};if(!I[a[a2]]||I[a[a2]][a[59]]<=0){1d};if(I[a[5J]]!=-1){d=I[a[5J]]}1e{r=1g};if(I[a[7z]]!=-1){g=I[a[7z]]};if(I[a[sU]]()){if(!l(I[a[2v]])){I[a[2v]][a[213]](1g);B=1g};F=1k[a[1A]](I[a[3j]],I[a[3k]]);E=1k[a[1F]](I[a[3j]],I[a[3k]]);d=I[a[6K]](F);f=I[a[6K]](E);if(E>=I[a[1V]]&&E-I[a[1V]]<I[a[1S]]){f=I[a[1V]]-1};if(F>=I[a[1V]]&&F-I[a[1V]]<I[a[1S]]){d=I[a[1V]];r=1g}1e{if(I[a[3j]]>I[a[3k]]){if(d<0){r=1g}1e{r=1f}}};if(L&&E>=I[a[1S]]+I[a[2u]]){q=1g}};if(!l(I[a[3t]])&&!l(I[a[3u]])){g=1k[a[1A]](I[a[3t]],I[a[3u]]);h=1k[a[1F]](I[a[3t]],I[a[3u]])};if(bl(d)||bl(g)){I[a[aD]][a[213]](1g);I[a[8l]][a[213]](1g);I[a[ak]][a[213]](1g);I[a[8G]][a[213]](1g);if(!l(I[a[2v]])){I[a[2v]][a[213]](1g)};1d};if(I[a[5F]]==a[1iQ]&&!bl(f)&&!bl(h)){z=1g};d=1k[a[1F]](0,d);if(i&&i[a[59]]>0){d=1k[a[1A]](d,i[a[59]]-1)};if(z){g=1k[a[1F]](0,g);g=1k[a[1A]](g,w[a[59]]-1)}1e{g=I[a[dE]]()};if(!bl(f)&&!bl(h)){f=1k[a[1F]](0,f);if(i&&i[a[59]]>0){f=1k[a[1A]](f,i[a[59]]-1)};if(z){h=1k[a[1F]](0,h);h=1k[a[1A]](h,w[a[59]]-1)}1e{h=I[a[ly]]()}}1e{f=d;h=g};d=1k[a[1A]](d,f);f=1k[a[1F]](d,f);g=1k[a[1A]](g,h);h=1k[a[1F]](g,h);n=I[a[6u]](d,g,1f);o=I[a[6u]](f,h,1f);C={x:n[a[130]],y:n[a[131]]};J={3b:n[a[127]],4X:n[a[129]]};D={x:o[a[130]],y:o[a[131]]};K={3b:o[a[127]],4X:o[a[129]]};if(I[a[6R]]){N+=I[a[6o]]()};if(I[a[6T]]){N+=I[a[aQ]]};if(I[a[7r]]){N+=I[a[6M]]};if(I[a[2Z]]&&I[a[6x]]==a[154]){N+=I[a[dK]]()};if(C[a[131]]<N){r=1g;C[a[131]]=N};1a x=I[a[129]];if(I[a[2Z]]&&I[a[6x]]!=a[154]){x-=I[a[dK]]()};if(I[a[2m]]){x-=I[a[hW]]};if(I[a[3g]]){x-=I[a[3w]]};if(D[a[131]]+K[a[129]]<N||C[a[131]]>=x||(g>=v&&D[a[130]]+K[a[127]]-C[a[130]]<I[a[c0]])){I[a[aD]][a[213]](1g);I[a[8l]][a[213]](1g);I[a[ak]][a[213]](1g);I[a[8G]][a[213]](1g);if(!l(I[a[2v]])){I[a[2v]][a[213]](1g)};1d};if(p){if(g>=v&&C[a[130]]<b&&b<D[a[130]]+K[a[127]]-1){1a M=b-C[a[130]];if(!l(I[a[2v]])){if(D[a[130]]+K[a[127]]-C[a[130]]-M<=I[a[2v]][a[127]]){I[a[2v]][a[213]](1g);B=1g}};if(r){I[a[8l]][a[134]](b,C[a[131]]);I[a[8l]][a[133]](D[a[130]]+K[a[127]]-C[a[130]]-M,j);I[a[8l]][a[213]](1f)}1e{I[a[8l]][a[213]](1g)};I[a[ak]][a[134]](b,D[a[131]]+K[a[129]]-j);I[a[ak]][a[133]](D[a[130]]+K[a[127]]-C[a[130]]-M,j);I[a[8G]][a[134]](D[a[130]]+K[a[127]]-j,C[a[131]]);I[a[8G]][a[133]](j,D[a[131]]+K[a[129]]-C[a[131]]-1);I[a[aD]][a[213]](1g);I[a[ak]][a[213]](1f);I[a[8G]][a[213]](1f)}1e{if(g>=v&&D[a[130]]+K[a[127]]-j<=b){I[a[aD]][a[213]](1g);I[a[8l]][a[213]](1g);I[a[ak]][a[213]](1g);I[a[8G]][a[213]](1g);if(!l(I[a[2v]])){I[a[2v]][a[213]](1g);B=1g}}1e{if(1k[a[244]](D[a[131]]+K[a[129]])>x){1a y=D[a[131]]+K[a[129]]-x;if(h>=v&&D[a[130]]+K[a[127]]<b){D[a[130]]=C[a[130]];K[a[127]]=b-C[a[130]]};if(!l(I[a[2v]])){if(D[a[131]]+K[a[129]]-C[a[131]]-y<=I[a[2v]][a[129]]){I[a[2v]][a[213]](1g);B=1g}};if(r){I[a[8l]][a[134]](C[a[130]],C[a[131]]);I[a[8l]][a[133]](D[a[130]]+K[a[127]]-C[a[130]],j);I[a[8l]][a[213]](1f);if(u&&I[a[7Q]]){I[a[7Q]][a[134]](C[a[130]],C[a[131]]);if(I[a[1dL]]){I[a[7Q]][a[194]](D[a[130]]+K[a[127]]-C[a[130]])};I[a[7Q]][a[213]](1f)}}1e{I[a[8l]][a[213]](1g)};I[a[aD]][a[134]](C[a[130]],C[a[131]]);I[a[aD]][a[133]](j,D[a[131]]+K[a[129]]-C[a[131]]-y);I[a[8G]][a[134]](D[a[130]]+K[a[127]]-j,C[a[131]]);I[a[8G]][a[133]](j,D[a[131]]+K[a[129]]-C[a[131]]-y);I[a[aD]][a[213]](1f);I[a[8G]][a[213]](1f);I[a[ak]][a[213]](1g)}1e{if(h>=v&&D[a[130]]+K[a[127]]<b){D[a[130]]=C[a[130]];K[a[127]]=b-C[a[130]]};if(r){I[a[8l]][a[134]](C[a[130]],C[a[131]]);I[a[8l]][a[133]](D[a[130]]+K[a[127]]-C[a[130]],j);I[a[8l]][a[213]](1f);if(u&&I[a[7Q]]){I[a[7Q]][a[134]](C[a[130]],C[a[131]]);if(I[a[1dL]]){I[a[7Q]][a[194]](D[a[130]]+K[a[127]]-C[a[130]])};I[a[7Q]][a[213]](1f)}}1e{I[a[8l]][a[213]](1g);if(!l(I[a[2v]])){I[a[2v]][a[213]](1g);B=1g}};if(q){I[a[ak]][a[134]](C[a[130]],D[a[131]]+K[a[129]]-j);I[a[ak]][a[133]](D[a[130]]+K[a[127]]-C[a[130]],j);I[a[ak]][a[213]](1f)}1e{I[a[ak]][a[213]](1g)};I[a[aD]][a[134]](C[a[130]],C[a[131]]);I[a[aD]][a[133]](j,D[a[131]]+K[a[129]]-C[a[131]]-1);I[a[8G]][a[134]](D[a[130]]+K[a[127]]-j,C[a[131]]);I[a[8G]][a[133]](j,D[a[131]]+K[a[129]]-C[a[131]]-1);I[a[aD]][a[213]](1f);I[a[8G]][a[213]](1f)}}}}1e{I[a[aD]][a[213]](1g);I[a[8l]][a[213]](1g);I[a[ak]][a[213]](1g);I[a[8G]][a[213]](1g)};1a k=I[a[1z]][g];1a s;1a m,A;if(B&&k&&k[a[1J]]&&k[a[1J]][a[1cx]]!==1g){if(k[a[1J]][a[85]]==a[e8]){if(I[a[5J]]!=-1){H=I[a[8s]](I[a[5J]])};m=g;A=I[a[1x]][H];s=I[a[fM]](H,m,A[k[a[1m]]],A,k)}1e{s=k[a[1J]]};if(s[a[MJ]]===1f||s[a[85]]==a[7w]||s[a[85]]==a[9c]||s[a[85]]==a[7F]||s[a[85]]==a[8b]||s[a[85]]==a[8d]||s[a[85]]==a[9G]){I[a[1cw]](C,J,s[a[85]],d,k)}}},1dK:1c(k,o,p,b,f){1a n=1b;1a h=16;1a g=10;1a j=2;1a d;1a q,s;1a m;1a i;if(n[a[2p]]&&n[a[1dH]]){g=o[a[129]]-(j*2+1);if(l(n[a[2v]])){n[a[2v]]=1j O(a[MY]);n[a[2v]][a[139]][a[144]]=1b;r(n[a[2v]][a[139]],a[2i],n[a[tP]]);n[a[2v]][a[213]](1g);n[a[212]](n[a[2v]],n[a[2C]])};if(o[a[127]]-2<h){n[a[2v]][a[213]](1g);1d};m=n[a[8s]](b);i=n[a[1x]][m];if(m>=0&&!n[a[t6]](i,f,m,1g)){1d};g=1k[a[1A]](g,o[a[129]]);q=k[a[130]]+o[a[127]]-h-j;s=k[a[131]]+j;4v(p){1C a[7F]:;1C a[8b]:;1C a[8d]:n[a[2v]][a[206]](a[1dI]);1l;1C a[7w]:n[a[2v]][a[206]](a[1dy]);1l;1C a[9c]:n[a[2v]][a[206]](a[lY]);1l;1C a[9G]:n[a[2v]][a[206]](a[1dx]);1l;1C a[BM]:n[a[2v]][a[206]](a[1dn]);1l;4w:n[a[2v]][a[207]]();1l};n[a[2v]][a[134]](q,s);n[a[2v]][a[133]](h,g);n[a[2v]][a[213]](1f)}1e{if(!l(n[a[2v]])){n[a[2v]][a[213]](1g)}}},1dJ:1c(m,p,q,b,d,g){1a o=1b;1a i=16;1a h=10;1a k=2;1a f;1a s,t;1a n;1a j;if(o[a[2p]]&&o[a[1dH]]){h=p[a[129]]-(k*2+1);if(l(o[a[4n]])){o[a[4n]]=1j O(a[MY]);o[a[4n]][a[139]][a[144]]=1b;r(o[a[4n]][a[139]],a[2i],o[a[2jh]]);o[a[4n]][a[213]](1g);o[a[212]](o[a[4n]],o[a[2C]])};if(p[a[127]]-2<i){o[a[4n]][a[213]](1g);1d};n=o[a[8s]](b);j=o[a[1x]][n];if(n>=0&&!o[a[t6]](j,g,n,1g)){1d};h=1k[a[1A]](h,p[a[129]]);s=m[a[130]]+p[a[127]]-i-k;t=m[a[131]]+k;4v(q){1C a[7F]:;1C a[8b]:;1C a[8d]:o[a[4n]][a[206]](a[1dI]);1l;1C a[7w]:o[a[4n]][a[206]](a[1dy]);1l;1C a[9c]:o[a[4n]][a[206]](a[lY]);1l;1C a[9G]:o[a[4n]][a[206]](a[1dx]);1l;1C a[BM]:o[a[4n]][a[206]](a[1dn]);1l;4w:o[a[4n]][a[207]]();1l};o[a[4n]][a[4a]]=b;o[a[4n]][a[7Z]]=d;o[a[4n]][a[134]](s,t);o[a[4n]][a[133]](i,h);o[a[4n]][a[213]](1f)}1e{if(!l(o[a[4n]])){o[a[4n]][a[213]](1g)}}},1do:1c(){1a b=1b;if(!l(b[a[4n]])&&!bl(b[a[4n]][a[4a]])){if(b[a[4n]][a[4a]]>=b[a[1x]][a[59]]){b[a[4n]][a[213]](1g)}}},1dm:1c(){1a k=1b;1a h=k[a[l0]];1a g=k[a[b6]];1a l=k[a[8n]];1a b,d;1a m=k[a[cO]];1a n=k[a[dL]];1a j=k[a[a2]];1a i=k[a[1O]];1a f=k[a[1z]];if(!(k[a[5F]][a[19]](a[1s3])>=0&&!k[a[zG]])){if(k[a[6R]]&&g&&j&&j[a[59]]>0){cd[a[1q]](j,1c(j,m){1a d=f[m[a[131]]];1a l;1a b=m[a[131]];1a h;if(d&&d[a[2T]]===-1){1i(1a i=d[a[1n]]-1;i>=0;i--){l=f[i];h=1D(1o(l[a[2T]]))?0:1o(l[a[2T]]);if(h>0){b=l[a[1n]];1l}}};b=1k[a[1A]](b,g[a[59]]-1);if(b<0){1d};k[a[uG]][a[1s]](b);g[b][a[206]](a[2jm])})}};if(l&&h&&j&&j[a[59]]>=0){cd[a[1q]](j,1c(d,f){1a b=1k[a[1A]](f[a[130]],h[a[59]]-1);if(b<0){1d};k[a[uH]][a[1s]](b);h[b][a[206]](a[2jn])})};if(!k[a[2p]]&&m&&n&&k[a[5J]]!=-1){b=k[a[5J]];b=1k[a[1F]](0,b);b=1k[a[1A]](b,n[a[59]]-1);if(k[a[df]]||k[a[g7]]||k[a[cG]]){if(!n[b][a[166]]||n[b][a[166]]==a[58]){n[b][a[206]](a[jh])}}1e{n[b][a[206]](a[jh])}}},1dl:1c(){1a i=1b;1a f=i[a[l0]];1a d=i[a[b6]];1a k=i[a[dL]];1a j=i[a[cO]];1a g=i[a[uG]];1a h=i[a[uH]];1a b;if(i[a[8n]]&&f){cd[a[1q]](h,1c(b,d){if(f[d]){f[d][a[207]]()}});i[a[uH]]=h=[]};if(i[a[6R]]&&d){cd[a[1q]](g,1c(b,f){if(d[f]){d[f][a[207]]()}});i[a[uG]]=g=[]};if(!i[a[2p]]&&j&&k){if(i[a[5J]]!=-1){b=i[a[5J]];b=1k[a[1F]](0,b);b=1k[a[1A]](b,k[a[59]]-1);if(i[a[df]]||i[a[g7]]||i[a[cG]]){if(!k[b][a[166]]||k[b][a[166]]==a[58]){k[b][a[206]](a[jh])}}1e{k[b][a[206]](a[jh])}}1e{if(i[a[df]]||i[a[g7]]||i[a[cG]]){cd[a[1q]](k,1c(b,d){if(d[a[166]]==a[jh]){d[a[207]]()}})}1e{cd[a[1q]](k,1c(b,d){d[a[207]]()})}}}},1dj:1c(){1a d=1b;1a g=d[a[dL]];1a f=d[a[cO]];1a b;if(f&&g){if(!d[a[2p]]&&d[a[5J]]!=-1){b=d[a[5J]];b=1k[a[1F]](0,b);b=1k[a[1A]](b,g[a[59]]-1);if(d[a[df]]||d[a[g7]]||d[a[cG]]){if(!g[b][a[166]]||g[b][a[166]]==a[58]){g[b][a[206]](a[jh])}}1e{g[b][a[206]](a[jh])}}1e{if(d[a[df]]||d[a[g7]]||d[a[cG]]){cd[a[1q]](g,1c(b,d){if(d[a[166]]==a[jh]){d[a[207]]()}})}1e{cd[a[1q]](g,1c(b,d){d[a[207]]()})}}}},1dk:1c(){1a s=1b;1a A=s[a[3p]];1a x=s[a[dL]];1a d=s[a[3Y]];1a m=s[a[8L]];1a u=s[a[cO]];1a z;1a h=s[a[1x]];1a l;1a r=s[a[1S]];1a w=0;1a p=s[a[2u]];1a b=s[a[2I]];1a t=s[a[Bc]];1a k,n;1a j;1a o;1a v=s[a[i8]];1a i=s[a[1X]];1a f=s[a[4C]];1a q=s[a[1M]];1a g;1a y;if(s[a[df]]||s[a[g7]]||s[a[cG]]){s[a[uA]]();if(s[a[1V]]>0){1i(k=0,n=s[a[1V]];k<n;k++){l=h[k];if(!l){1u};y=l[q];g=f[y];if(!g){1u};if(g[a[7h]]){if(u&&x){x[k][a[206]](a[BP])};if(v){d[k][a[180]](a[oG]);if(m&&m[k]){m[k][a[180]](a[oG])}}}1e{if(g[a[6y]]){if(u&&x){if(g[a[aW]]){x[k][a[206]](a[A7])}1e{x[k][a[206]](a[AV])}};j=g[a[6d]];if(t&&j){cd[a[1q]](j,1c(g,f){1a d=s[a[6U]](g);if(d!=-1){o=b[k][d];if(o&&o[a[kz]]){if(!A){o[a[1X]]=i};o[a[kz]](A)}}})}}1e{if(g[a[aW]]){if(u&&x){x[k][a[206]](a[A5])}}}}}};k=s[a[1V]]+r;n=1k[a[1A]](p+r,h[a[59]]);1i(1a B=0;k<n;k++){l=h[k];B=k-r;if(!l){1u};y=l[q];g=f[y];if(!g){1u};if(g[a[7h]]){if(u&&x){x[B][a[206]](a[BP])};if(v){d[B][a[180]](a[oG]);if(m&&m[B]){m[B][a[180]](a[oG])}}}1e{if(g[a[6y]]){if(u&&x){if(g[a[aW]]){x[B][a[206]](a[A7])}1e{x[B][a[206]](a[AV])}};j=g[a[6d]];if(t&&j){cd[a[1q]](j,1c(g,f){1a d=s[a[6U]](g);if(d!=-1){o=b[B][d];if(o&&o[a[kz]]){if(!A){o[a[1X]]=i};o[a[kz]](A)}}})}}1e{if(g[a[aW]]){if(u&&x){x[B][a[206]](a[A5])}}}}}}},1dp:1c(){1a h=1b;1a i=h[a[dL]];1a g=h[a[eD]];1a d={};1a b=h[a[2I]];1a f=h[a[2p]];if(h[a[cO]]&&i){cd[a[1q]](i,1c(b,d){if(d[a[166]]!=a[jh]){d[a[207]]()}})};if(!h[a[Bc]]||!g){1d};cd[a[1q]](g,1c(f,g){1a b=h[a[6U]](f);if(b!=-1){d[b]=g}});if(h[a[Bc]]&&d&&h[a[df]]){cd[a[1q]](b,1c(b,f){cd[a[1q]](d,1c(b,d){if(d&&f[b][a[tf]]){f[b][a[tf]]()}})})}},1dq:1c(h){1a i=1b;1a g=i[a[1V]];1a b=-1;1a f=i[a[3Y]];1a d=0;if(bi(f)&&f[a[59]]){d=f[a[59]]-1}1e{1d h};if(g>0&&h<g){b=h}1e{b=h-i[a[1S]]};1d 1k[a[1A]](d,1k[a[1F]](0,b))},1dv:1c(b){1a g=1b;1a d=g[a[1V]];1a f=-1;if(d>0&&b<d){f=b}1e{f=b+g[a[1S]]};1d 1k[a[1A]](f,g[a[1x]][a[59]]-1)},1dw:1c(b){1a g=1b;1a d=g[a[1V]];1a f=-1;if(bl(b)){1d f};if(d>0&&b<d){f=b}1e{f=b+g[a[1S]]};if(f>=g[a[1x]][a[59]]){1d-1};1d f},1du:1c(B,u,i){1a w=1b;1a D=w[a[3p]];1a m=w[a[1x]];1a p=w[a[1z]];1a t=w[a[1M]];1a o=w[a[1V]];1a A=w[a[dL]];1a f=w[a[3Y]];1a r=w[a[8L]];1a d=-1;1a v=w[a[1S]];1a b=w[a[2I]];1a z=w[a[i8]];1a y=w[a[cO]];1a s;1a x=w[a[Bc]];1a j=w[a[4C]];1a n=w[a[1X]];1a q,g;1a k;1a C;1a h;u=1o(u);i=1o(i);if(!y&&!x){1d};if(u<0||u>=m[a[59]]){1d};if(o>0&&u<o){d=u}1e{d=u-v};if(i<0||i>=p[a[59]]){1d};if(d<=-1||d>=b[a[59]]){1d};if(B==a[uV]){s=b[d][i];q=m[u];g=p[i];if(l(q)||l(s)||l(g)){1d};C=q[t];k=g[a[1m]];h=j[C];if(h&&h[a[6y]]===1f){if(h[a[6d]][k]){if(s&&x&&s[a[kz]]){if(!D){s[a[1X]]=n};s[a[kz]](D)};if(y&&A){if(w[a[oY]](s[a[1w]])){A[d][a[206]](a[A7])}1e{A[d][a[206]](a[AV])}}}}}1e{if(B==a[Ca]){if(y&&A){A[d][a[206]](a[A5])}}1e{if(B==a[Cb]){if(y&&A){A[d][a[206]](a[BP])};if(z){f[d][a[180]](a[oG]);if(r&&r[d]){r[d][a[180]](a[oG])}}}}}},1dt:1c(k,b){1a g=k;1a d=b[a[3W]];1a h=b[a[1G]]||{};1a i=h[a[85]]||a[58];1a j,f;if(i==a[me]||i==a[BL]){j=!l(h[a[dz]])?h[a[dz]]:1f;f=!l(h[a[jP]])?h[a[jP]]:1g;k=k[a[22]]()===j[a[22]]()?j:f};if(d==a[4t]){if(1b[a[OF]]&&k===a[58]){1d 1h}1e{k=V[a[fV]](k);if(!1D(1o(k))){k=1o(k)}1e{k=g}}}1e{if(d==a[nE]){if(k===a[cn]){k=1f}1e{if(k===a[vr]){k=1g}1e{if(k===a[rw]){k=1}1e{if(k===a[215]){k=0}1e{if(k===a[58]){k=1g}1e{k=g}}}}}}1e{k===a[cn]?1f:k===a[vr]?1g:1E(g)}};if(1b[a[OJ]]){k=k===a[58]?1h:k};1d k},1dr:1c(r,o,n,k,b,j){1a s=1b;1a h=1g;1a q;1a d=b[a[1m]];1a g=s[a[1ds]]||{};1a t;1a f;1a m;1a p;if(l(b)||l(b[a[1J]])){1d{4M:n,uP:1f}};f=s[a[fM]](r,b[a[1n]],o,k,b);if(j&&f[a[2js]]){1d{4M:n,uP:1f}};t=f[a[85]];if(g[t]){if(t==a[BM]){if(n!==1h&&bm(1o(f[a[160]]))&&1E(n)[a[59]]>1o(f[a[160]])){n=1E(n)[a[4c]](0,1o(f[a[160]]))};if(n!==1h&&f[a[1jk]]){n=1E(n)[a[34]]()}1e{if(n!==1h&&f[a[1jj]]){n=1E(n)[a[13]]()}};if(f[a[cB]]===1f){if(!bm(n)){h=1f}1e{if(f[a[rP]]!==1f&&1o(n)<0){h=1f};if(f[a[tS]]!==1f){n=1k[a[244]](1o(n))}}}1e{if(!l(f[a[l7]])){if(1L f[a[l7]]===a[118]){p=1j 5s(f[a[l7]],a[cN])}1e{p=f[a[l7]]};if(n!==a[58]&&p[a[25]](n)===1g){h=1f}}}}1e{if(t==a[Hl]&&!l(f[a[tN]])){m=cd[a[Fq]](f[a[tN]],n,f[a[158]],f[a[DC]]===1g);if(m===1h){h=1f}1e{h=1g;n=m}}};if(i(f[a[jt]])){q=f[a[jt]](o,n,k,d,1f);if(q&&q[a[1jx]]!==1f){h=1f}}}1e{if(t==a[jC]){if(!bm(n)){h=1f}}};1d{4M:n,uP:!h}},1dM:1c(q,i,g,n){1a p=1b;1a o=p[a[1M]];1a m=1g;1a s=1T;1a b,d;1a j,k,h;1a f=p[a[4C]];1a r=i[o];if(l(f[r])){f[r]={}};f[r][a[4k]]=i;if(q==a[iu]){f[r][a[aW]]=1f;f[r][a[7h]]=1g}1e{if(q==a[pg]){f[r][a[6y]]=1f;f[r][a[4k]]=i;if(!bi(g)){g=[g]};k=g[a[59]];if(!bi(n)){if(n===s){n=a[58]};n=[n]};if(!f[r][a[6d]]){f[r][a[6d]]={}};if(!f[r][a[5n]]){f[r][a[5n]]={}};b=f[r][a[6d]];d=f[r][a[5n]];1i(j=0;j<k;j++){h=g[j];if(d[h]===s){d[h]=n[j]};b[h]=1f;if(d[h]===i[h]){2j b[h];2j d[h]}};if(6w[a[9T]](b)[a[59]]<=0){f[r][a[6y]]=1g;2j f[r][a[5n]];2j f[r][a[6d]];m=1f}1e{f[r][a[4k]]=i;f[r][a[6y]]=1f};p[a[5A]]();if(p[a[4j]]&&p[a[2p]]){p[a[2jt]](i,g,n)}}1e{if(q==a[ik]){f[r][a[7h]]=1f}1e{if(q==a[B6]){f[r][a[aW]]=1g;f[r][a[7h]]=1g}1e{if(q==a[1f7]){if(!l(f[r])){2j f[r]}}}}}}},1dN:1c(h,g,i){1a k=1b;1a j=k[a[1M]];1a f=k[a[4C]];1a l,h;1a b,d;1a m=1T;if(!h||h[j]===m){1d};l=h[j];if(!f[l]){f[l]={}};if(!f[l][a[6d]]){f[l][a[6d]]={}};if(!f[l][a[5n]]){f[l][a[5n]]={}};b=f[l][a[6d]];d=f[l][a[5n]];if(d[g]===m){d[g]=i};b[g]=1f;if(d[g]===h[g]){2j b[g];2j d[g]};if(6w[a[9T]](b)[a[59]]<=0){f[l][a[6y]]=1g;2j f[l][a[5n]];2j f[l][a[6d]]}1e{f[l][a[4k]]=h;f[l][a[6y]]=1f}},1e8:1c(k,g,o){1a q=1b;1a p=q[a[1M]];1a f=q[a[4C]];1a s,j;1a l,n=g[a[59]];1a u=1g;1a r;1a h;1a b,d;1a t=1T;if(bi(o)&&bi(o[0])){u=1f};1i(1a i=0,m=k[a[59]];i<m;i++){j=k[i];s=j[p];if(!f[s]){f[s]={}};if(u){r=o[i]}1e{r=o};if(!f[s][a[6d]]){f[s][a[6d]]={}};if(!f[s][a[5n]]){f[s][a[5n]]={}};b=f[s][a[6d]];d=f[s][a[5n]];1i(l=0;l<n;l++){h=g[l];if(d[h]===t){d[h]=r[l]};b[h]=1f;if(d[h]===j[h]){2j b[h];2j d[h]}};if(6w[a[9T]](b)[a[59]]<=0){f[s][a[6y]]=1g;2j f[s][a[5n]];2j f[s][a[6d]]}1e{f[s][a[4k]]=j;f[s][a[6y]]=1f}}},1e9:1c(l,o){1a q=1b;1a p=q[a[1M]];1a f=q[a[4C]];1a s,k;1a u=1g;1a r;1a i;1a b,d;1a t=1T;1a h;1a g;1a n;if(!bi(l)||!bi(o)||l[a[59]]!=o[a[59]]){1d};1i(1a j=0,m=l[a[59]];j<m;j++){k=l[j];s=k[p];h=o[j];if(!f[s]){f[s]={}};if(!f[s][a[6d]]){f[s][a[6d]]={}};if(!f[s][a[5n]]){f[s][a[5n]]={}};b=f[s][a[6d]];d=f[s][a[5n]];1i(g in h){n=h[g];if(d[g]===t){d[g]=n};b[g]=1f;if(d[g]===k[g]){2j b[g];2j d[g]}};if(6w[a[9T]](b)[a[59]]<=0){f[s][a[6y]]=1g;2j f[s][a[5n]];2j f[s][a[6d]]}1e{f[s][a[4k]]=k;f[s][a[6y]]=1f}}},2jr:1c(d){if(l(d)){1d[]};1a h=1b;1a g=h[a[1M]];1a b=h[a[4C]];1a i=d[g];1a f=b[i];if(f&&f[a[6y]]&&f[a[6d]]){1d cd[a[AZ]](f[a[6d]])};1d[]},1e7:1c(g,b,k,f){1a m=1b;1a d=m[a[4C]];1a j=m[a[1M]];1a h,n;if(!m[a[2p]]||!g){1d 1g};n=g[j];h=d[n];if(g[a[7a]]||g[a[2R]]){1d 1g};if(h&&h[a[7h]]){1d 1g};if(!l(b)){if(b[a[2p]]===1g||b[a[1m]]==j){1d 1g};if(f&&b[a[2q]]===1g){1d 1g};if(f&&b[a[2jq]]===1g){1d 1g};if(!m[a[mR]]&&m[a[1W]]&&m[a[1W]][a[59]]>0){1d m[a[1W]][a[19]](b[a[1m]])==-1?1f:1g};if(i(b[a[cT]])){1d 1g}};if(!m[a[9R]]&&!l(k)){if(b[a[1n]]<m[a[2o]]||k<m[a[1V]]){1d 1g}};1d 1f},1e6:1c(f,b){1a j=1b;1a d=j[a[4C]];1a h=j[a[1M]];1a g,k;if(!f){1d 1g};k=f[h];g=d[k];if(f[a[7a]]||f[a[2R]]){1d 1g};if(g&&g[a[7h]]){1d 1g};if(!l(b)){if(b[a[1m]]==h){1d 1g};if(i(b[a[cT]])){1d 1g}};1d 1f},1e4:1c(d){if(l(d)){1d 1g};1a h=1b;1a g=h[a[1M]];1a b=h[a[4C]];1a i=d[g];1a f=b[i];if(f&&f[a[aW]]){1d 1f};1d 1g},1e5:1c(d){if(l(d)){1d 1g};1a h=1b;1a g=h[a[1M]];1a b=h[a[4C]];1a i=d[g];1a f=b[i];if(f&&f[a[7h]]){1d 1f};1d 1g},1ea:1c(d){if(l(d)){1d 1g};1a h=1b;1a g=h[a[1M]];1a b=h[a[4C]];1a i=d[g];1a f=b[i];if(f&&f[a[6y]]){1d 1f};1d 1g},Jl:1c(h,d){1a g=1b;1a b=g[a[4C]];1a f=b[h];if(f&&f[a[6y]]&&f[a[5n]]&&f[a[5n]][d]!==1T){1d 1f};1d 1g},QF:1c(f,b){1a g=1b;1a h=g[a[oJ]](f);1a d=g[a[8Y]](b);1d g[a[Jj]](h,d)},1eb:1c(g){1a j=1b;1a k=j[a[5g]][a[7Y]];1a d=j[a[hp]];1a b=j[a[2O]];1a i=j[a[5b]](g,b,k);1a h=d[i[b]];1a f=j[a[dY]];if(!j[a[nx]]){1d};if(i[a[2x]]>1){j[a[uT]](i)};if(h){f[i[a[2x]]-1][a[210]](h,1f)}},1eg:1c(g){1a j=1b;1a k=j[a[5g]][a[7Y]];1a f=j[a[hp]];1a b=j[a[2O]];1a i=j[a[5b]](g,b,k);1a h=f[i[b]];1a d=j[a[kN]];if(!j[a[nx]]){1d};if(i[a[2x]]>1){j[a[1ee]](i)};if(h){d[i[a[2x]]-1][a[211]](h,1f)}},1ef:1c(){1a E=1b;1a k=E[a[9z]];1a F=E[a[2Z]];1a D=E[a[fy]];1a j=E[a[2o]];1a B=E[a[dY]];1a y=E[a[8L]];1a q=E[a[b6]];1a s=E[a[kN]];1a r=E[a[ia]];1a b=E[a[3Z]];1a d=E[a[k6]];1a f=E[a[3Y]];1a m=E[a[g3]];1a n=E[a[lA]];1a G=E[a[6T]];1a A=E[a[eQ]];1a p=E[a[kl]];1a u=E[a[mp]];1a g=E[a[1z]];1a z;1a o;1a t,w,v,h;if(l(b)){1d};if(l(E[a[mT]])){E[a[mT]]={}};if(l(E[a[mJ]])){E[a[mJ]]={}};if(l(E[a[dQ]])&&j>0){E[a[w2]]()};if(j>D){1i(t=D;t<j;t++){v=g[t];h=v[a[2x]];E[a[k1]][a[210]](r[t],1f);if(h>1){E[a[uT]](v)};B[h-1][a[210]](q[t],1f);if(G){A[a[210]](u[t],1f)}};if(!l(E[a[jS]])){1i(t=0;t<j;t++){E[a[jS]][a[210]](d[t],1f)}};if(!l(y)){1i(1a x=0,C=y[a[59]];x<C;x++){1i(t=0;t<j;t++){y[x][a[210]](b[x][t],1f)}}};if(F&&E[a[iW]]&&E[a[iW]][a[59]]){1i(t=0;t<j;t++){E[a[lZ]][a[210]](n[t],1f)};1i(w=0;w<k;w++){z=E[a[iW]][w];1i(t=0;t<j;t++){z[a[210]](m[w][t],1f)}}};E[a[nx]]=1g}1e{if(j<D){1a i=j;1a H=D-1;1i(t=H;t>=i;t--){v=g[t];h=v[a[2x]];E[a[mU]][a[211]](r[t],1f);if(h>1){E[a[1ee]](v)};s[h-1][a[211]](q[t],1f);if(G){p[a[211]](u[t],1f)}};if(!l(y)){1i(1a x=0,C=y[a[59]];x<C;x++){1i(t=0;t<j;t++){y[x][a[210]](b[x][t],1f)}}};if(!l(E[a[ho]])){1i(t=H;t>=i;t--){E[a[ho]][a[211]](d[t],1f)}};if(!l(y)){1i(1a x=0,C=y[a[59]];x<C;x++){1i(t=H;t>=i;t--){f[x][a[211]](b[x][t],1f)}}};if(F&&E[a[jg]]&&E[a[jg]][a[59]]){1i(t=H;t>=i;t--){E[a[lG]][a[211]](n[t],1f)};1i(w=0;w<k;w++){o=E[a[jg]][w];1i(t=H;t>=i;t--){o[a[211]](m[w][t],1f)}}};E[a[nx]]=1g}}},1ec:1c(l){1a i=1b;1a g;1a j;1a k=l;1a d=i[a[1z]];1a b;1a f,h;if(l<0){l=0};if(l>d[a[59]]){l=d[a[59]]};1i(f=0,h=l;f<h;f++){b=d[f];if(!bl(b[a[2T]])&&1o(b[a[2T]])!==-1){k=1o(b[a[2T]]);1l}};g=l-1;if(g>=0){b=d[g];if(!bl(b[a[2T]])){1i(f=g+1,h=d[a[59]];f<h;f++){b=d[f];if(!bl(b[a[2T]])&&1o(b[a[2T]])!==-1){l=f;1l}};if(f==h){l=k}}};1d l},1ed:1c(g,k){1a o=1b;1a b=o[a[2O]];1a i,l;1a k;1a j;1a p;1a q;1a d;1a f;if(bl(k)){k=o[a[2o]]};j=k-1;if(k<=0){1d o[a[Oi]](g)};i=[];p=o[a[Oi]](cd[a[69]](1f,[],g));q=p[a[7Y]];1i(1a m=0,n=q[a[59]];m<n;m++){d=q[m];if(d[a[1n]]<=j&&d[a[1n]]+d[a[8a]]>k){if(d[a[8a]]!=1){f=cd[a[69]]({},d);f[b]=cd[a[g8]]();f[a[1n]]=k;if(f[a[1p]]&&f[a[1p]][a[59]]>0){f[a[1p]]=[];d[a[1p]]=h(f[a[1p]],[],d[a[1p]])};i[a[1s]](f)};i[a[1s]](d)}1e{i[a[1s]](d)}};1d o[a[Oi]](i);1c h(l,n,d){1a f;1a g;1i(1a i=0,m=d[a[59]];i<m;i++){f=d[i];if(f[a[8a]]==1){if(f[a[1n]]<=j){l[a[1s]](f)}1e{n[a[1s]](f)}}1e{if(f[a[1n]]<=j&&f[a[1n]]+f[a[8a]]>k){g=cd[a[69]]({},f);g[b]=cd[a[g8]]();g[a[1n]]=k;if(g[a[1p]]&&g[a[1p]][a[59]]>0){g[a[1p]]=[];f[a[1p]]=h(g[a[1p]],[],f[a[1p]]);n[a[1s]](f)};l[a[1s]](g)}1e{if(f[a[1n]]+f[a[8a]]<=k){l[a[1s]](f)}1e{if(f[a[1n]]>j){n[a[1s]](f)}}}}};1d n}},1e3:1c(){1a i=1b;1a b=i[a[5V]];1a h=i[a[1M]];1a f;1a j;1a k=i[a[TP]](b);f=k[a[8f]]+1;i[a[GX]]={};i[a[5g]]=k;i[a[1z]]=k[a[7B]];j=i[a[1z]][a[59]];1a d=(i[a[8U]]={});i[a[dD]]=1g;i[a[C3]]=1f;i[a[nJ]]=1g;g(i[a[1z]]);if(i[a[sj]]&&bi(i[a[eT]])){if(bi(i[a[eT]][0])){i[a[18Q]]=1f;cd[a[1q]](i[a[eT]],1c(b,d){d[a[59]]=j;g(d,1f,f+b)})}1e{i[a[eT]][a[59]]=j;g(i[a[eT]],1f,f)}};i[a[f7]]=i[a[2jo]]();i[a[1i7]]();1c g(g,f,b){1a j=1T;cd[a[1q]](g,1c(k,m){if(!m){g[k]=m={}};if(!l(m[a[3W]])){d[m[a[1m]]]=m[a[3W]]};if(m[a[cT]]&&m[a[1m]]!=h){i[a[dD]]=1f};if(m[a[1G]]&&m[a[1G]][a[85]]!==j){i[a[C3]]=1g};if(m[a[1G]]&&m[a[1G]][a[85]]==a[me]){if(m[a[4s]]&&m[a[4s]][a[85]]==a[xt]){i[a[nJ]]=1f}};i[a[GX]][m[a[1m]]]=k;if(f){m[a[1n]]=k;m[a[2x]]=b;m[a[7q]]=1g;m[a[8a]]=1}})}},1e2:1c(){1a d=1b;1a b=d[a[B9]];if(l(d[a[2U]])||l(d[a[5V]])){1d};if(d[a[Of]]){d[a[Of]]=1g;d[a[o5]]()};if(d[a[Cd]]){d[a[Cd]]=1g;d[a[nB]]();if(b&&d[a[8U]]){cd[a[ql]](d[a[2U]],d[a[8U]],d[a[hz]])};if(d[a[1W]]&&d[a[1W]][a[59]]>0){if(d[a[2U]]&&d[a[2U]][a[59]]>0){if(l(d[a[2U]][0][d[a[1M]]])){d[a[2U]]=cd[a[jj]]([],d[a[2U]],d[a[8U]],d[a[1M]],d[a[hz]])}};d[a[8I]]=cd[a[69]]([],d[a[2U]]);d[a[2U]]=d[a[2jp]]();d[a[1Q]]=1f}1e{if(!d[a[p3]]){d[a[2U]]=cd[a[jj]]([],d[a[2U]],d[a[8U]],d[a[1M]],d[a[hz]])}}};if(l(d[a[1x]])){if(d[a[1Q]]){d[a[2c]]=d[a[2jJ]](d[a[2U]]);d[a[8p]]=cd[a[69]](1f,[],d[a[2c]][a[4f]]);d[a[1x]]=d[a[2c]][a[2jK]];d[a[1dT]](d[a[8p]]);if(d[a[1W]]&&d[a[1W]][a[59]]>0&&d[a[oP]]){d[a[2k4]]();d[a[2k5]]()}}1e{d[a[1x]]=d[a[2U]]}};d[a[ci]]();if(d[a[1x]][a[59]]>0&&d[a[nJ]]){d[a[GA]]()}},1dR:1c(){1a j=1b;1a g=j[a[1W]];1a f;1a d=0;1a i=0;1a b;j[a[oI]]={};if(j[a[7x]]){1i(1a h=g[a[59]]-1;h>=0;h--){i=d=j[a[6U]](g[h]);if(d!=-1){1l}};cd[a[1q]](g,1c(b,g){f=b+2;j[a[oI]][f]=d});if(j[a[2k3]]&&bn(j[a[7x]][a[AQ]])){b=j[a[7x]][a[AQ]];cd[a[1q]](b,1c(f,g){1a b=j[a[6U]](f);if(b!=-1&&bn(g)){b=b+2;d=j[a[oI]][b]===1T?i:j[a[oI]][b];cd[a[1q]](g,1c(b,g){1a f=j[a[6U]](b);if(f!=-1){d=1k[a[1A]](f,d)}});j[a[oI]][b]=d}})}}},1dQ:1c(){1a s=1b;1a h=s[a[ve]];1a d=s[a[1x]];1a q=s[a[lg]];1a r=s[a[1M]];1a g=s[a[1W]];1a i;1a b;1a k,l,p;1a j,m,n,o;1a f,t;1a u=1T;i=g[a[59]]-1;if(h==a[154]){1i(j=d[a[59]]-1;j>=0;j--){k=d[j];if(k[a[2R]]){l=d[j+1];if(l){t=k[r];p=q[t];1i(m=0;m<i;m++){f=g[m];if(k[f]===u){k[f]=l[f];p[f]=l[f]}}}}}}1e{1i(j=0,n=d[a[59]];j<n;j++){k=d[j];if(k[a[2R]]){l=d[j-1];if(l){t=k[r];p=q[t];1i(m=0;m<i;m++){f=g[m];if(k[f]===u){k[f]=l[f];p[f]=l[f]}}}}}}},1dO:1c(z){1a v=1b;1a v=1b;1a j;1a b=v[a[2I]];1a d=1h;1a f=v[a[1z]];1a q;1a C=[];1a p=1g;1a D={};1a A;1a n;1a u;1a h=z[a[1m]];1a g=z[a[1n]];1a w=v[a[qq]]();1a k=v[a[oA]];1a y=1T;1a x=a[58];1a B;if(z[a[1m]]===y||z[a[1n]]===y){1d[]};j=v[a[vJ]](z[a[1m]]);if(z[a[171]]&&z[a[171]][a[mz]]===1f){if(l(v[a[6P]])){v[a[6P]]={}};v[a[6P]][h]={};if(b[0]&&b[0][g]){d=b[0][g]}};1i(1a o=0,r=j[a[59]];o<r;o++){q=j[o];if(q[a[2R]]){1u};if(k&&q[a[7a]]){1u};if(!w&&q[a[7a]]){1u};if(q[h]===y||q[h]===x||q[h]===1h){p=1f;if(d&&d[a[3S]]){A=q[h];if(i(z[a[6O]])){n=d[a[3S]](A,o,g,q,z);if(m(n)){n=v[a[6Z]]};v[a[6P]][h][v[a[6Z]]]=n}1e{v[a[6P]][h][v[a[6Z]]]=v[a[6Z]]}}}1e{A=q[h];D[A]=1;if(d&&d[a[3S]]){n=d[a[3S]](A,o,g,q,z);v[a[6P]][h][A]=n}}};1i(1a t in D){C[C[a[59]]]=t};B=[];if(z[a[171]]&&z[a[171]][a[mz]]===1f){B=C[a[aP]](1c(b,d){1a f=v[a[6P]][h][b];1a g=v[a[6P]][h][d];if(f<g){1d-1};if(f>g){1d 1};1d 0})}1e{if(z[a[3W]]==a[4t]){B=C[a[aP]](1c(a,b){1d a-b})}1e{B=C[a[aP]]()}};if(p){if(v[a[1dU]]==a[154]){if(B[a[59]]>0){B[a[2E]](0,0,v[a[6Z]])}1e{B[a[1s]](v[a[6Z]])}}1e{if(B[a[59]]>=v[a[sK]]){B[a[2E]](v[a[sK]]-1,0,v[a[6Z]])}1e{B[a[1s]](v[a[6Z]])}}};if(z[a[3W]]==a[4t]){1i(1a E=0,s=B[a[59]];E<s;E++){u=1o(B[E]);if(1D(u)){1u};B[E]=u}};1d B},1dP:1c(y,m){1a u=1b;1a i;1a b=u[a[2I]];1a d=1h;1a f=u[a[1z]];1a p;1a A=[];1a o=1g;1a B={};1a z;1a k;1a t;1a h=y[a[1m]];1a g=y[a[1n]];1a v=u[a[qq]]();1a j=u[a[oA]];1a x=1T;1a w=a[58];if(y[a[1m]]===x||y[a[1n]]===x){1d};if(m==1f){u[a[8H]]=1g};if(u[a[1Q]]){i=u[a[2c]][a[7B]]}1e{i=u[a[2U]]};if(y[a[171]]){if(y[a[171]][a[u9]]===1g){1d};if(y[a[171]][a[85]]==a[4t]){1d};if(y[a[171]][a[mz]]===1f){if(l(u[a[6P]])){u[a[6P]]={}};u[a[6P]][h]={};if(b[0]&&b[0][g]){d=b[0][g]}}};1i(1a n=0,q=i[a[59]];n<q;n++){p=i[n];if(p[a[2R]]){1u};if(j&&p[a[7a]]){1u};if(!v&&p[a[7a]]){1u};if(p[h]===x||p[h]===w||p[h]===1h){o=1f;if(d&&d[a[3S]]){z=p[h];k=d[a[3S]](z,n,g,p,y);u[a[6P]][h][u[a[6Z]]]=u[a[6Z]]}}1e{z=p[h];B[z]=1;if(d&&d[a[3S]]){k=d[a[3S]](z,n,g,p,y);u[a[6P]][h][z]=k}}};1i(1a s in B){A[A[a[59]]]=s};if(y[a[171]]&&y[a[171]][a[mz]]===1f){u[a[4D]][h]=A[a[aP]](1c(b,d){1a f=u[a[6P]][h][b];1a g=u[a[6P]][h][d];if(f<g){1d-1};if(f>g){1d 1};1d 0})}1e{if(y[a[3W]]==a[4t]){u[a[4D]][h]=A[a[aP]](1c(a,b){1d a-b})}1e{u[a[4D]][h]=A[a[aP]]()}};if(o){if(u[a[1dU]]==a[154]){if(u[a[4D]][h][a[59]]>0){u[a[4D]][h][a[2E]](0,0,u[a[6Z]])}1e{u[a[4D]][h][a[1s]](u[a[6Z]])}}1e{if(u[a[4D]][h][a[59]]>=u[a[sK]]){u[a[4D]][h][a[2E]](u[a[sK]]-1,0,u[a[6Z]])}1e{u[a[4D]][h][a[1s]](u[a[6Z]])}}};if(y[a[3W]]==a[4t]){1i(1a C=0,r=u[a[4D]][h][a[59]];C<r;C++){t=1o(u[a[4D]][h][C]);if(1D(t)){1u};u[a[4D]][h][C]=t}}},1dV:1c(){1a o=1b;1a g=o[a[2H]];1a h=o[a[ex]];1a f=o[a[1z]];1a i=o[a[1W]];1a k,n;1a m=1g;1a b;1a j;1a d=1g;if(!g||o[a[1x]][a[59]]<=0){1d};o[a[9t]]={};if(i&&i[a[59]]>0){if(i&&i[a[59]]>0){1i(k=0,n=i[a[59]];k<n;k++){j=o[a[6U]](i[k]);if(j<0){1u};o[a[NG]](j);if(h){if(!m){m=1f;l()};b=f[j];if(b[a[2q]]!==1g&&!d){d=1f;o[a[1e0]](j,1f)}}}};1i(k=0,n=f[a[59]];k<n;k++){if(i[a[19]](f[k][a[1m]])==-1&&f[k][a[7I]]===1f){o[a[NG]](k)}}}1e{1i(k=0,n=f[a[59]];k<n;k++){if(f[k][a[7I]]===1f){o[a[NG]](k)};if(f[k][a[cW]]===1f){if(!m){m=1f;l()};o[a[1e0]](k)}}};1c l(){cd[a[1q]](o[a[1x]],1c(b,d){d[a[5k]]={}})}},1e1:1c(d){1a C=1b;1a k=C[a[1V]];1a j=C[a[1x]];1a b=C[a[1z]][d];1a B=C[a[9t]];1a o=C[a[1W]];1a i=b[a[1m]];1a A=C[a[1M]];1a h=1;1a f=1g;1a g=1g;1a G=1T;1a x,z;1a r,s;1a E,F;1a v=a[a9]+i;1a w=a[9x]+i;1a y;1a D=1h;1a q=o&&o[a[59]]>0?1f:1g;1a p,u;if(!C[a[2H]]||j[a[59]]<=0){1d};if(b[a[2k2]]==a[2k0]){if(l(b[a[v4]])&&d-1>=0){x=C[a[1z]][d-1];f=1f}1e{z=C[a[6l]](b[a[v4]]);if(z>=0){x=C[a[1z]][z];f=1f}1e{if(!l(b[a[v4]])){x=1h;f=1f}}}}1e{if(q){if(o[a[19]](i)==-1){if(!l(C[a[7x]])&&bi(C[a[7x]][a[AC]])){1i(p=o[a[59]]-1;p>=0;p--){if(C[a[7x]][a[AC]][a[19]](o[p])==-1){D=o[p];1l}};if(D!==1h){y=C[a[6U]](D)}}1e{y=C[a[6U]](o[o[a[59]]-1])}}1e{if(C[a[y5]]){y=C[a[6U]](cd[a[16F]](o,i))}1e{y=d-1}};if(y>=0){x=C[a[1z]][y];f=1f}}1e{if(C[a[1Q]]&&C[a[2k1]]){g=1f}}};1i(p=0,u=j[a[59]];p<u;p=p+h){r=j[p];E=r[A];if(B[E]===G){B[E]={}};if(p<k){B[E][v]=1;B[E][w]=1f;1u};h=n(p,b,x);if(h>1){B[E][w]=1f;B[E][v]=h;1i(1a t=1;t<h;t++){s=j[p+t];F=s[A];if(B[F]===G){B[F]={}};B[F][v]=h-t;B[F][w]=1g}}1e{B[E][v]=1;B[E][w]=1f}};1d;1c n(H,i,E){1a t;1a x;1a p;1a F;1a n,D;1a w,y;1a o=1;1a G;1a s;1a z=-1;1a b=C[a[2I]];1a d=1E(C[a[2k6]])[a[13]]();1a h=1h;1a k;1a M=1T;1a I=a[4t];1a J=a[1dh];1a K=a[1cC];1a r=C[a[hq]];1a v=C[a[1cD]];1a L;p=i[a[1m]];k=i[a[1n]];if(b[0]&&b[0][k]){h=b[0][k]};if(E){F=E[a[1m]]}1e{F=l(i[a[v4]])?1T:i[a[v4]]};G=a[9x]+F;1i(1a q=H,u=j[a[59]]-1;q<u;q++){t=j[q];x=j[q+1];n=t[p];w=x[p];D=t[F];y=x[F];if(v&&h&&h[a[3S]]){n=h[a[3S]](n,q,k,t,i);w=h[a[3S]](w,q+1,k,x,i)};if(r!==1f){if((o==1&&t[a[2R]])||x[a[2R]]){1l}};if(f&&F){if(v&&E&&h&&h[a[3S]]){D=h[a[3S]](D,q,E[a[1n]],t,E);y=h[a[3S]](y,q+1,E[a[1n]],x,E)};L=x[A];if(B[L]==M){B[L]={}};s=B[L][G];if(s){1l};if(D!=y){1l}};if(g){if(t[a[1dX]]){z=t[a[4b]]};if(t[a[4b]]>=x[a[4b]]&&z>=x[a[4b]]){z=-1;1l};if(z==-1){o=1;1l}};if(x[a[1dX]]&&i[a[3W]]==I){1l};if(d==J){if(n===w||m(w)){o++}1e{1l}}1e{if(d==K){if(n===w){o++}1e{1l}}1e{if(n===w&&!m(n)){o++}1e{1l}}}};1d o}},1di:1c(g,q){1a A=1b;1a k=A[a[2o]];1a j=A[a[1x]];1a n=A[a[1z]];1a f;1a i;1a D;1a h=1;1a r;1a w,x;1a p,s,t,u;1a B=a[hC];1a C=a[jJ];1a z;1a y;1a d;1a v=1f;if(!A[a[2H]]||j[a[59]]<=0){1d};if(g<0||g>=n[a[59]]){1d};if(l(q)){q=1g;v=1g};f=n[g];if(f[a[2q]]===1g){1d};i=f[a[1m]];z=a[a9]+i;d=f[a[9g]];if(bl(d)){if(A[a[1W]]&&A[a[1W]][a[59]]&&g<A[a[1W]][a[59]]){d=A[a[1W]][a[59]]}1e{1d}};u=1k[a[1A]](g+d,n[a[59]]-1);1i(p=0,t=j[a[59]];p<t;p++){r=j[p];if(v&&!r[a[2R]]){1u};b(r,p,f,d)};1d;1c b(j,m,f,d){1a i=f[a[1m]];1a k=a[hC]+i;1a l=a[jJ]+i;1a h=o(m,f,d);1a g;g=h[a[nK]];if(g>1){j[a[5k]][l]=1f;j[a[5k]][k]=g;if(h[a[Fm]]&&h[a[5L]]){b(j,m,h[a[5L]],h[a[9g]])}}1e{j[a[5k]][k]=1;j[a[5k]][l]=1g;if(h[a[Fm]]&&h[a[5L]]){b(j,m,h[a[5L]],h[a[9g]])}}}1c o(C,i,f){1a t=A[a[2o]];1a v;1a y;1a r,B;1a o;1a q=1;1a u=A[a[1z]];1a b=A[a[2I]];1a g=1E(A[a[2k7]])[a[13]]();1a h=1h;1a D=a[4t];1a E=a[1dh];1a F=a[1cC];1a n;1a p,z;1a x=1g;1a d;1a k=1h;1a r=i[a[1m]];1a o=i[a[1n]];1a w=A[a[1cD]];if(b[0]&&b[0][o]){h=b[0][o]};v=j[C];if(l(v)){1d{7C:1,vq:1g}};if(bl(f)){n=o+i[a[9g]]}1e{n=o+f};n=1k[a[1A]](n,u[a[59]]);p=v[r];if(w&&h&&h[a[3S]]){p=h[a[3S]](p,C,o,v,i)};1i(s=o+1;s<n;s++){y=u[s];B=y[a[1m]];z=v[B];if(o<t&&s>=t){1l};if(w&&h&&h[a[3S]]){z=h[a[3S]](z,C,s,v,y)};if(g==E){if(p===z||m(z)){q++}1e{1l}}1e{if(g==F){if(p===z){q++}1e{1l}}1e{if(p===z&&!m(p)){q++}1e{1l}}}};d=bl(i[a[9g]])?f:i[a[9g]];if(q<=d-2){x=1f;k=u[o+q]};1d{7C:q,vq:x,je:k,Ny:d-q}}},1cB:1c(q,m){1a r=1b;1a j=r[a[1z]];1a p=r[a[1M]];1a b,d;1a s=r[a[dD]];1a h;1a n,o;1a k=i;1a h;1a f=a[58];1a g;if(l(m)){m=r[a[1x]][q]};if(l(m)){1d};o=j[a[59]];g={};1i(n=0;n<o;n++){b=j[n];d=b[a[1m]];if(k(b[a[cT]])&&d!=p){h=b[a[cT]](q,n,m,d);h=1o(h);if(1D(h)){h=f};m[d]=h;g[d]=h}};1d g},1cA:1c(g){1a p=1b;1a d=p[a[1z]];1a q=p[a[dD]];1a o=p[a[1M]];1a j,m,l,n;1a b;1a k;1a h;1a f;if(!q){1d};if(1L g==a[0]){g=p[a[2U]]};if(p[a[1Q]]){1i(j=0,m=g[a[59]];j<m;j++){k=g[j];if(k[a[1p]]&&k[a[1p]][a[59]]){p[a[nB]](k[a[1p]])};1i(l=0,n=d[a[59]];l<n;l++){b=d[l];f=b[a[1m]];if(i(b[a[cT]])&&f!=o){h=b[a[cT]](j,l,k,f);h=1o(h);if(1D(h)){h=a[58]};k[f]=h}}}}1e{1i(j=0,m=g[a[59]];j<m;j++){k=g[j];1i(l=0,n=d[a[59]];l<n;l++){b=d[l];f=b[a[1m]];if(i(b[a[cT]])&&f!=o){h=b[a[cT]](j,l,k,f);h=1o(h);if(1D(h)){h=a[58]};k[f]=h}}}}},1cy:1c(q,h,m,i,n){1a s=1b;1a d=1h;1a k=s[a[1z]];1a f=k[h];1a o=f[a[1G]]||{};1a p=o[a[85]]||a[58];1a u=s[a[qq]]();1a j=s[a[2H]];1a l=s[a[1W]];p=1E(p)[a[13]]();if(s[a[1Q]]){if(s[a[4z]]||(!j&&u)){if(h==s[a[mw]]&&n){d=1j g();d[a[fk]]=s[a[fk]];d[a[DM]]=s[a[DM]];r(d,a[RG],s[a[SS]],s);d[a[lj]]=s[a[lj]];n[a[210]](d,1f);s[a[2I]][q][h]=d;t(d);1d}}};if(p==a[wB][a[13]]()){d=1j be()}1e{if(p==a[xr][a[13]]()){d=1j z()}1e{if(p==a[Ft][a[13]]()){d=1j B()}1e{if(p==a[me][a[13]]()){d=1j H();d[a[kS]]=s[a[kS]];r(d,a[4Q],s[a[dk]],s)}1e{if(p==a[BL][a[13]]()){d=1j bR();d[a[kS]]=s[a[kS]];r(d,a[4Q],s[a[dk]],s)}1e{if(p==a[9G][a[13]]()){d=1j P();d[a[4U]]=s;d[a[pp]]=s[a[3Q]];d[a[rW]]=s[a[hr]];d[a[hA]]=s[a[hA]];s[a[w9]]=1f;r(d,a[4Q],s[a[dk]],s)}1e{if(p==a[2kc][a[13]]()){d=1j bc()}1e{if(p==a[jC][a[13]]()){d=1j bu();d[a[sl]]=s;r(d,a[4Q],s[a[dk]],s)}1e{if(p==a[RY][a[13]]()){d=1j bO()}1e{if(p==a[S8][a[13]]()){d=1j bP()}1e{if(p==a[QV][a[13]]()){d=1j bQ()}1e{if(p==a[vn][a[13]]()){d=1j bY()}1e{if(p==a[l5][a[13]]()){if(s[a[3p]]){d=1j bX()}1e{d=1j bW()}}1e{if(p==a[Cp][a[13]]()){d=1j bt()}1e{if(p==a[pA][a[13]]()){if(o[a[BI]]){d=1j o[a[BI]]()}1e{d=1j b()}}1e{d=1j b()}}}}}}}}}}}}}}};t(d);if(n){n[a[210]](d,1f);s[a[2I]][q][h]=d};1d d;1c t(b){b[a[9H]]=s[a[2f]];b[a[1t]]=f;b[a[i9]]=s[a[i9]];if(s[a[3p]]||f[a[W2]]===1f){b[a[150]](a[3p],a[2kb])}1e{b[a[150]](a[R5],a[2ka])}}},1cF:1c(j,d,h,g,b){1a f=b[a[1J]]||{};if(f&&f[a[85]]==a[e8]&&i(f[a[7f]])){f=f[a[7f]](j,d,h,g,b[a[1m]]);if(l(f)){f={}}};1d f},1cK:1c(N,h,d,T,I,j){1a O=1b;1a g=O[a[1z]];1a f=g[h];1a M=f[a[1G]]||{};1a q=f[a[1J]]||{};1a s=q[a[85]]||a[4G];1a z=d[a[1B]];1a L;1a K=1f;1a w=d[a[1w]];1a k=f[a[1m]];1a b=W[a[2k]][a[5N]];1a o,J,Q;1a U=O[a[3q]];1a u=O[a[2o]];1a t=O[a[9Q]]();1a p=O[a[hr]];1a R=O[a[1hF]]();if(O[a[lJ]](N,h,a[2h],1f)===1g){O[a[cL]]();1d 1g};if(!l(O[a[1J]])){O[a[cL]]()};if(!O[a[t6]](w,f,N)){O[a[cL]]();1d 1g};if(T==a[uo]&&O[a[5F]]==a[192]){1d 1g};if(N<0||N>=O[a[1x]][a[59]]){1d 1g};if(M[a[85]]==a[jC]||M[a[85]]==a[9G]||M[a[85]]==a[me]||M[a[85]]==a[BL]){O[a[cL]]();if(M[a[85]]==a[jC]){if(M[a[rX]]!==1g){d[a[2F]][a[139]][a[eI]]()};if(T==a[uo]){if((48<=I[a[111]]&&I[a[111]]<=57)||I[a[111]]==189||I[a[111]]==109){d[a[2F]][a[139]][a[2b]]=1E[a[4r]](I[a[111]])}1e{if(96<=I[a[111]]&&I[a[111]]<=105){d[a[2F]][a[139]][a[2b]]=1E[a[4r]](I[a[111]]-48)}}}}1e{if((M[a[85]]==a[me]||M[a[85]]==a[BL])&&T==a[uo]){if(I[a[111]]==32){d[a[9N]][a[21]](d[a[139]],{})}}1e{if(M[a[2k8]]===1f&&I[a[111]]==32){d[a[9N]][a[21]](d[a[139]],{})}}};1d 1g};if(O[a[so]]){if(O[a[ao]]){O[a[xk]](O[a[ao]])}};o=O[a[6u]](N,h);J={x:o[a[130]],y:o[a[131]]};Q={3b:o[a[127]],4X:o[a[129]]};if(J[a[131]]+Q[a[129]]>O[a[iA]]+R){Q[a[129]]=O[a[iA]]+R-J[a[131]]};J[a[130]]=1k[a[1F]](J[a[130]],t);if(u>0&&h>=u){J[a[130]]=1k[a[1F]](J[a[130]],t+O[a[IG]]())};if(J[a[130]]+Q[a[127]]>O[a[127]]){Q[a[127]]=O[a[127]]-J[a[130]]-1;if(O[a[2w]]){Q[a[127]]-=O[a[3w]]}};if(i(O[a[1I]][a[t2]])){K=O[a[De]](N,h,f,w,z,1g,T)};if(K===1g){if(!l(O[a[2D]])){O[a[cL]]()};1d 1g};if(m(d[a[1B]])){z=a[58]};if(!l(O[a[2v]])){O[a[2v]][a[150]](a[g6],a[2k9])};q=O[a[fM]](N,h,z,w,f);s=q[a[85]]||a[4G];O[a[8o]]=1f;if(s==a[jC]){O[a[1J]]=1j bu();L=O[a[1J]];r(L,a[4Q],O[a[dk]],O);L[a[134]](J[a[130]]-b,J[a[131]]-1);L[a[133]](Q[a[127]],Q[a[129]]+1);L[a[150]](a[g6],a[1cL]);O[a[210]](L);L[a[3h]]=a[eB];L[a[1H]]=N;L[a[1n]]=h;L[a[1B]]=z;L[a[1w]]=w;L[a[1t]]=f;L[a[4e]]=q;L[a[135]]();if(q[a[rX]]!==1g){L[a[2F]][a[139]][a[eI]]();if(!y[a[38]]&&i(L[a[2F]][a[139]][a[8M]])){L[a[2F]][a[139]][a[8M]](0,L[a[2F]][a[139]][a[2b]][a[59]])}};if(I&&(I[a[5u]]||I[a[111]]<48||I[a[111]]>57)&&(I[a[111]]<96||I[a[111]]>105)&&!(I[a[111]]==189||I[a[111]]==109)){I[a[91]]()}}1e{if(s==a[9G]){O[a[1J]]=1j P();L=O[a[1J]];L[a[4U]]=O;L[a[pp]]=O[a[3Q]];L[a[rW]]=O[a[hr]];L[a[DU]]=O[a[DU]];L[a[3q]]=O[a[3q]];L[a[hA]]=O[a[hA]];r(L,a[4Q],O[a[dk]],O);L[a[134]](J[a[130]],J[a[131]]-1);L[a[133]](Q[a[127]],Q[a[129]]+1.5);L[a[150]](a[9j],0);L[a[150]](a[QR],0);L[a[150]](a[g6],a[1cL]);O[a[210]](L);L[a[3h]]=a[eB];L[a[1H]]=N;L[a[1n]]=h;L[a[1B]]=z;L[a[1w]]=w;L[a[1t]]=f;L[a[135]]()}1e{if(s==a[7F]&&q[a[iZ]]!==1g){O[a[1J]]=1j F();L=O[a[1J]];r(L,a[4Q],O[a[dk]],O);L[a[rV]]=O[a[2W]];L[a[150]]({a4:a[184],9d:0});L[a[1H]]=N;L[a[1n]]=h;L[a[1B]]=z;L[a[1w]]=w;L[a[1t]]=f;L[a[135]]();L[a[134]](0,0);O[a[jE]](L);O[a[3Q]][a[185]](L[a[139]]);O[a[eN]](L,J[a[130]],J[a[131]],Q[a[129]],U)}1e{if(s==a[8b]&&q[a[iZ]]!==1g){O[a[1J]]=1j D();L=O[a[1J]];r(L,a[4Q],O[a[dk]],O);L[a[150]](a[183],a[184]);L[a[1H]]=N;L[a[1n]]=h;L[a[1B]]=z;L[a[1w]]=w;L[a[1t]]=f;L[a[135]]();O[a[jE]](L);O[a[3Q]][a[185]](L[a[139]]);O[a[eN]](L,J[a[130]],J[a[131]],Q[a[129]],U)}1e{if(s==a[8d]&&q[a[iZ]]!==1g){O[a[1J]]=1j E();L=O[a[1J]];r(L,a[4Q],O[a[dk]],O);L[a[150]](a[183],a[184]);L[a[1H]]=N;L[a[1n]]=h;L[a[1B]]=z;L[a[1w]]=w;L[a[1t]]=f;L[a[135]]();O[a[jE]](L);O[a[3Q]][a[185]](L[a[139]]);O[a[eN]](L,J[a[130]],J[a[131]],Q[a[129]],U)}1e{if(s==a[2jZ]&&q[a[BI]]){if(T===a[uo]&&Gp[a[111]]!==32){1d 1g};O[a[1J]]=1j q[a[BI]]();O[a[1J]][a[1cJ]]=q[a[1cJ]];L=O[a[1J]];r(L,a[4Q],O[a[dk]],O);L[a[150]](a[183],a[184]);L[a[1H]]=N;L[a[1n]]=h;L[a[1m]]=k;L[a[1B]]=z;L[a[1w]]=w;L[a[1t]]=f;L[a[135]]();O[a[jE]](L);O[a[3Q]][a[185]](L[a[139]]);1a G=1o(q[a[2jY]]);G=bm(G)?G:0;1a H=1o(q[a[2jP]]);H=bm(H)?H:0;if(q[a[2jQ]]==a[3H]){J[a[130]]=J[a[130]]+Q[a[127]]+G}1e{J[a[130]]=J[a[130]]+G-1};if(q[a[2jO]]==a[154]){J[a[131]]=J[a[131]]-Q[a[129]]+H-1}1e{J[a[131]]=J[a[131]]+H};if(bm(q[a[2jN]])){L[a[194]](Q[a[127]])}1e{if(bm(q[a[127]])){L[a[194]](q[a[127]])}};if(bm(q[a[2jL]])){L[a[195]](Q[a[129]])}1e{if(bm(q[a[129]])){L[a[195]](q[a[129]])}};O[a[eN]](L,J[a[130]],J[a[131]],Q[a[129]],U);1d}1e{if(s==a[7w]){1a x=q[a[8Z]];1a S=q[a[8V]];if(!l(x)&&!l(S)){1a B=q[a[h1]];1a C=q[a[h0]];if(i(C)){B=C(N,h,w,k)};if(bi(B)){1i(1a v=0,A=B[a[59]];v<A;v++){if(z==B[v][x]){z=B[v][S];1l}}}};if((l(O[a[4D]][k])||O[a[4D]][k][a[59]]<=0)&&q[a[qT]]===1f){O[a[iF]](f)}}1e{if(s==a[7F]||s==a[8b]||s==a[8d]){if(q[a[2jM]]===1f){O[a[lV]](J,Q,d)}}};if(O[a[N9]]&&T==a[uo]){L=O[a[2D]];L[a[vK]]=1g;L[a[150]]({a4:a[184],BU:a[1jp]});if(q[a[1cG]]){L[a[199]](a[85],a[1cH])}1e{L[a[199]](a[85],a[45])};if(bn(q[a[BG]])){L[a[199]](q[a[BG]])};L[a[134]](J[a[130]],J[a[131]]);L[a[133]](Q[a[127]],Q[a[129]]);L[a[1H]]=N;L[a[1n]]=h;L[a[1B]]=z;L[a[1w]]=w;L[a[1t]]=f;if(q[a[158]]){L[a[199]](a[158],q[a[158]])}1e{L[a[199]](a[158],a[58])};if(q[a[160]]){L[a[199]](a[160],q[a[160]])}1e{L[a[199]](a[160],yb)};if(q[a[3d]]){L[a[150]](a[3d],q[a[3d]])}1e{if(f[a[3W]]==a[4t]){L[a[150]](a[3d],a[3H])}1e{L[a[150]](a[3d],a[152])}};if(O[a[dV]](q)){L[a[vx]]();L[a[Ha]]()}}1e{O[a[1J]]=1j n();O[a[1J]][a[199]](a[5z],a[177]);if(q[a[1cG]]){O[a[1J]][a[199]](a[85],a[1cH])}1e{O[a[1J]][a[199]](a[85],a[45])};if(bn(q[a[BG]])){O[a[1J]][a[199]](q[a[BG]])};L=O[a[1J]];r(L,a[vG],O[a[AD]],O);r(L,a[4Q],O[a[dk]],O);r(L,a[DN],O[a[1ci]],O);r(L,a[HM],O[a[1cj]],O);r(L,a[H8],O[a[1co]],O);r(L,a[H6],O[a[1cp]],O);O[a[NL]]=1f;L[a[HD]]=O[a[HD]];L[a[134]](J[a[130]],J[a[131]]);L[a[133]](Q[a[127]],Q[a[129]]);O[a[210]](L);L[a[1H]]=N;L[a[1n]]=h;if(s==a[9c]){L[a[1B]]=a[58];L[a[199]](a[158],O[a[2jR]])}1e{if(s==a[7F]||s==a[8b]||s==a[8d]){if(!1D(1Z[a[123]](1j 1Z(z)))&&q[a[au]]){z=V[a[aS]](z,q[a[au]])};L[a[1B]]=z}1e{L[a[1B]]=z}};if(q[a[158]]){L[a[199]](a[158],q[a[158]])};if(q[a[160]]){L[a[199]](a[160],q[a[160]])};if(q[a[Ey]]){L[a[199]](a[Gf],q[a[Ey]])};if(q[a[3d]]){L[a[150]](a[3d],q[a[3d]])}1e{if(f[a[3W]]==a[4t]){L[a[150]](a[3d],a[3H])}1e{L[a[150]](a[3d],a[152])}};L[a[1w]]=w;L[a[1t]]=f;L[a[135]]();if(l(L[a[139]])){1d};L[a[139]][a[eI]]();if(!y[a[38]]&&s!=a[9c]&&i(L[a[139]][a[8M]])){L[a[139]][a[8M]](0,L[a[139]][a[2b]][a[59]])}1e{if(y[a[38]]&&O[a[dV]](q)){L[a[Ha]]()}}};if(q[a[1cx]]!==1g){if((s==a[7w]||s==a[9c]||s==a[7F]||s==a[8b]||s==a[8d]||s==a[BM])&&q&&q[a[MJ]]===1f){if(Q[a[127]]-2<16){if(!l(O[a[2v]])){O[a[2v]][a[213]](1g)}}1e{O[a[1cw]](J,Q,s);if(L){L[a[150]](a[xi],a[x0])}}}1e{if(L){L[a[150]](a[xi],a[jY])}}}}}}}}};if((T==a[lE]||j===1f)&&s!=a[9c]){if(s==a[7F]||s==a[8b]||s==a[8d]){if(q[a[iZ]]!==1g){1d}1e{O[a[lV]](J,Q,d)}}1e{O[a[lV]](J,Q,d)}}},1cm:1c(b){1a f=1b;1a d=f[a[3q]];if(d!=1){b[a[150]]({kw:a[CE]+d+a[173],CB:a[1lu]})}1e{b[a[150]]({kw:a[192],CB:a[58]})}},1cn:1c(d,g,h,b,j){1a i=1b;1a f=cd[a[tx]](g+1,h+b+1,i[a[139]],j);if(i[a[hr]]){f=cd[a[wr]](f[a[130]],f[a[131]],i[a[3Q]],j);if(i[a[3Q]][a[103]]>0){f[a[130]]+=i[a[3Q]][a[103]]};f[a[130]]=1k[a[1F]](0,i[a[3Q]][a[103]],f[a[130]]-1);f[a[131]]=1k[a[1F]](0,i[a[3Q]][a[107]],f[a[131]]-1);if(i[a[3Q]][a[103]]<=0&&f[a[130]]+d[a[139]][a[3O]]>i[a[3Q]][a[3O]]){f[a[130]]=1k[a[1F]](0,f[a[130]]-d[a[139]][a[3O]]-3)};if(f[a[131]]+d[a[139]][a[3T]]>i[a[3Q]][a[3T]]){f[a[131]]=1k[a[1F]](0,f[a[131]]-d[a[139]][a[3T]]-b-3)}}1e{f=cd[a[qD]](d[a[139]],f,b,i[a[DU]],j)};d[a[134]](f[a[130]],f[a[131]])},Wq:1c(){1a k=1b;1a j,f;1a g;1a h,i,m;1a d=W[a[2k]][a[5N]];1a n=k[a[3q]];y[a[8k]][a[gp]](b);1c b(){if(!l(k[a[1J]])){g=k[a[1J]][a[165]];if(g==a[7F]||g==a[8b]||g==a[8d]||g==a[9G]||g==a[jC]){j=k[a[1J]][a[1H]];f=k[a[1J]][a[1n]];h=k[a[6u]](j,f);i={x:h[a[130]],y:h[a[131]]};m={3b:h[a[127]],4X:h[a[129]]};if(g==a[jC]){k[a[1J]][a[134]](i[a[130]]-d,i[a[131]]-1);1d}1e{if(g==a[9G]){k[a[1J]][a[134]](i[a[130]],i[a[131]]-1);k[a[1J]][a[yH]](1f);1d}};k[a[eN]](k[a[1J]],i[a[130]],i[a[131]],m[a[129]],n)}1e{j=k[a[1J]][a[1H]];f=k[a[1J]][a[1n]];h=k[a[6u]](j,f);i={x:h[a[130]],y:h[a[131]]};m={3b:h[a[127]],4X:h[a[129]]};k[a[1J]][a[134]](i[a[130]],i[a[131]]);k[a[1J]][a[133]](m[a[127]],m[a[129]])}};if(!l(k[a[4Y]])){j=k[a[4Y]][a[1H]];f=k[a[4Y]][a[1n]];h=k[a[6u]](j,f);i={x:h[a[130]],y:h[a[131]]};m={3b:h[a[127]],4X:h[a[129]]};k[a[eN]](k[a[4Y]],i[a[130]],i[a[131]],m[a[129]],n)}}},1ck:1c(){1a d=1b;if(d[a[Fh]]){y[a[8k]][a[gp]](b)}1e{b()};1c b(){if(!l(d[a[1J]])){if(i(d[a[1J]][a[p7]])){d[a[1J]][a[p7]]()};if(d[a[NL]]){d[a[NL]]=1g;bA(d[a[1J]],a[DN],d[a[1ci]]);bA(d[a[1J]],a[HM],d[a[1cj]]);bA(d[a[1J]],a[H8],d[a[1co]]);bA(d[a[1J]],a[H6],d[a[1cp]])};bA(d[a[1J]],a[4Q],d[a[dk]]);bA(d[a[1J]],a[vG],d[a[AD]]);d[a[1J]][a[132]]();d[a[1J]]=1h};if(!l(d[a[2D]])){d[a[2D]][a[139]][a[2b]]=a[58];d[a[2D]][a[1B]]=a[58];d[a[2D]][a[tX]]=a[58];d[a[2D]][a[vK]]=1f;d[a[2D]][a[134]](-1cu,0);d[a[2D]][a[133]](1,1);d[a[2D]][a[150]]({a4:a[1cv],BU:a[1ct],I9:a[jY]})};d[a[8o]]=1g;d[a[GJ]]();if(!l(d[a[4Y]])){d[a[yg]]()};d[a[zP]]=1g;if(!l(d[a[2v]])){d[a[2v]][a[150]](a[g6],a[215])}}},1cs:1c(){1a m=1b;1a h=m[a[la]];1a b=m[a[3a]];1a k=m[a[1M]];1a o=m[a[2m]];1a n=0;1a d;1a i,g;if(m[a[fH]]){m[a[7c]]=1g;1d};if(!m[a[7A]]||m[a[iM]]||l(m[a[9h]])){1d};1i(1a f in b){n++};if(m[a[1Q]]){d=m[a[9X]]();if(d[a[59]]==n&&n!=0){m[a[7c]]=1f}1e{m[a[7c]]=1g}}1e{if(h){if(o){d=m[a[Hn]]()}1e{d=m[a[1x]]};if(n!=0&&d[a[59]]>0){m[a[7c]]=1f};1i(1a p=0,j=d[a[59]];p<j;p++){i=d[p];g=i[k];if(l(b[g])){m[a[7c]]=1g;1l}};if(n>d[a[59]]){m[a[7c]]=1g};if(m[a[2U]][a[59]]==n&&n!=0){m[a[7c]]=1f}}1e{d=m[a[2U]];if(d[a[59]]==n&&n!=0){m[a[7c]]=1f}1e{m[a[7c]]=1g}}};if(m[a[7c]]){m[a[9h]][a[202]]({5T:1f,b9:1g})}1e{if(n>0){m[a[9h]][a[202]]({5T:1g,b9:1f})}1e{m[a[9h]][a[202]]({5T:1g,b9:1g})}}},1cq:1c(y){1a x=1b;1a F=x[a[3p]];1a f=x[a[3Z]];1a u=x[a[1M]];1a v=x[a[9t]];1a b=x[a[2I]];1a h=x[a[1x]];1a g;1a w=x[a[1S]];1a t=x[a[1X]];1a s=x[a[2u]];1a z=1k[a[1F]](0,w+x[a[1V]]);1a i=1k[a[1A]](w+s,h[a[59]]);1a C,B,E;1a n=-1;1a d=1f;1a o;1a p;1a A=a[7e];1a r;1a k;1a j=x[a[hq]];1a l,q;1a D;if(y<0||y>=x[a[1z]][a[59]]){1d};g=x[a[1z]][y][a[1m]];o=a[a9]+g;p=a[9x]+g;1i(1a m=z;m<i;m++){E=m-w;C=f[E];B=C[y];l=h[m];D=l[u];q=v[D];k=l[a[2R]]===1f?1f:1g;n=1k[a[1A]](v[D][o],s-E);if(q[p]){d=1f}1e{if(m==z){if(n>1){d=1f}1e{1u}}1e{d=1g}};if(j){k=1g};if(d&&n!=1&&!k){B[a[199]](A,n);r=b[E][y];if(r){if(!F){r[a[1X]]=t*n};r[a[135]]()}}1e{if(!d){B[a[213]](1g)}}}},1cr:1c(C){1a B=1b;1a k=B[a[2N]];1a f=B[a[3Z]];1a b=B[a[2I]];1a n=B[a[1x]];1a m;1a A=B[a[1S]];1a z=B[a[2u]];1a D=1k[a[1F]](0,A+B[a[1V]]);1a o=1k[a[1A]](A+z,n[a[59]]);1a J,I,q,K;1a t=-1;1a d=1g;1a w=0;1a l;1a x;1a u;1a v;1a G=a[7e];1a E=a[2T];1a h=W[a[2k]][a[5N]];1a j=h*2;1a y=a[qp]+h+a[149];1a F=a[9j];1a H=a[215];1a p=1g;1a g;1a s,r;if(C<0||C>=B[a[1z]][a[59]]){1d};m=B[a[1z]][C][a[1m]];u=a[hC]+m;v=a[jJ]+m;if(i(B[a[kD]])){p=1f;g=B[a[kD]]};1i(s=D;s<o;s++){K=s-A;J=f[K];I=J[C];q=n[s];d=1g;if(q[a[5k]]&&q[a[5k]][v]){d=1f;t=q[a[5k]][u]}1e{1u};if(d&&p){d=g(K,C,q);if(d===1g){1u}};if(d!==1g&&t!=1){if(I[a[189]]===1g||1o(I[a[200]](G))>1){1u};I[a[199]](E,t);w=k[C];1i(r=C+1;r<C+t;r++){I=J[r];if(I){I[a[213]](1g);w+=k[r]}};if(b[K]){x=b[K][C];if(x){if(x[a[dC]]){x[a[194]](w)}1e{l=w-j;if(l<=0){l=0;x[a[194]](l);x[a[150]](F,H)}1e{if(!x[a[dC]]){x[a[150]](F,y)};x[a[194]](l)}};x[a[dg]]=1g;x[a[135]]()}}}}},1cM:1c(l,m,g){1a k=1b,b=k[a[3Z]],f=k[a[1z]],r,q;1a h=k[a[2o]];1a d;1a p=a[7e];1a o=a[2T];1a n=a[58];if(l<0||l>=f[a[59]]){1d};d=f[l];1i(1a i=m,j=g;i<j;i++){r=b[i];q=r[l];if(f[l][a[2q]]===1g){q[a[213]](1g)}1e{q[a[213]](1f,n)};if(q[a[200]](p)){q[a[201]](p)};if(q[a[200]](o)){q[a[201]](o)}}},1cN:1c(h){1a d=1b;1a f=a[2i];1a g=a[2X];1a b=y[a[2]];if(bi(d[a[gl]])){cd[a[1q]](d[a[gl]],1c(i,j){j[a[139]][a[4a]]=1h;bA(j[a[139]],f,d[a[ra]]);if(b){bA(j[a[139]],g,d[a[ra]])};j[a[132]](h);d[a[gl]][i]=1h})};d[a[gl]]=1h},1d8:1c(h,m){1a l=1b;1a j=1h;1a b=l[a[2O]];if(m){1i(1a f=0,i=m[a[59]]-1;f<=i;f++){if(bi(m[f][a[1p]])){j=k(h,m[f]);if(j){1d j}}}};1d j;1c k(f,h){1a g=h[a[1p]];1a m=1h;1a j=d(g);1i(1a i=0,l=g[a[59]]-1;i<=l;i++){if(bi(g[i][a[1p]])){m=k(f,g[i]);if(m!=1h){if(j&&m[b]===j[b]){1d h}1e{1d m}}}1e{if(j&&f[b]===j[b]){1d h}}};1d 1h}1c d(b){1a f=1h;1a i;1a h=a[0];1i(1a d=b[a[59]]-1;d>=0;d--){if(b[d][a[7q]]&&bi(b[d][a[1p]])){i=g(b[d]);if(i===1g){1u}1e{f=d;1l}}1e{if(1L b[d][a[2q]]!=h&&b[d][a[2q]]===1g){1u}1e{f=d;1l}}};if(f!=1h){1d b[f]};1d 1h}1c g(h){1a b,j;1a f=1f;1a i=a[0];1i(1a d=h[a[1p]][a[59]]-1;d>=0;d--){b=h[a[1p]][d];if(b[a[7q]]&&bi(b[a[1p]])){j=g(b);if(j===1f){f=1g;1l}}1e{if(1L b[a[2q]]==i||b[a[2q]]===1f){f=1g;1l}}};1d!f}},1d9:1c(j){1a k=1b;1a h=k[a[1z]];1a f;1a g=k[a[2o]];1a i;1a d;1a m=k[a[2Z]];1a b=y[a[2]];1a o=a[2jS];1a n=a[2jX];1a p=a[2i];1a q=a[2X];j=!!j;if(l(h)){1d};d=h[a[59]];k[a[gl]]=[];if(l(h)){1d};d=h[a[59]];1i(i=0;i<g;i++){f=1j O();f[a[150]](o,n);f[a[213]](1g);k[a[di]](f);k[a[gl]][i]=f;f[a[139]][a[144]]=1b;f[a[139]][a[4a]]=i;r(f[a[139]],p,k[a[ra]]);if(b){r(f[a[139]],q,k[a[ra]])}};1i(i=g;i<d;i++){f=1j O();f[a[150]](o,n);f[a[213]](1g);k[a[di]](f);k[a[gl]][i]=f;f[a[139]][a[144]]=1b;f[a[139]][a[4a]]=i;r(f[a[139]],p,k[a[ra]]);if(b){r(f[a[139]],q,k[a[ra]])}};if(l(k[a[3V]])){k[a[3V]]=1j O(a[1oi]);if(k[a[7r]]){k[a[3V]][a[133]](1,k[a[129]]-k[a[6M]]);k[a[3V]][a[134]](0,k[a[6M]])}1e{k[a[3V]][a[133]](1,k[a[129]]);k[a[3V]][a[134]](0,0)};k[a[3V]][a[213]](1g);k[a[210]](k[a[3V]])}},1d6:1c(){1a f=1b;1a d;1a b=-1;if(bi(f[a[3Y]])&&!l(f[a[3Y]][0])&&!l(f[a[3Y]][0][a[139]])){d=f[a[3Y]][0][a[139]][a[kP]]()||{};if(!1D(d[a[129]])){b=1o(d[a[129]][a[128]](2))}};1d b<=0?f[a[1X]]:b},1d4:1c(){1a w=1b;1a d=w[a[2N]];1a b=d[a[59]];1a h=w[a[1z]];1a D=w[a[5g]][a[7Y]];1a E=0;1a F=0;1a m;1a C;1a s;1a k;1a u;1a n,r,f,t;1a x=w[a[2Z]];1a g=w[a[r7]];1a o;1a i=w[a[dK]]();1a j=w[a[l4]];1a q=w[a[f7]]>1?1f:1g;1a z=a[152];1a A=a[2jW];1a B=a[154];1a p=w[a[aQ]];1a v=6;if(y[a[2]]){v=10};k=w[a[Sd]]()*1k[a[1A]](w[a[2u]],w[a[1x]][a[59]]);if(!l(w[a[dI]])){w[a[dI]][a[213]](1g)};C=w[a[6o]]();if(w[a[6T]]){C+=p};if(!x){i=0};if(x){if(w[a[6x]]==B){k=1k[a[1A]](w[a[gG]],i+j+k+C)}1e{k=1k[a[1A]](w[a[gG]]-i,k+C)}}1e{k=1k[a[1A]](w[a[gG]],k+C)};if(w[a[2m]]||w[a[3p]]){k=w[a[c7]]+C;if(x&&w[a[6x]]==B){k+=i+j};k=1k[a[1A]](k,w[a[gG]])};if(!w[a[1db]]&&w[a[fz]]){w[a[fz]][a[195]](k)};if(w[a[2Z]]&&w[a[dI]]&&w[a[6Y]]>0){if(w[a[6x]]==a[154]){w[a[dI]][a[213]](1g)}1e{F=w[a[129]]-w[a[dK]]();if(w[a[3g]]){F-=w[a[3w]]};if(w[a[2m]]){F-=w[a[hW]]};w[a[dI]][a[134]](w[a[6Y]],F);w[a[dI]][a[195]](w[a[dK]]());w[a[dI]][a[213]](1f,a[58])}};if(!w[a[r7]]){1d};if(l(w[a[gl]])||w[a[gl]][a[59]]<=0){1d};E+=w[a[9Q]]();1i(n=0,r=w[a[2o]]-1;n<=r;n++){u=w[a[gl]][n];if(!u){1l};if(h[n][a[2q]]===1g){u[a[213]](1g);1u};u[a[213]](1f);f=h[n][a[2x]];if(n==r){F=0;m=C}1e{t=w[a[1d5]](h[n],D);if(t){f=t[a[2x]]};if(q){s=w[a[6o]](f-1);F=s;m=C-F}1e{F=0;m=C}};E+=d[n];o=n+1;if(o<b&&!l(h[o][a[2T]])&&h[o][a[2T]]==-1){if(q){F=w[a[6o]](f-1)}1e{F=C*0.5}};u[a[134]](E-v*0.5,F);u[a[133]](v,m);if(u[a[A6]]!=z){w[a[8m]][a[210]](u);u[a[A6]]=z}};E=0;F=0;1i(n=w[a[2o]];n<b;n++){u=w[a[gl]][n];if(!u){1l};if(h[n][a[2q]]===1g){u[a[213]](1g);1u};u[a[213]](1f);f=h[n][a[2x]];t=w[a[1d5]](h[n],D);if(t){f=t[a[2x]]};E+=d[n];if(q){s=w[a[6o]](f-1);F=s;m=C-F}1e{F=0;m=C};o=n+1;if(o<b&&!l(h[o][a[2T]])&&h[o][a[2T]]==-1){if(q){F=w[a[6o]](f-1)}1e{F=C*0.5}};u[a[134]](E-v*0.5,F);u[a[133]](v,m);if(u[a[A6]]!=A){w[a[di]](u);u[a[A6]]=A}};if(w[a[3V]]!=1h){w[a[3V]][a[133]](1,w[a[129]])}},1da:1c(){1a p=1b;1a b=p[a[3Y]];1a g=p[a[2N]];1a d=g[a[59]];1a n=p[a[2jV]];1a m=p[a[2jT]];1a o=p[a[2jU]];1a s=p[a[3q]];1a i=p[a[l4]];1a q=p[a[2Z]];1a f;1a r;1a j;1a k,l;1a h;if(!p[a[2m]]&&!p[a[2w]]){1d};r=p[a[6o]]();h=p[a[dK]]();if(!q){h=0};if(p[a[6T]]){r+=p[a[aQ]]};if(p[a[1R]][a[2K]]==p[a[1R]][a[5O]]){if(s!=1){j=p[a[3x]][a[139]][a[3T]]}1e{j=p[a[Sd]]()*1k[a[1A]](p[a[2u]]-1,p[a[1x]][a[59]])};if(q&&p[a[6x]]==a[154]){j+=i}}1e{if(s!=1){j=p[a[3x]][a[139]][a[3T]]}1e{j=p[a[1X]]*1k[a[1A]](p[a[2u]],p[a[1x]][a[59]])};if(q){j+=i}};if(q){if(p[a[6x]]==a[154]){j=1k[a[1A]](p[a[gG]],h+j+r)}1e{j=1k[a[1A]](p[a[gG]]-h,j+r)}}1e{j=1k[a[1A]](p[a[gG]],j+r)};if(p[a[2m]]){if(p[a[ef]]){j=p[a[c7]]}1e{j=1k[a[1A]](p[a[3x]][a[139]][a[3T]],p[a[c7]])};j=j+r;if(q&&p[a[6x]]==a[154]){j+=h+i};j=1k[a[1A]](j,p[a[gG]])}1e{if(p[a[3p]]){j=p[a[c7]];j=j+r;if(q&&p[a[6x]]==a[154]){j+=h+i};j=1k[a[1A]](j,p[a[gG]])}};if(!p[a[1db]]&&p[a[fz]]){p[a[fz]][a[195]](j)}},1dg:1c(){1a g=1b;1a f=g[a[1V]];1a b=g[a[1x]][a[59]];if(f<=0||f>b){if(!l(g[a[fo]])){g[a[fo]][a[213]](1g)};1d};1a d=g[a[6u]](f,0,1f);g[a[fo]][a[194]](1k[a[1A]](g[a[1df]],g[a[kW]][a[127]]+g[a[6Y]]));if(y[a[24]]){g[a[fo]][a[134]](0,d[a[131]]-1)}1e{g[a[fo]][a[134]](0,d[a[131]]-0.5)};g[a[fo]][a[213]](1f)},1de:1c(){1a u=1b;1a s=u[a[1O]];1a t=u[a[5F]];1a i=u[a[fW]]();1a b=u[a[3Z]];1a v=1g;1a f=u[a[2N]][a[59]];1a o=u[a[1fy]]();1a r;1a g,m,l,n;1a B,C,D,p;1a A;1a j=1g;1a k;1a h;1a w=a[1cR];1a x=a[Qi];1a y=a[1cQ];1a z=a[Qr];1a q,d;if(u[a[2H]]&&u[a[9U]]){v=1f};u[a[qm]]();u[a[yr]]=[];u[a[ys]]=[];if(t==a[192]||s[a[59]]<=0){1d};u[a[a2]]=[];u[a[5J]]=-1;u[a[7z]]=-1;r=u[a[2p8]]();k=s[a[59]];h=r[a[59]];q=u[a[3j]];d=u[a[3t]];if(h>0){if(u[a[3j]]>u[a[3k]]){j=1f};1i(g=0,m=h;g<m;g++){B=r[g];p=B[0];D=B[1];C=u[a[6K]](p);if(i){A=b[C][D];if(h===1||(p==o[0]&&D==o[1])){A[a[180]](w)}1e{A[a[180]](x)};u[a[ys]][a[1s]](A)}1e{1i(l=0,n=f;l<n;l++){A=b[C][l];if(h===1||D==o[1]){A[a[180]](y)}1e{A[a[180]](z)};u[a[yr]][a[1s]](A)};u[a[2q2]](p,D)};u[a[a2]][a[1s]]({x:C,y:D})};u[a[5J]]=u[a[6K]](r[0][0]);u[a[7z]]=r[0][1]};u[a[Qp]]=1f;u[a[2v5]]();u[a[AN]]()},1dc:1c(m,g){1a n=1b;1a k=n[a[fW]]();1a i=n[a[1z]];1a h=n[a[2H]];1a d=n[a[fU]];1a b=n[a[3Z]];1a f;1a m;1a g;1a o;1a q;1a j,l;1a p;if(h&&d){1i(j=0,l=i[a[59]];j<l;j++){f=i[j];g=f[a[1n]];if(n[a[qo]](m,g)){o=n[a[dM]](m,g);q=n[a[6K]](o);p=b[q][j];if(p&&p[a[189]]===1f&&p[a[pr]]>1){if(k){p[a[180]](a[Qi]);n[a[ys]][a[1s]](p)}1e{p[a[180]](a[Qr]);n[a[yr]][a[1s]](p)}}}}}},1dd:1c(){1a s=1b;1a d=s[a[1x]];1a r=s[a[1O]];1a n=s[a[1M]];1a p=s[a[1S]];1a f=s[a[1V]];1a q=[];1a m=[];1a g,i,j,k,l;1a h,t;1a o,b;l=1k[a[1A]](s[a[2u]]+p,d[a[59]]);1i(g=0,j=f;g<j;g++){h=d[g];if(!h){1u};1i(i=0,k=r[a[59]];i<k;i++){t=r[i];o=g;b=1o(t[1]);if(b<0){1u};if(h[n]==t[0]){q[i]=[o,b]}}};1i(g=p+f,j=l;g<j;g++){h=d[g];if(!h){1u};1i(i=0,k=r[a[59]];i<k;i++){t=r[i];o=g;b=1o(t[1]);if(b<0){1u};if(h[n]==t[0]){q[i]=[o,b]}}};cd[a[1q]](q,1c(b,d){if(d!==1T){m[a[1s]](d)}});1d m},1d3:1c(){1a g=1b;1a b=g[a[oe]]();1a f=g[a[1O]];1a d=1g;if(b&&f&&f[a[59]]>0&&!l(g[a[3j]])&&!l(g[a[3k]])&&!l(g[a[3t]])&&!l(g[a[3u]])){if(g[a[3j]]!==g[a[3k]]||g[a[3t]]!==g[a[3u]]){d=1f}};1d d},1d2:1c(){1a d=1b;1a b=d[a[5F]]||a[58];1d b[a[19]](a[2v6])>=0?1f:1g},1cS:1c(){1a d=1b;1a b=d[a[5F]]||a[58];1d b[a[13]]()[a[19]](a[2v4])>=0?1f:1g},1cT:1c(b){1a g=1b;1a d=g[a[fW]]();1a f=g[a[yr]];b=!!b;if(!g[a[Qp]]){1d};if(g[a[zG]]){g[a[8l]][a[213]](1g);g[a[ak]][a[213]](1g);g[a[aD]][a[213]](1g);g[a[8G]][a[213]](1g)};if(!l(g[a[2v]])){g[a[2v]][a[213]](1g)};g[a[5J]]=-1;g[a[7z]]=-1;g[a[BX]]();g[a[Qp]]=1g;if(d){f=g[a[ys]]};if(!bi(f)){1d};cd[a[1q]](f,1c(b,f){if(!i(f[a[181]])){1d};if(d){f[a[181]](a[1cR]);f[a[181]](a[Qi])}1e{f[a[181]](a[1cQ]);f[a[181]](a[Qr])}})},1cO:1c(K,h,M,s){1a O=1b;1a N=O[a[1O]];1a J=O[a[1M]];1a o=O[a[1V]];1a d=O[a[3Z]];1a k=O[a[1x]];1a g=O[a[1z]];1a L=O[a[1S]];1a G=K;1a D;1a B;1a z;1a C;1a A;1a P,j;1a t,f;1a b;1a Q;1a r,w,u,x,R;1a y;if(N[a[59]]<=0){1d};K=1k[a[1F]](K,0);K=1k[a[1A]](K,k[a[59]]-1);O[a[cu]]=1g;O[a[3j]]=1h;O[a[3k]]=1h;O[a[3t]]=1h;O[a[3u]]=1h;O[a[cF]]=-1;O[a[dy]]=-1;if(O[a[6D]]){O[a[2l]](1g,1f)}1e{O[a[2l]](1f,1f)};if(O[a[2m]]){O[a[2v1]](K,h,M,s);1d};1a m=O[a[dE]](K);1a v=O[a[ly]](K);if(O[a[1sC]]&&s!==1f){if(O[a[2H]]){v=O[a[hy]](K,v)};if(h>v&&K!=k[a[59]]-1){K++;h=O[a[dE]](K)}1e{if(h<m&&K!=0){K--;h=O[a[ly]](K)}}};1a F=O[a[2M]](N[0][0],J,k);1a E=N[0][1];1a I=O[a[2u]];if(I>k[a[59]]){I=k[a[59]]};h=1k[a[1A]](h,g[a[59]]-1);h=1k[a[1F]](h,0);K=1k[a[1A]](K,k[a[59]]-1);K=1k[a[1F]](K,0);if(O[a[2w]]){if(M==a[1hn]){O[a[1R]][a[2r]](0)}1e{if(M==a[aE]){O[a[1R]][a[2r]](O[a[1R]][a[5O]])}1e{if(M==a[RB]){if(!l(F)){if(F<L){O[a[1R]][a[2r]](K)}1e{if(F>L+I){O[a[1R]][a[2r]](K-I+2)}1e{O[a[1R]][a[2r]](L-I+1)}}}1e{O[a[1R]][a[2r]](L-I+1)}}1e{if(M==a[RA]){if(!l(F)){if(F<L){O[a[1R]][a[2r]](K)}1e{if(F>L+I){O[a[1R]][a[2r]](K-I+2)}1e{O[a[1R]][a[2r]](L+I-1)}}}1e{O[a[1R]][a[2r]](L+I-1)}}1e{if(M==a[dr]){O[a[1R]][a[2r]](L-1)}1e{if(M==a[eu]){O[a[1R]][a[2r]](L+1)}1e{if(O[a[2w]]){if(!l(F)){if(F<o&&K>=o){}1e{if(K>=o){if(L>0&&K<L+o){O[a[1R]][a[2r]](L-1)}1e{if(K-L>=I-1){O[a[1R]][a[2r]](L+1)}}}}}}}}}}}}};1a i=O[a[2N]];1a n=O[a[2o]];if(M==a[q8]){h=O[a[dE]](K);f=g[h]}1e{if(M==a[q0]){h=O[a[ly]](K);f=g[h]}1e{f=g[h];b=O[a[6K]](K);if(b>=0){Q=d[b][h]};if(f[a[2q]]===1g||O[a[mE]]||(O[a[2H]]&&f[a[2q]]!==1g&&Q&&Q[a[189]]===1g)){if(G==K){if(E<h){h=O[a[1sz]](E,K)}1e{if(E>h){h=O[a[1sv]](E,K)}}}1e{if(E<h){h=O[a[ly]](K)}1e{if(E>h){h=O[a[dE]](K)}}}}}};if(O[a[lJ]](b,h,a[gB])===1g){1d};if(O[a[3g]]){1a p=O[a[lx]]-1;1a q=O[a[oK]]+2;1a H=0;1a r,w;if(M==a[q8]){O[a[2C]][a[2r]](0)}1e{if(M==a[q0]){O[a[2C]][a[2r]](O[a[2C]][a[5O]])}1e{b=O[a[6K]](K);O[a[pb]](h,b)}}};K=1k[a[1A]](K,k[a[59]]-1);K=1k[a[1F]](K,0);L=O[a[1S]];O[a[1O]]=[];if(O[a[2H]]&&!O[a[9U]]){if(F>=K){D=O[a[dM]](K,h);if(D==-1){D=K};if(O[a[2w]]&&D<L){if(D>=O[a[1V]]){O[a[1R]][a[2r]](D-O[a[1V]])}};K=D;h=O[a[hy]](K,h)}1e{if(!O[a[1sM]](K,h)){D=O[a[lX]](K,h);if(D==-1){D=K}1e{D=D+1}}1e{D=K};if(O[a[2w]]&&I<=D-L+1){O[a[1R]][a[2r]](D-I+2)};K=D;h=O[a[hy]](K,h)};K=1k[a[1F]](K,0);D=O[a[dM]](K,h);if(D==-1){K=1k[a[1A]](K,k[a[59]]-1)}1e{K=1k[a[1A]](K,D)};if(O[a[oe]]()){y=O[a[xD]](K,K,h,h);O[a[3j]]=y[a[fx]];O[a[3k]]=y[a[aE]];O[a[3t]]=y[a[lU]];O[a[3u]]=y[a[kO]];1i(r=y[a[fx]],w=y[a[aE]];r<=w;r++){t=k[r];R=t[J];1i(u=y[a[lU]],x=y[a[kO]];u<=x;u++){O[a[1O]][a[1s]]([R,u])}}}1e{t=k[K];R=t[J];O[a[1O]][a[1s]]([R,h])}};K=1k[a[1F]](K,0);K=1k[a[1A]](K,k[a[59]]-1);t=k[K];if(l(t)){1d};if(O[a[3p]]){O[a[7W]](K)};if(!O[a[2H]]||O[a[9U]]){O[a[1O]][a[1s]]([t[J],h])};O[a[2Q]]();O[a[cu]]=1f},1cU:1c(d,b){1a k=1b;1a j=k[a[9t]];1a i=k[a[1M]];1a g;1a f;1a h=1g;1a l;if(!d){1d 1g};l=d[i];if(j[l]===1T){1d 1g};g=a[9x]+b;f=a[a9]+b;if(j[l][g]===1f){if(j[l][f]===1){h=1g}1e{h=1f}}1e{h=1f};1d h},1cV:1c(v,g){1a x=1b;1a x=1b;1a u=x[a[1M]];1a j=x[a[2H]];1a w=x[a[9t]];1a i=x[a[1x]];1a k=x[a[1z]];1a p,d,z,A;1a h;1a m=x[a[1W]];1a n=0;1a s,q;1a r,b;1a f;1a o;1a t=1g;1a y=a[hC];if(!j||g<0||g>=k[a[59]]||v<0||v>=i[a[59]]){1d 1g};p=i[v];if(l(p)){1d 1g};A=p[u];d=k[g];h=d[a[1m]];if(m&&m[a[59]]>0){n=m[a[59]]};s=a[9x]+h;q=a[a9]+h;if(n>0||d[a[7I]]===1f){if(!(w[A][s]===1f&&w[A][q]==1)){t=1f}};1d t},1d0:1c(o,f){1a q=1b;1a n=q[a[1M]];1a i=q[a[2H]];1a p=q[a[9t]];1a h=q[a[1x]];1a j=q[a[1z]];1a k,b;1a g;1a d;1a m=1g;k=h[o];b=j[f];if(!i||l(k)||l(b)){1d 1g};g=b[a[1m]];d=q[a[1ih]](o,f);if(d>1){m=1f}1e{if(bn(k[a[5k]])){if(q[a[En]](o,f)!=f){m=1f}}};1d m},1d1:1c(f,b){1a g=1b;1a d=g[a[qo]](f,b);if(!d){d=g[a[yG]](f,b)};1d d},1cZ:1c(n,d){1a q=1b;1a m=q[a[1M]];1a o=q[a[9t]];1a g=q[a[1z]];1a f=q[a[1x]];1a b;1a p=q[a[1S]];1a l;1a k;1a j;1a h=q[a[1W]];1a i=0;1a s;if(d<0||d>=g[a[59]]){1d-1};b=g[d];if(h&&h[a[59]]>0){i=h[a[59]]};n=1k[a[1F]](n,0);n=1k[a[1A]](n,f[a[59]]-1);l=n;j=f[n];s=j[m];if(i>0||b[a[7I]]===1f){k=a[9x]+b[a[1m]];if(o[s][k]==1g){1i(1a r=n-1;r>=0;r--){j=f[r];s=j[m];if(o[s]===1T){o[s]={}};if(o[s][k]===1f){l=r;1l}};if(l==n){l=p}}}1e{l=-1};1d l},1cY:1c(n,d){1a p=1b;1a o=p[a[9t]];1a h=p[a[1W]];1a m=p[a[1M]];1a g=p[a[1z]];1a f=p[a[1x]];1a i=0;1a k;1a l=1g;1a b;1a j;1a q;if(d<0||d>=g[a[59]]||n<0||n>=f[a[59]]){1d l};b=g[d];j=f[n];q=j[m];if(o[q]===1T){1d 1g};if(h&&h[a[59]]>0){i=h[a[59]]};if(i>0||b[a[7I]]===1f){k=a[9x]+b[a[1m]];if(o[q][k]!==1f){l=1g}1e{l=1f}}1e{l=1g};1d l},1cW:1c(d,b){1a k=1b;1a j=k[a[9t]];1a i=k[a[1M]];1a g;1a f;1a h=1g;1a l;if(!d){1d 1g};l=d[i];if(j[l]===1T){1d 1f};g=a[9x]+b;f=a[a9]+b;if(j[l][g]===1f&&j[l][f]>1){h=1f};1d h},1cX:1c(d,b){1a k=1b;1a j=k[a[9t]];1a i=k[a[1M]];1a g;1a f;1a h=1g;1a l;if(!d){1d 1f};l=d[i];if(j[l]===1T){1d 1f};g=a[9x]+b;f=a[a9]+b;if(j[l][g]!==1f&&j[l][f]===1){h=1f};1d h},1af:1c(q,d){1a s=1b;1a r=s[a[9t]];1a p=s[a[1M]];1a h=s[a[1z]];1a g=s[a[1x]];1a f=g[a[59]];1a i=s[a[1W]];1a j=0;1a n,m;1a l=f-1;1a k;1a b;1a o;1a u;if(d<0||d>=h[a[59]]){1d-1};b=h[d];if(i&&i[a[59]]>0){j=i[a[59]]};q=1k[a[1F]](q,0);q=1k[a[1A]](q,g[a[59]]-1);o=q;k=g[q];u=k[p];if(r[u]===1T){1d-1};if(j>0||b[a[7I]]===1f){n=a[9x]+b[a[1m]];if(r[u][n]==1g){1i(1a t=q+1;t<f;t++){k=g[t];u=k[p];if(r[u]===1T){r[u]={}};if(r[u][n]==1f){o=t;1l}};if(o==q){o=l}1e{o=o-1}}1e{m=r[u][a[a9]+b[a[1m]]];if(!1D(m)){o=q+m-1}1e{o=-1}}}1e{o=-1};1d o},1ae:1c(i,b){1a j=1b;1a d=j[a[1x]];1a k=j[a[dM]](i,b);1a f=j[a[lX]](i,b);1a h=[];if(k<0||f<0){1d h};1i(1a g=k;g<=f;g++){h[a[1s]](d[g])};1d h},17e:1c(s,i){1a v=1b;1a j;1a h=v[a[1z]];1a t=v[a[9t]];1a r=v[a[1M]];1a B=1h;1a n=v[a[1W]];1a w=v[a[mE]];1a k=v[a[9R]];1a m=v[a[2o]];1a d=v[a[3Z]];1a f=1g;1a b,z;1a g,p;1a q;1a u;1a x=a[a9];1a y=a[9x];1a A;if(!v[a[2H]]){1d i};if(!bl(s)){b=v[a[6K]](s);p=v[a[1x]][s];if(b>=0&&p){z=d[b];f=1f}};if(l(p)){1d i};A=p[r];if(t[A]===1T){t[A]={}};if(n&&n[a[59]]>0){j=v[a[8Y]](i);if(!(p[a[2R]]&&v[a[ex]])&&n[a[19]](j)>=0){1d i}};if(l(p[a[5k]])){1d i};1i(1a o=i;o>=0;o--){g=h[o];if(!g){1l};j=g[a[1m]];if(f){q=x+j;u=1o(p[q]);if(u==1&&t[A][y+j]===1g){u=-1}1e{u=1D(u)?1:u}};if(g[a[2q]]===1g){1u}1e{if(f&&u==1&&z&&z[o]&&z[o][a[189]]===1g){1u}1e{if(w&&m>o&&!k){1u}1e{B=o;1l}}}};if(l(B)){B=i};1d B},17f:1c(f){1a i=1b;1a d=i[a[1z]];1a b=1h;1i(1a g=f+1,h=d[a[59]];g<h;g++){b=d[g];if(b[a[2q]]!==1g){1l}};1d b},17d:1c(d,b){1a f=1b;1d f[a[zK]](d,b)[0]},17c:1c(d,b){1a f=1b;1d f[a[zK]](d,b)[1]},17a:1c(r,h){1a s=1b;1a k=s[a[1x]];1a j;1a o,g;1a d,f;1a p,q;1a t=h;1a m=h;1a v=a[hC];1a u=a[jJ];1a b;j=s[a[8Y]](h);g=s[a[cA]](j);o=k[r];if(l(g)||l(o)){1d[t,m]};if(!bn(o[a[5k]])){1d[t,m]};1i(1a n=h;n>=0;n--){j=s[a[8Y]](n);p=v+j;q=u+j;d=o[a[5k]][p];f=o[a[5k]][q];if(f===1f){t=n;m=n+d-1;1l}1e{if(f===1g){t=h;m=h;1l}}};if(h<t||h>m){t=h;m=h};if(i(s[a[kD]])){b=s[a[kD]](r,t,o);if(b===1g){t=h;m=h}};1d[t,m]},17b:1c(i,u){1a x=1b;1a h=x[a[1z]];1a v=x[a[9t]];1a t=x[a[1M]];1a h=x[a[1z]];1a s=1h;1a y=x[a[mE]];1a j=x[a[9R]];1a k=x[a[2o]];1a d=x[a[3Z]];1a f=1g;1a b,B;1a g,o;1a q;1a w;1a r;1a n=1g;1a z=a[a9];1a A=a[9x];1a C;if(!bl(u)){b=x[a[6K]](u);o=x[a[1x]][u];if(b>=0&&o){B=d[b];f=1f}};C=o[t];if(l(v[C])){v[C]={}};1i(1a m=i+1,p=h[a[59]];m<p;m++){g=h[m];if(f){r=A+g[a[1m]];n=v[C][r];q=z+g[a[1m]];w=1o(v[C][q]);w=1D(w)?1:w;if(w==1&&n===1g){w=-1}};if(g[a[2q]]===1g){1u}1e{if(f&&w==1&&B&&B[m]&&B[m][a[189]]===1g){1u}1e{if(y&&g[a[2p]]===1g){1u}1e{if(y&&k>m&&!j){1u}1e{s=m;1l}}}}};if(l(s)){s=i};1d 1k[a[1A]](s,h[a[59]]-1)},17g:1c(i,t){1a w=1b;1a h=w[a[1z]];1a u=w[a[9t]];1a s=w[a[1M]];1a r=1h;1a x=w[a[mE]];1a j=w[a[9R]];1a k=w[a[2o]];1a d=w[a[3Z]];1a f=1g;1a b,A;1a B;1a g,o;1a q;1a p;1a v;1a n=1g;1a y=a[a9];1a z=a[9x];if(!bl(t)){b=w[a[6K]](t);o=w[a[1x]][t];if(b>=0&&o){A=d[b];f=1f}};B=o[s];if(u[B]===1T){u[B]={}};1i(1a m=i-1;m>=0;m--){g=h[m];if(f){q=z+g[a[1m]];n=u[B][q];p=y+g[a[1m]];v=1o(u[B][p]);v=1D(v)?1:v;if(v==1&&n===1g){v=-1}};if(g[a[2q]]===1g){1u}1e{if(f&&v==1&&A&&A[m]&&A[m][a[189]]===1g){1u}1e{if(x&&g[a[2p]]===1g){1u}1e{if(x&&k>m&&!j){1u}1e{r=m;1l}}}}};if(l(r)){r=i};1d 1k[a[1F]](r,0)},17h:1c(l){1a m=1b;1a d=m[a[1z]];1a i=0;1a n=m[a[mE]];1a f=m[a[9R]];1a g=m[a[2o]];1a b,j;1i(1a h=0,k=d[a[59]];h<k;h++){b=d[h];if(b[a[2q]]===1g||(n&&b[a[2p]]===1g)){1u}1e{if(n&&g>h&&!f){1u}1e{i=h;1l}}};1d 1k[a[1F]](i,0)},17m:1c(m){1a n=1b;1a g=n[a[1z]];1a k=0;1a o=n[a[mE]];1a h=n[a[9R]];1a i=n[a[2o]];1a b=n[a[3Z]];1a d=1g;1a f,l;1i(1a j=g[a[59]]-1;j>=0;j--){f=g[j];if(f[a[2q]]===1g||(o&&f[a[2p]]===1g)){1u}1e{if(o&&i>j&&!h){1u}1e{k=j;1l}}};1d 1k[a[1A]](k,g[a[59]]-1)},17n:1c(j,f){1a k=1b;1a g=k[a[2H]];1a b=k[a[fU]];1a l=k[a[9U]];1a d=k[a[1z]];1a h;1a i;if(!bi(k[a[1x]])){1d 1g};if(!bi(d)){1d 1g};if(j<0||f<0){1d 1g};i=0;h=k[a[dE]](j);if(g&&k[a[ux]](j,f)){if(!l){i=k[a[dM]](i,f);if(i==-1){i=0}};h=k[a[hy]](j,k[a[dE]](j))};if(i==j&&h==f){1d 1f};1d 1g},17l:1c(j,f){1a k=1b;1a g=k[a[2H]];1a b=k[a[fU]];1a l=k[a[9U]];1a d=k[a[1z]];1a h;1a i;if(!bi(k[a[1x]])){1d 1g};if(!bi(d)){1d 1g};if(j<0||f<0){1d 1g};h=k[a[ly]](j);i=k[a[1x]][a[59]]-1;if(g&&k[a[ux]](j,f)){if(!l){i=k[a[dM]](i,f);if(i==-1){i=k[a[1x]][a[59]]-1}};h=k[a[hy]](j,k[a[ly]](j))};if(i==j&&h==f){1d 1f};1d 1g},17k:1c(r,j){1a s=1b;1a m=s[a[1x]];1a n=s[a[1z]];1a q;1a g=1;1a k;1a p,h;1a b,d;1a o;1a f;if(!s[a[2H]]){1d 1};if(i(s[a[kD]])){o=1f;f=s[a[kD]]};b=s[a[6K]](r);d=j;h=n[j];p=m[r];if(l(h)||l(p)){1d 1};k=h[a[1m]];q=a[hC]+k;if(p[a[5k]]&&p[a[5k]][q]){g=1o(p[a[5k]][q]);if(o){if(f(r,j,p)===1g){g=1}}};1d 1D(g)?1:g},17i:1c(n,f){1a o=1b;1a h=o[a[1x]];1a j=o[a[1z]];1a d=o[a[1z]];1a i=o[a[2H]];1a g;1a k,b;1a q=a[jJ];1a p=a[hC];1a m;b=j[f];k=h[n];if(!i||l(b)||l(k)){1d 1g};g=b[a[1m]];if(k[a[5k]]){m=k[a[5k]][q+g];if(m===1g){1d 1g};if(l(k[a[5k]][q+g])){if(o[a[En]](n,f)!=f){1d 1f}}};1d 1g},17j:1c(){1a q=1b;if(!q[a[7r]]){1d};q[a[1gi]]();if(l(q[a[1W]])||q[a[1W]][a[59]]<=0){1d};1a f=q[a[1W]];1a d=q[a[1z]];1a g=q[a[dh]];1a n;1a k=20;1a p=k;1a j;1a i;1a b;1a h;q[a[vb]]=0;1i(1a m=0,o=f[a[59]];m<o;m++){i=q[a[6l]](f[m]);if(i==-1){1u};b=d[i];j=l(b[a[2a]])?b[a[1m]]:1E(b[a[2a]])[a[178]]()==a[58]?a[58]:b[a[2a]];if(l(b[a[1m]])){1d};n=1j O(a[2v2]);n[a[139]][a[144]]=q;n[a[139]][a[Lc]]=m;r(n[a[139]],a[2i],q[a[16N]]);n[a[139]][a[44]]=j;g[a[210]](n);n[a[134]](p,(q[a[6M]]-n[a[139]][a[3T]])*0.5);p+=n[a[139]][a[3O]]+k;q[a[8h]][a[1s]](n)};h=g[a[139]][a[3O]];if(h>0&&p>h){if(l(q[a[dT]])){q[a[dT]]=1j O(a[2v9]);q[a[dT]][a[139]][a[144]]=q;r(q[a[dT]][a[139]],a[2i],q[a[16O]]);g[a[210]](q[a[dT]])};q[a[dT]][a[134]](0,0);q[a[dT]][a[133]](10,q[a[6M]]);if(l(q[a[dU]])){q[a[dU]]=1j O(a[2va]);q[a[dU]][a[139]][a[144]]=q;r(q[a[dU]][a[139]],a[2i],q[a[16P]]);g[a[210]](q[a[dU]])};q[a[dU]][a[134]](q[a[127]]-10,0);q[a[dU]][a[133]](10,q[a[6M]])};n=1h},16Z:1c(d){1a j=1b,g,b,f,h,i;if(!j[a[7r]]){1d};if(l(j[a[1W]])||j[a[1W]][a[59]]<=0){1d};if(bl(d)){d=0};b=20;i=b+d;1i(f=0,h=j[a[8h]][a[59]];f<h;f++){g=j[a[8h]][f];g[a[134]](i,(j[a[6M]]-g[a[139]][a[3T]])*0.5);i+=g[a[139]][a[3O]]+b};g=1h},16Y:1c(i){1a h=1b;if(!h[a[7r]]){1d};i=!!i;1a b=h[a[1W]];1a d=h[a[dh]];if(!l(h[a[dT]])){h[a[dT]][a[213]](1g);bA(h[a[dT]][a[139]],a[2i],h[a[16O]]);h[a[dT]][a[139]][a[144]]=1h;h[a[dT]][a[132]](i);h[a[dT]]=1h};if(!l(h[a[dU]])){h[a[dU]][a[213]](1g);bA(h[a[dU]][a[139]],a[2i],h[a[16P]]);h[a[dU]][a[139]][a[144]]=1h;h[a[dU]][a[132]](i);h[a[dU]]=1h};if(l(b)||b[a[59]]<=0){if(l(h[a[op]])){h[a[op]]=1j bN(a[2vf]);d[a[210]](h[a[op]],1f);h[a[op]][a[214]](h[a[2ve]])};h[a[op]][a[213]](1f)}1e{if(!l(h[a[op]])){h[a[op]][a[213]](1g)}};if(l(h[a[8h]])){h[a[8h]]=[];1d};1i(1a f=0,g=h[a[8h]][a[59]];f<g;f++){bA(h[a[8h]][f][a[139]],a[2i],h[a[16N]]);h[a[8h]][f][a[139]][a[Lc]]=1h;h[a[8h]][f][a[132]](i);h[a[8h]][f]=1h};h[a[8h]]=[]},QH:1c(k,j){1a t=1b;1a b=t[a[1z]];1a d;1a g=t[a[1x]];1a f=g[a[59]];1a m,p=b[a[59]];1a y=0;1a x=0;1a z=0;1a h=0;1a r=t[a[16M]];1a i=t[a[2o]];1a u=t[a[127]];1a s;1a q=0;1a A=0;1a v;1a o=0;1a n=1g;1a w;u-=t[a[9Q]]();if(u!=t[a[127]]){u-=t[a[iG]]};if(t[a[2m]]){if(t[a[dq]]!=a[pS]){u-=t[a[3w]];A=t[a[3w]]}}1e{if(t[a[dq]]==a[7d]){if(f*t[a[1X]]>t[a[129]]-k-j){u-=t[a[3w]];A=t[a[3w]]}}1e{if(t[a[dq]]==a[83]){u-=t[a[3w]];A=t[a[3w]]}}};v=u;if(t[a[2N]][a[59]]<=0){cd[a[1q]](b,1c(b,d){if(!l(d[a[cX]])){d[a[127]]=d[a[cX]];d[a[cX]]=1h}});if(t[a[2uY]]){cd[a[1q]](b,1c(b,d){if(d[a[2q]]!==1g&&!bl(1o(d[a[127]]))){u-=d[a[127]]}})};cd[a[1q]](b,1c(b,d){if(!bm(d[a[127]])&&1E(d[a[127]])[a[19]](a[OK])>0){d[a[cX]]=d[a[127]];d[a[127]]=u*(1o(d[a[127]][a[60]](0,d[a[127]][a[59]]-1))*0.Rm);if(!l(d[a[jV]])&&!1D(1o(d[a[jV]]))){d[a[127]]=1k[a[1F]](1o(d[a[jV]]),d[a[127]])}}});1i(m=0;m<p;m++){d=b[m];if(d[a[2q]]===1g){1u};if(bl(d[a[127]])){z++}1e{h+=d[a[127]]}};if(v>h+t[a[16M]]*z){r=1k[a[244]](1o((v-h)/z));o=v-h-r*z};1i(m=p-1;m>=0;m--){d=b[m];if(d[a[2q]]===1g){t[a[2N]][m]=0;1u};if(!bl(d[a[127]])){y+=d[a[127]];t[a[2N]][m]=d[a[127]]}1e{if(!n){n=1f;y+=r+o;t[a[2N]][m]=r+o}1e{y+=r;t[a[2N]][m]=r}}}}1e{1i(m=0;m<p;m++){y+=t[a[2N]][m]}};if(t[a[2o]]>0){1i(m=0;m<t[a[2o]];m++){y-=t[a[2N]][m]}};if(t[a[tL]]){w=0;cd[a[1q]](t[a[2N]],1c(b,f){1a d;1a g;if(f>0){d=f/y;g=1k[a[244]](v*d);t[a[2N]][b]=g;w+=g}});o=v-w;1i(m=p-1;m>=0;m--){d=b[m];if(d[a[2q]]===1g){1u};t[a[2N]][m]+=1;o--;if(o<=0){1l}};if(o>0){t[a[2N]][t[a[2N]][a[59]]-1]+=o};y=v};if(t[a[2m]]){x=q*t[a[1X]]}1e{x=g[a[59]]*t[a[1X]]};1d{3b:y+1,4X:x,16K:A}},16L:1c(){1a d=1b;1a b=0;if(d[a[8n]]){b+=d[a[uM]]};if(d[a[cO]]){b+=d[a[18G]]};if(d[a[7A]]){b+=d[a[18E]]};if(d[a[ka]]){b+=d[a[18F]]};1d b},16Q:1c(){1a h=1b;1a d=h[a[2o]];1a b=h[a[2N]];1a g=0;if(d<=0){1d g};1i(1a f=0;f<d;f++){g+=b[f]};1d g},16R:1c(f){1a j=1b;1a b=j[a[2N]];1a m=j[a[kd]];1a i=j[a[4h]];1a l=0;1a k=0;1a d=0;if(j[a[3g]]){1i(1a g=j[a[2o]],h=b[a[59]];g<h;g++){l+=b[g];if(l<=i){k=g-1};if(l<m+i){d=g+2}};k=1k[a[1F]](k,0);d=1k[a[1A]](d,b[a[59]]);if(j[a[oK]]!=k||j[a[lx]]!=d){j[a[oK]]=k;j[a[lx]]=d;if(f&&!j[a[2m]]){j[a[5K]]();j[a[5A]]()}}}1e{j[a[oK]]=0;j[a[lx]]=b[a[59]]}},RU:1c(h){1a n=h[a[78]];1a k=h[a[183]];1a b=n[a[5c]];1a i=n[a[4h]];1a d,m,j;1a f=1f;1a g=1c(){if(n[a[6D]]){n[a[2l]](1g,1f)}1e{n[a[2l]](1f,1f)};if(n[a[i9]]){n[a[ey]][a[213]](1g)};n[a[aI]]();if(n[a[16X]]||!n[a[2C]][a[3G]][a[ch]]){if(!n[a[2C]][a[3G]][a[ch]]){n[a[16V]]()};f=1f;n[a[4h]]=k;b[a[198]](-k,b[a[131]]);n[a[16W]](1f);if(n[a[zG]]){n[a[AN]]()};if(n[a[7A]]){n[a[6a]]()};if(!l(n[a[4n]])){n[a[4n]][a[213]](1g)}}1e{f=1g;d=n[a[2N]];m=0;if(k>0){1i(1a g=n[a[2o]],o=d[a[59]];g<o;g++){m+=d[g];if(m>=k){j=g+1;1l}}}1e{j=n[a[2o]]};j=1k[a[1A]](j,n[a[1z]][a[59]]-1);n[a[16U]](n[a[1z]][j][a[2a]],1g)};if(!n[a[2C]][a[3G]][a[ch]]){n[a[Be]](n[a[rc]],n[a[rp]])};if(f&&n[a[xp]]&&i!=h[a[183]]){n[a[1I]][a[tH]]({1P:a[tH],2y:n[a[2f]],16S:i,a4:h[a[183]],16T:n[a[2C]][a[7k]],17o:n[a[2C]][a[5O]]})}};if(!n[a[2m]]&&n[a[cu]]&&n[a[2C]][a[3G]][a[ch]]&&n[a[16X]]){if(n[a[17K]]){y[a[8k]][a[gp]](g)}1e{if(n[a[lW]]!==1h){a7(n[a[lW]]);n[a[lW]]=1h};n[a[lW]]=8A(1c(){g()},n[a[17L]])}}1e{g()}},RS:1c(f){1a h=f[a[78]];1a g=h[a[1S]];1a b=1f;1a d=1c(){if(h[a[6D]]){h[a[2l]](1g,1f)}1e{h[a[2l]](1f,1f)};if(h[a[i9]]){h[a[ey]][a[213]](1g)};if(h[a[2m]]){h[a[aI]]();1a d=f[a[183]];g=h[a[4o]];h[a[4o]]=d;if(h[a[3o]]){h[a[3o]][a[134]](h[a[3o]][a[130]],-d)};h[a[3x]][a[134]](h[a[3x]][a[130]],-d);h[a[AN]]();if(!l(h[a[4n]])){h[a[4n]][a[213]](1g)}}1e{if(h[a[17p]]||!h[a[1R]][a[3G]][a[ch]]){if(!h[a[1R]][a[3G]][a[ch]]){h[a[16V]]()};b=1f;h[a[1S]]=f[a[183]];h[a[5K]]();h[a[6a]]();h[a[5A]]()}1e{b=1g;h[a[16U]](f[a[183]]+1,1f)}};if(!h[a[1R]][a[3G]][a[ch]]){h[a[Be]](h[a[rc]],h[a[rp]])};if(b&&h[a[xe]]&&g!=f[a[183]]){h[a[1I]][a[tK]]({1P:a[tK],2y:h[a[2f]],16S:g,a4:f[a[183]],16T:h[a[1R]][a[7k]],17o:h[a[1R]][a[5O]]})}};if(!h[a[2m]]&&h[a[cu]]&&h[a[17p]]){if(h[a[17K]]){y[a[8k]][a[gp]](d)}1e{if(h[a[lW]]!==1h){a7(h[a[lW]]);h[a[lW]]=1h};h[a[lW]]=8A(1c(){d()},h[a[17L]])}}1e{d()}},17J:1c(f,b){1a d=1b;1a g,h;if(d[a[hf]]===1h){d[a[hf]]=1j O(a[2uX]);d[a[210]](d[a[hf]])};d[a[hf]][a[139]][a[44]]=f;if(b){g=d[a[127]]-d[a[3w]]-d[a[hf]][a[139]][a[3O]]-2;h=d[a[1R]][a[3G]][a[131]]}1e{g=d[a[2C]][a[3G]][a[130]];h=d[a[129]]-d[a[3w]]-d[a[hf]][a[139]][a[3T]]-2};d[a[hf]][a[134]](g,h)},17I:1c(){1a b=1b;if(!l(b[a[hf]])){b[a[hf]][a[132]](1g)};b[a[hf]]=1h},17G:1c(){1a b=1b;if(b[a[6n]]&&b[a[6J]]()){b[a[aX]]()}1e{if(b[a[ab]]()){b[a[s3]]()}}},17H:1c(){1a b=1b;1a d=b[a[as]];if(d&&d[a[59]]>0){1d 1f};1d 1g},17M:1c(k,b){1a v=1b;1a A=v[a[2uH]];1a s=v[a[rh]];1a h=v[a[1z]];1a g=v[a[hn]](k,h);1a j;1a m;1a y;1a t=0;1a B=1;1a z;1a u=v[a[1M]];1a f=v[a[2O]];1a n=v[a[2uI]];1a C;1a E;1a o,x;if(y===1g||l(g)){1d};j=g[a[1n]];m=g[a[1m]];y=g[a[1oo]];if(v[a[4j]]&&v[a[2Y]]&&v[a[2p]]){v[a[2Y]][a[dW]]()};if(v[a[OB]]===1g){s=1g};if(l(v[a[as]])){v[a[as]]=[]};z=v[a[as]];if(z[a[59]]>0){cd[a[1q]](z,1c(b,d){if(d[a[1m]]==m){t=d[a[eL]];1d 1g}})};if(!bi(A)){A=[0,1,-1]};if(A[a[59]]<2){A=[0,1,-1]};1a w=A[a[19]](t);if(w===-1||w>=A[a[59]]-1){B=A[0]}1e{B=A[w+1]};if([1,-1,0][a[19]](B)==-1){B=0};if(n&&b){1a p=1g;cd[a[1q]](z,1c(b,d){if(d[a[1m]]==m){z[b][a[eL]]=B;z[b][a[3W]]=v[a[8U]][m]||a[118];z[b][a[zE]]=v[a[rh]];p=1f;1d 1g}});if(!p){x={5l:m,xX:B,xU:v[a[8U]][m]||a[118],xR:v[a[rh]]};if(x[a[3W]]==a[5U]){x[a[4P]]=g[a[4P]]||1h};z[a[1s]](x)}}1e{if(z[a[59]]>1){B=1};z=v[a[as]]=[];x={5l:m,xX:B,xU:v[a[8U]][m]||a[118],xR:v[a[rh]]};if(x[a[3W]]==a[5U]){x[a[4P]]=g[a[4P]]||1h};z[a[1s]](x)};1a r=[];cd[a[1q]](z,1c(b,f){1a d;if(f[a[eL]]!=0){d={5l:f[a[1m]],xX:f[a[eL]],xU:v[a[8U]][f[a[1m]]]||a[118],xR:s};if(d[a[3W]]==a[5U]){d[a[4P]]=f[a[4P]]};r[a[1s]](d)}});v[a[as]]=r;if(v[a[zy]]){v[a[jn]]();if(i(v[a[1I]][a[sd]])){bL(16)[a[8z]](1c(){v[a[1I]][a[sd]]({1P:a[sd],2y:v[a[2f]],KG:cd[a[69]](1f,[],v[a[as]])})})};1d};if(v[a[1Q]]){1a d=[];if(v[a[4z]]){1a D=v[a[2c]][a[8f]]-1;if(v[a[Oq]]){1i(o=0;o<D;o++){d[o]=a[KM]+o}}1e{1i(o=0;o<D;o++){d[o]=m}};d[a[1s]](m)}1e{if(v[a[1W]]&&v[a[1W]][a[59]]>0){1i(1a q=0;q<v[a[1W]][a[59]];q++){d[a[1s]](a[1er]+q)};if(j>=v[a[1W]][a[59]]){d[a[1s]](m)}}};v[a[y2]]=d};if(v[a[6n]]&&v[a[6J]]()&&v[a[as]][a[59]]>0){v[a[aX]]();v[a[yF]]()}1e{v[a[s3]]();if(v[a[2H]]){v[a[ci]]()};v[a[5S]](1f);v[a[yF]]()}},17N:1c(){1a n=1b;1a o=n[a[1m9]];1a j=n[a[ve]]==a[154]?1f:1g;1a g=n[a[1z]];1a q=n[a[as]];1a k=n[a[1M]];1a r;1a s;1a f=1h;1a t=a[0];1a d;1a h=1g;if(!bi(q)){1d};if(n[a[6D]]){n[a[2l]](1g,1f)}1e{n[a[2l]](1f,1f)};1a b=n[a[6n]]&&n[a[6J]]();if(o){h=1g;cd[a[1q]](q,1c(f,j){1a d=j[a[1m]];1a b=n[a[cA]](d);1a g=b[a[1G]];if(b&&i(b[a[6O]])){h=1f;1d 1g};if(!l(g)&&g[a[85]]==a[9G]&&!m(g[a[8Z]])&&!m(g[a[8V]])){h=1f;1d 1g}})};if(n[a[1Q]]){cd[a[1q]](q,1c(b,d){d[a[17S]]=j});if(q[a[59]]>0){if(b){s=n[a[2c]][a[4f]];if(o&&h){s=n[a[Rl]](s,q)};n[a[2c]][a[4f]]=cd[a[QM]](s,n[a[y2]],q);if(o&&h){n[a[2c]][a[4f]]=n[a[S6]](n[a[2c]][a[4f]],q)};n[a[2c]][a[7B]]=n[a[zL]](n[a[2c]][a[4f]]);1a p=n[a[ud]](n[a[2c]][a[4f]]);s=n[a[2c]][a[fv]];if(n[a[1V]]>0&&n[a[Fi]]){s=s[a[222]]();f=s[a[2E]](0,n[a[1V]])};d=cd[a[9v]](s,k,a[4H]);n[a[1x]]=cd[a[cv]](p,1c(f,g){1a b=d[g[k]];if(b!==1T){g[a[3e]]=s[b][a[3e]];1d 1f};1d 1g});if(bi(f)&&f[a[59]]>0){n[a[1x]]=f[a[5I]](n[a[1x]])}}1e{s=n[a[2c]][a[4f]];if(n[a[1V]]>0&&n[a[Fi]]){s=s[a[222]]();f=s[a[2E]](0,n[a[1V]])};if(o&&h){s=n[a[Rl]](s,q)};if(bi(f)&&f[a[59]]>0){n[a[2c]][a[4f]]=f[a[5I]](cd[a[QM]](s,n[a[y2]],q))}1e{n[a[2c]][a[4f]]=cd[a[QM]](s,n[a[y2]],q)};if(o&&h){n[a[2c]][a[4f]]=n[a[S6]](n[a[2c]][a[4f]],q)};n[a[2c]][a[7B]]=n[a[zL]](n[a[2c]][a[4f]]);n[a[1x]]=n[a[ud]](n[a[2c]][a[4f]])}}1e{if(b){s=n[a[2c]][a[fv]];n[a[2c]][a[4f]]=cd[a[69]](1f,[],n[a[8p]]);n[a[2c]][a[7B]]=n[a[zL]](n[a[2c]][a[4f]]);n[a[1x]]=n[a[ud]](n[a[2c]][a[4f]]);d=cd[a[9v]](s,k,a[4H]);n[a[1x]]=cd[a[cv]](n[a[1x]],1c(b,f){1a a=d[f[k]];if(a!==1T){1d 1f};1d 1g})}1e{n[a[2c]][a[4f]]=cd[a[69]](1f,[],n[a[8p]]);n[a[2c]][a[7B]]=n[a[zL]](n[a[2c]][a[4f]]);n[a[1x]]=n[a[ud]](n[a[2c]][a[4f]])}}}1e{if(b){r=n[a[1x]]}1e{r=n[a[2U]]};if(n[a[1V]]>0&&n[a[Fi]]){r=r[a[222]]();f=r[a[2E]](0,n[a[1V]])};if(q[a[59]]>0){if(o&&h){r=n[a[Rl]](r,q)};if(bi(f)&&f[a[59]]>0){n[a[1x]]=f[a[5I]](cd[a[S4]][a[63]](r,q))}1e{n[a[1x]]=cd[a[S4]][a[63]](r,q)};if(o&&h&&q[a[59]]){n[a[1x]]=n[a[S6]](n[a[1x]],q)}}1e{n[a[1x]]=n[a[2U]];if(b){n[a[aX]](1f,1f)}}};if(n[a[3j]]!==1h&&n[a[3k]]!==1h&&n[a[3t]]!==1h&&n[a[3u]]!==1h){n[a[zR]]=n[a[3j]];n[a[zS]]=n[a[3k]];n[a[zT]]=n[a[3t]];n[a[zQ]]=n[a[3u]]};n[a[3j]]=1h;n[a[3k]]=1h;n[a[3t]]=1h;n[a[3u]]=1h;if(!n[a[ab]]()&&n[a[zR]]!==1h&&n[a[zS]]!==1h&&n[a[zT]]!==1h&&n[a[zQ]]!==1h){n[a[3j]]=n[a[zR]];n[a[3k]]=n[a[zS]];n[a[3t]]=n[a[zT]];n[a[3u]]=n[a[zQ]];n[a[zR]]=1h;n[a[zS]]=1h;n[a[zT]]=1h;n[a[zQ]]=1h}},17R:1c(f,o){1a k=1b;1a j=k[a[1M]];1a b=k[a[2I]];1a n=[];1a d;1a q;1a h;1a g;1a p=a[9G];if(l(b[0])||l(b[0][0])){1d f};d=b[0][0];h={};g={};q=cd[a[69]](1f,[],k[a[1x]]);cd[a[1q]](o,1c(r,t){1a o=t[a[1m]];1a b=k[a[cA]](o);1a s;1a f;if(l(b)){1d 1g};s=b[a[1G]];f=b[a[1n]];n[a[1s]](o);if(i(b[a[6O]])||(!l(s)&&s[a[85]]==p&&!m(s[a[8Z]])&&!m(s[a[8V]]))){h[o]={};g[o]={};cd[a[1q]](q,1c(i,l){1a k=l[j];h[o][k]=l[o];g[o][k]=d[a[3S]](l[o],i,f,l,b)})}});k[a[Sh]](f,g,n);k[a[Sc]]=h;h=1h;1d f},17Q:1c(b,h){1a f=1b;1a d=f[a[Sc]];1a g=[];if(l(d)){1d b};cd[a[1q]](h,1c(d,f){1a b=f[a[1m]];g[a[1s]](b)});f[a[Sh]](b,d,g);d=f[a[Sc]]=1h;1d b},17O:1c(m,p,d){1a l=1b;1a k=l[a[1M]];1a f,h,i,j;1a g;1a b;1a n;1a o=1T;1i(f=0,i=m[a[59]];f<i;f++){g=m[f];n=g[k];if(g[a[1p]]&&g[a[1p]][a[59]]){l[a[Sh]](g[a[1p]],p,d)};1i(h=0,j=d[a[59]];h<j;h++){b=d[h];if(p[b]&&p[b][n]!==o){g[b]=p[b][n]}}}},17P:1c(){1a b=1b;if(b[a[ky]]&&i(b[a[1I]][a[Rv]])){cd[a[1q]](b[a[as]],1c(d,f){f[a[1n]]=b[a[6U]](f[a[1m]])});b[a[1I]][a[Rv]]({1P:a[Rv],2y:b[a[2f]],KG:cd[a[69]](1f,[],b[a[as]])})};b[a[ky]]=1g},17F:1c(k,z){1a v=1b;1a b=v[a[nf]];1a n=v[a[1z]];1a r;1a A;1a j=v[a[2N]];1a y=v[a[as]];1a s=0;1a t=0;1a g=1;1a p;1a f;1a d=v[a[2O]];1a i;1a h;1a m;1a w;1a x;1a o;if(l(y)){1d};if(bi(b)){cd[a[1q]](b,1c(b,d){d[a[132]]();v[a[nf]][b]=1h})};b=v[a[nf]]=[];A=v[a[6o]]();1i(1a u=0,q=y[a[59]];u<q;u++){x=y[u];i=v[a[6l]](x[a[1m]]);if(i<0){1u};f=n[i];if(f[a[2q]]===1g){1u};p=1j O();p[a[213]](1g);p[a[150]](a[Rn],a[192]);if(i<v[a[2o]]){s+=v[a[9Q]]();if(!1D(1o(f[a[2T]])&&1o(f[a[2T]])>0)){h=i+1o(f[a[2T]])-1}1e{h=i};1i(o=0;o<=h;o++){s+=j[o]};v[a[8m]][a[210]](p)}1e{if(!1D(1o(f[a[2T]]))&&1o(f[a[2T]])>0){h=i+1o(f[a[2T]])-1}1e{h=i};1i(o=v[a[2o]];o<=h;o++){s+=j[o]};v[a[di]](p)};if(f[a[1k2]]===1f){if(!l(f[a[lD]])){s-=1o(f[a[lD]])}1e{s-=16}}1e{if(v[a[6n]]&&f[a[171]]&&f[a[171]][a[hI]]&&f[a[171]][a[u9]]!==1g){if(!l(f[a[171]][a[lQ]])){s-=1o(f[a[171]][a[lQ]])}1e{s-=16}}};z=x[a[eL]];m=f[a[2x]];t=v[a[6o]](m-1);r=A-t;w=1k[a[1A]](20,r*0.5);p[a[133]](w,r);p[a[134]](s-w-1,t);if(q>1){if(z>0){p[a[202]](a[165],a[2uJ])}1e{p[a[202]](a[165],a[2uK])};p[a[214]](g)}1e{if(z>0){p[a[202]](a[165],a[2uG])}1e{p[a[202]](a[165],a[2uF])}};p[a[213]](1f);g++;s=0;t=0;b[a[1s]](p)}},17E:1c(){1a d=1b;1a b=d[a[nf]];if(bi(b)){cd[a[1q]](b,1c(f,g){g[a[132]]();b[f]=1h;d[a[nf]][f]=1h})};b=1h;d[a[nf]]=[];d[a[as]]=[]},17u:1c(n,k){1a s=1b;1a v,h,g;1a f=s[a[2N]];1a t=0;1a b=W[a[2k]][a[5N]];1a x=s[a[17q]];1a r;1a i;1a d;1a j,o;1a p;1a q;1a u;1a w=y[a[46]];if(s[a[nH]]){1d};v=s[a[1oj]];h=s[a[zs]];g=1k[a[244]](h-v);if(!n&&1k[a[243]](g)<=1){1d};t+=s[a[9Q]]();if(s[a[3g]]){if(v>s[a[6Y]]){t-=s[a[4h]]}};if(m(k)){1i(j=0,o=f[a[59]];j<o;j++){t+=f[j];if(1k[a[243]](v-t)<=4){k=j;1l}}};if(k<0){1d};d=s[a[1z]][k];if(n){if(!m(d[a[nF]])&&bm(1o(d[a[nF]]))){s[a[17v]](k,d[a[nF]]);1d};if(d[a[1G]]&&(d[a[1G]][a[85]]==a[l5]||d[a[1G]][a[85]]==a[pA])){1d};if(s[a[2I]][a[59]]<=0||l(s[a[2I]][0])||l(s[a[2I]][0][k])){1d};q=s[a[17w]](d,1g);p=q[0];if(q[0]==q[1]){q[a[kq]]()};u=1N[a[10]](a[3M]);u[a[169]][a[17r]]=a[9M];u[a[169]][a[R5]]=a[zg];if(d[a[169]]){u[a[165]]=a[17x]+d[a[169]]}1e{u[a[165]]=a[17C]};s[a[139]][a[185]](u);u[w]=p;r=u[a[3O]]+b*2;if(q[a[59]]>1){u[w]=q[1];r=1k[a[1F]](r,u[a[3O]]+b*2)};if(s[a[1Q]]&&s[a[mw]]==k){if(s[a[4z]]){r+=s[a[lj]]*(s[a[2c]][a[8f]]-1)}1e{if(!s[a[2H]]&&s[a[qh]]){r+=s[a[lj]]*(s[a[2c]][a[8f]]-1)}}};if(s[a[Sk]]&&s[a[6R]]){i=l(d[a[2a]])?d[a[1m]]:1E(d[a[2a]])[a[178]]()==a[58]?a[58]:d[a[2a]];if(d[a[dl]]){u[a[165]]=a[QZ]+d[a[dl]]};u[w]=i+a[AJ];r=1k[a[1F]](r,u[a[3O]]+b*2)};r+=x;r=1k[a[1A]](r,s[a[127]]);if(s[a[r9]]){r=1k[a[1F]](s[a[c0]],r)}1e{r=1k[a[1F]](d[a[jV]]||s[a[c0]],r)};s[a[139]][a[188]](u);u=1h}1e{if(s[a[r9]]){r=1k[a[1F]](s[a[c0]],f[k]+g)}1e{r=1k[a[1F]](d[a[jV]]||s[a[c0]],f[k]+g)}};s[a[17v]](k,r)},17t:1c(d){1a g=1b;1a b=g[a[6l]](d);1a f;if(b<0){1d 2z};f=g[a[1iA]](1g,b,b+1);1d bl(f[b])?2z:f[b]},17s:1c(i,z,h){1a u=1b;1a v=[];1a b=W[a[2k]][a[5N]];1a j=u[a[1z]];1a g=u[a[2N]];1a C=u[a[17q]];1a f;1a q;1a p;1a x;1a n;1a r;1a B=0;1a k=u[a[127]];1a s;1a w=0;1a t,o;1a d;1a A=y[a[46]];i=!!i;if(l(j)||j[a[59]]<=0){1d v};if(l(u[a[2I]])||u[a[2I]][a[59]]<=0||l(u[a[2I]][0])){1d v};f=j[a[59]];x=1N[a[10]](a[3M]);x[a[169]][a[17r]]=a[9M];x[a[169]][a[R5]]=a[zg];u[a[139]][a[185]](x);if(l(z)){z=0};if(l(h)){h=f};1i(o=z;o<h;o++){d=j[o];if(!m(d[a[nF]])&&bm(1o(d[a[nF]]))){v[o]=1o(d[a[nF]]);B+=1o(d[a[nF]]);1u};if(d[a[1G]]&&(d[a[1G]][a[85]]==a[l5]||d[a[1G]][a[85]]==a[pA])){v[o]=g[o];B+=g[o];1u};if(d[a[2q]]===1g){w++;v[o]=0;1u};q=u[a[17w]](d,1g);p=q[0];if(q[0]==q[1]){q[a[kq]]()};if(d[a[169]]){x[a[165]]=a[17x]+d[a[169]]}1e{x[a[165]]=a[17C]};x[A]=p;r=x[a[3O]]+b*2;if(q[a[59]]>1){x[A]=q[1];r=1k[a[1F]](r,x[a[3O]]+b*2)};if(u[a[1Q]]&&u[a[mw]]==o){if(u[a[4z]]){r+=u[a[lj]]*(u[a[2c]][a[8f]]-1)}1e{if(!u[a[2H]]&&u[a[qh]]){r+=u[a[lj]]*(u[a[2c]][a[8f]]-1)}}};if(u[a[Sk]]&&u[a[6R]]){n=l(d[a[2a]])?d[a[1m]]:1E(d[a[2a]])[a[178]]()==a[58]?a[58]:d[a[2a]];if(d[a[dl]]){x[a[165]]=a[QZ]+d[a[dl]]};x[A]=n+a[AJ];r=1k[a[1F]](r,x[a[3O]]+b*2)};r+=C;r=1k[a[1A]](r,u[a[127]]);if(u[a[r9]]){r=1k[a[1F]](u[a[c0]],r)}1e{r=1k[a[1F]](d[a[jV]]||u[a[c0]],r)};B+=r;v[o]=r};u[a[139]][a[188]](x);x=1h;if(i){k-=u[a[iG]];k-=u[a[9Q]]();if(u[a[2w]]){k-=u[a[3w]]};if(k>B){s=1k[a[244]]((k-B)/(v[a[59]]-w));t=k-B-s*(v[a[59]]-w);cd[a[1q]](v,1c(b,d){if(j[b][a[2q]]!==1g){v[b]=d+s}});if(t>0){1i(o=v[a[59]]-1;o>=0;o--){if(v[o]>0){v[o]+=t;1l}}}}};1d v},17D:1c(b,m){1a s=1b;1a d=b[a[1m]];1a h=1g;1a o,p;1a q,r;1a i,g;1a v;1a t,u;1a f;1a k;1a j,n;o=p=1o[a[5E]]*-1;q=r=a[58];v=s[a[xG]](d,1g,1g);v=cd[a[7V]](v);cd[a[1q]](v,1c(f,h){1a g=1E(h);1a d=cd[a[AI]](g);1a b=g[a[59]];if(o<d){q=g;o=d};if(p<b){r=g;p=b}});k=b[a[1n]];q=s[a[2I]][0][k][a[8T]](q,1f);if(s[a[Sk]]&&m){i=l(b[a[2a]])?b[a[1m]]:1E(b[a[2a]])[a[178]]()==a[58]?a[58]:b[a[2a]];i=1E(i);t=cd[a[AI]](i);u=i[a[59]];if(o<t){q=i;o=t};if(p<u){r=i;p=u}};if(s[a[2vm]]&&!l(s[a[3r]])){if(bi(s[a[3r]][0])){f=s[a[3r]]}1e{f=[];f[0]=s[a[3r]]};1i(j=0,n=f[a[59]];j<n;j++){cd[a[1q]](f[j],1c(b,d){if(d[a[2T]]&&1o(d[a[2T]])>1){h=1f;1d 1g}});if(h){1l}};if(!h){g=s[a[Ia]](b[a[1m]],1f);if(!l(g)){if(bi(g)){cd[a[1q]](g,1c(b,h){1a d=1E(h);1a f=cd[a[AI]](d);1a g=d[a[59]];if(o<f){q=d;o=f};if(p<g){r=d;p=g}})}1e{g=1E(g);t=cd[a[AI]](g);u=g[a[59]];if(o<t){q=g;o=t};if(p<u){r=g;p=u}}}}};1d[q+a[AJ],r+a[AJ]]},17B:1c(f,j){1a n=1b;1a g=n[a[2N]];1a k;1a b;1a h;1a m;1a i;1a d;if(f<0||f>=g[a[59]]){1d};k=g[f];if(n[a[tL]]){if(f>=n[a[1z]][a[59]]-1){1d};i=0;h=j-k;d=0;cd[a[1q]](g,1c(a,b){if(a>f&&b>0){d++}});m=1k[a[244]](h/d);cd[a[1q]](n[a[1z]],1c(b,d){if(d[a[2q]]===1g){1d};if(b>f){n[a[1z]][b][a[127]]=1k[a[1F]](n[a[c0]],g[b]-m);n[a[1z]][b][a[cX]]=1h}1e{n[a[1z]][b][a[127]]=g[b];n[a[1z]][b][a[cX]]=1h};if(b!=f){i+=n[a[1z]][b][a[127]]}1e{i+=j}});if(i>n[a[kd]]){h=i-n[a[kd]];j=j-h}};if(!l(n[a[1z]][f][a[17A]])){j=1k[a[1A]](n[a[1z]][f][a[17A]],j)};n[a[1z]][f][a[127]]=j;n[a[1z]][f][a[cX]]=1h;if(n[a[r9]]){n[a[1z]][f][a[jV]]=n[a[c0]]};if(n[a[ez]]){b=n[a[hn]](n[a[1z]][f][n[a[2O]]],n[a[ez]]);if(b){b[a[127]]=j;b[a[cX]]=1h;if(n[a[r9]]){b[a[jV]]=n[a[c0]]}}};if(n[a[5V]]){b=n[a[hn]](n[a[1z]][f][n[a[2O]]],n[a[5V]]);if(b){b[a[127]]=j;b[a[cX]]=1h;if(n[a[r9]]){b[a[jV]]=n[a[c0]]}}};if(n[a[2m]]&&n[a[3p]]){n[a[zb]]()}1e{n[a[5S]](1f,1f)};if(n[a[jN]]){n[a[jn]]()};n[a[2uB]](n[a[1z]][f],k,j)},17y:1c(b,f,d){1a g=1b;if(i(g[a[1I]][a[pN]])){g[a[1I]][a[pN]]({1P:a[pN],2y:g[a[2f]],15I:a[127],5l:l(b[a[1m]])?1h:b[a[1m]],co:b[a[2a]],hB:b[a[2x]],iP:g[a[5g]][a[8f]]==1?1g:g[a[5g]][a[8f]]!=b[a[2x]],16d:f,Sn:d})}},17z:1c(f,g){1a h=1b;1a b=h[a[2O]];1a d;d=h[a[cA]](f);if(l(d)){1d};h[a[N0]](d[b],g)},16J:1c(f,g){1a h=1b;1a b=h[a[2O]];1a d;f=1o(f);if(f<0){f=0};if(f>=h[a[1z]][a[59]]){f=h[a[1z]][a[59]]-1};d=h[a[1z]][f];if(l(d)){1d};h[a[N0]](d[b],g)},16I:1c(f,q){1a r=1b;1a b=r[a[3Z]];1a m=r[a[b6]];1a g=r[a[2O]];1a d;1a h,i,j;1a s;1a k;1a n,o;if(l(f)){1d};h=r[a[hn]](f,r[a[5V]]);if(l(h)){1d};if(r[a[ez]]){i=r[a[hn]](f,r[a[ez]])};if(r[a[5g]]&&r[a[5g]][a[7Y]]){j=r[a[hn]](f,r[a[5g]][a[7Y]])};k=r[a[6l]](h[a[1m]]);1i(1a p in q){if(p==a[1G]||p==a[4s]||p==a[1p]||p==a[2q]||p==a[15T]){1u};s=q[p];h[p]=s;if(p==a[127]){h[a[cX]]=1h}1e{if(p==a[169]&&!h[a[7q]]&&k!==-1){1i(n=0,o=b[a[59]];n<o;n++){b[n][k][a[202]](a[165],a[2uC]+s)}}1e{if(p==a[dl]&&k!==-1&&!h[a[7q]]){m[k][a[202]](a[165],a[QZ]+s)}1e{if(p==a[dl]&&h[a[7q]]){d=r[a[hp]][f];if(d){d[a[202]](a[165],a[2uD]+s)}}}}};if(!l(i)){i[p]=s;if(p==a[127]){i[a[cX]]=1h}};if(!l(j)){j[p]=s;if(p==a[127]){j[a[cX]]=1h}}};if(q[a[15T]]!==1f){if(r[a[2m]]&&r[a[3p]]){r[a[zb]]()}1e{r[a[5S]](1f,1f)};if(r[a[jN]]){r[a[jn]]()}}},15U:1c(b,j,k){1a m=1b;1a d=m[a[2O]];1a f,g,h;1a n;if(l(b)||l(k)){1d};f=m[a[hn]](b,m[a[5V]]);if(l(f)||l(f[k])){1d};if(m[a[ez]]){g=m[a[hn]](b,m[a[ez]])};if(m[a[5g]]&&m[a[5g]][a[7Y]]){h=m[a[hn]](b,m[a[5g]][a[7Y]])};1i(1a i in j){if(i==a[85]){1u};n=j[i];f[k][i]=n;if(!l(g)){g[k][i]=n};if(!l(h)){h[k][i]=n}};if(m[a[2m]]&&m[a[3p]]){m[a[zb]]()}1e{m[a[5S]](1f,1f)};if(m[a[jN]]){m[a[jn]]()}},15S:1c(b,d){1a f=1b;f[a[15P]](b,d,a[4s])},15R:1c(b,d){1a f=1b;f[a[15P]](b,d,a[1G])},15Q:1c(f,g){1a h=1b;1a b=h[a[2O]];1a d;f=1o(f);if(f<0){f=0};if(f>=h[a[1z]][a[59]]){f=h[a[1z]][a[59]]-1};d=h[a[1z]][f];if(l(d)){1d};h[a[2uE]](d[b],g)},15V:1c(f,g){1a h=1b;1a b=h[a[2O]];1a d;f=1o(f);if(f<0){f=0};if(f>=h[a[1z]][a[59]]){f=h[a[1z]][a[59]]-1};d=h[a[1z]][f];if(l(d)){1d};h[a[Nq]](d[b],g)},15W:1c(f,g){1a h=1b;1a b=h[a[2O]];1a d;d=h[a[cA]](f);if(l(d)){1d};h[a[Nq]](d[b],g)},16b:1c(b){1a i=1b;1a f=i[a[f7]];1a d=0;1a g;if(!bl(b)){f=b};if(!i[a[6R]]){1d 0};if(i[a[kn]]&&i[a[kn]][a[59]]){1i(1a h=0;h<f;h++){g=1o(i[a[kn]][h]);if(!1D(g)){d+=g}1e{d+=i[a[fJ]]}}}1e{d=i[a[fJ]]*f};1d d},16c:1c(b){1a h=1b;1a d;1a f;1a g=b-1;if(!h[a[6R]]||g<0){1d 0};if(h[a[kn]]&&h[a[kn]][a[59]]){f=1o(h[a[kn]][g]);if(!1D(f)){d=f}1e{d=h[a[fJ]]}}1e{d=h[a[fJ]]};1d d},16a:1c(j){1a k=1b;1a d=k[a[kn]];1a f=k[a[f7]];1a b=1;1a g;1a h=0;if(!k[a[6R]]){1d 0};if(f===1){1d b};1i(1a i=0;i<f;i++){if(k[a[kn]]&&k[a[kn]][a[59]]){g=d[i];if(1D(g)){g=k[a[fJ]]}}1e{g=k[a[fJ]]};h+=g;if(j<=h){b=i+1;1l}};1d b},15Z:1c(){1a d=1b;1a f=d[a[5g]];1a b=f[a[8f]];if(d[a[sj]]&&bi(d[a[eT]])){if(d[a[Ho]]){b+=d[a[eT]][a[59]]}1e{b++}};1d b},15X:1c(){1a b=1b;1a d=b[a[6o]]();if(b[a[6T]]){d+=b[a[aQ]]};if(b[a[2Z]]&&b[a[6x]]==a[154]){d+=b[a[dK]]()+b[a[l4]]};if(b[a[7r]]){d+=b[a[6M]]};1d d},15Y:1c(){1a k=1b;1a d=k[a[1j4]];1a f=k[a[1z]];1a g=k[a[1W]];1a b;1a h,i;1a j=1g;if(!d){1d 1g};j=1g;if(g&&g[a[59]]>0){j=1f}1e{1i(h=0,i=f[a[59]];h<i;h++){b=f[h];if(b[a[7I]]===1f||b[a[cW]]===1f){j=1f;1l}}};k[a[2H]]=j},15O:1c(){1a d=1b;1a b=0;if(d[a[sj]]&&bi(d[a[eT]])){if(d[a[Ho]]){b=d[a[eT]][a[59]]}1e{b=1}};1d b},15N:1c(p){1a o=1b;1a f=o[a[2H]];1a l=0;1a k=0;1a q=0;1a g=[];1a d=0;1a b=0;1a h=0;o[a[Mt]]=1g;if(p[a[59]]&&p[a[59]]>0){1i(1a i=0,j=p[a[59]];i<j;i++){n(p[i],l)}};1d{QE:q,15G:k,I2:p,RV:g};1c n(f,p){1a l=0;if(f[a[1p]]&&f[a[1p]][a[59]]){f[a[1n]]=d;1i(1a i=0,j=f[a[1p]][a[59]];i<j;i++){if(!m(f[a[1p]][i])){l+=n(f[a[1p]][i],p+1)}};f[a[2x]]=p+1;f[a[7q]]=1f}1e{if(f[a[FZ]]===1f&&!bl(f[a[yS]])){f[a[cW]]=1f;f[a[9g]]=f[a[yS]]};if(d!=0&&d<b){if(f[a[2q]]===1g){f[a[2q]]=1f};2j f[a[cW]];2j f[a[9g]]};if(f[a[cW]]===1f){o[a[Mt]]=1f;if(bl(f[a[9g]])){f[a[9g]]=2};b=1o(f[a[9g]])+d};if(d<h&&h>0){f[a[2T]]=-1};if(f[a[2T]]&&f[a[2T]]!=-1){h=1o(f[a[2T]])+d};k++;l++;f[a[1n]]=d;f[a[7q]]=1g;f[a[2x]]=p+1;g[a[1s]](f);d++};f[a[8a]]=l;q=1k[a[1F]](f[a[2x]],q);1d l}},15D:1c(){1a f=1b;1a d=f[a[1W]];1a b=f[a[2H]];1a g=f[a[qh]];if(f[a[4z]]){1d 1f};if(d[a[59]]>0&&b){if(f[a[qh]]){g=1f}1e{g=1g}};1d g},15E:1c(j){1a h=1b;1a i=h[a[qq]]();1a f=0;1a k=[];if(j[a[59]]&&j[a[59]]>0){1i(1a b=0,d=j[a[59]];b<d;b++){g(j[b])}}1e{g(j)};1d k;1c g(d){1a h=0;if(d[a[3e]]){if(d[a[4O]]){if(i){k[a[1s]](d)}}1e{k[a[1s]](d)}};if(d[a[3e]]&&bi(d[a[1p]])){1i(1a b=0,f=d[a[1p]][a[59]];b<f;b++){if(!m(d[a[1p]][b])){g(d[a[1p]][b])}}}}},15C:1c(i){1a g=1b;1a h=g[a[qq]]();1a j=[];if(i[a[59]]&&i[a[59]]>0){1i(1a b=0,d=i[a[59]];b<d;b++){f(i[b])}}1e{f(i)};1d j;1c f(b){1a d=0;if(b[a[3e]]){if(b[a[4O]]){if(h){j[a[1s]](b)}}1e{j[a[1s]](b)}}}},15B:1c(b){d(b);1d b;1c d(b){1a g;1i(1a f=0,h=b[a[59]];f<h;f++){g=b[f];if(bi(g[a[1p]])){g[a[nh]]=1f;d(g[a[1p]])}1e{g[a[1p]]=1g;g[a[nh]]=1g}}}},15z:1c(b){1a j=1b;1a k=j[a[AS]];1a m=j[a[QB]];1a g={};1a h;1a i;1i(1a d=0,f=b[a[59]];d<f;d++){h=b[d];h[a[1p]]=[];g[h[k]]=h;i=h[m]||a[217];if(!g[i]){g[i]={w6:[]}};g[i][a[1p]][a[1s]](h)};1d l(g[a[217]])?[]:g[a[217]][a[1p]]},15A:1c(i){1a h=1b;1a b=[];if(i[a[59]]&&i[a[59]]>0){1i(1a d=0,f=i[a[59]];d<f;d++){g(i[d])}}1e{g(i)};1d b;1c g(d){b[a[1s]](d);if(d[a[1p]]&&bi(d[a[1p]])){1i(1a f=0,h=d[a[1p]][a[59]];f<h;f++){if(!m(d[a[1p]][f])){g(d[a[1p]][f])}}};1d}},15F:1c(r){1a q=1b;1a v=q[a[fk]];1a n=0;1a k=0;1a s=0;1a g=[];1a x=[];1a i=0;1a d=q[a[zc]];1a l=!!q[a[5m]];1a u=q[a[QB]];1a p=q[a[1M]];1a t=m(q[a[AS]])?q[a[1M]]:q[a[AS]];1a w=q[a[Oh]];1a f=q[a[1z]];1a b=q[a[4C]];if(r[a[59]]&&r[a[59]]>0){1i(1a h=0,j=r[a[59]];h<j;h++){o(r[h],1h,n)}}1e{if(bi(r)&&r[a[59]]<=0){k=0}1e{o(r,r[p],n)}};if(!q[a[qh]]&&q[a[1W]][a[59]]>0&&d){x=q[a[ud]](r)};1d{QE:s,15G:k,15L:r,RV:g,15M:x};1c o(h,u,r){1a n=0;1a j=1g;g[a[1s]](h);if(r==0){x[a[1s]](h)}1e{if(!l){if(d){x[a[1s]](h)}}1e{if(h[a[3e]]){x[a[1s]](h)}}};2j h[a[ya]];if(u!==1h){h[a[ya]]=u};if(v){if(h[a[1p]]===1g||(h[a[1p]]&&h[a[1p]][a[59]]>0)){j=1f}}1e{if(h[a[1p]]&&h[a[1p]][a[59]]>0){j=1f}};if(j){if(h[a[1p]]&&h[a[1p]][a[59]]>0){1i(1a i=0,m=h[a[1p]][a[59]];i<m;i++){if(h[a[1p]][i]){h[a[1p]][i][a[ya]]=h[t];n+=o(h[a[1p]][i],h[p],r+1)}}};h[a[4b]]=r+1;h[a[4O]]=1f;if(w){if(1L q[a[k4]][h[p]]==a[0]){q[a[k4]][h[p]]={}};1i(i=0,m=f[a[59]];i<m;i++){if(1L q[a[k4]][h[p]][f[i][a[1m]]]==a[0]){q[a[k4]][h[p]][f[i][a[1m]]]={BY:a[us]}}}};if(r==0){if(!l){h[a[3e]]=1f;h[a[6k]]=d}}1e{if(!l){h[a[6k]]=d;h[a[3e]]=d}}}1e{k++;n++;if(r==0){h[a[3e]]=1f}1e{if(!l){h[a[3e]]=d}};h[a[4O]]=1g;h[a[4b]]=r+1};if(h[a[4O]]){h[a[Ko]]=n}1e{h[a[Ko]]=0};if(b[h[p]]){if(b[h[p]][a[aW]]||b[h[p]][a[6y]]||b[h[p]][a[7h]]){b[h[p]][a[4k]]=h}};s=1k[a[1F]](h[a[4b]],s);1d n}},15K:1c(){1a d=1b;1a b;b=cd[a[69]](1f,[],d[a[ez]]);d[a[5V]]=b;d[a[o5]]()},15J:1c(f,q){1a p=1b;1a b=p[a[2O]];1a m=p[a[1O]][a[5I]]();if(f==q||f[b]==q[b]){1d};if(f[a[1n]]<q[a[1n]]&&q[a[1n]]-f[a[1n]]==1){1d};1a p=1b;1a d=cd[a[69]](1f,[],p[a[5V]]);1a n;1a i;1a j;1a o;1a k=f[a[1n]];1a g;if(k>=0&&k<p[a[1z]][a[59]]){g=p[a[1z]][k][a[1m]]};o=p[a[5b]](f,b,d);if(l(o)){o=d;if(q!=a[7G]){i=h(f[b],o);j=h(q[b],o);n=o[i];o[a[2E]](i,1);if(i<j){o[a[2E]](j-1,0,n)}1e{o[a[2E]](j,0,n)}}1e{i=h(f[b],o);n=o[i];o[a[2E]](i,1);o[a[1s]](n)}}1e{if(bi(o[a[1p]])){if(q!=a[7G]){i=h(f[b],o[a[1p]]);j=h(q[b],o[a[1p]]);n=o[a[1p]][i];o[a[1p]][a[2E]](i,1);if(i<j){o[a[1p]][a[2E]](j-1,0,n)}1e{o[a[1p]][a[2E]](j,0,n)}}1e{i=h(f[b],o[a[1p]]);n=o[a[1p]][i];o[a[1p]][a[2E]](i,1);o[a[1p]][a[1s]](n)}}};p[a[5V]]=d;p[a[o5]]();if(p[a[2H]]){p[a[ci]]()};p[a[fy]]=0;p[a[fZ]]();p[a[hu]]();p[a[lO]]();p[a[1O]]=m;p[a[2Q]]();p[a[6B]]();p[a[2uL]](f,k,p[a[6l]](g));1c h(g,f){1a d=-1;cd[a[1q]](f,1c(a,f){if(f[b]==g){d=a;1d 1g}});1d d}},15H:1c(b,f,d){1a g=1b;if(i(g[a[1I]][a[pN]])){g[a[1I]][a[pN]]({1P:a[pN],2y:g[a[2f]],15I:a[1n],5l:l(b[a[1m]])?1h:b[a[1m]],co:b[a[2a]],hB:b[a[2x]],iP:g[a[5g]][a[8f]]==1?1g:g[a[5g]][a[8f]]!=b[a[2x]],16d:f,Sn:d})}},16e:1c(){1a h=1b;1a d=h[a[1W]];if(!d||d[a[59]]<=0){1d};1a i=[];1a b=cd[a[69]](1f,[],h[a[5V]]);1i(1a f=0;f<d[a[59]];f++){g(d[f])};1i(1a f=0;f<b[a[59]];f++){if(b[f]){i[a[1s]](b[f])}};h[a[5V]]=i;h[a[o5]]();1d;1c g(f){1i(1a d=0;d<b[a[59]];d++){if(b[d]&&b[d][a[1m]]==f){i[a[1s]](b[d]);b[d]=1h;1l}}}},16z:1c(g){1a p=1b;1a n=p[a[lg]];1a o=p[a[1M]];1a q=g;1a j;1a r;1a s=1T;1a d={};1a i={};1a m;1a b;1a f;1i(1a l in n){d[l]=[];i[l]=n[l][a[ya]]};1i(1a h=0,k=q[a[59]];h<k;h++){j=q[h];m=j[a[ya]];r=j[o];if(m===s||m===1h||d[m]===s){1u};d[m][a[1s]](j);if(!j[a[2R]]&&!j[a[7a]]){f=0;1U(f<100){if((b=i[m])!==s){d[b][a[1s]](j);m=b}1e{1l};f++}}};1d d},16A:1c(b){1a i=1b;1a h=[];1a j=i[a[qq]]();1a k;1a f;k=i[a[2uM]](b);i[a[16x]](1h,k);1i(1a d=0,g=b[a[59]];d<g;d++){f=b[d];if(!j){if(f[a[4O]]){1u}};if(f[a[2R]]&&f[a[wy]]){2j f[a[wy]];1u};h[h[a[59]]]=f};1d h},16y:1c(b){1a d=1b;if(d[a[6J]]()){d[a[ze]](d[a[1x]])}1e{d[a[16x]](b)}},16v:1c(r,B){1a A=1b;1a z=A[a[1M]];1a j=A[a[oA]];1a o=A[a[7x]]||{};1a H,b,G,F;1a h;1a n;1a m=1;1a K;1a g,f;1a L=1T;1a p=1g;1a k,w,x;1a q,u,t,v;1a J;1a s;1a C=a[16H];1a E=a[lf];1a D=a[pP];1a I;if(!A[a[1Q]]||!bi(o[a[5p]])||o[a[5p]][a[59]]<=0){1d};H=o[a[16G]]||[];b=o[a[AQ]]||[];G=o[a[5p]]||[];F=o[a[AC]]||[];if(bi(o[a[vg]])){n=o[a[vg]];m=n[a[59]];if(j){m=1};1i(q=0;q<m;q++){K=n[q];K[a[pY]]=1g;g=K[a[Am]];f=K[a[q6]];if(g!==L&&f!==L&&!i(f)){K[a[fD]]=1f;K[a[fE]]=1g;K[a[fB]]=1g}1e{if(i(f)){K[a[fD]]=1f;K[a[fE]]=1f;K[a[fB]]=1g}1e{if(i(K[a[cT]])){K[a[fD]]=1g;K[a[fE]]=1g;K[a[fB]]=1f;p=1f}1e{K[a[fD]]=1g;K[a[fE]]=1g;K[a[fB]]=1g;p=1f}}};if(i(K[a[Ax]])){K[a[pY]]=1f}}}1e{n=[{}]};if(!l(r)){h=A[a[2U]];k=A[a[5Z]](r[z],z,h);if(l(k)){1d};x=A[a[1eB]](k,h);1i(q=x[a[59]]-1;q>=0;q--){w=x[q];if(w[a[1p]]&&w[a[1p]][a[59]]){J=[];s=[];if(j){J[J[a[59]]]=w};1i(t=0,v=w[a[1p]][a[59]];t<v;t++){k=w[a[1p]][t];if(j){if(k[a[7a]]!==1f){s[s[a[59]]]=k}}1e{if(k[a[2R]]){J[J[a[59]]]=k}1e{if(k[a[7a]]!==1f){s[s[a[59]]]=k}}};if(k[a[1p]]&&k[a[1p]][a[59]]){y(k[a[1p]],s)}};if(s[a[59]]>0){d(s,J,n,G,w[a[4b]])}}}}1e{if(!l(B)){x=B;1i(q in B){J=[];s=[];x=B[q];if(x[a[59]]<=0){1u};if(j){w=A[a[5Z]](q,z,A[a[2U]]);if(l(w)){1u};J[J[a[59]]]=w};1i(t=0,v=x[a[59]];t<v;t++){k=x[t];if(j){if(k[a[7a]]!==1f){s[s[a[59]]]=k}}1e{if(k[a[2R]]){J[J[a[59]]]=k}1e{if(k[a[7a]]!==1f){s[s[a[59]]]=k}}}};if(s[a[59]]>0){if(p){cd[a[1q]](n,1c(d,f){1a b;if(f[a[pY]]){b=K[a[Ax]](s)};if(b===1g){if(J[d]){J[d][a[wy]]=1f}}})};d(s,J,n,G)}1e{cd[a[1q]](J,1c(b,d){d[a[wy]]=1f})}}}1e{1d}};1c y(f,b){1a h;1i(1a d=0,g=f[a[59]];d<g;d++){h=f[d];if(!(h[a[2R]]||h[a[7a]])){b[b[a[59]]]=h};if(h[a[1p]]&&h[a[1p]][a[59]]){y(h[a[1p]],b)}}}1c d(k,w,h,u,f){1a x,d,b;1a j;1a i,l,n,o;1a t,s;1a v;1a r,q;1a p;1a g;v={};1i(s in u){g=u[s];v[g]={};1i(l=0,o=m;l<o;l++){v[g][l]={AB:0,Ar:0,Ao:0,An:1o[a[5E]],Al:1o[a[5E]]*-1}}};1i(l=0,o=m;l<o;l++){x=h[l];d=x[a[Am]];b=x[a[q6]];if(x[a[fD]]===1f&&x[a[fE]]===1g){1i(i=0,n=k[a[59]];i<n;i++){j=k[i];if(j[a[2R]]||j[a[lS]]||j[d]!=b){1u};1i(s in u){g=u[s];t=1o(j[g]);if(!1D(t)){v[g][l][a[lf]]+=t;v[g][l][a[pP]]+=1;v[g][l][a[le]]=1k[a[1A]](v[g][l][a[le]],t);v[g][l][a[l8]]=1k[a[1F]](v[g][l][a[l8]],t)};v[g][l][a[Ay]]+=1}}}1e{if(x[a[fB]]===1f){1i(s in u){g=u[s];v[g][l]={};t=x[a[cT]](k,g);v[g][l][a[lf]]=t}}1e{1i(i=0,n=k[a[59]];i<n;i++){j=k[i];if(j[a[2R]]||j[a[lS]]){1u};1i(s in u){g=u[s];t=1o(j[g]);if(!1D(t)){v[g][l][a[lf]]+=t;v[g][l][a[pP]]+=1;v[g][l][a[le]]=1k[a[1A]](v[g][l][a[le]],t);v[g][l][a[l8]]=1k[a[1F]](v[g][l][a[l8]],t)};v[g][l][a[Ay]]+=1}}}}};1i(i=0,n=m;i<n;i++){x=h[i];q=w[i];if(!q||q[a[wy]]){1u};r=A[a[eM]](q[z]);if(!r){1u};if(x[a[fD]]){if(x[a[fE]]){1i(s in u){g=u[s];q[g]=r[g]=x[a[q6]](v[g],g)}}1e{1i(s in u){g=u[s];p=x[a[9I]]!==L?x[a[9I]]:x[a[5p]]&&x[a[5p]][g]&&x[a[5p]][g][a[9I]]?x[a[5p]][g][a[9I]]:E;if(p==C){q[g]=r[g]=v[g][i][E]/ v[g][i][D]}1e {q[g]= r[g]= v[g][i][p]}}}}1e {if(x[a[fB]]){1i(s in u){g= u[s];q[g]= r[g]= v[g][i][E]}}1e {1i(s in u){g= u[s];p= x[a[9I]]!== L?x[a[9I]]:x[a[5p]]&& x[a[5p]][g]&& x[a[5p]][g][a[9I]]?x[a[5p]][g][a[9I]]:E;if(p== C){q[g]= r[g]= v[g][i][E]/v[g][i][D]}1e{q[g]=r[g]=v[g][i][p]}}}}}}},16w:1c(){1a h=1b;1a f=h[a[1W]];1a b=h[a[oA]];1a d;1a i;if(!h[a[y5]]){h[a[2uU]]()};i=[];i[0]={};i[0][a[1p]]=h[a[2U]];d=f[0];g(d,i);1d i[0][a[1p]];1c g(d,i){1a k=cd[a[Nj]](f,d);1i(1a j=0;j<i[a[59]];j++){if(i[j][a[1p]]&&i[j][a[1p]][a[59]]){i[j][a[1p]]=h[a[2uV]](d,i[j][a[1p]]);if(b){h[a[16E]](i[j])}};if(bi(i[j][a[1p]])&&!l(k)){g(k,i[j][a[1p]])}}}},16B:1c(h,R){1a Q=1b;1a F;1a bs=[];1a p;1a bm={};1a x=Q[a[ve]];1a z=Q[a[7x]];1a bk=Q[a[2uS]];1a bg;1a d;1a be;1a bd;1a u=Q[a[1W]];1a t;1a bh={};1a bb;1a bc;1a P=Q[a[1M]];1a G;1a O;1a U=a[58];1a V=a[177];1a bq=1T;1a S=a[2vl];1a X=a[221];1a Y=a[K0];1a ba=a[0];1a k=Q[a[ex]];1a bf=Q[a[2vF]];1a r,s,D,K,H,L;1a B;1a v=1;1a w;1a q=Q[a[hq]];1a y;1a b=Q[a[oP]];1a l=Q[a[2vG]];1a j=Q[a[oA]];1a bj;1a g;1a f;1a N;1a T=a[16H];1a Z=a[lf];1a W=a[pP];1a o;1a n=1f;1a C=1g;1a br=[];1a A=[];1a bl=[];1a M;1a bo;1a J;if(!Q[a[2H]]){k=1g};if(z){bg=z[a[16G]]||[];d=z[a[AQ]]||[];be=z[a[5p]]||[];bd=z[a[AC]]||[];if(bi(z[a[vg]])){w=z[a[vg]];v=w[a[59]];if(j){v=1};1i(D=0;D<v;D++){bj=w[D];bj[a[pY]]=1g;g=bj[a[Am]];f=bj[a[q6]];if(g!==bq&&f!==bq&&!i(f)){bj[a[fD]]=1f;bj[a[fE]]=1g;bj[a[fB]]=1g}1e{if(i(f)){bj[a[fD]]=1f;bj[a[fE]]=1f;bj[a[fB]]=1g}1e{if(i(bj[a[cT]])){bj[a[fD]]=1g;bj[a[fE]]=1g;bj[a[fB]]=1f;C=1f}1e{bj[a[fD]]=1g;bj[a[fE]]=1g;bj[a[fB]]=1g;C=1f}}};if(i(bj[a[Ax]])){bj[a[pY]]=1f}}}1e{w=[{}]}};if(u[a[59]]>0){y=u[u[a[59]]-1];t=u[a[19]](h)};1i(D=0,K=R[a[59]];D<K;D++){F=R[D];p=F[h];if(l&&m(p)){1u};if(F[a[7a]]){1u};if(F[a[2R]]){A[a[1s]](F);1u};if(C){br[br[a[59]]]=F};bs[a[1s]](p);if(!bm[p]){bm[p]=[]};F[a[Av]]=p;bm[p][a[1s]](F)};bs=cd[a[7V]](bs,Q[a[2vH]]);if(Q[a[2vr]]){bs=bs[a[aP]]()};if(z){1i(bb in be){o=be[bb];bh[o]={};1i(H=0;H<v;H++){bh[o][H]={AB:0,Ar:0,Ao:0,An:1o[a[5E]],Al:1o[a[5E]]*-1}}};1i(r in bm){G=cd[a[69]](1f,[],bm[r]);1i(bb in be){o=be[bb];bh[o]={};1i(H=0;H<v;H++){bh[o][H]={AB:0,Ar:0,Ao:0,An:1o[a[5E]],Al:1o[a[5E]]*-1}}};1i(H=0;H<v;H++){bj=w[H];g=bj[a[Am]];f=bj[a[q6]];if(bj[a[fD]]===1f&&bj[a[fE]]===1g){1i(D=0,K=G[a[59]];D<K;D++){F=G[D];if(F[a[2R]]||F[a[lS]]||F[g]!=f){1u};1i(bb in be){o=be[bb];bc=1o(F[o]);if(!1D(bc)){bh[o][H][a[lf]]+=bc;bh[o][H][a[pP]]+=1;bh[o][H][a[le]]=1k[a[1A]](bh[o][H][a[le]],bc);bh[o][H][a[l8]]=1k[a[1F]](bh[o][H][a[l8]],bc)};bh[o][H][a[Ay]]+=1}}}1e{if(bj[a[fB]]===1f){1i(bb in be){o=be[bb];bh[o][H]={};bc=bj[a[cT]](G,o);bh[o][H][a[lf]]=bc}}1e{1i(D=0,K=G[a[59]];D<K;D++){F=G[D];if(F[a[2R]]||F[a[lS]]){1u};1i(bb in be){o=be[bb];bc=1o(F[o]);if(!1D(bc)){bh[o][H][a[lf]]+=bc;bh[o][H][a[pP]]+=1;bh[o][H][a[le]]=1k[a[1A]](bh[o][H][a[le]],bc);bh[o][H][a[l8]]=1k[a[1F]](bh[o][H][a[l8]],bc)};bh[o][H][a[Ay]]+=1}}}}};if(bd[a[59]]==0){if(bg[t]==S){1u}}1e{if(bd[a[19]](h)>=0){1u}};1i(D=0;D<v;D++){bj=w[D];if(bj[a[pY]]){n=bj[a[Ax]](G,t+1);if(n===1g){1u}};O={};O[P]=cd[a[g8]]();O[a[2vo]]=D;s=r===ba||r===Y?U:r;if(b){bo=d[h];if(bp(bj[a[45]])){B=1E(bj[a[45]])[a[56]](a[hP],s)}1e{if(bo===1h||bo===bq){B=bg[t]||s+V+bk}};if(bn(bo)){1i(bb in bo){if(bb==y){B=1E(bo[bb])[a[56]](a[hP],s)};O[bb]=1E(bo[bb])[a[56]](a[hP],s)};if(B===bq){B=bg[t]||s+V+bk}}1e{if(bp(bo)){B=1E(bo)[a[56]](a[hP],r)}}}1e{J=bg[t];if(bp(bj[a[45]])){B=1E(bj[a[45]])[a[56]](a[hP],s)}1e{if(J===1h||J===bq){B=s+V+bk}1e{B=1E(J)[a[56]](a[hP],s)}}};O[a[2vt]]=r;O[a[2R]]=1f;if(q){if(b){O[y]=B}1e{1i(H=0,L=u[a[59]];H<L;H++){bb=u[H];if(bb!=h){O[bb]=G[0][bb]}1e{1l}};O[h]=B}}1e{O[h]=B};if(bn(bj[a[45]])){bo=bj[a[45]];1i(bb in bo){if(bo[bb]!=1h){O[bb]=1E(bo[bb])[a[56]](a[hP],s)}}};if(k){if(bf==a[1fk]){1i(H=0,L=u[a[59]];H<L;H++){bb=u[H];if(bb!=h){O[bb]=B}}}1e{1i(H=0,L=u[a[59]];H<L;H++){bb=u[H];if(bb!=h){O[bb]=B}1e{1l}}}};if(bj[a[fD]]){if(bj[a[fE]]){1i(bb in be){o=be[bb];O[o]=bj[a[q6]](bh[o],o)}}1e{1i(bb in be){o=be[bb];N=bj[a[9I]]!==bq?bj[a[9I]]:bj[a[5p]]&&bj[a[5p]][o]&&bj[a[5p]][o][a[9I]]?bj[a[5p]][o][a[9I]]:Z;if(N==T){O[o]=bh[o][D][Z]/ bh[o][D][W]}1e {O[o]= bh[o][D][N]}}}}1e {if(bj[a[fB]]){1i(bb in be){o= be[bb];O[o]= bh[o][D][Z]}}1e {1i(bb in be){o= be[bb];N= bj[a[9I]]!== bq?bj[a[9I]]:bj[a[5p]]&& bj[a[5p]][o]&& bj[a[5p]][o][a[9I]]?bj[a[5p]][o][a[9I]]:Z;if(N== T){O[o]= bh[o][D][Z]/bh[o][D][W]}1e{O[o]=bh[o][D][N]}}}};if(x==a[154]){bm[r][a[2vu]](O)}1e{bm[r][a[1s]](O)}}}};if(A[a[59]]&&x==a[154]){cd[a[1q]](A,1c(b,d){bl[bl[a[59]]]=d})};1i(1a I=0,L=bs[a[59]];I<L;I++){p=bs[I];M=E(h,bm[p][0]);M[h]=p;M[a[1p]]=bm[p];M[a[Av]]=p;M[a[7a]]=1f;bl[bl[a[59]]]=M};if(A[a[59]]&&x!=a[154]){cd[a[1q]](A,1c(b,d){bl[bl[a[59]]]=d})};1d bl;1c E(b,d){1a h={};1a i;1a j=Q[a[1M]];h[j]=cd[a[g8]]();1i(1a f=0,g=u[a[59]];f<g;f++){i=cd[a[16F]](u,b);if(i){h[i]=d[i];b=i}};1d h}},16D:1c(k){1a m=1b;1a l=m[a[1M]];1a d=m[a[oA]];1a f=m[a[ve]];1a b;1a n;1a h=-1;1a g,i;if(!bi(k[a[1p]])){1d};1i(g=0,i=k[a[1p]][a[59]];g<i;g++){b=k[a[1p]][g];if(b[a[2R]]===1f){h=g;n=b;1l}1e{if(b[a[7a]]===1f){m[a[16E]](b)}}};if(h>=0){k[a[1p]][a[2E]](h,k[a[1p]][a[59]]-h);1i(1a j in n){if(l!==j){k[j]=n[j]}};k[a[2R]]=1g}},2vz:1c(n){1a m=1b;1a d=m[a[9X]]();1a l=m[a[1S]];1a f=m[a[1V]];1a k=m[a[1M]];1a g,i;1a h;1a j=1h;1a b=1k[a[1A]](m[a[2u]]+l,d[a[59]]);if(f>0){1i(g=0,i=f;g<i;g++){h=d[g];if(!h){1l};if(h[k]==n){j=h;1l}}};if(j){1d j};1i(g=l+f,i=b;g<i;g++){h=d[g];if(!h){1l};if(h[k]==n){j=h;1l}};1d j},16u:1c(g,f){1a d=1b;1a h=d[a[2O]];1a b;b=d[a[5Z]](g,h,f);if(!b&&d[a[sj]]){if(d[a[Ho]]){cd[a[1q]](d[a[eT]],1c(f,i){b=d[a[5Z]](g,h,i);if(b){1d 1g}})}1e{b=d[a[5Z]](g,h,d[a[eT]])}};1d b},16t:1c(d,f,b){1d 1b[a[j8]](f,d,b,1b[a[1S]])},16j:1c(k,l,f){1a j;1a o;1a m;1a i;1a d=0;1a b;1a n=1T;if(!bi(k)){1d xv[a[2M]](k,l,f)};b=k[a[59]];m=cd[a[9v]](k);i={};1i(1a g=0,h=f[a[59]];g<h;g++){o=f[g];j=o[l];if(m[j]&&i[j]===n){i[j]=g;d++};if(d>=b){1l}};1d i},16k:1c(d,f,b){1d 1b[a[fA]](f,d,b,1b[a[1S]])},16i:1c(n,o,l){1a k=1b;1a f=bi;1a g,h;1a m;1a p;1a j;1a d=0;1a b;1a q=1T;if(!bi(n)){1d k[a[fA]](n,o,l)};b=n[a[59]];p=cd[a[9v]](n);j={};if(f(l)){1i(g=0,h=l[a[59]];g<h;g++){i(p,o,l[g]);if(d>=b){1l}}}1e{i(p,o,l)};1d j;1c i(n,m,g){1a k=1h;1a o;1a h,l;if(n[g[m]]&&j[g[m]]===q){j[g[m]]=g;d++};if(d<b){if(f(g[a[1p]])){1i(h=0,l=g[a[1p]][a[59]];h<l;h++){k=g[a[1p]][h];if(n[k[m]]&&j[k[m]]===q){j[k[m]]=k;d++};if(d>=b){1l};i(n,m,k)}}}}},16h:1c(b,k,d,i){1a g=-1;1a f,h;1a j;if(m(b)){1d 1h};if(l(i)){i=0};i=1k[a[1F]](i,0);1i(f=i,h=d[a[59]];f<h;f++){j=d[f];if(j[b]==k){g=f;1l}};if(g==-1&&i!=0){1i(f=0,h=1k[a[1A]](i,d[a[59]]);f<h;f++){j=d[f];if(j[b]==k){g=f;1l}}};1d g},16f:1c(b,o,k,n){1a j=1b;1a d=bi;1a f,g;1a i=1h;if(m(b)){1d 1h};if(l(n)){n=0};n=1k[a[1F]](n,0);if(d(k)){1i(f=n,g=k[a[59]];f<g;f++){h(o,b,k[f]);if(i){1l}};if(!i&&n!=0){1i(f=0,g=1k[a[1A]](n,k[a[59]]);f<g;f++){h(o,b,k[f]);if(i){1l}}}}1e{h(o,b,k)};1d i;1c h(m,b,f){1a j=1h;1a l;1a g,k;if(f[b]==m){i=f};if(!i){if(d(f[a[1p]])){1i(g=0,k=f[a[1p]][a[59]];g<k;g++){j=f[a[1p]][g];if(j[b]==m){i=j};if(i){1l};h(m,b,j)}}}}},16g:1c(d){1a h=1b;1a f=h[a[GX]];1a b=h[a[1z]];1a g=-1;if(l(d)){1d g};if(f){g=f[d];if(l(g)){g=-1}}1e{cd[a[1q]](b,1c(b,f){if(f[a[1m]]==d){g=b;1d 1g}})};1d g},2vC:1c(d){1a g=1b;1a b=g[a[1z]];1a f=1h;cd[a[1q]](b,1c(b,g){if(g[a[1m]]==d){f=l(g[a[2a]])?g[a[1m]]:1E(g[a[2a]])[a[178]]()==a[58]?a[58]:g[a[2a]];1d 1g}});1d f},16l:1c(g){1a i=1b;1a f=g[a[77]];1a d;1a h=1g;1a k=i[a[3q]];1a b=W[a[89]][a[102]];1U(f[a[95]]){if(f===i[a[8m]][a[139]]){h=1f;1l};f=f[a[95]];if(f===b){1l}};if(f===b){1a j=cd[a[99]](i[a[8m]][a[139]],k);if(j<g[a[99]]&&g[a[99]]<j+i[a[6Y]]){h=1f}};1d h},16m:1c(d){1a g=1b;1a b=g[a[iz]](d);1a f=g[a[wI]](b[a[130]],b[a[131]],1,1);1d f},16r:1c(b){1a j=1b;1a f=0;1a g=0;1a k=1T;1a m,n;1a o=j[a[3q]];1a h,i;if(!l(b)){if(b[a[3P]]&&b[a[3P]][a[59]]>0){h=b[a[3P]][0][a[99]]/ o;i= b[a[3P]][0][a[105]]/o}1e{if(!1D(b[a[99]])&&!1D(b[a[105]])){h=b[a[99]]/ o;i= b[a[105]]/o}1e{1d{x:0,y:0}}};m=cd[a[99]](j[a[139]],o);n=cd[a[105]](j[a[d8]][a[139]],o);f=h-m;g=i-n;f-=j[a[iG]];f-=j[a[9Q]]();1a d=j[a[Rd]](b);if(j[a[3g]]&&!d){f+=j[a[4h]]};if(j[a[2m]]&&j[a[2w]]){g+=j[a[4o]]}};1d{x:f,y:g}},16s:1c(m){1a k=1b;1a i=k[a[1X]];1a f=i*0.5;1a j=k[a[1S]];1a b=k[a[3Y]];1a h=k[a[2u]];1a l=0;1a d=-1;1a g;if(h>k[a[1x]][a[59]]){h=k[a[1x]][a[59]]};if(k[a[2m]]&&k[a[2w]]){m+=k[a[4o]]};if(k[a[3p]]){1i(g=0;g<h;g++){if(m>=l){d=g};l+=b[g][a[129]]}}1e{d=1k[a[244]]((m+f)/i)};if(d!=-1&&d>=k[a[1V]]){d+=j};d=1k[a[1F]](0,d);d=1k[a[1A]](k[a[1x]][a[59]],d);1d d},1K$16q:1c(u,w,t,h){1a n=1b;1a d=n[a[2N]];1a p=-1;1a f=-1;1a r=0;1a l=n[a[1X]];1a m=n[a[1S]];1a b=n[a[3Y]];1a k=n[a[2u]];1a s=0;1a q=-1;1a g=-1;1a v=u+t;1a x=w+h;1a o=0;1a i;if(k>n[a[1x]][a[59]]){k=n[a[1x]][a[59]]};if(u>0){p=0};1i(1a j=o;j<d[a[59]];j++){if(u>=r){p=j};if(v>=r){f=j};r+=d[j]};if(n[a[3p]]){1i(i=0;i<k;i++){if(w>=s){q=i};if(x>=s){g=i};s+=b[i][a[129]]}}1e{1i(i=0;i<k;i++){if(w>=s){q=i};if(x>=s){g=i};s+=l}};if(q!=-1&&q>=n[a[1V]]){q+=m};if(g!=-1&&g>=n[a[1V]]){g+=m};p=1k[a[1F]](0,p);q=1k[a[1F]](0,q,m-1);f=1k[a[1F]](0,1k[a[1A]](d[a[59]]-1,f));g=1k[a[1F]](0,1k[a[1A]](n[a[1x]][a[59]]-1,g));1d{KQ:p,Li:f,uR:q,uv:g}},16p:1c(t,h,o,n){1a u=1b;1a A=u[a[3p]];1a i=u[a[2N]];1a r=0;1a s=0;1a y=0;1a z=0;1a j=0;1a k=0;1a g=u[a[3Y]];1a f=u[a[3Z]];1a w,x;1a b=0;1a d=0;1a l=u[a[6o]]();1a m,v;1a q;1a p;1a B=u[a[3q]];o=!!o;if(u[a[6T]]){l+=u[a[aQ]]};n=!!n;if(!o){if(u[a[1V]]>0&&t<u[a[1V]]){b=t}1e{b=t-u[a[1S]]}}1e{b=t};if(!A&&u[a[1x]][a[59]]>0){if(g[b]&&g[b][a[189]]===1g){b=b-1}};b=1k[a[1F]](0,1k[a[1A]](b,g[a[59]]-1));d=h;d=1k[a[1F]](0,1k[a[1A]](d,i[a[59]]-1));1i(m=0;m<d;m++){r+=i[m]};x=g[b];if(x&&x[a[189]]){q=cd[a[7n]](x[a[139]][a[95]],B);p=cd[a[7n]](x[a[139]],B);s=p[a[154]]-q[a[154]]}1e{s=0;if(A){s=u[a[gG]]}};if(u[a[2m]]&&u[a[2w]]){s-=u[a[4o]]};if(u[a[7r]]){s+=u[a[6M]]};if(u[a[2Z]]&&u[a[6x]]==a[154]){s+=u[a[dK]]()+u[a[l4]]};s+=l;r+=u[a[iG]];r+=u[a[9Q]]();if(!(u[a[2o]]>0&&h<u[a[2o]])){if(u[a[3g]]){r-=u[a[4h]]}};w=f[b][d];if(u[a[2H]]&&u[a[9U]]){j=x[a[139]][a[3T]];if(w&&w[a[189]]){y=w[a[139]][a[3O]]}1e{v=u[a[16n]](b,d,1f);y=v[a[127]]}}1e{if(w&&w[a[189]]){y=w[a[139]][a[3O]];if(n){j=u[a[1X]]}1e{j=w[a[139]][a[3T]]}}1e{v=u[a[16n]](b,d,1f);y=v[a[127]];j=v[a[129]]}};if(A&&y<=0){w=f[0][d];y=w[a[139]][a[3O]]};1d{x:r,y:s,3b:y,4X:j}},1K$16o:1c(m,g,k){1a o=1b;1a h=o[a[2N]];1a d=o[a[3Y]];1a b=o[a[3Z]];1a p;1a j=m-o[a[1S]];1a l=g;1a q,i;1a n;1a f;k=!!k;if(!k){if(j<0){j=0};if(j>=o[a[2u]]){j=o[a[2u]]-1}}1e{j=m};j=1k[a[1F]](0,1k[a[1A]](j,d[a[59]]-1));l=1k[a[1F]](0,1k[a[1A]](l,h[a[59]]-1));p=b[j][l];i=o[a[1X]];q=h[g];f=1o(p[a[200]](a[2T]));if(!1D(f)&&f>0){q=0;1i(1a r=g,s=g+f;r<s;r++){q+=h[r]}};n=1o(p[a[200]](a[7e]));if(o[a[3p]]){i=d[j][a[129]]}1e{if(!1D(n)&&n>0){i=o[a[1X]]*n}};1d{3b:q,4X:i}},17T:1c(b){1a k=1b;1a g=k[a[2o]];1a d=k[a[2N]];1a n=k[a[kd]];1a j=k[a[4h]];1a m=0;1a l=g;1a f=0;if(!k[a[3g]]){1d 1f};1i(1a h=g,i=d[a[59]];h<i;h++){m+=d[h];if(m<=j){l=h+2};if(m<n+j){f=h}};l=1k[a[1F]](l,g);l=1k[a[1A]](l,d[a[59]]);f=1k[a[1A]](f,d[a[59]]);if(l==g&&j!=0){l++};if(l<=b&&b<=f){1d 1f};1d 1g},17U:1c(){1a f=1b,b=f[a[1z]];1a d=f[a[2o]];cd[a[1q]](b,1c(b,d){if(d[a[2q]]===1g){f[a[Rh]](d[a[1m]],1f)}})},19A:1c(j,n,o,b,h,l){1a r=1b;if(!j||!r[a[1Q]]){1d};1a g,k;1a z;1a x;1a t=r[a[mw]];1a p=r[a[1M]];1a m=r[a[6n]]&&r[a[6J]]();1a y=a[0];1a v;1a q;1a w;1a u;if(r[a[fk]]){if(!r[a[lm]]){1d 1g}};h=!!h;l=!!l;if(bi(j)){1i(g=0,k=j[a[59]];g<k;g++){z=j[g];u=r[a[eM]](z[p]);if(z[a[4O]]||z[a[4b]]==1){z[a[3e]]=1f;if(u){u[a[3e]]=1f}}1e{z[a[3e]]=n;if(u){u[a[3e]]=n}};z[a[6k]]=n;if(u){u[a[6k]]=n};s(z,n,o);if(z[a[4O]]||z[a[4b]]==1){z[a[3e]]=1f;if(u){u[a[3e]]=1f}}}}1e{j[a[3e]]=1f;j[a[6k]]=n;u=r[a[eM]](j[p]);if(u){u[a[3e]]=1f;u[a[6k]]=n};s(j,n,o);if(j[a[4O]]||j[a[4b]]==1){j[a[3e]]=1f;if(u){u[a[3e]]=1f}}};r[a[1x]]=r[a[ud]](r[a[2c]][a[4f]]);if(m){1a d=r[a[2c]][a[fv]];1a f=cd[a[9v]](d,p,a[4H]);r[a[1x]]=cd[a[cv]](r[a[1x]],1c(b,d){1a a=f[d[p]];if(a!==1T){1d 1f};1d 1g})};r[a[ci]]();if(!b){r[a[5S]](1f);if(!h){if(i(r[a[1I]][a[He]])){q=r[a[HU]](j[p]);r[a[1I]][a[He]]({1P:a[He],2y:r[a[2f]],t5:n,hB:j[a[4b]],2P:q,3i:cd[a[69]](1f,{},j)})};if(r[a[fk]]&&!j[a[nh]]){q=r[a[HU]](j[p]);w=r[a[6K]](q);if(w>=0){v=r[a[2I]][w][t];v[a[1jU]]();if(i(r[a[1I]][a[Hf]])){r[a[lm]]=1g;r[a[1I]][a[Hf]]({1P:a[Hf],2y:r[a[2f]],t5:n,hB:j[a[4b]],2P:q,2vA:j[a[nh]],3i:cd[a[69]](1f,{},j),19B:1c(b){if(b===1g&&v){v[a[1ju]]();r[a[Au]]()}1e{r[a[2vy]](j,b)};r[a[lm]]=1f}})}}}}};if(r[a[4j]]&&r[a[2p]]&&!l){if(o){r[a[2Y]][a[dW]]()}1e{if(bi(j)){x=1h}1e{x=j[p]};r[a[2vx]](x,n,o,b)}};1d;1c s(b,j,h){1a i;1a f;if(!b){1d};i=r[a[eM]](b[p]);if(bi(b[a[1p]])){if(h){if(b[a[4b]]==1){b[a[3e]]=1f;if(i){i[a[3e]]=1f}}1e{b[a[3e]]=j;if(i){i[a[3e]]=j}};b[a[6k]]=j;if(i){i[a[6k]]=j};1i(1a d=0,g=b[a[1p]][a[59]];d<g;d++){f=b[a[1p]][d];i=r[a[eM]](f[p]);if(f[a[4b]]==1){f[a[3e]]=1f;if(i){i[a[3e]]=1f}}1e{f[a[3e]]=j;if(i){i[a[3e]]=j}};s(f,j,1f)}}1e{1i(1a d=0,g=b[a[1p]][a[59]];d<g;d++){f=b[a[1p]][d];i=r[a[eM]](f[p]);if(b[a[6k]]&&b[a[3e]]){f[a[3e]]=1f;if(i){i[a[3e]]=1f};s(f,1f,1g)}1e{f[a[3e]]=1g;if(i){i[a[3e]]=1g};s(f,1g,1g)}}}}1e{if(b[a[4b]]==1){b[a[3e]]=1f;if(i){i[a[3e]]=1f}}1e{b[a[3e]]=j;if(i){i[a[3e]]=j}}}}},19z:1c(f,b){1a k=1b,d=k[a[8p]],h=k[a[1M]];1a i=k[a[1S]];1a j=k[a[1O]];1a g;1a n=1f;if(k[a[1Q]]&&!l(k[a[1W]])&&k[a[1W]][a[59]]>0){1d};g=k[a[eM]](f[h]);if(l(g)){1d};if(!bi(b)){b=[]};b=k[a[19y]](b);cd[a[1q]](b,1c(b,d){if(m(d[h])){n=1g};d[a[3e]]=1f});if(!n){b=cd[a[jj]]([],b,k[a[8U]],h,k[a[hz]])};if(b[a[59]]<=0){2j g[a[1p]]}1e{g[a[1p]]=b};g[a[nh]]=1f;k[a[5m]]=1f;k[a[6m]](d);k[a[5m]]=1g;k[a[fP]](1f,1g,1g,1g);k[a[8H]]=1f;k[a[1O]]=j;k[a[2Q]]();k[a[6B]]()},19w:1c(b){1a f=1b;1a d=f[a[5b]](b,f[a[1M]],f[a[2c]][a[4f]]);if(l(d)){1d};if(!d[a[6k]]){f[a[ag]](d,1f,1g,1f)};if(d[a[4b]]>1){f[a[sH]](d)}},19x:1c(d,j,i){1a g=1h;if(i){1i(1a b=0,f=i[a[59]];b<f;b++){if(bi(i[b][a[1p]])){g=h(d,i[b]);if(g){1d g}}}};1d g;1c h(b,f){1a d=f[a[1p]];1a k=1h;1i(1a g=0,i=d[a[59]];g<i;g++){if(d[g][j]===b[j]){1d f};if(bi(d[g][a[1p]])){k=h(b,d[g]);if(k){1d k}}};1d 1h}},2vv:1c(n){1a m=1b;1a b=m[a[1x]];1a l=m[a[1S]];1a j=m[a[2u]];1a k=m[a[1M]];1a h=1k[a[1A]](b[a[59]],j+l);1a d=m[a[1V]];1a f,g;1a i=-1;1i(f=0;f<d;f++){if(b[f][k]==n){i=f;1l}};1i(f=d;f<h;f++){if(b[f][k]==n){g=f-l;i=g<d?-1:g;1l}};1d i},19C:1c(){1a b=1b;if(!b[a[1rz]]||y[a[38]]||b[a[Fh]]||b[a[5F]]==a[192]){if(!l(1N[a[tp]])&&i(1N[a[tp]][a[cV]])){1N[a[tp]][a[cV]]()};1d};if(b[a[8o]]&&b[a[1J]]&&b[a[1J]][a[139]]&&i(b[a[1J]][a[p8]])){b[a[1J]][a[p8]]()}1e{if(b[a[2D]]){b[a[2D]][a[139]][a[eI]]({2vw:1f})}}},19D:1c(){1a b=1b;1d b[a[1Q]]},19I:1c(d){1a g=1b;1a f=g[a[1M]];1a h;g[a[lg]]={};if(!bi(d)||d[a[2uy]]==0){1d};b(d,f,g[a[lg]]);1d g[a[lg]];1c b(f,i,d){1a k,j;1a g,h;1i(g=0,h=f[a[59]];g<h;g++){k=f[g];if(!k){1u};if(k[a[1p]]&&k[a[1p]][a[59]]){b(k[a[1p]],i,d)};j=k[i];d[j]=k}}},19H:1c(d){1a f=1b;1a b=f[a[lg]][d];if(b){1d b};1d 1h},19G:1c(){1a d=1b;1a b=d[a[2U]];if(d[a[1Q]]&&d[a[2c]]&&d[a[2c]][a[7B]]){b=d[a[2c]][a[7B]]};1d b},19E:1c(){1a d=1b;1a b=d[a[2U]];if(d[a[1Q]]&&!l(d[a[8I]])){b=d[a[8I]]}1e{if(d[a[1Q]]&&d[a[2c]]&&d[a[2c]][a[4f]]){b=d[a[2c]][a[4f]]}};1d b},19F:1c(f,b){1a g=1b;1a d=W[a[xw]];g[a[2N]]=[];g[a[jX]]=1f;g[a[FV]]=1f;if(g[a[2w]]&&f){g[a[4o]]=g[a[1R]][a[2K]];g[a[1S]]=g[a[1R]][a[2K]]}1e{g[a[1S]]=0;if(g[a[1R]]){g[a[1R]][a[2K]]=0};if(g[a[2m]]&&!f){if(g[a[3o]]){g[a[3o]][a[134]](g[a[3o]][a[130]],0)};if(g[a[3x]]){g[a[3x]][a[134]](g[a[3x]][a[130]],0)};g[a[4K]]=1}};g[a[135]]();if(!g[a[2w]]){g[a[1S]]=0;if(g[a[2m]]&&!f){if(g[a[3o]]){g[a[3o]][a[134]](g[a[3o]][a[130]],0)};if(g[a[3x]]){g[a[3x]][a[134]](g[a[3x]][a[130]],0)};g[a[4K]]=1}}1e{if(g[a[1R]][a[2K]]!=g[a[1S]]){g[a[1S]]=g[a[1R]][a[2K]]}};g[a[5K]](1f);g[a[6a]](1f);g[a[5A]]();if(g[a[jN]]&&g[a[ab]]()){g[a[jn]]()};if(b===1f&&!1D(d)&&d!=1&&g[a[3q]]==1){g[a[1iy]]()}},19v:1c(){1a g=1b;1a b=1h;1a h=a[149];1a f=0;1a d=g[a[2o]];if(y[a[30]]&&bi(g[a[3Z]])&&g[a[3Z]][a[59]]>0&&!l(g[a[3Z]][0])){b=1N[a[10]](a[43]);b[a[169]][a[183]]=a[184];b[a[169]][a[g6]]=0;1N[a[102]][a[185]](b);cd[a[1q]](g[a[3Z]][0],1c(d,i){1a f;if(i[a[u3]]>1||!i[a[189]]){b[a[169]][a[127]]=g[a[2N]][d]+h;f=b[a[kP]]()}1e{if(i[a[139]]){f=i[a[139]][a[kP]]()};if(f[a[127]]<=0){b[a[169]][a[127]]=g[a[2N]][d]+h;f=b[a[kP]]()}};if(f&&!1D(f[a[127]])&&g[a[2N]][d]>0&&f[a[127]]>0){g[a[2N]][d]=f[a[127]]}});if(!l(b)){1N[a[102]][a[188]](b)};b=1h;if(g[a[2o]]>0&&g[a[6Y]]>0){f=0;f+=g[a[9Q]]();f+=g[a[IG]]();g[a[6Y]]=f};g[a[AN]]()}},19u:1c(b){1a d=1b;if(l(b)){b=1g};if(d[a[6n]]&&d[a[6J]]()){d[a[ky]]=1g;d[a[dp]]=1g;d[a[aX]](b);if(d[a[g1]]&&i(d[a[1I]][a[eU]])){d[a[1I]][a[eU]]({1P:a[eU],2y:d[a[2f]],nL:cd[a[69]]([],d[a[1W]]),xV:cd[a[69]](1f,{},d[a[7x]])})};d[a[g1]]=1g}1e{if(d[a[ab]]()){d[a[ky]]=1g;d[a[s3]]();d[a[3j]]=1h;d[a[3k]]=1h;d[a[3t]]=1h;d[a[3u]]=1h;d[a[ci]]();d[a[5S]](b);if(d[a[2Z]]){d[a[ox]]();d[a[jB]]()}}1e{if(d[a[2m]]){d[a[fP]](1f,1g,1g)}1e{d[a[fP]](1f,1g,!b)}}}},19k:1c(){1a g=1b;1a f=g[a[1O]];1a b;1a d;if(!l(g[a[3j]])&&!l(g[a[3t]])&&!l(g[a[3u]])&&!l(g[a[3k]])){b={5Y:g[a[3j]],6L:g[a[3t]],7E:g[a[3u]],9O:g[a[3k]]}}1e{if(f&&f[a[59]]){d=g[a[sQ]](g[a[1O]][0][0]);b={5Y:d,6L:g[a[1O]][0][1],7E:g[a[1O]][0][1],9O:d}}1e{b={5Y:1h,6L:1h,7E:1h,9O:1h}}};1d b},19l:1c(){1a b=1b;b[a[dw]][a[202]](a[165],a[2tt]);b[a[dw]][a[133]](b[a[127]],b[a[129]]);b[a[dw]][a[213]](1f)},19j:1c(){1a b=1b;b[a[dw]][a[213]](1g)},19i:1c(){1a b=1b;if(l(b[a[2tu]])){b[a[ir]]=1j O(a[2tv]);b[a[ir]][a[133]](b[a[127]],b[a[129]]);b[a[ir]][a[150]](a[g6],a[19g]);b[a[210]](b[a[ir]]);b[a[l3]]=1j O(a[2tw]);b[a[ir]][a[210]](b[a[l3]],1f);b[a[tO]]=1j O(a[2tr]);b[a[l3]][a[210]](b[a[tO]],1f);b[a[yf]]=1j O(a[2tn]);b[a[tO]][a[210]](b[a[yf]],1f);b[a[v3]]=1j O(a[2tm]);b[a[tO]][a[210]](b[a[v3]],1f);b[a[jT]]=1j O(a[2tp]);b[a[l3]][a[210]](b[a[jT]],1f)};b[a[l3]][a[150]](a[2tq],(b[a[129]]-b[a[l3]][a[139]][a[3T]])*0.5+a[149])},19m:1c(){1a b=1b;if(!l(b[a[ir]])){b[a[jT]][a[132]](1g);b[a[v3]][a[132]](1g);b[a[yf]][a[132]](1g);b[a[tO]][a[132]](1g);b[a[l3]][a[132]](1g);b[a[ir]][a[132]](1g)};b[a[jT]]=1h;b[a[v3]]=1h;b[a[yf]]=1h;b[a[tO]]=1h;b[a[l3]]=1h;b[a[ir]]=1h},19n:1c(h,g){1a i=1b;if(h){1a d;1a b=1N[a[10]](a[2tx]);b[a[162]](a[Fd],a[2ty]);b[a[162]](a[2tF],h);if(!y[a[24]]&&i[a[19s]]){b[a[162]](a[77],a[1l2])};1i(1a f in g){d=1N[a[10]](a[2e]);d[a[162]](a[85],a[9M]);d[a[162]](a[5Q],f);d[a[162]](a[2b],g[f]);b[a[185]](d);d=1h};1N[a[102]][a[185]](b);b[a[2tG]]();1N[a[102]][a[188]](b);b=1h;d=1h};bL(fT)[a[8z]](1c(){i[a[ga]]()})},19t:1c(p,q){1a A=1b,j=A[a[1z]],f=A[a[1x]],C=[],D,B,b,r;1a k=i;1a h=A[a[ex]];1a g=A[a[2H]];1a x;1a d;1a z;1a n=1g;1a o,s,t,u;1a v,w;p=!!p;if(l(q)){q=1g};1i(o=0,t=f[a[59]];o<t;o++){r=f[o];D=[];1i(s=0,u=j[a[59]];s<u;s++){b=j[s];if(!q&&b[a[2q]]===1g){1u};d=b[a[1m]];z=b[a[1G]]||{};if(!r[a[2R]]&&z[a[85]]==a[Ft]&&!m(z[a[1B]])){B=z[a[1B]];D[D[a[59]]]=1E(B);1u}1e{if(!r[a[2R]]&&z[a[85]]==a[xr]){B=l(r[d])?a[58]:r[d];D[D[a[59]]]=B;1u}1e{if(z[a[85]]==a[vn]){B=r[d]+a[ge]+r[z[a[l1]][a[1m]]];D[D[a[59]]]=B;1u}1e{if(z[a[85]]==a[l5]||z[a[85]]==a[pA]){if(k(z[a[i3]])){B=z[a[i3]](o,b[a[1n]],r[d],b[a[2a]],r,d)}1e{B=l(r[d])?a[58]:r[d]};D[D[a[59]]]=1E(B);1u}1e{if(!r[a[2R]]&&z[a[85]]==a[wB]&&(!m(z[a[cj]])||k(z[a[i3]]))){if(k(z[a[i3]])){B=z[a[i3]](o,b[a[1n]],r[d],b[a[2a]],r,d)}1e{if(!m(z[a[cj]])){B=l(r[z[a[cj]]])?a[58]:r[z[a[cj]]]}};D[D[a[59]]]=1E(B);1u}1e{if(z[a[85]]==a[9G]&&z[a[wX]]!==1f&&!m(z[a[8Z]])&&!m(z[a[8V]])){v=z[a[h1]];w=z[a[h0]];if(k(w)){v=w(o,b[a[1n]],r,d)};B=P[a[23]][a[kA]][a[21]]({},r[d],z,v);D[D[a[59]]]=B;1u}}}}}};if(g&&h&&r[a[2R]]){if(r[a[5k]][a[jJ]+d]===1f){D[D[a[59]]]=a[58];1u}};if(m(r[d])){B=a[58]}1e{B=1E(r[d])};n=1g;if(k(b[a[6O]])){n=1f};if(B===a[58]&&!n){D[D[a[59]]]=a[58];1u};if(n){B=b[a[6O]](o,b[a[1n]],r[d],b[a[2a]],r,d,b);if(m(B)){D[D[a[59]]]=a[58];1u}}1e{if(b[a[3W]]){if(b[a[3W]]==a[4t]){1a y=1o(B);if(b[a[5D]]){B=V[a[da]](B,b[a[5D]],b[a[fg]])}1e{B=V[a[hM]](B)};if(!1D(y)){if(b[a[5x]]){B=b[a[5x]]+B};if(b[a[5w]]){B=B+b[a[5w]]}}}1e{if(b[a[3W]]==a[5U]){if(b[a[5D]]){B=r[d];if(1L B==a[0]){B=a[58]};if(b[a[4P]]){B=V[a[f3]](B,b[a[4P]])};B=V[a[aS]](B,b[a[5D]])};if(b[a[5x]]){B=b[a[5x]]+B};if(b[a[5w]]){B=B+b[a[5w]]}}1e{if(b[a[5x]]){B=b[a[5x]]+B};if(b[a[5w]]){B=B+b[a[5w]]}}}}1e{if(b[a[5x]]){B=b[a[5x]]+B};if(b[a[5w]]){B=B+b[a[5w]]}}};if(B===a[58]){D[D[a[59]]]=a[58];1u}1e{if(p){D[D[a[59]]]=B}1e{if(b[a[3W]]==a[4t]){x=V[a[e1]](B);if(!bm(x)){D[D[a[59]]]=B}1e{D[D[a[59]]]=x}}1e{D[D[a[59]]]=B}}}};C[o]=D};1d C},19r:1c(m,i){1a q=1b;1a h=q[a[6v]],g,f,k,n,b,d=q[a[1z]],j,s;1a r=[];1a p=[];1a o;m=!!m;if(bi(q[a[3r]][0])){g=q[a[3r]]}1e{g=[];g[0]=q[a[3r]]};if(l(i)){i=0};1i(k=0,n=d[a[59]];k<n;k++){r[k]=a[58]};f=g[i];if(l(f)){1d r};1i(k=0,n=f[a[59]];k<n;k++){b=g[i][k];if(!b){1u};j=q[a[6l]](b[a[lL]]);if(j==-1){1u};s=h[i][k];s=cd[a[9F]](s);if(m){r[j]=s}1e{o=V[a[e1]](s);if(!bm(o)){r[j]=s}1e{r[j]=o}}};1i(k=0,n=d[a[59]];k<n;k++){if(d[k][a[2q]]===1g){1u};p[p[a[59]]]=r[k]};1d p},19q:1c(d){1a b=1b;if(!l(b[a[fz]])){b[a[fz]][a[132]](d)};b[a[fz]]=1h;if(!l(b[a[ld]])){b[a[ld]][a[132]](d)};b[a[ld]]=1h;if(!l(b[a[j7]])){b[a[j7]][a[132]](d)};b[a[j7]]=1h;if(!l(b[a[gJ]])){b[a[gJ]][a[132]](d)};b[a[gJ]]=1h;if(!l(b[a[dI]])){b[a[dI]][a[132]](d)};b[a[dI]]=1h;if(!l(b[a[8m]])){b[a[8m]][a[132]](d)};b[a[8m]]=1h},19o:1c(){1a f=1b;1a b=f[a[1z]];1a g=f[a[6T]];1a d=f[a[eA]];1a i=[];1a h=a[58];if(g&&bi(d)){cd[a[1q]](d,1c(f,j){1a g=d[f][a[19p]]();if(g===h){1d};i[a[1s]]({5l:b[f][a[1m]],5o:g})})};1d i},19J:1c(h){1a n=1b;1a b=n[a[2O]];1a i=n[a[8B]];1a o=n[a[6T]];1a k=n[a[eA]];1a f;1a p;1a g;1a q;1a r;1a d;if(!bi(h)||h[a[59]]<=0){1d};if(n[a[6J]]()){n[a[zf]]()};n[a[e6]](1f);if(!n[a[3N]]){n[a[3N]]={}};if(!n[a[2n]]){n[a[2n]]={}};if(!n[a[6A]]){n[a[6A]]={}};n[a[dp]]=1f;1i(1a j=0,m=h[a[59]];j<m;j++){g=h[j][a[1m]];p=h[j][a[45]];d=n[a[cA]](g);if(l(d)||(d[a[171]]&&d[a[171]][a[u9]]===1g)){1u};f=d[a[1n]];if(l(n[a[4D]][g])||n[a[4D]][g][a[59]]<=0){n[a[iF]](d)};q=n[a[4D]][g];if(l(q)){1u};if(o&&!l(k[f])&&!l(k[f])){k[f][a[19K]](p)};r=n[a[17Z]](d,p);n[a[uy]](f,{ww:1f,1K$wp:p});if(!bi(r)){r=[r]};n[a[3N]][d[b]]=1f;n[a[2n]][g]=cd[a[9v]](r);n[a[FT]](g);if(d[a[171]]&&d[a[171]][a[hI]]){i[f][a[7N]](1f)}};n[a[aX]]()},1a5:1h,HV:1c(g,h){1a j=1b;1a b=j[a[2O]];1a f=j[a[6l]](g);if(f<0||!j[a[6n]]){1d};1a d=j[a[1z]][f];if(d[a[171]]&&d[a[171]][a[u9]]===1g){1d};j[a[e6]](1f);j[a[dp]]=1f;1a i=j[a[8B]];if(!j[a[3N]]){j[a[3N]]={}};if(!j[a[2n]]){j[a[2n]]={}};if(!j[a[6A]]){j[a[6A]]={}};j[a[2n]][g]=0;if(bn(j[a[6A]][g])){2j j[a[6A]][g]};if(!j[a[sh]]){j[a[sh]]={}};j[a[sh]][g]=h;j[a[3N]][d[b]]=1f;j[a[2n]][g]=a[s2];j[a[aX]]();if(d[a[171]]&&d[a[171]][a[hI]]){i[f][a[7N]](1f)}},1a6:1c(b){1a d=1b;if(l(b)||!bn(b)){1d};if(d[a[6J]]()){d[a[zf]]()};cd[a[1q]](b,1c(b,f){d[a[q7]](b,f,1f)});d[a[aX]]()},Pb:1c(g,k,i){1a j=1b;1a b=j[a[2O]];1a f=j[a[6l]](g);1a d=j[a[1z]][f];if(f<0||!j[a[6n]]){1d};if(d[a[171]]&&d[a[171]][a[u9]]===1g){1d};j[a[e6]](1f);j[a[dp]]=1f;if(!bi(k)){k=[k]};1a h=j[a[8B]];if(!j[a[3N]]){j[a[3N]]={}};if(!j[a[2n]]){j[a[2n]]={}};if(!j[a[6A]]){j[a[6A]]={}};j[a[3N]][d[b]]=1f;j[a[2n]][g]=cd[a[9v]](k);if(i!==1f){j[a[aX]]()};j[a[FT]](g);if(d[a[171]]&&d[a[171]][a[hI]]){h[f][a[7N]](1f)}},OZ:1c(){1a b=1b;if(b[a[4L]]){1d b[a[4L]][a[189]]};1d 1g},P7:1c(b){1a h=1b;1a d=h[a[2O]];1a f;1a g;if(!l(h[a[4F]])&&!l(h[a[4F]][a[5L]])){f=h[a[4F]][a[5L]]}1e{1d};if(l(f)){1d};if(l(b)){b=1g};g=f[a[1m]];if(b&&f[a[171]]&&(!f[a[171]][a[85]]||f[a[171]][a[85]]==a[221]||f[a[171]][a[85]]==a[4G])){if(h[a[3N]][f[d]]!==1f){h[a[2n]][g]=0}1e{if(bn(h[a[sc]])){h[a[2n]][g]=cd[a[69]]({},h[a[sc]])}}};if(h[a[4L]]&&i(h[a[4L]][a[213]])){h[a[4L]][a[213]](1g)};if(!b){h[a[2tH]](f)};if(!b&&h[a[1Q]]&&h[a[4z]]&&bn(h[a[2n]][g])&&6w[a[9T]](h[a[2n]][g])[a[59]]>0){h[a[FT]](g)};if(h[a[8y]]&&h[a[8y]][a[2F]]&&h[a[8y]][a[2F]][a[139]]){h[a[8y]][a[2F]][a[139]][a[cV]]()};h[a[Jv]]();h[a[18w]](b);h[a[sc]]=1h;h[a[h8]]=1h},1a4:1c(b){1a d=1b;if(d[a[1Q]]&&d[a[4z]]&&bn(d[a[2n]][b])&&6w[a[9T]](d[a[2n]][b])[a[59]]>0){d[a[6A]]={};if(l(d[a[2c]][a[fv]])){d[a[2c]][a[fv]]=d[a[vJ]]();if(d[a[1W]]&&d[a[1W]][a[59]]>0&&d[a[7x]]&&d[a[7x]][a[5p]]&&d[a[7x]][a[5p]][a[59]]>0){d[a[2c]][a[fv]]=d[a[ze]](d[a[2c]][a[fv]])}};cd[a[1q]](d[a[2c]][a[fv]],1c(f,g){1a h=g[b];if(l(d[a[6A]][b])){d[a[6A]][b]={}};if(bn(d[a[2n]][b])&&d[a[2n]][b]!==0){if(d[a[2n]][b][h]!==1){d[a[6A]][b][h]=1}}})}},OD:1c(g){1a q=1b;1a d;1a b=q[a[2O]];1a f=q[a[2N]];1a h;1a s=0;1a t=q[a[fJ]]*q[a[f7]];1a m=q[a[8B]];1a p=0;1a j=124;1a r;1a u=q[a[3q]];if(q[a[6D]]){q[a[2l]](1g,1f)}1e{q[a[2l]](1f,1f)};q[a[Jv]]();d=q[a[fA]](a[1m],g,q[a[1z]]);if(l(d)){1d};if(q[a[1q0]]()&&!l(q[a[4F]])){if(!l(q[a[4F]][a[5L]])&&q[a[4F]][a[5L]][b]!=d[b]){q[a[e6]](1f)}};r=q[a[IS]](d);if(r){j=155};if(d[a[171]]&&i(d[a[171]][a[n8]])){if(!q[a[2n]]){q[a[2n]]={}};if(!q[a[3N]]){q[a[3N]]={}};if(l(q[a[3N]][d[b]])){q[a[3N]][d[b]]=1g};q[a[2n]][d[a[1m]]]=a[xc];1a o=q[a[rS]](d);1a k=m[d[a[1n]]];q[a[dp]]=1f;if(o){q[a[18n]](d);k[a[7N]](1g);q[a[3N]][d[b]]=1g}1e{q[a[aX]]();o=q[a[rS]](d);k[a[7N]](1f);q[a[3N]][d[b]]=1f};1d};h=q[a[2tI]](d);if(l(h)){1d};q[a[8y]][a[2F]][a[202]](a[2b],a[58]);q[a[4F]][a[5L]]=d;s+=q[a[9Q]]();p=s;1i(1a n=0;n<=d[a[1n]];n++){s+=f[n]};s-=q[a[nn]];if(d[a[1n]]>q[a[2o]]&&q[a[3g]]){s-=q[a[4h]]};if(s<p){s=p};if(s+q[a[nn]]>q[a[127]]){s=q[a[127]]-q[a[nn]];if(q[a[2w]]){s-=q[a[3w]]}};if(q[a[7r]]){t+=q[a[6M]]};h[a[133]](q[a[nn]],q[a[Ag]]);q[a[4F]][a[133]](q[a[nn]]-14,q[a[Ag]]-j);q[a[4F]][a[135]]();h[a[213]](1f);q[a[eN]](h,s,t,0,u);q[a[19V]]();if(!y[a[38]]&&q[a[8y]]&&q[a[8y]][a[2F]]&&q[a[8y]][a[2F]][a[139]]){q[a[8y]][a[2F]][a[194]](q[a[nn]]-34);q[a[8y]][a[2F]][a[139]][a[eI]]()}},I7:1c(g){1a i=1b;1a b=i[a[2O]];1a h=i[a[8B]];1a f=i[a[6l]](g);if(f<0||!i[a[2n]]){1d};i[a[dp]]=1f;1a d=i[a[1z]][f];i[a[3N]][d[b]]=1g;i[a[2n]][g]=0;if(!i[a[6A]]){i[a[6A]]={}};if(bn(i[a[6A]][g])){2j i[a[6A]][g]};if(!i[a[py]]){i[a[py]]={}};if(bn(i[a[py]][g])){2j i[a[py]][g]};i[a[aX]]();if(d[a[171]]&&d[a[171]][a[hI]]){h[f][a[7N]](1g)};i[a[we]](f)},1a3:1c(b){1a d=1b;if(d[a[6T]]&&d[a[eA]][a[59]]&&d[a[eA]][b]){d[a[eA]][b][a[G6]]();d[a[uy]](b,{ww:1f,1K$wp:a[58]})}},1a1:1c(){1a g=1b;1a d=g[a[2n]];1a b=g[a[1z]];1a f=g[a[8B]];if(d){cd[a[1q]](b,1c(b,d){if(d[a[171]]&&d[a[171]][a[hI]]){f[d[a[1n]]][a[7N]](1g)}})};g[a[3N]]={};g[a[2n]]={};g[a[6A]]={};g[a[py]]={};g[a[e6]](1f);if(g[a[6T]]){cd[a[1q]](g[a[eA]],1c(b,d){d[a[G6]]()});cd[a[1q]](b,1c(b,d){g[a[uy]](d[a[1n]],{ww:1f,1K$wp:a[58]})})}},Ii:1c(){1a b=1b;b[a[dp]]=1f;b[a[zf]]();b[a[aX]]()},1a2:1c(){1a b=1b;if(b[a[dp]]&&i(b[a[1I]][a[Fv]])){b[a[1I]][a[Fv]]({1P:a[Fv],2y:b[a[2f]],2tE:b[a[1f1]]()})};b[a[dp]]=1g},1a7:1c(){1a d=1b;1a b={};if(l(d[a[2n]])){1d b};cd[a[1q]](d[a[2n]],1c(h,i){1a g=d[a[6l]](h);if(g<0){1d};1a f=d[a[1z]][g];if(!l(i)&&i!==0&&d[a[rS]](f)){if(f[a[171]]&&f[a[171]][a[85]]==a[4t]){b[h]=i}1e{if(bn(i)){b[h]=cd[a[AZ]](i)}1e{b[h]=i}}}});1d b},1a8:1c(d){1a i=1b;1a h=i[a[8B]][d[a[1n]]];1a b=i[a[2O]];1a g=d[a[1m]];1a f=i[a[6l]](g);i[a[e6]](1f);if(!i[a[2n]]||f<0){i[a[2n]]={};if(h){h[a[7N]](1g)};1d};if(!i[a[6A]]){i[a[6A]]={}};if(bn(i[a[3N]])){i[a[3N]][d[b]]=1g};i[a[2n]][g]=0;if(bn(i[a[6A]][g])){2j i[a[6A]][g]};if(h){h[a[7N]](1g)};i[a[aX]]();i[a[we]](f)},1ad:1c(f,d){1a h=1b,b=h[a[2n]];1a g=[];if(h[a[6D]]){h[a[2l]](1g,1f)}1e{h[a[2l]](1f,1f)};f=!!f;if(l(d)){d=1g};if(!b||!h[a[6n]]){1d};if(h[a[4j]]&&h[a[2Y]]&&h[a[2p]]){h[a[2Y]][a[dW]]()};if(!h[a[3N]]){h[a[3N]]={}};if(h[a[2m]]&&!f){if(h[a[3o]]){h[a[3o]][a[134]](h[a[3o]][a[130]],0)};h[a[3x]][a[134]](h[a[3x]][a[130]],0);h[a[4K]]=1;h[a[4o]]=0;h[a[1S]]=0};if(h[a[1Q]]){g=h[a[vJ]]();if(h[a[1W]]&&h[a[1W]][a[59]]>0&&h[a[7x]]&&h[a[7x]][a[5p]]&&h[a[7x]][a[5p]][a[59]]>0){g=h[a[ze]](g)};h[a[2c]][a[fv]]=g;g=h[a[2tD]](g);h[a[1x]]=g}1e{g=h[a[vJ]]();h[a[1x]]=g};if(d){1d};if(!h[a[iM]]&&h[a[la]]&&!h[a[1Q]]){h[a[cC]]()};if(h[a[ab]]()){h[a[s3]]()};h[a[3j]]=1h;h[a[3k]]=1h;h[a[3t]]=1h;h[a[3u]]=1h;h[a[ci]]();h[a[5S]](f);if(h[a[2Z]]){h[a[ox]]();h[a[jB]]()};h[a[2tA]]()},1ac:1c(j){1a v=1b,h,k=v[a[2n]];1a b;1a r;1a n;1a d=v[a[1z]];1a f;1a u=[];1a q=1f;1a g;1a m;1a s,t;1a x;1a y;1a p=1g;1a o=1g;if(!l(v[a[2n]])){cd[a[1q]](v[a[2n]],1c(b,d){if(d==a[xc]){o=1f;1d 1g}})};if(!o&&(!v[a[6n]]||!v[a[6J]]())){if(v[a[1Q]]){1d v[a[2c]][a[7B]]};1d v[a[2U]]};if(!l(j)){p=1f};if(v[a[1Q]]){h=v[a[2c]][a[7B]];1i(s=0,t=h[a[59]];s<t;s++){r=h[s];if(r[a[2R]]){u[a[1s]](r);1u};1i(g in k){n=k[g];if(n==0||(p&&g==j)){1u};f=v[a[6U]](g);if(f<0){1u};b=d[f];y=r[g];if(b[a[171]]){if(i(b[a[171]][a[n8]])){m=a[xc];q=b[a[171]][a[n8]](g,y,r);if(!q&&r[a[1p]]&&bi(r[a[1p]])){q=w(r[a[1p]],k)}}1e{if(b[a[171]][a[85]]){m=b[a[171]][a[85]]}1e{m=a[4G]}}}1e{m=a[4G]};if(n==a[s2]){x=v[a[sh]][g];if(x){q=x(g,y,r);if(!q&&r[a[1p]]&&bi(r[a[1p]])){q=w(r[a[1p]],k)}}}1e{if(m==a[4t]){q=v[a[GM]](b,r,n);if(!q&&r[a[1p]]&&bi(r[a[1p]])){q=w(r[a[1p]],k)}}1e{if(m==a[4G]){q=v[a[Gw]](b,r,n);if(!q&&r[a[1p]]&&bi(r[a[1p]])){q=w(r[a[1p]],k)}}}};if(!q){1l}};if(q){u[a[1s]](r);q=1f}}}1e{h=v[a[2U]];1i(s=0,t=h[a[59]];s<t;s++){r=h[s];1i(g in k){n=k[g];if(n==0||(p&&g==j)){1u};f=v[a[6U]](g);if(f<0){1u};b=d[f];y=r[g];if(b[a[171]]){if(i(b[a[171]][a[n8]])){m=a[xc];q=b[a[171]][a[n8]](g,y,r)}1e{if(b[a[171]][a[85]]){m=b[a[171]][a[85]]}1e{m=a[4G]}}}1e{m=a[4G]};if(n==a[s2]){x=v[a[sh]][g];if(x){q=x(g,y,r)}}1e{if(m==a[4t]){q=v[a[GM]](b,r,n)}1e{if(m==a[4G]){q=v[a[Gw]](b,r,n)}}};if(!q){1l}};if(q){u[a[1s]](r);q=1f}}};1d u;1c w(p,h){1a o=1g;1a r;1a g;1a k;1a q;1a f;1a d=v[a[1z]];1a b;1a s;1a j;1i(1a m=0,n=p[a[59]];m<n;m++){r=p[m];if(r[a[2R]]){1u};1i(g in h){k=h[g];if(!l(k)&&k!==0){f=v[a[6U]](g);if(f<0){1u};b=d[f];s=r[g];if(b[a[171]]){if(i(b[a[171]][a[n8]])){j=a[xc];o=b[a[171]][a[n8]](g,s,r)}1e{if(b[a[171]][a[85]]){j=b[a[171]][a[85]]}1e{j=a[4G]}}}1e{j=a[4G]};if(k==a[s2]){q=v[a[sh]][g];if(q){o=q(g,s,r)}}1e{if(j==a[4t]){o=v[a[GM]](b,r,k)}1e{if(j==a[4G]){o=v[a[Gw]](b,r,k)}}};if(!o){1l}}};if(o){1l};if(r[a[1p]]&&bi(r[a[1p]])){o=w(r[a[1p]],h);if(o){1l}}};1d o}},1ab:1c(){1a f=1b;1a b=f[a[1z]];1a d=1g;cd[a[1q]](b,1c(b,g){if(f[a[rS]](g)){d=1f;1d 1g}});1d d},1a9:1c(d){1a g=1b;1a b=g[a[2O]];1a f=g[a[3N]][d[b]];f=!!f;1d f},1aa:1c(n){1a y=1b;1a j=y[a[4F]];1a f=j[a[5L]];1a i=y[a[2n]];1a z=y[a[1Q]];1a s;1a B;1a A;1a C;1a b;1a k;1a x;1a d=y[a[2O]];1a g=f[a[1m]];1a o;1a h=1g;1a u=1g;1a v=1g;if(!f){1d};if(f[a[171]]&&(!f[a[171]][a[85]]||f[a[171]][a[85]]==a[221])){if(!l(y[a[Gx]])&&!m(y[a[yt]])){if(y[a[Gx]][d]==f[d]&&y[a[yt]]==n){1d}}};if(y[a[jR]]){y[a[jR]][a[132]]();y[a[jR]]=1h};if(y[a[aN]]){1i(1a p=0,q=y[a[aN]][a[59]];p<q;p++){bA(y[a[aN]][p],a[g5],y[a[C8]]);y[a[aN]][p][a[132]]();y[a[aN]][p]=1h};y[a[aN]]=1h};if(y[a[5B]]){bA(y[a[5B]],a[g5],y[a[Mk]]);y[a[5B]][a[132]]();y[a[5B]]=1h};if(y[a[6F]]){bA(y[a[6F]],a[g5],y[a[Mj]]);y[a[6F]][a[132]]();y[a[6F]]=1h};if(y[a[aq]]){y[a[aq]][a[132]]();y[a[aq]]=1h};j[a[vi]]();y[a[aN]]=[];if(f[a[171]][a[85]]==a[4t]){if(l(y[a[2n]])){y[a[2n]]={}};if(l(y[a[6A]])){y[a[6A]]={}};1a w=y[a[2tB]];1i(1a p=0,q=w[a[59]];p<q;p++){A=w[p];b=1j S();b[a[4H]]=p;if(!l(j[a[tk]])&&j[a[tk]]==p){b[a[3n]]=1f}1e{b[a[3n]]=1g};r(b,a[g5],y[a[C8]],y);b[a[150]](a[190],a[191]);b[a[2b]]=A;b[a[214]](A);b[a[135]]();j[a[di]](b);y[a[aN]][p]=b};j[a[135]]()}1e{B=y[a[z7]](f);if(f[a[171]]&&(!f[a[171]][a[85]]||f[a[171]][a[85]]==a[221])){if(f[a[171]][a[mz]]===1f){h=1f;o=y[a[6P]][g]}};y[a[h8]]=cd[a[9v]](B);if(!i){i=y[a[2n]]={}};if(l(y[a[6A]])){y[a[6A]]={}};x=i[f[a[1m]]];k=y[a[6A]][f[a[1m]]];if(l(k)){k={}};if(l(x)||!y[a[rS]](f)){x=y[a[2n]][f[a[1m]]]=y[a[h8]]}1e{if(x==a[s2]){x=y[a[h8]]}};y[a[sc]]=cd[a[69]]({},x);if(!m(n)){1a t=1j X();if(h&&1L o!=a[0]){s=cd[a[cv]](B,1c(b,d){1d t[a[kI]](o[d],n,u)})}1e{s=cd[a[cv]](B,1c(b,d){1d t[a[kI]](d,n,u)})};v=1f}1e{s=B;v=1g};y[a[y7]]=cd[a[9v]](s);if(s[a[59]]>0){y[a[cm]][a[207]]()}1e{y[a[cm]][a[206]](a[yi])};if(m(n)){y[a[5B]]=1j S();r(y[a[5B]],a[g5],y[a[Mk]],y);if(cd[a[L0]](y[a[h8]],x)){y[a[5B]][a[3n]]=1f}1e{y[a[5B]][a[3n]]=1g};y[a[5B]][a[150]](a[190],a[191]);y[a[5B]][a[2b]]=y[a[1a0]];y[a[5B]][a[214]](y[a[1a0]]);y[a[5B]][a[135]]();j[a[di]](y[a[5B]])};if(!m(n)&&s[a[59]]>0){x=y[a[y7]];if(y[a[5B]]){y[a[5B]][a[3n]]=1g;y[a[5B]][a[135]]()};y[a[6F]]=1j S();r(y[a[6F]],a[g5],y[a[Mj]],y);y[a[6F]][a[3n]]=1f;y[a[6F]][a[150]](a[190],a[191]);y[a[6F]][a[2b]]=y[a[19Z]];y[a[6F]][a[214]](y[a[19Z]]);y[a[6F]][a[135]]();j[a[di]](y[a[6F]]);y[a[aq]]=1j S();y[a[aq]][a[3n]]=1g;y[a[aq]][a[150]](a[190],a[191]);y[a[aq]][a[2b]]=y[a[19P]];y[a[aq]][a[214]](y[a[19P]]);y[a[aq]][a[135]]();j[a[di]](y[a[aq]])};1i(1a p=0,q=1k[a[1A]](s[a[59]],y[a[sK]]);p<q;p++){A=s[p];b=1j S();b[a[3n]]=x[A]===1?1f:1g;if(!v&&z&&k[A]==1){b[a[3A]][a[202]]({5T:1g,b9:1f})};r(b,a[g5],y[a[C8]],y);b[a[150]](a[190],a[191]);b[a[2b]]=A;if(h){C=o[A]}1e{C=A};b[a[214]](C);b[a[135]]();j[a[di]](b);y[a[aN]][p]=b};if(s[a[59]]>y[a[sK]]){y[a[jR]]=1j bN(a[2tl]);y[a[jR]][a[214]](y[a[Dm]]);j[a[di]](y[a[jR]])};j[a[135]]()};y[a[Gx]]=f;y[a[yt]]=l(n)?a[58]:n;y[a[KN]]=bi(s)?s[a[59]]:0},19O:1c(g){1a n=1b;1a f=n[a[2O]];1a p=n[a[IS]](g);1a m=124;1a j;1a i;1a b=y[a[2]];if(p){m=155};if(l(n[a[4L]])){n[a[4L]]=1j O(a[18W]);n[a[jE]](n[a[4L]]);n[a[4L]][a[139]][a[144]]=1b;r(n[a[4L]][a[139]],a[2i],n[a[C1]]);if(b){r(n[a[4L]][a[139]],a[2X],n[a[C1]])};n[a[4L]][a[150]](a[183],a[184]);n[a[4L]][a[134]](0,0);j=n[a[4L]];j[a[213]](1g);j[a[133]](n[a[nn]],n[a[Ag]]);n[a[iC]]=1j bN();n[a[iC]][a[139]][a[144]]=n;n[a[iC]][a[214]](n[a[2tk]]);r(n[a[iC]][a[139]],a[2h],n[a[18x]]);j[a[210]](n[a[iC]],1f);n[a[8y]]=1j bJ();n[a[8y]][a[2F]][a[139]][a[158]]=n[a[2t5]];r(n[a[8y]],a[zB],n[a[18s]],n);j[a[210]](n[a[8y]],1f);n[a[4F]]=1j o();n[a[4F]][a[tk]]=0;1a k=n[a[4F]];k[a[jM]]=a[np];k[a[iJ]]=a[pS];k[a[3w]]=n[a[19L]];k[a[2C]][a[9E]]=1g;k[a[1R]][a[9E]]=1g;k[a[133]](190,n[a[Ag]]-m);j[a[210]](k,1f);n[a[pj]]=1j O(a[2t2]);j[a[210]](n[a[pj]],1f);n[a[cm]]=1j A();1a h=n[a[cm]];h[a[3h]]=a[tm];h[a[150]](a[ij],a[x0]);h[a[214]](n[a[yO]]);r(h,a[tm],n[a[kE]],n);n[a[pj]][a[210]](h,1f);n[a[tg]]=1j A();1a d=n[a[tg]];d[a[3h]]=a[tl];d[a[150]](a[ij],a[x0]);d[a[214]](n[a[zw]]);r(d,a[tl],n[a[kE]],n);n[a[pj]][a[210]](d,1f);n[a[g4]]=1j O(a[2t1]);n[a[g4]][a[139]][a[144]]=1b;r(n[a[g4]][a[139]],a[2i],n[a[BH]]);if(b){r(n[a[g4]][a[139]],a[2X],n[a[BH]])};j[a[210]](n[a[g4]]);n[a[3Q]][a[185]](j[a[139]])};n[a[18y]](1g);if(p){if(g[a[3W]]==a[4t]){i=n[a[2sY]]}1e{i=n[a[Ro]]};n[a[9A]]=1j bN(a[18V]);n[a[9A]][a[139]][a[144]]=n;n[a[9A]][a[214]](i);r(n[a[9A]][a[139]],a[2h],n[a[C4]]);r(n[a[9A]][a[139]],a[gh],n[a[C4]]);r(n[a[9A]][a[139]],a[ja],n[a[4x]]);n[a[4L]][a[212]](n[a[9A]],n[a[8y]],1f)};if(n[a[4L]][a[189]]&&n[a[4F]][a[5L]][f]==g[f]){n[a[e6]](1f);1d 1h};1d n[a[4L]]},19Y:1c(f){1a g=f[a[78]];1a b=f[a[1t]];1a d=b[a[1m]];1a h;if(b[a[171]][a[2sZ]]===1f){h=g[a[z7]](b);if(i(b[a[171]][a[FN]])){b[a[171]][a[FN]][a[21]](f[a[j5]],cd[a[BW]](1f,{},b),h)};f[a[j5]]=1h;1d};g[a[F0]](d);f[a[j5]]=1h},19W:1c(d){1a g=d[a[78]];1a f=g[a[4F]];1a b=f[a[5L]];if(b[a[171]]&&b[a[171]][a[85]]==a[4t]){if(d[a[111]]==13){g[a[kE]]({ts:g,1P:a[tm]})}1e{if(d[a[111]]==27){g[a[kE]]({ts:g,1P:a[tl]})}}}1e{if(d[a[111]]==13){g[a[kE]]({ts:g,1P:a[tm]})}1e{if(d[a[111]]==27){g[a[kE]]({ts:g,1P:a[tl]})}1e{g[a[19V]](d[a[45]])}}}},19T:1c(b,f,d){1a g=1b;1a h=f[b[a[1m]]];if(1L f[b[a[1m]]]==a[0]||f[b[a[1m]]]===1h||f[b[a[1m]]]===a[58]){h=g[a[6Z]]};1d d[1E(h)]===1?1f:1g},19U:1c(b,g,f){1a i=g[b[a[1m]]];1a d;1a h;if(!bp(f)){f+=a[58]};f=f[a[54]](a[53]);i=1o(i);d=1o(f[0]);h=1o(f[1]);if(1D(i)){1d 1g};4v(h){1C 0:1d i==d;1l;1C 1:1d i>d;1l;1C 2:1d i>=d;1l;1C 3:1d i<d;1l;1C 4:1d i<=d;1l;1C 5:1d i!=d;1l};1d 1g},19f:1c(h){1a o=h[a[78]];1a d=o[a[4F]][a[5L]];1a f=d[a[1n]];1a i=o[a[8B]][f];1a n=o[a[4F]][a[tk]];1a b=o[a[2O]];1a g=d[a[1m]];1a j=1g;if(o[a[aq]]&&o[a[aq]][a[3n]]){j=1f};if(h[a[85]]==a[tm]){if(d[a[171]]&&d[a[171]][a[85]]==a[4t]){1a p=1E(o[a[8y]][a[45]])[a[178]]();p=V[a[e1]](p);1a k=1o(p);if(bl(k)){1d};o[a[2n]][g]=k+a[53]+n;o[a[3N]][d[b]]=1f}1e{if((!o[a[5B]]||!o[a[5B]][a[3n]])&&!m(o[a[yt]])&&o[a[6F]]&&o[a[6F]][a[3n]]){o[a[2n]][g]=o[a[y7]]};if(j){o[a[2n]][g]=cd[a[69]](cd[a[69]]({},o[a[sc]]),o[a[2n]][g]);if(cd[a[L0]](o[a[h8]],o[a[2n]][g])){o[a[3N]][d[b]]=1g;o[a[2n]][g]=0;o[a[we]](f)}};if(bn(o[a[2n]][g])&&o[a[2n]][g]!==0){if(6w[a[9T]](o[a[2n]][g])[a[59]]<=0||o[a[cm]][a[182]](a[yi])){1d}};if(!l(o[a[5B]])){o[a[3N]][d[b]]=!o[a[5B]][a[3n]];if(o[a[5B]][a[3n]]){o[a[2n]][g]=0;o[a[we]](f)}};if(bn(o[a[2n]][g])&&6w[a[9T]](o[a[2n]][g])[a[59]]>0){o[a[3N]][d[b]]=1f}};o[a[dp]]=1f;o[a[aX]]();i[a[7N]](o[a[rS]](d));o[a[e6]]()}1e{if(h[a[85]]==a[tl]){o[a[e6]](1f)}};o[a[6B]]()},19e:1c(g){1a j=g[a[78]];1a b=g[a[5d]];1a d=j[a[4F]][a[5L]];1a f=d[a[1m]];1a k;1a i=1g;if(!l(j[a[aq]])&&j[a[aq]][a[3n]]){i=1f};if(d[a[171]]&&d[a[171]][a[85]]==a[4t]){1a h=j[a[aN]];cd[a[1q]](h,1c(b,d){if(d[a[4H]]!=g[a[4H]]){d[a[3n]]=1g}1e{j[a[4F]][a[tk]]=g[a[4H]];d[a[3n]]=1f};d[a[135]]()})}1e{if(j[a[2n]][f]==0){j[a[2n]][f]=cd[a[69]]({},j[a[h8]])}1e{if(j[a[2n]][f]==a[s2]){j[a[2n]][f]={}}1e{if((!j[a[5B]]||!j[a[5B]][a[3n]])&&!m(j[a[yt]])&&j[a[6F]]&&j[a[6F]][a[3n]]){j[a[2n]][f]=cd[a[69]]({},j[a[y7]])}}};if(!bn(j[a[2n]][f])){j[a[2n]][f]={}};k=cd[a[69]]({},j[a[2n]][f]);if(b){k[g[a[2b]]]=1}1e{2j k[g[a[2b]]]};if(!l(j[a[5B]])){j[a[5B]][a[3n]]=k===0||(bn(k)&&6w[a[9T]](k)[a[59]]>=j[a[KN]])?1f:1g;j[a[5B]][a[135]]()};if(!l(j[a[6F]])){j[a[6F]][a[3n]]=k===0||(bn(k)&&6w[a[9T]](k)[a[59]]>=j[a[KN]])?1f:1g;j[a[6F]][a[135]]()};if(i){j[a[2n]][f]=cd[a[69]]({},j[a[sc]]);j[a[2n]][f]=cd[a[69]](j[a[2n]][f],k)}1e{if(!l(j[a[5B]])&&j[a[5B]][a[3n]]){j[a[2n]][f]=0}1e{j[a[2n]][f]=cd[a[69]]({},k)}};if(6w[a[9T]](j[a[2n]][f])[a[59]]>0||j[a[2n]][f]==0){j[a[cm]][a[207]]()}1e{j[a[cm]][a[206]](a[yi])}}},18p:1c(g){1a i=g[a[78]];1a b=g[a[5d]];1a d=i[a[4F]][a[5L]];1a h=i[a[aN]];1a f=d[a[1m]];cd[a[1q]](h,1c(d,f){f[a[3n]]=b;f[a[135]]()});if(b){i[a[2n]][f]=0;i[a[cm]][a[207]]()}1e{i[a[2n]][f]={};i[a[cm]][a[206]](a[yi])};if(i[a[6F]]){i[a[6F]][a[3n]]=b;i[a[6F]][a[135]]()}},18q:1c(g){1a i=g[a[78]];1a b=g[a[5d]];1a d=i[a[4F]][a[5L]];1a h=i[a[aN]];1a f=d[a[1m]];if(b){i[a[2n]][f]=i[a[y7]]}1e{i[a[2n]][f]={}};cd[a[1q]](h,1c(d,f){f[a[3n]]=b;f[a[135]]()});if(6w[a[9T]](i[a[2n]][f])[a[59]]>0){i[a[cm]][a[207]]()}1e{i[a[cm]][a[206]](a[yi])}},18o:1c(d){1a f=1b[a[144]];1a b=f[a[4F]][a[5L]];f[a[dp]]=1f;f[a[18n]](b)},18l:1c(d){1a g=1b;1a f;1a b=g[a[2O]];if(l(d)){1d};f=g[a[8B]][d[a[1n]]];if(cd[a[L0]](g[a[h8]],g[a[2n]][d[a[1m]]])){g[a[2n]][d[a[1m]]]=0;g[a[3N]][d[b]]=1g;if(!l(f)&&i(f[a[7N]])){f[a[7N]](1g)}};if(g[a[3N]][d[b]]===1g){g[a[2n]][d[a[1m]]]=0;if(!l(f)&&i(f[a[7N]])){f[a[7N]](1g)}}},18m:1c(){1a g=1b;1a f=g[a[8B]];1a d=g[a[1z]];1a b=g[a[2O]];cd[a[1q]](g[a[3N]],1c(j,k){1a h;if(k===1f){h=g[a[2M]](j,b,d);if(h>=0&&f[h]){if(i(f[h][a[7N]])){f[h][a[7N]](1f)}}}})},18r:1c(h){1a g=1b;1a b=y[a[2]];if(g[a[jR]]){g[a[jR]][a[132]](h);g[a[jR]]=1h};if(g[a[g4]]){bA(g[a[g4]][a[139]],a[2i],g[a[BH]]);if(b){bA(g[a[g4]][a[139]],a[2X],g[a[BH]])};g[a[g4]][a[139]][a[144]]=1h;g[a[g4]][a[132]](h);g[a[g4]]=1h};if(g[a[cm]]){bA(g[a[cm]],a[tm],g[a[kE]]);g[a[cm]][a[132]](h);g[a[cm]]=1h};if(g[a[tg]]){bA(g[a[tg]],a[tl],g[a[kE]]);g[a[tg]][a[132]](h);g[a[tg]]=1h};if(g[a[5B]]){bA(g[a[5B]],a[g5],g[a[Mk]]);g[a[5B]][a[132]](h);g[a[5B]]=1h};if(g[a[6F]]){bA(g[a[6F]],a[g5],g[a[Mj]]);g[a[6F]][a[132]](h);g[a[6F]]=1h};if(g[a[aq]]){g[a[aq]][a[132]](h);g[a[aq]]=1h};if(g[a[aN]]){1i(1a d=0,f=g[a[aN]][a[59]];d<f;d++){bA(g[a[aN]][d],a[g5],g[a[C8]])};g[a[aN]]=1h};if(g[a[4F]]){g[a[4F]][a[5L]]=1h;g[a[4F]][a[tk]]=1h;if(!h){g[a[4F]][a[vi]]()};g[a[4F]][a[132]](h);g[a[4F]]=1h};if(g[a[8y]]){bA(g[a[8y]],a[zB],g[a[18s]]);g[a[8y]][a[132]](h);g[a[8y]]=1h};if(g[a[iC]]){bA(g[a[iC]][a[139]],a[2h],g[a[18x]]);g[a[iC]][a[132]](h);g[a[iC]]=1h};g[a[18y]](h);if(g[a[pj]]){g[a[pj]][a[132]](h);g[a[pj]]=1h};if(g[a[4L]]){bA(g[a[4L]][a[139]],a[2i],g[a[C1]]);if(b){bA(g[a[4L]][a[139]],a[2X],g[a[C1]])};if(!h&&g[a[4L]][a[139]][a[95]]!==1h){g[a[4L]][a[139]][a[95]][a[188]](g[a[4L]][a[139]])};g[a[4L]][a[132]](h);g[a[4L]]=1h};g[a[Jv]]();g[a[18w]](1f)},18v:1c(d){1a b=1b;if(b[a[9A]]){bA(b[a[9A]][a[139]],a[2h],b[a[C4]]);bA(b[a[9A]][a[139]],a[gh],b[a[C4]]);bA(b[a[9A]][a[139]],a[ja],b[a[4x]]);b[a[9A]][a[132]](d);b[a[9A]]=1h}},18t:1c(b){1d b[a[171]]&&b[a[171]][a[2t8]]&&b[a[171]][a[85]]!==a[4t]?1f:1g},18u:1c(b){1a l=1b[a[144]];1a f,g;1a h,i;1a o=l[a[3q]];1a n;1a d=b[a[85]];1a j,k;if(d==a[2X]){n=b[a[3P]][0];j=n[a[99]];k=n[a[105]]}1e{j=b[a[99]];k=b[a[105]]};l[a[wc]]=1f;h=j-cd[a[99]](l[a[139]],o);i=k-cd[a[105]](l[a[139]],o);f=l[a[4L]][a[130]];g=l[a[4L]][a[131]];if(k-cd[a[105]](l[a[4L]][a[139]],o)>10){1d};b[a[91]]();b[a[92]]();l[a[Bj]]();if(d==a[2X]){b[a[91]]();r(1N,a[4T],m);r(1N,a[4V],m)}1e{r(1N,a[6q],m);r(1N,a[4i],m)};1c m(b){1a p,q;1a d=b[a[85]];1a n;1a j,k;if(d==a[4i]){l[a[wc]]=1g;bA(1N,a[6q],m);bA(1N,a[4i],m)}1e{if(d==a[4V]){l[a[wc]]=1g;bA(1N,a[4T],m);bA(1N,a[4V],m)}1e{if((d==a[6q]||d==a[4T])&&l[a[wc]]){if(d==a[4T]){n=b[a[3P]][0];j=n[a[99]];k=n[a[105]]}1e{j=b[a[99]];k=b[a[105]]};p=f+1k[a[244]](j-cd[a[99]](l[a[139]],o)-h);q=g+1k[a[244]](k-cd[a[105]](l[a[139]],o)-i);l[a[4L]][a[134]](p,q);b[a[91]]();b[a[92]]()}}}}},18k:1c(d){1a n=1b[a[144]];1a b=n[a[4F]][a[5L]];1a h,g;1a i,j;1a k=124;1a q;1a s=n[a[3q]];1a p;1a f=d[a[85]];1a l,m;if(f==a[2X]){p=d[a[3P]][0];l=p[a[99]];m=p[a[105]]}1e{l=d[a[99]];m=d[a[105]]};q=n[a[IS]](b);if(q){k=155};d[a[91]]();d[a[92]]();n[a[Bj]]();n[a[Bd]]=1f;i=l-cd[a[99]](n[a[139]],s);j=m-cd[a[105]](n[a[139]],s);h=n[a[4L]][a[127]];g=n[a[4L]][a[129]];if(f==a[2X]){r(1N,a[4T],o);r(1N,a[4V],o)}1e{r(1N,a[6q],o);r(1N,a[4i],o)};1c o(b){1a p,r;1a d=b[a[85]];1a m;1a f,l;if(d==a[4i]){n[a[Bd]]=1g;bA(1N,a[6q],o);bA(1N,a[4i],o)}1e{if(d==a[4V]){n[a[Bd]]=1g;bA(1N,a[4T],o);bA(1N,a[4V],o)}1e{if((d==a[6q]||d==a[4T])&&n[a[Bd]]){if(d==a[4T]){m=b[a[3P]][0];f=m[a[99]];l=m[a[105]]}1e{f=b[a[99]];l=b[a[105]]};p=h+1k[a[244]](f-cd[a[99]](n[a[139]],s)-i);r=g+1k[a[244]](l-cd[a[105]](n[a[139]],s)-j);p=1k[a[1F]](200,p);r=1k[a[1F]](q?181:150,r);n[a[4L]][a[133]](p,r);n[a[4F]][a[133]](p-14,r-k);n[a[4F]][a[135]]();n[a[8y]][a[2F]][a[194]](p-34);b[a[91]]();b[a[92]]()}}}}},18j:1c(f){1a g=f[a[78]];1a h=f[a[45]];1a d=f[a[1m]];1a i;1a b;b=g[a[cA]](d);if(l(b)){1d};g[a[uy]](b[a[1n]],{ww:1f,1K$wp:h});if(m(h)){g[a[Ig]](d);1d};i=g[a[17Z]](b,h);g[a[q7]](d,i)},18a:1c(g){1a o=g[a[78]];1a i=o[a[1z]];1a k=o[a[eA]];1a f=g[a[1m]];1a m=g[a[2tf]];1a d=-1;1a j,n;1a b;1a h;b=o[a[cA]](f);if(l(b)){1d};n=o[a[1z]][a[59]];if(m){1i(j=b[a[1n]]+1;j<n;j++){b=i[j];d=b[a[1n]];if(b&&(!bn(b[a[171]])||b[a[171]][a[iH]]!==1g)){1l}}}1e{1i(j=b[a[1n]]-1;j>=0;j--){b=i[j];d=b[a[1n]];if(b&&(!bn(b[a[171]])||b[a[171]][a[iH]]!==1g)){1l}}};h=k[d];if(l(h)){1d};h[a[p8]]()},17Y:1c(b,n){1a k=1b;1a d=b[a[1m]];1a g=k[a[6Z]];1a o;1a r=[];1a i=1g;1a f=1g;1a p=1g;1a h;if(l(k[a[4D]][d])||k[a[4D]][d][a[59]]<=0||k[a[6T]]){k[a[iF]](b,1f)};o=k[a[4D]][d];if(l(o)){1d[]};h=1j X();if(b[a[171]]){if(b[a[171]][a[mz]]===1f){f=1f};if(b[a[171]][a[2te]]===1f){p=1f}};if(p){1a q=n[a[54]](/[\\&|]+/);1a j=n[a[37]](/[\\&|]+/g);if(bi(q)&&q[a[59]]>1){r=cd[a[cv]](o,1c(l,r){1a p=r;1a o=[];1a n=1g;1a b;if(f&&!m(k[a[6P]][d])){b=k[a[6P]][d];p=b[r]};if(g==p){p=a[177]};if(bi(q)){cd[a[1q]](q,1c(d,f){1a g=1E(f);1a b=g[a[19]](a[17X])==0?1f:1g;if(b){g=g[a[60]](1,g[a[59]]-1)};if(g!=a[58]){o[d]=h[a[kI]](p,g,i);if(b){o[d]=!o[d]}}1e{o[d]=o[d-1]}})};if(bi(j)&&j[a[59]]+1==o[a[59]]){cd[a[1q]](j,1c(b,d){1a f=o[b];1a g=o[b+1];if(d==a[2tc]){n=o[b+1]=f&&g}1e{if(d==a[2td]){n=o[b+1]=f||g}}})};1d n})}1e{r=cd[a[cv]](o,1c(l,q){1a p=q;1a o=1g;1a r=1E(n);1a j=r[a[19]](a[17X])==0?1f:1g;1a b;if(j){r=r[a[60]](1,r[a[59]]-1)};if(f&&!m(k[a[6P]][d])){b=k[a[6P]][d];p=b[q]};if(g==p){p=a[177]};o=h[a[kI]](p,r,i);if(j){o=!o};1d o})}}1e{r=cd[a[cv]](o,1c(j,o){1a l=o;1a b;if(f&&!m(k[a[6P]][d])){b=k[a[6P]][d];l=b[o]};if(g==l){l=a[177]};1d h[a[kI]](l,n,i)})};1d r},17V:1c(b){1a d=b[a[78]];d[a[Ig]](b[a[1m]])},17W:1c(f){1a g=f[a[78]];1a d=f[a[1m]];1a b=f[a[1n]];if(bl(b)||b===-1){b=g[a[6l]](d)};if(g[a[3g]]){g[a[pb]](b,0)}},18b:1h,18c:1h,18h:1h,18i:1h,18g:1c(){1a h=1b;1a j;1a b;1a f,g,i;1a m;1a d=0;1a k;if(l(h[a[4F]])||l(h[a[4F]][a[5L]])){1d};if(l(h[a[9l]])){b=h[a[4F]][a[5L]];h[a[9l]]=1j O();h[a[jE]](h[a[9l]]);j=h[a[9l]];j[a[139]][a[144]]=h;r(j[a[139]],a[2h],h[a[18S]]);r(j[a[139]],a[ja],h[a[18X]]);j[a[202]](a[165],a[18z]);j[a[150]](a[183],a[184]);i=[a[2tJ]];if(b[a[3W]]==a[4t]){if(h[a[1Q]]){m=h[a[vs]][a[222]](0,8)}1e{m=h[a[vs]]}}1e{m=h[a[yX]]};1i(f=0,g=m[a[59]];f<g;f++){k=m[f];k=cd[a[qc]](k);if(k==a[hd]){i[i[a[59]]]=a[2tK]}1e{if(k==a[58]||k==1h){d++}1e{i[i[a[59]]]=a[2uj]+d+a[3C]+k+a[aj];d++}}};i[i[a[59]]]=a[rA];j[a[139]][a[44]]=i[a[61]](a[58]);h[a[3Q]][a[185]](j[a[139]]);j=1h};h[a[9l]][a[213]](1f);1d h[a[9l]]},18f:1c(f){1a g=1b[a[144]];1a h=f[a[77]];1a d=h[a[163]](a[2uk]);1a b;if(g[a[4F]]&&g[a[4F]][a[5L]]){b=g[a[4F]][a[5L]]}1e{1d};g[a[e6]](1f);if(b[a[3W]]==a[4t]&&d>=7){g[a[2ul]](b,1o(d));1d};g[a[2ug]](b,d)},18d:1c(d){1a k=1b[a[144]];1a i,j;1a f;1a h;1a n=k[a[3q]];1a g;1a m;1a b=1c(){k[a[2uc]]();if(l(k[a[9l]])){1d};k[a[9A]][a[180]](a[18T]);g=k[a[4L]][a[139]][a[3O]]*n;i=cd[a[99]](k[a[4L]][a[139]],1)+g-1;j=cd[a[105]](k[a[9A]][a[139]],1);f=cd[a[tx]](k[a[127]],k[a[129]],k[a[139]],n);m=k[a[9l]][a[139]][a[3O]]*n;if(i+m-1>f[a[130]]){i=i-g-m+2};if(k[a[hr]]){h=cd[a[wr]](i,j,k[a[3Q]],n);if(k[a[3Q]][a[103]]>0){h[a[130]]+=k[a[3Q]][a[103]]};i=h[a[130]];j=h[a[131]]};k[a[9l]][a[134]](i,j)};if(d[a[85]]==a[2h]){b();1d};if(k[a[po]]!==1h){a7(k[a[po]]);k[a[po]]=1h};k[a[po]]=8A(1c(){b()},aH)},18e:1c(f){1a h=1b[a[144]];1a d=f[a[96]]||f[a[98]]||{};1a g=1g;1a b=1c(){g=cd[a[K1]](d,a[18z]);if(!g){h[a[Bj]](1)}};if(h[a[po]]!==1h){a7(h[a[po]]);h[a[po]]=1h};if(h[a[nq]]!==1h){a7(h[a[nq]]);h[a[nq]]=1h};h[a[nq]]=8A(1c(){b()},aH)},18A:1c(f){1a h=1b[a[144]];1a d=f[a[96]]||f[a[98]]||{};1a g=1g;if(cd[a[K1]](d,a[18V])){1d};1a b=1c(){g=cd[a[K1]](d,a[18W]);if(g){h[a[Bj]](2)}};if(h[a[nq]]!==1h){a7(h[a[nq]]);h[a[nq]]=1h};if(h[a[Bk]]!==1h){a7(h[a[Bk]]);h[a[Bk]]=1h};h[a[Bk]]=8A(1c(){b()},aH)},18U:1c(b){1a d=1b;if(!l(d[a[9l]])){d[a[9l]][a[213]](1g)};if(!l(d[a[9A]])){d[a[9A]][a[181]](a[18T])}},18R:1c(){1a b=1b;if(!l(b[a[9l]])){if(b[a[9l]][a[139]][a[95]]!==1h){b[a[9l]][a[139]][a[95]][a[188]](b[a[9l]][a[139]])};bA(b[a[9l]][a[139]],a[2h],b[a[18S]]);bA(b[a[9l]][a[139]],a[ja],b[a[18X]]);b[a[9l]][a[132]]()};b[a[9l]]=1h},18Y:1c(b,d){1a g=1b;1a f=g[a[3q]];g[a[4W]]=1j T(a[2um]);if(f!=1){g[a[4W]][a[150]]({kw:a[CE]+f+a[173]})}1e{g[a[4W]][a[150]]({kw:a[192]})};g[a[4W]][a[yX]]=g[a[yX]];g[a[4W]][a[vs]]=g[a[vs]];g[a[4W]][a[yO]]=g[a[yO]];g[a[4W]][a[zw]]=g[a[zw]];g[a[4W]][a[J0]]=g[a[J0]];g[a[4W]][a[IY]]=g[a[IY]];g[a[4W]][a[Jz]]=g[a[Jz]];g[a[4W]][a[JC]]=g[a[JC]];g[a[4W]][a[JG]]=g[a[JG]];r(g[a[4W]],a[zo],g[a[M8]],g);r(g[a[4W]],a[z3],g[a[yN]],g);g[a[4W]][a[5L]]=b;g[a[4W]][a[zh]]=d;g[a[4W]][a[135]]();g[a[3Q]][a[185]](g[a[4W]][a[139]])},19d:1c(f,k){1a n=1b;1a j;1a i=f[a[1m]];1a d=n[a[2O]];1a h;1a l=n[a[8B]];1a o;1a b,p=0,g=0;1a m;h=n[a[6l]](i);if(h<0){1d};if(n[a[2un]]){j=n[a[vJ]](i)}1e{j=n[a[2U]]};if(k==7){o=cd[a[Jg]][a[21]](j,i)[a[222]](0,10);n[a[2n]][i]=cd[a[9v]](o,i)}1e{if(k==8||k==9){cd[a[1q]](j,1c(a,d){1a b=1o(d[i]);if(!1D(b)){p+=b;g++}});b=p/g;m={};if(k==8){cd[a[1q]](j,1c(a,f){1a d=1o(f[i]);if(!1D(d)&&d>b){m[d]=1}})}1e{cd[a[1q]](j,1c(a,f){1a d=1o(f[i]);if(!1D(d)&&d<b){m[d]=1}})};n[a[2n]][i]=m}1e{1d}};n[a[3N]][f[d]]=1f;if(f[a[171]]&&f[a[171]][a[hI]]){l[h][a[7N]](1f)};n[a[dp]]=1f;n[a[aX]]()},19c:1c(m){1a u=m[a[78]];1a b=u[a[2O]];1a h=m[a[zh]];1a i=1E(m[a[2uw]])[a[178]]()[a[13]]();1a k=m[a[2ux]];1a j=1E(m[a[2uo]])[a[178]]()[a[13]]();1a s=m[a[1jh]];1a g=m[a[1m]];1a t=1g;1a d=u[a[cA]](g);1a f;1a r=u[a[8B]];1a w=u[a[z7]](d);1a v;u[a[h8]]=cd[a[9v]](w);if(l(u[a[4D]][g])||u[a[4D]][g][a[59]]<=0){u[a[iF]](d,1f)};v=u[a[4D]][g];if(!u[a[3N]]){u[a[3N]]={}};if(!u[a[2n]]){u[a[2n]]={}};if(!l(u[a[4W]])){if(u[a[4W]][a[139]][a[95]]!==1h){u[a[4W]][a[139]][a[95]][a[188]](u[a[4W]][a[139]])};bA(u[a[4W]],a[zo],u[a[M8]]);bA(u[a[4W]],a[z3],u[a[yN]]);u[a[4W]][a[132]]();u[a[4W]]=1h};if(l(h)||l(d)){1d};f=u[a[6l]](g);if(f<0||!u[a[6n]]){1d};if(k!=-1){t=1f};if(d[a[3W]]==a[4t]){if(t){u[a[2n]][g]=o(g,h,i,k,j,s)}1e{u[a[2n]][g]=n(g,h,i)}}1e{if(t){u[a[2n]][g]=q(g,h,i,k,j,s)}1e{u[a[2n]][g]=p(g,h,i)}};if(cd[a[1ny]](u[a[h8]],u[a[2n]][g])){u[a[2n]][g]=0;u[a[3N]][d[b]]=1g;if(d[a[171]]&&d[a[171]][a[hI]]){r[f][a[7N]](1g)}}1e{u[a[3N]][d[b]]=1f;if(d[a[171]]&&d[a[171]][a[hI]]){r[f][a[7N]](1f)}};u[a[we]](f);u[a[dp]]=1f;u[a[aX]]();1c p(f,g,h){1a b=v;1a n;1a m;1a l={};1a k;1a o;1a i,j;if(h==a[58]){h=u[a[6Z]]};if(d[a[171]][a[mz]]===1f){m=[];n=u[a[6P]][f];1i(i=0,j=b[a[59]];i<j;i++){m[i]=n[b[i]]}}1e{m=b};4v(g){1C 0:k=1c(b,a){1d b==a};1l;1C 1:k=1c(b,a){1d b!=a};1l;1C 2:k=1c(d,b){1d d[a[19]](b)==0};1l;1C 3:k=1c(d,b){1d d[a[60]](d[a[59]]-b[a[59]],b[a[59]])==b};1l;1C 4:k=1c(d,b){1d d[a[19]](b)>=0};1l;1C 5:k=1c(d,b){1d d[a[19]](b)==-1};1l;4w:1d 0};1i(i=0,j=b[a[59]];i<j;i++){o=1E(m[i])[a[13]]();if(k(o,h)){l[b[i]]=1}};1d l}1c q(f,g,h,j,i,l){1a b=v;1a q;1a r;1a p={};1a n,o;1a s;1a k,m;if(d[a[171]][a[mz]]===1f){q=[];r=u[a[6P]][f];1i(k=0,m=b[a[59]];k<m;k++){q[k]=r[b[k]]}}1e{q=b};if(h==a[58]){h=u[a[6Z]]};if(i==a[58]){i=u[a[6Z]]};4v(g){1C 0:n=1c(b,a){1d b==a};1l;1C 1:n=1c(b,a){1d b!=a};1l;1C 2:n=1c(d,b){1d d[a[19]](b)==0};1l;1C 3:n=1c(d,b){1d d[a[60]](d[a[59]]-b[a[59]],b[a[59]])==b};1l;1C 4:n=1c(d,b){1d d[a[19]](b)>=0};1l;1C 5:n=1c(d,b){1d d[a[19]](b)==-1};1l;4w:1d 0};4v(j){1C 0:o=1c(b,a){1d b==a};1l;1C 1:o=1c(b,a){1d b!=a};1l;1C 2:o=1c(d,b){1d d[a[19]](b)==0};1l;1C 3:o=1c(d,b){1d d[a[60]](d[a[59]]-b[a[59]],b[a[59]])==b};1l;1C 4:o=1c(d,b){1d d[a[19]](b)>=0};1l;1C 5:o=1c(d,b){1d d[a[19]](b)==-1};1l;4w:1d 0};if(l){1i(k=0,m=b[a[59]];k<m;k++){s=1E(q[k])[a[13]]();if(n(s,h)&&o(s,i)){p[b[k]]=1}}}1e{1i(k=0,m=b[a[59]];k<m;k++){s=1E(q[k])[a[13]]();if(n(s,h)||o(s,i)){p[b[k]]=1}}};1d p}1c n(d,f,g){1a b=v;1a k={};1a j;1a l;1a h,i;g=1o(g);4v(f){1C 0:j=1c(b,a){1d b==a};1l;1C 1:j=1c(b,a){1d b!=a};1l;1C 2:j=1c(b,a){1d b>a};1l;1C 3:j=1c(b,a){1d b>=a};1l;1C 4:j=1c(b,a){1d b<a};1l;1C 5:j=1c(b,a){1d b<=a};1l;4w:1d 0};1i(h=0,i=b[a[59]];h<i;h++){l=1o(b[h]);if(j(l,g)){k[b[h]]=1}};1d k}1c o(d,f,g,i,h,k){1a b=v;1a o={};1a m,n;1a p;1a j,l;g=1o(g);h=1o(h);4v(f){1C 0:m=1c(b,a){1d b==a};1l;1C 1:m=1c(b,a){1d b!=a};1l;1C 2:m=1c(b,a){1d b>a};1l;1C 3:m=1c(b,a){1d b>=a};1l;1C 4:m=1c(b,a){1d b<a};1l;1C 5:m=1c(b,a){1d b<=a};1l;4w:1d 0};4v(i){1C 0:n=1c(b,a){1d b==a};1l;1C 1:n=1c(b,a){1d b!=a};1l;1C 2:n=1c(b,a){1d b>a};1l;1C 3:n=1c(b,a){1d b>=a};1l;1C 4:n=1c(b,a){1d b<a};1l;1C 5:n=1c(b,a){1d b<=a};1l;4w:1d 0};if(k){1i(j=0,l=b[a[59]];j<l;j++){p=1o(b[j]);if(m(p,g)&&n(p,h)){o[b[j]]=1}}}1e{1i(j=0,l=b[a[59]];j<l;j++){p=1o(b[j]);if(m(p,g)||n(p,h)){o[b[j]]=1}}};1d o}},19b:1c(b){1a d=b[a[78]];if(!l(d[a[4W]])){if(d[a[4W]][a[139]][a[95]]!==1h){d[a[4W]][a[139]][a[95]][a[188]](d[a[4W]][a[139]])};bA(d[a[4W]],a[zo],d[a[M8]]);bA(d[a[4W]],a[z3],d[a[yN]]);d[a[4W]][a[132]]();d[a[4W]]=1h};if(b[a[2ur]]!==1f){d[a[6B]]()}},18Z:1c(b){1a d=1b;d[a[yN]]({ts:1b,zA:b})},19a:1c(){1a s=1b;1a v=s[a[sj]];1a w=s[a[2ua]]();1a u=s[a[eT]];1a f=s[a[1z]];1a g=s[a[2N]];1a A=s[a[5g]];1a B=A[a[7Y]];1a k=s[a[f7]];1a n=[];1a m;1a b=y[a[2]];1a t=s[a[6T]];1a p=s[a[aQ]];1a d;1a o,q,z,x,h;s[a[8B]]=[];s[a[kN]]=[];s[a[b6]]=[];s[a[ia]]=[];s[a[hp]]={};s[a[o3]]={};s[a[mp]]=[];s[a[eA]]=[];s[a[kl]]=1h;s[a[iT]]=1j bS(a[r8]);s[a[s5]]=1j bU();s[a[s5]][a[199]](a[169],a[qG]);s[a[iT]][a[210]](s[a[s5]],1f);s[a[tF]]=1j ca();s[a[iT]][a[210]](s[a[tF]],1f);s[a[mU]]=1j cb();s[a[mU]][a[199]](a[169],a[qJ]);1i(o=0,q=f[a[59]];o<q;o++){d=f[o];z=1j bZ();if(d[a[2q]]===1g){z[a[213]](1g)};z[a[133]](g[o],0);s[a[ia]][o]=z;s[a[mU]][a[210]](z,1f)};s[a[tF]][a[210]](s[a[mU]],1f);s[a[p5]]=1j bT();s[a[iT]][a[210]](s[a[p5]],1f);1i(o=0;o<k;o++){m=1j cb();m[a[195]](s[a[m5]](o+1));s[a[p5]][a[210]](m,1f);n[o]=m};s[a[kN]]=n;i(B);if(v&&bi(u)){if(s[a[18Q]]){cd[a[1q]](u,1c(a,b){i(b)})}1e{i(u)}};if(t){s[a[kl]]=1j cb(a[18C]);1i(o=0,q=f[a[59]];o<q;o++){x=1j bV();h=1j bh(a[2tU]);r(h,a[L7],s[a[Ty]],s);r(h,a[JE],s[a[SF]],s);r(h,a[Ku],s[a[Ss]],s);r(h,a[Le],s[a[SA]],s);h[a[1w]]=f[o];h[a[Gd]]=s[a[2tV]];x[a[210]](h,1f);s[a[mp]][a[1s]](x);s[a[eA]][a[1s]](h);s[a[kl]][a[210]](x,1f)};s[a[kl]][a[195]](p);s[a[p5]][a[210]](s[a[kl]],1f)};s[a[ku]][a[210]](s[a[iT]],1f);if(s[a[jN]]){s[a[jn]]()};1c i(d){1a k;1a m;1a g;1i(1a f=0,h=d[a[59]];f<h;f++){g=d[f];k=j(g,w,b);m=n[g[a[2x]]-1];m[a[210]](k,1f);if(!l(g[a[1p]])){i(g[a[1p]])}}}1c j(m,i,b){1a j=1j bV();1a d=s[a[2O]];1a h;1a g;1a f;j[a[139]][a[hT]]=m[d];f=s[a[2u5]](m);j[a[210]](f,1f);if(s[a[6n]]&&m[a[171]]&&m[a[171]][a[u9]]!==1g){f[a[6n]]=1f;if(s[a[3N]][m[d]]){f[a[7N]](1f)}1e{f[a[7N]](1g)}}1e{f[a[6n]]=1g};f[a[1t]]=m;f[a[1B]]=l(m[a[2a]])?m[a[1m]]:1E(m[a[2a]])[a[178]]()==a[58]?a[58]:m[a[2a]];f[a[150]]({yU:a[4G],aC:a[9M],HW:a[zg]});f[a[135]]();h=k-i-m[a[2x]]+1;g=m[a[8a]]-1;if(h>1&&g==0){if(!(!l(m[a[1p]])&&m[a[1p]][a[59]]<=1)){j[a[199]](a[7e],h);m[a[2u6]]=h}};if(g>0){j[a[199]](a[2T],m[a[8a]]);m[a[2u7]]=m[a[8a]]};if(m[a[8a]]==1&&!m[a[7q]]){j[a[139]][a[144]]=s;j[a[202]](a[165],a[Rz]);r(j[a[139]],a[2i],s[a[mQ]]);r(j[a[139]],a[2h],s[a[JU]]);if(b){r(j[a[139]],a[2X],s[a[mQ]])};if(!l(m[a[2T]])){if(m[a[2T]]==-1){j[a[213]](1g)}1e{j[a[199]](a[2T],m[a[2T]]);j[a[213]](1f,a[58])}};s[a[8B]][a[1s]](f);s[a[b6]][a[1s]](j)}1e{j[a[139]][a[144]]=s;j[a[202]](a[165],a[2u8]);r(j[a[139]],a[2i],s[a[mQ]]);r(j[a[139]],a[2h],s[a[To]]);if(b){r(j[a[139]],a[2X],s[a[mQ]])};s[a[hp]][m[d]]=j;s[a[o3]][m[d]]=f};if(!l(m[a[dl]])){j[a[180]](m[a[dl]])};1d j}},18P:1c(){1a g=1b;1a f=g[a[qn]];1a d;1a b=[a[ka],a[8n],a[cO],a[7A]];g[a[u6]]={};if(!bi(f)){f=g[a[qn]]=[]};d={Fu:g[a[18F]],vZ:g[a[uM]],Fx:g[a[18G]],Ic:g[a[18E]]};cd[a[1q]](b,1c(b,h){if(f[a[19]](h)==-1){f[a[1s]](h)};g[a[u6]][h]=d[h]})},18D:1c(){1a k=1b;1a h=k[a[f7]];1a j=k[a[aQ]];1a f,g;1a o,n;k[a[p2]]=[];k[a[dY]]=[];k[a[lC]]=[];k[a[hc]]=[];k[a[jL]]=[];k[a[eQ]]=1h;k[a[dQ]]=1j bS(a[r8]);k[a[tU]]=1j bU();k[a[tU]][a[199]](a[169],a[qG]);k[a[dQ]][a[210]](k[a[tU]],1f);k[a[un]]=1j ca();k[a[dQ]][a[210]](k[a[un]],1f);if(l(k[a[u6]])){k[a[2u3]]()};f=k[a[qn]];g=k[a[u6]];if(h<=0){1d};k[a[k1]]=1j cb();k[a[k1]][a[199]](a[169],a[qJ]);cd[a[1q]](f,1c(d,h){1a f;1a b=g[h];if(!m(b)&&k[h]===1f){f=1j bZ();f[a[133]](b,0);k[a[p2]][a[1s]](f);k[a[k1]][a[210]](f,1f)}});k[a[un]][a[210]](k[a[k1]],1f);k[a[oj]]=1j bT();k[a[dQ]][a[210]](k[a[oj]],1f);1i(1a i=0;i<h;i++){o=1j cb();o[a[195]](k[a[m5]](i+1));k[a[oj]][a[210]](o,1f);k[a[dY]][i]=o};cd[a[1q]](f,1c(a,b){d(b)});1c d(i){1a j,d;1a f=g[i];if(i==a[ka]&&k[a[ka]]){j=1j bV(a[2tZ]);if(h>1){j[a[199]](a[7e],h)};k[a[dY]][0][a[210]](j,1f);d=1j b();d[a[1w]]={};j[a[210]](d,1f);d[a[150]]({aC:a[9M],9d:0});d[a[194]](f);d[a[195]](1);k[a[lC]][a[1s]](d);k[a[hc]][a[1s]](j)}1e{if(i==a[8n]&&k[a[8n]]){j=1j bV(a[2tY]);j[a[139]][a[144]]=k;j[a[Ua]]=1f;r(j[a[139]],a[2h],k[a[Uz]]);if(h>1){j[a[199]](a[7e],h)};k[a[dY]][0][a[210]](j,1f);d=1j b();d[a[1w]]={};j[a[210]](d,1f);d[a[150]]({aC:a[9M],HW:a[zg],yU:a[4G],9d:a[2u0]});d[a[194]](f-4);if(!m(k[a[ER]])){d[a[1B]]=k[a[ER]];d[a[135]]()}1e{d[a[195]](1)};k[a[lC]][a[1s]](d);k[a[hc]][a[1s]](j)}1e{if(i==a[cO]&&k[a[cO]]){j=1j bV(a[2u1]);if(h>1){j[a[199]](a[7e],h)};k[a[dY]][0][a[210]](j,1f);d=1j b();d[a[1w]]={};j[a[210]](d,1f);d[a[150]]({aC:a[9M],9d:0});d[a[194]](f);d[a[195]](1);k[a[lC]][a[1s]](d);k[a[hc]][a[1s]](j)}1e{if(i==a[7A]&&k[a[7A]]){j=1j bV(a[2u2]);if(h>1){j[a[199]](a[7e],h)};k[a[dY]][0][a[210]](j,1f);k[a[9h]]=1j bs(a[gO]);k[a[9h]][a[2e]][a[139]][a[144]]=k;j[a[210]](k[a[9h]],1f);if(k[a[fH]]){j[a[214]](k[a[18B]]);k[a[9h]][a[213]](1g)}1e{if(k[a[2tO]]){k[a[9h]][a[213]](1f);k[a[9h]][a[202]](a[5d],k[a[7c]])}1e{j[a[214]](k[a[18B]]);k[a[9h]][a[213]](1g)}};r(k[a[9h]][a[2e]][a[139]],a[2h],k[a[V5]]);k[a[hc]][a[1s]](j)}}}}}if(k[a[6T]]){k[a[eQ]]=1j cb(a[18C]);if(k[a[ka]]){n=1j bV(a[zi]);k[a[eQ]][a[210]](n,1f);k[a[jL]][a[1s]](n)};if(k[a[8n]]){n=1j bV(a[zi]);k[a[eQ]][a[210]](n,1f);k[a[jL]][a[1s]](n)};if(k[a[cO]]){n=1j bV(a[zi]);k[a[eQ]][a[210]](n,1f);k[a[jL]][a[1s]](n)};if(k[a[7A]]){n=1j bV(a[zi]);k[a[eQ]][a[210]](n,1f);k[a[jL]][a[1s]](n)};k[a[eQ]][a[195]](j);k[a[oj]][a[210]](k[a[eQ]],1f)};k[a[ld]][a[210]](k[a[dQ]],1f)},18H:1c(){1a A=1b;1a J=A[a[5g]];1a K=J[a[7Y]];1a d=A[a[2O]];1a H,F,G,o;1a k=A[a[2N]];1a j=A[a[1z]];1a g=j[a[59]];1a p=A[a[2o]];1a s=A[a[8B]];1a q=A[a[o3]];1a u=A[a[ia]];1a t=A[a[b6]];1a r;1a f;1a h,i;1a v,M;1a L,n,C,y;1a N=0;1a O=0;1a b=W[a[2k]][a[5N]];1a z=a[qp]+b+a[149];1a E=a[2T];1a D=a[58];1a m=1;1a I=A[a[6o]]();1a B=A[a[6T]];1a x=A[a[mp]];1a w=A[a[eA]];if(!A[a[iT]]){1d};O+=A[a[9Q]]();1i(v=0;v<g;v++){H=u[v];F=t[v];f=j[v];L=k[v];if(H){if(f[a[2q]]===1g){H[a[213]](1g)}1e{H[a[213]](1f,D)};H[a[194]](L)};if(F){if(f[a[2q]]===1g){if(F[a[200]](E)){F[a[201]](E)};F[a[213]](1g)}1e{F[a[213]](1f,D)}};if(B){o=x[v];if(f[a[2q]]===1g){o[a[213]](1g)}1e{o[a[213]](1f,D)}}};1i(v=0;v<g;v++){f=j[v];F=t[v];L=k[v];if(f[a[2q]]===1g){if(F[a[200]](E)){F[a[201]](E)};F[a[213]](1g);1u};n=L-b*2;if(B){o=w[v];o[a[194]](L);o[a[135]]()};if(f[a[2T]]&&1o(f[a[2T]])>1){h=1o(f[a[2T]]);i=h;C=L;m=1;1i(M=f[a[1n]]+1;M<g;M++){G=t[M];if(j[M][a[2q]]===1g){if(m>=h){1l};m++;i--;if(G){if(G[a[200]](E)){G[a[201]](E)};G[a[213]](1g)};1u};if(m>=h){1l};m++;C+=k[M];if(G){if(G[a[200]](E)){G[a[201]](E)};G[a[213]](1g)}};F[a[199]](E,i);F[a[213]](1f,D);n=C-b*2};r=s[v];if(n<=0){n=0;r[a[150]](a[9j],a[215])}1e{r[a[150]](a[9j],z)};y=A[a[6o]](f[a[2x]]-1);r[a[tI]]=y;f[a[vh]]=I-y;r[a[fY]]=f[a[vh]];r[a[1B]]=l(f[a[2a]])?f[a[1m]]:1E(f[a[2a]])[a[178]]()==a[58]?a[58]:f[a[2a]];r[a[1t]]=f;r[a[194]](n);r[a[135]]();if(p<=v){N+=L;r[a[Qx]](N-L)}1e{if(p>v){O+=L;r[a[Qx]](O-L)}}};cd[a[1q]](q,1c(g,m){1a f,n,h;1a j=0;1a i;f=A[a[5Z]](g,d,K);if(!f){1d};1i(n=1k[a[1F]](0,f[a[1n]]),h=1k[a[1A]](k[a[59]],n+f[a[8a]]);n<h;n++){j+=k[n]};j-=b*2;if(j<0){j=0};i=A[a[6o]](f[a[2x]]-1);m[a[tI]]=i;f[a[vh]]=A[a[6o]](f[a[2x]])-i;m[a[fY]]=f[a[vh]];m[a[1t]]=f;m[a[194]](j);m[a[1B]]=l(f[a[2a]])?f[a[1m]]:1E(f[a[2a]])[a[178]]()==a[58]?a[58]:f[a[2a]];m[a[135]]()});if(A[a[jN]]){A[a[jn]]()}},18I:1c(){1a o=1b;1a p=o[a[6T]];1a j,d;1a m;1a f;1a g;1a b;1a k;1a i;o[a[1gd]]();o[a[D3]]();if(!l(o[a[dQ]])){o[a[1ge]]();o[a[VJ]]()};if(l(o[a[dQ]])&&(o[a[fy]]>0||o[a[2o]]>0)){o[a[w2]]()};m=o[a[dY]];f=o[a[b6]];g=o[a[ia]];k=o[a[eQ]];i=o[a[mp]];b=o[a[1z]];if(l(o[a[mT]])){o[a[mT]]={}};if(l(o[a[mJ]])){o[a[mJ]]={}};1i(1a h=0,n=o[a[fy]];h<n;h++){j=b[h];d=j[a[2x]];o[a[k1]][a[210]](g[h],1f);if(d>1){o[a[uT]](j)};m[d-1][a[210]](f[h],1f);if(p){k[a[210]](i[h],1f)}};o[a[18N]]();o[a[nx]]=1f;o[a[yK]]();o[a[sx]]()},18O:1c(b){1a g=1b;1a f;1a d;if(b&&b[a[4s]]&&b[a[4s]][a[85]]){f=1E(b[a[4s]][a[85]])[a[13]]()};if(f==a[xt][a[13]]()){d=1j Z()}1e{if(f==a[2tQ][a[13]]()){d=1j Y()}1e{if(f==a[2tR][a[13]]()){d=1j ba();d[a[4U]]=g;d[a[pp]]=g[a[3Q]];d[a[rW]]=g[a[hr]];d[a[hA]]=g[a[hA]];d[a[3q]]=g[a[3q]];g[a[w9]]=1f}1e{d=1j bb()}}};if(b[a[8a]]==1&&!b[a[7q]]){r(d,a[Ql],g[a[18K]],g);r(d,a[Qk],g[a[1eh]],g)};r(d,a[E9],g[a[Hx]],g);r(d,a[Em],g[a[PS]],g);r(d,a[r0],g[a[Hw]],g);1d d},18M:1c(d){1a h=1b;1a g=d[a[4s]];1a f=h[a[8B]][d[a[1n]]];1a k,j;1a b;if(d[a[7q]]||l(f)||l(g)){1d};if(g[a[85]]==a[xt]&&g[a[Nr]]===1f&&i(f[a[qU]])){k=h[a[Go]](d[a[1m]],1f);if(k[a[59]]>=2){f[a[1kf]]()}1e{if(k[a[59]]==1){j=k[0];if(d[a[1G]]&&!l(d[a[1G]][a[dz]])&&!l(d[a[1G]][a[jP]])){b=d[a[1G]][a[dz]]}1e{b=1f};if(j[a[22]]()===b[a[22]]()){f[a[qU]](1f)}1e{f[a[qU]](1g)}}1e{f[a[qU]](1g)}}}},18L:1c(){1a j=1b;1a d=j[a[1z]];1a b,f,i;if(j[a[1x]][a[59]]>0&&j[a[nJ]]){1i(1a g=0,h=d[a[59]];g<h;g++){b=d[g];f=b[a[4s]];i=b[a[1G]];if(f&&f[a[85]]==a[xt]&&i&&i[a[85]]==a[me]&&f[a[Nr]]===1f){j[a[2tT]](b)}}}},18J:1c(f){1a d=1b;1a b=y[a[2]];if(d[a[8B]]){cd[a[1q]](d[a[8B]],1c(b,g){bA(g,a[Ql],d[a[18K]]);bA(g,a[Qk],d[a[1eh]]);bA(g,a[E9],d[a[Hx]]);bA(g,a[Em],d[a[PS]]);bA(g,a[r0],d[a[Hw]]);g[a[132]](f);d[a[8B]][b]=1h})};d[a[8B]]=1h;if(d[a[b6]]){cd[a[1q]](d[a[b6]],1c(g,h){h[a[139]][a[hT]]=1h;bA(h[a[139]],a[2i],d[a[mQ]]);if(b){bA(h[a[139]],a[2X],d[a[mQ]])};bA(h[a[139]],a[2h],d[a[JU]]);h[a[132]](f);d[a[b6]][g]=1h})};d[a[b6]]=1h;if(d[a[o3]]){cd[a[1q]](d[a[o3]],1c(b,g){g[a[139]][a[hT]]=1h;bA(g,a[E9],d[a[Hx]]);bA(g,a[Em],d[a[PS]]);bA(g,a[r0],d[a[Hw]]);g[a[132]](f)})};d[a[o3]]=1h;if(d[a[hp]]){cd[a[1q]](d[a[hp]],1c(g,h){h[a[139]][a[hT]]=1h;bA(h[a[139]],a[2i],d[a[mQ]]);if(b){bA(h[a[139]],a[2X],d[a[mQ]])};bA(h[a[139]],a[2h],d[a[To]]);h[a[132]](f)})};d[a[hp]]=1h;if(d[a[mJ]]){cd[a[1q]](d[a[mJ]],1c(b,d){if(d){d[a[139]][a[hT]]=1h;d[a[132]](f)}})};d[a[mJ]]=1h;if(d[a[mT]]){cd[a[1q]](d[a[mT]],1c(b,d){if(d){d[a[139]][a[hT]]=1h;d[a[132]](f)}})};d[a[mT]]=1h;if(d[a[mp]]){cd[a[1q]](d[a[mp]],1c(b,g){if(g){bA(g,a[L7],d[a[Ty]]);bA(g,a[JE],d[a[SF]]);bA(g,a[Ku],d[a[Ss]]);bA(g,a[Le],d[a[SA]]);g[a[132]](f)}})};d[a[mp]]=1h;if(d[a[eA]]){cd[a[1q]](d[a[eA]],1c(b,d){if(d){d[a[132]](f)}})};d[a[eA]]=1h;if(d[a[ia]]&&d[a[ia]][a[59]]){cd[a[1q]](d[a[ia]],1c(b,g){g[a[132]](f);d[a[ia]][b]=1h})};d[a[ia]]=1h;if(d[a[mU]]){d[a[mU]][a[132]](f)};d[a[mU]]=1h;if(!l(d[a[tF]])){d[a[tF]][a[132]](f)};d[a[tF]]=1h;if(d[a[kN]]){cd[a[1q]](d[a[kN]],1c(b,g){g[a[132]](f);d[a[kN]][b]=1h})};d[a[kN]]=1h;if(d[a[kl]]){d[a[kl]][a[132]](f)};d[a[kl]]=1h;if(!l(d[a[p5]])){d[a[p5]][a[132]](f)};d[a[p5]]=1h;if(!l(d[a[s5]])){d[a[s5]][a[132]](f)};d[a[s5]]=1h;if(!l(d[a[iT]])){d[a[iT]][a[132]](f)};d[a[iT]]=1h},UE:1c(d){1a b=1b;if(b[a[9h]]){bA(b[a[9h]][a[2e]][a[139]],a[2h],b[a[V5]]);b[a[9h]][a[132]](d)};b[a[9h]]=1h;if(b[a[lC]]){cd[a[1q]](b[a[lC]],1c(f,g){g[a[132]](d);b[a[lC]][f]=1h})};b[a[lC]]=1h;if(b[a[p2]]&&b[a[p2]][a[59]]){cd[a[1q]](b[a[p2]],1c(f,g){g[a[132]](d);b[a[p2]][f]=1h})};b[a[p2]]=1h;if(b[a[hc]]&&b[a[hc]][a[59]]){cd[a[1q]](b[a[hc]],1c(f,g){if(b[a[8n]]&&g[a[Ua]]===1f){bA(g[a[139]],a[2h],b[a[Uz]]);g[a[139]][a[144]]=1h};g[a[132]](d);b[a[hc]][f]=1h})};b[a[hc]]=1h;if(b[a[jL]]&&b[a[jL]][a[59]]){cd[a[1q]](b[a[jL]],1c(b,f){f[a[132]](d)})};b[a[jL]]=1h;if(b[a[eQ]]){b[a[eQ]][a[132]](d)};b[a[eQ]]=1h;if(b[a[k1]]){b[a[k1]][a[132]](d)};b[a[k1]]=1h;if(!l(b[a[un]])){b[a[un]][a[132]](d)};b[a[un]]=1h;if(b[a[dY]]){cd[a[1q]](b[a[dY]],1c(f,g){g[a[132]](d);b[a[dY]][f]=1h})};b[a[dY]]=1h;if(!l(b[a[oj]])){b[a[oj]][a[132]](d)};b[a[oj]]=1h;if(!l(b[a[tU]])){b[a[tU]][a[132]](d)};b[a[tU]]=1h;if(!l(b[a[dQ]])){b[a[dQ]][a[132]](d)};b[a[dQ]]=1h},Vt:1c(){1a q=1b,i=q[a[1x]],l,b,j,n,x,v,w,p,h,f=q[a[1z]],d=f[a[59]],o=q[a[2u]],g=q[a[2N]],u,k=q[a[3p]]?1g:1f,t=a[oc],r=a[177],s=a[165];q[a[k6]]=[];q[a[3Z]]=[];q[a[3Y]]=[];q[a[2I]]=[];q[a[3x]]=1j bS(a[r8]);q[a[pE]]=1j bU();q[a[pE]][a[199]](a[169],a[qG]);q[a[3x]][a[210]](q[a[pE]],1f);q[a[pH]]=1j ca();q[a[3x]][a[210]](q[a[pH]],1f);q[a[ho]]=1j cb();q[a[ho]][a[199]](a[169],a[qJ]);1i(j=0,n=f[a[59]];j<n;j++){b=f[j];w=1j bZ();if(b[a[2q]]===1g){w[a[213]](1g)};w[a[133]](g[j],0);q[a[k6]][j]=w;q[a[ho]][a[210]](w,1f)};q[a[pH]][a[210]](q[a[ho]],1f);q[a[nQ]]=1j bT();q[a[3x]][a[210]](q[a[nQ]],1f);1i(j=0;j<o;j++){l=i[j]||{};x=1j cb();q[a[nQ]][a[210]](x,1f);if(k){x[a[195]](q[a[1X]])};p=[];q[a[2I]][j]=[];1i(1a m=0;m<d;m++){h=f[m][a[1m]];v=1j bV();x[a[210]](v,1f);v[a[139]][a[4a]]=j;v[a[139]][a[7Z]]=m;v[a[139]][a[144]]=1b;v=q[a[HJ]](v);u=t;if(f[m][a[169]]){u+=r+f[m][a[169]]};v[a[202]](s,u);q[a[AP]](j,m,l,h,v);p[m]=v};q[a[3Z]][j]=p;q[a[3Y]][j]=x};if(q[a[2m]]){q[a[d8]][a[210]](q[a[3x]]);q[a[3x]][a[134]](0,0)}1e{q[a[d8]][a[210]](q[a[3x]],1f)};q[a[5K]](1f)},Vk:1c(o){1a d=1b;1a h=a[2i],i=a[al],j=a[EM],l=a[gh],k=a[ja],f=a[2h],g=a[cD],n=a[2X],m=a[4T],b=y[a[2]];r(o[a[139]],h,d[a[RE]]);r(o[a[139]],i,d[a[SU]]);r(o[a[139]],j,d[a[T1]]);r(o[a[139]],l,d[a[T8]]);r(o[a[139]],k,d[a[T4]]);r(o[a[139]],f,d[a[T5]]);r(o[a[139]],g,d[a[TQ]]);if(b){r(o[a[139]],n,d[a[TN]]);r(o[a[139]],n,d[a[U1]]);r(o[a[139]],m,d[a[TZ]])};1d o},VK:1c(){1a k=1b,b=k[a[j7]],j=k[a[1X]],i=k[a[2u]],n,h,d,f;if(l(k[a[dQ]])){k[a[VJ]]()};if(k[a[3Y]]&&k[a[3Y]][a[59]]){i=k[a[3Y]][a[59]]};k[a[8L]]=[];k[a[ri]]=[];k[a[l0]]=[];k[a[kJ]]=[];k[a[lp]]=[];k[a[nM]]=[];k[a[dL]]=[];k[a[rs]]=[];k[a[re]]=[];k[a[rr]]=[];k[a[3o]]=1j bS(a[r8]);k[a[ru]]=1j bU();k[a[ru]][a[199]](a[169],a[qG]);k[a[3o]][a[210]](k[a[ru]],1f);k[a[rt]]=1j ca();k[a[3o]][a[210]](k[a[rt]],1f);k[a[jS]]=1j cb();k[a[jS]][a[199]](a[169],a[qJ]);d=k[a[qn]];f=k[a[u6]];cd[a[1q]](d,1c(d,h){1a g;1a b=f[h];if(!m(b)&&k[h]===1f){g=1j bZ();g[a[133]](b,0);k[a[ri]][a[1s]](g);k[a[jS]][a[210]](g,1f)}});k[a[rt]][a[210]](k[a[jS]],1f);k[a[ob]]=1j bT();k[a[3o]][a[210]](k[a[ob]],1f);h=k[a[3p]]?1g:1f;1i(1a g=0;g<i;g++){n=1j cb();if(h){n[a[195]](j)};cd[a[1q]](d,1c(b,d){k[a[Tb]](d,n,g)});k[a[ob]][a[210]](n,1f);k[a[8L]][g]=n};if(k[a[2m]]){b[a[210]](k[a[3o]]);k[a[3o]][a[134]](0,0)}1e{b[a[210]](k[a[3o]],1f)};k[a[6a]]()},Sv:1c(l,p,f){1a n=1b;1a d=y[a[2]];1a j=n[a[u6]];1a m=n[a[2u]];1a k;1a o,g,h,i;i=j[l];k=1k[a[1A]](n[a[1x]][a[59]],m);if(l==a[ka]&&n[a[ka]]){o=1j bV();o[a[139]][a[4a]]=f;o[a[139]][a[144]]=n;r(o[a[139]],a[2i],n[a[AK]]);if(d){r(o[a[139]],a[2X],n[a[AK]])};o[a[202]](a[165],a[2tS]);p[a[210]](o,1f);g=1j b();g[a[1w]]={};o[a[210]](g,1f);g[a[199]](a[169],a[Sq]);g[a[194]](i);g[a[195]](1);n[a[re]][f]=o;n[a[rr]][f]=g}1e{if(l==a[8n]&&n[a[8n]]){o=1j bV();o[a[139]][a[4a]]=f;o[a[139]][a[144]]=n;r(o[a[139]],a[2i],n[a[TD]]);o[a[202]](a[165],a[TW]);p[a[210]](o,1f);g=1j b();g[a[1w]]={};o[a[210]](g,1f);g[a[150]](a[Ap],a[9M]);g[a[199]](a[169],a[2u9]);g[a[194]](i-4);if(f>=k){g[a[213]](1g)};n[a[l0]][f]=o;n[a[kJ]][f]=g}1e{if(l==a[cO]&&n[a[cO]]){o=1j bV();o[a[139]][a[4a]]=f;o[a[139]][a[144]]=n;r(o[a[139]],a[2h],n[a[TE]]);o[a[202]](a[165],a[2ub]);p[a[210]](o,1f);g=1j b();g[a[1w]]={};o[a[210]](g,1f);g[a[199]](a[169],a[Sq]);g[a[194]](i);g[a[195]](1);n[a[dL]][f]=o;n[a[rs]][f]=g}1e{if(l==a[7A]&&n[a[7A]]){o=1j bV(a[2ue]);p[a[210]](o,1f);if(n[a[fH]]){h=1j bs(a[Iv]);h[a[199]](a[5Q],a[2uf]+n[a[kK]])}1e{h=1j bs(a[gO])};h[a[2e]][a[139]][a[144]]=n;h[a[199]](a[2b],f);o[a[210]](h,1f);r(h[a[2e]][a[139]],a[2h],n[a[TJ]]);if(f>=k){h[a[213]](1g)};n[a[lp]][f]=o;n[a[nM]][f]=h}}}}},TG:1c(k,r,s){1a t=1b,y,m,g=t[a[3Y]],d=t[a[3Z]],f=t[a[k6]],b=t[a[2I]],o,p,q,l,j,A,z,B,u=0,n=0,i=0,x=a[oc],v=a[177],w=a[165],h;1i(o=0,q=k[a[59]];o<q;o++){j=k[o];A=1j bZ();if(j[a[2q]]===1g){A[a[213]](1g)};f[a[1s]](A);t[a[ho]][a[210]](A,1f)};l=t[a[1z]][a[59]];u=s;n=u+k[a[59]];1i(o=0,q=g[a[59]];o<q;o++){B=g[o];1i(p=u,i=0;p<n;p++,i++){m=k[i][a[1m]];z=1j bV();z[a[139]][a[144]]=1b;z=t[a[HJ]](z);y=x;if(k[i][a[169]]){y+=v+k[i][a[169]]};z[a[202]](w,y);h=t[a[AP]](o,p,1h,m,1h);z[a[210]](h,1f);if(p<d[o][a[59]]&&d[o][p]){B[a[212]](z,d[o][p],1f)}1e{B[a[210]](z,1f)};b[o][a[2E]](p,0,h);d[o][a[2E]](p,0,z)};1i(p=0;p<l;p++){z=d[o][p];if(z){z[a[139]][a[4a]]=o;z[a[139]][a[7Z]]=p}}}},TB:1c(k){1a p=1b,g=p[a[3Y]],d=p[a[3Z]],f=p[a[k6]],b=p[a[2I]],l,m,n,o,j,i,q,r,h;j=p[a[1z]][a[59]];o=k[a[59]];1i(l=0,n=o;l<n;l++){i=k[l];r=f[i];if(r){r[a[132]](1g);f[a[2E]](i,1)}};1i(l=0,n=g[a[59]];l<n;l++){1i(m=0;m<o;m++){i=k[m];q=d[l][i];h=b[l][i];if(h){h[a[132]](1g);b[l][a[2E]](i,1)};if(q){q[a[132]](1g);d[l][a[2E]](i,1)}};1i(m=0;m<j;m++){q=d[l][m];if(q){q[a[139]][a[4a]]=l;q[a[139]][a[7Z]]=m}}}},Tz:1c(){1a i=1b,h=i[a[2u]],f=i[a[2N]],g=i[a[1z]],d=i[a[3Y]],b=1g;1a j=a[58];if(h>d[a[59]]){i[a[2tM]]();b=1f};if(b){i[a[nx]]=1g;i[a[yK]]()};cd[a[1q]](f,1c(d,h){1a f=i[a[k6]][d];1a b=g[d];if(f){if(b[a[2q]]===1g){f[a[213]](1g)}1e{f[a[213]](1f,j)};f[a[194]](h)}});i[a[2u4]]()},TY:1c(){1a f=1b,d,b;if(l(f[a[dQ]])){f[a[w2]]()};if(f[a[2u]]>f[a[8L]][a[59]]){f[a[2tX]]()};b=f[a[kW]];d=f[a[6o]]();if(f[a[6T]]){d+=f[a[aQ]]};if(!f[a[6R]]){d=0};f[a[ld]][a[133]](f[a[6Y]],d);f[a[j7]][a[133]](f[a[6Y]],b[a[129]]);f[a[6a]]()},Tt:1c(){1a b=1b;b[a[1gg]]();b[a[1gj]]();b[a[w2]]();b[a[T3]]()},T6:1c(m){1a r=1b,k=r[a[1x]],b=r[a[2I]],z,j,o,g,i=r[a[1z]],h=i[a[59]],q=r[a[3Y]][a[59]],d=r[a[3Z]],n,p,y,f,x=a[7e],v=a[2T],s=a[58],t=a[177],w=a[oc],u=a[165];if(l(d)){1d};m=!!m;if(r[a[C3]]&&!m){1i(n=0;n<q;n++){o=k[n];1i(p=0;p<h;p++){g=i[p];j=g[a[1m]];z=d[n][p];f=b[n][p];f[a[1t]]=g;if(g[a[2q]]===1g){z[a[213]](1g)}1e{z[a[213]](1f,s)};if(z[a[200]](x)){z[a[201]](x)};if(z[a[200]](v)){z[a[201]](v)};y=w;if(i[p][a[169]]){y+=t+i[p][a[169]]};z[a[202]](u,y);if(f[a[tf]]){f[a[tf]]()}}};r[a[uA]]()}1e{r[a[ST]]();r[a[2I]]=[];1i(n=0;n<q;n++){o=k[n];r[a[2I]][n]=[];1i(p=0;p<h;p++){g=i[p];j=g[a[1m]];z=d[n][p];if(g[a[2q]]===1g){z[a[213]](1g)}1e{z[a[213]](1f,s)};if(z[a[200]](x)){z[a[201]](x)};if(z[a[200]](v)){z[a[201]](v)};y=w;if(i[p][a[169]]){y+=t+i[p][a[169]]};z[a[202]](u,y);r[a[AP]](n,p,o,j,z)}}}},T2:1c(){1a o=1b,l=o[a[2u]],p=o[a[3Y]][a[59]],m=o[a[1X]],g=o[a[1x]],d=o[a[1z]],b=d[a[59]],h,k,s,r,n,j,f,q,i;i=o[a[3p]]?1g:1f;1i(h=p;h<l;h++){j=g[h]||{};s=1j cb();o[a[nQ]][a[210]](s,1f);if(i){s[a[195]](m)};n=[];o[a[2I]][h]=[];1i(k=0;k<b;k++){f=d[k][a[1m]];r=1j bV();s[a[210]](r,1f);r[a[139]][a[4a]]=h;r[a[139]][a[7Z]]=k;r[a[139]][a[144]]=1b;r=o[a[HJ]](r);q=a[oc];if(d[k][a[169]]){q+=a[177]+d[k][a[169]]};r[a[202]](a[165],q);o[a[AP]](h,k,j,f,r);if(d[k][a[2q]]===1g){r[a[213]](1g)}1e{r[a[213]](1f,a[58])};n[k]=r};o[a[3Z]][a[1s]](n);o[a[3Y]][a[1s]](s)}},Tm:1c(){1a i=1b,b=i[a[qn]],g=i[a[2u]],j=i[a[8L]][a[59]],h=i[a[1X]],k=i[a[ob]],d,l,f;f=i[a[3p]]?1g:1f;1i(d=j;d<g;d++){l=1j cb();if(f){l[a[195]](h)};cd[a[1q]](b,1c(b,f){i[a[Tb]](f,l,d)});k[a[210]](l,1f);i[a[8L]][d]=l}},SY:1c(b){1a i=1b;1a g=i[a[1x]][a[59]];1a d;1a f=i[a[129]];1a h;if(!i[a[ef]]){1d};if(g<=0){d=i[a[KD]]-2}1e{d=0;if(i[a[2Z]]){d+=i[a[dK]]()};if(i[a[6R]]){d+=i[a[6o]]();if(i[a[6T]]){d+=i[a[aQ]]}};if(i[a[7r]]){d+=i[a[6M]]};if(i[a[3g]]){d+=i[a[3w]]};if(i[a[3p]]){d+=i[a[c7]]}1e{h=i[a[Sd]]();d+=h*g};d+=1};if(!!b){i[a[tw]](i[a[127]]+2,d+2)}1e{if(1k[a[243]](f-d)<=3){1d};i[a[tw]](i[a[127]]+2,d+2)}},SW:1c(p){1a d=1b;1a b=y[a[2]];1a h=a[2i],i=a[al],j=a[EM],m=a[gh],k=a[ja],f=a[2h],g=a[cD],o=a[2X],n=a[4T];d[a[ST]](p);if(bi(d[a[3Z]])){cd[a[1q]](d[a[3Z]],1c(l,q){cd[a[1q]](q,1c(q,r){r[a[139]][a[4a]]=1h;r[a[139]][a[7Z]]=1h;bA(r[a[139]],h,d[a[RE]]);bA(r[a[139]],i,d[a[SU]]);bA(r[a[139]],j,d[a[T1]]);bA(r[a[139]],m,d[a[T8]]);bA(r[a[139]],k,d[a[T4]]);bA(r[a[139]],f,d[a[T5]]);bA(r[a[139]],g,d[a[TQ]]);if(b){bA(r[a[139]],o,d[a[TN]]);bA(r[a[139]],o,d[a[U1]]);bA(r[a[139]],n,d[a[TZ]])};r[a[132]](p);d[a[3Z]][l][q]=1h});d[a[3Z]][l]=1h})};d[a[3Z]]=1h;if(bi(d[a[k6]])){cd[a[1q]](d[a[k6]],1c(b,d){d[a[132]](p)})};d[a[k6]]=1h;if(!l(d[a[ho]])){d[a[ho]][a[132]](p)};d[a[ho]]=1h;if(!l(d[a[pH]])){d[a[pH]][a[132]](p)};d[a[pH]]=1h;if(bi(d[a[3Y]])){cd[a[1q]](d[a[3Y]],1c(b,f){f[a[132]](p);d[a[3Y]][b]=1h})};d[a[3Y]]=1h;if(!l(d[a[nQ]])){d[a[nQ]][a[132]](p)};d[a[nQ]]=1h;if(!l(d[a[pE]])){d[a[pE]][a[132]](p)};d[a[pE]]=1h;if(!l(d[a[3x]])){d[a[3x]][a[132]](p)};d[a[3x]]=1h},Tx:1c(o){1a k=1b,m=a[2tW],n=a[RG],b,d,f,g,h,i,j;if(l(k)||!bi(k[a[2I]])){1d};b=k[a[2I]];1i(d=0,g=b[a[59]];d<g;d++){j=b[d];1i(f=0,h=j[a[59]];f<h;f++){i=j[f];if(i[a[165]]==m){bA(i,n,k[a[SS]])};i[a[132]](o);j[f]=1h};b[d]=1h};k[a[2I]]=1h;b=j=i=1h},Tv:1c(f){1a d=1b;1a b=y[a[2]];if(bi(d[a[kJ]])){cd[a[1q]](d[a[kJ]],1c(b,g){g[a[132]](f);d[a[kJ]][b]=1h})};if(bi(d[a[l0]])){cd[a[1q]](d[a[l0]],1c(b,g){g[a[139]][a[4a]]=1h;bA(g[a[139]],a[2i],d[a[TD]]);g[a[132]](f);d[a[l0]][b]=1h})};d[a[kJ]]=1h;d[a[l0]]=1h;if(bi(d[a[lp]])){cd[a[1q]](d[a[lp]],1c(b,g){g[a[132]](f);d[a[lp]][b]=1h})};if(bi(d[a[nM]])){cd[a[1q]](d[a[nM]],1c(b,g){bA(g[a[2e]][a[139]],a[2h],d[a[TJ]]);g[a[132]](f);d[a[nM]][b]=1h})};d[a[lp]]=1h;d[a[nM]]=1h;if(bi(d[a[rs]])){cd[a[1q]](d[a[rs]],1c(b,g){g[a[132]](f);d[a[rs]][b]=1h})};if(bi(d[a[dL]])){cd[a[1q]](d[a[dL]],1c(b,g){g[a[139]][a[4a]]=1h;bA(g[a[139]],a[2h],d[a[TE]]);g[a[132]](f);d[a[dL]][b]=1h})};d[a[rs]]=1h;d[a[dL]]=1h;if(bi(d[a[rr]])){cd[a[1q]](d[a[rr]],1c(b,g){g[a[132]](f);d[a[rr]][b]=1h})};d[a[rr]]=1h;if(bi(d[a[re]])){cd[a[1q]](d[a[re]],1c(g,h){h[a[139]][a[4a]]=1h;bA(h[a[139]],a[2i],d[a[AK]]);if(b){bA(h[a[139]],a[2X],d[a[AK]])};h[a[132]](f);d[a[re]][g]=1h})};d[a[re]]=1h;if(bi(d[a[ri]])){cd[a[1q]](d[a[ri]],1c(b,g){g[a[132]](f);d[a[ri]][b]=1h})};d[a[ri]]=1h;if(!l(d[a[jS]])){d[a[jS]][a[132]](f)};d[a[jS]]=1h;if(!l(d[a[rt]])){d[a[rt]][a[132]](f)};d[a[rt]]=1h;if(bi(d[a[8L]])){cd[a[1q]](d[a[8L]],1c(b,g){g[a[132]](f);d[a[8L]][b]=1h})};d[a[8L]]=1h;if(!l(d[a[ob]])){d[a[ob]][a[132]](f)};d[a[ob]]=1h;if(!l(d[a[ru]])){d[a[ru]][a[132]](f)};d[a[ru]]=1h;if(!l(d[a[3o]])){d[a[3o]][a[132]](f)};d[a[3o]]=1h},Wp:1c(d){1a b=1b;if(b[a[2Z]]===d){1d};b[a[2Z]]=d;b[a[K4]]()},VF:1c(){1a h=1b;1a d=h[a[9z]];1a b=0;1a f;if(!h[a[2Z]]){1d 0};if(h[a[rv]]&&h[a[rv]][a[59]]){1i(1a g=0;g<d;g++){f=1o(h[a[rv]][g]);if(!1D(f)){b+=f}1e{b+=h[a[jb]]}}}1e{b=h[a[jb]]*d};1d b},VC:1c(g){1a h=1b;1a d=h[a[9z]];1a b=0;1a f;if(!h[a[2Z]]){1d 0};g=1k[a[1F]](1o(g),0);g=1k[a[1A]](d,g);if(h[a[rv]]&&h[a[rv]][a[59]]){f=1o(h[a[rv]][g]);if(!1D(f)){b=f}1e{b=h[a[jb]]}}1e{b=h[a[jb]]};1d b},VB:1c(){1a u=1b;1a k,j;1a f=u[a[1x]];1a s;1a g;1a d={};1a v=a[58];1a p=1g;1a w;1a h;1a o,q,r,t;if(!u[a[6n]]||!u[a[6J]]()){if(u[a[1Q]]&&!l(u[a[2c]])&&!l(u[a[2c]][a[7B]])){f=u[a[2c]][a[7B]];p=1f}};u[a[hi]]=[];u[a[6v]]=[];if(l(f)||!bi(u[a[3r]])){1d};if(bi(u[a[3r]][0])){k=u[a[3r]]}1e{k=[];k[0]=u[a[3r]]};1i(o=0,r=k[a[59]];o<r;o++){j=k[o];u[a[6v]][o]=[];u[a[hi]][o]=[];if(!bi(j)){1u};1i(q=0,t=j[a[59]];q<t;q++){h=j[q];if(!l(h[a[1m]])){if(i(h[a[cT]])){d[h[a[1m]]]=u[a[xG]](h[a[1m]],p);g=h[a[cT]](d[h[a[1m]]]);u[a[6v]][o][q]=1o(g)}1e{if(h[a[9I]]){u[a[6v]][o][q]=b(h[a[1m]],h[a[9I]])}1e{u[a[6v]][o][q]=h[a[1B]]||v}}}1e{u[a[6v]][o][q]=h[a[1B]]||v};u[a[hi]][o][q]=u[a[6v]][o][q]}};w=cd[a[69]]([],u[a[6v]]);1i(o=0,r=k[a[59]];o<r;o++){j=k[o];if(!bi(j)){1u};1i(q=0,t=j[a[59]];q<t;q++){h=j[q];if(i(h[a[6O]])){if(!bi(d[h[a[1m]]])){d[h[a[1m]]]=u[a[xG]](h[a[1m]],p)};s=h[a[6O]](u[a[6v]][o][q],d[h[a[1m]]],w[o]);if(!l(s)){u[a[6v]][o][q]=s;u[a[hi]][o][q]=s}}}};1i(o=0,r=k[a[59]];o<r;o++){j=k[o];if(!bi(j)){1u};1i(q=0,t=j[a[59]];q<t;q++){h=j[q];if(i(h[a[7b]])){s=h[a[7b]](u[a[6v]][o][q],w[o]);if(!l(s)&&s!=v){h[a[169]]=s}}}};1i(o=0,r=k[a[59]];o<r;o++){j=k[o];if(!bi(j)){1u};1i(q=0,t=j[a[59]];q<t;q++){h=j[q];if(h[a[5D]]){u[a[6v]][o][q]=V[a[da]](u[a[6v]][o][q],h[a[5D]],h[a[fg]])};if(!l(h[a[5x]])){u[a[6v]][o][q]=h[a[5x]]+u[a[6v]][o][q]};if(!l(h[a[5w]])){u[a[6v]][o][q]=u[a[6v]][o][q]+h[a[5w]]}}};1d;1c b(d,p){1a q=p[a[13]]();1a i=0;1a k=f[a[59]];1a j,o;1a r;1a h=m;1a g=l;1a s=0;if(q==a[rB]||l(q)){1d n(d)}1e{if(q==a[nK]){if(!u[a[1Q]]){1d f[a[59]]}1e{r=0;1i(i=0;i<k;i++){j=f[i];if(!g(j[d])){if(j[a[4O]]||j[a[2R]]||j[a[lS]]){1u};r++}};1d r}}1e{if(q==a[2tP]){1d n(d)/b(d,a[nK])}1e{if(q==a[1A]){r=1o[a[5E]];1i(i=0;i<k;i++){j=f[i];if(!h(j[d])){o=1o(j[d]);if(1D(o)||j[a[4O]]||j[a[2R]]||j[a[lS]]){1u};r=1k[a[1A]](r,o);s++}};1d s===0?2z:r}1e{if(q==a[1F]){r=1o[a[5E]]*-1;1i(i=0;i<k;i++){j=f[i];if(!h(j[d])){o=1o(j[d]);if(1D(o)||j[a[4O]]||j[a[2R]]||j[a[lS]]){1u};r=1k[a[1F]](r,o);s++}};1d s===0?2z:r}}}}}}1c n(b){1a k=0,g=0;1a i=f[a[59]];1a h,j;1a d=m;1i(g=0;g<i;g++){h=f[g];if(!d(h[b])){j=1o(h[b]);if(1D(j)||h[a[4O]]||h[a[2R]]||h[a[lS]]){1u};k+=j}};1d k}},VN:1c(){1a g=1b;1a d=g[a[9z]];1a b=[];1a i=a[Si];1a j=a[2tN];1a h=a[177];1a f;1i(f=0;f<d;f++){b[f]=i};if(g[a[6x]]==a[154]){b[b[a[59]]-1]+=h+a[RT];b[0]+=h+a[2tL]}1e{b[0]+=h+j};1d b},VM:1c(){1a p=1b;1a i=p[a[1z]];1a g=p[a[2N]];1a j=p[a[9z]];1a f=i[a[59]];1a u,t,s,b;1a d;1a k,l,m;1a o,n;1a q=a[165];1a h=p[a[R0]]();p[a[lu]]=[];p[a[jg]]=[];p[a[g3]]=[];p[a[lA]]=[];p[a[j2]]=1j bS(a[r8]);p[a[qK]]=1j bU();p[a[qK]][a[199]](a[169],a[qG]);p[a[j2]][a[210]](p[a[qK]],1f);p[a[qB]]=1j ca();p[a[j2]][a[210]](p[a[qB]],1f);p[a[lG]]=1j cb();p[a[lG]][a[199]](a[169],a[qJ]);1i(k=0,m=i[a[59]];k<m;k++){d=i[k];t=1j bZ();if(d[a[2q]]===1g){t[a[213]](1g)};t[a[133]](g[k],0);p[a[lA]][k]=t;p[a[lG]][a[210]](t,1f)};p[a[qB]][a[210]](p[a[lG]],1f);p[a[qx]]=1j bT();p[a[j2]][a[210]](p[a[qx]],1f);1i(k=0;k<j;k++){u=1j cb();u[a[195]](p[a[CZ]](k));p[a[qx]][a[210]](u,1f);n=[];o=[];1i(l=0;l<f;l++){s=1j bV();s[a[202]](q,h[k]);s[a[139]][a[4a]]=k;s[a[139]][a[7Z]]=l;s[a[139]][a[144]]=1b;r(s[a[139]],a[2h],p[a[W1]]);r(s[a[139]],a[cD],p[a[Ut]]);u[a[210]](s,1f);b=1j U();b[a[1w]]={};s[a[210]](b,1f);n[l]=b;o[l]=s};p[a[lu]][k]=n;p[a[g3]][k]=o;p[a[jg]][k]=u};p[a[gE]][a[210]](p[a[j2]]);p[a[jB]]()},Vj:1c(){1a k=1b;1a i=k[a[9z]];1a f=W[a[2k]][a[5N]];1a g=f*2;1a b;1a n,m,d;1a j;1a l=a[165];1a h=k[a[R0]]();if(!k[a[2Z]]){1d};k[a[gn]]=1h;k[a[iW]]=[];k[a[ek]]=[];k[a[fC]]=[];k[a[iQ]]=1j bS(a[r8]);k[a[rq]]=1j bU();k[a[rq]][a[199]](a[169],a[qG]);k[a[iQ]][a[210]](k[a[rq]],1f);k[a[rg]]=1j ca();k[a[iQ]][a[210]](k[a[rg]],1f);k[a[lZ]]=1j cb();k[a[lZ]][a[199]](a[169],a[qJ]);k[a[gn]]=1j bZ();k[a[lZ]][a[210]](k[a[gn]],1f);k[a[rg]][a[210]](k[a[lZ]],1f);k[a[qs]]=1j bT();k[a[iQ]][a[210]](k[a[qs]],1f);1i(j=0;j<i;j++){n=1j cb();n[a[195]](k[a[CZ]](j));k[a[qs]][a[210]](n,1f);b=k[a[9Q]]();k[a[gn]][a[194]](b);m=1j bV();m[a[202]](l,h[j]);m[a[139]][a[4a]]=j;m[a[139]][a[144]]=1b;r(m[a[139]],a[2h],k[a[UB]]);r(m[a[139]],a[cD],k[a[Ux]]);n[a[210]](m,1f);if(b<=0){m[a[213]](1g);k[a[gn]][a[213]](1g)}1e{m[a[213]](1f,a[58]);k[a[gn]][a[213]](1f,a[58])};d=1j U();d[a[1w]]={};m[a[210]](d,1f);d[a[194]](b-g);k[a[ek]][j]=d;k[a[fC]][j]=m;k[a[iW]][j]=n};k[a[gJ]][a[210]](k[a[iQ]],1f)},We:1c(){1a M=1b;1a D,F,ba,X,H,I;1a s;1a q;1a x=M[a[9z]];1a r=M[a[2o]];1a y;1a G;1a z;1a t;1a v,Y;1a g;1a m=M[a[2N]];1a h=m[a[59]];1a k=M[a[1z]];1a d=W[a[2k]][a[5N]];1a f=d*2;1a w;1a u;1a J;1a C;1a i,L,j;1a o,N;1a Z;1a A=1g;1a B=1g;1a S=a[2T];1a U=a[7e];1a P=a[58];1a Q=a[177];1a R=a[165];1a V=a[0];1a O=a[zN];1a T=a[9j];1a K=a[qp]+d+a[149];1a p=M[a[R0]]();1a n=1;1a E=M[a[6x]]==a[154]?1f:1g;1a b;if(!M[a[2Z]]){1d};if(M[a[xz]]){M[a[ox]]();M[a[xz]]=1g};if(l(M[a[j2]])){M[a[sV]]()};if(l(M[a[iQ]])){M[a[W4]]()};y=M[a[g3]];G=M[a[fC]];z=M[a[lA]];t=M[a[lu]];cd[a[1q]](m,1c(d,g){1a f=z[d];1a b=k[d];if(f){if(b[a[2q]]===1g){f[a[213]](1g)}1e{f[a[213]](1f,P)};f[a[194]](g)}});if(!bi(M[a[3r]])){1d};if(G&&G[a[59]]){b=M[a[9Q]]();1i(D=0;D<x;D++){Y=G[D];if(Y){if(b<=0){Y[a[213]](1g);M[a[gn]][a[213]](1g)}1e{Y[a[213]](1f,P);M[a[gn]][a[213]](1f,P)};if(Y[a[200]](S)){Y[a[201]](S)};if(Y[a[200]](U)){Y[a[201]](U)}}}};1i(D=0;D<x;D++){1i(F=0;F<h;F++){g=k[F];Y=y[D][F];Y[a[zF]]=1g;Y[a[202]](R,p[D]);if(g[a[2q]]===1g){Y[a[213]](1g)}1e{Y[a[213]](1f,P)};if(Y[a[200]](S)){Y[a[201]](S)};if(Y[a[200]](U)){Y[a[201]](U)};v=t[D][F];v[a[1t]]=1h;o=m[F]-f;if(o<=0){o=0};v[a[150]](T,K);v[a[194]](o);v[a[1B]]=P;v[a[135]]()}};1i(D=0;D<x;D++){v=M[a[ek]][D];Y=M[a[fC]][D];v[a[150]](T,K);v[a[1B]]=P;v[a[135]]();Y[a[202]](R,p[D])};w=M[a[6v]];if(bi(M[a[3r]][0])){u=M[a[3r]]}1e{u=[];u[0]=M[a[3r]]};if(!bi(u)||l(w)){1d};1i(D=0,H=1k[a[1A]](u[a[59]],x);D<H;D++){s=u[D];if(!bi(s)){1u};1i(F=0,I=s[a[59]];F<I;F++){q=s[F];J=q[a[lL]];if(1L J==V){1u};if(q[a[7e]]&&1o(q[a[7e]])>1){B=1f};C=M[a[6U]](J);if(C!=-1){v=t[D][C];Y=y[D][C];Y[a[139]][a[PQ]]=F;v[a[1t]]=q;v[a[1B]]=w[D][F];if(q[a[169]]){Y[a[202]](R,p[D]+Q+q[a[169]])}1e{Y[a[202]](R,p[D])};v[a[135]]();if(q[a[2T]]&&1o(q[a[2T]])>1){A=1f}}1e{if(J==O&&bi(M[a[fC]])&&bi(M[a[ek]])){if(!l(M[a[fC]][D])&&!l(M[a[ek]][D])){v=M[a[ek]][D];Y=M[a[fC]][D];v[a[1B]]=w[D][F];if(q[a[169]]){Y[a[202]](R,p[D]+Q+q[a[169]])}1e{Y[a[202]](R,p[D])};v[a[135]]()}}}}};if(A){1i(D=0,H=1k[a[1A]](u[a[59]],x);D<H;D++){1i(F=0;F<h;F++){g=k[F];Y=y[D][F];v=t[D][F];q=v[a[1t]];if(g[a[2q]]===1g||Y[a[zF]]===1f){if(Y[a[200]](S)){Y[a[201]](S)};Y[a[213]](1g);1u};if(!q){1u};if(q[a[2T]]&&1o(q[a[2T]])>1){i=1o(q[a[2T]]);if(r>0&&g[a[1n]]<r){i=1k[a[1A]](i,r-g[a[1n]])};j=i;N=m[F];n=1;1i(ba=g[a[1n]]+1;ba<h;ba++){Z=y[D][ba];if(k[ba][a[2q]]===1g){if(n>=i){1l};n++;j--;if(Z){if(Z[a[200]](S)){Z[a[201]](S)};Z[a[213]](1g);Z[a[zF]]=1f};1u};if(n>=i){1l};n++;N+=m[ba];if(Z){if(Z[a[200]](S)){Z[a[201]](S)};Z[a[213]](1g);Z[a[zF]]=1f}};Y[a[199]](S,j);Y[a[213]](1f,P);o=N-f;v[a[194]](o);v[a[135]]()}}}};if(B){1i(D=0,H=1k[a[1A]](u[a[59]],x);D<H;D++){s=u[D];if(!bi(s)){1u};1i(F=0,I=s[a[59]];F<I;F++){q=s[F];J=q[a[lL]];if(1L J==V){1u};L=0;if(q[a[7e]]&&1o(q[a[7e]])>1){L=1k[a[1A]](1o(q[a[7e]]),x-D)};i=1o(q[a[2T]]);if(L<=1){1u};C=M[a[6U]](J);if(C!=-1){g=k[C];Y=y[D][C];v=t[D][C];if(g[a[2q]]===1g){if(Y[a[200]](U)){Y[a[201]](U)};Y[a[213]](1g);1u};1i(ba=D+1;ba<1k[a[1A]](x,D+L);ba++){Z=y[ba][C];if(Z){if(Z[a[200]](U)){Z[a[201]](U)};Z[a[213]](1g)};if(i>1){1i(X=C+1;X<C+i;X++){if(l(y[ba])){1l};Z=y[ba][X];if(Z){if(Z[a[200]](U)){Z[a[201]](U)};Z[a[213]](1g)}}}};Y[a[199]](U,L);Y[a[213]](1f,P);if(E&&L+D>=x){Y[a[206]](a[RT])}}1e{if(J==O&&bi(G)&&!l(G[D])){Y=G[D];Y[a[199]](U,L);Y[a[213]](1f,P);if(E&&L+D>=x){Y[a[206]](a[RT])};1i(ba=D+1;ba<1k[a[1A]](x,D+L);ba++){Z=G[ba];if(Z){if(Z[a[200]](U)){Z[a[201]](U)};Z[a[213]](1g)}}}}}}}},W6:1c(){1a b=1b;if(b[a[2Z]]){b[a[1gh]]();b[a[1gk]]();b[a[W4]]();b[a[sV]]()}},W3:1c(d){1a b=1b;if(b[a[lu]]){cd[a[1q]](b[a[lu]],1c(f,g){cd[a[1q]](g,1c(g,h){h[a[132]](d);b[a[lu]][f][g]=1h});b[a[lu]][f]=1h})};b[a[lu]]=1h;if(b[a[g3]]){cd[a[1q]](b[a[g3]],1c(f,g){cd[a[1q]](g,1c(g,h){h[a[139]][a[4a]]=1h;h[a[139]][a[7Z]]=1h;h[a[139]][a[PQ]]=1h;bA(h[a[139]],a[2h],b[a[W1]]);bA(h[a[139]],a[cD],b[a[Ut]]);h[a[132]](d);b[a[g3]][f][g]=1h});b[a[g3]][f]=1h})};b[a[g3]]=1h;if(b[a[lA]]){cd[a[1q]](b[a[lA]],1c(f,g){g[a[132]](d);b[a[lA]][f]=1h})};b[a[lA]]=1h;if(b[a[lG]]){b[a[lG]][a[132]](d)};b[a[lG]]=1h;if(!l(b[a[qB]])){b[a[qB]][a[132]](d)};b[a[qB]]=1h;if(b[a[jg]]){cd[a[1q]](b[a[jg]],1c(f,g){g[a[132]](d);b[a[jg]][f]=1h})};b[a[jg]]=1h;if(b[a[qx]]){b[a[qx]][a[132]](d)};b[a[qx]]=1h;if(!l(b[a[qK]])){b[a[qK]][a[132]](d)};b[a[qK]]=1h;if(b[a[j2]]){b[a[j2]][a[132]](d)};b[a[j2]]=1h},UD:1c(d){1a b=1b;if(b[a[ek]]){cd[a[1q]](b[a[ek]],1c(f,g){g[a[132]](d);b[a[ek]][f]=1h})};b[a[ek]]=1h;if(b[a[fC]]){cd[a[1q]](b[a[fC]],1c(f,g){g[a[139]][a[4a]]=1h;bA(g[a[139]],a[2h],b[a[UB]]);bA(g[a[139]],a[cD],b[a[Ux]]);g[a[132]](d)})};b[a[fC]]=1h;if(b[a[gn]]){b[a[gn]][a[132]](d)};b[a[gn]]=1h;if(b[a[lZ]]){b[a[lZ]][a[132]](d)};b[a[lZ]]=1h;if(!l(b[a[rg]])){b[a[rg]][a[132]](d)};b[a[rg]]=1h;if(b[a[iW]]){cd[a[1q]](b[a[iW]],1c(f,g){g[a[132]](d);b[a[iW]][f]=1h})};b[a[iW]]=1h;if(b[a[qs]]){b[a[qs]][a[132]](d)};b[a[qs]]=1h;if(!l(b[a[rq]])){b[a[rq]][a[132]](d)};b[a[rq]]=1h;if(b[a[iQ]]){b[a[iQ]][a[132]](d)};b[a[iQ]]=1h},AH:1c(f,i,g){1a h=1b;1a d;1a b;if(h[a[5F]]==a[192]){1d};if(!i||i[a[59]]<=0){1d};if(l(f)){b=1h}1e{d=h[a[6l]](f);if(d<0){1d};b=h[a[1z]][d]};if(h[a[1Q]]){if(l(b)){1d};h[a[2uq]](b,i,g)}1e{h[a[2up]](b,i,g)}},UT:1c(i,h,f){1a k=1b;1a j=k[a[UV]];1a b=k[a[2I]];1a d;1a g=f[a[1n]];if(!j||f[a[UV]]===1g){1d h[f[a[1m]]]};if(b[0]&&b[0][g]){d=b[0][g]};if(d&&d[a[3S]]){1d d[a[3S]](h[f[a[1m]]],i,g,h,f)};1d h[f[a[1m]]]},UN:1c(b,a){1d 1g},UH:1c(j,F,B){1a E=1b;1a p;1a A;1a s=-1;1a w=1h;1a m=1h;1a G=E[a[2m]];1a H=E[a[3p]];1a C=E[a[1S]];1a u=1f;1a h=1g;1a I=1f;1a r,x,y,z;1a i=E[a[2O]];1a n=0,o=-1;1a l,D;1a v=1g;1a t=1g;1a q=E[a[1z]];1a k=j;1a g=E[a[3j]];1a f=E[a[3k]];1a d=E[a[3t]];1a b=E[a[3u]];p=E[a[1x]];if(!bl(g)&&!bl(f)&&!bl(d)&&!bl(b)){g=1k[a[1A]](E[a[3j]],E[a[3k]]);f=1k[a[1F]](E[a[3j]],E[a[3k]]);d=1k[a[1A]](E[a[3t]],E[a[3u]]);b=1k[a[1F]](E[a[3t]],E[a[3u]]);t=1f};if(j){v=1g}1e{v=1f};if(!v&&t&&(j[a[1n]]<d||j[a[1n]]>b)){E[a[8w]](F);1d};if(!bn(B)){B={}};B=cd[a[69]]({oV:1f,NP:1g,NU:1g,NS:1f},B);if(B[a[a1]]!==1f){u=1g};if(B[a[V1]]!==1g){h=1f;A=1j 5s(F[a[56]](/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,a[pD]))}1e{A=1j 5s(F[a[56]](/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,a[pD]),a[pq])};if(B[a[UZ]]!==1g){if(h){A=1j 5s(a[pL]+F+a[ii])}1e{A=1j 5s(a[pL]+F+a[ii],a[pq])}};if(B[a[UF]]!==1f){I=1g};if(!E[a[6e]]){E[a[6e]]={}};if(t){if(E[a[5J]]!=-1){n=E[a[8s]](E[a[5J]])}1e{if(u){n=g}1e{n=f}};if(E[a[7z]]!=-1){o=E[a[7z]]}1e{if(u){o=d-1}1e{o=b+1}}}1e{if(E[a[5J]]!=-1&&E[a[7z]]!=-1){n=E[a[8s]](E[a[5J]]);o=E[a[7z]]}1e{if(u){o=-1}1e{o=q[a[59]]}};if(j&&!v){if(!u&&j[a[1n]]<o){n+=1}1e{if(u&&j[a[1n]]>o){n-=1}}}};if(u){if(t){y=f+1;z=b+1;if(n<g){n=g};if(o<d-1){o=d-1}}1e{if(n<C){if(j&&j[a[1n]]!=o){n=C-1}1e{n=C}};if(n>C+E[a[2u]]-1){n=C-1};y=p[a[59]];z=q[a[59]]};if(v){n=1k[a[1F]](n,0);1i(r=1k[a[1A]](n,y);r<y;r++){w=p[r];1i(x=o+1;x<z;x++){j=q[x];if(E[a[fq]](w,j)){1u};if(j[a[2q]]===1g){1u};if(A[a[25]](E[a[fr]](r,w,j))){s=r;m=w;1l}};if(t){o=d-1}1e{o=-1};if(m){1l}}}1e{n=1k[a[1F]](n,-1);1i(r=1k[a[1A]](n+1,y);r<y;r++){w=p[r];if(E[a[fq]](w,j)){1u};if(A[a[25]](E[a[fr]](r,w,j))){s=r;m=w;1l}}};if(G){if(m&&s>=0){E[a[4d]]();E[a[6e]][j[i]]=s;E[a[cR]]={2P:s,3l:j[a[1n]]};E[a[eP]](j[a[1n]]);E[a[aL]](t,m,j);E[a[3m]](s);E[a[2Q]]();E[a[2B]]()}1e{if(I){E[a[cR]]={2P:s,3l:j[a[1n]]};E[a[BN]](k,F,A,1f)}1e{E[a[8w]](F)}}}1e{if(m&&s>=0){E[a[4d]]();E[a[6e]][j[i]]=s;E[a[cR]]={2P:s,3l:j[a[1n]]};E[a[eP]](j[a[1n]]);if(H){E[a[aL]](t,m,j);E[a[7W]](s,1f);E[a[2Q]]();E[a[2B]]()}1e{if(t&&s<C){E[a[aL]](t,m,j);E[a[3m]](n);E[a[2Q]]();E[a[2B]]()}1e{if(C+E[a[2u]]-1<=s){E[a[aL]](t,m,j);E[a[3m]](s-E[a[2u]]+2);E[a[2Q]]();E[a[2B]]()}1e{E[a[aL]](t,m,j);E[a[2Q]]();E[a[2B]]()}}}}1e{if(I){E[a[BN]](k,F,A,1f)}1e{E[a[8w]](F)}}}}1e{if(t){D=g;l=d;y=f+1;z=b+1;if(n<g){n=g};if(o<d-1){o=d-1}}1e{D=0;l=0;if(n<C){n=C+E[a[2u]]-1};if(n>C+E[a[2u]]-1){n=C+E[a[2u]]-1};y=p[a[59]];z=q[a[59]]};if(v){n=1k[a[1F]](n,0);1i(r=1k[a[1A]](n,y-1);r>=D;r--){w=p[r];1i(x=o-1;x>=l;x--){j=q[x];if(E[a[fq]](w,j)){1u};if(j[a[2q]]===1g){1u};if(A[a[25]](E[a[fr]](r,w,j))){s=r;m=w;1l}};o=z;if(m){1l}}}1e{1i(r=1k[a[1A]](n-1,y-1);r>=D;r--){w=p[r];if(E[a[fq]](w,j)){1u};if(A[a[25]](E[a[fr]](r,w,j))){s=r;m=w;1l}}};if(G){if(m&&s>=0){E[a[4d]]();E[a[6e]][j[i]]=s;E[a[cR]]={2P:s,3l:j[a[1n]]};E[a[eP]](j[a[1n]]);E[a[aL]](t,m,j);E[a[3m]](s);E[a[2Q]]();E[a[2B]]()}1e{if(I){E[a[BN]](k,F,A,1g)}1e{E[a[8w]](F)}}}1e{if(m&&s>=0){E[a[4d]]();E[a[6e]][j[i]]=s;E[a[cR]]={2P:s,3l:j[a[1n]]};E[a[eP]](j[a[1n]]);if(H){E[a[aL]](t,m,j);E[a[7W]](s,1f);E[a[2Q]]();E[a[2B]]()}1e{if(C>s){E[a[aL]](t,m,j);E[a[3m]](s);E[a[2Q]]();E[a[2B]]()}1e{if(C+E[a[2u]]-1<=s){E[a[aL]](t,m,j);E[a[3m]](s-E[a[2u]]+2);E[a[2Q]]();E[a[2B]]()}1e{E[a[aL]](t,m,j);E[a[2Q]]();E[a[2B]]()}}}}1e{if(I){E[a[BN]](k,F,A,1g)}1e{E[a[8w]](F)}}}}},UJ:1c(i,C,y,p){1a B=1b;1a n;1a r=-1;1a u=1h;1a k=1h;1a D=B[a[2m]];1a z=B[a[1S]];1a q,v,w,x;1a h=B[a[2O]];1a l=0;1a m=0;1a j,A;1a t=1g;1a o=B[a[1z]];1a s=1g;1a g=B[a[3j]];1a f=B[a[3k]];1a d=B[a[3t]];1a b=B[a[3u]];1a E=B[a[3p]];n=B[a[1x]];if(!bl(g)&&!bl(f)&&!bl(d)&&!bl(b)){g=1k[a[1A]](B[a[3j]],B[a[3k]]);f=1k[a[1F]](B[a[3j]],B[a[3k]]);d=1k[a[1A]](B[a[3t]],B[a[3u]]);b=1k[a[1F]](B[a[3t]],B[a[3u]]);s=1f};if(i){t=1g}1e{t=1f};n=B[a[1x]];if(p){if(s){w=f+1;x=b+1;l=g;m=d}1e{w=n[a[59]];x=o[a[59]];l=0;m=0};if(t){1i(q=l;q<w;q++){u=n[q];1i(v=m;v<x;v++){i=o[v];if(B[a[fq]](u,i)){1u};if(i[a[2q]]===1g){1u};if(y[a[25]](B[a[fr]](q,u,i))){r=q;k=u;1l}};if(s){m=d}1e{m=0};if(k){1l}}}1e{1i(q=l;q<w;q++){u=n[q];if(B[a[fq]](u,i)){1u};if(y[a[25]](B[a[fr]](q,u,i))){r=q;k=u;1l}}};if(D){if(k&&r>=0){B[a[4d]]();B[a[6e]][i[h]]=r;B[a[cR]]={2P:r,3l:i[a[1n]]};B[a[aL]](s,k,i);B[a[eP]](i[a[1n]]);B[a[3m]](r);B[a[2Q]]();B[a[2B]]()}1e{B[a[8w]](C)}}1e{if(k&&r>=0){if(B[a[cR]]&&!(B[a[cR]][a[1H]]==r&&B[a[cR]][a[1n]]==i[a[1n]])){B[a[4d]]();B[a[6e]][i[h]]=r;B[a[cR]]={2P:r,3l:i[a[1n]]};B[a[aL]](s,k,i);B[a[eP]](i[a[1n]]);if(E){B[a[7W]](r,1f)}1e{if(z>r){B[a[3m]](1k[a[1F]](0,r-1))}};B[a[2Q]]();B[a[2B]]()}1e{if(E){B[a[7W]](r,1f)}1e{if(r<z||z+B[a[2u]]-1<=r){B[a[3m]](1k[a[1F]](0,r-1))}};if(r!=B[a[8s]](B[a[5J]])||B[a[7z]]!=i[a[1n]]){B[a[eP]](i[a[1n]]);B[a[aL]](s,k,i);B[a[2Q]]();B[a[2B]]();1d};B[a[8w]](C,1f)}}1e{B[a[8w]](C)}}}1e{if(s){A=g;j=d;w=f+1;x=b+1;l=w-1;m=x}1e{A=0;j=0;w=n[a[59]];x=o[a[59]];l=w-1;m=x};if(t){1i(q=1k[a[1F]](l,0);q>=A;q--){u=n[q];1i(v=m-1;v>=j;v--){i=o[v];if(B[a[fq]](u,i)){1u};if(i[a[2q]]===1g){1u};if(y[a[25]](B[a[fr]](q,u,i))){r=q;k=u;1l}};m=x;if(k){1l}}}1e{1i(q=1k[a[1F]](l,0);q>=A;q--){u=n[q];if(B[a[fq]](u,i)){1u};if(y[a[25]](B[a[fr]](q,u,i))){r=q;k=u;1l}}};if(D){if(k&&r>=0){B[a[4d]]();B[a[6e]][i[h]]=r;B[a[cR]]={2P:r,3l:i[a[1n]]};B[a[eP]](i[a[1n]]);B[a[aL]](s,k,i);B[a[3m]](r);B[a[2Q]]();B[a[2B]]()}1e{B[a[8w]](C)}}1e{if(k&&r>=0){if(B[a[cR]]&&!(B[a[cR]][a[1H]]==r&&B[a[cR]][a[1n]]==i[a[1n]])){B[a[6e]][i[h]]=r;B[a[cR]]={2P:r,3l:i[a[1n]]};B[a[eP]](i[a[1n]]);B[a[4d]]();if(E){B[a[7W]](r,1f)}1e{if(s){if(r>z+B[a[2u]]-2){B[a[3m]](r)}}1e{B[a[3m]](r+B[a[2u]]-2)}};B[a[aL]](s,k,i);B[a[2Q]]();B[a[2B]]()}1e{if(E){B[a[7W]](r,1f)}1e{if(r<z||z+B[a[2u]]-1<=r){B[a[3m]](r)}};if(r!=B[a[8s]](B[a[5J]])||B[a[7z]]!=i[a[1n]]){B[a[eP]](i[a[1n]]);B[a[aL]](s,k,i);B[a[2Q]]();B[a[2B]]();1d};B[a[8w]](C,1f)}}1e{B[a[8w]](C)}}}},UL:1c(f,x,t){1a w=1b;1a j;1a k=w[a[1z]];1a r;1a n=-1;1a p=1h;1a g=1h;1a s;1a o=1f;1a b=1g;1a A=1f;1a v=w[a[1S]];1a z=w[a[3p]];1a y=w[a[2m]];1a m,q;1a u=w[a[1M]];1a d=w[a[2O]];1a h=0;1a i;if(l(f)){1d};i=f[a[1n]];if(!bn(t)){t={}};t=cd[a[69]]({oV:1f,NP:1g,NU:1g,NS:1f},t);if(t[a[a1]]!==1f){o=1g};if(t[a[V1]]!==1g){b=1f;r=1j 5s(x[a[56]](/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,a[pD]))}1e{r=1j 5s(x[a[56]](/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,a[pD]),a[pq])};if(t[a[UZ]]!==1g){if(b){r=1j 5s(a[pL]+x+a[ii])}1e{r=1j 5s(a[pL]+x+a[ii],a[pq])}};if(t[a[UF]]!==1f){A=1g};if(!w[a[6e]]){w[a[6e]]={}};j=w[a[2c]][a[7B]];if(w[a[5J]]!=-1&&w[a[7z]]!=-1){g=w[a[1x]][w[a[8s]](w[a[5J]])];i=w[a[7z]];if(g){h=w[a[2M]](g[u],u,j)}1e{if(o){h=v+1;i=-1}1e{h=v;i=k[a[59]]}}}1e{if(o){h=-1;i=-1}1e{h=v;i=k[a[59]]}};if(!o&&f[a[1n]]<i){h+=1}1e{if(o&&f[a[1n]]>i){h-=1}};if(o){h=1k[a[1F]](h,-1);q=j[a[59]];1i(m=1k[a[1A]](h+1,q);m<q;m++){p=j[m];if(w[a[fq]](p,f)){1u};if(r[a[25]](w[a[fr]](m,p,f))){n=m;g=p;1l}};if(g&&n>=0){if(!g[a[3e]]){w[a[sH]](g);w[a[5S]](1f)};s=w[a[2M]](g[u],u,w[a[1x]]);if(y){if(g&&s>=0){w[a[4d]]();w[a[6e]][f[d]]=n;w[a[1O]]=[[g[u],f[a[1n]]]];w[a[3m]](s);w[a[2Q]]();w[a[2B]]()}}1e{w[a[6e]][f[d]]=n;w[a[4d]]();w[a[1O]]=[[g[u],f[a[1n]]]];if(z){w[a[7W]](s,1f)}1e{if(v+w[a[2u]]-1<=s){w[a[3m]](s-w[a[2u]]+2)}};w[a[2Q]]();w[a[2B]]()}}1e{if(A){w[a[Uj]](f,x,r,1f)}1e{w[a[8w]](x)}}}1e{q=j[a[59]];1i(m=1k[a[1A]](h-1,q-1);m>=0;m--){p=j[m];if(w[a[fq]](p,f)){1u};if(r[a[25]](w[a[fr]](m,p,f))){n=m;g=p;1l}};if(g&&n>=0){if(!g[a[3e]]){w[a[sH]](g);w[a[5S]](1f)};s=w[a[2M]](g[u],u,w[a[1x]]);if(y){if(g&&s>=0){w[a[4d]]();w[a[6e]][f[d]]=n;w[a[1O]]=[[g[u],f[a[1n]]]];w[a[3m]](s);w[a[2Q]]();w[a[2B]]()}}1e{w[a[6e]][f[d]]=n;w[a[4d]]();w[a[1O]]=[[g[u],f[a[1n]]]];if(z){w[a[7W]](s,1f)}1e{if(v>s){w[a[3m]](s)}};w[a[2Q]]();w[a[2B]]()}}1e{if(A){w[a[Uj]](f,x,r,1g)}1e{w[a[8w]](x)}}}},Ue:1c(d,t,o,i){1a s=1b;1a h;1a k=-1;1a m=1h;1a f=1h;1a u=s[a[2m]];1a r=s[a[1S]];1a v=s[a[3p]];1a j,n;1a q=s[a[1M]];1a b=s[a[2O]];1a p;1a g=0;h=s[a[2c]][a[7B]];n=h[a[59]];if(i){1i(j=g;j<n;j++){m=h[j];if(s[a[fq]](m,d)){1u};if(o[a[25]](s[a[fr]](j,m,d))){k=j;f=m;1l}};if(l(f)){s[a[8w]](t);1d};if(!f[a[3e]]){s[a[sH]](f);s[a[5S]](1f)};p=s[a[2M]](f[q],q,s[a[1x]]);if(u){if(f&&k>=0){s[a[4d]]();s[a[6e]][d[b]]=k;s[a[1O]]=[[f[q],d[a[1n]]]];s[a[3m]](p);s[a[2Q]]();s[a[2B]]()}1e{s[a[8w]](t)}}1e{if(f&&k>=0){if(s[a[6e]][d[b]]!=k){s[a[4d]]();s[a[6e]][d[b]]=k;s[a[1O]]=[[f[q],d[a[1n]]]];if(v){s[a[7W]](p,1f)}1e{s[a[3m]](1k[a[1F]](0,p-1))};s[a[2Q]]();s[a[2B]]()}1e{if(v){s[a[7W]](p,1f)}1e{if(p<r||r+s[a[2u]]-1<=p){s[a[3m]](1k[a[1F]](0,p-1))}};s[a[eP]](d[a[1n]]);s[a[1O]]=[[f[q],d[a[1n]]]];s[a[2Q]]();s[a[2B]]();s[a[8w]](t,1f)}}1e{s[a[8w]](t)}}}1e{g=n-1;1i(j=1k[a[1F]](g,0);j>=0;j--){m=h[j];if(s[a[fq]](m,d)){1u};if(o[a[25]](s[a[fr]](j,m,d))){k=j;f=m;1l}};if(l(f)){s[a[8w]](t);1d};if(!f[a[3e]]){s[a[sH]](f);s[a[5S]](1f)};p=s[a[2M]](f[q],q,s[a[1x]]);if(u){if(f&&k>=0){s[a[4d]]();s[a[6e]][d[b]]=k;s[a[1O]]=[[f[q],d[a[1n]]]];s[a[3m]](p);s[a[2Q]]();s[a[2B]]()}1e{s[a[8w]](t)}}1e{if(f&&k>=0){if(s[a[6e]][d[b]]!=k){s[a[4d]]();s[a[6e]][d[b]]=k;s[a[1O]]=[[f[q],d[a[1n]]]];if(v){s[a[7W]](p,1f)}1e{s[a[3m]](p)};s[a[5S]](1f);s[a[2Q]]();s[a[2B]]()}1e{if(v){s[a[7W]](p,1f)}1e{if(p<r||r+s[a[2u]]-1<=p){s[a[3m]](p);s[a[5S]](1f)}};s[a[eP]](d[a[1n]]);s[a[1O]]=[[f[q],d[a[1n]]]];s[a[2Q]]();s[a[2B]]();s[a[8w]](t,1f)}}1e{s[a[8w]](t)}}}},U8:1c(f,d,b){1a h=1b;1a i;1a g=h[a[1M]];if(f){i=[];i[a[1s]]([d[g],b[a[1n]]]);cd[a[1q]](h[a[1O]],1c(f,h){if(!(h[0]==d[g]&&h[1]==b[a[1n]])){i[a[1s]](h)}});h[a[1O]]=i;i=1h}1e{h[a[1O]]=[[d[g],b[a[1n]]]];h[a[3j]]=1h;h[a[3k]]=1h;h[a[3t]]=1h;h[a[3u]]=1h}},U6:1c(g,b){1a f=1b;b=!!b;if(i(f[a[1I]][a[NW]])){1a d={1P:a[NW],2y:f[a[2f]],1s7:g,2us:b};f[a[1I]][a[NW]](d)}},Uy:1c(){1a Q=1b,s=Q[a[1x]],r=s[a[59]],b=Q[a[2I]],L=Q[a[Dp]],R=Q[a[Dj]],B,H,M,g=Q[a[3Z]],h=Q[a[3Y]],D=Q[a[8L]],S,v,m=Q[a[1z]],o,U=1h,V=1h,T,q,y,P=Q[a[mG]],z,C,E,l,k=1h,O=1h,p,w=Q[a[2o]],n=Q[a[2N]],d,i=W[a[2k]][a[5N]],j=i*2,A=Q[a[KW]],N=Q[a[1M]],u=Q[a[k4]],Y=Q[a[Oh]],I,F,G=0,X=-1,t=Q[a[1X]],Z=Q[a[iA]],ba=Q[a[VT]],x=Q[a[1V]],J=0,K=0;1a f=1c(b){1d 1L b===a[67]};if(Y){I={ic:a[7j],Ol:a[7j],BY:a[7j],NZ:a[7j],O3:a[7j]}};if(r<=0||!b){1d 0};d=b[a[59]];S=0;v=s[a[59]]-1;1i(z=0,E=h[a[59]];z<E;z++){V=h[z];V[a[213]](1f,a[58]);V[a[195]](0);V[a[202]](a[165],a[58]);1i(C=0,l=g[z][a[59]];C<l;C++){g[z][C][a[207]]()}};if(w>0&&D){1i(z=0,E=D[a[59]];z<E;z++){V=D[z];V[a[213]](1f,a[58]);V[a[195]](0);V[a[202]](a[165],a[58])}};1i(z=v;z>=S;z--){B=s[z];X++;if(X>=d){1l};V=h[X];if(!B){V[a[213]](1g);1u};if(R){M=L[z%L[a[59]]];if(B[a[2R]]!=1f){V[a[202]](a[165],M)}1e{T=s[z][a[2ut]]||M;V[a[202]](a[165],T)}};V[a[213]](1f,a[58]);if(f(P)){O=P(z,B,r);if(O&&O!=a[58]){V[a[206]](O)}};1i(C=0,l=m[a[59]];C<l;C++){U=g[X][C];if(m[C][a[2q]]===1g){1u};U[a[213]](1f,a[58]);H=b[X][C];H[a[213]](1f);if(H[a[dC]]){H[a[194]](n[C])}1e{p=n[C]-j;if(p<0){p=0};H[a[194]](p)};q=m[C][a[1m]];y=m[C][a[2a]];o=B[q];H[a[1H]]=z;H[a[1n]]=C;H[a[1w]]=B;H[a[1m]]=q;H[a[2a]]=y;H[a[1B]]=o;H[a[135]]();if(Y){if(u[B[N]]&&u[B[N]][q]){U[a[uu]](u[B[N]][q])}1e{U[a[uu]](I)}};if(f(m[C][a[7b]])){k=m[C][a[7b]](z,C,o,y,B,q);if(k&&k!=a[58]){U[a[206]](k)}1e{if(A&&O&&O!=a[58]){U[a[206]](O)}1e{U[a[207]]()}}}1e{if(A&&O&&O!=a[58]){U[a[206]](O)}1e{U[a[207]]()}}};O=1h};if(Q[a[2H]]&&!Q[a[2m]]){Q[a[2uv]]()};1i(z=0,E=h[a[59]];z<E;z++){F=1k[a[1F]](t,1k[a[244]](h[z][a[139]][a[3T]]+ba));if(w>0&&D&&D[z]){F=1k[a[1F]](F,t,1k[a[244]](D[z][a[139]][a[3T]]+ba))};G+=F;if(Z<=G){1l}};J=r-z;if(x>0){J+=x-1};if(Q[a[2uu]]&&Q[a[2H]]&&!Q[a[2m]]){K=0;cd[a[1q]](m,1c(b,d){if(d[a[7I]]===1f){K=1k[a[1F]](Q[a[lX]](J,d[a[1n]]),K)}});if(K>0){K+=1;J=K}};1d 1k[a[1F]](J,0)},Us:1c(){1a v=1b;1a u=v[a[9t]];1a t=v[a[1M]];1a l=v[a[1x]];1a h=v[a[1z]];1a m,p,o,g;1a n;1a A;1a j;1a k;1a d=v[a[3Z]];1a y=a[58];1a f;1a q=-1;1a r;1a s;1a z=a[7e];1a w=a[a9];1a x=a[9x];1a B,i;k=l[a[59]];1i(m=0,p=v[a[3Y]][a[59]];m<p;m++){j=k-1-m;if(j<0){1l};n=l[j];B=n[t];if(u[B]===1T){u[B]={}};1i(o=0,g=h[a[59]];o<g;o++){A=d[m][o];f=h[o];i=f[a[1m]];if(f[a[7I]]===1f){if(A[a[200]](z)){A[a[201]](z)};r=w+i;s=x+i;q=u[B][r];if(u[B][s]===1g&&q==1){q=b(j,m,s,r);if(q!=-1){A[a[199]](z,q)};A[a[213]](1f,y)}1e{if(u[B][s]===1f&&q==1){A[a[213]](1f,y)}1e{A[a[213]](1g)}}}}};1c b(b,j,h,g){1a i=-1;1a f;1a k;1i(1a d=b-1;d>=0;d--){f=v[a[1x]][d];k=f[t];if(u[k][h]===1f){i=u[k][g];1l}};1d i}},Vf:1c(){1a n=1b,r=n[a[2m]],s=n[a[iA]],t=n[a[3p]],d=n[a[1X]],f=n[a[2o]],b=n[a[3Y]],j=n[a[8L]],q,m,p,k,i,l,u=n[a[VT]],g,h;1a o=a[58];n[a[uN]]=[];n[a[c7]]=0;if(!t||n[a[1x]][a[59]]<=0){n[a[uh]]();n[a[oy]]();1d};if(n[a[ef]]){s=1o[a[5E]]};q=0;1i(i=0,l=b[a[59]];i<l;i++){p=b[i];if(!p[a[189]]){n[a[uN]][i]=0;1u};if(j){k=j[i]};if(!r&&q>s){m=0}1e{g=1k[a[244]](p[a[139]][a[3T]]+u);if(f>0){h=1k[a[244]](k[a[139]][a[3T]]+u);g=1k[a[1F]](g,h)};m=1k[a[1F]](d,g)};if(m>0){if(p){p[a[195]](m);p[a[213]](1f,o)};if(k){k[a[195]](m);k[a[213]](1f,o)}}1e{if(p){p[a[195]](m);p[a[213]](1g)};if(k){k[a[195]](m);k[a[213]](1g)}};n[a[uN]][i]=m;q+=m};n[a[c7]]=q;n[a[uh]]();n[a[oy]]()},VS:1c(m,k){1a n=1b,r=n[a[2m]],t,l,q=n[a[c7]],p,h,g,o,i=n[a[1S]],j=n[a[1V]],s=n[a[iA]];if(!n[a[2w]]||!n[a[3p]]){1d};if(j>0){cd[a[1q]](n[a[3Y]],1c(b,d){if(b<j){s-=d[a[129]]}1e{1d 1g}})};t=n[a[1R]][a[2K]];if(r){p=f(t);i=1k[a[244]](m%n[a[8X]]);h=b(i);g=n[a[1R]][a[5O]]-t;o=q-g;if(p[a[nK]]<=i&&h[a[rB]]<o){n[a[1R]][a[2r]](t)}1e{if(i<p[a[nK]]){l=t-(p[a[2ud]]-h[a[2uh]]);n[a[1R]][a[2r]](l)}1e{if(h[a[rB]]>o){l=t+(h[a[rB]]-o);n[a[1R]][a[2r]](l)}}}}1e{h=b(n[a[6K]](m));if(m<j){n[a[1R]][a[2r]](t);1d};if(i<=m&&h[a[rB]]<s){n[a[1R]][a[2r]](t)}1e{if(k===1f){n[a[1R]][a[2r]](m-j)}1e{if(m<i){n[a[1R]][a[2r]](m)}1e{if(h[a[rB]]>s){n[a[1R]][a[2r]](d(m,s))}}}}};1c f(f){1a b=n[a[3Y]],g=0,d=0;cd[a[1q]](b,1c(b,h){g+=h[a[129]];d=b;if(g>=f){1d 1g}});1d{7C:d+1,VV:g}}1c b(d){1a b=n[a[3Y]],f=0,g=0;cd[a[1q]](b,1c(b,h){if(b<j){1d};f+=h[a[129]];if(b>=d){1d 1g};g+=h[a[129]]});1d{VX:f,VW:g}}1c d(g,l){1a b=n[a[3Y]],k=n[a[6K]](g),i=0,h=k,f,d;if(k<0||k>b[a[59]]-1){1d g};1i(f=k;f>=0;f--){d=b[f];if(d){i+=d[a[129]];if(i>=l){1l}};h=f};h=n[a[8s]](h);if(j>0){h-=j};1d h}},Rj:1c(h){if(!y[a[41]]){if(!y[a[17]]){1d 1g}};if(l(h)){h={}};1a i=1b;1a f=i[a[1z]];1a b=i[a[2I]];1a g={};1a d=i[a[1x]];1a j;h=cd[a[69]]({gc:a[58],s0:1g,PH:a[wR],vP:a[vf],W8:1g,Aw:a[7d],Wk:a[PF],Wl:10,Wn:12,MI:i[a[6o]](),vz:21,Wh:12,N1:i[a[dK]](),Wc:{5Y:26,6L:26,9O:26,7E:26},vO:1f},h);h[a[2V]]=cd[a[5R]](h[a[2V]]);h[a[PY]]=cd[a[5R]](h[a[PY]]);h[a[Ou]]=cd[a[5R]](h[a[Ou]]);h[a[fJ]]=cd[a[5R]](h[a[fJ]]);h[a[1X]]=cd[a[5R]](h[a[1X]]);h[a[jb]]=cd[a[5R]](h[a[jb]]);cd[a[1q]](h[a[5P]],1c(b,d){h[a[5P]][b]=cd[a[5R]](d)});if(!l(h[a[a0]])){h[a[a0]]=cd[a[5R]](i[a[a0]])}1e{if(i[a[8n]]){h[a[a0]]=cd[a[5R]](i[a[uM]])}1e{h[a[a0]]=0}};if(h[a[mW]]==a[7d]){if(y[a[41]]&&!h[a[sC]]){h[a[mW]]=1g}1e{h[a[mW]]=1f}};i[a[sg]]();if(bi(h[a[vF]])||bi(h[a[wT]])||h[a[OO]]){i[a[pR]]={};j=[];if(bi(h[a[vF]])){cd[a[1q]](h[a[vF]],1c(b,d){j[a[1s]](d[a[wP]])})};if(bi(h[a[wT]])){cd[a[1q]](h[a[wT]],1c(b,d){j[a[1s]](d[a[wP]])})};if(h[a[OO]]){cd[a[1q]](f,1c(b,d){if(d[a[1G]]&&d[a[1G]][a[85]]==a[wB]){g[d[a[1m]]]=b}});cd[a[1q]](d,1c(h,k){1a d;1a f;1a i;1i(1a h in g){f=g[h];d=b[0][f];if(d&&d[a[x1]]){i=d[a[x1]](h,f,k[h],k);if(!l(i)){j[j[a[59]]]=i}}}})};j=cd[a[7V]](j);if(j[a[59]]>0){u[a[2ui]](j,1c(b){1a d=i[a[VL]]();i[a[pR]]=d[a[2tb]](b);b=1h;i[a[Nn]](h)},1c(b){6h 1j 6G(a[2t9])})}1e{i[a[Nn]](h)}}1e{bL(i[a[ls]])[a[8z]](1c(){i[a[Nn]](h)})};i[a[pR]]=1h},VQ:1c(h){1a j=1b;1a b;1a g;1a d;1a f;if(i(h[a[hD]])){h[a[hD]]()};if(y[a[24]]&&!y[a[41]]){if(1L 2g[a[vA]]==a[118]){b=y[a[ns]][a[9f]][a[vc]](2g[a[vA]],1g);g=b[a[59]];d=1j 7S(g);1i(f=0;f<g;f++){d[f]=b[a[5q]](f)};2g[a[vA]]=d;j[a[N2]](d,h)}1e{if(1L 2g[a[vA]]==a[121]){j[a[N2]](2g[a[vA]],h)}1e{j[a[ga]]();Ej(a[2ta])}}}1e{u[a[Vs]](h[a[2tj]],1c(b,d){if(b){j[a[N2]](b,h)}1e{j[a[ga]]();Ej(a[Vu]+d)}},1c(d,b){j[a[ga]]();Ej(a[Vu]+d)})}},Vp:1c(){1a b=1h;if(!l(2g[a[Vh]])){b=2g[a[Vh]]}1e{if(!l(2g[a[2k]])&&!l(2g[a[2k]][a[Vl]])){b=2g[a[2k]][a[Vl]]}1e{6h 1j 6G(a[2ti]);1d}};1d b},Vy:1c(g,k){1a l=1b;1a d=[];1a f;1a b;1a m;l[a[gy]]=[];cd[a[1q]](l[a[2N]],1c(b,d){l[a[gy]][b]=cd[a[5R]](d)});if(!k[a[e2]]){k[a[e2]]||a[PF]};1a j=l[a[2th]](k);1a h=l[a[VL]]();f=1j h(cd[a[69]](k,{2tg:a[2k],lM:j[0],vP:j[1]}));f[a[Pu]][a[Vz]]=1j 1Z();f[a[Pu]][a[2t7]]=1j 1Z(f[a[Pu]][a[Vz]]);f[a[2t0]](a[VE],g);f[a[2sW]](a[VE])[a[2V]](k[a[2V]])[a[8C]](k[a[e2]]);1a n=l[a[2sX]]();m=cd[a[4q]](a[sa]);if(m[a[3s]]&&m[a[3s]]!=a[58]){b=cd[a[8v]](m[a[3s]])}1e{b=k[a[e2]]};if(!n[a[lb]][a[3s]]){n[a[lb]][a[3s]]=b};if(bi(k[a[rF]])){k[a[mH]]=l[a[2t6]](f,k,n);k[a[mH]]-=k[a[5P]][a[154]]}1e{k[a[mH]]=0};if(bi(k[a[vF]])){l[a[TV]](f,k[a[vF]],0,1f)};l[a[Ti]](f,k,n,1f);l[a[1Yp]](f,k,n);f[a[2V]](1)[a[8C]](a[y9])[a[45]](a[rw],0,0);f[a[83]](a[1w],1c(b){d[a[1s]](b)});f[a[83]](a[aE],1c(){if(y[a[41]]&&!k[a[sC]]){1a g=1j jw(d,{1P:a[2t4]});if(k[a[hN]]!==1f&&i(2g[a[hY]])){2g[a[hY]](g,k[a[cM]]+a[2t3])};if(i(k[a[aZ]])){k[a[aZ]]()};if(k[a[hN]]===1f&&i(k[a[eS]])){k[a[eS]](g)}}1e{1a b=[];1a j=2tC;1a n=0;1a p;1a q=a[58];1a r;1a h;1a f;1i(1a m=0,o=d[a[59]];m<o;m++){h=d[m];n=0;p=h[a[59]];q=a[58];1U(n<p){r=h[a[222]](n,1k[a[1A]](n+j,p));q+=1E[a[4r]][a[63]](1h,r);n+=j};b[m]=q};f=y[a[ns]][a[9f]][a[mj]](b[a[61]](a[58]),1g);l[a[wQ]](l[a[ry]],{qt:a[2uz],3D:f,sB:k[a[cM]],gc:k[a[xa]]});if(i(k[a[aZ]])){k[a[aZ]]()}};bL(l[a[ls]])[a[8z]](1c(){l[a[ga]]()})});f[a[aE]]();l[a[pR]]=1h},SE:1c(r){1a t=1b;1a f=t[a[gy]];1a w=r[a[a0]];1a o=0;1a g=0;1a l=r[a[5P]][a[152]];1a m=r[a[5P]][a[3H]];1a n=1o[a[5E]];1a s=1h;1a j=1;1a q;1a k=r[a[jM]];1a b=[Qb.28,yJ.89];1a v={\'2tz\':[SO.87,2to.79],\'2ts\':[Fp.39,SO.87],A0:[kh.94,Fp.39],A1:[8h.78,kh.94],A2:[zj.55,8h.78],A3:[yJ.89,zj.55],A4:[Qb.28,yJ.89],B0:[Ib.65,1ku.19],B1:[gh.SL,Ib.65],B2:[uT.32,gh.SL],B3:[6m.63,uT.32],B4:[F5.66,6m.63]};cd[a[1q]](f,1c(a,b){if(b!=0){g++};w+=b});if(r[a[MW]]==a[zl]&&k){if(k!=a[vf]){j=0};s=[a[zl],k];n=b[j]-l-m-w}1e{if(w<=b[0]-l-m){s=[a[zl],a[2vn]];n=b[0]-l-m-w}1e{if(w<=b[1]-l-m){s=[a[zl],a[vf]];n=b[1]-l-m-w}}};if(!s){1a u;1a h;if(k!=a[vf]){j=0};1i(1a p in v){u=v[p];h=u[j]-l-m-w;if(h>0&&h<n){s=[p,k];n=h}}};if(s&&n!=1o[a[5E]]){1a d=n/g;cd[a[1q]](f,1c(b,f){if(f!=0){t[a[gy]][b]=1k[a[244]](f+d);o+=1k[a[244]](f+d)}})};if(s[1]==a[vf]){q=v[s[0]][1]-o-l-m-r[a[a0]]}1e{q=v[s[0]][0]-o-l-m-r[a[a0]]};1i(1a i=t[a[gy]][a[59]]-1;i>0;i--){if(t[a[gy]][i]>0){t[a[gy]][i]+=q;1l}};1d s},SK:1c(){1a g=1b;1a i;1a j={};1a b=g[a[1z]];1a d=b[a[59]];1a f;1a h=cd[a[4q]](a[Rz],1f);i={};1i(f=h[a[59]]-1;f>=0;f--){i=g[a[6r]](i,h[f])};j[a[lb]]=i;h=cd[a[4q]](a[oc],1f);i={};1i(f=h[a[59]]-1;f>=0;f--){i=g[a[6r]](i,h[f])};j[a[xS]]=i;j[a[yZ]]=[];1i(f=0;f<d;f++){if(b[f][a[169]]){j[a[yZ]][f]=g[a[6r]]({},cd[a[4q]](b[f][a[169]]))}1e{j[a[yZ]][f]=1h}};h=cd[a[4q]](a[Si],1f);i={};1i(f=h[a[59]]-1;f>=0;f--){i=g[a[6r]](i,h[f])};j[a[sO]]=i;h=cd[a[4q]](a[Uw],1f);i={};1i(f=h[a[59]]-1;f>=0;f--){i=g[a[6r]](i,h[f])};j[a[ec]]=i;1d j},Sp:1c(i,x,A,q){1a y=1b;1a g=y[a[gy]];1a m=y[a[o3]];1a j=y[a[1z]];1a d,o;1a H=x[a[5P]][a[152]]+x[a[a0]];1a I;1a t;1a C=x[a[5P]][a[154]];1a D=x[a[fJ]];1a n=y[a[f7]];1a h;1a p,r;1a B;1a w;1a b;1a v;1a u;1a F=A[a[ec]]&&A[a[ec]][a[2t]]?A[a[ec]][a[2t]]:a[y9];1a E=1g;1a f;1a G,s,z;q=!!q;if(q){C=x[a[5P]][a[154]]+x[a[mH]]};i[a[2V]](x[a[PY]]);h=i[a[w1]](1f);if(x[a[a0]]>0){t=C;I=1k[a[7y]](C+(D-h)*0.5);w=y[a[6r]](w,A[a[lb]]);i[a[9y]]()[a[8t]](0.5)[a[7s]](x[a[5P]][a[152]],t,x[a[a0]],D)[a[6t]](w[a[2t]],F)[a[8C]](w[a[3s]]);i[a[45]](y[a[ER]],x[a[5P]][a[152]]+4,I,{3b:x[a[a0]]-8,et:a[cY]});i[a[aa]]()};w=1h;cd[a[1q]](m,1c(g,j){1a d=j[a[1t]];1a f=l(d[a[2a]])?d[a[1m]]:1E(d[a[2a]])[a[178]]()==a[58]?a[58]:d[a[2a]];b=k(d);if(!b){1d};w=y[a[6r]](w,A[a[lb]]);if(d[a[dl]]){w=y[a[6r]](w,cd[a[4q]](d[a[dl]]))};B=w[a[3d]]?w[a[3d]]:a[cY];E=w[a[8P]]==a[eZ]?1f:1g;v=y[a[6o]](d[a[2x]]-1);v=cd[a[5R]](v);u=y[a[m5]](d[a[2x]]);u=cd[a[5R]](u);t=C+v;I=1k[a[7y]](t+(u-h)*0.5);i[a[9y]]()[a[8t]](0.5)[a[7s]](b[a[130]],t,b[a[127]],u)[a[6t]](w[a[2t]],F)[a[8C]](w[a[3s]]);i[a[45]](cd[a[9F]](f),b[a[130]]+4,I,{3b:b[a[127]]-8,et:B,j3:E});i[a[aa]]();w=1h});1i(p=0,r=j[a[59]];p<r;p++){d=j[p];f=1D(1o(d[a[2T]]))?0:1o(d[a[2T]]);if(d[a[2q]]===1g||d[a[2T]]===-1){1u};o=l(d[a[2a]])?d[a[1m]]:1E(d[a[2a]])[a[178]]()==a[58]?a[58]:d[a[2a]];w=y[a[6r]](w,A[a[lb]]);if(d[a[dl]]){w=y[a[6r]](w,cd[a[4q]](d[a[dl]]))};B=w[a[3d]]?w[a[3d]]:a[cY];E=w[a[8P]]==a[eZ]?1f:1g;v=y[a[6o]](d[a[2x]]-1);v=cd[a[5R]](v);u=D-v;t=C+v;if(d[a[2x]]==n){I=1k[a[7y]](t+(u-h)*0.5)}1e{I=1k[a[7y]](t+(u-h)*0.5)};if(f>0){z=0;1i(G=1k[a[1F]](0,d[a[1n]]),s=1k[a[1A]](g[a[59]],G+f);G<s;G++){z+=g[G]}}1e{z=g[p]};i[a[9y]]()[a[8t]](0.5)[a[7s]](H,t,z,u)[a[6t]](w[a[2t]],F)[a[8C]](w[a[3s]]);i[a[45]](cd[a[9F]](o),H+4,I,{3b:z-8,et:B,j3:E});i[a[aa]]();H+=z;w=1h};1c k(b){1a h=0;1a i=0;1a d,f;1i(d=0,f=b[a[1n]];d<f;d++){h+=g[d]};1i(d=b[a[1n]],f=d+b[a[8a]];d<f;d++){i+=g[d]};if(i==0){1d 1h};1d{x:h+x[a[5P]][a[152]]+x[a[a0]],3b:i}}},U4:1c(q,L,X){1a T=1b;1a j=T[a[1z]];1a o=T[a[1x]];1a Z=T[a[vp]](1f);1a be=T[a[1Q]];1a bh=T[a[4z]];1a bd=T[a[mw]];1a k=T[a[gy]];1a bk=L[a[5P]][a[152]]+L[a[a0]];1a bl=0;1a bc=L[a[fJ]];1a P=L[a[1X]];1a J=q[a[mZ]][a[127]];1a I=q[a[mZ]][a[129]];1a h=X[a[yZ]];1a S=T[a[mG]];1a m;1a O;1a f;1a K;1a ba;1a bn;1a b;1a A;1a N;1a D;1a G;1a F;1a g,y;1a Y;1a p=Z[a[59]]-1;1a bj=X[a[ec]]&&X[a[ec]][a[2t]]?X[a[ec]][a[2t]]:a[y9];1a H=0;1a s=L[a[jb]];1a t=0;1a bf=1g;1a R=L[a[a0]];1a V=R>0?1f:1g;1a n=T[a[TF]];1a U=T[a[TH]];1a bo=T[a[G3]];1a M=T[a[Gg]];1a Q;1a E;1a w=1g;1a x=L[a[KW]];1a bb,z,C;1a bm;1a d;1a r=L[a[OO]];1a bg,W,v;if(!T[a[2Z]]){s=0};q[a[2V]](L[a[Ou]]);m=q[a[w1]](1f);ba=1k[a[7y]]((P-m)*0.5);bn=L[a[5P]][a[154]]+bc+L[a[mH]];b=I-L[a[5P]][a[4S]]-P+ba;A=L[a[5P]][a[152]];N=J-L[a[5P]][a[3H]];D=bn+P;bl=bn+ba;if(T[a[2Z]]&&T[a[3r]]&&T[a[6x]]==a[154]){T[a[U0]](q,L,X,bl-ba);bl+=s;D+=s};1i(1a u=0,B=Z[a[59]];u<B;u++){O=Z[u];y=o[u];if(V){if(U){Q=y[n]}1e{if(M){if(bo){Q=B-(1+u)}1e{Q=B-u}}1e{if(bo){Q=u}1e{Q=u+1}}};G=T[a[6r]](G,X[a[xS]]);if(i(S)){F=S(u,y);if(F&&F[a[59]]>0){G=T[a[6r]](G,cd[a[4q]](F))}};if(G[a[2t]]||G[a[3s]]){q[a[9y]]();if(G[a[2t]]){q[a[7s]](A,D-P,R,P)[a[kt]](G[a[2t]])};if(G[a[3s]]){q[a[8C]](G[a[3s]])}1e{q[a[8C]](L[a[e2]])}}1e{q[a[8C]](L[a[e2]])};q[a[45]](Q+a[58],A+4,bl,{3b:R-8,et:a[cY]});if(G[a[2t]]||G[a[3s]]){q[a[aa]]()};G=1h};bb=-1;1i(z=0,C=j[a[59]];z<C;z++){g=j[z];K=k[z];if(g[a[2q]]===1g){1u};bb++;f=O[bb];G=T[a[6r]](G,X[a[xS]]);if(h[z]){G=T[a[6r]](G,h[z])};if(i(S)){F=S(u,y);if(F&&F[a[59]]>0){G=T[a[6r]](G,cd[a[4q]](F));if(!x&&h[z]){G=T[a[6r]](G,h[z])}}};d=g[a[7b]];if(i(d)){F=d(u,z,y[g[a[1m]]],g[a[2a]],y,g[a[1m]])||a[58];if(F&&F[a[59]]>0){G=T[a[6r]](G,cd[a[4q]](F))}};Y=G[a[3d]]?G[a[3d]]:a[cY];bf=G[a[8P]]==a[eZ]?1f:1g;if(g[a[1G]]){if(g[a[1G]][a[85]]==a[S8]){T[a[2vp]](q,g,y,G,{x:bk,y:bl-ba,3b:K,4X:P});bk+=K;G=F=1h;1u}1e{if(g[a[1G]][a[85]]==a[RY]){T[a[2vq]](q,g,y,G,{x:bk,y:bl-ba,3b:K,4X:P});bk+=K;G=F=1h;1u}1e{if(g[a[1G]][a[85]]==a[QV]){T[a[2vs]](q,g,y,G,{x:bk,y:bl-ba,3b:K,4X:P});bk+=K;G=F=1h;1u}1e{if(g[a[1G]][a[85]]==a[xr]){T[a[2vB]](q,g,y,G,{x:bk,y:bl-ba,3b:K,4X:P});if(g[a[1G]][a[LM]]===1g){bk+=K;G=F=1h;1u}1e{if(g[a[3W]]&&g[a[3W]]==a[4t]&&g[a[5D]]){f=T[a[1ol]](u,g[a[1m]])}}}1e{if(g[a[1G]][a[85]]==a[Cp]&&g[a[1G]][a[gT]]!=a[xB]){w=1f;E=a[58];if(g[a[1G]][a[gT]]){E=g[a[1G]][a[gT]];if(!l(g[a[1G]][a[9J]])&&!l(y[g[a[1G]][a[9J]]])){E+=y[g[a[1G]][a[9J]]]}}1e{if(!l(g[a[1G]][a[9J]])&&!l(y[g[a[1G]][a[9J]]])){E=y[g[a[1G]][a[9J]]]}}}1e{if(r&&g[a[1G]][a[85]]==a[wB]){bg=T[a[2I]][0][g[a[1n]]][a[x1]](u,g[a[1n]],y[g[a[1m]]],y);if(l(bg)){bk+=K;G=F=1h;1u};W=T[a[pR]][bg];v=!1D(g[a[1G]][a[k7]])?cd[a[5R]](g[a[1G]][a[k7]]):P;q[a[Tr]](bg,W,bk+4,D-P,{Tq:[P,v],2vD:K-8,et:Y,Tj:a[kR]});bk+=K;G=F=1h;1u}}}}}}};if(G[a[2t]]||G[a[3s]]){q[a[9y]]();if(G[a[2t]]){q[a[7s]](bk,D-P,K,P)[a[kt]](G[a[2t]])};if(G[a[3s]]){q[a[8C]](G[a[3s]])}1e{q[a[8C]](L[a[e2]])}}1e{q[a[8C]](L[a[e2]])};if(be&&bh&&z==bd){q[a[45]](f,bk+4+(y[a[4b]]-1)*m,bl,{3b:K-8-(y[a[4b]]-1)*m*2,et:a[152],j3:bf})}1e{if(w){w=1g;q[a[45]](f,bk+4,bl,{3b:K-8,et:Y,j3:bf,TL:E})}1e{q[a[45]](f,bk+4,bl,{3b:K-8,et:Y,j3:bf})}};if(G[a[2t]]||G[a[3s]]){q[a[aa]]()};bk+=K;G=F=1h};q[a[8t]](0.5)[a[Cf]](bj)[a[p4]](A,D)[a[tC]](N,D)[a[tB]]();bk=L[a[5P]][a[152]]+R;bl+=P;D+=P;if(bl-1>=b&&u<p){H=q[a[TX]]();T[a[yI]](q,L,X,1g,H==1);bl=bn+ba-L[a[mH]];D=bn+P-L[a[mH]];T[a[2vE]](q,L,X)}};H=q[a[TX]]();if(T[a[2Z]]&&T[a[3r]]&&T[a[6x]]!=a[154]){if(bl-P-ba+s>b){T[a[yI]](q,L,X,1g,H==1);q[a[P1]]();bl=L[a[5P]][a[154]]+ba};T[a[U0]](q,L,X,bl-ba);T[a[yI]](q,L,X,bl+s-ba,H==1)}1e{T[a[yI]](q,L,X,bl-ba,H==1)};if(bi(L[a[oq]])){cd[a[1q]](L[a[oq]],1c(b,d){if(d[a[129]]){t+=cd[a[5R]](d[a[129]])}1e{t+=P}});if(bl-P-ba+s+t>b){T[a[yI]](q,L,X,1g,H==1);q[a[P1]]();bl=L[a[5P]][a[154]]-s+ba};if(T[a[2Z]]&&T[a[3r]]&&T[a[6x]]!=a[154]){T[a[U2]](q,L,X,bl+s-ba)}1e{T[a[U2]](q,L,X,bl-ba)}};if(bi(L[a[wT]])){if(T[a[2Z]]){bm=bl+L[a[5P]][a[154]]}1e{bm=bl+L[a[5P]][a[154]]-L[a[jb]]};T[a[TV]](q,L[a[wT]],bm)}},TS:1c(i,y,B,I){1a A=1b;1a o=A[a[9z]];1a g=A[a[gy]];1a l;1a d=A[a[1z]];1a n=A[a[6v]];1a m=y[a[jb]];1a x;1a j,b;1a f;1a C;1a w;1a D;1a t=y[a[5P]][a[152]];1a z=y[a[a0]];1a H=t+z;1a J;1a k;1a q=0;1a r,s,u,v;1a G=B[a[ec]]&&B[a[ec]][a[2t]]?B[a[ec]][a[2t]]:a[y9];1a h;1a E;1a F=1g;if(bi(A[a[3r]][0])){l=A[a[3r]]}1e{l=[];l[0]=A[a[3r]]};h=i[a[w1]](1f);E=1k[a[7y]]((m-h)*0.5);J=I+E;w=A[a[6r]](w,B[a[sO]]);i[a[9y]]()[a[8t]](0.5);if(z>0){i[a[7s]](t,I,z,m)[a[6t]](w[a[2t]],G)};1i(r=0,u=d[a[59]];r<u;r++){i[a[7s]](H,I,g[r],m)[a[6t]](w[a[2t]],G);H+=g[r]};w=1h;J=I;1i(r=0,u=1k[a[1A]](l[a[59]],o);r<u;r++){k=l[r];x=cd[a[5R]](A[a[CZ]](r));E=1k[a[7y]]((x-h)*0.5);J+=q+E;1i(s=0,v=k[a[59]];s<v;s++){j=k[s];if(j[a[lL]]==a[zN]){C=n[r][s];w=A[a[6r]](w,B[a[sO]]);i[a[8C]](w[a[3s]]);i[a[45]](C,t+2,J,{3b:z-4,et:a[cY]})}1e{f=A[a[6U]](j[a[lL]]);if(f!=-1){b=d[f];if(b[a[2q]]===1g){1u};w=A[a[6r]](w,B[a[sO]]);if(j[a[169]]){w=A[a[6r]](w,cd[a[4q]](j[a[169]]))};D=w[a[3d]]?w[a[3d]]:a[cY];F=w[a[8P]]==a[eZ]?1f:1g;C=cd[a[9F]](n[r][s]);H=p(f);i[a[9y]]()[a[8t]](0.5)[a[7s]](H,J-E,g[f],x)[a[6t]](w[a[2t]],G)[a[8C]](w[a[3s]]);i[a[45]](C,H+4,J,{3b:g[f]-8,et:D,j3:F});i[a[aa]]();w=1h}}};q=x-E};1c p(a){1a f=0;1a b,d;1i(b=0,d=a;b<d;b++){f+=g[b]};1d f+t+z}},Ts:1c(f,k,o,s,g){1a n=1b;1a q=k[a[fJ]];1a d=n[a[gy]];1a j=f[a[mZ]][a[127]];1a i=f[a[mZ]][a[129]];1a h=k[a[5P]][a[152]];1a p=k[a[5P]][a[154]];1a b=k[a[5P]][a[4S]];1a l=k[a[5P]][a[3H]];1a w=p+q;1a m=k[a[a0]];1a t=h+m;1a s;1a r=o[a[ec]]&&o[a[ec]][a[2t]]?o[a[ec]][a[2t]]:a[y9];g=!!g;if(g){p=k[a[5P]][a[154]]+k[a[mH]];w=p+q};if(1L s==a[0]||s===1g){s=i-b};f[a[8t]](0.5)[a[Cf]](r);if(m>0){f[a[p4]](h+m,w)[a[tC]](h+m,s)[a[tB]]()};1i(1a u=0,v=d[a[59]]-1;u<v;u++){t+=1k[a[244]](d[u]);f[a[p4]](t,w)[a[tC]](t,s)[a[tB]]()};f[a[8t]](1);f[a[Cf]](r);f[a[7s]](h,p,j-h-l,s-p);f[a[p4]](h,w)[a[tC]](j-l,w)[a[tB]]()},Tl:1c(d,p,r){1a q=1b;1a o=d[a[mZ]][a[127]];1a n=d[a[mZ]][a[129]];1a i=p;1a k=q[a[pR]];1a s=1T;1a j;1a l,f;1a v,w,u,g;1a b;1a t;v=0;w=0;1i(1a h=0,m=i[a[59]];h<m;h++){j=i[h];f=j[a[wP]];if(bn(j)&&(l=k[f])!==s){u=j[a[127]]||10;g=j[a[129]]||10;if(j[a[152]]!==s){v=j[a[152]];b=a[152]}1e{if(j[a[3H]]!==s){v=j[a[3H]];v=o-v-u;b=a[3H]}};if(j[a[154]]!==s){w=j[a[154]]+r;t=a[154]}1e{if(j[a[4S]]!==s){w=j[a[4S]];w=n-w-g;t=a[4S]}};d[a[Tr]](f,l,v,w,{Tq:[u,g],et:b,Tj:t})}}},Te:1c(b,n,q){1a f=n[a[rF]];1a d;1a r,p;1a h=0;1a j=n[a[5P]][a[152]];1a o=n[a[5P]][a[3H]];1a m=b[a[mZ]][a[127]];1a v=m-j-o;1a s;1a u=1g;1a t;1a g;1a l;1i(1a i=0,k=f[a[59]];i<k;i++){d=f[i];r=d[a[45]];g=d[a[129]];p=d[a[169]];b[a[9y]]()[a[8t]](0);if(p){if(p[a[2V]]){b[a[2V]](cd[a[5R]](p[a[2V]]))}1e{b[a[2V]](n[a[2V]])}}1e{b[a[2V]](n[a[2V]])};l=b[a[w1]](1f);if(g){g=cd[a[5R]](g)}1e{g=1k[a[1F]](l,n[a[1X]])};t=1k[a[7y]]((g-l)*0.5);if(p){s=p[a[3d]]?p[a[3d]]:a[152];if(p[a[2t]]){b[a[7s]](j,h,v,g)[a[6t]](p[a[2t]],p[a[2t]])};if(p[a[3s]]){b[a[8C]](p[a[3s]])}1e{b[a[8C]](n[a[e2]])};u=p[a[eZ]]===1f?1f:1g};if(r){b[a[45]](r,j,h+t,{3b:v,et:s,j3:u})};b[a[aa]]();h+=g};1d h},Tc:1c(b,o,r,j){1a f=o[a[oq]];1a d;1a s,q;1a h=j;1a k=o[a[5P]][a[152]];1a p=o[a[5P]][a[3H]];1a n=b[a[mZ]][a[127]];1a w=n-k-p;1a t;1a v=1g;1a u;1a g;1a m;1i(1a i=0,l=f[a[59]];i<l;i++){d=f[i];s=d[a[45]];g=d[a[129]];q=d[a[169]];b[a[9y]]()[a[8t]](0);if(q){if(q[a[2V]]){b[a[2V]](cd[a[5R]](q[a[2V]]))}1e{b[a[2V]](o[a[2V]])}}1e{b[a[2V]](o[a[2V]])};m=b[a[w1]](1f);if(g){g=cd[a[5R]](g)}1e{g=1k[a[1F]](m,o[a[1X]])};u=1k[a[7y]]((g-m)*0.5);if(q){t=q[a[3d]]?q[a[3d]]:a[152];if(q[a[2t]]){b[a[7s]](k,h,w,g)[a[6t]](q[a[2t]],q[a[2t]])};if(q[a[3s]]){b[a[8C]](q[a[3s]])}1e{b[a[8C]](o[a[e2]])};v=q[a[eZ]]===1f?1f:1g};if(s){b[a[45]](s,k,h+u,{3b:w,et:t,j3:v})};b[a[aa]]();h+=g}},Th:1c(b,d,g){1a f=1b;b[a[P1]]();f[a[Ti]](b,d,g);b[a[2V]](d[a[2V]])},Tf:1c(d,b){if(!b){1d d||{}};if(!d){d={}};if(b[a[3s]]&&b[a[3s]]!=a[58]){d[a[3s]]=cd[a[8v]](b[a[3s]])};if(b[a[2V]]&&b[a[2V]]!=a[58]){d[a[2V]]=b[a[2V]]};if(b[a[7l]]&&b[a[7l]]!=a[58]){d[a[7l]]=b[a[7l]]};if(b[a[8P]]&&b[a[8P]]!=a[58]){d[a[8P]]=b[a[8P]]};if(b[a[3d]]&&b[a[3d]]!=a[58]){d[a[3d]]=b[a[3d]]};if(b[a[2t]]&&b[a[2t]]!=a[58]&&b[a[2t]]!=a[7j]){d[a[2t]]=cd[a[8v]](b[a[2t]])}1e{if(b[a[e0]]&&b[a[e0]]!=a[58]&&b[a[e0]]!=a[Ve]&&b[a[e0]]!=a[7j]){d[a[2t]]=cd[a[8v]](b[a[e0]])}};1d d},Td:1c(i,f,r,K,h){1a J=1b;1a t=1;1a L=3;1a I=1;1a d=3;1a O=h[a[127]];1a k=h[a[129]];1a Q=h[a[130]];1a S=h[a[131]];1a g=J[a[Pf]](f[a[1m]],r);if(!g||g[a[59]]<=0){1d};1a H=f[a[1G]];if(!l(H[a[9k]])&&!(r[H[a[9k]]]==1f||r[H[a[9k]]]==a[cn])){1d};1a P=O-(t+I);1a n=k-(L+d);1a F=P/g[a[59]];1a m=F*0.5;1a M=N(g);1a U=M[a[1w]];1a E=M[a[1A]];1a C=M[a[1F]];1a G=1;1a z=l(H[a[dH]])?1f:H[a[dH]];1a A=l(H[a[dF]])?1f:H[a[dF]];1a x=l(H[a[tD]])?1f:H[a[tD]];1a y=l(H[a[tE]])?1f:H[a[tE]];1a B=H[a[ph]]||a[pn];1a D=H[a[pk]]||a[p6];1a j=H[a[LV]]||a[9B];1a s=H[a[KF]]||a[9B];1a v=H[a[KE]]||a[9B];1a w=H[a[8t]]||1;1a q=1g;1a p=1f;1a V,R,T;1a b=K[a[2t]];if(b){i[a[9y]]()[a[7s]](Q,S,O,k)[a[kt]](b)[a[aa]]()};i[a[9y]]();i[a[Cf]](v);i[a[8t]](0.5);1i(1a o=0,u=U[a[59]];o<u;o++){V=U[o];R=Q+t+F*o+m;T=S+L+n*(1-V);if(p&&!1D(T)){i[a[p4]](R,T);p=1g}1e{if(1D(T)||V===1h){q=1f;1u};if(q){i[a[p4]](R,T);q=1g}1e{i[a[tC]](R,T)}}};i[a[tB]]();V=U[0];if(x&&V!==1h){R=Q+t+m;T=S+L+n*(1-V);i[a[EF]](R,T,G);i[a[6t]](j,j)};V=U[U[a[59]]-1];if(y&&V!==1h){R=Q+t+F*(U[a[59]]-1)+m;T=S+L+n*(1-V);i[a[EF]](R,T,G);i[a[6t]](s,s)};cd[a[1q]](g,1c(b,d){1a g,f,h;h=U[b];if(E==d&&A&&h!==1h){f=Q+t+F*b+m;g=S+L+n*(1-h);i[a[EF]](f,g,G);i[a[6t]](D,D)}1e{if(C==d&&z&&h!==1h){f=Q+t+F*b+m;g=S+L+n*(1-h);i[a[EF]](f,g,G);i[a[6t]](B,B)}}});i[a[aa]]();1d;1c N(b){1a k=[];1a g=1o[a[5E]]*-1;1a i=1o[a[5E]];cd[a[1q]](b,1c(b,d){if(d===1h){1d}1e{i=1k[a[1A]](d,i);g=1k[a[1F]](d,g)}});1a j=i-0.mN;1a h=g+0.mN;1a l=h-j;1i(1a d=0,f=b[a[59]];d<f;d++){if(b[d]===1h){k[d]=1h;1u};k[d]=(b[d]-j)/l};1d{F8:i,F2:g,3D:k}}},Tp:1c(i,f,o,B,h){1a A=1b;1a p=1;1a C=2;1a z=1;1a d=2;1a G=h[a[127]];1a k=h[a[129]];1a I=h[a[130]];1a K=h[a[131]];1a g=A[a[Pf]](f[a[1m]],o);if(!g||g[a[59]]<=0){1d};1a y=f[a[1G]];if(!l(y[a[9k]])&&!(o[y[a[9k]]]==1f||o[y[a[9k]]]==a[cn])){1d};1a H=G-(p+z);1a m=k-(C+d);1a x=H/g[a[59]];1a D=E(g);1a M=D[a[1w]];1a w=D[a[1A]];1a u=D[a[1F]];1a O=D[a[JD]];1a P=K+C+(1-O)*m;1a r=l(y[a[dH]])?1f:y[a[dH]];1a s=l(y[a[dF]])?1f:y[a[dF]];1a t=y[a[ph]]||a[pn];1a v=y[a[pk]]||a[p6];1a j=y[a[8C]]||a[9B];1a N,J,L;1a b=B[a[2t]];1a F;if(b){i[a[9y]]()[a[7s]](I,K,G,k)[a[kt]](b)[a[aa]]()};i[a[9y]]();i[a[8t]](0);1i(1a n=0,q=M[a[59]];n<q;n++){N=M[n];F=g[n];J=I+p+x*n;L=K+C+m*(1-N);if(1D(L)||N===1h){1u};if(w==u){i[a[7s]](J,K+C,x*0.65,m);i[a[6t]](j,j)}1e{i[a[7s]](J,L,x*0.65,P-L);if(F==w&&s){i[a[6t]](v,v)}1e{if(F==u&&r){i[a[6t]](t,t)}1e{i[a[6t]](j,j)}}}};i[a[aa]]();1d;1c E(b){1a k=[];1a g=1o[a[5E]]*-1;1a i=1o[a[5E]];cd[a[1q]](b,1c(b,d){if(d===1h){1d}1e{i=1k[a[1A]](d,i);g=1k[a[1F]](d,g)}});1a l=g-i;1a j=i-l*0.1-0.mN;1a h=g+l*0.1+0.mN;l=h-j;1a m=(0-j)/l;if(m<0){m=(i-j)/l};1i(1a d=0,f=b[a[59]];d<f;d++){if(b[d]===1h){k[d]=1h;1u};k[d]=(b[d]-j)/l};1d{F8:i,F2:g,Tn:m,3D:k}}},Ta:1c(k,h,q,G,j){1a F=1b;1a r=2;1a H=2;1a E=2;1a g=2;1a J=j[a[127]];1a m=j[a[129]];1a M=j[a[130]];1a O=j[a[131]];1a i=F[a[Pf]](h[a[1m]],q);if(!i||i[a[59]]<=0){1d};1a D=h[a[1G]];if(!l(D[a[9k]])&&!(q[D[a[9k]]]==1f||q[D[a[9k]]]==a[cn])){1d};1a K=J-(r+E);1a o=m-(H+g);1a C=K/i[a[59]];1a N,P,I;1a n=o*0.5;1a d=O+H+n;1a w=1o[a[5E]]*-1;1a z=1o[a[5E]];cd[a[1q]](i,1c(b,d){if(1D(d)){1d}1e{z=1k[a[1A]](d,z);w=1k[a[1F]](d,w)}});1a B=z;1a y=w;1a u=l(D[a[dH]])?1f:D[a[dH]];1a v=l(D[a[dF]])?1f:D[a[dF]];1a x=D[a[ph]]||a[pn];1a A=D[a[pk]]||a[p6];1a L=D[a[J4]]||a[9B];1a t=D[a[Jd]]||a[9B];1a b=D[a[1lx]]||0;1a f=G[a[2t]];if(f){k[a[9y]]()[a[7s]](M,O,J,m)[a[kt]](f)[a[aa]]()};k[a[9y]]();k[a[8t]](0);1i(1a p=0,s=i[a[59]];p<s;p++){I=i[p];N=M+r+C*p;if(1D(I)){1u};if(B==y){if(I<b){P=d;k[a[7s]](N,P,C*0.65,n);k[a[6t]](t,t)}1e{if(I>b){P=O+H;k[a[7s]](N,P,C*0.65,n);k[a[6t]](L,L)}}}1e{if(I<b){P=d;k[a[7s]](N,P,C*0.65,n);if(v&&B==I){k[a[6t]](A,A)}1e{if(u&&y==I){k[a[6t]](x,x)}1e{k[a[6t]](t,t)}}}1e{if(I>b){P=O+H;k[a[7s]](N,P,C*0.65,n);if(v&&B==I){k[a[6t]](A,A)}1e{if(u&&y==I){k[a[6t]](x,x)}1e{k[a[6t]](L,L)}}}}}};k[a[aa]]()},T0:1c(h,f,j,s,g){1a r=1b;1a b,v;1a q=f[a[1G]];1a w=g[a[127]];1a i=g[a[129]];1a x=g[a[130]];1a y=g[a[131]];b=1k[a[244]]((i*3)/4);v=(i-b)*0.5;1a t=1o(j[f[a[1m]]]);1a k=q[a[1F]];1a m=q[a[1A]];1a o;1a d=a[2vI];1a p;m=bl(m)?0:m;k=bl(k)?100:k;p=k-m;if(1D(t)){t=m};1a z=1k[a[244]]((w*1k[a[243]](m))/p);z=1D(z)?0:z;1a n=1k[a[244]]((w*m)/p);n=1D(n)?0:n;1a l=1k[a[244]]((w*k)/p);l=1D(l)?0:l;1a u=1k[a[244]]((w*t)/p);u=1k[a[1A]](u,w);if(m<0&&k<=0){o=r[a[6r]](o,cd[a[4q]](a[LC]));if(q[a[169]]){o=r[a[6r]](o,cd[a[4q]](q[a[169]]))};if(o&&o[a[2t]]){d=cd[a[8v]](o[a[2t]])};h[a[9y]]()[a[8t]](0.5)[a[7s]](x+w,y+v,u,b)[a[6t]](d,d)[a[aa]]()}1e{if(m<0&&k>0){if(t<0){o=r[a[6r]](o,cd[a[4q]](a[LQ]));if(o&&o[a[2t]]){d=cd[a[8v]](o[a[2t]])}}1e{if(t>0){o={};o=r[a[6r]](o,cd[a[4q]](a[LH]));if(o&&o[a[2t]]){d=cd[a[8v]](o[a[2t]])}}1e{1d}};h[a[9y]]()[a[8t]](0.5)[a[7s]](x+z,y+v,u,b)[a[6t]](d,d)[a[aa]]()}1e{o=r[a[6r]](o,cd[a[4q]](a[Ci]));if(q[a[169]]){o=r[a[6r]](o,cd[a[4q]](q[a[169]]))};if(o&&o[a[2t]]){d=cd[a[8v]](o[a[2t]])};h[a[9y]]()[a[8t]](0.5)[a[7s]](x,y+v,u,b)[a[6t]](d,d)[a[aa]]()}}},SV:1c(d,g){1a b=[],f;if(d){f=d[a[54]](a[53]);if(bi(f)){cd[a[1q]](f,1c(a,d){if(g[d]===1h){b[a]=1h}1e{b[a]=1o(g[d])}})}};1d b},T9:a[2uQ],T7:1c(b,g){1a j=1b;1a f=j[a[1x]];if(!f[a[59]]){1d};1a d=f[a[59]];1a h;1a i;1a k=j[a[2uP]];1a m=j[a[2uO]];1a n=j[a[2uN]];if(j[a[aU]][a[Ek]]===1g){1d};if(!l(2g[a[rL]])&&!l(2g[a[rL]][a[EQ]])){k=qI[a[EQ]][a[cq]];m=qI[a[EQ]][a[2uR]];n=qI[a[EQ]][a[2uW]]};if(!g){if(b==0){j[a[2uT]]();i=a[1j6];j[a[jT]][a[214]](k)}1e{if(b==100){j[a[2uA]]();1d}1e{if(b==1){i=a[2vd];j[a[jT]][a[214]](k)}1e{if(b>=65&&b<=68){i=b-63;i+=a[OK];j[a[jT]][a[214]](k)}1e{j[a[jT]][a[214]](n);1d}}}}}1e{h=1k[a[1A]](99,1k[a[238]]((b/d)*100)+6);i=h[a[128]](0)+a[OK];j[a[jT]][a[214]](m)};j[a[yf]][a[150]](a[127],i);j[a[v3]][a[214]](i)},SR:1c(b,d){1a f=1b;f[a[eX]](b,1g);bL(f[a[lr]])[a[8z]](1c(){f[a[136]]({1P:a[2vc]+b,nI:b,2vb:d})})},St:1c(){1a b=1b;b[a[Dx]]=1f;b[a[SB]]=b[a[nj]];b[a[nj]]=1g},SD:1c(){1a b=1b;b[a[Dx]]=1g;b[a[nj]]=b[a[SB]]},Sz:1c(d,h,f){1a g=1b;1a b={CU:a[Vx],CV:a[7d],CW:a[7d],vZ:1f,vz:2z,vO:1f,D9:1f,Af:1f,Ae:1g};if(bi(h)){cd[a[1q]](h,1c(k,m){1a i=k+1;1a l=i+1;1a j=W[a[2k]][a[1y]](m);1a h;if(j){b[a[kh]]=a[TR]+l;if(bn(f[i])){h=cd[a[69]](1f,{},b);h=cd[a[69]](1f,h,f[i])}1e{h=cd[a[69]](1f,{},b)};h[a[mP]]=g[a[aU]][a[mP]];j[a[Wd]](h,l,g[a[rQ]]);d=j[a[W9]](d,h[a[rF]],h[a[oq]])}})};1d d},VA:1c(i,j){1a h=1b;1a d=h[a[aU]];1a g=h[a[mq]];1a f=h[a[1x]];1a k={};h[a[UO]]=i;h[a[qv]]=j;r(h,a[DR],b,h);if(d[a[6N]]){h[a[eX]](1,1g);bL(h[a[lr]])[a[8z]](1c(){h[a[VH]](k,g,f)})}1e{if(d[a[Ek]]!==1g){h[a[sg]]()};bL(h[a[ls]])[a[8z]](1c(){h[a[VH]](k,g,f)})};1c b(d){bA(h,a[DR],b,h);h[a[136]]({1P:a[qO],gu:k,2y:h[a[2f]],VI:h[a[t4]],CU:h[a[aU]][a[kh]]})}},RQ:1c(){1a d=1b;1a b;if(bn(1Y[1])){b=cd[a[69]](1f,{},1Y[1]);b[a[Sx]]=1Y[0]}1e{if(1L 1Y[0]==a[nE]){b=cd[a[69]](1f,{},{D9:1Y[0]})}1e{if(bn(1Y[0])){b=cd[a[69]](1f,{},1Y[0])}1e{b={}}}};d[a[SZ]]([],[b])},P3:1c(o,m){1a n=1b;1a j;1a k;1a p,q;1a f=0;1a g=[n[a[c4]]];1a b=[n[a[c4]]];1a s=[n[a[c4]]];1a t=[n[a[c4]]];1a h={PH:a[wR],CU:a[Vx],CV:a[7d],CW:a[7d],gc:a[58],D9:1f,Vq:a[2vg],s0:1g,Aw:1g,vZ:1f,Af:1g,Ae:1f,vz:2z,Wf:2z,vO:1f};m=m||[];if(!bi(o)){o=[o]};o=cd[a[7V]](o);if(o&&o[a[59]]>0){if((q=o[a[19]](n[a[2f]]))>=0){o[q]=1h};cd[a[1q]](o,1c(b,d){if(d===1h){o[b]=1h}1e{if(W[a[2k]][a[1y]](d)===1h){o[b]=1h}}});o=o[a[171]](1c(a){1d a!==1h})};p=o[a[59]];n[a[rQ]]={};k=cd[a[69]](1f,h,m[0]||{});if(i(k[a[hD]])){k[a[hD]]()};n[a[Wd]](k,1,n[a[rQ]]);j=n[a[W9]]({},k[a[rF]],k[a[oq]]);if(o[a[59]]>0){j=n[a[2vk]](j,o,m)};n[a[2vj]](o,j);j=1h;l(p+1);r(n,a[qO],d,n);n[a[Nk]](1h,{});1c d(k){bA(k[a[78]],a[qO],d,k[a[78]]);1a m=1j y[a[ns]]();1a l;i(k[a[Wb]],k[a[kh]],k[a[hE]],m,g);if(k[a[hE]][a[QY]]){m[a[d3]](a[2vi],k[a[hE]][a[QY]][a[61]](a[58]))};if(o&&o[a[59]]){l=W[a[2k]][a[1y]](o[0]);if(l){l[a[Nk]](k[a[hE]][a[E0]],k[a[hE]][a[DY]]);r(l,a[qO],h,l)}1e{j(k)}}1e{j(k)};1c h(b){1a k;1a d;f++;bA(b[a[78]],a[qO],h,b[a[78]]);i(b[a[Wb]],b[a[kh]],b[a[hE]],m,g);if(f>=p){j(b)}1e{if((k=cd[a[Nj]](o,b[a[9H]]))){d=W[a[2k]][a[1y]](k);if(d){d[a[Nk]](b[a[hE]][a[E0]],b[a[hE]][a[DY]]);r(d,a[qO],h,d)}}1e{j(b)}}}1c i(i,h,b,j,f){1a g;1a d;if(b[a[QJ]]){f[f[a[59]]]=a[2vh]+i+a[VY];g=a[2v0]+i+a[Ld];j[a[d3]](g,b[a[QJ]][a[61]](a[58]));g=a[MH]+i+a[MD];d=n[a[c4]]+a[2uZ];j[a[d3]](g,d)};if(b[a[Rk]]){g=a[2v3]+i+a[Ld];j[a[d3]](g,b[a[Rk]][a[61]](a[58]))};if(b[a[RO]]){g=a[MH]+i+a[MD];j[a[d3]](g,b[a[RO]][a[61]](a[58]))};if(b[a[Qw]]){g=a[MH]+i+a[MD];j[a[d3]](g,b[a[Qw]])}}1c j(d){g[g[a[59]]]=a[2v8];n[a[2v7]](m,d[a[hE]][a[E0]],d[a[hE]][a[DY]]);n[a[2sU]](m,o,b,g,s,t)}}1c l(i){1a h;1a d,f;b[b[a[59]]]=a[2qr];b[b[a[59]]]=a[2qq];b[b[a[59]]]=a[2qp]+i+a[2qn];b[b[a[59]]]=a[2qo]+i+a[2qs];1i(d=1,f=i;d<=f;d++){b[b[a[59]]]=a[2qt]+d+a[2qy]};b[b[a[59]]]=a[2qx];b[b[a[59]]]=a[2qw];g[g[a[59]]]=a[2qu];1i(d=1,f=i;d<=f;d++){g[g[a[59]]]=a[2qv]+d+a[2qm]};g[g[a[59]]]=a[2ql];g[g[a[59]]]=a[2qc];g[g[a[59]]]=a[2qd];s[s[a[59]]]=a[UY];s[s[a[59]]]=a[2qb];1i(d=1,f=i;d<=f;d++){h=n[a[2qa]](d);s[s[a[59]]]=a[2q8]+h+a[2q9]+d+a[2qe]+d+a[3F]};s[s[a[59]]]=a[2qf];t[t[a[59]]]=a[VP];1i(d=1,f=i;d<=f;d++){t[t[a[59]]]=a[Cm]+d+a[2qk]+d+a[VY]};t[t[a[59]]]=a[Cm]+(i+1)[a[22]]()+a[2qj];t[t[a[59]]]=a[Cm]+(i+2)[a[22]]()+a[2qi];t[t[a[59]]]=a[Cm]+(i+3)[a[22]]()+a[2qg];t[t[a[59]]]=a[Vo]}},Vg:1c(l,i,k){1a g=1b;1a d=g[a[aU]];1a j=[g[a[c4]]+a[2qh]];if(g[a[ie]]){j[j[a[59]]]=a[2qz]+(6w[a[9T]](k)[a[59]]+3)+a[3C];j[j[a[59]]]=a[2qA];j[j[a[59]]]=a[2qU];j[j[a[59]]]=a[2qT];1i(1a f in k){j[j[a[59]]]=a[2qS]+k[f]+a[2qQ]+f+a[3F]};j[j[a[59]]]=a[2qR];j[j[a[59]]]=a[2qV]+i[a[iS]][a[59]]+a[2qW]+i[a[iS]][a[61]](a[58])+a[2r1];j[j[a[59]]]=a[2r0]+i[a[h4]][a[59]]+a[3C]+i[a[h4]][a[61]](a[58])+a[2qZ];1a h=cd[a[4q]](a[Uw])||{};1a b=cd[a[8v]](h[a[2t]],1f);j[j[a[59]]]=a[2qX]+b+a[2qY]+b+a[2qP]+b+a[2qO]+b+a[2qF];j[j[a[59]]]=a[2qG];j[j[a[59]]]=a[Um]+i[a[9b]][a[59]]+a[3C]+i[a[9b]][a[61]](a[58])+a[Ub];j[j[a[59]]]=a[Uc]}1e{j[j[a[59]]]=a[2qE]+d[a[mP]]+a[2qD];if(i[a[9b]][a[59]]>0){j[j[a[59]]]=a[Um]+i[a[9b]][a[59]]+a[3C]+i[a[9b]][a[61]](a[58])+a[Ub]}1e{j[j[a[59]]]=a[2qB]};j[j[a[59]]]=a[Uc]};l[a[d3]](a[2qC],j[a[61]](a[58]))},Ud:1c(n,j,b,d,k,l){1a h=1b;1a m;1a f=h[a[aU]];1a g;g=a[2qH];n[a[d3]](g,d[a[61]](a[58]));g=a[2qI];n[a[d3]](g,h[a[c4]]+a[2qN]);g=a[2qM];n[a[d3]](g,b[a[61]](a[58]));g=a[2qL];n[a[d3]](g,h[a[c4]]+a[2qJ]);g=a[2qK];n[a[d3]](g,l[a[61]](a[58]));g=a[2q7];n[a[d3]](g,h[a[c4]]+a[2q6]);g=a[2pt];n[a[d3]](g,k[a[61]](a[58]));if(f[a[hN]]!==1f){m={1P:a[9f]};if(i(2g[a[hY]])&&y[a[41]]&&!f[a[sC]]){m[a[85]]=a[jv];if(!f[a[mW]]){m[a[k9]]=a[qA]};2g[a[hY]](n[a[NT]](m),f[a[cM]]+a[2pu])}1e{if(!f[a[mW]]){m[a[k9]]=a[qA]};if(y[a[24]]&&!y[a[7]]()){m[a[k9]]=a[qA]};h[a[wQ]](h[a[ry]],{qt:a[2ps],sB:f[a[cM]],3D:n[a[NT]](m),gc:f[a[xa]]})}};if(f[a[6N]]){h[a[eX]](100,1g);h[a[sI]]()}1e{if(f[a[Ek]]!==1g){h[a[ga]]()};h[a[sI]]()};h[a[f8]]=1h;h[a[vl]]=1h;h[a[xj]]=1h;h[a[mq]]=1h;h[a[EY]]=1h;h[a[nr]]=1h;h[a[wD]]=1h;h[a[rQ]]=1h;if(j&&j[a[59]]){cd[a[1q]](j,1c(d,f){1a b=W[a[2k]][a[1y]](f);if(b){if(b[a[aU]][a[6N]]){b[a[eX]](100,1g);b[a[sI]]()}1e{if(b[a[aU]][a[Ek]]!==1g){b[a[ga]]()};b[a[sI]]()};b[a[f8]]=1h;b[a[vl]]=1h;b[a[xj]]=1h;b[a[mq]]=1h;b[a[EY]]=1h;b[a[nr]]=1h;b[a[wD]]=1h;b[a[rQ]]=1h}})};if(f[a[hN]]===1f&&i(f[a[eS]])){f[a[eS]](n[a[NT]]({1P:a[jv]}))};if(i(f[a[aZ]])){f[a[aZ]]()}},Va:1c(W,D,A){1a P=1b;1a z=P[a[aU]];1a M=P[a[c4]]+a[2pr];M+=P[a[t4]]+a[2pp];1a V=P[a[c4]]+a[UY];V+=a[2pq]+z[a[kh]]+a[2pv];1a y=[P[a[c4]]+a[2pw]];1a L=[];1a v=[];1a w=D[a[59]];1a G=P[a[f7]];1a R=[];1a H=[];1a E=a[58];1a U=[];1a T=[];1a I;1a C;1a B;1a F=1g;1a O=1;1a S=P[a[UO]];1a J=1f;1a K=1g;1a Q=P[a[wD]];if(!l(z[a[UU]])){J=z[a[UU]]};if(z[a[8n]]!==1g&&P[a[8n]]){K=1f};if(l(S)){S={pB:[],rl:[a[2pC],a[2pB]],UR:[a[2pA]]}};1a x;P[a[f8]]=[];if(!P[a[6R]]||!J){G=0};cd[a[1q]](D,1c(b,d){if(d[a[1G]]&&d[a[1G]][a[85]]==a[Cp]&&d[a[1G]][a[gT]]!=a[xB]){F=1f;1d 1g}});if(F){if(l(S[a[Cx]])){S[a[Cx]]={}};if(l(S[a[pw]])){S[a[pw]]={}}};if(z[a[6N]]){s();b()}1e{b();d();f();g();h();i();j();k();m();n();o();p();q();P[a[136]]({1P:a[DR]})};1c b(){if(z[a[6N]]){P[a[cP]](65)}}1c d(){1a j=P[a[Dp]];1a k=P[a[Dj]];1a h=[a[us],a[Tg],a[DZ],a[SN],a[UC]];1a b;1a i;1a l;1a g,d;1a f;if(!k){j=[]};if(!P[a[ie]]){if(z[a[6N]]){P[a[cP]](66)};1d};if(P[a[t4]]>1){P[a[p0]]=[];1i(I=0;I<w;I++){if(D[I][a[169]]){P[a[p0]][I]=P[a[8E]]({},cd[a[4q]](D[I][a[169]]))}1e{P[a[p0]][I]=1h}};if(z[a[6N]]){P[a[cP]](66)};1d};b=a[58];l=cd[a[4q]](a[sa]);if(l[a[3s]]&&l[a[3s]]!=a[58]){d=cd[a[8v]](l[a[3s]],1f)}1e{d=a[V8]};if(bl(z[a[xy]])){if(l[a[2V]]&&l[a[2V]]!=a[58]){f=cd[a[5R]](l[a[2V]][a[60]](0,l[a[2V]][a[59]]-2))}1e{f=9}}1e{f=z[a[xy]]};if(bl(f)){f=9};S[a[xy]]=f;S[a[e2]]=d;if(l[a[7l]]&&h[a[19]](l[a[7l]])!=-1){b+=a[vd]};if(l[a[8P]]==a[eZ]){b+=a[ut]};if(l[a[cI]]==a[qj]){b+=a[wf]};S[a[iS]][0]=a[Dz]+b+a[gf]+f+a[1rR]+d+a[TM]+z[a[mP]]+a[uU];P[a[p0]]=[];1i(I=0;I<w;I++){if(D[I][a[169]]){P[a[p0]][I]=P[a[8E]]({},cd[a[4q]](D[I][a[169]]))}1e{P[a[p0]][I]=1h}};i=cd[a[4q]](a[Rz],1f);l={};1i(I=i[a[59]]-1;I>=0;I--){l=P[a[8E]](l,i[I])};S[a[lb]]=cd[a[69]]({},l);b=a[Dz];if(l[a[7l]]&&h[a[19]](l[a[7l]])!=-1){b+=a[vd]};if(l[a[8P]]==a[eZ]){b+=a[ut]};if(l[a[cI]]==a[qj]){b+=a[wf]};if(l[a[3s]]&&l[a[3s]]!=a[58]){b+=a[n9]+cd[a[8v]](l[a[3s]],1f)+a[3F]}1e{b+=a[n9]+d+a[3F]};if(l[a[2V]]&&l[a[2V]][a[19]](a[Ul])>0){b+=a[gf]+(f*1o(l[a[2V]][a[60]](0,l[a[2V]][a[59]]-2)))[a[128]](0)+a[3F]}1e{if(l[a[2V]]&&l[a[2V]][a[19]](a[149])>0){b+=a[gf]+cd[a[5R]](l[a[2V]][a[60]](0,l[a[2V]][a[59]]-2))+a[3F]}1e{b+=a[gf]+f+a[3F]}};b+=a[I0]+z[a[mP]]+a[uU];S[a[iS]][1]=b;if(l[a[2t]]&&l[a[2t]]!=a[58]){g=cd[a[8v]](l[a[2t]],1f)}1e{g=a[S1]};S[a[h4]][2]=a[uW]+g+a[uX];S[a[9b]][1]=a[2py]+(l[a[3d]]||a[152])+a[rM];i=cd[a[4q]](a[oc],1f);l={};1i(I=i[a[59]]-1;I>=0;I--){l=P[a[8E]](l,i[I])};S[a[xS]]=cd[a[69]]({},l);S[a[9b]][2]=a[2pz]+(l[a[3d]]||a[152])+a[rM];S[a[9b]][3]=a[2po]+(l[a[3d]]||a[152])+a[rM];S[a[9b]][4]=a[2pn]+(l[a[3d]]||a[152])+a[rM];S[a[9b]][5]=a[2pe]+(l[a[3d]]||a[152])+a[rM];if(j[a[59]]>0){cd[a[1q]](j,1c(d,g){1a b,f=cd[a[4q]](g);if(f[a[2t]]&&f[a[2t]]!=a[58]){b=cd[a[8v]](f[a[2t]],1f)}1e{b=a[S1]};S[a[h4]][a[1s]](a[uW]+b+a[uX])})}1e{S[a[h4]][3]=S[a[h4]][4]=a[2pf]};i=cd[a[4q]](a[Si],1f);l={};1i(I=i[a[59]]-1;I>=0;I--){l=P[a[8E]](l,i[I])};S[a[sO]]=cd[a[69]]({},l);b=a[Dz];if(l[a[7l]]&&h[a[19]](l[a[7l]])!=-1){b+=a[vd]};if(l[a[8P]]==a[eZ]){b+=a[ut]};if(l[a[cI]]==a[qj]){b+=a[wf]};if(l[a[3s]]&&l[a[3s]]!=a[58]){b+=a[n9]+cd[a[8v]](l[a[3s]],1f)+a[3F]}1e{b+=a[n9]+d+a[3F]};if(l[a[2V]]&&l[a[2V]][a[19]](a[Ul])>0){b+=a[gf]+(f*1o(l[a[2V]][a[60]](0,l[a[2V]][a[59]]-2)))[a[128]](0)+a[3F]}1e{if(l[a[2V]]&&l[a[2V]][a[19]](a[149])>0){b+=a[gf]+cd[a[5R]](l[a[2V]][a[60]](0,l[a[2V]][a[59]]-2));+a[3F]}1e{b+=a[gf]+f+a[3F]}};b+=a[I0]+z[a[mP]]+a[uU];S[a[iS]][2]=b;if(l[a[2t]]&&l[a[2t]]!=a[58]){g=cd[a[8v]](l[a[2t]],1f)}1e{g=a[S1]};S[a[h4]][5]=a[uW]+g+a[uX];S[a[9b]][6]=a[2pd]+(l[a[3d]]||a[152])+a[rM];if(z[a[6N]]){P[a[cP]](66)}}1c f(){if(z&&!l(z[a[rF]])){U=P[a[2pc]](z[a[rF]],L,w-1,Q,S)};if(z[a[6N]]){P[a[cP]](67)}}1c g(){if(P[a[6R]]&&J){O=U[a[59]]+1;H=P[a[2pa]](O,L,v,Q,S)};if(z[a[6N]]){P[a[cP]](68)}}1c h(){if(A&&A[a[59]]>0){if(P[a[6x]]==a[154]){O=U[a[59]]+H[a[59]]+1;if(P[a[2Z]]&&P[a[3r]]){E=P[a[RR]](O,L,Q,S);O+=P[a[9z]]};P[a[Un]](O,L,Q,S)}1e{O=U[a[59]]+H[a[59]]+1;P[a[Un]](O,L,Q,S);if(!z[a[6N]]){if(P[a[2Z]]&&P[a[3r]]){O=U[a[59]]+H[a[59]]+P[a[f8]][a[59]]+1;E=P[a[RR]](O,L,Q,S)}}}}1e{bL(P[a[lr]])[a[8z]](1c(){P[a[136]]({1P:a[nm],s9:[]})})}}1c i(){if(z&&!l(z[a[oq]])){O=U[a[59]]+H[a[59]]+P[a[f8]][a[59]]+1;if(P[a[2Z]]&&P[a[3r]]){O+=P[a[9z]]};T=P[a[2pb]](O,z[a[oq]],L,w-1,Q,S)};if(z[a[6N]]){P[a[cP]](70)}}1c j(){if(z&&!l(z[a[EB]])){O=U[a[59]]+H[a[59]]+P[a[f8]][a[59]]+1;if(P[a[2Z]]&&P[a[3r]]){O+=P[a[9z]]}};if(z[a[6N]]){P[a[cP]](71)}}1c k(){if(z&&!l(z[a[EB]])){y[y[a[59]]]=P[a[2pg]](z[a[EB]]);y[y[a[59]]]=a[2ph];W[a[QJ]]=y;1a b=P[a[c4]]+a[2pm]+P[a[t4]]+a[2pl];W[a[Qw]]=b};if(z[a[6N]]){P[a[cP]](72)}}1c m(){if(z[a[6N]]){P[a[cP]](73)}}1c n(){R[R[a[59]]]=P[a[c4]]+a[2pk];x=U[a[59]]+T[a[59]]+H[a[59]]+P[a[f8]][a[59]];if(P[a[2Z]]){x+=P[a[9z]]};R[R[a[59]]]=a[2pi]+P[a[6z]](w-1)+x+a[3F];if(z[a[1V]]==a[7d]){C=P[a[1V]]+G+U[a[59]];if(P[a[2Z]]&&P[a[3r]]&&P[a[6x]]==a[154]){C+=P[a[9z]]}}1e{C=z[a[1V]]};if(z[a[2o]]==a[7d]){B=P[a[2o]];if(K&&B!=0){B+=1}}1e{B=z[a[2o]]};R[R[a[59]]]=a[2pj]+P[a[6z]](B)+(C+1)+a[2pD]+C+a[2pE]+B+a[2pY];if(v[a[59]]<=0){v=[];P[a[2pX]](v)};if(v[a[59]]>0){R[R[a[59]]]=a[2pW];R[R[a[59]]]=v[a[61]](a[58]);R[R[a[59]]]=a[2pU]};R[R[a[59]]]=a[2pV];if(U[a[59]]>0){R[R[a[59]]]=U[a[61]](a[58])};if(P[a[6R]]&&J){R[R[a[59]]]=H[a[61]](a[58])};if(P[a[6x]]==a[154]){if(P[a[2Z]]){R[R[a[59]]]=E};R[R[a[59]]]=P[a[f8]][a[61]](a[58])}1e{R[R[a[59]]]=P[a[f8]][a[61]](a[58]);if(P[a[2Z]]){R[R[a[59]]]=E}};if(T[a[59]]>0){R[R[a[59]]]=T[a[61]](a[58])};R[R[a[59]]]=a[2pZ];if(L[a[59]]>0){R[R[a[59]]]=a[2q0]+L[a[59]]+a[3C];R[R[a[59]]]=L[a[61]](a[58]);R[R[a[59]]]=a[2q5]};if(z&&!l(z[a[EB]])){R[R[a[59]]]=a[2q4]+P[a[t4]]+a[3F]};if(D[a[59]]>0&&A[a[59]]>0){O=U[a[59]]+H[a[59]]+1;if(P[a[2Z]]&&P[a[3r]]&&P[a[6x]]==a[154]){O+=P[a[9z]]};1a b=P[a[2q3]](O,D,A);if(b[a[VR]][a[59]]>0){R[R[a[59]]]=b[a[VR]]};if(F){1a d=1;R[R[a[59]]]=a[2q1];cd[a[1q]](S[a[pw]],1c(b,f){S[a[pw]][b]=a[2sV]+d;d++});cd[a[1q]](S[a[Cx]],1c(b,d){R[R[a[59]]]=a[2pT]+b+a[2pS]+S[a[pw]][d]+a[3F]});R[R[a[59]]]=a[2pJ]};if(b[a[DV]][a[59]]>0||b[a[Qm]][a[59]]>0){R[R[a[59]]]=a[2pK];if(b[a[DV]][a[59]]>0){R[R[a[59]]]=b[a[DV]]};if(b[a[Qm]][a[59]]>0){R[R[a[59]]]=b[a[Qm]]};R[R[a[59]]]=a[2pI]}};R[R[a[59]]]=a[2pH];W[a[Rk]]=R;if(z[a[6N]]){P[a[cP]](74)}}1c o(){1a b;if(F&&A[a[59]]>0){b=[P[a[c4]]+a[VP]];cd[a[1q]](S[a[pw]],1c(d,f){b[b[a[59]]]=a[2pF]+d+a[2pG]+f+a[3F]});b[b[a[59]]]=a[Vo];W[a[RO]]=b};if(z[a[6N]]){P[a[cP]](75)}}1c p(){1a b=Q[a[59]];1a d=[];1a f=a[58];d[d[a[59]]]=P[a[c4]]+a[2pL]+b+a[2pM]+b+a[3C];if(z[a[2pR]]===1f){f=a[2pQ]};1i(I=0;I<b;I++){d[d[a[59]]]=a[2pP]+f+a[2pN]+Q[I]+a[2pO]};d[d[a[59]]]=a[2r2];W[a[QY]]=d;if(z[a[6N]]){P[a[cP]](76)}}1c q(){W[a[DY]]=P[a[qv]];W[a[E0]]=S;if(z[a[6N]]){P[a[cP]](77)}}1c u(b){P[a[f8]]=b[a[vg]];if(P[a[2Z]]&&P[a[6x]]!=a[154]&&P[a[3r]]){O=U[a[59]]+H[a[59]]+P[a[f8]][a[59]]+1;E=P[a[RR]](O,L,Q,S)};if(z[a[6N]]){P[a[cP]](69)}}1c t(b){4v(b[a[85]]){1C a[Hy]:d();1l;1C a[HA]:f();1l;1C a[Hv]:g();1l;1C a[Hr]:h();1l;1C a[Hq]:i();1l;1C a[HL]:j();1l;1C a[HK]:k();1l;1C a[HF]:m();1l;1C a[HE]:n();1l;1C a[H4]:o();1l;1C a[H7]:p();1l;1C a[GY]:q();1l;1C a[GZ]:N();P[a[136]]({1P:a[DR]});1l;4w:1l}}1c s(){r(P,a[nm],u,P);r(P,a[Hy],t,P);r(P,a[HA],t,P);r(P,a[Hv],t,P);r(P,a[Hr],t,P);r(P,a[Hq],t,P);r(P,a[HL],t,P);r(P,a[HK],t,P);r(P,a[HF],t,P);r(P,a[HE],t,P);r(P,a[H4],t,P);r(P,a[H7],t,P);r(P,a[GY],t,P);r(P,a[GZ],t,P)}1c N(){bA(P,a[nm],u,P);bA(P,a[Hy],t);bA(P,a[HA],t);bA(P,a[Hv],t);bA(P,a[Hr],t);bA(P,a[Hq],t);bA(P,a[HL],t);bA(P,a[HK],t);bA(P,a[HF],t);bA(P,a[HE],t);bA(P,a[H4],t);bA(P,a[H7],t);bA(P,a[GY],t);bA(P,a[GZ],t)}},U3:1c(n,k,b,q,r){1a p=1b;1a s=p[a[xj]];1a h;1a i=p[a[f7]];1a j;1a o=[];1a g=n-1;1i(j=1;j<=i;j++){h=p[a[m5]](j);o[o[a[59]]]=a[pu]+n+a[t8]+cd[a[5R]](h)+a[3C];n++};d(g,s,o,k,b,q,r);cd[a[1q]](o,1c(b,d){o[b]+=a[lH]});1d o;1c f(d,u,w,h,z,B){1a o=p[a[vl]];1a C;1a D=-1;1a n=u[a[1n]];1a j=p[a[6z]](n);1a y=d+u[a[2x]];1a E=cd[a[Tw]](o[n]);1a g=n+1;1a v;1a i;1a A=1;1a s=1;1a r=2;1a x=1h;1a q=p[a[ie]];1a b=B[a[lb]];1a t=p[a[f7]];1a f;1a k;C=l(u[a[2a]])?u[a[1m]]:1E(u[a[2a]])[a[178]]()==a[58]?a[58]:u[a[2a]];if(C&&C[a[59]]>0){C=cd[a[9F]](C)};if(C!=a[58]&&(1D(1o(C))||1E(C)[a[4J]](0)==a[215])){D=p[a[ix]](C)}1e{D=-1};if(q===1f||q[a[7D]]===1f){x=p[a[8E]](x,b);if(u[a[dl]]){x=p[a[8E]](x,cd[a[4q]](u[a[dl]]))};if(x){A=p[a[Ks]](B,x,A,r,s,D,a[58],a[D0])}}1e{A=0};if(D!=-1){f=a[9w]+j+y+a[vS]+A+a[hV]+D+a[hU]}1e{if(m(C)){f=a[9w]+j+y+a[eJ]+A+a[mu]}1e{f=a[9w]+j+y+a[eJ]+A+a[hV]+C+a[hU]}};i=1o(u[a[2T]]);if(!u[a[7q]]&&u[a[2x]]!=t){if(!1D(i)&&i>1){k=p[a[6z]](n+u[a[2T]]-1);v=y+(t-u[a[2x]]);w[w[a[59]]]=a[eH]+j+y+a[5h]+k+v+a[3F]}1e{if(1D(i)||i!=-1){v=y+(t-u[a[2x]]);w[w[a[59]]]=a[eH]+j+y+a[5h]+j+v+a[3F]}}};if(u[a[7q]]&&u[a[8a]]!=1){v=n+u[a[8a]]-1;w[w[a[59]]]=a[eH]+j+y+a[5h]+p[a[6z]](v)+y+a[3F]};if(!1D(i)&&i!=-1&&u[a[2x]]==t){v=n+i-1;w[w[a[59]]]=a[eH]+j+y+a[5h]+p[a[6z]](v)+y+a[3F]};if(!u[a[7q]]){h[h[a[59]]]=a[TK]+E+a[SI]+g+a[SG]+g+a[3F]}1e{if(u[a[8a]]>1){1i(1a F=1,G=u[a[8a]];F<G;F++){j=p[a[6z]](n+F);f+=a[9w]+j+y+a[eJ]+A+a[mu]}}};1d f}1c d(t,b,u,r,h,v,w){1a g,s,n;1a k=p[a[f7]];1a i;1a j=p[a[ie]];1i(1a m=0,q=b[a[59]];m<q;m++){n=b[m];g=f(t,n,r,h,v,w);s=u[n[a[2x]]-1];s+=g;u[n[a[2x]]-1]=s;if(j&&!n[a[7q]]&&n[a[8a]]==1&&n[a[2x]]!=k){1i(1a o=n[a[2x]];o<k;o++){s=u[o];(i=p[a[6z]](n[a[1n]])),(g=a[9w]+i+(t+o+1)+a[2r3]);s+=g;u[o]=s}};if(!l(n[a[1p]])){d(t,n[a[1p]],u,r,h,v,w)}}}},Tu:1c(b){1a f=1b;1a d=f[a[vl]];cd[a[1q]](d,1c(f,g){1a d=f+1;1a h=cd[a[Tw]](g);b[b[a[59]]]=a[TK]+h+a[SI]+d+a[SG]+d+a[3F]})},SH:1c(w,l,g,s,u){1a r=1b;1a h=r[a[ie]];1a x;1a q=[];1a n;1a o;1a d;1a p=1;1a i;1a v;1a y;1a t=0;1a b;1a f=a[JM];1i(1a j=0,k=w[a[59]];j<k;j++){x=w[j];v=x[a[45]];p=j+1;i=x[a[129]];if(bl(i)){i=26};if(h){t=r[a[VG]](x[a[169]],u)};n=a[pu]+p+a[t8]+cd[a[5R]](i)+a[3C];if(1L v==a[0]){v=a[58]};if(v&&v[a[59]]>0){v=cd[a[9F]](v)};if(v!=a[58]){y=r[a[ix]](v)}1e{y=-1};if(y!=-1){b=a[9w]+f+p+a[vS]+t+a[hV]+y+a[hU]}1e{if(m(v)){b=a[9w]+f+p+a[eJ]+t+a[mu]}1e{b=a[9w]+f+p+a[eJ]+t+a[hV]+v+a[hU]}};n+=b;n+=a[lH];q[q[a[59]]]=n;l[l[a[59]]]=a[eH]+f+p+a[5h]+r[a[6z]](g)+p+a[3F]};1d q},SM:1c(m,n){1a j=1b;1a g=j[a[aU]];1a d=n[a[e2]];1a f=n[a[xy]];1a k=0;if(l(m)){1d k};1a b=a[Dz];if(m[a[7l]]==a[us]||m[a[7l]]==a[DZ]){b+=a[vd]};if(m[a[eZ]]){b+=a[ut]};if(m[a[cI]]==a[qj]){b+=a[wf]};if(m[a[3s]]&&m[a[3s]]!=a[58]){b+=a[n9]+m[a[3s]][a[56]](a[7T],a[f6])+a[3F]}1e{b+=a[n9]+d+a[3F]};if(bm(m[a[2V]])){b+=a[gf]+cd[a[5R]](m[a[2V]])+a[3F]}1e{if(bp(m[a[2V]])){if(m[a[2V]]&&m[a[2V]][a[19]](a[Sw])>0){b+=a[gf]+m[a[2V]][a[56]](a[Sw],a[58])+a[3F]}1e{b+=a[gf]+f+a[3F]}}1e{b+=a[gf]+f+a[3F]}};b+=a[I0]+g[a[mP]]+a[uU];1a i=n[a[iS]][a[19]](b);if(i==-1){n[a[iS]][a[1s]](b);i=n[a[iS]][a[59]]-1};1a r;1a q;1a h=0;if(m[a[2t]]&&m[a[2t]]!=a[58]){r=a[uW]+m[a[2t]][a[56]](a[7T],a[f6])+a[uX];q=n[a[h4]][a[19]](r);if(q==-1){n[a[h4]][a[1s]](r);h=n[a[h4]][a[59]]-1}1e{h=q}};1a o=m[a[3d]]||a[152];1a p=a[cY];if(m[a[aJ]]&&m[a[aJ]]!=a[kR]){p=m[a[aJ]];if(p!=a[cY]&&p!=a[154]&&p!=a[4S]){p=a[cY]}};r=a[2sj]+h+a[1qY]+i+a[n5]+a[1sN]+a[2si]+p+a[1t0]+o+a[n5]+a[O4];q=n[a[9b]][a[19]](r);if(q==-1){n[a[9b]][a[1s]](r);k=n[a[9b]][a[59]]-1}1e{k=q};1d k},Vm:1c(m){1a k=[];1a j;1a f;1a n;1a r=a[Lg];1a p=a[Lf];1a g=9Q;1a d=a[Vb];1a o=a[58];1a b=a[58];1a i=a[58];1a q=a[58];1i(1a h=m[a[59]]-1;h>=0;h--){j=m[h];n=j[a[169]]||{};f=j[a[2sh]]||{};k[a[1s]](a[2sf]);k[a[1s]](a[2sg]+(f[a[2sk]]||0)+a[U7]+(f[a[2sl]]||0)*wC+a[Ug]);k[a[1s]](a[Uh]+(f[a[2sq]]||0)+a[V0]+(f[a[2sp]]||0)*wC+a[2so]);k[a[1s]](a[2sm]+(f[a[2sn]]||0)+a[U7]+(f[a[2se]]||0)*wC+a[Ug]);k[a[1s]](a[Uh]+(f[a[2sd]]||0)+a[V0]+(f[a[2s4]]||0)*wC+a[2s5]);k[a[1s]](a[2s3]);if(n[a[2t]]){k[a[1s]](a[UP]+n[a[2t]][a[56]](a[7T],a[58])+a[UI])}1e{k[a[1s]](a[2s2])};if(!l(n[a[Ed]])){if(n[a[Ed]]!=0){k[a[1s]](a[2s0]+n[a[Ed]]*wC+a[3C])}1e{k[a[1s]](a[2s1])}}1e{k[a[1s]](a[2s6])};if(n[a[Ed]]!=0){if(n[a[UW]]){k[a[1s]](a[UP]+n[a[UW]][a[56]](a[7T],a[58])+a[UI])}1e{k[a[1s]](a[2s7])}};k[a[1s]](a[2sc]);k[a[1s]](a[2sb]);if(n[a[aJ]]){if(n[a[aJ]]==a[154]){r=a[Lg]}1e{if(n[a[aJ]]==a[4S]){r=a[2sa]}1e{r=a[UM]}}}1e{r=a[Lg]};if(n[a[3d]]){if(n[a[3d]]==a[152]){p=a[Lf]}1e{if(n[a[3d]]==a[3H]){p=a[2s8]}1e{p=a[UM]}}}1e{p=a[Lf]};k[a[1s]](a[2s9]+r+a[2sr]+p+a[3F]);if(n[a[2V]]){g=1k[a[244]](cd[a[5R]](n[a[2V]]))*100}1e{g=9Q};if(n[a[3s]]){d=n[a[3s]][a[56]](a[7T],a[58])}1e{d=a[Vb]};if(j[a[45]]){o=j[a[45]]}1e{o=a[58]};if(n[a[7l]]==a[us]||n[a[7l]]==a[DZ]){b=a[2ss]}1e{b=a[58]};if(n[a[eZ]]){q=a[2sM]}1e{q=a[58]};if(n[a[cI]]==a[qj]){i=a[2sL]}1e{i=a[58]};k[a[1s]](a[2sK]+b+q+i+a[2sI]+g+a[2sJ]+d+a[2sN]+o+a[2sO]);k[a[1s]](a[2sT])};1d k[a[61]](a[58])},Uk:1c(t,p,x,y){1a v=1b;1a f=v[a[1x]];1a z=v[a[EY]];1a b=f[a[59]];1a d=v[a[aU]];1a g=v[a[mq]];1a s;1a u=[];1a r;1a k;1a q=t;1a o=v[a[3p]]?1f:1g;1a n=1g;if(!1D(1o(d[a[1X]]))){s=cd[a[5R]](d[a[1X]])}1e{s=cd[a[5R]](v[a[1X]])};if(d[a[8n]]!==1g&&v[a[8n]]){n=1f};if(o){1i(k=1;k<=b;k++){r=a[pu]+q+a[3C];u[u[a[59]]]=r;q++}}1e{1i(k=1;k<=b;k++){r=a[pu]+q+a[t8]+s+a[3C];u[u[a[59]]]=r;q++}};j(t,f,z,g,u,p,x,y,n);1c j(n,f,r,g,o,m,p,q,j){1a b;1a s;1a i,l;1a k;if(d[a[6N]]){w(f[a[59]]-1,1c(d,i){k=f[d];s=r[d];b=h(k,s,n,d,g,m,p,q,j);o[d]+=b[a[61]](a[58])+a[lH];n++;if(d%100==0){v[a[eX]](d,1f)}},1c(b){v[a[eX]](b,1f);bL(v[a[lr]])[a[8z]](1c(){v[a[136]]({1P:a[nm],s9:o})})})}1e{1i(i=0,l=f[a[59]];i<l;i++){k=f[i];s=r[i];b=h(k,s,n,i,g,m,p,q,j);o[i]+=b[a[61]](a[58])+a[lH];n++};v[a[f8]]=o}}1c h(Q,bm,bc,ba,D,S,be,bj,M){1a t,u;1a bs=-1;1a q;1a x;1a bk;1a I=1g;1a n=v[a[fU]];1a z=v[a[ex]];1a w=v[a[p0]];1a h=bj[a[xS]];1a W=1h;1a V=1h;1a bd=v[a[mG]];1a p=1h;1a bi=0;1a B=ba%2==0?3:4;1a E=0;1a bo=v[a[1Q]];1a bn=v[a[mw]];1a N=a[58];1a y=v[a[2H]];1a H=v[a[1W]];1a C=v[a[hq]];1a f=v[a[oP]];1a A=v[a[ie]];1a bb=v[a[9t]];1a Z=v[a[1M]];1a bt=v[a[3p]];1a bu=a[58];1a o=[];1a L;1a R;1a U;1a T;1a F=a[58];1a br=a[58];1a bh=a[vn];1a bg=a[l5];1a bf=a[pA];1a k,bq;1a P=d[a[KW]];1a O=1g;1a g=1g;1a s;1a K;1a j;1a b;1a X;1a Y;1a G=i;1a J;1a r;if(G(v[a[kD]])){I=1f;j=v[a[kD]]};if(H[a[59]]>0&&!v[a[4z]]&&v[a[2H]]){bo=1g};if(bt){bu=a[D0]};if(M){bn+=1};1i(L=0,R=D[a[59]];L<R;L++){q=D[L];bk=bm[L];x=q[a[1m]];F=q[a[5D]];Y=q[a[1G]]||{};if(M){r=L-1}1e{r=L};J=1g;if(G(q[a[6O]])){J=1f;F=a[58]};if(!bt){if(q[a[W2]]===1f||(Y[a[85]]==bh||Y[a[85]]==bg||Y[a[85]]==bf)){bu=a[D0]}1e{bu=a[58]}};if(q[a[SX]]){F=a[Fy];bs=v[a[ix]](1E(bk))}1e{if(q[a[3W]]==a[4t]){if(bl(1o(bk))){F=a[58];bs=v[a[ix]](bk)}}1e{if(q[a[3W]]==a[5U]&&!J){if(!1D(bk)&&q[a[mM]]!==1g){if(bp(q[a[mM]])){F=q[a[mM]]}1e{if(bp(q[a[5D]])){if(q[a[5D]]!==a[257]){F=q[a[5D]][a[56]](/\\//g,a[2sS])+a[2sR]}}1e{if(q[a[mM]]===1f){F=a[257]}1e{F=a[58]}}}}1e{F=a[58];bs=v[a[ix]](1E(bk))}}1e{if(cd[a[nk]](bk)){bs=v[a[ix]](bk)};F=a[58]}}};t=v[a[6z]](q[a[1n]]);k=t+bc[a[22]]();if(A===1f||A[a[102]]===1f){if(bs==-1){bi=ba%2==0?4:5}1e{bi=ba%2==0?2:3};W=v[a[8E]](W,h);if(w[L]){W=v[a[8E]](W,w[L])};if(y&&!n&&(q[a[7I]]===1f||H[a[19]](x)!=-1)){if(v[a[Jn]](Q,x)){W[a[aJ]]=a[154]}};g=1g;if(G(bd)){if(Q[a[2R]]===1f){if(f){s=1o(v[a[oI]][Q[a[4b]]]);if(M){if(L>=s+1){g=1f}}1e{if(L>=s){g=1f}}}1e{if(C){if(M){if(L>=Q[a[4b]]-1){g=1f}}1e{if(L>=Q[a[4b]]-2){g=1f}}}1e{g=1f}}}1e{g=1f};if(g){V=bd(ba,Q);if(V&&V[a[59]]>0){W=v[a[8E]](W,cd[a[4q]](V));if(!P&&w[L]){W=v[a[8E]](W,w[L])}}}};p=q[a[7b]];if(G(p)){V=p(ba,r,Q[x],q[a[2a]],Q,x)||a[58];if(V&&V!=a[58]){W=v[a[8E]](W,cd[a[4q]](V))}};if(W){if(bo&&L==bn){N=a[W5]+(Q[a[4b]]-1)+a[n5]}1e{N=a[58]};bi=v[a[Ks]](bj,W,bi,B,E,bs,N,bu,F)}}1e{if(bo&&L==bn){N=a[W5]+(Q[a[4b]]-1)+a[n5];1a bw=a[2sP]+N+a[O4];1a bv=bj[a[9b]][a[19]](bw);if(bv==-1){bj[a[9b]][bj[a[9b]][a[59]]]=bw;bi=bj[a[9b]][a[59]]-1}1e{bi=bv}}1e{bi=0}};if(q[a[1G]]&&q[a[1G]][a[85]]==a[Cp]&&q[a[1G]][a[gT]]!=a[xB]){br=a[58];if(q[a[1G]][a[gT]]){br=q[a[1G]][a[gT]];if(!l(q[a[1G]][a[9J]])&&!l(Q[q[a[1G]][a[9J]]])){br+=Q[q[a[1G]][a[9J]]]}}1e{if(!l(q[a[1G]][a[9J]])&&!l(Q[q[a[1G]][a[9J]]])){br=Q[q[a[1G]][a[9J]]]}};if(br!=a[58]&&!m(bk)){bj[a[Cx]][k]=br;bj[a[pw]][br]=1f}};O=1g;if(y){if(q[a[7I]]===1f||H[a[19]](q[a[1m]])>=0){bq=Q[Z];if(bb[bq]===1T){bb[bq]={}};U=bb[bq][a[9x]+x];T=bb[bq][a[a9]+x];if(U===1g){O=1f}1e{if(z&&Q[a[2R]]&&H[0]!=x){O=1f}}};if(Q[a[5k]]&&6w[a[9T]](Q[a[5k]])[a[59]]>0){if(l(Q[a[5k]][a[jJ]+x])){if(v[a[2sQ]](ba,r)){O=1f}};b=1f;if(I){if(M){if(L>0){b=j(ba,r,Q)}}1e{b=j(ba,r,Q)};if(l(b)){b=1f};if(b===1g||X===1g){O=1g}}}};if(O){o[o[a[59]]]=a[9w]+k+a[eJ]+bi+a[mu]}1e{if(bs!=-1){o[o[a[59]]]=a[9w]+k+a[vS]+bi+a[hV]+bs+a[hU]}1e{if(m(bk)){o[o[a[59]]]=a[9w]+k+a[eJ]+bi+a[mu]}1e{o[o[a[59]]]=a[9w]+k+a[eJ]+bi+a[hV]+bk+a[hU]}}};if(y&&H[a[19]](q[a[1m]])==-1){if(q[a[7I]]===1f){bq=Q[Z];if(bb[bq]===1T){bb[bq]={}};U=bb[bq][a[9x]+x];T=bb[bq][a[a9]+x];if(U&&T!=1){S[S[a[59]]]=a[eH]+k+a[5h]+t+(T+bc-1)+a[3F]}};if(Q[a[5k]]){U=Q[a[5k]][a[jJ]+x];T=Q[a[5k]][a[hC]+x];if(U&&T!=1){X=b;if(b===1g){1u};u=v[a[6z]](q[a[1n]]+T-1);S[S[a[59]]]=a[eH]+k+a[5h]+u+bc[a[22]]()+a[3F]}}};bs=-1;W=V=1h};if(y){bq=Q[Z];if(bb[bq]===1T){bb[bq]={}};if(H&&H[a[59]]){1i(L=0,R=H[a[59]];L<R;L++){K=v[a[6U]](H[L]);x=H[L];U=bb[bq][a[9x]+x];T=bb[bq][a[a9]+x];if(M){t=v[a[6z]](K+1)}1e{t=v[a[6z]](K)};if(U&&T!=1){S[S[a[59]]]=a[eH]+t+bc+a[5h]+t+(T+bc-1)+a[3F]}};if(Q[a[2R]]&&Q[a[5k]]){L=0;x=H[L];U=Q[a[5k]][a[jJ]+x];T=Q[a[5k]][a[hC]+x];if(U&&T!=1){if(M){t=v[a[6z]](L+1);u=v[a[6z]](L+T)}1e{t=v[a[6z]](L);u=v[a[6z]](L+T-1)};S[S[a[59]]]=a[eH]+t+bc+a[5h]+u+bc+a[3F]}}}};1d o}},U5:1c(E,A,H,J){1a G=1b;1a s=G[a[9z]];1a k=G[a[mq]];1a n;1a D;1a t;1a L=1T;1a b=J[a[sO]],q=G[a[6v]],r=G[a[hi]],o,p,g,j,w,x,v,C,K,d,B=1h,I=6,l=2,M=-1,i=5,h=G[a[ie]],f,F,y,z;if(bi(G[a[3r]][0])){o=G[a[3r]]}1e{o=[];o[0]=G[a[3r]]};D=[];1i(w=0,y=s;w<y;w++){n=o[w];t=E+w;d=[];(p=cd[a[5R]](G[a[CZ]](w))),cd[a[1q]](k,1c(f,i){1a b=G[a[6z]](f);1a g;if(h===1f||h[a[KC]]===1f){g=6}1e{g=0};d[f]=a[9w]+b+t+a[eJ]+g+a[mu]});if(!bi(n)){D[D[a[59]]]=a[pu]+t+a[t8]+p+a[3C]+d[a[61]](a[58])+a[lH];1u};1i(x=0,z=n[a[59]];x<z;x++){j=n[x];C=j[a[lL]];if(C===L){1u};v=u(C);if(v<0){1u};g=G[a[6z]](v);if(h===1f||h[a[KC]]===1f){I=6}1e{I=0};K=q[w][x];K=cd[a[9F]](K);M=-1;if(j[a[5D]]){if(j[a[IC]]&&(j[a[fg]]===L||j[a[fg]]==a[238])){K=r[w][x]}1e{K=V[a[e1]](K);if(bl(K)){K=q[w][x];if(cd[a[nk]](K)){M=G[a[ix]](K)}}}}1e{if(cd[a[nk]](K)){M=G[a[ix]](K)}};if(h===1f||h[a[KC]]===1f){B=G[a[8E]](B,b);if(j[a[169]]){B=G[a[8E]](B,cd[a[4q]](j[a[169]]))};I=G[a[Ks]](J,B,I,i,l,M,a[58],a[D0],j[a[5D]])}1e{I=0};if(M!=-1){d[v]=a[9w]+g+t+a[vS]+I+a[hV]+M+a[hU]}1e{if(m(K)){d[v]=a[9w]+g+t+a[eJ]+I+a[mu]}1e{d[v]=a[9w]+g+t+a[eJ]+I+a[hV]+K+a[hU]}};f=1o(j[a[2T]]);F=1o(j[a[7e]]);if(f>1&&j[a[7e]]>1){A[A[a[59]]]=a[eH]+g+t+a[5h]+G[a[6z]](v+f-1)+(t+F-1)+a[3F]}1e{if(f>1){A[A[a[59]]]=a[eH]+g+t+a[5h]+G[a[6z]](v+f-1)+t+a[3F]}1e{if(F>1){A[A[a[59]]]=a[eH]+g+t+a[5h]+g+(t+F-1)+a[3F]}}}};D[D[a[59]]]=a[pu]+t+a[t8]+p+a[3C]+d[a[61]](a[58])+a[lH]};1d D[a[61]](a[58]);1c u(b){1a d=-1;if(b==a[zN]){b=a[F6]};cd[a[1q]](k,1c(f,g){if(g[a[1m]]==b){d=f;1d 1g}});1d d}},VO:1c(n,u,k,f,q,s){1a p=1b;1a g=p[a[ie]];1a v;1a o=[];1a l;1a h;1a t;1a w;1a r=0;1a b;1a d=a[JM];1i(1a i=0,j=u[a[59]];i<j;i++){v=u[i];t=v[a[45]];h=v[a[129]]||26;if(g){r=p[a[VG]](v[a[169]],s)};l=a[pu]+n+a[t8]+cd[a[5R]](h)+a[3C];if(1L t==a[0]){t=a[58]};if(t&&t[a[59]]>0){t=cd[a[9F]](t)};if(t!=a[58]){w=p[a[ix]](t)}1e{w=-1};if(w!=-1){b=a[9w]+d+n+a[vS]+r+a[hV]+w+a[hU]}1e{if(m(t)){b=a[9w]+d+n+a[eJ]+r+a[mu]}1e{b=a[9w]+d+n+a[eJ]+r+a[hV]+t+a[hU]}};l+=b;l+=a[lH];o[o[a[59]]]=l;k[k[a[59]]]=a[eH]+d+n+a[5h]+p[a[6z]](f)+n+a[3F];n++};1d o},gz$SC:1c(d,j,k){1a i=1b;1a g;1a m;1a f=i[a[1z]];1a b=cd[a[69]](1f,[],i[a[2N]]);1a o=cd[a[69]](1f,[],i[a[5g]][a[7Y]]);1a n;i[a[1eG]]();i[a[aU]]=d||{};if(d[a[6N]]){i[a[eX]](0,1g)};if(bn(d[a[Sy]])){cd[a[1q]](d[a[Sy]],1c(f,g){1a d=i[a[6l]](f);if(d>=0&&!1D(1o(g))){b[d]=1o(g)}})};k[j]=d[a[kh]];i[a[ie]]=d[a[Sx]]===1g?1g:1f;i[a[t4]]=j;if(d&&d[a[8n]]!==1g&&i[a[8n]]){g=1f};if(g||bi(d[a[Su]])){m={};if(g){m[a[F6]]=i[a[uM]]};cd[a[1q]](f,1c(d,f){m[f[a[1m]]]=b[d]});n=h(o);o=n[a[7Y]];f=n[a[7B]];b=[];cd[a[1q]](f,1c(d,f){b[a[1s]](m[f[a[1m]]])})};i[a[vl]]=b;i[a[xj]]=o;i[a[mq]]=f;1c h(j){1a h=j;1a b=d[a[Su]];1a f=i[a[2o]];if(!bl(d[a[2o]])){f=d[a[2o]]};if(g){h[a[2E]](0,0,{5l:a[F6],co:i[a[ER]],TI:1g,TC:a[2sH],aT:a[TW]});f+=1};if(bi(b)){h=l(h,b)};1d i[a[TP]](h,f)}1c l(d,g){1a k=[];1a j;1a b;1a f;1i(1a h=0,i=d[a[59]];h<i;h++){b=d[h];f=b[a[1m]];if(b[a[1p]]&&b[a[1p]][a[59]]){j=l(b[a[1p]],g);if(j[a[59]]>0){b[a[1p]]=j;k[a[1s]](b)}}1e{if(g[a[19]](f)==-1){k[a[1s]](b)}}};1d k}},TO:1c(d){1a b=1b;1d b[a[rQ]][d]||a[TR]+d},TU:1c(p,s,r){1a o=1b;1a k=o[a[1x]];1a n=o[a[mq]];1a q=o[a[xj]];if(!l(s)){h(s,p)};if(q){j(q,p)};if(k&&n){b(k,n,p)};if(o[a[6v]]&&o[a[3r]]){d(o[a[6v]],o[a[hi]],o[a[3r]],p)};if(!l(r)){g(r,p)};1d p;1c j(b,i){1a g;f(b,i);1i(1a d=0,h=b[a[59]];d<h;d++){g=b[d];if(!l(g[a[1p]])){j(g[a[1p]],i)}}}1c h(h,b){1a g;1i(1a d=0,f=h[a[59]];d<f;d++){g=h[d][a[45]];if(1L g!=a[0]&&g!=a[58]){b[cd[a[9F]](g)]=1}};1d b}1c g(h,b){1a g;1i(1a d=0,f=h[a[59]];d<f;d++){g=h[d][a[45]];if(1L g!=a[0]&&g!=a[58]){b[cd[a[9F]](g)]=1}};1d b}1c f(f,b){1a i;1a d;1i(1a g=0,h=f[a[59]];g<h;g++){d=f[g];i=l(d[a[2a]])?d[a[1m]]:1E(d[a[2a]])[a[178]]()==a[58]?a[58]:d[a[2a]];if(cd[a[nk]](i)){b[cd[a[9F]](i)]=1}};1d b}1c b(h,j,b){1a D=[],E,C,B,w,d,q;1a z=o[a[Gg]];1a I=o[a[G3]];1a H;1a G;1a A=1;1a g=o[a[aU]];1a k=i;1a F=1T;1a f;1a p,r,s,t;1a y;1a u,v;1a n;if(I){A=0};if(z){A=h[a[59]];if(I){A=h[a[59]]-1}};1i(p=0,s=h[a[59]];p<s;p++){q=h[p];E=[];1i(r=0,t=j[a[59]];r<t;r++){d=j[r];f=d[a[1m]];y=d[a[1G]]||{};if(!q[a[2R]]&&y[a[85]]==a[Ft]&&!m(y[a[1B]])){C=y[a[1B]];E[E[a[59]]]=1E(C);b[C]=1;1u}1e{if(!q[a[2R]]&&y[a[85]]==a[xr]){C=l(q[f])?a[58]:q[f];E[r]=C;b[C]=1;1u}1e{if(y[a[85]]==a[vn]){C=(l(q[f])?a[58]:q[f])+a[ge]+(l(q[y[a[l1]][a[1m]]])?a[58]:q[y[a[l1]][a[1m]]]);E[r]=C;b[C]=1;1u}1e{if(y[a[85]]==a[l5]||y[a[85]]==a[pA]){if(k(y[a[i3]])){C=y[a[i3]](p,d[a[1n]],q[f],d[a[2a]],q,f)}1e{C=l(q[f])?a[58]:q[f]};E[r]=C;b[C]=1;1u}1e{if(!q[a[2R]]&&y[a[85]]==a[wB]&&(!m(y[a[cj]])||k(y[a[i3]]))){if(k(y[a[i3]])){C=y[a[i3]](p,d[a[1n]],q[f],d[a[2a]],q,f)}1e{if(!m(y[a[cj]])){C=l(q[y[a[cj]]])?a[58]:q[y[a[cj]]]}};E[r]=C;b[C]=1;1u}1e{if(y[a[85]]==a[9G]&&y[a[wX]]!==1f&&!m(y[a[8Z]])&&!m(y[a[8V]])){u=y[a[h1]];v=y[a[h0]];if(k(v)){u=v(p,d[a[1n]],q,f)};C=P[a[23]][a[kA]][a[21]]({},q[f],y,u);E[r]=C;b[C]=1;1u}}}}}};if(f==a[F6]){if(z){E[r]=A--}1e{E[r]=A++};1u};if(m(q[f])){C=a[58]}1e{C=1E(q[f])};n=1g;if(k(d[a[6O]])){n=1f};if(C===a[58]&&!n){E[r]=a[58];1u};if(n){C=d[a[6O]](p,d[a[1n]],q[f],d[a[2a]],q,f,d);if(m(C)){E[r]=a[58];1u}}1e{if(d[a[3W]]){if(d[a[3W]]==a[4t]){1a x=1o(C);if(d[a[5D]]){C=V[a[da]](C,d[a[5D]],d[a[fg]])}1e{C=V[a[hM]](C)};if(!bl(x)){if(d[a[5x]]){C=d[a[5x]]+C};if(d[a[5w]]){C=C+d[a[5w]]}}}1e{if(d[a[3W]]==a[5U]){if(d[a[5D]]){C=q[f];if(1L C==a[0]){C=a[58]};if(d[a[4P]]){C=V[a[f3]](C,d[a[4P]])};C=V[a[aS]](C,d[a[5D]])};if(d[a[5x]]){C=d[a[5x]]+C};if(d[a[5w]]){C=C+d[a[5w]]}}1e{if(d[a[5x]]){C=d[a[5x]]+C};if(d[a[5w]]){C=C+d[a[5w]]}}}}1e{if(d[a[5x]]){C=d[a[5x]]+C};if(d[a[5w]]){C=C+d[a[5w]]}}};if(d[a[SX]]){E[r]=C;b[1E(C)]=1}1e{if(d[a[3W]]==a[4t]){w=V[a[e1]](C);if(!bm(w)){b[C]=1;E[r]=C}1e{if(d[a[IC]]&&(d[a[fg]]===F||d[a[fg]]==a[238])){E[r]=q[f]}1e{E[r]=w}}}1e{if(d[a[3W]]==a[5U]&&!n){if(d[a[mM]]===1g){b[C]=1;E[r]=C}1e{if(d[a[mM]]===1f||(bp(d[a[mM]])&&1E(d[a[mM]])[a[59]]>1)||d[a[5D]]==a[257]){B=cd[a[2sG]](q[f],d[a[4P]]);if(B!==1g){E[r]=B}1e{b[C]=1;E[r]=C}}1e{b[C]=1;E[r]=C}}}1e{if(cd[a[nk]](C)){b[C]=1;E[r]=C}1e{E[r]=C}}}}};D[p]=E};o[a[EY]]=D;1d b}1c d(i,j,h,d){1a q;1a f;1a k=o[a[9z]];1a r=1T;1a b,g;1a l,m,n,p;if(bi(h[0])){b=h}1e{b=[];b[0]=h};1i(l=0,n=1k[a[1A]](b[a[59]],k);l<n;l++){g=b[l];1i(m=0,p=g[a[59]];m<p;m++){q=i[l][m];f=g[m];if(f[a[5D]]){if(f[a[IC]]&&(f[a[fg]]===r||f[a[fg]]==a[238])){q=j[l][m]}1e{q=V[a[e1]](q);if(bl(q)){q=i[l][m];if(cd[a[nk]](q)){d[cd[a[9F]](q)]=1}}}}1e{if(cd[a[nk]](q)){d[cd[a[9F]](q)]=1}}}};1d d}},Tk:1c(i,b){1a f=1b;1a g=[];1a h=0;f[a[nr]]={};1i(1a d in b){g[h]=d;f[a[nr]][d]=h;h++};f[a[wD]]=g;if(i&&i[a[59]]){cd[a[1q]](i,1c(d,h){1a b=W[a[2k]][a[1y]](h);if(b){b[a[nr]]=f[a[nr]];b[a[wD]]=g}})};g=1h},SP:1c(f){1a d=1b;1a b=d[a[nr]][f];if(1D(b)){1d-1};1d b},Uv:1c(f){1a g=1b;1a d=0,b=a[58];d=d1(f/26);f=f+65;f=f-d*26;if(d>0){if(d>26){b+=g[a[6z]](d-1)}1e{b+=1E[a[4r]](64+d)}};b+=1E[a[4r]](f);1d b},U9:1c(d,b){if(!b){1d d||{}};if(!d){d={}};if(b[a[3s]]&&b[a[3s]]!=a[58]){d[a[3s]]=b[a[3s]]};if(b[a[2V]]&&b[a[2V]]!=a[58]){d[a[2V]]=b[a[2V]]};if(b[a[7l]]&&b[a[7l]]!=a[58]){d[a[7l]]=b[a[7l]]};if(b[a[8P]]&&b[a[8P]]!=a[58]){d[a[8P]]=b[a[8P]]};if(b[a[3d]]&&b[a[3d]]!=a[58]){d[a[3d]]=b[a[3d]]};if(b[a[aJ]]&&b[a[aJ]]!=a[58]){d[a[aJ]]=b[a[aJ]]};if(b[a[cI]]&&b[a[cI]]!=a[58]){d[a[cI]]=b[a[cI]]};if(b[a[2t]]!==1T&&b[a[2t]]!=a[58]&&b[a[2t]]!=a[7j]){d[a[2t]]=b[a[2t]]}1e{if(b[a[e0]]!==1T&&b[a[e0]]!=a[58]&&b[a[e0]]!=a[Ve]&&b[a[e0]]!=a[7j]){d[a[2t]]=b[a[e0]]}};1d d},V6:1c(y,s,x,i,l,A,q,C,n){1a t=1b;1a h=y[a[e2]],o=y[a[xy]],w=y[a[iS]],v=y[a[h4]],u=y[a[9b]],E,k=1g,g=a[58],p=a[58],j=a[58],z=a[cY],B=a[cY],D,b=a[58],r=a[58];1a f=t[a[aU]];1a d=[a[us],a[Tg],a[DZ],a[SN],a[UC]];if(s[a[3s]]&&s[a[3s]]!=a[58]){h=cd[a[8v]](s[a[3s]],1f);k=1f};if(s[a[7l]]&&d[a[19]](s[a[7l]])!=-1){g=a[vd];k=1f};if(s[a[8P]]&&s[a[8P]]==a[eZ]){p=a[ut];k=1f};if(s[a[cI]]&&s[a[cI]]==a[qj]){j=a[wf];k=1f};if(k){E=a[2sx]+o+a[3F]+g+p+j+a[n9]+h+a[TM]+f[a[mP]]+a[uU];D=w[a[19]](E);if(D==-1){w[w[a[59]]]=E;l=w[a[59]]-1}1e{l=D}};if(s[a[3d]]&&s[a[3d]]!=a[58]){z=s[a[3d]]};if(s[a[2t]]&&s[a[2t]]!=a[58]){E=a[uW]+cd[a[8v]](s[a[2t]],1f)+a[uX];D=v[a[19]](E);if(D==-1){v[v[a[59]]]=E;i=v[a[59]]-1}1e{i=D}};if(A!=-1){if(n==a[Fy]){b=a[UA];r=a[1pM]}1e{b=a[58];r=a[58]}}1e{b=a[UA];if(!m(n)){if(n==a[Mm]){r=a[2sy]}1e{if(n==a[2sw]){r=a[2sv]}1e{if(n==a[2st]){r=a[2su]}1e{if(n==a[2sz]){r=a[2sA]}1e{if(n==a[2sF]){r=a[2sE]}1e{if(n==a[Fy]){r=a[1pM]}1e{if(n==a[257]){r=a[2sD]}1e{if(!t[a[qv]][n]){t[a[qv]][n]=181+6w[a[9T]](t[a[qv]])[a[59]]};r=a[2sB]+t[a[qv]][n]+a[n5]}}}}}}}}1e{r=a[2sC]}};if(q!=a[58]){z=a[152]};if(s[a[aJ]]&&s[a[aJ]]!=a[kR]){B=s[a[aJ]];if(B!=a[cY]&&B!=a[154]&&B!=a[4S]){B=a[cY]}};E=a[2rZ]+i+a[1qY]+l+a[n5]+r+a[1sN]+b+a[2rY]+B+a[1t0]+z+a[ah]+q+C+a[O4];D=u[a[19]](E);if(D==-1){u[u[a[59]]]=E;x=u[a[59]]-1}1e{x=D};1d x},1pQ:1c(u,n,m){1a v=1b;1a q,r,i,t,y=u,k=y+m[a[59]]-1,b,f=[],d=[],x=[],g=0,h=a[58],j=a[2rn],w=a[2rm];w+=a[2rl];1a s=v[a[aU]];1i(q=0,r=n[a[59]];q<r;q++){i=n[q];t=i[a[1G]];if(t){if(t[a[85]]==a[RY]){x[x[a[59]]]=p(i,y,k,m,a[1pV],s)}1e{if(t[a[85]]==a[S8]){x[x[a[59]]]=p(i,y,k,m,a[2rj],s)}1e{if(t[a[85]]==a[QV]){x[x[a[59]]]=p(i,y,k,m,a[1pT],s)}1e{if(t[a[85]]==a[xr]){b=o(i,y,k,g);f[f[a[59]]]=b[a[2rk]];d[d[a[59]]]=b[a[DV]];g++}}}}}};if(x[a[59]]>0){w+=x[a[61]](a[58])+a[2ro]}1e{w=a[58]};if(d[a[59]]>0){j+=a[2rp]+d[a[61]](a[58])+a[2ru]}1e{j=a[58]};if(f[a[59]]>0){h=f[a[61]](a[58])}1e{h=a[58]};1d{1pZ:h,JY:j,1pX:w};1c p(d,H,k,n,F,A){1a I,D,b=d[a[1n]],B=d[a[1G]],f=d[a[1m]],C=B[a[9k]],i=n[a[59]]-1,h,g,J=a[58],K=-1,G=a[58],j=a[58],E=[],w=l(B[a[dH]])?1f:B[a[dH]],x=l(B[a[dF]])?1f:B[a[dF]],t=l(B[a[tD]])?1f:B[a[tD]],u=l(B[a[tE]])?1f:B[a[tE]],o=(B[a[LV]]||a[9B])[a[56]](a[7T],a[f6]),q=(B[a[KF]]||a[9B])[a[56]](a[7T],a[f6]),r=(B[a[KE]]||a[9B])[a[56]](a[7T],a[f6]),y=(B[a[ph]]||a[pn])[a[56]](a[7T],a[f6]),z=(B[a[pk]]||a[p6])[a[56]](a[7T],a[f6]),m=(B[a[8C]]||a[9B])[a[56]](a[7T],a[f6]),L=(B[a[J4]]||a[9B])[a[56]](a[7T],a[f6]),s=(B[a[Jd]]||a[9B])[a[56]](a[7T],a[f6]);I=a[2rt]+F+a[n5];D=A[a[kh]];if(F==a[1pT]){I+=a[2rs];m=L;r=L;t=1g;u=1g}1e{if(F==a[1pV]){r=m;t=1g;u=1g}};if(x){I+=a[2rq]};if(w){I+=a[2rr]};if(t){I+=a[2ri]};if(u){I+=a[2rh]};I+=a[jr];I+=a[2r8]+r+a[3F];I+=a[2r9]+s+a[3F];I+=a[2r7];I+=a[2r6]+m+a[3F];I+=a[2r4]+o+a[3F];I+=a[2r5]+q+a[3F];I+=a[2ra]+y+a[3F];I+=a[2rb]+z+a[3F];I+=a[2rg];J=v[a[6z]](b);g=f[a[54]](a[53]);K=v[a[1pw]](g[0]);G=v[a[6z]](K);K=v[a[1pw]](g[g[a[59]]-1]);j=v[a[6z]](K);1i(1a p=H;p<=k;p++){h=1k[a[1A]](p-H,i);if(1L C==a[0]){E[E[a[59]]]=a[1pl]+D+a[1p8]+G+p+a[5h]+j+p+a[1p1]+J+p+a[1p3]}1e{if(n[h][C]==1f||n[h][C]==a[cn]){E[E[a[59]]]=a[1pl]+D+a[1p8]+G+p+a[5h]+j+p+a[1p1]+J+p+a[1p3]}}};I+=E[a[61]](a[58])+a[2rf];1d I}1c o(h,s,j,d){1a r=h[a[1G]],g=h[a[1n]],t=a[58],q=d+1,n,m,i,l,p={},k=v[a[ie]],f=a[2re],o=a[2rc],b;m=r[a[1F]];n=r[a[1A]];n=bl(n)?0:n;m=bl(m)?100:m;if(k){if(n<0&&m<=0){p=v[a[8E]](p,cd[a[4q]](a[LC]));if(h[a[1G]][a[169]]){p=v[a[8E]](p,cd[a[4q]](h[a[1G]][a[169]]))};if(p&&p[a[2t]]){o=cd[a[8v]](p[a[2t]],1f)}}1e{if(n<0&&m>0){p=v[a[8E]](p,cd[a[4q]](a[LQ]));if(p&&p[a[2t]]){o=cd[a[8v]](p[a[2t]],1f)};p={};p=v[a[8E]](p,cd[a[4q]](a[LH]));if(p&&p[a[2t]]){f=cd[a[8v]](p[a[2t]],1f)}}1e{p=v[a[8E]](p,cd[a[4q]](a[Ci]));if(h[a[1G]][a[169]]){p=v[a[8E]](p,cd[a[4q]](h[a[1G]][a[169]]))};if(p&&p[a[2t]]){f=cd[a[8v]](p[a[2t]],1f)}}}};t=v[a[6z]](g);b=cd[a[g8]]();b=a[1sb]+b+a[Rr];i=a[2rd]+t+s+a[5h]+t+j+a[2rv]+q+a[3C];i+=a[2rw]+n+a[2rQ]+m+a[1rR]+f+a[2rP];i+=a[2rO];i+=a[2rM]+b+a[2rN];i+=a[2rR];l=a[2rS];l+=a[2rX]+b+a[3C];l+=a[2rW];l+=a[2rV]+n+a[2rT]+m+a[2rU];l+=a[2rL];l+=a[2rK]+o+a[3F];l+=a[2rB];l+=a[2rC];l+=a[2rA]+t+s+a[5h]+t+j+a[2rz];1d{cf:i,JY:l}}},1ot:1c(b){1a g=1b;1a d=g[a[mq]];1a f=-1;cd[a[1q]](d,1c(d,g){if(g[a[1m]]==b){f=d;1d 1g}});1d f},1oO:1c(){1a f=1b;1a d=f[a[hW]];1a b=f[a[su]];if(b==a[114]){f[a[2rx]]();1d};if(!l(f[a[b0]])){1d};if(f[a[rU]]){f[a[b0]]=1j O(a[2ry]);f[a[b0]][a[133]](f[a[127]],d);f[a[210]](f[a[b0]]);f[a[pd]]=1j bN(a[2rD]);f[a[b0]][a[210]](f[a[pd]]);f[a[2rE]]()}},1qv:1c(){1a b=1b;if(l(b[a[aY]])){b[a[aY]]=1j bN(a[2rJ]);b[a[aY]][a[213]](1g);b[a[aY]][a[139]][a[144]]=b;b[a[aY]][a[139]][a[aM]]=a[dt];b[a[aY]][a[214]](a[Aa]);r(b[a[aY]][a[139]],a[2h],b[a[CT]]);b[a[210]](b[a[aY]])};if(l(b[a[aV]])){b[a[aV]]=1j bN(a[2rI]);b[a[aV]][a[213]](1g);b[a[aV]][a[139]][a[aM]]=a[125];b[a[aV]][a[139]][a[144]]=b;b[a[aV]][a[214]](a[jr]);r(b[a[aV]][a[139]],a[2h],b[a[CT]]);b[a[210]](b[a[aV]])}},1pK:1c(){1a k=1b;1a g=k[a[b0]];1a i=k[a[su]];1a h=k[a[8X]];1a l=k[a[xE]];1a d;1a j;1a f;if(!k[a[rU]]){1d};k[a[hK]]=[];if(i==a[sk]){if(k[a[1pa]]){g[a[150]](a[xx],a[2rH])};l=1}1e{k[a[b5]]=1j bN(a[2rF]);k[a[b5]][a[213]](1g);k[a[b5]][a[139]][a[aM]]=a[mv];k[a[b5]][a[139]][a[144]]=k;k[a[b5]][a[214]](a[2rG]);r(k[a[b5]][a[139]],a[2h],k[a[hG]]);g[a[210]](k[a[b5]],1f)};k[a[cg]]=1j bN(a[2iY]);k[a[cg]][a[213]](1g);k[a[cg]][a[139]][a[144]]=k;k[a[cg]][a[139]][a[aM]]=a[dt];k[a[cg]][a[214]](a[Aa]);r(k[a[cg]][a[139]],a[2h],k[a[hG]]);g[a[210]](k[a[cg]],1f);1i(1a b=0;b<l;b++){d=1j bN(a[2hg]);d[a[213]](1g);d[a[139]][a[144]]=k;r(d[a[139]],a[2h],k[a[hG]]);g[a[210]](d,1f);k[a[hK]][b]=d};k[a[cw]]=1j bN(a[24Z]);k[a[cw]][a[213]](1g);k[a[cw]][a[139]][a[aM]]=a[125];k[a[cw]][a[139]][a[144]]=k;k[a[cw]][a[214]](a[jr]);r(k[a[cw]][a[139]],a[2h],k[a[hG]]);g[a[210]](k[a[cw]],1f);if(i!=a[sk]){k[a[b8]]=1j bN(a[25a]);k[a[b8]][a[213]](1g);k[a[b8]][a[139]][a[aM]]=a[7G];k[a[b8]][a[139]][a[144]]=k;k[a[b8]][a[214]](a[24Y]);r(k[a[b8]][a[139]],a[2h],k[a[hG]]);g[a[210]](k[a[b8]],1f)};if(k[a[1pa]]&&bi(k[a[1q4]])){f=[];j=-1;cd[a[1q]](k[a[1q4]],1c(b,g){1a d;1a i=1o(g);d={4M:i,5o:i,Kd:1g};if(i==h){d[a[24X]]=1f;j=b};f[f[a[59]]]=d});if(j==-1){f[f[a[59]]]={4M:h,5o:h,Kd:1f};j=f[a[59]]-1};k[a[gF]]=1j bK(a[1oN]);k[a[gF]][a[vD]](f,j);r(k[a[gF]],a[jU],k[a[1oJ]],k);g[a[210]](k[a[gF]],1f)}},1qR:1c(b){1a f=b[a[78]];1a d=1o(b[a[1m]]);f[a[VD]](d);f[a[6B]]()},1qU:1c(g){1a f=1b;if(!l(f[a[aY]])){f[a[aY]][a[139]][a[aM]]=1h;bA(f[a[aY]][a[139]],a[2h],f[a[CT]]);f[a[aY]][a[132]](g)};f[a[aY]]=1h;if(!l(f[a[aV]])){f[a[aV]][a[139]][a[aM]]=1h;bA(f[a[aV]][a[139]],a[2h],f[a[CT]]);f[a[aV]][a[132]](g)};f[a[aV]]=1h;if(!l(f[a[b5]])){f[a[b5]][a[139]][a[aM]]=1h;bA(f[a[b5]][a[139]],a[2h],f[a[hG]]);f[a[b5]][a[132]](g)};f[a[b5]]=1h;if(!l(f[a[cg]])){f[a[cg]][a[139]][a[aM]]=1h;bA(f[a[cg]][a[139]],a[2h],f[a[hG]]);f[a[cg]][a[132]](g)};f[a[cg]]=1h;if(!l(f[a[cw]])){f[a[cw]][a[139]][a[aM]]=1h;bA(f[a[cw]][a[139]],a[2h],f[a[hG]]);f[a[cw]][a[132]](g)};f[a[cw]]=1h;if(!l(f[a[b8]])){f[a[b8]][a[139]][a[aM]]=1h;bA(f[a[b8]][a[139]],a[2h],f[a[hG]]);f[a[b8]][a[132]](g)};f[a[b8]]=1h;if(!l(f[a[hK]])){1i(1a b=0,d=f[a[hK]][a[59]];b<d;b++){f[a[hK]][b][a[139]][a[aM]]=1h;bA(f[a[hK]][b][a[139]],a[2h],f[a[hG]]);f[a[hK]][b][a[132]](g);f[a[hK]][b]=1h}};f[a[hK]]=1h;if(!l(f[a[pd]])){f[a[pd]][a[132]](g)};f[a[pd]]=1h;if(!l(f[a[gF]])){bA(f[a[gF]],a[jU],f[a[1oJ]]);f[a[gF]][a[132]](g)};f[a[gF]]=1h;if(!l(f[a[b0]])){f[a[b0]][a[132]](g)};f[a[b0]]=1h},1oI:1c(b){1a d=1b;d[a[1V]]=0;if(d[a[E4]]){b=d[a[E4]]}1e{b=!!b};if(d[a[2m]]&&!b){if(d[a[2w]]){d[a[1R]][a[2r]](0);d[a[1S]]=0;d[a[4o]]=0};if(d[a[3g]]){d[a[2C]][a[2r]](0);d[a[4h]]=0}};d[a[5K]](1f);d[a[6a]](1f);d[a[5A]]();d[a[2Q]]()},1oF:1c(b){1a d=1b;d[a[2N]]=[];d[a[jX]]=1f;b=!!b;d[a[1V]]=0;d[a[135]]();d[a[5K]](1f);d[a[6a]](1f);if(d[a[2m]]&&d[a[2w]]&&!b){d[a[1R]][a[2r]](0)};d[a[2Q]]();d[a[5A]]()},1oS:1c(q,G){1a bf=1b;1a bb=bf[a[1S]];1a Y=bf[a[2u]];1a z=bf[a[1x]];1a y=z[a[59]];1a b=bf[a[2I]];1a V=bf[a[Dp]];1a bg=bf[a[Dj]];1a K,p,U,X;1a h=bf[a[3Z]];1a i=bf[a[3Y]];1a bh;1a D;1a B=bf[a[2H]];1a C=bf[a[ex]];1a s=bf[a[1z]];1a N=bf[a[8L]];1a u;1a bl,O=1h,R,bn=1h;1a F=0;1a H=bf[a[1W]];1a x,I;1a Z=bf[a[1X]];1a be=bf[a[mG]];1a E=bf[a[hq]];1a g=bf[a[oP]];1a J,L,P,r,n=1h,bd=1h,w;1a S;1a bo;1a bp=0;1a bs=bf[a[2m]];1a bu=bf[a[3p]];1a f=bf[a[6Y]];1a bm=bf[a[at]];1a t=bf[a[2N]];1a l=W[a[2k]][a[5N]];1a m=l*2;1a ba=bf[a[1M]];1a bq;1a o=bf[a[ar]];1a k=bf[a[fU]];1a bt=bf[a[o0]];1a br=1T;1a bi=a[58];1a bj=a[177];1a bc=a[1oz];1a bk=a[165];1a v=1g;1a T=bf[a[8X]];1a A=W[a[xw]]||1;1a M=bf[a[y5]];1a d=1c(b){1d 1L b===a[67]};bf[a[uN]]=[];if(bs){if(bf[a[4K]]>bf[a[b2]]){bf[a[4K]]=bf[a[b2]];v=1f};bh=1k[a[1F]](T*(bf[a[4K]]-1),0);D=1k[a[1A]](z[a[59]],T*bf[a[4K]]);bb=1k[a[1F]](0,(bf[a[4K]]-1)*T);S=1k[a[1A]](y-bb,T);S=1k[a[1F]](0,S)}1e{1d};if(bu){q=1f};if(q===1f){1i(J=0,P=b[a[59]];J<P;J++){K=b[J];1i(L=0,r=K[a[59]];L<r;L++){U=b[J][L];U[a[1H]]=-1;U[a[1n]]=-1;U[a[1w]]=1h;U[a[1B]]=1h;U[a[135]]()}};1i(J=0,P=i[a[59]];J<P;J++){i[J][a[213]](1f,bi);if(bu&&G!==1f){i[J][a[195]](2z)};i[J][a[202]](bk,bi);1i(L=0,r=h[J][a[59]];L<r;L++){h[J][L][a[207]]()}};if(f>0){1i(J=0,P=N[a[59]];J<P;J++){N[J][a[213]](1f,bi);if(bu&&G!==1f){N[J][a[195]](2z)};N[J][a[202]](bk,bi)}};1i(J=S,P=i[a[59]];J<P;J++){i[J][a[213]](1g)};if(f>0){1i(J=S,P=N[a[59]];J<P;J++){N[J][a[213]](1g)}}};if(bf[a[1Q]]){if(z[a[59]]<b[a[59]]){1i(J=z[a[59]],P=b[a[59]];J<P;J++){K=b[J];1i(L=0,r=K[a[59]];L<r;L++){U=K[L];U[a[213]](1g)}}}};1i(J=bh;J<D;J++){K=z[J];R=J-bh;bo=R+F;bn=i[bo];if(f>0){O=N[bo]};if(!K){bn[a[202]](bk,bi);if(f>0){O[a[202]](bk,bi)};1i(L=0,r=s[a[59]];L<r;L++){U=b[bo][L];U[a[213]](1g)};1u};bq=K[ba];if(bg){X=V[J%V[a[59]]];bn[a[202]](bk,X);if(f>0){O[a[202]](bk,X)}}1e{bn[a[202]](bk,bi);if(f>0){O[a[202]](bk,bi)}};if(d(be)){bd=be(J,K,y);if(bd&&bd!=bi){if(E&&B&&!C){if(K[a[2R]]!==1f){bn[a[206]](bd);if(f>0){O[a[206]](bd)}}}1e{bn[a[206]](bd);if(f>0){O[a[206]](bd)}}}1e{if(K[a[2R]]===1f){bn[a[207]]();if(f>0){O[a[207]]()}}}};1i(L=0,r=s[a[59]];L<r;L++){bl=h[bo][L];U=b[bo][L];U[a[213]](1f);p=s[L];if(U[a[dC]]){U[a[194]](t[L])}1e{w=t[L]-m;if(w<0){w=0};U[a[194]](w)};x=p[a[1m]];I=p[a[2a]];u=K[x];U[a[at]]=bm;if(bu){U[a[1X]]=2z}1e{U[a[1X]]=Z};U[a[1H]]=J;U[a[1n]]=L;U[a[1w]]=K;U[a[1m]]=x;U[a[2a]]=I;U[a[1B]]=u;if(B&&!k){if(p[a[7I]]===1f||H[a[19]](x)!=-1){if(!bf[a[1po]](K,x)){U[a[5t]]=1g;bl[a[181]](bc)}1e{if(bf[a[Jn]](K,x)){U[a[5t]]=1g;bl[a[180]](bc)}1e{if(bf[a[1p7]](K,x)){U[a[5t]]=1f;bl[a[181]](bc)}1e{U[a[5t]]=1f;if((bo+1)%T==0){bl[a[181]](bc)}1e{bl[a[180]](bc)}}}};if(bo==F){U[a[5t]]=1g}}1e{U[a[5t]]=1g;bl[a[181]](bc)}}1e{U[a[5t]]=1g;bl[a[181]](bc)};U[a[135]]();if(bt){if(o[bq]!==br&&o[bq][L]!==br){n=o[bq][L]}1e{if(d(p[a[7b]])){n=p[a[7b]](J,L,u,I,K,x)}}}1e{if(d(p[a[7b]])){n=p[a[7b]](J,L,u,I,K,x)}};bf[a[Js]](K,bl,L,n,bd,bi,bj,E,g);n=1h};bd=1h;if(bu){bp+=bn[a[139]][a[3T]]}};bf[a[1S]]=1k[a[1F]](0,(bf[a[4K]]-1)*T);if(B&&bf[a[1x]]&&bf[a[1x]][a[59]]){1a j;1a bv,Q;if(H&&H[a[59]]>0){if(M){1i(J=0,P=s[a[59]];J<P;J++){bf[a[fL]](J,0,Y)};1i(J=0,P=s[a[59]];J<P;J++){if(k&&H[a[19]](s[J][a[1m]])!=-1){bf[a[pc]](J)}}}1e{1i(J=0,P=H[a[59]];J<P;J++){bf[a[fL]](J,0,Y)};1i(J=0,P=H[a[59]];J<P;J++){if(k){bf[a[pc]](J)};if(bf[a[ex]]){bf[a[Cj]](J)}};1i(J=0,P=s[a[59]];J<P;J++){if(s[J][a[7I]]===1f&&H[a[19]](s[J][a[1m]])==-1){bf[a[fL]](J,0,Y);if(k){bf[a[pc]](J)}}}}}1e{1i(J=0,P=s[a[59]];J<P;J++){if(s[J][a[7I]]===1f){bf[a[fL]](J,0,Y)};if(s[J][a[cW]]===1f){j=s[J][a[9g]];1i(bv=J,Q=J+j;bv<Q;bv++){if(s[bv]&&s[bv][a[7I]]!==1g&&s[bv][a[cW]]!==1g){bf[a[fL]](bv,0,Y)}}}};1i(J=0,P=s[a[59]];J<P;J++){if(k&&s[J][a[7I]]===1f){bf[a[pc]](J)};if(s[J][a[cW]]===1f){j=s[J][a[9g]];1i(bv=J,Q=J+j;bv<Q;bv++){bf[a[Cj]](bv)}}}}};if(bu){if(G!==1f){bf[a[1re]]()}}1e{if(bf[a[ef]]){bf[a[c7]]=bf[a[3x]][a[139]][a[3T]];if(bf[a[c7]]<=0&&bf[a[2o]]>0){bf[a[c7]]=bf[a[3o]][a[139]][a[3T]]}}1e{bf[a[c7]]=1k[a[1A]](T,S)*(bf[a[1X]]+cd[a[24U]](A));bf[a[c7]]=1k[a[1A]](bf[a[c7]],bf[a[3x]][a[139]][a[3T]])}};bf[a[24V]](bf[a[c7]],v);bf[a[oy]]();bf[a[1rW]]();bf[a[2Q]]()},1s6:1c(k,b){1a m=1b;1a j=1g;1a o=m[a[1R]];1a g=m[a[6M]];1a n=m[a[6o]]();1a f=m[a[l4]];1a h=m[a[3w]];1a l=m[a[hW]];1a d=m[a[dK]]();1a i;if(!m[a[3g]]){h=0};if(!m[a[rU]]){l=0};if(m[a[6T]]){n+=m[a[aQ]]};if(!m[a[6R]]){n=0};if(!m[a[2Z]]){d=0;f=0};if(!m[a[7r]]){g=0};if(m[a[dq]]==a[7d]){if(k>m[a[129]]-g-n-d-f-l){j=1f}1e{j=1g}}1e{if(m[a[dq]]==a[83]){j=1f}1e{j=1g}};if(!j){m[a[2w]]=1g;m[a[1R]][a[iV]](0,0,0,0,0,0);o[a[135]]()}1e{o[a[213]](1f);m[a[2w]]=1f;o[a[kF]]=m[a[CC]];o[a[133]](m[a[3w]],m[a[129]]-h-g-l);o[a[134]](m[a[127]]-m[a[3w]],g);i=1k[a[1F]](0,k-m[a[kW]][a[129]]+m[a[Na]]);if(b){m[a[4o]]=i}1e{m[a[4o]]=1k[a[1A]](m[a[4o]],i)};o[a[iV]](m[a[4o]],m[a[kW]][a[129]],0,i,m[a[1X]]*2,m[a[1X]]);o[a[135]]();o[a[2r]](m[a[4o]],1f)};m[a[24W]]()},1tr:1c(){1a d=1b;1a b=d[a[4K]];1a f=d[a[b2]];if(!l(d[a[aY]])){if(b>1){d[a[aY]][a[213]](1f)}1e{d[a[aY]][a[213]](1g)}};if(!l(d[a[aV]])){if(b<f){d[a[aV]][a[213]](1f)}1e{d[a[aV]][a[213]](1g)}}},1tG:1c(){1a t=1b;1a u=t[a[xE]];1a d=t[a[4K]];1a r=t[a[su]];1a k=d1(d/u);1a p=t[a[8X]];1a v=t[a[b2]];1a s=t[a[1S]];1a f=s+1;1a g=t[a[1x]][a[59]];1a b=1k[a[1A]](f+p-1,g);1a o=t[a[hK]];1a q;1a n;1a h,m;1a j;if(g<=0){if(t[a[ef]]){t[a[Eq]]()};if(t[a[b0]]){t[a[b0]][a[213]](1g)};1d}1e{if(t[a[b0]]){t[a[b0]][a[213]](1f)}};if(!t[a[rU]]){if(t[a[ef]]){t[a[Eq]]()};if(r==a[114]){t[a[25b]]()};1d};if(d%u==0){k--};if(r==a[sk]){if(t[a[b5]]){t[a[b5]][a[213]](1g)};if(t[a[b8]]){t[a[b8]][a[213]](1g)};1i(h=1,m=o[a[59]];h<m;h++){q=o[h];q[a[213]](1g)};t[a[cg]][a[213]](1f,a[58]);t[a[cw]][a[213]](1f,a[58]);q=o[0];q[a[202]](a[165],a[25c]);q[a[214]](d+a[25h]+v);q[a[213]](1f,a[58])}1e{if(k!=0){t[a[b5]][a[213]](1f,a[58]);t[a[cg]][a[213]](1f,a[58])}1e{t[a[b5]][a[213]](1g);t[a[cg]][a[213]](1g)};if(v-k*u<=u){t[a[cw]][a[213]](1g);t[a[b8]][a[213]](1g)}1e{t[a[cw]][a[213]](1f,a[58]);t[a[b8]][a[213]](1f,a[58])};m=1k[a[1A]](u,v-k*u);if(!l(o)&&o[a[59]]>0){1i(h=0;h<m;h++){n=k*u+h+1;q=o[h];q[a[139]][a[aM]]=n;if(n==d){q[a[206]](a[25i])}1e{q[a[207]]()};q[a[214]](n);q[a[213]](1f,a[58])};1i(h=m,m=o[a[59]];h<m;h++){q=o[h];q[a[213]](1g)}};if(t[a[pd]]){if(i(t[a[1oW]])){j=t[a[1oW]](d,v,f,b,g)}1e{if(g>0){j=f+a[1kz]+b+a[25g]+g+a[25f]}1e{j=a[58]}};t[a[pd]][a[139]][a[44]]=j}};if(t[a[ef]]){t[a[Eq]]()}},GO:1c(f,b,g){1a h=1b;1a i=h[a[b2]];1a d=h[a[4K]];if(!h[a[2m]]||1D(f)){1d};f=1k[a[1A]](f,i);f=1k[a[1F]](1,f);if(h[a[4K]]==f){1d};if(h[a[6D]]){h[a[2l]](1g,1f)}1e{h[a[2l]](1f,1f)};h[a[4K]]=f;if(!h[a[iM]]&&h[a[la]]&&!h[a[1Q]]){h[a[cC]]()};h[a[25d]](b);if(h[a[3p]]&&!bl(g)){h[a[7W]](g)};h[a[FX]](d)},1p4:1c(g,d,b){1a h=1b;1a i=h[a[b2]];1a f=h[a[4K]];b=!!b;d=!!d;if(!h[a[2m]]||1D(g)){1d};g=1k[a[1A]](g,i);g=1k[a[1F]](1,g);if(h[a[4K]]==g){1d};if(h[a[6D]]){h[a[2l]](1g,1f)}1e{h[a[2l]](1f,1f)};h[a[4K]]=g;if(h[a[2w]]&&!d){h[a[1R]][a[2r]](0);h[a[1S]]=0;h[a[4o]]=0};if(h[a[3g]]&&!b){h[a[2C]][a[2r]](0);h[a[4h]]=0};if(!h[a[iM]]&&h[a[la]]&&!h[a[1Q]]){h[a[cC]]()};h[a[5K]](1f);h[a[6a]](1f);h[a[2Q]]();h[a[5A]]();h[a[FX]](f)},1p9:1c(b){1a d=1b;if(i(d[a[1I]][a[Fn]])){d[a[1I]][a[Fn]]({1P:a[Fn],2y:d[a[2f]],FJ:d[a[4K]],25e:b,E6:d[a[b2]]})}},1sW:1c(b){1a d=1b;if(i(d[a[1I]][a[FA]])){d[a[1I]][a[FA]]({1P:a[FA],2y:d[a[2f]],GC:d[a[8X]],24T:b,E6:d[a[b2]]})}},1sP:1c(y,g,z,k){1a B=1b,A=B[a[1O]],f=B[a[1z]],h=B[a[1x]],v=y,x=B[a[1M]],s,m,d,b,j,p,n,q,C,r,i,o;if(A[a[59]]<=0){1d};if(!B[a[2m]]){1d};B[a[E4]]=1f;if(B[a[6D]]){B[a[2l]](1g,1f)}1e{B[a[2l]](1f,1f)};i=B[a[dE]]();o=B[a[ly]]();if(B[a[1sC]]&&k!==1f){if(B[a[2H]]){o=B[a[hy]](y,o)};if(g>o&&y!=h[a[59]]-1){y++;g=i}1e{if(g<i&&y!=0){y--;g=o}}};if(z==a[RB]){y--}1e{if(z==a[RA]){y++}};1a u=B[a[2M]](A[0][0],x,h);1a t=A[0][1];1a w=B[a[2u]];if(w>h[a[59]]){w=h[a[59]]};g=1k[a[1A]](g,B[a[1z]][a[59]]-1);g=1k[a[1F]](g,0);y=1k[a[1A]](y,h[a[59]]-1);y=1k[a[1F]](y,0);if(z==a[q8]){g=i;d=f[g]}1e{if(z==a[q0]){g=o;d=f[g]}1e{d=f[g];if(d[a[2q]]===1g||B[a[mE]]){if(v==y){if(t<g){g=B[a[1sz]](t,y)}1e{if(t>g){g=B[a[1sv]](t,y)}}}1e{if(t<g){g=o}1e{if(t>g){g=i}}}}}};b=B[a[6K]](y);if(B[a[lJ]](b,g,a[gB])===1g){1d};if(B[a[3g]]){if(z==a[q8]){B[a[2C]][a[2r]](0)}1e{if(z==a[q0]){B[a[2C]][a[2r]](B[a[2C]][a[5O]])}1e{B[a[pb]](g,b)}}};B[a[1O]]=[];if(B[a[2H]]&&!B[a[9U]]){if(u>=y){s=B[a[dM]](y,g);if(s==-1){s=y};y=s;g=B[a[hy]](y,g)}1e{if(!B[a[1sM]](y,g)){s=B[a[lX]](y,g);if(s==-1){s=y}1e{s=s+1}}1e{s=y};y=s;g=B[a[hy]](y,g)};r=B[a[xD]](y,y,g,g);B[a[3j]]=r[a[fx]];B[a[3k]]=r[a[aE]];B[a[3t]]=r[a[lU]];B[a[3u]]=r[a[kO]];1i(j=r[a[fx]],p=r[a[aE]];j<=p;j++){m=h[j];C=m[x];1i(n=r[a[lU]],q=r[a[kO]];n<=q;n++){B[a[1O]][a[1s]]([C,n])}}};y=1k[a[1A]](y,h[a[59]]-1);y=1k[a[1F]](y,0);m=h[y];if(l(m)){1d};B[a[3m]](y);if(B[a[3p]]){B[a[7W]](y)};if(!B[a[2H]]||B[a[9U]]){B[a[1O]][a[1s]]([m[x],g])};B[a[2Q]]();B[a[E4]]=1g},1sK:1c(d){1a i=1b[a[144]];1a h=i[a[su]];1a j=i[a[xE]];1a b=i[a[4K]];1a k=i[a[b2]];1a f=d1(b/j);1a g=1b[a[aM]];if(b%j==0){f--};4v(g){1C a[mv]:i[a[eO]](1);1l;1C a[7G]:i[a[eO]](k);1l;1C a[125]:if(h==a[sk]){i[a[eO]](b+1)}1e{i[a[eO]]((f+1)*j+1)};1l;1C a[dt]:if(h==a[sk]){i[a[eO]](b-1)}1e{i[a[eO]]((f-1)*j+1)};1l;4w:if(h!=a[sk]){i[a[eO]](g)};1l}},1sJ:1c(d){1a h=1b[a[144]];1a g=h[a[su]];1a f=1b[a[aM]];1a b=h[a[4K]];if(g!=a[114]){1d};4v(f){1C a[125]:h[a[eO]](b+1);1l;1C a[dt]:h[a[eO]](b-1);1l}},1td:1c(b){1a g=1b;1a f=g[a[8X]];1a d=g[a[4K]];if(1D(b)||b<0){1d};if(b==f){1d};if(g[a[6D]]){g[a[2l]](1g,1f)}1e{g[a[2l]](1f,1f)};g[a[b2]]=1k[a[7y]](g[a[1x]][a[59]]/ b);g[a[8X]]= b;if(d> g[a[b2]]){g[a[4K]]= g[a[b2]]};if(!g[a[iM]]&& g[a[la]] &&  !g[a[1Q]]){g[a[cC]]()};g[a[5S]](1f);g[a[Eq]]();if(d!= g[a[4K]]){g[a[FX]](d)};g[a[Ib]](f);if(!g[a[1rz]]&&  !l(g[a[gF]]) &&  !l(g[a[gF]][a[139]])){g[a[gF]][a[139]][a[cV]]()}},1rC:1c(){1a g=1b;1a b;1a d=g[a[129]];1a f=g[a[hW]];if(!g[a[ef]]){1d};if(g[a[1x]][a[59]]<= 0){b= g[a[KD]]- 2}1e {b= f;if(g[a[2Z]]){b+= g[a[dK]]()};if(g[a[6R]]){b+= g[a[6o]]();if(g[a[6T]]){b+= g[a[aQ]]}};if(g[a[7r]]){b+= g[a[6M]]};if(g[a[3g]]){b+= g[a[3w]]};b+= g[a[c7]];b+= g[a[Na]]};if(1k[a[243]](d- b)<= 3){1d};g[a[tw]](g[a[127]]+ 2,b+ 2)},1rf:1c(){1b[a[Im]]()},1r6:1c(b){1a d=1b[a[144]];if(!l(d[a[ay]])){d[a[ay]][a[213]](1g)};if(d[a[1sY]]|| d[a[1sA]]){b[a[91]]();d[a[24S]](b)}},1rE:1c(n){1a E=1b;1a F=n[a[77]]|| n[a[93]];1a G=E[a[3q]];1a y=n[a[99]]/G;1a z=n[a[105]]/ G;1a k=E[a[1x]];1a h=E[a[1z]];1a v=y- (cd[a[99]](E[a[139]],G)- cd[a[kx]](E[a[139]],G));1a w=z- (cd[a[105]](E[a[139]],G)- cd[a[kx]](E[a[139]],G));1a A=E[a[iG]];1a d=E[a[6o]]();1a p=0;1a C;1a g,m;1a j;1a o={};1a D=1f;1a t=1g;1a x;1a r=w;1a q;1a b;C= d;if(E[a[6T]]){d+= E[a[aQ]]};if(!E[a[6R]]){d= 0;C= 0};if(E[a[2Z]]){p= E[a[dK]]()+ E[a[l4]];if(E[a[6x]]== a[154]){d+= p}};A+= E[a[9Q]]();if(E[a[7r]]){if(w<= E[a[6M]]){1d};C+= E[a[6M]];d+= E[a[6M]];r-= E[a[6M]]};x= w;if(E[a[2m]]&& E[a[2w]]){w+= E[a[4o]]};1a u=E[a[Rd]](n);if(E[a[3g]]&&  !u){A-= E[a[4h]]};1a s=E[a[wI]](v- A,w- d,1,1);if(s[a[fw]]>= k[a[59]]){s[a[fw]]= k[a[59]]- 1};if(s[a[e5]]>= h[a[59]]){s[a[e5]]= h[a[59]]- 1};1a B=1k[a[1F]](0,s[a[fw]]);1a f=1k[a[1F]](0,s[a[e5]]);B= 1k[a[1A]](B,k[a[59]]- 1);f= 1k[a[1A]](f,h[a[59]]- 1);g= h[f];j= E[a[C0]](g,F);m= k[B];if(A>= v){f=  -1;g= {}};if(E[a[2Z]]){if(E[a[6x]]== a[154]){if(x< d&& x> d- p){t= 1f}}1e {if(x- d>= E[a[kW]][a[129]]&& x- d<= E[a[kW]][a[129]]+ p){t= 1f}}};if(E[a[6R]]&& x<= C){q= E[a[24I]](r);if(g[a[2x]]!= q){b= E[a[KX]](g);b= b[a[1ps]]();if(!l(b[q- 1])){g= b[q- 1]}};if(i(E[a[1I]][a[ua]])){o[a[85]]= a[ua];o[a[9H]]= E[a[2f]];o[a[77]]= a[7D];o[a[99]]= y;o[a[105]]= z;o[a[1n]]= g[a[1n]];o[a[2x]]= q;o[a[1m]]= g[a[1m]];o[a[2a]]= g[a[2a]];D= E[a[1I]][a[ua]][a[21]](F,o)};if(D=== 1g){1d};if(bi(D)){E[a[Qu]]= D};E[a[24J]](v,w,g,q)}1e {if(E[a[2Z]]&& t){1d}1e {if(E[a[2m]]&& E[a[2w]]&& (w- d- E[a[4o]]>= E[a[kW]][a[129]])){1d};if(E[a[6T]]&& x< d){1d};if(i(E[a[1I]][a[ua]])){o[a[85]]= a[ua];o[a[9H]]= E[a[2f]];o[a[77]]= a[102];o[a[99]]= y;o[a[105]]= z;o[a[1H]]= B;o[a[1n]]= f;if(!l(m)){o[a[4k]]= cd[a[69]](1f,{},m)}1e {o[a[4k]]= 1h};if(f>= 0){o[a[1m]]= j;o[a[2a]]= g[a[2a]]};D= E[a[1I]][a[ua]][a[21]](F,o)};if(D=== 1g){1d};if(bi(D)){E[a[mO]]= D};E[a[24H]](v,w,B,f)}}},1sG:1c(h,i,b,g){1a j=1b;1a f=j[a[Qu]];1a d;if(!j[a[1sA]]||  !bi(f) || f[a[59]]<= 0){j[a[aI]]();1d};d= j[a[Mo]]();d[a[213]](1f);d[a[77]]= a[7D];d[a[139]][a[44]]= j[a[1pz]](f,g,b[a[1n]],b[a[2a]]);if(j[a[2m]]&& j[a[2w]]){i-= j[a[4o]]};j[a[1pA]](h,i)},1t5:1c(n,o,q,f){1a r=1b;1a j=r[a[1x]];1a d=r[a[1z]];1a h=r[a[mO]];1a g;1a p;1a t=a[58];1a s;1a b;1a k;if(!r[a[1sY]]|| l(r[a[mO]])){r[a[aI]]();1d};b= d[f];k= j[q];if(l(b)|| l(k)){1d};s= r[a[6K]](q);s= 1k[a[1F]](0,s);p= r[a[2I]][s][f];t= k[b[a[1m]]];if(m(k[b[a[1m]]])){if(i(b[a[6O]])){t= p[a[3S]](k[b[a[1m]]],q,f,k,b);if(m(t)){t= r[a[6Z]]}}1e {t= r[a[6Z]]}}1e {t= p[a[3S]](k[b[a[1m]]],q,f,k,b)};if(bi(r[a[oo]])){if(h[0]&& h[0][a[7M]]== a[1sX]){h[0][a[7M]]= r[a[oo]][0]|| h[0][a[7M]]};if(h[1]&& h[1][a[7M]]== a[1pd]){h[1][a[7M]]= r[a[oo]][1]|| h[1][a[7M]]};if(h[2]&& h[2][a[7M]]== a[1pc]){h[2][a[7M]]= r[a[oo]][2]|| h[2][a[7M]]};if(h[3]&& h[3][a[7M]]== a[1pg]){h[3][a[7M]]= r[a[oo]][3]|| h[3][a[7M]]};if(h[5]&& h[5][a[7M]]== a[1p2]){h[5][a[7M]]= r[a[oo]][4]|| h[5][a[7M]]};if(h[6]&& h[6][a[7M]]== a[1p6]){h[6][a[7M]]= r[a[oo]][5]|| h[6][a[7M]]}};g= r[a[Mo]]();g[a[213]](1f);g[a[77]]= a[102];g[a[139]][a[44]]= r[a[1pz]](h,q,f,t);if(r[a[2m]]&& r[a[2w]]){o-= r[a[4o]]};r[a[1pA]](n,o)},1pC:1c(f,g,b,h){1a d=1c(f,q){1a j;1a r=a[177];1a m;1a n;1a s;1a p;1a i;1a o=f[a[59]];if(o<= 0){1d a[58]};if(q===  -1){j= a[24G]}1e {j= a[24D]};1i(1a k=0;k< o;k++){m= f[k];n= l(m[a[7M]])?a[58]:m[a[7M]];if(n[a[19]](a[hP])>= 0&& l(h)){1u};if(bi(m[a[1p]])){s= a[24E];if(m[a[169]]){s+= r+ m[a[169]]};if(q!==  -1){i= q+ a[5h]+ k}1e {i= k};n+= d(m[a[1p]],i)}1e {if(n== a[hd]){s= a[24F];n= a[58]}1e {s= a[24K];n= n[a[56]](a[hP],h);n= cd[a[qc]](n);if(m[a[24L]]){s+= r+ a[24Q]};if(m[a[169]]){s+= r+ m[a[169]]};if(m[a[141]]){s+= r+ m[a[141]]}}};if(q!==  -1){i= q+ a[5h]+ k}1e {i= k};p= g+ a[5h]+ b;j+= a[24R]+ s+ a[24P]+ i+ a[24O]+ p+ a[3C]+ n+ a[aj]};j+= a[rA];1d j};1d d(f,-1)},1qC:1c(d,f){1a g=1b;1a b=g[a[Mo]]();1a h=g[a[3q]];if(!b){1d};b[a[213]](1f);b[a[134]](0,0);g[a[eN]](b,d,f,0,h)},1qB:1c(b){1a f=1b;1a d;if(l(f[a[ay]])){f[a[ay]]=  1j O(a[24M]);d= f[a[ay]];d[a[139]][a[144]]= f;r(d[a[139]],a[2i],f[a[1q9]]);r(d[a[139]],a[gh],f[a[1oX]]);d[a[213]](1g);d[a[150]](a[183],a[184]);f[a[3Q]][a[185]](d[a[139]])};1d f[a[ay]]},1qr:1c(d,g,h,b,j){1a i=1b;1a f=cd[a[tx]](g+ 1,h+ 1,d[a[95]],j);if(i[a[hr]]){f= cd[a[wr]](f[a[130]],f[a[131]],i[a[3Q]],j);if(i[a[3Q]][a[103]]> 0){f[a[130]]+= i[a[3Q]][a[103]]};f[a[130]]= 1k[a[1F]](0,i[a[3Q]][a[103]],f[a[130]]- 1);f[a[131]]= 1k[a[1F]](0,i[a[3Q]][a[107]],f[a[131]]- 1);if(i[a[3Q]][a[103]]<= 0&& f[a[130]]+ d[a[3O]]> i[a[3Q]][a[3O]]){f[a[130]]= 1k[a[1F]](0,f[a[130]]- d[a[3O]]- d[a[95]][a[3O]]- 1)};if(f[a[131]]+ d[a[3T]]> i[a[3Q]][a[3T]]){f[a[131]]= 1k[a[1F]](0,f[a[131]]- d[a[3T]]- b- 3)};f= cd[a[tx]](f[a[130]],f[a[131]],i[a[3Q]],j)}1e {f= cd[a[24N]](d,f,b,i[a[DU]],j)};f= cd[a[wr]](f[a[130]],f[a[131]],d[a[95]],j);d[a[169]][a[152]]= f[a[130]]+ a[149];d[a[169]][a[154]]= 1k[a[1F]](f[a[131]],d[a[95]][a[3T]]- b)+ a[149]},1qp:1c(b){1a i=1b;1a d=1N[a[DK]](a[1pP]);1a h,k;1a j;1a f,g;if(l(d)|| d[a[59]]=== 0){1d};1i(f= 0,g= d[a[59]];f< g;f++){k= d[f];if(k&& k[a[163]](a[Ep])=== b){h= k;1l}};if(l(h)){1d};j= h[a[Dt]](a[1q3]);if(l(j)){1d};j[a[169]][a[190]]= a[191];i[a[25j]](j,(h[a[3O]]- 1),-11,j[a[3T]],i[a[3q]]);i[a[1oV]](b,d)},1qs:1c(g,i){1a q;1a p;1a b;1a d;1a f;1a h=1g;1a j,k,n,o;if(l(i)){i= 1N[a[DK]](a[1pP])};if(l(i)|| i[a[59]]=== 0|| l(g)){1d};f= 1E(g)[a[54]](a[5h]);1i(j= 0,n= i[a[59]];j< n;j++){q= i[j];h= 1g;b= q[a[163]](a[Ep]);if(!m(b)){d= b[a[54]](a[5h]);1i(k= 0,o= b[a[59]];k< o;k++){if(d[k]&& f[k]&& f[k]!== d[k]){h= 1f;1l}}};if(h){p= q[a[Dt]](a[1q3]);p[a[169]][a[190]]= a[192]}}},1q8:1c(d){1a b=1b;if(!l(b[a[ay]])){bA(b[a[ay]][a[139]],a[2i],b[a[1q9]]);bA(b[a[ay]][a[139]],a[gh],b[a[1oX]]);if(!d&& b[a[ay]][a[139]][a[95]]!== 1h){b[a[ay]][a[139]][a[95]][a[188]](b[a[ay]][a[139]])};b[a[ay]][a[132]](d)};b[a[ay]]= 1h},1oA:1c(s){1a C=1b[a[144]];1a k=C[a[ay]][a[77]];1a D=s[a[77]]|| s[a[93]];1a q=C[a[1x]];1a g=C[a[1z]];1a z=C[a[2I]];1a y;1a x=1h;1a f;1a p;1a n;1a E=a[58];1a o=a[58];1a b;1a j;1a v;1a r;1a u;1a d;if(s[a[109]]> 1|| D[a[163]](a[1qP])== a[cn]){1d};n= D[a[163]](a[Ep]);p= D[a[163]](a[25k]);if(m(n)|| m(p)){C[a[aI]]();1d};1a w=n[a[54]](a[5h]);1a A=p[a[54]](a[5h]);1a B=1o(A[0]);1a h=1o(A[1]);r= w[a[59]];if(r=== 1){v= w[0]}1e {if(r> 1){v= w[r- 1]}1e {C[a[aI]]();1d}};v= 1o(v);if(k=== a[7D]){j= C[a[1qV]](w);u= B;f= g[h];if(f[a[2x]]!= u){d= C[a[KX]](f);d= d[a[1ps]]();if(!l(d[u- 1])){f= d[u- 1]}};o= f[a[1m]];E= f[a[2a]]}1e {j= C[a[1qw]](w);if(B>= 0&& h>= 0){b= B- C[a[1S]];if(C[a[1V]]> 0&& B< C[a[1V]]){b= B};y= z[b][0];x= q[B];f= g[h];o= f[a[1m]];E= y[a[3S]](x[o],B,h,x,f)}};if(!l(j)){if(j[a[7M]]=== a[hd]){1d};if(bi(j[a[1p]])){C[a[1qx]](n);1d};1a t={2y:C[a[2f]],1tb:v,25G:r,25H:j,4M:E,5l:o,3l:h,1rT:k};if(k=== a[7D]){t[a[2x]]= B;t[a[25F]]= f[a[7q]]}1e {t[a[1H]]= B;t[a[4k]]= x};if(j[a[R1]]== a[nC]){C[a[25E]](t)}1e {if(i(j[a[R1]])){j[a[R1]](t)}}};if(!l(C[a[ay]])){C[a[Im]](1g)}},1qm:1c(g){1a i=1b[a[144]];1a j=g[a[77]]|| g[a[93]];1a d=i[a[ay]][a[77]];1a b;1a f;1a h;if(g[a[109]]> 1|| j[a[163]](a[1qP])== a[cn]){1d};f= j[a[163]](a[Ep]);if(m(f)){1d};h= f[a[54]](a[5h]);if(d=== a[7D]){b= i[a[1qV]](h)}1e {b= i[a[1qw]](h)};if(!l(b)){if(i[a[Ew]]!== 1h){a7(i[a[Ew]]);i[a[Ew]]= 1h};if(bi(b[a[1p]])){i[a[1qx]](f);1d};i[a[Ew]]= 8A(1c(){i[a[1oV]](f)},fT)}},1oY:1c(g){1a j=1b;1a b;1a f;1a h;b= j[a[mO]];if(g[a[59]]== 0){f= 1o(g[0]);1d b[f]};1i(1a d=0,i=g[a[59]];d< i;d++){f= 1o(g[d]);h= b[f];if(bi(h[a[1p]])){b= h[a[1p]]}};1d h},1pr:1c(g){1a j=1b;1a b;1a f;1a h;b= j[a[Qu]];if(g[a[59]]== 0){f= 1o(g[0]);1d b[f]};1i(1a d=0,i=g[a[59]];d< i;d++){f= 1o(g[d]);h= b[f];if(bi(h[a[1p]])){b= h[a[1p]]}};1d h},1sV:1c(g){1a i=1b;1a d=g[a[1m]];1a f=g[a[4k]][d];1a b;1a k;1a m;1a j=a[0];if( 1L g[a[2b]]== j|| g[a[2b]]=== 1h|| g[a[2b]]=== a[58]){f= i[a[6Z]]};if(l(i[a[4D]][d])|| i[a[4D]][d][a[59]]<= 0){i[a[8H]]= 1f};if(i[a[8H]]){b= i[a[fA]](a[1m],d,i[a[1z]]);i[a[iF]](b)};if(l(i[a[4D]][d])){1d};k= i[a[4D]][d];m= [];1a h=i[a[py]];4v(g[a[25C]]){1C 0:i[a[q7]](d,f);1l;1C 1:k= i[a[4D]][d];m= [];cd[a[1q]](k,1c(b,d){if(d!= f){m[m[a[59]]]= d}});i[a[q7]](d,m);1l;1C 2:if( 1L h[d]== j){h[d]= []};h[d][a[1s]](f);1a h=cd[a[9v]](h[d]);cd[a[1q]](k,1c(b,d){if( 1L h[d]== j){m[m[a[59]]]= d}});i[a[q7]](d,m);1l;1C 3:i[a[AG]]();1l;1C 5:i[a[p9]](g[a[1n]]+ 1);1l;1C 6:i[a[p9]](0);1l}},1sZ:1c(u,z,b,A,s){1a x=1b,g,h,f,q,w;1a d=b[a[1t]];1a y=1g;1a j;1a v;1a C=x[a[3q]];1a t=A;if(l(b[a[1t]])){1d};s=  !!s;if(!l(x[a[4Y]])){x[a[yg]]()};v= d[a[1J]];if(l(v)){1d};v= x[a[fM]](b[a[1H]],b[a[1n]],b[a[1B]],b[a[1w]],d);w= v[a[85]]|| a[4G];if(w== a[7F]){g= x[a[4Y]]=  1j F();g[a[rV]]= x[a[2W]];g[a[150]](a[9j],0)}1e {if(w== a[8b]){g= x[a[4Y]]=  1j D()}1e {if(w== a[8d]){g= x[a[4Y]]=  1j E()}1e {if(w== a[7w]){g= x[a[4Y]]=  1j R();g[a[150]](a[9j],0);if(x[a[8H]]){x[a[iF]](d)};g[a[Ex]]= x[a[4D]][d[a[1m]]];g[a[199]](a[nW],x[a[kK]]+ a[217]+ a[1lt]+ a[217]+ d[a[1m]]);g[a[Qv]]= s;1a m=v[a[8Z]];1a B=v[a[8V]];if(!l(m)&&  !l(B)){1a o=v[a[h1]];1a p=v[a[h0]];if(i(p)){o= p(b[a[1H]],b[a[1n]],b[a[1w]],d[a[1m]])};if(!bi(o)){o= []};1i(1a k=0,n=o[a[59]];k< n;k++){if(A== o[k][B]){A= o[k][m];1l}}}}1e {1d}}}};if(v[a[CF]]){g[a[150]](a[167],v[a[CF]]+ a[149])};if(v[a[CG]]){g[a[150]](a[3d],v[a[CG]])};g[a[150]](a[183],a[184]);x[a[jE]](g);g[a[134]](0,0);r(g,a[4Q],x[a[NQ]],x);x[a[3Q]][a[185]](g[a[139]]);g[a[1H]]= b[a[1H]];g[a[1n]]= b[a[1n]];g[a[1B]]= l(A)?b[a[1B]]:A;g[a[QX]]= t;g[a[1w]]= b[a[1w]];g[a[1t]]= d;g[a[135]]();h= g[a[139]][a[3O]];f= g[a[139]][a[3T]];q= 1o(g[a[205]](a[167])[a[56]](a[149],a[58]));if(!1D(q)&& f>= q){f= q;y= 1f;h+= 20};if(w!= a[7F]&& w!= a[8b]&& w!= a[8d]){g[a[133]](1k[a[1F]](h,z[a[127]]- 2),f)};x[a[eN]](g,u[a[130]],u[a[131]],z[a[129]],C);if(w!= a[7F]&& w!= a[8b]&& w!= a[8d]){if(y){j= cd[a[g2]](a[8W]);if(j&& j[a[59]]> 0&&  !l(j[0])){g[a[139]][a[107]]= cd[a[7n]](j[0],C)[a[154]]- cd[a[7n]](g[a[139]],C)[a[154]]}}};j= 1h;g= 1h;1d},1t6:1c(g,b,j,d,f){1a k=1b;1a h=k[a[fM]](j,d,f[b[a[1m]]],f,b);1a i=h[a[85]]|| a[4G];if(i== a[7w]){k[a[25D]](g,b,j,d,f,h)}1e {if(i== a[9c]){k[a[25I]](g,b,j,d,f,h)}1e {if(i== a[9G]){k[a[25J]](g,b,h)}1e {if(i== a[7F]){k[a[QD]](g,b,h)}1e {if(i== a[8b]){k[a[QD]](g,b,h)}1e {if(i== a[8d]){k[a[QD]](g,b,h)}}}}}}},1tq:1c(u,d,s,f,h,k){1a t=1b;1a j=t[a[4Y]];1a g;1a b;1a r=1h;if(l(j)){1d u};g= cd[a[g2]](a[8W]);if(g&& g[a[59]]> 0&&  !l(g[0])){b= g[0];r= b[a[163]](a[5Q])}1e {1d u};if(k[a[85]]== a[7w]&& r!== 1h){1a n=k[a[8Z]];1a v=k[a[8V]];if(k[a[qT]]=== 1f&& t[a[6Z]]== r){r= a[58]}1e {if(!l(n)&&  !l(v)){1a p=k[a[h1]];1a q=k[a[h0]];if(i(q)){p= q(s,f,h,d[a[1m]])};1i(1a m=0,o=p[a[59]];m< o;m++){if(r== p[m][n]){r= p[m][v];1l}}}}};j= b= g= 1h;1d r},1ru:1c(o,f,v,g,j,m){1a w=1b;1a k=w[a[4Y]];1a h;1a b,d;1a t=1f;1a u=1h;if(l(k)){if(!l(w[a[2v]])&&  !l(w[a[2v]][a[139]]) && o== 40){w[a[tP]][a[21]](w[a[2v]][a[139]])};1d};if(t){h= cd[a[g2]](a[8W]);if(h&& h[a[59]]> 0&&  !l(h[0])){b= h[0];if(o== 38){d= b[a[RW]];if(d){u= d[a[163]](a[5Q]);d[a[165]]= a[8W];b[a[165]]= a[h2];if(!cd[a[rN]](d,k[a[139]])){k[a[139]][a[107]]-= d[a[3T]]}}1e {b= 1h}}1e {if(o== 40){d= b[a[ff]];if(d){u= d[a[163]](a[5Q]);d[a[165]]= a[8W];b[a[165]]= a[h2];if(!cd[a[rN]](d,k[a[139]])){k[a[139]][a[107]]+= d[a[3T]]}}}}}1e {h= cd[a[g2]](a[h2]);if(h&& h[a[59]]> 0&&  !l(h[0])){if(o== 38){b= 1h}1e {if(o== 40){b= h[0];u= b[a[163]](a[5Q]);b[a[165]]= a[8W]}1e {if(o==  -1){b= h[0];u= b[a[163]](a[5Q])}}}}}};if(u!== 1h){1a p=m[a[8Z]];1a x=m[a[8V]];if(w[a[6Z]]== u){u= a[58]}1e {if(!l(p)&&  !l(x)){1a r=m[a[h1]];1a s=m[a[h0]];if(i(s)){r= s(v,g,j,f[a[1m]])};1i(1a n=0,q=r[a[59]];n< q;n++){if(u== r[n][p]){u= r[n][x];1l}}}};w[a[sr]](u)};k= b= d= h= 1h},1s0:1c(m,f,p,g,i,k){1a q=1b;1a j=q[a[4Y]];1a h;1a b,d;1a n=1f;1a o=1h;if(l(j)){1d};if(n){h= cd[a[g2]](a[8W]);if(h&& h[a[59]]> 0&&  !l(h[0])){b= h[0];if(m== 38){d= b[a[RW]];if(d){o= d[a[163]](a[5Q]);d[a[165]]= a[8W];b[a[165]]= a[h2];if(!cd[a[rN]](d,j[a[139]])){j[a[139]][a[107]]-= d[a[3T]]}}1e {b= 1h}}1e {if(m== 40){d= b[a[ff]];if(d){o= d[a[163]](a[5Q]);d[a[165]]= a[8W];b[a[165]]= a[h2];if(!cd[a[rN]](d,j[a[139]])){j[a[139]][a[107]]+= d[a[3T]]}}}}}1e {h= cd[a[g2]](a[h2]);if(h&& h[a[59]]> 0&&  !l(h[0])){if(m== 38){b= 1h}1e {if(m== 40){b= h[0];o= b[a[163]](a[5Q]);b[a[165]]= a[8W]}}}}};if(o!== 1h){if(!l(k[a[8Z]])&&  !l(k[a[8V]])){o= j[a[Hj]](o)};q[a[sr]](o)};q[a[wa]]= 1f;j= b= d= h= 1h},1rS:1c(k,f,j){1a m=1b;1a h;1a g;1a b,d;if(!l(m[a[1J]])&& i(m[a[1J]][a[xY]])){if(k== 40&& m[a[1J]][a[f5]]=== 1g){m[a[1J]][a[xY]]()}};if(j[a[tq]]=== 1f){1d};h= m[a[1J]][a[a3]];g= cd[a[g2]](a[8W]);if(g&& g[a[59]]> 0&&  !l(g[0])){b= g[0];if(k== 38){d= b[a[RW]];if(d){m[a[1J]][a[1B]]= d[a[163]](a[5Q]);d[a[165]]= a[8W];b[a[165]]= a[h2];if(!cd[a[rN]](d,h[a[139]])){h[a[139]][a[107]]-= d[a[3T]]}}}1e {if(k== 40){d= b[a[ff]];if(d){m[a[1J]][a[1B]]= d[a[163]](a[5Q]);d[a[165]]= a[8W];b[a[165]]= a[h2];if(!cd[a[rN]](d,h[a[139]])){h[a[139]][a[107]]+= d[a[3T]]}}}}}1e {g= cd[a[g2]](a[h2]);if(g&& g[a[59]]> 0&&  !l(g[0])){if(k== 40){b= g[0];m[a[1J]][a[1B]]= b[a[163]](a[5Q]);b[a[165]]= a[8W]}}};h= b= d= g= 1h},1rc:1c(j,b,h){1a n=1b;1a g;1a f=a[58];1a d;if(l(h[a[iZ]])|| h[a[iZ]]=== 1f){g= n[a[1J]]}1e {g= n[a[4Y]]};if(l(g)){if(!l(n[a[2v]])&&  !l(n[a[2v]][a[139]]) && j== 40){n[a[tP]][a[21]](n[a[2v]][a[139]])};1d};f= g[a[1B]];if(f){if(!m(b[a[4P]])){d= V[a[f3]](f,b[a[4P]])}1e {if(!1D(1o(f))){if(1E(f)[a[19]](a[218])==  -1&& 1E(f)[a[19]](a[217])==  -1&& 1E(f)[a[59]]> 8){d=  1j 1Z(1o(f));if(1D(1Z[a[123]](d))){d=  1j 1Z()}}1e {rK=  1j 1Z();1r4= rK[a[4Z]]()+ a[58];rJ= rK[a[7p]]()+ 1+ a[58];rG= rK[a[9C]]()+ a[58];if(1E(rJ)[a[59]]< 2){rJ= a[215]+ rJ};if(1E(rG)[a[59]]< 2){rG= a[215]+ rG};4v(1E(f)[a[59]]){1C 1:;1C 2:f= 1r4+ a[218]+ rJ+ a[218]+ f;1l;1C 3:;1C 4:f= f+ a[218]+ rJ+ a[218]+ rG;1l;1C 5:;1C 6:f= f[a[4c]](0,4)+ a[218]+ f[a[4c]](4)+ a[218]+ rG;1l;1C 7:f= f[a[4c]](0,4)+ a[218]+ f[a[4c]](4,6)+ a[218]+ f[a[4c]](6);1C 8:;4w:f= f[a[4c]](0,4)+ a[218]+ f[a[4c]](4,6)+ a[218]+ f[a[4c]](6,8)};d=  1j 1Z(f)}}1e {if(1E(f)[a[19]](a[217])>= 0){f= 1E(f)[a[56]](/-/g,a[218])};d= 1Z[a[123]](f);if(1D(d)){d=  1j 1Z()}}}}1e {d=  1j 1Z()};d=  1j 1Z(d);if(h[a[m1]]=== 1f){if(j== 38){d[a[mA]](d[a[7p]]()- 4)}1e {if(j== 40){d[a[mA]](d[a[7p]]()+ 4)}1e {if(j== 37){d[a[mA]](d[a[7p]]()- 1)}1e {if(j== 39){d[a[mA]](d[a[7p]]()+ 1)}1e {if(j== 36){d[a[oQ]](d[a[4Z]]()- 10)}1e {if(j== 35){d[a[oQ]](d[a[4Z]]()+ 10)}1e {if(j== 33){d[a[oQ]](d[a[4Z]]()- 1)}1e {if(j== 34){d[a[oQ]](d[a[4Z]]()+ 1)}1e {1d}}}}}}}}}1e {if(j== 38){d[a[j1]](d[a[9C]]()- 7)}1e {if(j== 40){d[a[j1]](d[a[9C]]()+ 7)}1e {if(j== 37){d[a[j1]](d[a[9C]]()- 1)}1e {if(j== 39){d[a[j1]](d[a[9C]]()+ 1)}1e {if(j== 36){d[a[oQ]](d[a[4Z]]()- 1)}1e {if(j== 35){d[a[oQ]](d[a[4Z]]()+ 1)}1e {if(j== 33){d[a[mA]](d[a[7p]]()- 1)}1e {if(j== 34){d[a[mA]](d[a[7p]]()+ 1)}1e {1d}}}}}}}}};if(!g[a[EU]](d)){1d};1a i;1a k=a[sw];if(h&& h[a[au]]== a[xu]){i=  1j 1Z(d)[a[aO]]()}1e {if(f&& f[a[59]]> 3){if(f[a[19]](a[217])> 0){k= a[257]}};if(h&& h[a[au]]){k= h[a[au]]};if(1D(1Z[a[123]](d))){i= d}1e {i= V[a[aS]](d,k)}};n[a[sr]](i);g[a[1B]]= i;g[a[135]]();g= 1h},1ow:1c(j){1a n=1b;1a d=n[a[5J]];1a b=n[a[7z]];1a i,k,o;1a f,g;1a h;1a p=1h;if(d==  -1|| b==  -1){1d};if(l(j)){j= 1f};f= 1o(d);g= 1o(b);h= n[a[2I]][f][g];if(!l(n[a[1J]])|| n[a[8o]]){i= n[a[6u]](f,g,1f);k= {x:i[a[130]],y:i[a[131]]};o= {3b:i[a[127]],4X:i[a[129]]};if(!l(n[a[1J]])){p= n[a[1J]][a[139]][a[2b]]}1e {if(!l(n[a[2D]])){p= n[a[2D]][a[139]][a[2b]]}};if(m(p)){n[a[yg]]();1d};if(!l(n[a[4Y]])){if(p!= n[a[4Y]][a[1B]]){n[a[lV]](k,o,h,p,j)}}1e {n[a[lV]](k,o,h,p,j)}}},25O:1c(j){1a n=1b;1a d=n[a[5J]];1a b=n[a[7z]];1a i,k,o;1a f,g;1a h;1a p=1h;if(d==  -1|| b==  -1){1d};if(l(j)){j= 1f};f= 1o(d);g= 1o(b);h= n[a[2I]][f][g];if(!l(n[a[1J]])|| n[a[8o]]){i= n[a[6u]](f,g,1f);k= {x:i[a[130]],y:i[a[131]]};o= {3b:i[a[127]],4X:i[a[129]]};if(!l(n[a[1J]])){p= n[a[1J]][a[139]][a[2b]]}1e {if(!l(n[a[2D]])){p= n[a[2D]][a[139]][a[2b]]}};if(m(p)){n[a[yg]]();1d};if(!l(n[a[4Y]])){if(p!= n[a[4Y]][a[1B]]){n[a[lV]](k,o,h,p,j)}}1e {n[a[lV]](k,o,h,p,j)}}},1qA:1c(b){1a d=b[a[78]];d[a[i2]](b[a[111]],b[a[5L]],b[a[1H]],b[a[1n]],b[a[4k]])},1qH:1c(b){1a d=b[a[78]];if(b[a[1qN]]== a[7w]){d[a[1hq]]()}1e {if(b[a[1qN]]== a[9c]){d[a[sn]](b[a[5L]],b[a[1H]],b[a[1n]],b[a[4k]])}}},1pN:1c(b,h,d,g){1a j=1b;1a k=a[58];1a f=j[a[fM]](h,d,g[b[a[1m]]],g,b);if(!l(j[a[1J]])){k= j[a[1J]][a[139]][a[2b]]}1e {if(!l(j[a[2D]])){k= j[a[2D]][a[139]][a[2b]]}1e {1d}};if(i(f[a[1rO]])){j[a[2v]][a[206]](a[25P]);j[a[xH]]= h;j[a[xN]]= d;f[a[1rO]]({1s7:k,2P:h,3l:d,3i:g,5l:b[a[1m]]},1c(b){if(b=== 1g){j[a[xH]]= 2z;j[a[xN]]= 2z;j[a[2v]][a[206]](a[lY]);1d};if(bi(b)){j[a[2v]][a[206]](a[lY]);j[a[25N]](b,k)}1e {j[a[2v]][a[206]](a[lY]);Ej(a[25M])}});1d 1g}},1pt:1c(j,n){1a k=1b;1a h,i,m;1a d,f;1a g;1a o=k[a[3q]];if(bl(k[a[xH]])|| bl(k[a[xN]])){1d};d= k[a[6K]](k[a[xH]]);f= 1o(k[a[xN]]);if(d< 0|| d>= k[a[2I]][a[59]]){1d};g= k[a[2I]][d][f];if(!l(k[a[1J]])|| k[a[8o]]){h= k[a[6u]](d,f,1f);i= {x:h[a[130]],y:h[a[131]]};m= {3b:h[a[127]],4X:h[a[129]]};if(!l(k[a[4Y]])){if(n!= k[a[4Y]][a[1B]]){b()}}1e {b()}};1c b(){1a f,h,d,q;1a b=g[a[1t]];1a s=1g;1a p;if(l(b)){1d};if(!l(k[a[4Y]])){k[a[yg]]()};f= k[a[4Y]]=  1j bz();f[a[150]](a[183],a[184]);f[a[150]](a[9j],0);f[a[134]](0,0);r(f,a[4Q],k[a[NQ]],k);k[a[3Q]][a[185]](f[a[139]]);f[a[1H]]= g[a[1H]];f[a[1n]]= g[a[1n]];f[a[1B]]= n;f[a[P0]]= j;f[a[1w]]= g[a[1w]];f[a[1t]]= b;f[a[135]]();h= f[a[139]][a[3O]];d= f[a[139]][a[3T]];q= 1o(f[a[205]](a[167])[a[56]](a[149],a[58]));if(!1D(q)&& d>= q){d= q;s= 1f;h+= 20};f[a[133]](1k[a[1F]](h,m[a[127]]- 2),d);k[a[eN]](f,i[a[130]],i[a[131]],m[a[129]],o);if(s){p= cd[a[g2]](a[8W]);if(p&& p[a[59]]> 0&&  !l(p[0])){f[a[139]][a[107]]= cd[a[7n]](p[0],o)[a[154]]- cd[a[7n]](f[a[139]],o)[a[154]]};p= 1h};f= 1h;1d}},1qh:1c(){1a b=1b;if(!b[a[4Y]]){1d};bA(b[a[4Y]],a[4Q],b[a[NQ]],b);b[a[4Y]][a[132]](1g);b[a[4Y]]= 1h},1qe:1c(b){1a d=b[a[78]];d[a[sr]](b[a[5X]],b[a[8i]]);d[a[2l]](1g,1g,b[a[8i]],a[25K])},1qf:1c(){1a b=1b;if(l(b[a[7Q]])){b[a[7Q]]=  1j O(a[1qz]);b[a[7Q]][a[139]][a[144]]= 1b;r(b[a[7Q]][a[139]],a[2i],b[a[1qO]]);b[a[7Q]][a[213]](1g);b[a[212]](b[a[7Q]],b[a[2C]])}},1qK:1c(){1a k=1b;1a g=k[a[25L]];1a h=k[a[oe]]();1a f=k[a[wS]];1a j;1a d;1a b;1a i=1g;k[a[iI]]= 1g;if((k[a[1Q]]&&  !k[a[4z]])||  !k[a[mI]]){1d 1g};if(k[a[4j]]&& k[a[6J]]()){1d 1g};if(k[a[1Q]]){g= 1g};if(k[a[1ok]]&&  !h&& k[a[1O]][a[59]]>= 1){d= k[a[1O]][0][1];b= k[a[1z]][d];if(b&& b[a[25B]]){i= 1f}};k[a[1qM]]();if(i){k[a[iI]]= 1g}1e {j= k[a[Kj]]();if(g){if(h&& j[a[59]]> 1){if(k[a[6J]]()){k[a[iI]]= 1g}1e {if(f|| k[a[sU]]()){k[a[iI]]= 1f}}}1e {if(j[a[59]]){k[a[iI]]= 1f}}}1e {if(j[a[59]]== 1){k[a[iI]]= 1f}}};if(k[a[iI]]){k[a[7Q]][a[202]](a[165],a[1qz])}1e {k[a[7Q]][a[202]](a[165],a[58])}},1on:1c(h){1a k=1b;1a j;1a f;1a d;1a g;1a i,b;if(!k[a[mI]]||  !k[a[iI]]){1d};if(k[a[1ok]]){f= k[a[Gz]](1f);if(f[a[59]]<= 0){1d};i= f[0][a[1H]];b= f[0][a[1n]];if(k[a[2H]]&& k[a[5F]]== a[nO]&& k[a[ux]](i,b)){g= k[a[CD]](i,b);f= k[a[25A]](g,b);if(f[a[59]]<= 0){1d}};k[a[25q]](h,f)}1e {j= k[a[Kj]](1f);f= [];cd[a[1q]](j,1c(b,d){f[f[a[59]]]= d[a[4k]]});if(f[a[59]]<= 0){1d};d= j[0][a[1H]];k[a[25r]](h,f,d)}},1ox:1c(b){1a d=1b[a[144]];d[a[Ad]]();d[a[Rg]](b)},1ov:1c(k,h,s,d,q){1a o=1b;1a p=o[a[2f]];1a n=o[a[1M]];1a f=o[a[mK]];1a g;1a r;1a m=1f;1a j=1g;1a t;1a b=o[a[w7]];if(!k|| k[a[59]]<= 0){1d};r= W[a[2k]][a[6S]];if(l(r)){1d};if(1D(s)){if(i(o[a[1I]][a[Df]])){o[a[NE]](p,r,k)};1d};if(s< 0){s= 0};o[a[r5]]= 1f;if(i(o[a[1I]][a[Dh]])){m= o[a[25p]](p,r,h,s,d,k)};if(m=== 1g){if(i(o[a[1I]][a[Df]])){o[a[NE]](p,r,k)};1d};if(p== r){if(f&& (b=== 1h|| b[a[19]](p)!==  -1)){if(h<= s&& s<= h+ k[a[59]]){if(i(o[a[1I]][a[Df]])){o[a[NE]](p,r,k)};1d};g= k[0];if(o[a[1Q]]){s= o[a[25o]](g,s,q)}1e {o[a[BZ]](g[n],s,k[a[59]],q)};j= 1f}}1e {if(o[a[wS]]&& W[a[2k]][a[203]](r,a[mK])&& (b=== 1h|| b[a[19]](r)!==  -1)){if(o[a[r5]]){t= [];cd[a[1q]](k,1c(b,d){t[a[1s]](d[n])});o[a[gd]](1h,t,{tc:1g})};if(W[a[2k]][a[25l]](r)|| o[a[1Q]]){W[a[2k]][a[19M]](r,k,s)}1e {W[a[2k]][a[eR]](r,k,s)};j= 1f}};if(j&& i(o[a[1I]][a[Dd]])){o[a[25m]](p,r,h,s,d,k)}},1sD:1c(p,K,B,f,g,H){1a E=1b;1a F=E[a[2f]];1a j=E[a[1x]];1a C=E[a[1M]];1a n=E[a[mK]];1a J;1a t=1g;1a k=E[a[w7]];1a q,o,L,I;1a w=[];1a r,y,x,z;1a v;1a u;1a M;1a h;1a O={};1a b=0;1a d=0;1a G=a[25n];1a P=[];1a A=1f;1a N=[];1a s;J= W[a[2k]][a[6S]];if(l(J)){1d};if(p[0]==  -1|| p[1]==  -1|| K[0]==  -1|| K[1]==  -1){1d};q= p[0];o= p[1];L= K[0];I= K[1];if(q== L&& o== I){if(i(E[a[1I]][a[CA]])){E[a[Od]](a[CA],F,J,q,o,L,I,g,H)};1d};E[a[r5]]= 1f;y= q+ B;z= o+ f;b= 0;d= 0;1i(r= q;r<= y;r++){u= j[r];1i(x= o;x<= z;x++){h= E[a[8Y]](x);O[b+ G+ d]= u[h];d++};b++};b= 0;d= 0;y= L+ B;z= I+ f;1i(r= L;r<= y;r++){u= j[r];M= u[C];v= {};v[C]= M;1i(x= I;x<= z;x++){h= E[a[8Y]](x);P[a[1s]](u[h]);v[h]= O[b+ G+ d];d++};b++;w[a[1s]](v)};if(i(E[a[1I]][a[Dq]])){A= E[a[25s]](F,J,q,o,L,I,P,g,H)};if(A=== 1g){if(i(E[a[1I]][a[CA]])){E[a[Od]](a[CA],F,J,q,o,L,I,g,H);1d};1d};if(E[a[r5]]){y= q+ B;z= o+ f;1i(r= q;r<= y;r++){u= j[r];M= u[C];s= 1g;cd[a[1q]](w,1c(a,b){if(!l(b[C])&& b[C]== M){v= b;s= 1f;1d 1g}});if(!s){v= {};v[C]= M};1i(x= o;x<= z;x++){h= E[a[8Y]](x);if(l(v[h])){v[h]= 1h}};w[a[1s]](v)}};if(E[a[25t]]){y= L+ B;z= I+ f;b= 0;d= 0;1a D,m;1a Q,R;1a s=1g;1i(r= L;r<= y;r++){u= j[r];M= u[C];v= {};v[C]= M;1i(x= I;x<= z;x++){if(E[a[ux]](r,x)){h= E[a[8Y]](x);D= E[a[dM]](r,x);m= E[a[lX]](r,x);1i(Q= D;Q<= m;Q++){R= j[Q];M= R[C];v= {};v[C]= M;v[h]= 1h;s= 1f;cd[a[1q]](w,1c(a,b){if(!l(b[C])&& b[C]== M &&  !l(b[h])){s= 1g;1d 1g}});if(s){w[a[1s]](v);N[a[1s]](M)}}}}}};if(F== J){if(n&& (k=== 1h|| k[a[19]](F)!==  -1)){E[a[wo]](w,1f,1g,1h,{6L:I,7E:I+ f,5Y:L,9O:L+ B});E[a[tj]](L,L+ B,I,I+ f);t= 1f}};if(t&& i(E[a[1I]][a[1ta]])){E[a[Od]](a[1ta],F,J,q,o,L,I,P,g,H,N)}},1tC:1c(q,u,t){1a A=1b;1a B=A[a[2f]];1a s=A[a[1z]];1a o=A[a[wS]];1a p=A[a[mK]];1a D=2z;1a h,j;1a E;1a v;1a z=1f;1a m;1a w=A[a[1sw]];1a x=A[a[1tD]];1a k=A[a[25y]];1a n=A[a[w7]];1a G=A[a[3q]];1a C=A[a[25z]];1a F=A[a[mw]];1a f;1a g=1g;if(A[a[O1]]){1d};if(q[a[85]]== a[2X]){E= q[a[3P]][0];h= E[a[99]]/G;j=E[a[105]]/ G}1e {h= q[a[99]]/G;j=q[a[105]]/ G};v= 1h;if(C){v=  1j O(a[25x]);v[a[150]]({a4:a[184],Cz:a[192],25w:a[25u]});v[a[213]](1g);A[a[jE]](v)};if(i(A[a[1I]][a[CQ]])){z= A[a[25v]](t,u)};if(z=== 1g){1d};m= A[a[1S]];if(bp(z)){g= 1f;k= 1E(z)}1e {if(A[a[1Q]]){f= s[F][a[1m]];k= u[0][f]}};if(!l(v)){if(l(k)){k= a[58]};k= k[a[56]](a[hP],u[a[59]]);if(g){v[a[139]][a[44]]= k}1e {v[a[139]][y[a[46]]]= k};A[a[3Q]][a[185]](v[a[139]])};if(q[a[85]]== a[2X]){q[a[91]]();r(1N,a[4T],d);r(1N,a[4V],b)}1e {r(1N,a[6q],d);r(1N,a[4i],b)};W[a[2k]][a[wh]]= A[a[2f]];W[a[2k]][a[6S]]= A[a[2f]];A[a[O1]]= 1f;1d 1g;1c d(b){1a E=A[a[1Q]];1a C,k,m;1a g,i;1a d,y,z;1a f=b[a[85]]== a[4T]?1f:1g;1a q;1a r,s;if(f){C= b[a[3P]][0];k= C[a[99]]/G;m=C[a[105]]/ G}1e {k= b[a[99]]/G;m=b[a[105]]/ G};b[a[91]]();b[a[92]]();if(1k[a[243]](h- k)> 2|| 1k[a[243]](j- m)> 2){g= k- (cd[a[99]](A[a[139]],G)- cd[a[kx]](A[a[139]],G));i= m- (cd[a[105]](A[a[139]],G)- cd[a[MP]](A[a[139]],G));if(!l(v)){v[a[213]](1f);r= k- (cd[a[99]](A[a[3Q]],G)- cd[a[kx]](A[a[3Q]],G));s= m- (cd[a[105]](A[a[3Q]],G)- cd[a[MP]](A[a[3Q]],G));v[a[134]](r+ w,s+ x)};if(o){if(f){A[a[24C]](k,m)};if(W[a[2k]][a[6S]]== B){if(!A[a[ab]]()&& p && (n=== 1h|| n[a[19]](B)!==  -1)){if((u[a[59]]> 1&&  !A[a[sU]]())|| g< 0|| i<  -5|| g> A[a[127]]|| i> A[a[129]]+ 5){if(!l(v)){v[a[207]](a[er])};A[a[ha]]();D= 2z;1d};D= A[a[F4]](b);if(E){d= A[a[1x]][t];y= A[a[1x]][D];z= A[a[1x]][D- 1];if(A[a[CP]](d,y)|| A[a[CP]](d,z)|| (t<= D&& D<= t+ u[a[59]])){if(!l(v)){v[a[207]](a[er])};A[a[ha]]();D= 2z;1d}};if(t<= D&& D<= t+ u[a[59]]){if(!l(v)){v[a[207]](a[er])};A[a[ha]]();D= 2z;1d};if(!l(v)){v[a[206]](a[er])}}1e {if(!l(v)){v[a[207]](a[er])};A[a[ha]]();D= 2z}}1e {if(W[a[2k]][a[203]](W[a[2k]][a[6S]],a[mK])&& (n=== 1h|| n[a[19]](W[a[2k]][a[6S]])!==  -1)){if(!l(v)){v[a[206]](a[er])};D= W[a[2k]][a[24B]](W[a[2k]][a[6S]],b)}1e {if(!l(v)){v[a[207]](a[er])};D= 2z}}}1e {if(!A[a[ab]]()&& p && (n=== 1h|| n[a[19]](B)!==  -1)){if(g< 0|| i<  -5|| g> A[a[127]]|| i> A[a[129]]+ 5){if(!l(v)){v[a[207]](a[er])};A[a[ha]]();D= 2z;1d};if(E){D= A[a[F4]](b);d= A[a[1x]][t];y= A[a[1x]][D];z= A[a[1x]][D- 1];if(A[a[CP]](d,y)|| A[a[CP]](d,z)|| (t<= D&& D<= t+ u[a[59]])){if(!l(v)){v[a[207]](a[er])};A[a[ha]]();D= 2z;1d};if(!l(v)){v[a[206]](a[er])}}1e {D= A[a[F4]](b);if(t<= D&& D<= t+ u[a[59]]){if(!l(v)){v[a[207]](a[er])};A[a[ha]]();D= 2z;1d};if(!l(v)){v[a[206]](a[er])}}}1e {if(!l(v)){v[a[207]](a[er])};A[a[ha]]();D= 2z}}}}1c b(h){1a f;1a g;h[a[91]]();h[a[92]]();A[a[O1]]= 1g;if(h[a[85]]== a[4V]){bA(1N,a[4T],d);bA(1N,a[4V],b)}1e {bA(1N,a[6q],d);bA(1N,a[4i],b)};if(!l(v)){A[a[3Q]][a[188]](v[a[139]]);v[a[139]]= 1h};v= 1h;W[a[2k]][a[wi]](W[a[2k]][a[6S]]);g= A[a[KJ]](h);f= g[a[e5]];if(o){if(W[a[2k]][a[203]](W[a[2k]][a[6S]],a[mK])&& (n=== 1h|| n[a[19]](W[a[2k]][a[6S]])!==  -1)){g= W[a[2k]][a[23K]](W[a[2k]][a[6S]],h);f= g[a[e5]]}};A[a[23L]](u,t,D,f,m);2j W[a[2k]][a[wh]];2j W[a[2k]][a[6S]]}},1qy:1c(k,s){1a y=1b;1a z=y[a[2f]];1a j=y[a[mK]];1a f,g;1a B;1a A;1a w=1f;1a u=y[a[1sw]];1a v=y[a[1tD]];1a h=y[a[w7]];1a C=y[a[3q]];1a p,o,n,m;1a x;1a d;1a t;1a q=1g;if(i(y[a[1se]])){q= 1f};if(k[a[85]]== a[2X]){B= k[a[3P]][0];f= B[a[99]];g= B[a[105]]}1e {f= k[a[99]]/C;g=k[a[105]]/ C};p= o= 1o[a[5E]];n= m= 1o[a[5E]]*  -1;cd[a[1q]](s,1c(b,d){p= 1k[a[1A]](p,d[a[1H]]);n= 1k[a[1F]](n,d[a[1H]]);o= 1k[a[1A]](o,d[a[1n]]);m= 1k[a[1F]](m,d[a[1n]])});x= n- p;d= m- o;A= [-1,-1];if(q){t=  1j O(a[23J]);t[a[150]]({a4:a[184],Cz:a[192]});t[a[213]](1g);y[a[jE]](t)};if(i(y[a[1I]][a[Di]])){w= y[a[23I]](p,o,n,m,k[a[113]],k[a[5u]])};if(w=== 1g){t= 1h;1d};if(q){1N[a[102]][a[185]](t[a[139]])};r(1N,a[6q],b);r(1N,a[4i],b);W[a[2k]][a[wh]]= y[a[2f]];W[a[2k]][a[6S]]= y[a[2f]];1c b(i){1a s,n,r;1a k,m;i[a[91]]();if(i[a[85]]== a[4T]){s= i[a[3P]][0];n= s[a[99]];r= s[a[105]]}1e {n= i[a[99]]/C;r=i[a[105]]/ C};if(i[a[85]]== a[4i]){bA(1N,a[6q],b);bA(1N,a[4i],b);if(q&&  !l(t)){1N[a[102]][a[188]](t[a[139]]);t[a[139]]= 1h;t= 1h};W[a[2k]][a[wi]](W[a[2k]][a[6S]]);y[a[23F]]([p,o],A,x,d,i[a[113]],i[a[5u]]);2j W[a[2k]][a[wh]];2j W[a[2k]][a[6S]]}1e {if(i[a[85]]== a[6q]){if(1k[a[243]](f- n)> 2|| 1k[a[243]](g- r)> 2){k= n- (cd[a[99]](y[a[139]],C)- cd[a[kx]](y[a[139]],C));m= r- (cd[a[105]](y[a[139]],C)- cd[a[MP]](y[a[139]],C));if(q){t[a[213]](1f);t[a[134]](n* C+ u,r* C+ v)};if(!y[a[ab]]()&& j && (h=== 1h|| h[a[19]](z)!==  -1)){if(k< 0|| m<  -5|| k> y[a[127]]|| m> y[a[129]]+ 5){A= [-1,-1];1d};A= y[a[23G]](i,x,d);if(q){t[a[139]][a[44]]= y[a[1se]](A[0],A[1],y[a[1x]][A[0]])}}1e {A= [-1,-1]}}}}}},1rV:1c(){1a b=1b;if(W[a[2k]][a[6S]]!= b[a[2f]]){W[a[2k]][a[wi]](W[a[2k]][a[6S]]);W[a[2k]][a[6S]]= b[a[2f]]}},1sl:1c(g,h){1a j=1b;1a b=j[a[w7]];1a k=j[a[3q]];1a i=j[a[2f]];1a d;1a f=1g;if(b=== 1h|| b[a[59]]== 0){d= W[a[2k]][a[23H]]();b= [];cd[a[1q]](d,1c(d,f){if(i!= f){b[a[1s]](f)}})};cd[a[1q]](b,1c(i,l){1a d=1E(l)[a[56]](a[7T],a[58]);1a b=1N[a[gH]](d);if(!b){1d};1a j=cd[a[7n]](b,k);if(j[a[152]]<= g&& j[a[152]]+ b[a[3O]]>= g&& j[a[154]]<= h&& j[a[154]]+ b[a[3T]]>= h){W[a[2k]][a[wi]](W[a[2k]][a[6S]]);W[a[2k]][a[6S]]= l;f= 1f;1d 1g}});if(!f){W[a[2k]][a[wi]](W[a[2k]][a[6S]]);if( 1L W[a[2k]][a[6S]]!= 1T){2j W[a[2k]][a[6S]]}}},1sq:1h,1sc:1h,1sd:1c(g){1a j=1b;1a i=j[a[127]];1a d=j[a[1x]][a[59]];1a h;1a k;1a f;j[a[qy]]= g;if(j[a[2w]]){i-= j[a[3w]]};if(i> j[a[eb]][a[127]]+ j[a[8m]][a[127]]){i= j[a[eb]][a[127]]+ j[a[8m]][a[127]]};if(d> 0){h= j[a[iz]](g);if(j[a[2m]]&& j[a[2w]]){h[a[131]]-= j[a[4o]]};k= j[a[23M]](h[a[131]]);if(k< d){f= j[a[6u]](k,0,1g);if(j[a[2m]]&& k>= j[a[8X]]* j[a[4K]]){f[a[131]]+= f[a[129]];k= j[a[8X]]* j[a[4K]]}}1e {f= j[a[6u]](d- 1,0,1g);f[a[131]]+= f[a[129]]}}1e {k= 0;f= j[a[6u]](k,0,1g)};if(l(j[a[aB]])){j[a[aB]]=  1j O(a[23N]);j[a[aB]][a[213]](1g);j[a[210]](j[a[aB]])};j[a[aB]][a[133]](i,4);j[a[aB]][a[134]](0,f[a[131]]);j[a[aB]][a[213]](1f);if(j[a[1Q]]&& d> 0){if(l(j[a[hJ]])){j[a[hJ]]=  1j O(a[1ty]);j[a[hJ]][a[213]](1g);j[a[210]](j[a[hJ]])};j[a[hJ]][a[134]](h[a[130]],h[a[131]]);j[a[hJ]][a[213]](1f)};if(j[a[2w]]){if(j[a[ps]]!== 1h){1d k};j[a[ps]]= gI(1c(){b()},j[a[Ba]])};1d k;1c b(){1a d=j[a[QO]];1a b=j[a[d8]][a[129]]- j[a[1X]];1a h;1a g;1a f;if(l(j[a[qy]])){1d};f= j[a[iz]](j[a[qy]]);g= f[a[131]];if(j[a[2m]]){h= j[a[1R]][a[2K]];if(j[a[iA]]- j[a[hW]]< g- h){j[a[1R]][a[2r]](h+ d)}1e {if(g- h< 0){j[a[1R]][a[2r]](h- d)}}}1e {if(g< 0){j[a[3m]](j[a[1S]]- 1)}1e {if(g> b){j[a[3m]](j[a[1S]]+ 1)}}}}},1tf:1c(i,m,f){1a n=1b;1a k=n[a[127]];1a h=n[a[1x]][a[59]];1a g=n[a[1z]][a[59]];1a j;1a p,o,q;n[a[qy]]= i;if(n[a[2w]]){k-= n[a[3w]]};if(k> n[a[eb]][a[127]]+ n[a[8m]][a[127]]){k= n[a[eb]][a[127]]+ n[a[8m]][a[127]]};if(h> 0){j= n[a[iz]](i);p= n[a[wI]](j[a[130]],j[a[131]],1,1);o= p[a[e5]];q= p[a[fw]];if(q+ m>= h){q= h- 1- m};if(o+ f>= g){o= g- 1- f}}1e {1d [-1,-1]};if(l(n[a[aB]])){n[a[aB]]=  1j O(a[Cw]);n[a[aB]][a[213]](1g);n[a[212]](n[a[aB]],n[a[2C]]);n[a[jp]]=  1j O(a[Cw]);n[a[jp]][a[213]](1g);n[a[212]](n[a[jp]],n[a[2C]]);n[a[ji]]=  1j O(a[Cw]);n[a[ji]][a[213]](1g);n[a[212]](n[a[ji]],n[a[2C]]);n[a[jk]]=  1j O(a[Cw]);n[a[jk]][a[213]](1g);n[a[212]](n[a[jk]],n[a[2C]])};n[a[1sF]]= o;b(q,o,m,f);if(n[a[1Q]]){if(l(n[a[hJ]])){n[a[hJ]]=  1j O(a[1ty]);n[a[hJ]][a[213]](1g);n[a[210]](n[a[hJ]])}};if(n[a[2w]]){if(n[a[ps]]!== 1h){1d [q,o]};n[a[ps]]= gI(1c(){d()},n[a[Ba]])};1d [q,o];1c d(){1a g=n[a[QO]];1a d=n[a[d8]][a[129]]- n[a[1X]];1a k;1a j;1a i;if(l(n[a[qy]])){1d};i= n[a[iz]](n[a[qy]]);j= i[a[131]];if(n[a[2m]]){k= n[a[1R]][a[2K]];if(n[a[iA]]- n[a[hW]]< j- k){n[a[1R]][a[2r]](k+ g)}1e {if(j- k< 0){n[a[1R]][a[2r]](k- g)}}}1e {if(j< 0){n[a[3m]](n[a[1S]]- 1)}1e {if(j> d){if(n[a[1S]]>= n[a[1R]][a[5O]]){1d};n[a[3m]](n[a[1S]]+ 1);if(n[a[1S]]>= n[a[1R]][a[5O]]){b(h- 1- m,n[a[1sF]],m,f)}}}}}1c b(i,h,g,b){1a d,f;d= n[a[6u]](i,h,1g);f= n[a[6u]](i+ g,h+ b,1g,1f);f[a[131]]= d[a[131]]+ n[a[1X]]* g;n[a[aB]][a[133]](f[a[130]]- d[a[130]]+ f[a[127]],3);n[a[aB]][a[134]](d[a[130]],d[a[131]]);n[a[aB]][a[213]](1f);n[a[jp]][a[133]](f[a[130]]- d[a[130]]+ f[a[127]],3);n[a[jp]][a[134]](d[a[130]],f[a[131]]+ f[a[129]]- 3);n[a[jp]][a[213]](1f);n[a[ji]][a[133]](3,f[a[131]]- d[a[131]]+ f[a[129]]);n[a[ji]][a[134]](d[a[130]],d[a[131]]);n[a[ji]][a[213]](1f);n[a[jk]][a[133]](3,f[a[131]]- d[a[131]]+ f[a[129]]);n[a[jk]][a[134]](f[a[130]]+ f[a[127]]- 3,d[a[131]]);n[a[jk]][a[213]](1f)}},1t7:1c(){1a b=1b;if(!l(b[a[ps]])){gR(b[a[ps]])};b[a[ps]]= 1h;if(!l(b[a[aB]])){b[a[aB]][a[132]]()};b[a[aB]]= 1h;if(!l(b[a[jp]])){b[a[jp]][a[132]]()};b[a[jp]]= 1h;if(!l(b[a[ji]])){b[a[ji]][a[132]]()};b[a[ji]]= 1h;if(!l(b[a[jk]])){b[a[jk]][a[132]]()};b[a[jk]]= 1h},1pb:1c(b,d){1a f=1b;if(i(f[a[1I]][a[CQ]])){1d f[a[1I]][a[CQ]]({1P:a[CQ],2y:f[a[2f]],2P:b,af:d})};1d 1g},23S:1c(b){1a d=1b;if(i(d[a[1I]][a[MG]])){1d d[a[1I]][a[MG]]({1P:a[MG],2y:d[a[2f]],23T:23R,af:b})};1d 1g},1pF:1c(g,m,f,l,b,h){1a k=1b;1a j=1f;1a d;if(i(k[a[1I]][a[Dh]])){d= {1P:a[Dh],2y:g,wu:m,tM:l,wt:f,1qn:b,oV:l> f,af:h,Ne:1f};j= k[a[1I]][a[Dh]](d);k[a[r5]]= d[a[1or]]};1d j},1pG:1c(d,h,b,g,f){1b[a[23Q]](a[Df],d,h,b,g,f)},1r2:1c(f,k,d,j,b,g){1a h=1b;if(!h[a[1Q]]&& f== k && j> d){j-= g[a[59]]};if(i(h[a[1I]][a[Dd]])){1d h[a[1I]][a[Dd]]({1P:a[Dd],2y:f,wu:k,tM:j,wt:d,oV:j> d,1qn:b,af:g})};1d 1g},1pU:1c(k,d,j,b,h,f){1a g=1b;if(i(g[a[1I]][k])){1d g[a[1I]][k]({1P:k,2y:d,wu:j,tM:h,wt:b,oV:h> b,af:f})};1d 1g},1pS:1c(h,d,g,f,b,k){1a j=1b;if(i(j[a[1I]][a[Di]])){1d j[a[1I]][a[Di]]({1P:a[Di],2y:j[a[2f]],2P:h,3l:d,23O:g,23P:f,wK:b,rk:k})};1d 1g},1ei:1c(g,n,h,f,o,m,p,b,l){1a k=1b;1a j=1f;1a d;if(i(k[a[1I]][a[Dq]])){d= {1P:a[Dq],2y:g,wu:n,wt:h,1t2:f,tM:o,HX:m,1q2:p,Ne:1f,wK:b,rk:l};j= k[a[1I]][a[Dq]](d);k[a[r5]]= d[a[1or]]};1d j},1t4:1c(o,g,m,h,f,n,l,q,b,k,p){1a j=1b;1a d={1P:o,2y:g,wu:m,wt:h,1t2:f,tM:n,HX:l,wK:b,rk:k,23E:p};if(bi(q)){d[a[23D]]= q};if(i(j[a[1I]][o])){1d j[a[1I]][o](d)};1d 1g},1tp:1c(b){1a d=1b[a[144]];if(b[a[85]]!= a[2i]){b[a[92]]()}1e {b[a[91]]()};d[a[23t]][a[21]](1b,b)},1tt:1c(f){1a h=1b[a[144]];1a b=1b[a[4a]];1a g,d;if(h[a[lJ]](b,-1,a[S5])=== 1g){f[a[91]]();1d};g= h[a[8s]](b);if(h[a[1O]][a[59]]>= 1){d= h[a[1O]][0][1]}1e {d= h[a[dE]]()};h[a[dN]](g,d);h[a[Ad]]();h[a[Rg]](f)},1ts:1c(g,b,i){1a m=1b;1a k=m[a[1M]];1a h=[];1a d=cd[a[69]]([],b);1a j=cd[a[69]]([],i);1a l=m[a[1S]];1a n=m[a[4o]];1a f=m[a[4h]];if(b&& b[a[59]]> 0){cd[a[1q]](b,1c(b,d){h[h[a[59]]]= g[d]})};m[a[2Y]][a[d2]]({5v:1c(f){1a d=m[a[1x]];1a i={};1a j=g[k];1a h;1a b;i[k]= j;if(f[a[5p]][a[59]]!= f[a[na]][a[59]]){1d};cd[a[1q]](f[a[5p]],1c(b,d){i[d]= f[a[na]][b]});h= m[a[2M]](j,k,d);b= m[a[g9]](i,h,1f,1g);b= b|| [];m[a[9Z]](f[a[9V]],f[a[9W]],f[a[7L]]);m[a[uS]](h,b[0]|| 0)},5G:1c(f){1a d=m[a[1x]];1a i={};1a j=g[k];1a h;1a b;i[k]= j;if(f[a[5p]][a[59]]!= f[a[na]][a[59]]){1d};cd[a[1q]](f[a[5p]],1c(b,d){i[d]= f[a[na]][b]});h= m[a[2M]](j,k,d);b= m[a[g9]](i,h,1f,1g);b= b|| [];m[a[9Z]](f[a[9V]],f[a[9W]],f[a[7L]]);m[a[uS]](h,b[0]|| 0)}},{5v:{j9:d,vm:j,7H:l,7J:n,6E:f},5G:{j9:d,vm:h,7H:l,7J:n,6E:f}})},1tH:1c(k,f,d,h,l){1a j=1b;1a i=j[a[1S]];1a m=j[a[4o]];1a g=j[a[4h]];1a b=j[a[jO]]();j[a[2Y]][a[d2]]({5v:1c(b){j[a[u0]](b[a[fw]],b[a[qM]],b[a[5p]],b[a[na]]);j[a[9Z]](b[a[9V]],b[a[9W]],b[a[7L]]);if(b[a[3c]]){j[a[8J]](b[a[3c]])}},5G:1c(b){j[a[u0]](b[a[fw]],b[a[qM]],b[a[5p]],b[a[na]]);j[a[9Z]](b[a[9V]],b[a[9W]],b[a[7L]]);if(b[a[3c]]){j[a[8J]](b[a[3c]])}}},{5v:{uR:k,uv:f,j9:d,vm:h,7H:i,7J:m,6E:g,6C:b},5G:{uR:k,uv:f,j9:d,vm:l,7H:i,7J:m,6E:g,6C:b}})},1sO:1c(h,i,b,d){1a k=1b;1a j=k[a[1S]];1a n=k[a[4o]];1a g=k[a[4h]];1a f;1a m;if(l(b)){f= k[a[jO]]()}1e {f= cd[a[69]](1f,{},b)};if(l(d)){m= f}1e {m= cd[a[69]](1f,{},d)};k[a[2Y]][a[d2]]({5v:1c(d){1a b=cd[a[69]](1f,[],d[a[uq]]);if(b[a[59]]<= 0){1d};cd[a[1q]](d[a[23u]],1c(d,f){1i(1a a in f){b[d][a]= f[a]}});k[a[wo]](b,1f,1g,d[a[3c]]);k[a[9Z]](d[a[9V]],d[a[9W]],d[a[7L]]);if(d[a[3c]]){k[a[8J]](d[a[3c]])}},5G:1c(d){1a b=cd[a[69]](1f,[],d[a[uq]]);if(b[a[59]]<= 0){1d};k[a[wo]](b,1f,1g,d[a[3c]]);k[a[9Z]](d[a[9V]],d[a[9W]],d[a[7L]]);if(d[a[3c]]){k[a[8J]](d[a[3c]])}}},{5v:{af:h,1sR:i,7H:j,7J:n,6E:g,6C:f},5G:{af:h,7H:j,7J:n,6E:g,6C:m}})},1oZ:1c(g,b,d){1a j=1b;1a h=j[a[1M]];1a i=j[a[1S]];1a k=j[a[4o]];1a f=j[a[4h]];j[a[2Y]][a[d2]]({5v:1c(b){1a d=[];if(b[a[1oy]]== a[JN]){cd[a[1q]](b[a[D7]],1c(b,f){d[a[1s]](f[a[4k]][h])})}1e {cd[a[1q]](b[a[D7]],1c(b,f){d[a[1s]](f[h])})};j[a[gd]](1h,d,{tc:1g,fS:1f});if(b[a[3c]]){j[a[dN]](b[a[3c]][a[154]],b[a[3c]][a[152]])}},5G:1c(f){if(b== a[JN]){1a i;1a k;1a g=f[a[D7]];if(j[a[1O]][a[59]]<= 0){1ou= j[a[dE]]()}1e {1ou= j[a[1O]][0][1]};1i(1a d=g[a[59]]- 1;d>= 0;d--){k= g[d];i= k[a[4k]][h];if(k[a[1om]]){j[a[xI]](1h,i);j[a[5A]]()}1e {if(k[a[1oM]]){j[a[jd]](k[a[4k]],k[a[1pY]],k[a[1H]],{mt:1f,fS:1f})}}}}1e {j[a[eR]](f[a[D7]],f[a[1oy]],{mt:1f,fS:1f})}}},{5v:{Pp:g,Po:b,7H:i,7J:k,6E:f,6C:d},5G:{Pp:g,Po:b}})},1oB:1c(f,b){1a i=1b;1a g=i[a[1M]];1a h=i[a[1S]];1a j=i[a[4o]];1a d=i[a[4h]];i[a[2Y]][a[d2]]({5v:1c(d){1a h;1a j;1i(1a b=f[a[59]]- 1;b>= 0;b--){j= f[b];h= j[a[4k]][g];if(j[a[1om]]){i[a[xI]](1h,h)}1e {if(j[a[1oM]]){i[a[jd]](j[a[4k]],j[a[1pY]],j[a[1H]],{mt:1f,fS:1f})}1e {i[a[eR]](j[a[4k]],j[a[1H]],{mt:1f,fS:1f})}}};i[a[9Z]](d[a[9V]],d[a[9W]],d[a[7L]]);if(d[a[3c]]){i[a[8J]](d[a[3c]])}},5G:1c(b){1a d=[];cd[a[1q]](f,1c(b,f){d[a[1s]](f[a[4k]][g])});i[a[gd]](1h,d,{tc:1g,fS:1f});i[a[9Z]](b[a[9V]],b[a[9W]],b[a[7L]]);if(b[a[3c]]){i[a[8J]](b[a[3c]])}}},{5v:{7H:h,7J:j,6E:d,6C:b},5G:{7H:h,7J:j,6E:d,6C:b}})},1pH:1c(h){1a g=1b;1a f=g[a[1S]];1a i=g[a[4o]];1a d=g[a[4h]];1a b=g[a[jO]]();g[a[2Y]][a[d2]]({5v:1c(b){g[a[gd]](1h,h,{tc:1g,fS:1f});g[a[9Z]](b[a[9V]],b[a[9W]],b[a[7L]]);if(b[a[3c]]){g[a[8J]](b[a[3c]])}},5G:1c(b){g[a[xI]](1h,h);g[a[9Z]](b[a[9V]],b[a[9W]],b[a[7L]]);if(b[a[3c]]){g[a[8J]](b[a[3c]])}}},{5v:{7H:f,7J:i,6E:d,6C:b},5G:{7H:f,7J:i,6E:d,6C:b}})},1tu:1c(k,g,h,d){1a j=1b;1a i=j[a[1S]];1a m=j[a[4o]];1a f=j[a[4h]];1a b=j[a[jO]]();j[a[2Y]][a[d2]]({5v:1c(d){1a b;if(l(k)){b= j[a[2c]][a[4f]]}1e {b= j[a[5Z]](k,j[a[1M]],j[a[2c]][a[4f]])};j[a[ag]](b,!d[a[Qa]],d[a[Fm]],d[a[ES]],1f);if(d[a[ES]]){j[a[5S]](1f)};j[a[9Z]](d[a[9V]],d[a[9W]],d[a[7L]]);if(d[a[3c]]){j[a[8J]](d[a[3c]])}},5G:1c(d){1a b;if(l(k)){b= j[a[2c]][a[4f]]}1e {b= j[a[5Z]](k,j[a[1M]],j[a[2c]][a[4f]])};j[a[ag]](b,d[a[Qa]],d[a[Fm]],d[a[ES]],1f);if(d[a[ES]]){j[a[5S]](1f)};j[a[9Z]](d[a[9V]],d[a[9W]],d[a[7L]]);if(d[a[3c]]){j[a[8J]](d[a[3c]])}}},{5v:{EI:k,Fb:g,vq:h,PT:d,7H:i,7J:m,6E:f,6C:b},5G:{EI:k,Fb:g,vq:h,PT:d,7H:i,7J:m,6E:f,6C:b}})},1q7:1c(g){1a h=1b;1a f=h[a[1S]];1a i=h[a[4o]];1a d=h[a[4h]];1a b=h[a[jO]]();h[a[2Y]][a[d2]]({5v:1c(b){h[a[BR]](b[a[mk]]);h[a[9Z]](b[a[9V]],b[a[9W]],b[a[7L]]);if(b[a[3c]]){h[a[8J]](b[a[3c]])}},5G:1c(b){h[a[AW]](b[a[mk]]);h[a[9Z]](b[a[9V]],b[a[9W]],b[a[7L]]);if(b[a[3c]]){h[a[8J]](b[a[3c]])}}},{5v:{k5:g,7H:f,7J:i,6E:d,6C:b},5G:{k5:g,7H:f,7J:i,6E:d,6C:b}})},1q5:1c(g){1a h=1b;1a f=h[a[1S]];1a i=h[a[4o]];1a d=h[a[4h]];1a b=h[a[jO]]();h[a[2Y]][a[d2]]({5v:1c(b){h[a[AW]](b[a[mk]]);h[a[9Z]](b[a[9V]],b[a[9W]],b[a[7L]]);if(b[a[3c]]){h[a[8J]](b[a[3c]])}},5G:1c(b){h[a[BR]](b[a[mk]]);h[a[9Z]](b[a[9V]],b[a[9W]],b[a[7L]]);if(b[a[3c]]){h[a[8J]](b[a[3c]])}}},{5v:{k5:g,7H:f,7J:i,6E:d,6C:b},5G:{k5:g,7H:f,7J:i,6E:d,6C:b}})},1q6:1c(g){1a h=1b;1a f=h[a[1S]];1a i=h[a[4o]];1a d=h[a[4h]];1a b=h[a[jO]]();h[a[2Y]][a[d2]]({5v:1c(d){h[a[vj]](d[a[mk]]);h[a[9Z]](d[a[9V]],d[a[9W]],d[a[7L]]);if(d[a[3c]]){h[a[8J]](d[a[3c]])};if(d[a[3c]]&&  !l(b[a[154]])){h[a[tj]](d[a[3c]][a[154]]+ 1,d[a[3c]][a[4S]]+ 1,d[a[3c]][a[152]],d[a[3c]][a[3H]])}},5G:1c(b){h[a[v7]](b[a[mk]]);h[a[9Z]](b[a[9V]],b[a[9W]],b[a[7L]]);if(b[a[3c]]){h[a[8J]](b[a[3c]])};if(b[a[3c]]){h[a[8J]](b[a[3c]])}}},{5v:{k5:g,7H:f,7J:i,6E:d,6C:b},5G:{k5:g,7H:f,7J:i,6E:d,6C:b}})},1qc:1c(g){1a h=1b;1a f=h[a[1S]];1a i=h[a[4o]];1a d=h[a[4h]];1a b=h[a[jO]]();h[a[2Y]][a[d2]]({5v:1c(d){h[a[v7]](d[a[mk]]);if(d[a[3c]]){h[a[8J]](d[a[3c]])};if(d[a[3c]]&&  !l(b[a[154]])){h[a[tj]](d[a[3c]][a[154]]- 1,d[a[3c]][a[4S]]- 1,d[a[3c]][a[152]],d[a[3c]][a[3H]])}},5G:1c(b){h[a[vj]](b[a[mk]]);if(b[a[3c]]){h[a[8J]](b[a[3c]])};if(b[a[3c]]){h[a[8J]](b[a[3c]])}}},{5v:{k5:g,7H:f,7J:i,6E:d,6C:b},5G:{k5:g,7H:f,7J:i,6E:d,6C:b}})},1qd:1c(b,h,d,f){1a g=1b;g[a[2Y]][a[d2]]({5v:1c(b){g[a[te]](b[a[1W]],b[a[1qj]]);g[a[dN]](0,0)},5G:1c(b){g[a[te]](b[a[1W]],b[a[1qj]]);g[a[dN]](0,0)}},{5v:{nL:d,OG:f},5G:{nL:b,OG:h}})},1qk:1c(j,n,h,d,i,b,g){1a m=1b;1a k=m[a[1S]];1a f=m[a[4h]];1a l=m[a[1O]];m[a[2Y]][a[d2]]({5v:1c(d){m[a[1O]]= d[a[1O]];m[a[3j]]= b[a[154]];m[a[3k]]= b[a[4S]];m[a[3t]]= b[a[152]];m[a[3u]]= b[a[3H]];m[a[BZ]](d[a[1ql]],d[a[1qi]],d[a[nK]],d[a[Pa]]);if(m[a[2w]]){m[a[3m]](d[a[Or]])};if(m[a[3g]]){m[a[kb]](d[a[7L]])}},5G:1c(d){m[a[1O]]= d[a[1O]];m[a[3j]]= b[a[154]];m[a[3k]]= b[a[4S]];m[a[3t]]= b[a[152]];m[a[3u]]= b[a[3H]];m[a[BZ]](d[a[1ql]],d[a[1qi]],d[a[nK]],d[a[Or]]);if(m[a[2w]]){m[a[3m]](d[a[Pa]])};if(m[a[3g]]){m[a[kb]](d[a[7L]])}}},{5v:{OM:j,OE:h,7C:d,x4:i,yq:k,6E:f,pW:l,6C:g},5G:{OM:j,OE:n,7C:d,x4:i,yq:k,6E:f,pW:l,6C:b}})},1qg:1c(j,g,i,f,d,h){1a n=1b;1a k=n[a[1S]];1a b=n[a[4h]];1a m=n[a[1O]];n[a[2Y]][a[d2]]({5v:1c(d){1a b;n[a[1O]]= d[a[1O]];b= n[a[5Z]](j,n[a[1M]],n[a[2c]][a[4f]]);if(l(b)){1d};n[a[1q1]](b,d[a[1pL]],d[a[1pI]]);if(n[a[2w]]){n[a[3m]](d[a[Or]])};if(n[a[3g]]){n[a[kb]](d[a[7L]])}},5G:1c(d){1a b;n[a[1O]]= d[a[1O]];b= n[a[5Z]](j,n[a[1M]],n[a[2c]][a[4f]]);if(l(b)){1d};n[a[1q1]](b,d[a[1pL]],d[a[1pI]]);if(n[a[2w]]){n[a[3m]](d[a[Pa]])};if(n[a[3g]]){n[a[kb]](d[a[7L]])}}},{5v:{1pJ:j,Pd:g,Pi:f,x4:h,yq:k,6E:b,pW:m},5G:{1pJ:j,Pd:i,Pi:d,x4:h,yq:k,6E:b,pW:m}})},1qS:1c(b){1a f=1b;1a j=f[a[2Y]][a[1fh]]();1a d=f[a[2Y]][a[1fi]]();1a g=f[a[2Y]][a[23s]]();1a h=f[a[2Y]][a[23r]]();if(i(f[a[1I]][a[P6]])){f[a[1I]][a[P6]]({1P:a[P6],2y:f[a[2f]],1qL:b,zJ:j,AF:d,23o:g,23p:h})}},OT:1c(){y[a[y4]][a[23]][a[EV]][a[63]](1b);r(1b[a[139]],a[1r0],1b[a[1r1]]);r(1b[a[139]],a[2i],1b[a[1qZ]]);r(1b[a[139]],a[al],1b[a[1qW]]);r(1b[a[139]],a[EM],1b[a[1qX]]);r(1N,a[2i],1b[a[Fl]]);8R{if(W[a[154]]&& W[a[154]]!== W){r(W[a[154]],a[2i],1b[a[Fl]])}}8g(e){};r(W,a[tw],1b[a[1qJ]])},OY:1c(){y[a[y4]][a[23]][a[wF]][a[63]](1b);bA(1b[a[139]],a[1r0],1b[a[1r1]]);bA(1b[a[139]],a[2i],1b[a[1qZ]]);bA(1b[a[139]],a[al],1b[a[1qW]]);bA(1b[a[139]],a[EM],1b[a[1qX]]);if(1b[a[Fg]]){bA(1b[a[139]],a[6q],1b[a[P2]]);1b[a[Fg]]= 1g};bA(W,a[2i],1b[a[Fl]]);8R{if(W[a[154]]&& W[a[154]]!== W){bA(W[a[154]],a[2i],1b[a[Fl]])}}8g(e){};bA(W,a[tw],1b[a[1qJ]]);1b[a[139]][a[144]]= 1h},1qI:1c(b){1a d;1i(1a f in y[a[1]]){d= y[a[1]][f];if(y[a[2]]&& (y[a[39]]|| y[a[26]]|| (y[a[28]]&& y[a[38]]))){if(i(d[a[sv]])){d[a[sv]]()};if(i(d[a[aI]])){d[a[aI]]()}}1e {if(d[a[1in]]&& i(d[a[hb]])){d[a[hb]](1h,1f)}1e {if(i(d[a[sv]])){d[a[sv]]()}};d[a[e6]](1f);if(i(d[a[aI]])){d[a[aI]]()}}};d= 1h},1qu:1c(f){1a d=f[a[77]]|| f[a[93]];1a b;1a h=1g;1U(d){b= 1E(d[a[165]]);if(b&& b[a[19]]&& (b== a[sa]|| b[a[19]](a[23q])>= 0)){h= 1f;1l};d= d[a[95]];if(d=== 1N[a[102]]){1l}};if(!h){1a g;1i(1a j in y[a[1]]){g= y[a[1]][j];if(g[a[23v]]&& i(g[a[hb]])){g[a[Fh]]= 1f;g[a[hb]](1h,1g);g[a[Fh]]= 1g;if(g[a[w9]]&& g[a[8Q]]&& i(g[a[8Q]][a[fc]])){g[a[8Q]][a[fc]]();g[a[8Q]]= 1h}};if(i(g[a[aI]])){g[a[aI]]()}}}},1qG:1c(b){1a d=1b[a[144]];if(W[a[2k]]&& W[a[2k]][a[wh]]){d[a[23w]]()}},1qE:1c(b){1a d=1b[a[144]];d[a[ha]]();if( 1L W[a[2k]][a[6S]]!= 1T){2j W[a[2k]][a[6S]]};d[a[C2]](d[a[gk]]);d[a[rc]]= 2z;d[a[rp]]= 2z},1qD:1c(b){1a d=1b[a[144]];if(d[a[n6]]!= a[tW]||  !d[a[2H]]||  !d[a[9U]]){1d};if(b[a[77]]&& cd[a[23B]](b[a[77]],a[oc])){d[a[23C]](b)}1e {d[a[C2]](d[a[gk]]);d[a[rc]]= 2z;d[a[rp]]= 2z}},1oK:1c(){1a g=1b;1a d=y[a[1]];1a b=2g;1i(1a f in d){if(g[a[2f]]!== f){b[a[2k]][a[hb]](f,1h)}}},1oE:1c(d,f,g,b){1a h=1b;d=  !!d;f=  !!f;h[a[GJ]]();if( 1L g== a[0]){g= a[xb]};if(h[a[w9]]&& h[a[8Q]]&& i(h[a[8Q]][a[fc]])){h[a[8Q]][a[fc]]();h[a[8Q]]= 1h};if(h[a[C6]]){h[a[C6]]= 1g;h[a[6B]]()};if(h[a[1J]]|| h[a[8o]]){if(!l(h[a[1J]])){if(f&& h[a[1J]][a[1t]]&& h[a[1J]][a[1t]][a[1J]]&& h[a[1J]][a[1t]][a[1J]][a[85]]== a[9c]){if(h[a[2v]]){h[a[2v]][a[206]](a[lY])};h[a[1J]][a[3R]](1f)}1e {h[a[1J]][a[3R]](d,g)}}1e {if(!l(h[a[2D]])){if(f&& h[a[2D]][a[1t]]&& h[a[2D]][a[1t]][a[1J]]&& h[a[2D]][a[1t]][a[1J]][a[85]]== a[9c]){if(h[a[2v]]){h[a[2v]][a[206]](a[lY])};h[a[2D]][a[3R]](1f)}1e {h[a[2D]][a[3R]](d,g)}}}}},1oH:1c(f){1a g=1b[a[144]];if(f[a[109]]> 1){1d};1a d=f[a[77]]|| f[a[93]];1a b=1E(d[a[165]]);if(b&& b[a[19]]&& (b[a[19]](a[1oN])>= 0|| b[a[19]](a[1jI])>= 0)){1d};if(!(b&& b[a[19]]&& (b[a[19]](a[23A])>= 0|| b[a[19]](a[23z])>= 0|| b[a[19]](a[23x])>= 0))){g[a[6B]]()};if(g[a[5F]]!== a[192]){f[a[91]]()};if((b&& b[a[19]]&& (b[a[19]](a[P5])>= 0|| b[a[19]](a[1oU])>= 0))|| b[a[19]](a[23y])>= 0){if(g[a[6D]]){g[a[2l]](1g,1f)}1e {g[a[2l]](1f,1f)};g[a[1rF]]()};g[a[aI]]()},Pg:1c(l){1a v=1b[a[144]];1a m=v[a[2C]];1a A=v[a[1R]];1a w;if(l[a[85]]== a[2X]){w= l[a[3P]][0];if(!v[a[3g]]&&  !v[a[2w]]){1d};v[a[7t]]= w[a[100]];v[a[7o]]= w[a[106]];v[a[ft]]= v[a[7t]];v[a[fu]]= v[a[7o]];v[a[Qh]]=  1j 1Z()[a[aO]]();r(v[a[139]],a[4T],v[a[a5]]);r(v[a[139]],a[4V],v[a[a5]])}1e {if(l[a[85]]== a[4T]){w= l[a[3P]][0];if(l[a[3P]][a[59]]> 1){1d};1a t=w[a[100]];1a u=w[a[106]];1a f=d1(v[a[7t]]- t);1a g=d1(v[a[7o]]- u);1a o=d1(v[a[ft]]- t);1a p=d1(v[a[fu]]- u);1a n=v[a[7t]]- t> 0?a[3H]:a[152];1a B=v[a[7o]]- u> 0?a[eu]:a[dr];1a q=1g;1a s=1g;if(v[a[P8]]){if(1k[a[243]](o)> 1k[a[243]](p)&& 1k[a[243]](f)>= 1){if(v[a[3g]]&& l[a[1oR]]){if(n== a[3H]&& m[a[2K]]!== m[a[5O]]){l[a[91]]()}1e {if(n== a[152]&& m[a[2K]]!== m[a[7k]]){l[a[91]]()}}}}1e {if(v[a[2w]]&& l[a[1oR]]){if(B== a[eu]&& A[a[2K]]!== A[a[5O]]){l[a[91]]()}1e {if(B== a[dr]&& A[a[2K]]!== A[a[7k]]){l[a[91]]()}}}}};if(1k[a[243]](f)>= 1&& v[a[3g]]){q= 1f;if(n== a[3H]&& m[a[2K]]== m[a[5O]]){v[a[7t]]= t};if(n== a[152]&& m[a[2K]]== m[a[7k]]){v[a[7t]]= t}};if(1k[a[243]](g)>= 1&& v[a[2w]]){if(!v[a[2m]]){g= d1(g/v[a[1X]])};if(1k[a[243]](g)>=1){s=1f};if(B==a[eu]&&A[a[2K]]==A[a[5O]]){v[a[7o]]=u};if(B==a[dr]&&A[a[2K]]==A[a[7k]]){v[a[7o]]=u}};if(q){m[a[2r]](m[a[2K]]+f);v[a[7t]]=t};if(s){A[a[2r]](A[a[2K]]+g);v[a[7o]]=u}}1e{if(l[a[85]]==a[4V]){bA(v[a[139]],a[4T],v[a[a5]]);bA(v[a[139]],a[4V],v[a[a5]]);if(!v[a[2w]]&&!v[a[3g]]){1d};1a k=1j 1Z()[a[aO]]();1a j=v[a[Qh]];1a h=v[a[fu]]-v[a[7o]];if(k-j<aH&&1k[a[243]](h)>=50&&v[a[2w]]){1a b=1j y[a[8k]]();if(v[a[2m]]){b[a[i1]]=A[a[2K]];b[a[i6]]=A[a[2K]]+h}1e{b[a[i1]]=A[a[2K]];b[a[i6]]=A[a[2K]]+d1((h*v[a[2u]])/50)};b[a[yj]]=60;b[a[lh]]=fT;b[a[ug]]=y[a[8k]][a[Aq]][a[NJ]];b[a[nV]]=x;b[a[o6]]=x;b[a[fx]]()};1a i=v[a[ft]]-v[a[7t]];if(k-j<aH&&1k[a[243]](i)>=25&&v[a[3g]]){1a d=1j y[a[8k]]();d[a[i1]]=m[a[2K]];d[a[i6]]=d1(m[a[2K]]+i*2);d[a[yj]]=60;d[a[lh]]=fT;d[a[ug]]=y[a[8k]][a[Aq]][a[NJ]];d[a[nV]]=z;d[a[o6]]=z;d[a[fx]]()};v[a[ft]]=v[a[7t]]=1h;v[a[fu]]=v[a[7o]]=1h}}};1c x(b){A[a[2r]](1k[a[7y]](b))}1c z(b){m[a[2r]](1k[a[7y]](b))}},1oD:1c(d){1a f=1b[a[144]];1a g=1b[a[hT]];1a b;if(f[a[6D]]){f[a[2l]](1g,1f)}1e{f[a[2l]](1f,1f)};if(i(f[a[1I]][a[pG]])){b=f[a[hn]](g,f[a[5g]][a[7Y]]);f[a[1I]][a[pG]][a[21]](d[a[77]]||d[a[93]],{1P:a[pG],2y:f[a[2f]],3l:b[a[1n]],hB:b[a[2x]],co:b[a[2a]],iP:1f,zY:d[a[99]],zX:d[a[105]],aA:d,3i:cd[a[69]](1f,{},b)})}},1oC:1c(g){1a m=1b[a[144]];1a d=m[a[2O]];1a j=m[a[1n6]];1a h;1a f;1a n=1b[a[hT]];1a k=1f;if(m[a[6D]]){m[a[2l]](1g,1f)}1e{m[a[2l]](1f,1f)};f=m[a[5Z]](n,d,m[a[1z]]);if(l(f)){1d};if(i(m[a[1I]][a[pG]])){h={};h[a[85]]=a[pG];h[a[9H]]=m[a[2f]];h[a[1n]]=f[a[1n]];h[a[2a]]=f[a[2a]];h[a[2x]]=f[a[2x]];h[a[4k]]=cd[a[69]](1f,{},f);h[a[1m]]=f[a[1m]];if(g[a[3P]]&&g[a[3P]][0]){h[a[99]]=g[a[3P]][0][a[99]];h[a[105]]=g[a[3P]][0][a[105]]}1e{h[a[99]]=g[a[99]];h[a[105]]=g[a[105]]};h[a[fn]]=g;k=m[a[1I]][a[pG]][a[21]](g[a[77]]||g[a[93]],h);if(l(k)){k=1f}};if(m[a[jN]]&&f[a[1oo]]!==1g&&k){if(m[a[9X]]()[a[59]]>rO){m[a[sg]]();bL(100)[a[8z]](1c(){b();m[a[ga]]()})}1e{b()}};1c b(){m[a[ky]]=1f;if(j==a[113]){m[a[yQ]](n,g[a[113]])}1e{if(j==a[5u]){m[a[yQ]](n,g[a[5u]])}1e{if(j==a[23U]){m[a[yQ]](n,1f)}1e{m[a[yQ]](n,1g)}}}}},1oq:1c(f){1a i=1b[a[144]];1a o=i[a[3q]];1a m=0;1a n;1a h;1a d;1a b=-1;1a g=f[a[85]];f[a[91]]();f[a[92]]();if(i[a[7r]]){m=i[a[6M]]};if(!i[a[r7]]){1d 1g};if(i[a[6D]]){i[a[2l]](1g,1f)}1e{i[a[2l]](1f,1f)};if(g==a[2X]){n=f[a[3P]][0];h=n[a[99]]}1e{h=f[a[99]]};d=h/o-cd[a[99]](i[a[139]],o);b=1b[a[4a]];if(l(i[a[3V]])){i[a[3V]]=1j O();i[a[210]](i[a[3V]])}1e{i[a[210]](i[a[3V]])};i[a[3V]][a[202]](a[165],a[1oi]);i[a[3V]][a[213]](1f);i[a[3V]][a[133]](1,i[a[129]]-m);i[a[3V]][a[134]](d,m);i[a[nH]]=1f;i[a[1oj]]=d;if(i[a[zr]]){if(l(i[a[8O]])){i[a[fQ]]=d;i[a[8O]]=8A(1c(){i[a[8O]]=1h},i[a[zq]])}1e{if(1k[a[243]](i[a[fQ]]-d)<=10){a7(i[a[8O]]);i[a[fQ]]=-1;i[a[8O]]=1h;i[a[nH]]=1g;i[a[Ov]](1f,b);i[a[3V]][a[213]](1g);1d}}};if(g==a[2X]){f[a[91]]();r(1N,a[4T],k);r(1N,a[4V],k)}1e{r(1N,a[6q],j);r(1N,a[4i],j)};1c j(d){if(d[a[85]]==a[4i]){bA(1N,a[6q],j);bA(1N,a[4i],j);i[a[nH]]=1g;i[a[zs]]=d[a[99]]/ o- cd[a[99]](i[a[139]],o);i[a[3V]][a[213]](1g);i[a[Ov]](1g,b)}1e {if(d[a[85]]== a[6q]&& i[a[nH]]){i[a[3V]][a[134]](d[a[99]]/o-cd[a[99]](i[a[139]],o),m);d[a[91]]();d[a[92]]()}}}1c k(d){1a g,f;if(d[a[85]]==a[4V]){g=d[a[23V]][0];bA(1N,a[4T],k);bA(1N,a[4V],k);i[a[nH]]=1g;i[a[3V]][a[213]](1g);if(!l(g)){f=g[a[99]];i[a[zs]]=f/o-cd[a[99]](i[a[139]],o)}1e{i[a[zs]]=i[a[3V]][a[130]]};i[a[Ov]](1g,b)}1e{if(d[a[85]]==a[4T]&&i[a[nH]]){g=d[a[3P]][0];f=g[a[99]];i[a[3V]][a[134]](f/o-cd[a[99]](i[a[139]],o),m);d[a[91]]();d[a[92]]()}}}},1os:1c(j){1a t=1b[a[144]];1a w;1a o,q;1a k=t[a[1V]];1a s;1a v=-1;1a y;1a p,x;1a d=1b[a[5d]];1a r=t[a[1M]];1a h=t[a[24r]];1a g=t[a[1x]];1a b=1o(1b[a[163]](a[2b]));1a z=1f;1a u=j[a[5u]];1a m=i(t[a[xT]]);1a n=i(t[a[ok]]);1a f;if(k>0&&b<k){s=b}1e{s=t[a[1S]]+b};p=g[s];j[a[92]]();if(m){z=t[a[xT]](s,!d,p)};if(z===1g){j[a[91]]();1d 1g};if(!h){u=1g};if(t[a[fH]]){t[a[7c]]=1g;if(d){t[a[3a]]={};t[a[3a]][p[r]]=p}}1e{if(t[a[1Q]]&&t[a[nv]]&&!l(t[a[8r]][p[r]])&&!d){d=1f};if(d){if(t[a[1Q]]&&t[a[nv]]){t[a[3a]][p[r]]=p;2j t[a[8r]][p[r]];if(p[a[4O]]){w=t[a[rT]](1h,p);1i(o=0,q=w[a[59]];o<q;o++){t[a[3a]][w[o][r]]=w[o];2j t[a[8r]][w[o][r]]}};t[a[uk]](p)}1e{t[a[3a]][p[r]]=p;if(u){v=0;1i(o=s-1;o>=0;o--){x=g[o];if(!x){1u};y=x[r];if(t[a[Ls]](y)){v=o;1l}}};if(u&&v!=-1){1i(o=v;o<s;o++){x=g[o];if(n){z=t[a[ok]](o,!d,x)};if(z!==1g&&m){z=t[a[xT]](o,!d,x)};if(z!==1g){t[a[3a]][x[r]]=x}}};if(t[a[ON]]()){f=t[a[6l]](t[a[z9]]);w=t[a[CD]](s,f);1i(o=0,q=w[a[59]];o<q;o++){t[a[3a]][w[o][r]]=w[o]}}}}1e{t[a[7c]]=1g;if(t[a[1Q]]&&t[a[nv]]){2j t[a[3a]][p[r]];2j t[a[8r]][p[r]];if(p[a[4O]]){w=t[a[rT]](1h,p);1i(o=0,q=w[a[59]];o<q;o++){2j t[a[3a]][w[o][r]];2j t[a[8r]][w[o][r]]}};t[a[uk]](p)}1e{2j t[a[3a]][p[r]];if(u){v=-1;1i(o=s-1;o>=0;o--){x=g[o];if(!x){1u};y=x[r];if(t[a[Ls]](y)){v=o}1e{1l}}};if(u&&v!=-1){1i(o=v;o<s;o++){x=g[o];if(n){z=t[a[ok]](o,!d,x)};if(z!==1g&&m){z=t[a[xT]](o,!d,x)};if(z!==1g){2j t[a[3a]][x[r]]}}};if(t[a[ON]]()){f=t[a[6l]](t[a[z9]]);w=t[a[CD]](s,f);1i(o=0,q=w[a[59]];o<q;o++){2j t[a[3a]][w[o][r]]}}}};t[a[cC]]()};if(t[a[2m]]){t[a[1pn]](t[a[3p]],1f)}1e{t[a[5K]]()};t[a[6a]]();t[a[5A]]();if(i(t[a[1I]][a[OH]])){t[a[1I]][a[OH]][a[21]](j[a[77]]||j[a[93]],{1P:a[OH],2y:t[a[2f]],2P:s,3i:cd[a[69]](1f,{},p),5T:d,rk:u,24s:v,aA:j})}},1pD:1c(i){1a n=1b;1a m=n[a[1M]];1a b=0;1a d=n[a[3a]];1a g=n[a[8r]];1a l;1a k;1a f,j;l=n[a[A8]](1h,i);if(l&&l[a[59]]){1i(f=0,j=l[a[59]];f<j;f++){k=l[f];if((b=h(k[a[1p]],m))){n[a[3a]][k[m]]=k;2j n[a[8r]][k[m]]}1e{2j n[a[3a]][k[m]];if(b===0){2j n[a[8r]][k[m]]}1e{n[a[8r]][k[m]]=k}}}};1c h(b,l){1a m;1a k=1f;1a f=1g;1a i=1g;1i(1a h=0,j=b[a[59]];h<j;h++){m=b[h];if(m[a[4O]]){if(d[m[l]]){f=1f}1e{if(g[m[l]]){i=1f;k=1g}1e{k=1g}}}1e{if(d[m[l]]){f=1f}1e{k=1g}}};if(k===1g&&f===1g&&i===1g){1d 0};1d k}},1pE:1c(b){1a f=1b[a[144]];1a d;b[a[91]]();if(i(f[a[1I]][a[Pk]])){d={};d[a[85]]=a[Pk];d[a[9H]]=f[a[2f]];d[a[fn]]=b;f[a[1I]][a[Pk]][a[21]](b[a[77]]||b[a[93]],d)};f[a[6B]]()},1pB:1c(f){1a p=1b[a[144]],o=p[a[1M]],r=p[a[2m]],k=p[a[la]],j=p[a[iM]],g=i(p[a[ok]]),b=1b[a[5d]],d,m,q,h,n,s;f[a[92]]();if(!j){if(k&&!p[a[1Q]]){if(r){d=p[a[Hn]]()}1e{d=p[a[1x]]}}1e{d=p[a[9X]]()};if(g){p[a[3a]]={};p[a[8r]]={};if(b){p[a[7c]]=1f}1e{p[a[7c]]=1g};1i(h=0,n=d[a[59]];h<n;h++){m=d[h];q=m[o];if(g){s=p[a[ok]](h,!b,m)};if(s!==1g){if(b){p[a[3a]][q]=m}1e{2j p[a[3a]][q];p[a[7c]]=1g}}1e{if(l(p[a[3a]][q])){p[a[7c]]=1g}}}}1e{p[a[3a]]={};p[a[8r]]={};if(b){p[a[7c]]=1f;1i(h=0,n=d[a[59]];h<n;h++){m=d[h];q=m[o];p[a[3a]][q]=m}}1e{p[a[7c]]=1g}};p[a[5K]]();p[a[6a]]();p[a[5A]]()};if(i(p[a[1I]][a[1px]])){p[a[1I]][a[1px]](b)};if(i(p[a[1I]][a[PZ]])){p[a[1I]][a[PZ]][a[21]](f[a[77]]||f[a[93]],{1P:a[PZ],2y:p[a[2f]],5T:b,aA:f})}},1py:1c(f){1a g=1b[a[144]];1a b=1b[a[4a]];1a d=1b[a[7Z]];g[a[Q0]][a[21]](1b,f,a[1pi]);if(y[a[38]]&&g[a[zr]]){if(l(g[a[8O]])){g[a[fQ]]=b;g[a[k8]]=d;g[a[8O]]=8A(1c(){g[a[8O]]=1h},g[a[zq]])}1e{if(g[a[fQ]]==b&&g[a[k8]]==d){a7(g[a[8O]]);g[a[fQ]]=-1;g[a[k8]]=-1;g[a[8O]]=1h;g[a[Q0]][a[21]](1b,f,a[z5]);f[a[91]]();1d}}}},1pk:1c(b){1a d=1b[a[144]];if(!y[a[38]]){d[a[Q0]][a[21]](1b,b,a[z5])}},1p5:1c(d,m){1a k=1b[a[144]];1a b=1b[a[4a]];1a g=1b[a[7Z]];1a l=1b[a[PQ]];1a h;1a j;1a f;if(i(k[a[1I]][m])){if(!bl(l)&&bi(k[a[6v]][b])&&bi(k[a[hi]][b])){h=k[a[6v]][b][l];j=k[a[hi]][b][l]}1e{h=a[58]};f={};f[a[85]]=m;f[a[9H]]=k[a[2f]];f[a[1sT]]=g;f[a[1sS]]=b;f[a[1t3]]=h;f[a[1sB]]=j;if(d[a[3P]]&&d[a[3P]][0]){f[a[99]]=d[a[3P]][0][a[99]];f[a[105]]=d[a[3P]][0][a[105]]}1e{f[a[99]]=d[a[99]];f[a[105]]=d[a[105]]};f[a[fn]]=d;k[a[1I]][m][a[21]](d[a[77]]||d[a[93]],f)}},1ph:1c(d){1a f=1b[a[144]];1a b=1b[a[4a]];f[a[Q2]][a[21]](1b,d,a[1pi]);if(y[a[38]]&&f[a[zr]]){if(l(f[a[8O]])){f[a[fQ]]=b;f[a[k8]]=a[1pf];f[a[8O]]=8A(1c(){f[a[8O]]=1h},f[a[zq]])}1e{if(f[a[fQ]]==b&&f[a[k8]]==a[1pf]){a7(f[a[8O]]);f[a[fQ]]=-1;f[a[k8]]=-1;f[a[8O]]=1h;f[a[Q2]][a[21]](1b,d,a[z5]);d[a[91]]();1d}}}},1pe:1c(b){1a d=1b[a[144]];if(!y[a[38]]){d[a[Q2]][a[21]](1b,b,a[z5])}},1r3:1c(f,n){1a m=1b[a[144]];1a b=1b[a[4a]];1a k=m[a[ek]];1a d;1a h;1a j;1a g;if(i(m[a[1I]][n])){d=k[b];if(d){h=l(d[a[1B]])?a[58]:d[a[1B]];j=d[a[1B]]}1e{h=a[58]};g={};g[a[85]]=n;g[a[9H]]=m[a[2f]];g[a[1sS]]=b;g[a[1sT]]=-1;g[a[1t3]]=h;g[a[1sB]]=j;if(f[a[3P]]&&f[a[3P]][0]){g[a[99]]=f[a[3P]][0][a[99]];g[a[105]]=f[a[3P]][0][a[105]]}1e{g[a[99]]=f[a[99]];g[a[105]]=f[a[105]]};g[a[fn]]=f;m[a[1I]][n][a[21]](f[a[77]]||f[a[93]],g)}},1sy:1c(b){1a g=b[a[78]];1a d=b[a[4k]];1a f=d[a[6k]];g[a[2l]](1g,1f);g[a[ag]](d,f,g[a[1nx]],1g)},1sE:1c(f){1a h=1b[a[144]];1a i;1a b=1b[a[4a]];1a d=1b[a[7Z]];1a g;if(!f[a[3P]]||f[a[3P]][a[59]]>1){1d};i=f[a[3P]];if(i[0]){h[a[Q6]]=i[0][a[99]];h[a[Q7]]=i[0][a[105]]}1e{1d};if(h[a[24q]]){h[a[rD]]=1f;if(!l(h[a[zx]])){a7(h[a[zx]]);h[a[zx]]=1h};g=f;h[a[Bq]]=1f;h[a[zx]]=8A(1c(){if(h[a[rD]]){h[a[Bq]]=1g;h[a[24p]](b,d,g)}},1k[a[1F]](h[a[24n]],fT))}},1t9:1c(b){1a d=1b[a[144]];if(1D(d[a[Q6]])||1D(d[a[Q7]])){d[a[rD]]=1g;1d};if(b[a[3P]]&&b[a[3P]][0]){d[a[Q8]]=b[a[3P]][0][a[99]];d[a[PP]]=b[a[3P]][0][a[105]]};d[a[rD]]=1g;if(1k[a[243]](d[a[Q6]]-d[a[Q8]])<=5&&1k[a[243]](d[a[Q7]]-d[a[PP]])<=5){d[a[rD]]=1f};d[a[Q8]]=2z;d[a[PP]]=2z},1tE:1c(b,d,o){1a q=1b;1a p=q[a[8s]](b);1a h=d;1a m=q[a[1x]][p];1a f=q[a[2I]][b][d];1a g,j,k,n;if(p==-1||h==-1||l(m)||l(f)){1d};g=q[a[1z]][h];j=g[a[1m]];k=g[a[2a]];n=f[a[3S]](m[j],p,h,m,g);if(i(q[a[1I]][a[PO]])){q[a[1I]][a[PO]]({1P:a[PO],2y:q[a[2f]],2P:p,3l:h,4M:n,co:k,3i:cd[a[69]](1f,{},m),5l:j,aA:o})}},1tw:1c(g){1a d=1b;1a b=1g;1a f;if(d[a[1Q]]&&g&&g[a[165]]){f=1E(g[a[165]]);if(f[a[19]](a[w8])>=0||f[a[19]](a[DQ])>=0){b=1f}1e{if(d[a[fk]]&&f[a[19]](a[1jv])>=0){b=1f}}};1d b},1tx:1c(n){1a w=n[a[77]]||n[a[93]];1a v=1b[a[144]];1a b=1b[a[4a]];1a d=1b[a[7Z]];1a f;1a r;1a u;1a j;1a m=v[a[Ck]];1a h=v[a[1z]];1a g;1a s;1a k;1a p;1a t;1a q=v[a[1r5]](w);1a o;if(v[a[9U]]){u=v[a[cF]];d=j=v[a[dy]];b=v[a[6K]](u)}1e{u=v[a[8s]](b);j=d};f=v[a[2I]][b][d];r=v[a[1x]][u];if(u==-1||j==-1||l(r)||l(f)){1d};g=v[a[1z]][j];k=v[a[C0]](g,w);p=g[a[2a]];if(n[a[109]]<=1){v[a[rD]]=1g;if(v[a[Bq]]&&i(v[a[1I]][a[Px]])){s=f[a[3S]](r[k],u,j,r,g);o={};o[a[85]]=a[Px];o[a[9H]]=v[a[2f]];o[a[1H]]=u;o[a[1n]]=j;o[a[2b]]=s;o[a[1tF]]=1g;if(q){o[a[1tF]]=1f};o[a[oE]]=r[v[a[1M]]];if(j!=-1){o[a[2p]]=h[j][a[2p]]==1g?1g:v[a[2p]];if(!v[a[9R]]&&(j<v[a[2o]]||u<v[a[1V]])){o[a[2p]]=1g};if(v[a[d4]](r)){o[a[2p]]=1g}}1e{o[a[2p]]=v[a[2p]]};o[a[2a]]=p;o[a[4k]]=cd[a[69]](1f,{},r);o[a[1m]]=k;o[a[fn]]=n;v[a[1I]][a[Px]][a[21]](w,o)};if(v[a[2w]]&&v[a[1tN]]){if(v[a[2m]]){v[a[3m]](v[a[8s]](b))}1e{if(v[a[3p]]){v[a[Bm]]=1g;t=v[a[1S]];v[a[cu]]=1g;v[a[7W]](v[a[8s]](b));v[a[cu]]=1f;if(t<v[a[1S]]){b=b-(v[a[1S]]-t);f=v[a[2I]][b][d];v[a[Bm]]=1f}}1e{if(b==v[a[2u]]-1){v[a[cu]]=1g;v[a[1R]][a[2r]](v[a[1S]]+1);v[a[cu]]=1f;b=b-1;f=v[a[2I]][b][d]}}}};if(y[a[38]]&&v[a[zr]]){if(l(v[a[8O]])){v[a[fQ]]=b;v[a[k8]]=d;v[a[8O]]=8A(1c(){v[a[8O]]=1h},v[a[zq]])}1e{if(v[a[fQ]]==b&&v[a[k8]]==d){a7(v[a[8O]]);v[a[fQ]]=-1;v[a[k8]]=-1;v[a[8O]]=1h;v[a[1tJ]][a[21]](1b,n);n[a[91]]();1d}}};if(m==a[2h]&&!q){if(v[a[zP]]){1d};if(!v[a[9R]]){if(d<v[a[2o]]||b<v[a[1V]]){1d}};if(b+v[a[1S]]>=v[a[1x]][a[59]]){1d};if(v[a[2p]]&&!l(f)){if(v[a[1V]]>0&&b<v[a[1V]]){v[a[fG]](b,d,f,a[2h])}1e{v[a[fG]](b+v[a[1S]],d,f,a[2h])}}}};v[a[Bq]]=1f},1tM:1c(b,f){1a d=b[a[1m]];if(b[a[1G]]&&b[a[1G]][a[85]]==a[vn]){if(f[a[1w]]==a[154]){d=b[a[1m]]}1e{if(f[a[1w]]==a[4S]){d=b[a[1G]][a[l1]][a[1m]]}}};1d d},1tI:1c(b){1a d=1b[a[144]];if(!y[a[38]]){d[a[1tJ]][a[21]](1b,b)}},1tK:1c(n){1a u=1b[a[144]];1a v=n[a[77]]||n[a[93]];1a b=1b[a[4a]];1a d=1b[a[7Z]];1a g;1a h,q;1a s;1a j;1a t=u[a[1O]];1a m=u[a[Ck]];1a f=u[a[2p]];1a r;1a k;1a p;1a o;if(u[a[9U]]){s=u[a[cF]];d=j=u[a[dy]];b=u[a[6K]](s)}1e{s=u[a[8s]](b);j=d};if(s==-1||j==-1){1d};g=u[a[2I]][b][d];q=u[a[1x]][s];h=u[a[1z]][j];if(l(h)||l(q)||l(g)){1d};if(u[a[2w]]&&!u[a[2m]]&&b==u[a[2u]]-1){1d};if(u[a[Bm]]){u[a[Bm]]=1g;1d};if(t&&t[a[59]]>0){if(t[0][0]!=q[u[a[1M]]]||t[0][1]!=d){if(u[a[lJ]](b,d,a[2h])===1g){n[a[91]]();1d};u[a[dN]](g[a[1H]],g[a[1n]])}};k=u[a[C0]](h,v);p=h[a[2a]];if(i(u[a[1I]][a[N7]])){r=g[a[3S]](q[k],s,j,q,h);o={};o[a[85]]=a[N7];o[a[9H]]=u[a[2f]];o[a[1H]]=s;o[a[1n]]=j;o[a[2b]]=r;o[a[oE]]=q[u[a[1M]]];if(j!=-1){o[a[2p]]=h[a[2p]]===1g?1g:u[a[2p]];if(!u[a[9R]]&&(j<u[a[2o]]||s<u[a[1V]])){o[a[2p]]=1g};if(u[a[d4]](q)){o[a[2p]]=1g}}1e{o[a[2p]]=u[a[2p]]};o[a[2a]]=p;o[a[4k]]=cd[a[69]](1f,{},q);o[a[1m]]=k;o[a[fn]]=n;f=u[a[1I]][a[N7]][a[21]](v,o);if(l(f)){f=1f}};if(m==a[Bt]&&f){if(!u[a[9R]]){if(d<u[a[2o]]||b<u[a[1V]]){1d}};if(b+u[a[1S]]>=u[a[1x]][a[59]]){1d};if(!l(g)){if(u[a[1V]]>0&&b<u[a[1V]]){u[a[fG]](b,d,g,a[Bt])}1e{u[a[fG]](b+u[a[1S]],d,g,a[Bt])}}}},1tL:1c(f){1a j=f[a[78]];1a k=j[a[ey]];1a b=f[a[1t]];1a d;1a h,i;1a g;k[a[202]](a[165],a[24o]);if(b&&b[a[yE]]&&b[a[yE]][a[1tv]]){k[a[139]][a[44]]=b[a[yE]][a[1tv]]};k[a[213]](1f);d=j[a[6u]](0,b[a[1n]],1f);h=d[a[130]];g=k[a[139]][a[3O]]+2;i=j[a[6o]](b[a[2x]]);if(j[a[7r]]){i+=j[a[6M]]};if(h+g>=j[a[127]]){h=j[a[127]]-g};k[a[134]](h,i);j[a[1ti]]=-1;j[a[1tc]]=-1},1th:1c(b){1a d=b[a[78]];d[a[ey]][a[213]](1g);d[a[1ti]]=-1;d[a[1tc]]=-1},1te:1c(g){1a h=g[a[78]];1a d=h[a[2O]];1a f;1a k;1a b=1f;1a j=1g;f=g[a[5L]];if(l(f)){1d};4v(g[a[24t]]){1C a[gO]:h[a[Nq]](f[d],{5T:g[a[5d]],1K$b9:1g});if(!f[a[7q]]&&f[a[4s]][a[Nr]]===1f&&f[a[1G]]&&f[a[1G]][a[85]]==a[me]){if(!l(f[a[1G]][a[dz]])&&!l(f[a[1G]][a[jP]])){b=f[a[1G]][a[dz]];j=f[a[1G]][a[jP]]}1e{b=1f;j=1g};if(g[a[5d]]){k=[b]}1e{k=[j]};h[a[u0]](1h,1h,[f[a[1m]]],k)};if(i(f[a[4s]][a[hj]])){f[a[4s]][a[hj]]({1P:a[24u],2y:h[a[2f]],iP:f[a[7q]],hB:f[a[2x]],5l:f[a[1m]],3l:f[a[1n]],5T:g[a[5d]]})};1l;1C a[114]:if(i(f[a[4s]][a[hj]])){f[a[4s]][a[hj]]({1P:a[24z],2y:h[a[2f]],iP:f[a[7q]],hB:f[a[2x]],5l:f[a[1m]],3l:f[a[1n]],24A:g[a[45]]})};1l;1C a[1kr]:if(g[a[M9]]!==1g){h[a[N0]](f[d],{co:g[a[2b]]})};if(i(f[a[4s]][a[hj]])){f[a[4s]][a[hj]]({1P:a[24y],2y:h[a[2f]],iP:f[a[7q]],hB:f[a[2x]],5l:f[a[1m]],3l:f[a[1n]],4M:g[a[2b]],hl:g[a[gB]]})};1l}},1ss:1c(m){1a s=1b[a[144]];1a u=s[a[ey]];1a n=s[a[1z]];1a h;1a o;1a b=1b;1a d=1b[a[4a]];1a f=1b[a[7Z]];1a g;1a j,p,t;1a q;1a r;1a v=s[a[3q]];1a k=1g;m[a[92]]();m[a[91]]();h=n[f];g=s[a[2I]][d][f];o=g[a[4E]];if(h[a[1J]]&&h[a[1J]][a[MJ]]===1f){if(!l(s[a[4n]])&&s[a[5J]]!=-1&&s[a[7z]]!=-1){if(s[a[5J]]==d&&s[a[7z]]==f){s[a[4n]][a[213]](1g);1d}};j=s[a[6u]](d,f,1f);p={x:j[a[130]],y:j[a[131]]};t={3b:j[a[127]],4X:j[a[129]]};s[a[24x]](p,t,h[a[1J]][a[85]],d,f,h)}1e{if(!l(s[a[4n]])){s[a[4n]][a[213]](1g)}};if(!s[a[i9]]){1d};if(!l(s[a[oO]])){a7(s[a[oO]]);s[a[oO]]=1h};if(h[a[6f]]&&h[a[6f]][a[1k3]]===1g){u[a[213]](1g);1d};if(h[a[6f]]){if(i(h[a[6f]][a[1ry]])){o=h[a[6f]][a[1ry]](g[a[1H]],g[a[1n]],g[a[1B]],h[a[2a]],g[a[1w]],g[a[1m]]);k=1f}1e{if(!l(h[a[6f]][a[1rw]])){o=g[a[1w]][h[a[6f]][a[1rw]]]}}};if(l(o)||1E(o)[a[178]]()==a[58]){u[a[213]](1g);1d};s[a[oO]]=8A(1c(){u[a[202]](a[165],a[24v]);if(k){u[a[139]][a[44]]=o}1e{u[a[139]][y[a[46]]]=o};1a g=s[a[6u]](d,f,1f);1a l={x:g[a[130]],y:g[a[131]]};1a h=m[a[99]]/ v- (cd[a[99]](b,v)- cd[a[kx]](b,v));u[a[213]](1f);1a i=u[a[139]][a[3T]];1a j=u[a[139]][a[3O]];q= l[a[130]]+ h;r= 1k[a[1A]](l[a[131]]+ s[a[1X]]+ 10);if(q+ j>= s[a[127]]){q= s[a[127]]- j- 10};if(r+ i>= s[a[129]]){r= l[a[131]]- i- 10};u[a[134]](q,r)},s[a[24w]])},1rs:1c(b){1a f=1b[a[144]];1a d=b[a[96]]|| b[a[98]]|| {};if(!l(f[a[4n]])&& d[a[165]] && d[a[165]][a[19]](a[MY])< 0){f[a[4n]][a[213]](1g)};if(!l(f[a[oO]])){a7(f[a[oO]]);f[a[oO]]= 1h};if(f[a[i9]]&&  !l(f[a[ey]])){f[a[ey]][a[213]](1g)};d= 1h},1rA:1c(f){1a g=1b[a[144]];1a b=1b[a[4a]];1a d=1b[a[7Z]];g[a[rc]]= b;g[a[rp]]= d;g[a[Be]](b,d)},1rI:1c(b){1a d=1b[a[144]];if(d[a[n6]]== a[tW]&& d[a[2H]]&& d[a[9U]]){1d};d[a[C2]](d[a[gk]])},1rJ:1c(f){1a h=1b;1a g;1a b,d;if(h[a[n6]]!= a[tW]&& h[a[2H]]){1d};g= h[a[KJ]](f);b= h[a[6K]](g[a[fw]]);d= g[a[e5]];h[a[rc]]= b;h[a[rp]]= d;h[a[Be]](b,d)},1rK:1c(b,d){1a r=1b;1a m=r[a[n6]];1a k=r[a[2H]];1a h=r[a[fU]];1a g=r[a[3Y]];1a f=r[a[3Z]];1a o=r[a[8L]];1a l=r[a[1z]];1a q=r[a[8s]](b);1a j;1a s;1a u;1a n,p;1a i;1a t;if(bl(b)|| bl(d)|| q< 0){1d};if(m!= a[nO]&& m!= a[tW]&& m!= a[192]){r[a[n6]]= m= a[nO]};r[a[C2]](r[a[gk]]);r[a[gk]]= [];if(m== a[192]){1d};if(m== a[nO]){f[b][d][a[180]](a[q3]);r[a[gk]][a[1s]](f[b][d]);1d};g[b][a[180]](a[q3]);r[a[gk]][a[1s]](g[b]);if(o&& o[b]){o[b][a[180]](a[q3]);r[a[gk]][a[1s]](o[b])};1i(n= 0,p= l[a[59]];n< p;n++){t= f[b][n];if(t){t[a[180]](a[q3]);r[a[gk]][a[1s]](t)}};if(k&& h){1i(n= 0,p= l[a[59]];n< p;n++){i= l[n];j= i[a[1n]];if(r[a[qo]](q,j)){s= r[a[dM]](q,j);u= r[a[6K]](s);t= f[u][n];if(t&& t[a[189]]=== 1f&& t[a[pr]]> 1){t[a[180]](a[q3]);r[a[gk]][a[1s]](t)}}}}},1rH:1c(b){if(!b|| b[a[59]]<= 0){1d};cd[a[1q]](b,1c(b,d){if(!i(d[a[181]])){1d};d[a[181]](a[q3])})},1rD:1c(o){1a F=o[a[77]]|| o[a[93]];1a E=1b[a[144]];1a d=1b[a[4a]];1a f=1b[a[7Z]];1a n=1b[a[7Z]];1a D=E[a[8s]](d);1a s=1g;1a l;1a G;1a m,t;1a k=E[a[3j]];1a j=E[a[3k]];1a h=E[a[3t]];1a g=E[a[3u]];1a C;1a p;1a H=E[a[3q]];E[a[C6]]= 1g;E[a[hL]]= 1f;E[a[aI]]();E[a[2l]](1g,1f,a[2h]);E[a[1rF]]();m= E[a[1z]][n];if(!bl(d)&&  !bl(f)){l= E[a[2I]][d][f]};if(l&& E[a[24m]]=== 1f&& i(E[a[1I]][a[Ob]])){D= l[a[1H]];n= l[a[1n]];t= l[a[1w]];p= {};p[a[85]]= a[Ob];p[a[9H]]= E[a[2f]];p[a[109]]= o[a[109]];p[a[1H]]= D;p[a[1n]]= n;p[a[2b]]= l[a[3S]](t[m[a[1m]]],D,n,t,m);p[a[oE]]= t[E[a[1M]]];p[a[2p]]= m[a[2p]]=== 1g?1g:E[a[2p]];if(!E[a[9R]]&& (n< E[a[2o]]|| D< E[a[1V]])){p[a[2p]]= 1g};if(E[a[d4]](t)){p[a[2p]]= 1g};p[a[2a]]= m[a[2a]];p[a[4k]]= cd[a[69]](1f,{},t);p[a[1m]]= E[a[C0]](m,F);p[a[fn]]= o;E[a[1I]][a[Ob]][a[21]](F,p);o[a[91]]();o[a[92]]();1d 1g};if(E[a[zP]]){o[a[91]]();E[a[6B]]();1d};if(E[a[24l]]){o[a[91]]()};if(F&& m&& m[a[1G]]){if(m[a[1G]][a[85]]== a[l5]|| m[a[1G]][a[85]]== a[pA]){G= F[a[140]]|| F[a[fF]];if(G){G= 1E(G)[a[13]]();if(G== a[2e]|| G== a[J9]|| G== a[114]|| G== a[1rd]){o[a[92]]();E[a[hL]]= 1g}}}1e {if(m[a[1G]][a[85]]== a[jC]&& m[a[1G]][a[rX]]!== 1g){o[a[92]]();E[a[hL]]= 1g;l[a[2F]][a[139]][a[eI]]();E[a[C6]]= 1f}1e {if(m[a[1G]][a[24b]]=== 1f){o[a[92]]();E[a[hL]]= 1g}}}};if(o[a[85]]!= a[2X]&& E[a[so]]&& E[a[tL]]&& E[a[5F]]== a[192]){E[a[7t]]= o[a[99]];E[a[7o]]= o[a[105]];E[a[ft]]= E[a[7t]];E[a[fu]]= E[a[7o]];E[a[Qh]]=  1j 1Z()[a[aO]]();r(1N,a[4i],b);1d};if(o[a[85]]== a[2X]){s= 1f}1e {if(o[a[109]]<= 1){s= 1f}1e {if(E[a[24c]]){if(E[a[dv]]){E[a[dv]]= 1g;1d};if(!bl(k)&&  !bl(j) &&  !bl(h) &&  !bl(g)){1a A=1k[a[1A]](h,g);1a y=1k[a[1F]](h,g);1a B=1k[a[1A]](k,j);1a z=1k[a[1F]](k,j);if(A<= f&& f<= y&& B<= D&& D<= z){s= 1g}1e {s= 1f}}1e {s= 1f}}}};if(E[a[lJ]](d,f,a[2h])=== 1g){o[a[91]]();1d};if(s){if(E[a[3g]]){if(!E[a[1r5]](F)){E[a[pb]](n,d,!E[a[24a]])}};if(E[a[5F]]== a[192]){1d};if(o[a[85]]== a[2X]){C= E[a[iz]](o[a[3P]][0])}1e {C= E[a[iz]](o)};1a q={};1a u=C[a[130]];1a w=C[a[131]];1a v=o[a[99]]- (cd[a[99]](E[a[139]],H)- cd[a[kx]](E[a[139]],H));1a x=o[a[105]]- (cd[a[105]](E[a[139]],H)- cd[a[kx]](E[a[139]],H));if(E[a[hL]]){o[a[91]]();E[a[6B]]()};q[a[4a]]= d;if(bl(f)){q[a[7Z]]= E[a[dE]]()}1e {q[a[7Z]]= f};q[a[1s1]]= u;q[a[1oQ]]= w;q[a[1hD]]= v;q[a[1hC]]= x;q[a[QW]]= 1g;if(o[a[85]]== a[2i]){q[a[113]]= o[a[113]];q[a[5u]]= o[a[5u]];q[a[Ac]]= o[a[109]]}1e {if(o[a[85]]== a[2X]){q[a[QW]]= 1f;q[a[113]]= 1g;q[a[5u]]= 1g;q[a[Ac]]= 0}1e {q[a[113]]= 1g;q[a[5u]]= 1g;q[a[Ac]]= 0}};E[a[23Z]][a[21]](E,q,o)};1c b(h){1a j;1a k;1a i;1a l;1a f;1a g;bA(1N,a[4i],b);if(bl(E[a[7t]])|| bl(E[a[7o]])){1d};j= h[a[99]];k= h[a[105]];i= E[a[ft]]- j> 0?a[3H]:a[152];l= E[a[fu]]- k> 0?a[eu]:a[dr];f= 1k[a[243]](E[a[ft]]- j);g= 1k[a[243]](E[a[fu]]- k);E[a[ft]]= E[a[7t]]= 1h;E[a[fu]]= E[a[7o]]= 1h;if(f> 50|| g> 50){if(f> g){E[a[BJ]](d,f,i)}1e {E[a[BJ]](d,g,l)}}}},1rn:1c(d){1a f=1b[a[144]];1a g;if(f[a[so]]&& f[a[tL]]&& f[a[5F]]== a[192]){g= d[a[3P]][0];f[a[1rl]]= 1b[a[4a]];f[a[23W]]= 1b[a[7Z]];f[a[NB]]= g[a[99]];f[a[Nv]]= g[a[105]];bA(1N,a[4T],b);r(1N,a[4T],b);1d};1c b(i){1a j;1a l;1a g;1a h;1a k;1a d=f[a[1rl]];i[a[91]]();k= i[a[3P]][0];f[a[ws]]= k[a[99]];f[a[x8]]= k[a[105]];if(bl(f[a[ws]])|| bl(f[a[x8]])){1d};j= f[a[NB]]- f[a[ws]]> 0?a[3H]:a[152];l= f[a[Nv]]- f[a[x8]]> 0?a[eu]:a[dr];g= 1k[a[243]](f[a[NB]]- f[a[ws]]);h= 1k[a[243]](f[a[Nv]]- f[a[x8]]);if(g> 50|| h> 50){if(g> h){f[a[BJ]](d,g,j)}1e {f[a[BJ]](d,h,l)};f[a[ws]]= 1h;f[a[x8]]= 1h;bA(1N,a[4T],b)}}},1rg:1c(b,h,f){1a o=1b;1a n;1a d=o[a[3Y]];1a q;1a p,k;1a j=1D(o[a[BE]])?o[a[1X]]:o[a[BE]];1a m=1f;1a g;1a l;if(o[a[NR]]){1d};if(!o[a[2I]][b]||  !d[b]){1d};q= d[b];n= o[a[8s]](b);if(o[a[ao]]&& q!== o[a[ao]]){o[a[xk]](o[a[ao]]);o[a[ao]]= 1h};4v(f){1C a[152]:if(q[a[jA]]>= j){1d};p= q[a[jA]];k= q[a[jA]]+ j;g= a[3H];if(k== 0){l= 1g}1e {if(p< k){l= 1f}1e {l= 1g}};1l;1C a[3H]:if(q[a[jA]]< 0){1d};p= q[a[jA]];k= q[a[jA]]- j;g= a[152];if(k== 0){l= 1g}1e {if(p> k){l= 1f}1e {l= 1g}};1l;1C a[dr]:g= a[eu];1l;1C a[eu]:g= a[dr];1l};if(i(o[a[1I]][a[NA]])){m= o[a[1I]][a[NA]]({1P:a[NA],2y:o[a[2f]],BK:h,2P:n,oV:g,t5:l})};if(m=== 1g|| g== a[dr]|| g== a[eu]){1d};o[a[23X]](f,g,l,b,n);o[a[1sn]](p,k,q)},1ri:1c(j,d,k,f){1a h=1b;1a b;h[a[NR]]= 1f;b=  1j y[a[8k]]();b[a[i1]]= j;b[a[i6]]= d;b[a[lh]]= h[a[23Y]];b[a[ug]]= y[a[8k]][a[Aq]][a[NJ]];b[a[nV]]= l;b[a[o6]]= g;b[a[fx]]();1c l(b){k[a[BS]](b);h[a[1rM]](b)}1c g(b){k[a[BS]](b);h[a[1rM]](b);if(b!= 0){h[a[ao]]= k}1e {h[a[ao]]= 1h};8A(1c(){h[a[NR]]= 1g},100);if(i(f)){f()}}},1sf:1c(d,g,h,b,j){1a k=1b;1a f;1a i=0;1a m=1D(k[a[BE]])?k[a[1X]]:k[a[BE]];if(l(k[a[5r]])){k[a[5r]]=  1j O();k[a[5r]][a[139]][a[144]]= 1b;r(k[a[5r]][a[139]],a[2i],k[a[24d]]);k[a[5r]][a[213]](1g);k[a[212]](k[a[5r]],k[a[2C]])};k[a[5r]][a[204]](a[155]);k[a[5r]][a[204]](a[ym]);if(h){if(g== a[3H]){k[a[5r]][a[202]](a[165],a[1sh]);f= k[a[6u]](b,0,1f);k[a[5r]][a[134]](-m+ i,f[a[131]]+ i)}1e {k[a[5r]][a[202]](a[165],a[1s9]);f= k[a[6u]](b,k[a[1z]][a[59]]- 1,1f);k[a[5r]][a[134]](f[a[130]]+ f[a[127]]+ i,f[a[131]]+ i)}}1e {if(g== a[152]){k[a[5r]][a[202]](a[165],a[1sh]);f= k[a[6u]](b,0,1f);k[a[5r]][a[134]](-m+ i,f[a[131]]+ i)}1e {k[a[5r]][a[202]](a[165],a[1s9]);f= k[a[6u]](b,k[a[1z]][a[59]]- 1,1f);k[a[5r]][a[134]](f[a[130]]+ f[a[127]]+ i,f[a[131]]+ i)}};k[a[5r]][a[109]]= d;k[a[5r]][a[f5]]= h;k[a[5r]][a[1H]]= j;k[a[5r]][a[133]](m- i* 2,k[a[1X]]- i* 2);k[a[5r]][a[213]](1f)},1sa:1c(d){1a b=1b;if(d== 0){b[a[5r]][a[204]](a[155]);b[a[5r]][a[204]](a[ym]);b[a[5r]][a[213]](1g);1d};b[a[5r]][a[213]](1f);b[a[5r]][a[150]](a[155],a[156]+ d+ a[BT]);b[a[5r]][a[150]](a[ym],a[156]+ d+ a[BT])},1so:1c(d){1a g=1b[a[144]];1a j=g[a[ao]];1a h,b;1a k=g[a[5r]][a[109]];1a f=g[a[5r]][a[1H]];if(l(j)){1d};h= j[a[jA]];b= 0;g[a[1sn]](h,b,j,1c(){g[a[5r]][a[213]](1g);if(i(g[a[1I]][a[NK]])){g[a[1I]][a[NK]][a[21]](g[a[5r]][a[139]],{1P:a[NK],2y:g[a[2f]],2P:f,fN:k,aA:d})}})},1sm:1c(d){1a b=1b;if(!l(d)){d[a[BS]](0)};if(!l(b[a[5r]])){b[a[5r]][a[213]](1g)}},1rU:1c(g){1a l=1b[a[144]];1a h=1f;1a d,f,j,k;1a b=1b[a[4a]];if(i(l[a[1I]][a[RK]])){d= l[a[2I]][b][0];f= l[a[kJ]][b];if(d){j= d[a[1H]]}1e {j=  -1};if(f){k= f[a[1B]]}1e {k= a[58]};h= l[a[1I]][a[RK]]({1P:a[RK],2y:l[a[2f]],24e:k,2P:j,aA:g})};if(l[a[lJ]](b,-1,a[S5])=== 1g){g[a[91]]();1d};if(h!== 1g){if(l[a[5F]]!== a[192]){g[a[91]]()};l[a[dv]]= 1f;l[a[RE]][a[21]](1b,g)}},1rQ:1c(g){1a m=1b[a[144]];1a n=m[a[dL]];1a f=m[a[JI]];1a b=1b[a[4a]];1a o,l;1a d;1a k=1f;1a h;1a j=1g;if(b< 0|| b>= n[a[59]]){1d};o= n[b];l= m[a[8s]](b);if(l< 0){1d};if(m[a[2p]]){m[a[2l]](1g,1f)};g[a[92]]();g[a[91]]();if(i(m[a[1I]][a[oX]])){j= 1f;d= m[a[1x]];h= {1P:a[oX],2y:m[a[2f]],3i:cd[a[69]](1f,{},d[l]),2P:l,aA:g}};if(o[a[182]](a[BP])){if(j){h[a[yD]]= a[Cb];k= m[a[1I]][a[oX]][a[21]](g[a[77]]|| g[a[93]],h);if(k=== 1g||  !f){1d}};m[a[xI]](l)}1e {if(o[a[182]](a[AV])){if(j){h[a[yD]]= a[uV];k= m[a[1I]][a[oX]][a[21]](g[a[77]]|| g[a[93]],h);if(k=== 1g||  !f){1d}};m[a[Kc]](l)}1e {if(o[a[182]](a[A7])){if(j){h[a[yD]]= a[24j];k= m[a[1I]][a[oX]][a[21]](g[a[77]]|| g[a[93]],h);if(k=== 1g||  !f){1d}};m[a[Kc]](l)}1e {if(o[a[182]](a[A5])){if(j){h[a[yD]]= a[Ca];k= m[a[1I]][a[oX]][a[21]](g[a[77]]|| g[a[93]],h);if(k=== 1g||  !f){1d}};m[a[gd]](l,1h)}1e {if(j){h[a[yD]]= a[4G];m[a[1I]][a[oX]][a[21]](g[a[77]]|| g[a[93]],h)}}}}}},1s5:1c(p,g,o,f,r){1a n=1b;1a m=n[a[1M]];1a b=n[a[1x]];1a j;1a l=[];1a i=1f;1a h,q;1a d;if(n[a[5F]][a[19]](a[1s3])>= 0){i= 1g};if(b[a[59]]> 0){d= b[a[59]]- 1;p= 1k[a[1A]](p,d);g= 1k[a[1A]](g,d)}1e {1d};if(!r&& p== g && o== f){n[a[3j]]= 1h;n[a[3k]]= 1h;n[a[3t]]= 1h;n[a[3u]]= 1h}1e {n[a[3j]]= p;n[a[3k]]= g;n[a[3t]]= o;n[a[3u]]= f};if(i){if(p> g){1i(h= p;h>= g;h--){j= b[h];q= j[m];if(o> f){1i(1a k=o;k>= f;k--){l[a[1s]]([q,k])}}1e {1i(1a k=o;k<= f;k++){l[a[1s]]([q,k])}}}}1e {1i(h= p;h<= g;h++){j= b[h];q= j[m];if(o> f){1i(k= o;k>= f;k--){l[a[1s]]([q,k])}}1e {1i(k= o;k<= f;k++){l[a[1s]]([q,k])}}}}}1e {if(p> g){1i(h= p;h>= g;h--){j= b[h];q= j[m];l[a[1s]]([q,o])}}1e {1i(h= p;h<= g;h++){j= b[h];q= j[m];l[a[1s]]([q,o])}}};if(!!r){n[a[1O]]= l;n[a[2Q]](1f)}1e {n[a[1O]]= l}},1s2:1c(v,f,d){1a y=1b;1a u=y[a[1M]];1a h=y[a[1x]];1a n=y[a[1z]];1a x=y[a[1O]];1a g=y[a[2N]];1a C;1a l;1a B;1a k;1a z;1a i;1a A;1a j;1a w=y[a[1S]];1a b=v- w;1a q,r;1a t=0;1a o=y[a[lx]]- 1;1a p=y[a[oK]]+ 2;B= f;k= f;if(y[a[1V]]> 0&& v< y[a[1V]]){b= v};4v(d){1C 37:f--;1l;1C 38:b--;1l;1C 39:f++;1l;1C 40:b++;1l};if(y[a[1V]]> 0&& b< y[a[1V]]){v= b}1e {v= b+ y[a[1S]]};if(d== 38|| d== 40){if(v< 0|| v>= h[a[59]]){1d}}1e {if(d== 37|| d== 39){if(f< 0|| f>= n[a[59]]){1d}}};if(y[a[2w]]){if(y[a[2m]]){y[a[3m]](v)}1e {if(b< y[a[1V]]&& w!= 0){y[a[3m]](w- 1);b= y[a[1V]]}1e {if(b>= y[a[2u]]- 1&& w!= y[a[1R]][a[5O]]){y[a[3m]](w+ 1);b= y[a[2u]]- 2}}}};if(y[a[3g]]){1a m=y[a[2o]];if(f>= o&& d== 39){1i(q= m,r= f;q<= r;q++){t+= g[q]};y[a[2C]][a[2r]](t- y[a[kd]])}1e {if(f<= p&& d== 37){1i(q= m,r= f;q< r;q++){t+= g[q]};if(y[a[2C]][a[2K]]> t){y[a[2C]][a[2r]](t)}}}};if(!y[a[sU]]()){C= y[a[2M]](x[0][0],u,h);l= C;B= x[0][1];k= x[0][1]}1e {C= y[a[3j]];l= y[a[3k]];B= y[a[3t]];k= y[a[3u]]};z= C;i= l;A= B;j= k;4v(d){1C 37:if(A>= j){j= f}1e {if(A< j){j= f}};1l;1C 38:if(z>= i){i= v}1e {if(z< i){i= v}};1l;1C 39:if(f> B){A= f};if(f> k){A= B;j= f};1l;1C 40:if(v> C){z= v};if(v> l){z= C;i= v};1l};if(y[a[2H]]&&  !y[a[9U]]){1a s=y[a[xD]](z,i,A,j);z= s[a[fx]];i= s[a[aE]];A= s[a[lU]];j= s[a[kO]]};y[a[lT]](z,i,A,j,1f);y[a[2B]]()},1rY:1c(y,W){1a bf=1b|| {};1a x=bf[a[mI]];1a bg=bf[a[9U]];1a o=bf[a[24k]];1a w=bf[a[2H]];1a bd=bf[a[1S]];1a bb=y[a[4a]]+ bd;1a m=y[a[7Z]];1a ba=bf[a[1M]];1a j=bf[a[2O]];1a C=bf[a[1z]];1a k;1a n;1a s,t,Z,Y;1a p=y[a[1s1]];1a q=y[a[1oQ]];1a b=bf[a[d8]][a[129]]- bf[a[1X]];1a T=1g;1a U={};1a D,J,K,L;1a P,Q;1a h,i;1a H=bf[a[oe]]();1a F=bf[a[fW]]();1a be=1g;1a bc;1a V=[];k= C[m];if(!bf[a[hL]]){H= 1g};if(bf[a[5F]]== a[1iW]&& bf[a[1og]]){be= 1f};if(l(k)){1d};n= k[a[1m]];P= a[a9]+ n;Q= a[hC]+ n;1a u=bf[a[1jf]];1a v=bf[a[QO]];1a X=bf[a[kd]]+ bf[a[6Y]];1a z=bf[a[9Q]]();X-= bf[a[iG]];X-= z;1a M=y[a[1hD]];1a N=y[a[1hC]];1a bi=bf[a[1hF]]();1a G=bf[a[Rd]](W);if(bf[a[3g]]&&  !G){z-= bf[a[4h]]};if(bf[a[2m]]&& bf[a[2w]]){N+= bf[a[4o]]};1a E=bf[a[wI]](M- z,N- bi,1,1);if(!y[a[5u]]&&  !y[a[113]]){bf[a[cF]]= E[a[fw]];bf[a[dy]]= E[a[e5]]};bf[a[3j]]= 1h;bf[a[3k]]= 1h;bf[a[3t]]= 1h;bf[a[3u]]= 1h;if(y[a[4a]]< bf[a[1V]]&& bf[a[1V]]> 0){bb= y[a[4a]]}1e {if(w&& bg){bb= bf[a[cF]]};if(w&&  !bg&& bf[a[2w]]&&  !bf[a[2m]]){bc= bf[a[dM]](bb,m);if(bc!=  -1&& bc< bd){bf[a[1R]][a[2r]](bc- bf[a[1V]]);H= 1g;bb= bc}}};if(!bf[a[6e]]){bf[a[6e]]= {}};if(!bf[a[24i]]){1i(1a R in bf[a[6e]]){bf[a[6e]][R]= bb};bf[a[6e]][k[j]]= bb};if(bb>= bf[a[1x]][a[59]]|| bb< 0){1d};1a I=bf[a[1x]][bb];1a bj=I[ba];if(l(bj)){1d};bf[a[4d]]();if(bn(I[a[5k]])){h= I[a[5k]][P];i= I[a[5k]][Q]};1a B=0;1a A=bf[a[dE]]();if(bf[a[1O]][a[59]]> 0){B= bf[a[2M]](bf[a[1O]][0][0],ba,bf[a[1x]]);A= bf[a[1O]][0][1]};if(!H){bf[a[1O]]= []}1e {if(!y[a[113]]&& H){bf[a[1O]]= []}};if(w&&  !bg&& (be|| (!bl(h)&& h> 1)|| (!bl(i)&& i> 1))){1a O=bf[a[xD]](bb,bb,m,m);bf[a[3j]]= O[a[fx]];bf[a[3k]]= O[a[aE]];bf[a[3t]]= O[a[lU]];bf[a[3u]]= O[a[kO]];1i(D= O[a[fx]],K= O[a[aE]];D<= K;D++){I= bf[a[1x]][D];bj= I[ba];1i(J= O[a[lU]],L= O[a[kO]];J<= L;J++){bf[a[1O]][a[1s]]([bj,J])}}}1e {if(y[a[113]]){1a g=-1;if(H&& F){cd[a[1q]](bf[a[1O]],1c(b,d){if(bf[a[dv]]){if(d&& d[0]== bj){bf[a[1O]][b]= 1h}}1e {if(d&& d[0]== bj&& d[1]== m){g= b;bf[a[1O]][b]= 1h}}})}1e {if(H&&  !F){cd[a[1q]](bf[a[1O]],1c(b,d){if(d&& d[0]== bj){g= b;bf[a[1O]][b]= 1h}})}};1a S=[];cd[a[1q]](bf[a[1O]],1c(b,d){if(d){S[S[a[59]]]= d}});bf[a[1O]]= S;if(g==  -1){if(bf[a[dv]]){if(H&& F){1i(1a bh=0,K=C[a[59]];bh< K;bh++){bf[a[1O]][a[1s]]([bj,bh])}}1e {bf[a[1O]][a[1s]]([bj,m])}}1e {bf[a[1O]][a[1s]]([bj,m])}}}1e {if(y[a[5u]]){if(H){if(bf[a[dv]]){bf[a[lT]](B,bb,0,C[a[59]]- 1,1g)}1e {bf[a[lT]](B,bb,A,m,1g)}}1e {bf[a[1O]][a[1s]]([bj,m])}}1e {if(bf[a[dv]]&& H){bf[a[lT]](bb,bb,0,C[a[59]]- 1,1g)}1e {bf[a[1O]][a[1s]]([bj,m])}}}};s= p;t= q;if(x){bf[a[Ad]]()};if(x&& bf[a[24h]]&&  !bf[a[dv]]&& bf[a[iI]]){bf[a[2Q]](1f);bf[a[2B]]();bf[a[hL]]= 1f;bf[a[dv]]= 1g;bf[a[Rg]](W);1d};if(!y[a[113]]&&  !y[a[5u]] && y[a[Ac]]<= 1 && H &&  !y[a[QW]]){bf[a[2Q]](1f);d(1g,W);r(1N,a[6q],f);r(1N,a[4i],f)}1e {if(!l(bf[a[xC]])){bf[a[5F]]= bf[a[xC]];bf[a[xC]]= 1h};bf[a[2Q]](1f);bf[a[2B]]();bf[a[hL]]= 1f;bf[a[dv]]= 1g};1c f(b){b[a[91]]();if(b[a[85]]== a[4i]){if(!l(bf[a[wG]])){gR(bf[a[wG]])};bf[a[wG]]= 1h;bf[a[zV]]= 1h;bA(1N,a[6q],f);bA(1N,a[4i],f);bf[a[2B]]();bf[a[Ad]]();bf[a[dv]]= 1g;if(bf[a[hL]]){bf[a[6B]]()};bf[a[hL]]= 1f}1e {if(b[a[85]]== a[6q]){bf[a[zV]]= b;d(1g);if(bf[a[wG]]!== 1h){1d};bf[a[wG]]= gI(1c(){d(1f)},bf[a[Ba]])}}}1c d(d,G){1a l;1a m;1a n;if(bf[a[zV]]){l= bf[a[iz]](bf[a[zV]])}1e {if(G){l= bf[a[iz]](G)}1e {1d}};m= l[a[130]];n= l[a[131]];if(!(1k[a[243]](p- m)> 4|| 1k[a[243]](q- n)> 4)){1d};if(d){if(bf[a[2w]]){if(bf[a[2m]]){1a H=bf[a[1R]][a[2K]];if(bf[a[iA]]- bf[a[hW]]< n- H){bf[a[1R]][a[2r]](H+ v)}1e {if(n- H< 0){bf[a[1R]][a[2r]](H- v)}}}1e {if(n< 0){bf[a[3m]](bf[a[1S]]- 1);T= 1f}1e {if(n> b){bf[a[3m]](bf[a[1S]]+ 1);T= 1f}}}};if(bf[a[3g]]&&  !bf[a[dv]]){if(X< m- bf[a[4h]]){bf[a[kb]](bf[a[4h]]+ u)}1e {if(s> bf[a[6Y]]&& m< bf[a[6Y]]){bf[a[kb]](bf[a[4h]]- u)}}}};1a E=s;1a F=t;1a y=1g;1a x=1g;Z= m- s;Y= n- t;if(s> m){x= 1f;E= m;Z= s- m};if(t> n){y= 1f;F= n;Y= t- n};1a i=bf[a[wI]](E,F,Z,Y);if(y){i[a[qM]]= bf[a[cF]]}1e {i[a[fw]]= bf[a[cF]]};if(x){i[a[wJ]]= bf[a[dy]]}1e {i[a[e5]]= bf[a[dy]]};if(bf[a[dv]]){x= 1g;i[a[e5]]= 0;i[a[wJ]]= C[a[59]]- 1};if(U[a[e5]]== i[a[e5]]&& U[a[wJ]]== i[a[wJ]]&& U[a[fw]]== i[a[fw]]&& U[a[qM]]== i[a[qM]]){1d};1a f=bf[a[1x]];1a B=i[a[e5]];1a g=i[a[wJ]];1a D=i[a[fw]];1a h=i[a[qM]];1a z=1k[a[1F]](D,0);1a j=1k[a[1A]](h,f[a[59]]- 1);1a A=1k[a[1F]](0,B);1a k=1k[a[1A]](g,C[a[59]]- 1);if(y){D= j;h= z}1e {D= z;h= j};if(x){B= k;g= A}1e {B= A;g= k};if(bf[a[lJ]](h,g,a[S5],1f)=== 1g){1d};if(!d){V= bf[a[1O]]};if(!T){bf[a[1O]]= []};if(w&&  !bf[a[dv]]&&  !bg){1a r=bf[a[xD]](D,h,B,g);D= r[a[fx]];h= r[a[aE]];B= r[a[lU]];g= r[a[kO]]};if(T){bf[a[lT]](D,h,B,g,1f)}1e {bf[a[lT]](D,h,B,g,1g);bf[a[2Q]](1g)};if(o&&  !d&& bf[a[1O]][a[59]]!= V[a[59]]){bf[a[2B]]()};U= i}},1hH:1c(w,l,h,f){1a u=1b;1a n=u[a[1z]];1a g=n[a[59]]- 1;1a j=u[a[1x]];1a i=j[a[59]]- 1;1a r;1a q;1a v,m,t,k;1a p=1g;1a o=1g;1a s=1g;h= u[a[hy]](w,h);f= u[a[hy]](l,f);v= w;m= l;t= h;k= f;if(w> l){p= 1f;v= l;m= w};if(h> f){o= 1f;t= f;k= h};r= v;q= m;1U(1f){s= b(v,m,t,k);if(!s|| (g== k&& t== 0)){1l}};1U(1f){s= d(v,m,t,k);if(!s|| (i== m&& v== 0)){1l}};v= 1k[a[1A]](v,r);m= 1k[a[1F]](m,q);v= 1k[a[1F]](v,0);m= 1k[a[1A]](m,j[a[59]]- 1);t= 1k[a[1F]](t,0);k= 1k[a[1A]](k,n[a[59]]- 1);if(p){w= m;l= v}1e {w= v;l= m};if(o){h= k;f= t}1e {h= t;f= k};1d {1hB:w,l6:l,1hA:h,1hu:f};1c b(l,g,j,f){1a h,i;1a d;1a b=1g;1i(h= l;h<= g;h++){1i(i= j;i<= f;i++){d= u[a[zK]](h,i);if(d[0]< t|| d[1]> k){b= 1f};t= 1k[a[1A]](t,d[0]);k= 1k[a[1F]](k,d[1])}};1d b}1c d(h,f,g,d){1a k;1a i,j;1a b=1g;1i(k= g;k<= d;k++){i= u[a[dM]](h,k);j= u[a[lX]](f,k);if(i!=  -1&& i< r){b= 1f}1e {if(j!=  -1&& j> q){b= 1f}};if(i!=  -1){r= 1k[a[1A]](r,i)};if(j!=  -1){q= 1k[a[1F]](q,j)}}}},1ht:1c(x){1a U=x[a[78]];1a R=x[a[1H]];1a m=x[a[1n]];1a k=U[a[1z]];1a j=k[m];1a o=j[a[1m]];1a b=U[a[2I]];1a P=U[a[qE]];1a h;1a g;1a E;1a K;1a N;1a v;1a n=x[a[8i]];1a w=U[a[EN]];1a X=U[a[dD]];1a F;1a Y;1a V;1a z={};1a Q=U[a[1M]];1a C=1g;1a f=1h;1a d=a[58];1a L=x[a[1H]];1a W;1a A=1g;1a J=1g;1a S,u,T;if(w&& n== 13&&  !P){n= 9};if(U[a[1W]]&& U[a[1W]][a[59]]> 0){A= 1f};g= U[a[6K]](R);if(g< 0|| g>= b[a[59]]){U[a[cL]]();U[a[6B]]();1d};h= b[g][m];E= h[a[1w]];if(U[a[d4]](E)|| l(E)){1d};K= x[a[5X]];v= U[a[fM]](R,m,E[j[a[1m]]],E,j);if(v){if(v[a[85]]== a[7w]){F= v[a[8Z]];Y= v[a[8V]];if(v[a[qH]]=== 1f&& v[a[qN]]=== 1f&& x[a[8i]]!= a[de]){K= U[a[QS]](K,j,R,m,E,v)};if(U[a[6Z]]== K){K= a[58]}1e {if(!l(F)&&  !l(Y) && x[a[8i]]!= a[de]){1a H=v[a[h1]];1a I=v[a[h0]];if(i(I)){H= I(R,m,E,j[a[1m]])};if(bi(H)){1i(1a B=0,G=H[a[59]];B< G;B++){if(K== H[B][Y]){K= H[B][F];1l}}}}}}1e {if(!x[a[dj]]&& v[a[85]]== a[9c]){F= v[a[8Z]];Y= v[a[8V]];if(x[a[8D]]){if(l(U[a[4Y]])|| U[a[wa]]=== 1g){if(v[a[qH]]=== 1f&& v[a[qN]]=== 1f){K= U[a[QS]](K,j,R,m,E,v);if(K=== 1h){U[a[sn]](j,R,m,E);1d}}1e {U[a[sn]](j,R,m,E);1d}}}1e {if(x[a[8i]]!= a[de]){K= U[a[QS]](K,j,R,m,E,v)}};if(!l(v[a[1hs]])){f= v[a[1hs]];if(U[a[4Y]]){d= U[a[4Y]][a[Hj]](K)};C= 1f}}};U[a[wa]]= 1g};K= U[a[IT]](K,j);N= E[o];if(!x[a[dj]]){if(i(U[a[1I]][a[t1]])){K= U[a[JJ]](R,m,j,E,K,N,1g,x[a[8i]])}};if(x[a[dj]]|| N=== K){U[a[xH]]= 2z;U[a[xN]]= 2z;h[a[1B]]= N;h[a[135]]();if(v[a[85]]== a[9c]&& U[a[2v]]){U[a[2v]][a[206]](a[lY])};U[a[cL]]();U[a[6B]]();if(i(U[a[1I]][a[t3]])){U[a[Kg]](R,m,j,E,l(K)?N:K,1g,x[a[8i]])};if(x[a[8D]]){if(n== 9){U[a[4d]]();U[a[6g]](x[a[1H]],x[a[1n]]+ 1);U[a[2B]]()}1e {if(n== 13&&  !P){U[a[4d]]();if(x[a[1H]]== U[a[1V]]- 1){U[a[6g]](U[a[1S]]+ U[a[1V]],x[a[1n]],1h,1f)}1e {U[a[6g]](x[a[1H]]+ 1,x[a[1n]],1h,1f)};U[a[2B]]()}1e {if(n== 38){U[a[4d]]();U[a[6g]](x[a[1H]]- 1,x[a[1n]],1h,1f);U[a[2B]]()}1e {if(n== 40){U[a[4d]]();if(x[a[1H]]== U[a[1V]]- 1){U[a[6g]](U[a[1S]]+ U[a[1V]],x[a[1n]],1h,1f)}1e {U[a[6g]](x[a[1H]]+ 1,x[a[1n]],1h,1f)};U[a[2B]]()}}}}};if(U[a[MF]]){if(n== 13&& P){1d};t()};1d};if(x[a[132]]){U[a[cL]]()};1a D=1g;1a r,s;1a q=[];1a O=[];1a p=[];1a M=[];1a Z;if((v[a[85]]== a[9G]|| v[a[85]]== a[7w])&& bi(v[a[zC]])){D= 1f;r= v[a[zC]];s= v[a[1hv]]}1e {if(j[a[1G]]&& j[a[1G]][a[85]]== a[9G]&& bi(j[a[1G]][a[zC]])){D= 1f;r= j[a[1G]][a[zC]];s= j[a[1G]][a[1hv]]}};if(D&& bi(s)&& bi(r)){q= [o];O= [N];cd[a[1q]](r,1c(b,d){q[a[1s]](d);O[a[1s]](E[d]);E[d]= s[b];U[a[1x]][R][d]= s[b]})};if(C){E[f]= d;U[a[1x]][R][f]= d};if(U[a[1hw]]&& U[a[2H]]){if(U[a[fU]]&& U[a[qo]](R,m)){S= U[a[dM]](R,m);u= U[a[lX]](R,m);if(S!=  -1&& u!=  -1){U[a[u0]](S,u,o,K);J= 1f}}1e {if(U[a[yG]](R,m)){T= U[a[zK]](R,m);S= T[0];u= T[1];if(S!= u){p= [];M= [];1i(Z= S;Z<= u;Z++){p[a[1s]](U[a[8Y]](Z));M[a[1s]](K)};U[a[u0]](R,R,p,M);J= 1f}}}};E[o]= K;U[a[1x]][R][o]= K;U[a[df]]= 1f;U[a[8H]]= 1f;if(D){U[a[b1]](a[pg],E,q,O)}1e {if(!J){U[a[b1]](a[pg],E,o,N)}};if(X){z= U[a[vV]](R,E)};if(U[a[1Q]]){if((W= U[a[eM]](E[Q]))){W[o]= K;if(X){1i(V in z){W[V]= z[V]}};if(D&& bi(s)&& bi(r)){cd[a[1q]](r,1c(a,b){W[b]= s[a]})}};if(A){if(U[a[7x]]&& bi(U[a[7x]][a[5p]])&& U[a[7x]][a[5p]][a[19]](o)!==  -1){U[a[vQ]](E)}}};U[a[1ip]](o,{z8:X,Jw:A,2P:R,JF:g,3l:m});if(i(U[a[1I]][a[ny]])){U[a[z1]](R,m,j,E,K,N,1g,x[a[8i]],{1hz:J,s:S,e:u})};if(x[a[8D]]|| x[a[IE]]=== 1f){if(n== 9){L= x[a[1H]]}1e {if(n== 13&&  !P){if(x[a[1H]]== U[a[1V]]- 1){L= U[a[1S]]+ U[a[1V]]}1e {L= x[a[1H]]+ 1}}1e {if(n== 38){L= x[a[1H]]- 1}1e {if(n== 40){if(x[a[1H]]== U[a[1V]]- 1){L= U[a[1S]]+ U[a[1V]]}1e {L= x[a[1H]]+ 1}}}}};if(n== 9){U[a[4d]]();U[a[6g]](L,x[a[1n]]+ 1);U[a[2B]]()}1e {if(n== 13&&  !P){U[a[4d]]();U[a[6g]](L,x[a[1n]],1h,1f);U[a[2B]]()}1e {if(n== 38){U[a[4d]]();U[a[6g]](L,x[a[1n]],1h,1f);U[a[2B]]()}1e {if(n== 40){U[a[4d]]();U[a[6g]](L,x[a[1n]],1h,1f);U[a[2B]]()}}}}};if(!y[a[38]]){if(U[a[1hy]]<= 0){U[a[6B]]()}1e {8A(1c(){U[a[6B]]()},U[a[1hy]])};if(U[a[MF]]){if(n== 13&& P){1d}1e {t()}}};1d;1c t(){1a d,f;if(!x[a[8D]]|| U[a[5J]]==  -1 || U[a[7z]]==  -1){1d};d= U[a[5J]];f= U[a[7z]];if(n== 9){h= b[d][f];if(!l(h)){U[a[fG]](h[a[1H]],h[a[1n]],h,x[a[8i]])}}1e {if(n== 13){if(d< 0|| d>= b[a[59]]){1d};h= b[d][f];if(!l(h)){U[a[fG]](h[a[1H]],h[a[1n]],h,x[a[8i]])}}}}},1hx:1c(b){1a d=b[a[78]];d[a[zZ]](b)},1hJ:1c(f,g){1a p=1b;1a o=f[a[1H]];1a b=f[a[1n]];1a h=f[a[Ht]];1a d,k,q;1a m,n;1a j;1a i;if(l(g)){g= 1g};o= 1k[a[1F]](0,o);o= 1k[a[1A]](p[a[1lc]]()- 1,o);b= 1k[a[1F]](0,b);b= 1k[a[1A]](p[a[1tj]]()- 1,b);d= p[a[6u]](o,b);k= {x:d[a[130]],y:d[a[131]]};q= {3b:d[a[127]],4X:d[a[129]]};m= k[a[130]];n= k[a[131]];if(l(p[a[h9]])){p[a[h9]]=  1j O(a[24f]);p[a[210]](p[a[h9]])};p[a[h9]][a[139]][a[44]]= h;j= p[a[h9]][a[139]][a[3O]];i= p[a[h9]][a[139]][a[3T]];n= n- i;if(m+ j>= p[a[127]]){m= p[a[127]]- j- 20};if(n<= 0){n= k[a[131]]+ q[a[129]]};p[a[h9]][a[134]](m,n);if(!g){p[a[zP]]= 1f}},1hX:1c(n,d,b,j,q,h,k){1a o=1b;1a m=1f;1a g;1a r=o[a[3q]];h=  !!h;if(i(o[a[1I]][a[t2]])){1a f,l,p;f= o[a[6u]](n,d);p= {3b:f[a[127]],4X:f[a[129]]};l= cd[a[tx]](f[a[130]]+ 1,f[a[131]]+ 1,o[a[139]],r);g= {1P:a[t2],2y:o[a[2f]],2P:n,3l:d,4M:q,co:b[a[2a]],3i:cd[a[69]](1f,{},j),5l:b[a[1m]],a4:{x:l[a[130]],y:l[a[131]],1hW:f[a[130]]+ 1,1hV:f[a[131]]+ 1},lM:p,u5:!!h,fN:k?k:a[xb]};m= o[a[1I]][a[t2]](g);1d  1L m=== a[0]?1f:m};1d 1f},1hY:1c(m,d,b,h,o,k,g,j){1a n=1b;1a l;g=  !!g;if(i(n[a[1I]][a[t1]])){1a f={1P:a[t1],2y:n[a[2f]],2P:m,3l:d,4M:o,AL:k,co:b[a[2a]],3i:h,5l:b[a[1m]],u5:!!g,fN:j?j:a[xb]};l= n[a[1I]][a[t1]](f);1d  1L l=== a[0]?o:l};1d o},1hZ:1c(n,d,b,h,p,m,g,j,k){1a o=1b;g=  !!g;if(i(o[a[1I]][a[ny]])){1a f={1P:a[ny],2y:o[a[2f]],2P:n,3l:d,4M:p,AL:m,co:b[a[2a]],3i:cd[a[69]](1f,{},h),5l:b[a[1m]],u5:!!g,fN:j?j:a[xb],1i1:-1,1i0:-1};if(!l(k)&& k[a[24g]]){f[a[25Q]]= k[a[RD]];f[a[25R]]= k[a[pg]]};o[a[1I]][a[ny]](f)}},1hM:1c(j,d,b,g,l,f,h){1a k=1b;if(i(k[a[1I]][a[t3]])){k[a[1I]][a[t3]]({1P:a[t3],2y:k[a[2f]],2P:j,3l:d,4M:l,co:b[a[2a]],3i:cd[a[69]](1f,{},g),5l:b[a[1m]],u5:!!f,fN:h?h:a[xb]})}},1hL:1c(b){1a f=1b;1a d;if(i(f[a[1I]][a[QT]])){d= f[a[1I]][a[QT]]({1P:a[QT],2y:f[a[2f]],lc:b[a[111]],wK:b[a[113]],rk:b[a[5u]],aA:b})};1d  1L d=== a[0]?1f:d},1hO:1c(u){1a z=1b;1a k=z[a[2N]];1a p=z[a[1V]];1a w;1a y;1a m=0;1a h=z[a[1z]][a[59]];1a j;1a B,C,s;1a t;1a v;1a r;1a q,n;1a g;1a d=W[a[2k]][a[5N]];1a f=d* 2;1a b=z[a[6Y]];1a x=1h;1a o;1a A=a[58];if(!z[a[2I]]||  !z[a[3Z]]){1d};w= z[a[2I]][u];y= z[a[3Z]][u];if(p> 0&& u< p){v= u}1e {v= u+ z[a[1S]]};r= z[a[1x]][v];if(l(r)){1d};if(!l(w)){if(i(z[a[mG]])){x= z[a[mG]](v,r);if(x&& x!= A){C= z[a[3Y]][u];C[a[206]](x);if(b> 0){s= z[a[8L]][u];s[a[206]](x)}}1e {C= z[a[3Y]][u];C[a[207]]();if(b> 0){s= z[a[8L]][u];s[a[207]]()}}};1i(q= m;q< h;q++){t= w[q];j= t[a[1t]];if(j[a[2q]]=== 1g){1u};o= j[a[1m]];t[a[1B]]= r[o];if(t[a[dC]]){n= k[q]}1e {n= k[q]- f};if(n< 0){n= 0};t[a[194]](n);t[a[135]]();B= y[q];if(j&& j[a[7b]]&& i(j[a[7b]])){g= j[a[7b]](v,q,t[a[1B]],j[a[2a]],t[a[1w]],j[a[1m]]);if(g&& g!= a[58]){B[a[206]](g)}1e {if(x&& x!= a[58]){B[a[206]](x)}1e {B[a[207]]()}}}1e {if(x&& x!= a[58]){B[a[206]](x)}1e {B[a[207]]()}}}}},1hP:1c(n){1a A=1b;1a b=A[a[2I]];1a o=A[a[2N]];1a f=A[a[3Z]];1a p=0;1a k=A[a[1z]][a[59]];1a m;1a B;1a z=A[a[1S]];1a y=A[a[2u]];1a s=A[a[1x]];1a r=s[a[59]];1a t=A[a[1V]];1a x;1a v;1a d;1a q;1a j;1a g=W[a[2k]][a[5N]];1a h=g* 2;m= A[a[1z]][n];if(n>= k|| n< p|| l(m)|| m[a[2q]]=== 1g){1d};1i(1a u=0,w=1k[a[1A]](y,f[a[59]]);u< w;u++){if(t> 0&& u< t){d= u}1e {d= u+ z};if(d>= r){1l};x= b[u][n];v= s[d];m= x[a[1t]];x[a[1B]]= v[x[a[1m]]];if(x[a[dC]]){q= o[n]}1e {q= o[n]- h};if(q< 0){q= 0};x[a[194]](q);x[a[135]]();if(m&& m[a[7b]]&& i(m[a[7b]])){j= m[a[7b]](d,n,x[a[1B]],m[a[2a]],x[a[1w]],m[a[1m]]);if(j&& j!= a[58]){B= f[u][n];B[a[206]](j)}}}},1hR:1c(b){1a d=1b[a[l2]];b[a[92]]();d[a[27C]][a[21]](d,b)},1hr:1c(p){1a B=1b;1a j=p[a[111]];1a n=B[a[2p]];1a x=B[a[1M]];1a t=B[a[2D]][a[139]][a[2b]];1a g;1a r;1a s;1a f=B[a[5J]];1a d=B[a[7z]];1a b=B[a[2I]];1a h;1a q=B[a[1V]];1a A=B[a[1O]];1a i;1a u;1a o;1a v=[16,17,18,19,20,21,22,23,24,25,91,92,93,112,114,115,116,117,118,119,120,121,122,123,144,145];1a z;1a k;1a m;1a w;if(!(B[a[1J]]|| B[a[8o]])){1d};if(A[a[59]]<= 0||  !n){1d};if(v[a[19]](j)!=  -1){1d};if(f!=  -1&& d!=  -1){g= 1o(f);r= 1o(d);if(r< 0){1d};if(q> 0&& g< q){s= g}1e {s= g+ B[a[1S]]}}1e {s= B[a[2M]](A[0][0],x,B[a[1x]]);r= A[0][1];if(r< 0){1d};if(q> 0&& s< q){g= s}1e {g= s- B[a[1S]]}};if(r< 0){1d};if(g>= 0&& g< b[a[59]]){h= b[g][r];i= h[a[1t]]};if(l(i)|| i[a[2p]]=== 1g){1d};z= h[a[1H]];k= h[a[1n]];u= h[a[1w]];o= B[a[fM]](z,k,h[a[1B]],u,i);if(o){if(o[a[cB]]=== 1f){if(y[a[24]]&&  !y[a[7]]()){m= V[a[ae]];w=  1j 5s(a[lw]+ m+ a[lv],a[cN]);t= 1E(t)[a[56]](w,a[58]);if(o[a[dm]]){t= V[a[fV]](t)};if(t!= a[217]&& 1D(1o(t))){B[a[2D]][a[139]][a[2b]]= a[58];t= a[58];1d 1g};if(o[a[dm]]){t= V[a[fV]](t)};B[a[2D]][a[1B]]= t;B[a[2D]][a[135]]();1d 1g}};if(o[a[qH]]=== 1f){if(j!= 113&&  !(j== 65&& p[a[113]]=== 1f)&& p[a[HO]]!== 1f&& j!= 18&&  !(j>= 33&& j<= 40)&& p[a[lI]]!= a[1jy]&& p[a[lI]]!= a[1js]){if(o[a[85]]== a[7w]){B[a[1hq]]()}1e {if(o[a[85]]== a[9c]){B[a[sn]](i,z,k,u)}}}};if(B[a[8o]]){B[a[27D]](z,k,p)}}},1h0:1c(b){1a d=1b[a[l2]];if(1b[a[2b]]!== a[58]&& d[a[8o]]=== 1g){d[a[1h6]][a[21]](d,{lc:229,nI:a[27B],1h2:1c(){}})}},1h3:1c(b){1a d=1b[a[l2]];b[a[92]]();d[a[1h6]][a[21]](d,b)},1h5:1c(x){1a T=1b;1a p=x[a[111]];1a q=1E(x[a[lI]])[a[13]]();1a r=x[a[113]];1a U=x[a[5u]];1a h=x[a[HO]];1a S=T[a[1O]];1a u=T[a[2p]];1a N=T[a[8o]];1a m=T[a[OJ]];1a k=T[a[OF]];1a C=1g;1a R=T[a[1M]];1a j;1a A;1a B;1a b=T[a[2I]];1a n;1a f=T[a[5J]];1a d=T[a[7z]];1a z=T[a[1V]];1a D=T[a[1o3]];1a E=1f;1a J=1g;1a g=1g;1a G=1g;1a o;1a H=[16,17,18,19,20,21,22,23,24,25,91,92,93,112,114,115,116,117,118,119,120,121,122,123,144,145,255];1a v;1a M;1a w=T[a[27A]];if(y[a[32]]){r= x[a[112]]};if(p== 229&& (q== a[27y]|| q== a[27z]|| q== a[27E]|| q== a[27F]|| q== a[27K]|| q== a[27L]|| q== a[jG])){1d};if(!N&& l(T[a[1J]])){E= T[a[27J]](x)};if(E=== 1g){x[a[91]]();T[a[cL]]();1d 1g};if(H[a[19]](p)!=  -1){1d};if(S[a[59]]<= 0){if(p== 9){x[a[91]]();T[a[dN]](0,T[a[dE]]());T[a[6B]]()};1d};if(f!=  -1&& d!=  -1){j= 1o(f);A= 1o(d);if(A< 0){1d};if(z> 0&& j< z){B= j}1e {B= j+ T[a[1S]]}}1e {B= T[a[2M]](S[0][0],R,T[a[1x]]);if(!r&&  !U && (T[a[1S]]> B- T[a[1V]]|| T[a[1S]]+ T[a[2u]]- 1<= B)){T[a[3m]](B- T[a[1V]])};A= S[0][1];if(A< 0){1d};if(z> 0&& B< z){j= B}1e {j= B- T[a[1S]]}};j= 1k[a[1F]](j,0);A= 1k[a[1F]](A,0);if(j>= 0&& j< b[a[59]]){n= b[j][A];o= n[a[1t]];v= T[a[fM]](n[a[1H]],n[a[1n]],n[a[1B]],n[a[1w]],o);if(u&& o[a[2p]]!== 1g&& v[a[85]]){if(v[a[85]]== a[7w]){if(N&& p== 40){J= 1f}1e {if(!l(T[a[4Y]])){J= 1f}}}1e {if(v[a[85]]== a[9c]){if(N&&  !l(T[a[4Y]])){J= 1f};if(N){if(l(T[a[4Y]])){G= 1f}1e {if(v[a[qN]]=== 1f){G= 1g}1e {if(T[a[wa]]=== 1g){G= 1f}}}}}1e {if(v[a[85]]== a[9G]){if(!l(T[a[1J]])){J= 1f}}1e {if(v[a[85]]== a[7F]|| v[a[85]]== a[8b]|| v[a[85]]== a[8d]){g= 1f;if(N&& p== 40){J= 1f}1e {if(v[a[iZ]]!== 1g&&  !l(T[a[1J]])){J= 1f}1e {if(!l(T[a[4Y]])){J= 1f}}}}}}}}}1e {1d};if(u&&  !N&& n&& n[a[1w]]&& p== 45){1a P=a[t0];if(r){P= a[sZ]};1a K=1h;if(i(T[a[1I]][a[u2]])){K= T[a[1I]][a[u2]]({1P:a[u2],2y:T[a[2f]],1iR:T[a[1z]],u5:1g})};if(l(K)){K= {};cd[a[1q]](T[a[1z]],1c(b,d){if(d[a[3W]]== a[4t]){K[d[a[1m]]]= k?1h:0}1e {K[d[a[1m]]]= m?1h:a[58]}});if(T[a[mR]]&&  !T[a[4z]]&& bi(T[a[1W]])&& T[a[1O]][a[59]]){Sj= T[a[5Z]](T[a[1O]][0][0],R,T[a[1x]]);if(Sj){cd[a[1q]](T[a[1W]],1c(a,b){K[b]= Sj[b]})}}};if(T[a[1Q]]){if(T[a[4z]]){1a O=T[a[5b]](n[a[1w]],R,T[a[2c]][a[4f]]);if(O){T[a[jd]](K,O[R],P)}1e {T[a[jd]](K,1h,P)}}1e {if(T[a[mR]]){T[a[eR]](K,P)}1e {1d}}}1e {T[a[eR]](K,P)};1d}1e {if(u&&  !N&& (p== 46|| (r&& U&& p== 68))){if(r&& (p== 46|| (U&& p== 68))){x[a[91]]();T[a[gd]](a[pa]);1d}1e {if(!r&&  !h &&  !U && p== 46){T[a[Hp]](a[58],46);1d}}}1e {if(u&&  !N&& p== 8&&  !r&&  !U){T[a[Hp]](a[58],8)}1e {if(u&&  !N&& h&& U&& p== 37){if(!T[a[9R]]){if(A< T[a[2o]]|| j< T[a[1V]]){x[a[91]]();1d 1g}};T[a[BR]]()}1e {if(u&&  !N&& h&& U&& p== 39){if(!T[a[9R]]){if(A< T[a[2o]]|| j< T[a[1V]]){x[a[91]]();1d 1g}};T[a[AW]]()}1e {if(u&&  !N&& h&& U&& p== 38){T[a[v7]]()}1e {if(u&&  !N&& h&& U&& p== 40){T[a[vj]]()}1e {if(u&& h&& p== 40&&  !l(T[a[2v]])&&  !l(T[a[2v]][a[139]])){T[a[tP]][a[21]](T[a[2v]][a[139]])}1e {if(U&& p>= 37&& p<= 40){if(!l(T[a[1J]])|| N){1d};if(T[a[5F]][a[19]](a[27I])>= 0){x[a[91]]();1a W=T[a[3k]];1a X=T[a[3u]];if(l(W)){W= B};if(l(X)){X= A};T[a[27G]](W,X,p);1d}}1e {if(D&& (p== 35|| p== 36)){if(!l(T[a[1J]])|| N){if(g&& J){T[a[i2]](p,o,n[a[1H]],n[a[1n]],n[a[1w]]);x[a[91]]();1d 1g};1d 1g};x[a[91]]();T[a[4d]]();if(p== 35){T[a[6g]](B,n[a[1n]],a[q0])}1e {T[a[6g]](B,n[a[1n]],a[q8])};T[a[2B]]()}1e {if((p== 9&& U)|| (!r&& p== 37)){if(p== 37&& g&& J){T[a[i2]](p,o,n[a[1H]],n[a[1n]],n[a[1w]]);x[a[91]]();1d 1g};if(G){1d 1g};if(!l(T[a[1J]])|| N){if(!l(T[a[1J]])){T[a[2l]](1g,1g,p)}1e {C= T[a[2D]][a[3R]](1g,p)}}1e {if(w&& p== 9&& T[a[27H]](B,A)){1d}};if(C){x[a[91]]();1d 1g};T[a[4d]]();x[a[91]]();T[a[6g]](B,A- 1);T[a[2B]]()}1e {if((p== 9&&  !U)|| (!r&& p== 39)){if(p== 39&& g&& J){T[a[i2]](p,o,n[a[1H]],n[a[1n]],n[a[1w]]);x[a[91]]();1d 1g};if(G){if(p== 9){x[a[91]]()};1d 1g};if(!l(T[a[1J]])|| N){if(!l(T[a[1J]])){T[a[2l]](1g,1g,p)}1e {C= T[a[2D]][a[3R]](1g,p)}}1e {if(w&& p== 9&& T[a[27x]](B,A)){1d}};if(C){x[a[91]]();1d 1g};T[a[4d]]();x[a[91]]();T[a[6g]](B,A+ 1);T[a[2B]]()}1e {if(!U&& r && p== 13){if(!l(T[a[1J]])|| N){if(!l(T[a[1J]])){T[a[2l]](1g,1g,p)}1e {C= T[a[2D]][a[3R]](1g,p)}};x[a[91]]();if(p== 13&& T[a[qE]]){1d 1g};T[a[4d]]();1a L=B+ 1;if(B== T[a[1V]]- 1){L= T[a[1S]]+ T[a[1V]]};if(T[a[5F]]== a[192]){T[a[6g]](L,A,a[eu],1f)}1e {T[a[6g]](L,A,1h,1f)};T[a[2B]]()}1e {if((p== 13&& U)|| (!r&& p== 38)){if(p== 38&& J){T[a[i2]](p,o,n[a[1H]],n[a[1n]],n[a[1w]]);x[a[91]]();1d 1g};if(G){x[a[91]]();1d 1g};if(!l(T[a[1J]])|| N){if(!l(T[a[1J]])){T[a[2l]](1g,1g,p)}1e {C= T[a[2D]][a[3R]](1g,p)}};x[a[91]]();if(C){1d 1g};if(p== 13&& T[a[qE]]){1d 1g};T[a[4d]]();if(T[a[EN]]&& p== 13){if(T[a[5F]]== a[192]){T[a[6g]](B- 1,A,a[dr],1f)}1e {T[a[6g]](B,A- 1)}}1e {if(T[a[5F]]== a[192]){T[a[6g]](B- 1,A,a[dr],1f)}1e {T[a[6g]](B- 1,A,1h,1f)}};T[a[2B]]()}1e {if((p== 13&&  !U)|| (!r&&  !h && p== 40)){if(p== 40&& J){T[a[i2]](p,o,n[a[1H]],n[a[1n]],n[a[1w]]);x[a[91]]();1d 1g};if(G){if((p== 13&&  !U&&  !r&&  !h)|| p== 40){T[a[sn]](o,n[a[1H]],n[a[1n]],n[a[1w]]);x[a[91]]();1d 1g}};if(!l(T[a[1J]])|| N){if(!l(T[a[1J]])){T[a[2l]](1g,1g,p)}1e {C= T[a[2D]][a[3R]](1g,p)};if(C|| (p== 13&& T[a[qE]])){x[a[91]]();1d 1g}};if(p== 13&& T[a[qE]]){x[a[91]]();1d 1g};x[a[91]]();T[a[4d]]();if(T[a[EN]]&& p== 13){T[a[6g]](B,A+ 1)}1e {1a L=B+ 1;if(B== T[a[1V]]- 1){L= T[a[1S]]+ T[a[1V]]};if(T[a[5F]]== a[192]){T[a[6g]](L,A,a[eu],1f)}1e {T[a[6g]](L,A,1h,1f)}};T[a[2B]]()}1e {if(p== 33){if(g&& J){T[a[i2]](p,o,n[a[1H]],n[a[1n]],n[a[1w]]);x[a[91]]();1d 1g};if(G){x[a[91]]();1d 1g};if(!l(T[a[1J]])|| N){T[a[2l]](1g,1g,p)};T[a[4d]]();x[a[91]]();if(T[a[3p]]){M= B- 10}1e {M= B- T[a[2u]]+ 1};T[a[6g]](M,A,a[RB],1f);T[a[2B]]()}1e {if(p== 34){if(g&& J){T[a[i2]](p,o,n[a[1H]],n[a[1n]],n[a[1w]]);x[a[91]]();1d 1g};if(G){x[a[91]]();1d 1g};if(!l(T[a[1J]])|| N){T[a[2l]](1g,1g,p)};T[a[4d]]();x[a[91]]();if(T[a[3p]]){M= B+ 10}1e {M= B+ T[a[2u]]- 1};T[a[6g]](M,A,a[RA],1f);T[a[2B]]()}1e {if(p== 36|| (r&& p== 38)){if(p== 36&& g&& J){T[a[i2]](p,o,n[a[1H]],n[a[1n]],n[a[1w]]);x[a[91]]();1d 1g};if(G){1d 1g};if(!l(T[a[1J]])|| N){T[a[2l]](1g,1g,p)};T[a[4d]]();x[a[91]]();T[a[6g]](0,A,a[1hn],1f);T[a[2B]]()}1e {if(p== 32&& T[a[1Q]]&& n&& n[a[1w]][a[4O]]&&  !(T[a[1W]][a[59]]> 0&& T[a[2H]])){if(!N){x[a[91]]();1a F=n[a[1w]][a[6k]];T[a[ag]](n[a[1w]],!F,1g,1g)}}1e {if(r&& p== 37){if(G){x[a[91]]();1d 1g};if(!l(T[a[1J]])|| N){T[a[2l]](1g,1g,p)};x[a[91]]();if(T[a[1Q]]&& n&& n[a[1w]][a[4O]]&& n[a[1w]][a[6k]]&&  !(T[a[1W]][a[59]]> 0&& T[a[2H]])){if(!N&& l(T[a[1J]])){T[a[ag]](n[a[1w]],1g,1g,1g)}}1e {T[a[4d]]();T[a[6g]](B,n[a[1n]],a[q8]);T[a[2B]]()}}1e {if(p== 35|| (r&& p== 40)){if(p== 35&& g&& J){T[a[i2]](p,o,n[a[1H]],n[a[1n]],n[a[1w]]);x[a[91]]();1d 1g};if(G){1d 1g};if(!l(T[a[1J]])|| N){T[a[2l]](1g,1g,p)};T[a[4d]]();x[a[91]]();T[a[6g]](T[a[1x]][a[59]]- 1,A,a[aE],1f);T[a[2B]]()}1e {if(r&& p== 39){if(G){x[a[91]]();1d 1g};if(!l(T[a[1J]])|| N){T[a[2l]](1g,1g,p)};x[a[91]]();if(T[a[1Q]]&& n&& n[a[1w]][a[4O]]&&  !n[a[1w]][a[6k]]&&  !(T[a[1W]][a[59]]> 0&& T[a[2H]])){T[a[ag]](n[a[1w]],1f,1g,1g)}1e {T[a[4d]]();T[a[6g]](B,n[a[1n]],a[q0]);T[a[2B]]()}}1e {if(u&& p== 113){x[a[91]]();if(!T[a[9R]]){if(A< T[a[2o]]|| j< T[a[1V]]){x[a[91]]();T[a[cL]]();1d 1g}};if(B>= T[a[1x]][a[59]]){1d};if(T[a[2p]]&&  !l(n)){T[a[fG]](B,A,n,113)}}1e {if(u&& p== 27){x[a[91]]();T[a[2l]](1f,1g,p);1d}1e {if(r&& p== 67){if(!T[a[HS]]){1d};T[a[1hp]]()}1e {if(u&& r&& p== 88){if(!T[a[HS]]){1d};T[a[1hp]]();T[a[Hp]](a[58],88)}1e {if(!N&& r &&  !U && p== 90){if((u|| T[a[Jq]])&& T[a[4j]]&& T[a[2Y]]){x[a[91]]();T[a[2l]](1f,1f);T[a[2Y]][a[wV]]()}}1e {if((!N&& r && p== 89) || (y[a[32]]&& U&& r&& p== 90)){if((u|| T[a[Jq]])&& T[a[4j]]&& T[a[2Y]]){x[a[91]]();T[a[2l]](1f,1f);T[a[2Y]][a[wE]]()}}1e {if(r){1d}1e {if(U&& N){if(v&& v[a[cB]]=== 1f){x[a[91]]()};1d}1e {if(B>= T[a[1x]][a[59]]){x[a[91]]();T[a[cL]]();1d 1g};if(j< 0|| A< 0){x[a[91]]();T[a[cL]]();1d 1g};if(j>= T[a[2I]][a[59]]|| A>= T[a[1z]][a[59]]){x[a[91]]();T[a[cL]]();1d 1g};if(l(n)){1d};1a I=[46,8,9,27,13];1a t=V[a[ae]];1a s=V[a[pU]];if(T[a[N9]]){if(N){if(T[a[dV]](v)){if(p=== 8|| p=== 46){T[a[2D]][a[IJ]](p);x[a[91]]()}}1e {if(v&& v[a[cB]]=== 1f){if(I[a[19]](p)!==  -1|| (p== 65&& r=== 1f)|| (p>= 35&& p<= 40)){1d};if(p>= 197){x[a[91]]();1d 1g};if((U|| p< 48|| p> 57)&& (p< 96|| p> 105)){if(!U&& s[a[19]](p)!==  -1){if(!v[a[tS]]|| 1E(T[a[2D]][a[139]][a[2b]])[a[19]](t)>= 0){x[a[91]]();1d 1g}}1e {if(!U&& (p== 189|| p== 109|| q== a[1hi])){if(!v[a[rP]]|| 1E(T[a[2D]][a[139]][a[2b]])[a[19]](a[217])>= 0){x[a[91]]();1d 1g}}1e {x[a[91]]();1d 1g}}}}};T[a[1hh]](n[a[1H]],n[a[1n]],x)}1e {if(!T[a[t6]](n[a[1w]],o,j)){x[a[91]]();T[a[cL]]();1d 1g};1a Q=T[a[fG]](B,A,n,a[uo],x);if(Q=== 1g){x[a[91]]();T[a[cL]]();1d 1g};if(T[a[dV]](v)){1d}1e {if(v&& v[a[cB]]=== 1f){if(p>= 197){x[a[91]]();1d 1g};if(I[a[19]](p)!==  -1|| (p== 65&& r=== 1f)|| (p>= 35&& p<= 40)){1d};if((U|| p< 48|| p> 57)&& (p< 96|| p> 105)){if(!U&& s[a[19]](p)!==  -1){if(!v[a[tS]]){x[a[91]]();1d 1g}}1e {if(!U&& (p== 189|| p== 109|| q== a[1hi])){if(!v[a[rP]]){x[a[91]]();1d 1g}}1e {x[a[91]]();1d 1g}}}}};T[a[1hh]](n[a[1H]],n[a[1n]],x)}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},1hb:1c(d){1a f=1g;1a b=[a[7F],a[8b],a[8d]];if((!l(d[a[tN]])&& d[a[85]]== a[Hl]) || (d[a[Hg]]=== 1f&& b[a[19]](d[a[85]])!=  -1)){f= 1f};1d f},1ha:1c(f,b,d){1a g=1b;if(i(g[a[1I]][a[tT]])){g[a[1I]][a[tT]][a[21]](d[a[77]]|| d[a[93]],{1P:a[tT],2y:g[a[2f]],2P:f,3l:b,aA:d})}},1h9:1c(f,b,d){1a g=1b;if(i(g[a[1I]][a[tQ]])){g[a[1I]][a[tQ]][a[21]](d[a[77]]|| d[a[93]],{1P:a[tQ],2y:g[a[2f]],2P:f,3l:b,aA:d})}},1hc:1c(b){1a d=b[a[78]];if(i(d[a[1I]][a[tT]])){d[a[1I]][a[tT]][a[21]](b[a[77]][a[139]],{1P:a[tT],2y:d[a[2f]],2P:b[a[1H]],3l:b[a[1n]],aA:b[a[fn]]})}},1hd:1c(b){1a d=b[a[78]];if(i(d[a[1I]][a[tQ]])){d[a[1I]][a[tQ]][a[21]](b[a[77]][a[139]],{1P:a[tQ],2y:d[a[2f]],2P:b[a[1H]],3l:b[a[1n]],aA:b[a[fn]]})}},27w:1c(b){b[a[92]]();b[a[91]]()},1hf:1c(b){b[a[92]]();1a f=1b;1a d=b[a[uj]]&& b[a[uj]][a[Ak]]?b[a[uj]][a[Ak]](a[27m]):W[a[uj]]&& W[a[uj]][a[Ak]]?W[a[uj]][a[Ak]](a[2hh]):1g;if(d!== 1T&& f[a[l2]]){if(!f[a[l2]][a[8o]]){b[a[91]]();f[a[l2]][a[27l]](d)}}},1he:1c(o){1a O=1b;if(!O[a[2p]]||  !O[a[1x]]){1d};if(!O[a[HS]]){1d};1a J=O[a[1M]];1a q=O[a[1x]];1a r=O[a[1z]];1a N=O[a[zO]]();1a L;1a P=-1;1a M=N[1];1a E=M;1a I;1a g;1a h;1a y;1a u,z,A,B;1a j=0;1a K;1a T,R;1a b;1a D;1a Q;1a p=q[a[59]];1a v=O[a[fW]]();1a x=O[a[oe]]();1a H=1f;1a n=O[a[Ow]];1a w=O[a[27k]];1a F=[];1a G=1f;1a t=1g;1a s=i;1a k=O[a[27h]];1a C=O[a[27i]];1a S=O[a[27j]];1a d=[];1a f={6L:1o[a[5E]],7E:-1,5Y:1o[a[5E]],9O:-1};if(n){v= 1f};if(!O[a[2p]]){1d};P= N[0];if(l(P)|| P< 0){if(O[a[1x]][a[59]]<= 0){P= 0;M= 0;E= 0}1e {1d}};if(!O[a[mR]]&& O[a[1W]] && O[a[1W]][a[59]]> 0){if(M< O[a[1W]][a[59]]){1d}};if(s(O[a[1I]][a[Iy]])){H= O[a[1I]][a[Iy]]({1P:a[Iy],2y:O[a[2f]],AE:o});if(H=== 1g){1d}1e {if(bi(H)){L= H}}};if(!bi(L)){L= cd[a[27o]](o,a[eW])};Q= {};cd[a[1q]](r,1c(b,d){Q[d[a[1m]]]= a[58]});if(O[a[1O]][a[59]]> 1&& x&& v&& (!(O[a[3t]]== 0&& O[a[3u]]== r[a[59]]- 1)|| L[a[59]]<= 1)){O[a[za]](O[a[1O]],L,a[ck]);if(s(O[a[1I]][a[uf]])){H= O[a[1I]][a[uf]]({1P:a[uf],2y:O[a[2f]],AE:L})};1d};if(!v){M= 0};1i(u= 0,A= L[a[59]];u< A;u++){I= L[u];g= I;K= u+ P;if(K>= p&& w){t= 1f;f[a[154]]= 1k[a[1A]](f[a[154]],K);f[a[4S]]= 1k[a[1F]](f[a[4S]],K)}1e {if(K< p){y= q[K];j= 0;if(v){j= j+ M};1i(z= 0,B= g[a[59]];z< B;z++,j++){if(j>= r[a[59]]){1l};h= r[j];if(h[a[2q]]=== 1g){h= O[a[1iU]](j);if(!h){1l};j= h[a[1n]]};f[a[152]]= 1k[a[1A]](f[a[152]],j);f[a[3H]]= 1k[a[1F]](f[a[3H]],j);F[a[1s]]([y[J],j])}}};f[a[154]]= 1k[a[1A]](f[a[154]],K);f[a[4S]]= 1k[a[1F]](f[a[4S]],K)};if(t){O[a[za]](F,L,a[ck],f);b= [];1i(u= 0,A= L[a[59]];u< A;u++){I= L[u];g= I;K= u+ P;if(K< p){1u};if(s(O[a[1I]][a[u2]])){D= O[a[1I]][a[u2]]({1P:a[u2],2y:O[a[2f]],1iR:r,u5:1f});if(m(D)){D= {}}}1e {D= cd[a[69]](1f,{},Q)};j= 0;if(v){j= j+ M};1i(z= 0,B= g[a[59]];z< B;z++,j++){if(j>= r[a[59]]){1l};h= r[j];if(h[a[2q]]=== 1g){h= O[a[1iU]](j);if(!h){1l};j= h[a[1n]]};if(S&& h[a[2p]]=== 1g){1u};T= g[z];R= O[a[IT]](T,h);G= O[a[1it]](K,D[h[a[1m]]],R,D,h,1f);if(G[a[1gO]]=== 1g){1u};R= G[a[2b]];if(!C&& s(O[a[1I]][a[t2]])){G= 1f;G= O[a[De]](K,j,h,D,D[h[a[1m]]],1f,a[ck]);if(G=== 1g){1u}};if(s(O[a[1I]][a[t1]])){R= O[a[JJ]](K,j,h,D,R,D[h[a[1m]]],1f,a[ck])};if(R=== D[h[a[1m]]]){if(s(O[a[1I]][a[t3]])){O[a[Kg]](K,j,h,D,R,1f,a[ck])};1u};if(s(O[a[1I]][a[ny]])){if(k){d[a[1s]]({2P:K,3l:j,je:h,I2:D,4M:R,AL:D[h[a[1m]]]})}1e {O[a[z1]](K,j,h,D,R,D[h[a[1m]]],1f,a[ck])}};D[h[a[1m]]]= R;f[a[152]]= 1k[a[1A]](f[a[152]],j);f[a[3H]]= 1k[a[1F]](f[a[3H]],j)};b[b[a[59]]]= D};O[a[eR]](b,a[7G],{mt:1g,fS:1g,B8:1f});if(k&& s(O[a[1I]][a[ny]])){1i(u= 0,A= d[a[59]];u< A;u++){I= d[u];O[a[z1]](I[a[1H]],I[a[1n]],I[a[5L]],I[a[7Y]],I[a[2b]],I[a[tX]],1f,a[ck])}}}1e {O[a[za]](F,L,a[ck],f)};if(!O[a[fW]]()){if(n){f[a[3H]]= f[a[152]]= E}1e {if(f[a[154]]== f[a[4S]]){f[a[3H]]= f[a[152]]= E}}};O[a[tj]](f[a[154]],f[a[4S]],f[a[152]],f[a[3H]]);if(i(O[a[1I]][a[uf]])){O[a[1I]][a[uf]]({1P:a[uf],2y:O[a[2f]],AE:L})}},1iV:1c(){1a b=1b;if(b[a[5F]]== a[192]){1d}},1iX:1c(k,l,o,f){1a j=1b;1a h,b,n,m;1a g;1a d;if(i(j[a[1I]][a[I6]])){if(j[a[1O]][a[59]]> 0){h= j[a[HU]](j[a[1O]][0][0]);b= j[a[1O]][0][1]}1e {h=  -1;b=  -1};if(f=== 1f){n= k}1e {n= k==  -1?-1:j[a[8s]](k)};m= l;d= {1P:a[I6],2y:j[a[2f]],2P:h,3l:b,tM:n,HX:m,5l:j[a[8Y]](m),fN:o};g= j[a[1I]][a[I6]](d);if(d[a[92]]=== 1f){j[a[xC]]= j[a[5F]];if(j[a[5F]]== a[1iW]){j[a[5F]]= a[nO]}1e {if((j[a[5F]]= a[1iQ])){j[a[5F]]= a[tW]}1e {j[a[xC]]= 1h}}}};1d  1L g=== a[0]?1f:g},1iP:1c(){1a v=1b;1a u=v[a[5F]];1a w=v[a[1n4]];1a f=v[a[1z]];1a b=v[a[2I]];1a l=!v[a[fW]]();1a p;1a t;1a m;1a g;1a s,o;if(u== a[192]){1d};m= 1g;if(i(v[a[1I]][a[FU]])){p= v[a[CJ]];t= v[a[1O]];if(t&& p&& t[a[59]]== p[a[59]]){1i(1a k=0,n=t[a[59]];k< n;k++){s= t[k];o= p[k];if(l&&  !w){if(s[0]!= o[0]){m= 1f;1l}}1e {if(s[0]!= o[0]|| s[1]!= o[1]){m= 1f;1l}}}}1e {m= 1f};if(m){1a q={};1a j;1a h=t[0];1a x;1a d;1a r;if(h){x= h[0];d= 1o(h[1]);r= v[a[2M]](x,v[a[1M]],v[a[1x]]);if(r!=  -1){j= v[a[1x]][r];q[a[1H]]= 1o(r);q[a[1n]]= 1o(d);q[a[1m]]= f[d][a[1m]];q[a[2a]]= f[d][a[2a]];q[a[oE]]= j[v[a[1M]]];q[a[4k]]= j;if(d!=  -1){q[a[2p]]= v[a[t6]](j,f[d],1o(r));if(b[0][d][a[3S]]){q[a[2b]]= b[0][d][a[3S]](j[q[a[1m]]],q[a[1H]],q[a[1n]],j,f[d])}}}}1e {q= {}};g= {1P:a[FU],2y:v[a[2f]],27p:q};if(!v[a[27u]]){g[a[1O]]= v[a[Jm]]()};v[a[1I]][a[FU]](g)}};v[a[CJ]]= v[a[1O]]},1iH:1c(){1a d=1b;1a f,b;f= d[a[1hE]](1f);if(i(d[a[1I]][a[FM]])){b= d[a[1I]][a[FM]]({1P:a[FM],2y:d[a[2f]],3D:f});if(b=== 1g){1d}1e {if(b!== 1T){f= b}}};cd[a[27v]](f,d[a[27t]]);bL(200)[a[8z]](1c(){d[a[6B]]();if(i(d[a[1I]][a[FE]])){b= d[a[1I]][a[FE]]({1P:a[FE],2y:d[a[2f]],3D:f})}})},1iO:1c(m){1a x=1b;1a k=x[a[1x]];1a b=x[a[2I]];1a t;1a w,s;1a d;1a j;1a f=x[a[1z]];1a v;1a q;1a y=a[58];1a u=-1;1a B;1a n,r;1a g=x[a[1n7]];1a p=i(x[a[Gc]])?1f:1g;1a h=x[a[Ow]];1a o=x[a[fW]]();1a A;1a z=1T;if(l(m)){m= 1f};m=  !!m;if(h){w= x[a[Gz]](1f)}1e {w= x[a[Gz]]()};s= w[a[59]]- 1;if(!h&&  !o){1i(n= 0;n<= s;n++){v= w[n];B= v[a[1H]];q= k[B];1i(r= 0;r< f[a[59]];r++){d= f[r];if(d[a[2q]]=== 1g&& m){1u};j= d[a[1m]];if(q[j]=== z|| q[j]=== 1h){t= a[58]}1e {t= q[j]};if(p){g= x[a[Gc]](B,r,t,q,d)};if(g&& b[0][r][a[3S]]){A= b[0][r][a[3S]](t,B,r,q,d)+ a[eW]}1e {A= t+ a[eW]};if(/[\\r|\\n]/g[a[25]](A)){A= a[ah]+ A+ a[ah]};y+= A};y= y[a[60]](0,y[a[59]]- 1);if(n<= s){y+= a[ge]}}}1e {1i(n= 0;n<= s;n++){v= w[n];if(n== 0){u= v[a[1H]]};B= v[a[1H]];r= v[a[1n]];q= k[B];d= f[r];if(d[a[2q]]=== 1g&& m){1u};j= d[a[1m]];if(q[j]=== z|| q[j]=== 1h){t= a[58]}1e {t= q[j]};if(p){g= x[a[Gc]](B,r,t,q,d)};if(g&& b[0][r][a[3S]]){A= b[0][r][a[3S]](t,B,r,q,d)}1e {A= t};if(u!= v[a[1H]]){y= y[a[60]](0,y[a[59]]- 1);if(n<= s){y+= a[ge]}}1e {if(A=== a[58]&& n== s){y+= a[ge]}};u= v[a[1H]];if(/[\\r|\\n]/g[a[25]](A)){A= a[ah]+ A+ a[ah]};y+= A;if(n!= s){y+= a[eW]}}};1d y},1iN:1c(n){1a p=1b[a[144]];1a d=p[a[5J]];1a b=p[a[7z]];1a i,k,o,q;1a f,g;1a h;1a r=1h;1a m;1a j;if(d==  -1|| b==  -1){1d};f= 1o(d);g= 1o(b);h= p[a[2I]][f][g];i= h[a[1t]];j= i[a[1m]];if(n){if(l(p[a[1J]])){p[a[6B]]()};n[a[92]]();n[a[91]]()};if(h[a[1H]]< 0|| h[a[1n]]< 0){1d};m= p[a[fM]](h[a[1H]],h[a[1n]],h[a[1B]],h[a[1w]],i);if(p[a[3g]]){p[a[pb]](g,f)};if(m[a[85]]== a[7F]|| m[a[85]]== a[8b]|| m[a[85]]== a[8d]){if(!l(p[a[1J]])&& m[a[iZ]]!== 1g){p[a[2l]](1g,1g,a[lE]);1d 1g}};if(m[a[85]]== a[9c]){if(l(p[a[1J]])&&  !p[a[8o]]){p[a[fG]](h[a[1H]],h[a[1n]],h,a[lE])}1e {p[a[sn]](i,h[a[1H]],h[a[1n]],h[a[1w]])};1d};if(!l(p[a[1J]])|| p[a[8o]]){if(l(p[a[4Y]])&& m&& (m[a[85]]== a[7w]|| m[a[85]]== a[7F]|| m[a[85]]== a[8b]|| m[a[85]]== a[8d])){k= p[a[6u]](f,g,1f);o= {x:k[a[130]],y:k[a[131]]};q= {3b:k[a[127]],4X:k[a[129]]};if(m[a[85]]== a[7w]){if(m[a[qT]]=== 1f){if(l(p[a[4D]][j])|| p[a[4D]][j][a[59]]<= 0){p[a[8H]]= 1f};if(p[a[8H]]){p[a[iF]](i)}};if(!l(p[a[1J]])){r= p[a[1J]][a[139]][a[2b]]}1e {if(!l(p[a[2D]])){r= p[a[2D]][a[139]][a[2b]]}}};p[a[lV]](o,q,h,r)}1e {p[a[2l]](1g,1g,a[lE])};1d 1g};if(m&& m[a[85]]== a[7w]&& m[a[qT]]=== 1f){if(l(p[a[4D]][j])|| p[a[4D]][j][a[59]]<= 0){p[a[8H]]= 1f};if(p[a[8H]]){p[a[iF]](i)}};p[a[fG]](h[a[1H]],h[a[1n]],h,a[lE]);1d 1g},1iM:1c(j){1a k=1b[a[144]];1a b,d;1a f;1a g;1a i;1a h;if(j){j[a[92]]();j[a[91]]()};b= 1o(k[a[4n]][a[4a]]);d= 1o(k[a[4n]][a[7Z]]);if(bl(b)|| bl(d)){1d};f= k[a[2I]][b][d];g= f[a[1t]];h= g[a[1m]];if(f[a[1H]]< 0|| f[a[1n]]< 0){1d};if(k[a[3g]]){k[a[pb]](d,b)};i= k[a[fM]](f[a[1H]],f[a[1n]],f[a[1B]],f[a[1w]],g);if(i[a[85]]== a[7F]|| i[a[85]]== a[8b]|| i[a[85]]== a[8d]){if(!l(k[a[1J]])&& i[a[iZ]]!== 1g){k[a[2l]](1g,1g,a[lE])}};if(!l(k[a[1J]])|| k[a[8o]]){k[a[2l]](1g,1f,a[lE])};if(i&& i[a[85]]== a[7w]&& i[a[qT]]=== 1f){if(l(k[a[4D]][h])|| k[a[4D]][h][a[59]]<= 0){k[a[8H]]= 1f};if(k[a[8H]]){k[a[iF]](g)}};if(!l(k[a[4n]])){k[a[4n]][a[213]](1g)};k[a[dN]](f[a[1H]],f[a[1n]]);k[a[fG]](f[a[1H]],f[a[1n]],f,a[lE])},1iY:1c(b){1a g=1b[a[144]];1a f=1b[a[Lc]];1a d=cd[a[69]]([],g[a[1W]]);d[a[2E]](f,1);g[a[te]](d)},1iZ:1c(d){1a f=d[a[78]];1a b=d[a[1t]];if(i(f[a[1I]][a[Ln]])){f[a[1I]][a[Ln]][a[21]](d[a[77]]|| d[a[93]],{1P:a[Ln],2y:f[a[2f]],5l:b[a[1m]],co:b[a[2a]],3l:b[a[1n]],zY:d[a[fn]][a[99]],zX:d[a[fn]][a[105]],aA:d[a[fn]]})}},1jc:1c(b){1a d=1b[a[144]];if(b[a[85]]!= a[2i]){b[a[92]]()}1e {if(d[a[5F]]!== a[192]){b[a[91]]()}};d[a[27s]][a[21]](1b,b)},1ja:1c(s){1a p=1b;1a N=p[a[144]];1a R=p[a[hT]];1a E=1g;1a g=N[a[5g]][a[7Y]];1a u=N[a[1z]];1a h;1a d;1a j;1a C;1a I;1a t=N[a[2o]];1a i=N[a[2N]];1a q=N[a[MO]];1a b=N[a[2O]];1a S=N[a[3q]];1a P=1h;1a o=a[BF];1a k;1a m;1a F;1a G;1a Q;1a B;1a A;d= N[a[5Z]](R,b,u);if(l(d)){d= N[a[5Z]](R,b,g);E= 1f};if(l(d)){1d};B= N[a[6o]](d[a[2x]]- 1);h= d[a[1n]];if(N[a[7r]]&& q){if(d[a[Kh]]=== 1f){if(d[a[sP]]=== 1f|| h< t){1d}1e {o= a[C5]}}1e {if(d[a[sP]]=== 1f|| h< t){o= a[eU]}1e {o= a[BF]}}}1e {if(N[a[7r]]){o= a[eU];if(d[a[Kh]]=== 1f){1d}}1e {if(N[a[MO]]){o= a[C5];if(d[a[sP]]=== 1f|| h< t){1d}}1e {1d}}};if(E){if(o== a[eU]){1d}1e {if(o== a[BF]){o= a[C5]}}};j= d[a[1m]];C= l(d[a[2a]])?j:1E(d[a[2a]])[a[178]]()== a[58]?a[58]:d[a[2a]];N[a[ta]]= 1h;N[a[vC]]= 1g;1a H=1N[a[10]](a[43]);H[a[1j2]]= 1c(){1d 1g};H[a[169]][a[183]]= a[184];H[a[169]][a[190]]= a[192];if(S!= 1){H[a[169]][a[155]]= a[CE]+ S+ a[173];H[a[169]][a[27q]]= a[27r]}1e {H[a[169]][a[155]]= a[192]};N[a[3Q]][a[185]](H);if(o== a[BF]|| o== a[eU]){H[a[165]]= a[Kt]}1e {H[a[165]]= a[27M]};if(E){1a f=h+ d[a[8a]];I= 0;1i(1a D=h;D< f;D++){I+= i[D]}}1e {I= i[h]};H[a[169]][a[127]]= I+ a[149];if(o== a[C5]){A= d[a[vh]]+ a[149];H[a[169]][a[129]]= A;H[a[169]][a[ke]]= A};if(s[a[85]]== a[2X]){Q= s[a[3P]][0];k= F= Q[a[99]]/S;m=G=Q[a[105]]/ S}1e {k= F= s[a[99]]/S;m=G=s[a[105]]/ S};1a J=k- cd[a[99]](1b,S);1a K=m- cd[a[105]](1b,S);1a w=cd[a[99]](N[a[139]],S);1a x=cd[a[105]](N[a[139]],S);1a n=N[a[1jf]];1a M=N[a[kd]]+ N[a[6Y]];if(N[a[2w]]){M-= N[a[3w]]};if(q&& d[a[sP]]!== 1f){if(s[a[85]]== a[2i]){s[a[91]]()};if(l(N[a[3V]])){N[a[3V]]=  1j O();N[a[3V]][a[133]](1,N[a[129]]);N[a[3V]][a[134]](0,0);N[a[di]](N[a[3V]])}1e {N[a[di]](N[a[3V]])};N[a[3V]][a[202]](a[165],a[27N])};if(s[a[85]]== a[2X]){s[a[91]]();r(1N,a[4T],y);r(1N,a[4V],z)}1e {r(1N,a[6q],y);r(1N,a[4i],z)};1d 1g;1c y(b){1a g,i;1a p,r,s;1a f;1a u;if(b[a[85]]== a[4T]){u= b[a[3P]][0];g= F= u[a[99]]/S;i=G=u[a[105]]/ S}1e {g= F= b[a[99]]/S;i=G=b[a[105]]/ S};b[a[91]]();b[a[92]]();if(1k[a[243]](k- g)> 2|| 1k[a[243]](m- i)> 2){H[a[44]]= C;r= g- w- J;if(N[a[7r]]){s= i- x- K}1e {s= B};p= cd[a[tx]](r,s,N[a[139]],S);if(N[a[hr]]){p= cd[a[wr]](p[a[130]],p[a[131]],N[a[3Q]],S);if(N[a[3Q]][a[103]]> 0){p[a[130]]+= N[a[3Q]][a[103]]}};H[a[169]][a[152]]= p[a[130]]+ a[149];H[a[169]][a[154]]= p[a[131]]+ a[149];H[a[169]][a[190]]= a[191];if(q&& h>= t){if(d[a[sP]]!== 1f){f= g- w;if(N[a[6Y]]<= f&& f<= M){if(P!== 1h){gR(P)};P= 1h};if(N[a[3g]]&& P=== 1h&& (M< f|| f< N[a[6Y]])){P= gI(1c(){if(M< f){N[a[kb]](N[a[4h]]+ n)}1e {if(f< N[a[6Y]]){N[a[kb]](N[a[4h]]- n)}};if(N[a[4h]]!= 0){if(!l(N[a[3V]])){N[a[3V]][a[213]](1g)}}},N[a[Ba]])};L(d,g- w,i- x)}};1a j;1a o;if(N[a[7r]]&& d[a[Kh]]!== 1f&&  !E){j= cd[a[99]](N[a[dh]][a[139]],S);o= cd[a[105]](N[a[dh]][a[139]],S);if(j< g&& g< j+ N[a[127]]&& o< i&& o+ N[a[6M]]> i){H[a[165]]= a[28j];N[a[vC]]= 1f;if(q){N[a[3V]][a[213]](1g)}}1e {N[a[vC]]= 1g;if(q&& d[a[sP]]!== 1f){N[a[3V]][a[213]](1f)};if(H[a[165]]!= a[Kt]){H[a[165]]= a[Kt]}}}}}1c z(b){if(b[a[85]]== a[4V]){bA(1N,a[4T],y);bA(1N,a[4V],z)}1e {bA(1N,a[6q],y);bA(1N,a[4i],z)};if(P!== 1h){gR(P)};P= 1h;b[a[91]]();b[a[92]]();H[a[169]][a[190]]= a[192];if(b[a[85]]== a[4V]){if(1k[a[243]](F- k)<= 5&& 1k[a[243]](G- m)<= 5){N[a[JU]][a[21]](p,s)}};if(N[a[vC]]){N[a[vC]]= 1g;H[a[165]]= a[28k];if(j){if(l(N[a[1W]])){N[a[1W]]= []};1a f=cd[a[69]]([],N[a[1W]]);1a g=-1;cd[a[1q]](f,1c(a,b){if(b== j){g= a;1d 1g}});if(g>= 0){if(g== f[a[59]]- 1){1d};f[a[2E]](g,1)};f[a[1s]](j);N[a[te]](f)}}1e {if(N[a[3V]]){N[a[3V]][a[213]](1g)};if(q&& N[a[ta]]){N[a[28i]](d,N[a[ta]])}};H[a[1j2]]= 1h;if(H[a[95]]!== 1h){H[a[95]][a[188]](H)};H= 1h;p= 1h}1c L(d,k,l){1a f=N[a[2N]];1a g=N[a[2o]];1a q=0;1a h;1a n;1a p=0;1a o=f[a[59]]- 1;1a r=-1;1a m=0;1a i;if(N[a[3g]]){k+= N[a[2C]][a[2K]]};k-= N[a[6Y]];if(d[a[2x]]> 1){n= N[a[5b]](d,b,N[a[5g]][a[7Y]]);p= n[a[1n]];o= n[a[1n]]+ n[a[8a]]- 1;1i(1a j=g;j< p;j++){q+= f[j]};m+= q}1e {p= g;o= f[a[59]]- 1};1i(1a j=p;j<= o;j++){m+= f[j]};if(k<= f[p]* 0.5){r= p}1e {if(k>= m- f[o]* 0.5){r= a[7G]}1e {1i(1a j=p;j<= o;j++){if(k>= q- h){r= j};q+= f[j];h= f[j]* 0.5};if(r==  -1){if(k>= q){r= o}1e {r= p}}}};if(r!= a[7G]){1a s=N[a[1z]][r];if(d[a[2x]]!= s[a[2x]]){s= v(d,s)};r= s[a[1n]];i= N[a[b6]][r];if(i&& i[a[189]]=== 1g&& r< N[a[1z]][a[59]]){N[a[ta]]= 1h;N[a[3V]][a[213]](1g);1d};N[a[ta]]= s;q= 0;1i(1a j=N[a[2o]];j< r;j++){q+= f[j]};N[a[3V]][a[213]](1f);N[a[3V]][a[134]](q,N[a[m5]](d[a[2x]])- N[a[m5]](d[a[2x]]));N[a[3V]][a[194]](4)}1e {N[a[ta]]= a[7G];N[a[3V]][a[213]](1f);N[a[3V]][a[134]](m,N[a[m5]](d[a[2x]])- N[a[m5]](d[a[2x]]));N[a[3V]][a[194]](4)}}1c v(b,d){if(b[a[2x]]== d[a[2x]]){1d d}1e {1a f=N[a[5b]](d,N[a[2O]],N[a[5g]][a[7Y]]);1d v(b,f)}}},1j1:1c(g){1a i=1b[a[144]];1a h;b();1a f=gI(1c(){b()},100);r(1N,a[4i],d);1c d(b){bA(1N,a[4i],d);gR(f)}1c b(){if(i[a[8h]]&& i[a[8h]][a[59]]> 0){h= i[a[8h]][0];if(h&& 20<= h[a[130]]){1d}};i[a[vb]]+= 20;i[a[LW]](i[a[vb]])}},1j0:1c(g){1a i=1b[a[144]];1a h;b();1a f=gI(1c(){b()},100);r(1N,a[4i],d);1c d(b){bA(1N,a[4i],d);gR(f)}1c b(){if(i[a[8h]]&& i[a[8h]][a[59]]> 0){h= i[a[8h]][i[a[8h]][a[59]]- 1];if(h&& i[a[127]]- 20>= h[a[130]]+ h[a[139]][a[3O]]){1d}};i[a[vb]]-= 20;i[a[LW]](i[a[vb]])}},1j3:1c(j,b,n,f,m,d){if(l(j)||  !j[a[59]]|| j[a[59]]<= 0){6h  1j 6G(a[Gt]);1d};1a k=1b;1a h=j[a[19]](a[7T]);1a g=j[a[60]](h+ 1);1a i=1N[a[gH]](g);if(l(i)){6h  1j 6G(a[Gt]);1d};i[a[169]][a[183]]= a[eV];if(bl(n)){n= i[a[3O]]};if(bl(f)){f= i[a[3T]]};if(n<= 5){n= aH};if(f<= 5){f= aH};if(d[a[2H]]){k[a[1j4]]= d[a[2H]]};if(d[a[ef]]){i[a[169]][a[129]]= a[7d]};k[a[KD]]= f;k[a[133]](n- 2,f- 2);b= k[a[Kz]](b);if(bi(m)){m= k[a[28h]](m)};k[a[wn]](b,1f,m);k[a[2f]]= j;k[a[kK]]= g;k[a[135]]();k[a[145]]= 1h;i[a[185]](k[a[139]]);i= 1h;k[a[LW]]()},1j7:1c(b){1a h=1b;1a g=h[a[1W]]|| [];1a d=h[a[2H]];1a f=h[a[ex]];1a i=a[215];1a j=a[1j6];1a m=h[a[127]];1a k=1T;cd[a[1q]](b,1c(b,n){if(bi(n[a[1p]])){h[a[Kz]](n[a[1p]])};if(!l(n[a[1m]])){n[a[1m]]+= a[58]};if(n[a[127]]=== 0|| n[a[127]]=== i|| n[a[127]]=== j){n[a[2q]]= 1g;n[a[127]]= 0}1e {if(bm(n[a[127]])&& n[a[127]]< h[a[c0]]){n[a[127]]= h[a[c0]]}};h[a[nJ]]= 1g;if(n[a[1G]]&& n[a[1G]][a[85]]== a[me]){if(n[a[4s]]&& n[a[4s]][a[85]]== a[xt]){n[a[4s]][a[28f]]= n[a[4s]][a[5d]]=== k|| n[a[4s]][a[5d]]=== 1g?1g:1f}};if(bp(n[a[127]])&&  !bl(1o(n[a[127]]))){n[a[127]]= 1o(1o(n[a[127]])[a[128]](2))};if(!bl(n[a[127]])){n[a[127]]= 1k[a[1A]](m* 2,n[a[127]])};if(d&& f&& g[a[19]](n[a[1m]])!==  -1){n[a[2q]]= 1f};if(n[a[cW]]=== 1f&&  !bl(n[a[9g]])){n[a[FZ]]= n[a[cW]];n[a[yS]]= n[a[9g]]}});1d b},1j5:1c(b){cd[a[1q]](b,1c(b,d){if(d[a[1p]]){2j d[a[1p]]};if(l(d[a[1m]])){d[a[1m]]+= a[58]};if(d[a[cW]]=== 1f&&  !bl(d[a[9g]])){d[a[FZ]]= d[a[cW]];d[a[yS]]= d[a[9g]]}});1d b},IM:1c(){1a j=1b;1a d=j[a[1x]];1a i=j[a[1M]];1a b;1a f,g,m,k,l,h;b= j[a[1l7]]();if(b[a[59]]<= 0){1d []};h= [];k= [];1i(f= 0,g= b[a[59]];f< g;f++){k[k[a[59]]]= b[f][i]};l= j[a[1fw]](k,i,d);1i(f= 0,g= b[a[59]];f< g;f++){m= b[f];h[h[a[59]]]= {2P:l[m[i]],3i:m}};1d h[a[aP]](1c(b,d){1d b[a[1H]]< d[a[1H]]?-1:1})},IN:1c(){1a g=1b;1a b=g[a[3a]];1a f=[];1a d;if(!g[a[7A]]){1d []};1i(1a h in b){d= b[h];if(d=== 1h||  !d){1u};f[a[1s]](d)};1d cd[a[4R]](1f,[],f)},Ge:1c(){1a f=1b;1a b=f[a[3a]];1a g=[];1i(1a d in b){g[g[a[59]]]= d};f[a[1lh]](g);f[a[1kF]](1g)},I1:1c(g,b){1a k=1b;1a j=k[a[1M]];1a d=k[a[9X]]();1a h;1a m;if(l(j)||  !k[a[7A]]){1d 1g};if(!bi(g)){g= [g]};if(g[a[59]]<= 0|| g[0]=== 1h){k[a[3a]]= {};k[a[cC]]();k[a[5K]]();k[a[6a]]();k[a[5A]]();1d};g= cd[a[7V]](g);if(k[a[fH]]&& g[a[59]]> 0){g= g[a[222]](0,1)};if(l(k[a[3a]])){k[a[3a]]= {}};if(l(k[a[8r]])){k[a[8r]]= {}};if(!!b){k[a[3a]]= {};k[a[8r]]= {}};1i(1a f=0,i=g[a[59]];f< i;f++){m= g[f];h= k[a[5Z]](m,j,d);if(h){k[a[3a]][m]= h}};if(!k[a[fH]]&& k[a[1Q]] && k[a[nv]]){cd[a[1q]](k[a[3a]],1c(b,d){k[a[uk]](d)})};k[a[cC]]();k[a[5K]]();k[a[6a]]();k[a[5A]]()},I8:1c(d){1a h=1b;1a g=h[a[1M]];1a i;if(l(g)||  !h[a[7A]]|| l(h[a[3a]])){1d 1g};if(!bi(d)){d= [d]};d= cd[a[7V]](d);if(h[a[fH]]&& d[a[59]]> 0){d= d[a[222]](0,1)};1i(1a b=0,f=d[a[59]];b< f;b++){i= d[b];if( 1L h[a[3a]][i]!= a[0]){2j h[a[3a]][i]}};if(!h[a[fH]]&& h[a[1Q]] && h[a[nv]]){cd[a[1q]](h[a[3a]],1c(b,d){h[a[uk]](d)})};h[a[cC]]();h[a[5K]]();h[a[6a]]();h[a[5A]]()},Lr:1c(b){1a d=1b;if(l(d[a[3a]])){1d 1g};1d l(d[a[3a]][b])?1g:1f},G9:1c(d,j,b){1a h=1b;1a g;1a f;if(!h[a[7A]]|| l(d)){1d 1g};if(!bi(j)){j= [j]};if(j[a[59]]<= 0|| j[0]=== 1h){h[a[3a]]= {};h[a[cC]]();h[a[5K]]();h[a[6a]]();h[a[5A]]();1d};g= h[a[1M]];if(l(h[a[3a]])){h[a[3a]]= {}};if(l(h[a[8r]])){h[a[8r]]= {}};if(!!b){h[a[3a]]= {};h[a[8r]]= {}};f= h[a[9X]]();1a i=cd[a[9v]](j);if(h[a[fH]]){cd[a[1q]](f,1c(b,f){1a j=f[d];if(i[j]=== 1){h[a[3a]][f[g]]= f;1d 1g}})}1e {cd[a[1q]](f,1c(b,f){1a j=f[d];if(i[j]=== 1){h[a[3a]][f[g]]= f}});if(h[a[1Q]]&& h[a[nv]]){cd[a[1q]](h[a[3a]],1c(b,d){h[a[uk]](d)})}};h[a[cC]]();h[a[5K]]();h[a[6a]]();h[a[5A]]()},Lx:1c(b,j){1a g=1b;1a f;1a d;1a h=a[0];if(!g[a[7A]]|| l(b) || l(g[a[3a]])){1d 1g};if(!bi(j)){j= [j]};f= g[a[1M]];d= g[a[9X]]();1a i=cd[a[9v]](j);if(g[a[fH]]){cd[a[1q]](d,1c(d,k){1a l=k[b];1a j=k[f];if( 1L g[a[3a]][j]!= h&& i[l]=== 1){2j g[a[3a]][j];1d 1g}})}1e {cd[a[1q]](d,1c(d,k){1a l=k[b];1a j=k[f];if( 1L g[a[3a]][j]!= h&& i[l]=== 1){2j g[a[3a]][j]}});if(g[a[1Q]]&& g[a[nv]]){cd[a[1q]](g[a[3a]],1c(b,d){g[a[uk]](d)})}};g[a[cC]]();g[a[5K]]();g[a[6a]]();g[a[5A]]()},LB:1c(b){1a k=1b;1a j=k[a[1M]];1a m=k[a[2m]];1a g=k[a[la]];1a d;1a f,i;1a h;1a l;if(!k[a[7A]]){1d 1g};if(k[a[iM]]){k[a[7c]]= 1g;k[a[9h]][a[202]](a[5d],b);1d};if(g&&  !k[a[1Q]]){if(m){d= k[a[Hn]]()}1e {d= k[a[1x]]}}1e {d= k[a[9X]]()};k[a[3a]]= {};k[a[8r]]= {};if(b&&  !k[a[fH]]){k[a[7c]]= 1f;k[a[9h]][a[202]]({5T:1f,b9:1g});1i(f= 0,i= d[a[59]];f< i;f++){h= d[f];l= h[j];k[a[3a]][l]= h}}1e {k[a[7c]]= 1g;k[a[9h]][a[202]]({5T:1g,b9:1g})};k[a[5K]]();k[a[6a]]();k[a[5A]]()},Ji:1c(i){1a o=1b;1a n=o[a[1O]];1a d=o[a[1x]];1a l;1a j=[];1a p;1a g;1a m;1a k=o[a[1M]];i=  !!i;if(!n|| n[a[59]]<= 0){1d []};1i(1a f=0,h=n[a[59]];f< h;f++){m= n[f];p= m[0];l= o[a[2M]](p,k,d);if(l==  -1){1u};g= d[l];if(b(p)){1u};if(i){j[j[a[59]]]= {2P:1o(l),3i:cd[a[4R]](1f,{},g)}}1e {j[a[1s]](cd[a[4R]](1f,{},g))}};if(i){j= cd[a[mF]][a[21]](j,a[1H])};1d j;1c b(g){1a d=1g;1a b,f,h;1i(b= 0,f= j[a[59]];b< f;b++){if(i){h= j[b][a[4k]]}1e {h= j[b]};if(h[k]== g){d= 1f;1l}};1d d}},1iG:1c(l){1a r=1b;1a q=r[a[1O]];1a g=r[a[1x]];1a o,f;1a m=[];1a u;1a b={};1a j;1a s=a[5h];1a p;1a n=r[a[1M]];1a t;1a d;if(!q|| q[a[59]]<= 0){1d []};d= r[a[fW]]();if(!!l){d= 1f};1i(1a h=0,k=q[a[59]];h< k;h++){p= q[h];u= p[0];o= r[a[2M]](u,n,g);if(o==  -1){1u};f= p[1];j= 1E(o)+ s+ 1E(f);b[j]= 1f};1i(1a i in b){t= 1E(i)[a[54]](s);m[m[a[59]]]= {2P:1o(t[0]),3l:1o(t[1])}};if(d){m= cd[a[mF]][a[21]](m,a[1H],a[1n])}1e {m= cd[a[mF]][a[21]](m,a[1H])};1d m},1iF:1c(i,d){1a p=1b;1a f=p[a[1x]];1a o;1a m=[];1a s;1a b={};1a k;1a q=a[5h];1a h;1a n=p[a[1M]];1a r;if(!i|| i[a[59]]<= 0){1d []};1i(1a g=0,l=i[a[59]];g< l;g++){h= i[g];s= h[n];o= p[a[2M]](s,n,f);if(o==  -1){1u};k= 1E(o)+ q+ 1E(d);b[k]= 1f};1i(1a j in b){r= 1E(j)[a[54]](q);m[m[a[59]]]= {2P:1o(r[0]),3l:1o(r[1])}};m= cd[a[mF]][a[21]](m,a[1H],a[1n]);1d m},Jp:1c(q){1a w=1b;1a v=w[a[1O]];if(!v|| v[a[59]]<= 0){1d []};1a j=w[a[1x]];1a h=w[a[1z]];1a b=w[a[2I]];1a t,g;1a r=[];1a x;1a p;1a n;1a i;1a k;1a u;1a s=w[a[1M]];1a d=w[a[fW]]();if(!!q){d= 1f};1i(1a m=0,o=v[a[59]];m< o;m++){u= v[m];x= u[0];t= w[a[2M]](x,s,j);if(t==  -1){1u};g= 1o(u[1]);n= j[t];if(d){if(f(t,g)){1u};p= {};p[a[1H]]= 1o(t);p[a[1n]]= 1o(g);i= h[g][a[1m]];k= h[g][a[2a]];p[a[1m]]= i;p[a[2a]]= k;p[a[oE]]= n[w[a[1M]]];if(g!=  -1){p[a[2p]]= h[g][a[2p]]== 1g?1g:w[a[2p]];if(!w[a[9R]]&& (g< w[a[2o]]|| t< w[a[1V]])){p[a[2p]]= 1g};if(w[a[d4]](n)){p[a[2p]]= 1g};if(b[0][g][a[3S]]){p[a[2b]]= b[0][g][a[3S]](n[i],p[a[1H]],p[a[1n]],n,h[g])}}}1e {if(f(t)){1u};p= {};p[a[1H]]= 1o(t);p[a[1n]]= 1o(g);p[a[oE]]= n[w[a[1M]]];if(g!=  -1){i= h[g][a[1m]];k= h[g][a[2a]];p[a[1m]]= i;p[a[2a]]= k;p[a[2p]]= h[g][a[2p]]== 1g?1g:w[a[2p]];if(!w[a[9R]]&& (g< w[a[2o]]|| t< w[a[1V]])){p[a[2p]]= 1g};if(w[a[d4]](n)){p[a[2p]]= 1g}}};p[a[4k]]= cd[a[4R]](1f,{},n);r[a[1s]](p)};if(d){r= cd[a[mF]][a[21]](r,a[1H],a[1n])}1e {r= cd[a[mF]][a[21]](r,a[1H])};1d r;1c f(h,b){1a f=1g;1a d,g;if(l(b)){1i(d= 0,g= r[a[59]];d< g;d++){if(r[d][a[1H]]== h){f= 1f;1l}}}1e {1i(d= 0,g= r[a[59]];d< g;d++){if(r[d][a[1H]]== h&& r[d][a[1n]]== b){f= 1f;1l}}};1d f}},1ig:1c(h,b){1a i=1b;1a g=i[a[1M]];1a f=i[a[1x]];1a d=i[a[2N]];1a j;if(h< 0){h= 0}1e {if(h>= f[a[59]]){h= f[a[59]]- 1}};if(h< 0){1d};i[a[4d]]();j= f[h][g];if(l(b)){b= 0};if(b< 0){b= 0}1e {if(b>= d[a[59]]){b= d[a[59]]- 1}};if(l(j)){1d};i[a[3j]]= 1h;i[a[3k]]= 1h;i[a[3t]]= 1h;i[a[3u]]= 1h;i[a[cF]]= h;i[a[dy]]= b;i[a[1O]]= [[j,b]];i[a[2Q]]();i[a[2B]]();i[a[6B]]()},Kx:1c(h,b){1a i=1b;1a g=i[a[1M]];1a f=i[a[1x]];1a d=i[a[2N]];1a j;1a k;if(h< 0){h= 0}1e {if(h>= f[a[59]]){h= f[a[59]]- 1}};if(h< 0){1d};j= h;if(i[a[6D]]){i[a[2l]](1g,1f)}1e {i[a[2l]](1f,1f)};i[a[4d]]();k= f[h][g];if(l(b)){b= 0};if(b< 0){b= 0}1e {if(b>= d[a[59]]){b= d[a[59]]- 1}};if(l(k)){1d};i[a[3j]]= 1h;i[a[3k]]= 1h;i[a[3t]]= 1h;i[a[3u]]= 1h;i[a[cF]]= h;i[a[dy]]= b;i[a[1O]]= [[k,b]];i[a[2Q]]();i[a[2B]]();i[a[6B]]();if(i[a[2w]]){if(i[a[1V]]> 0){j-= i[a[1V]]};if(!i[a[2m]]&&  !i[a[3p]]){if(h>= i[a[1S]]+ i[a[2u]]- 1){i[a[3m]](j- i[a[2u]]+ 2)}1e {if(h< i[a[1S]]){i[a[3m]](j)}}}1e {if(i[a[2m]]){i[a[3m]](h)};if(i[a[3p]]){i[a[7W]](h,1f)}}}1e {if(i[a[2m]]){i[a[3m]](h)};if(i[a[3p]]){i[a[7W]](h,1f)}};i[a[eP]](b)},1if:1c(b){1a j=1b;1a f=j[a[2o]];1a h=0;1a d=j[a[2N]];if(1D(b)|| b< f){1d};if(j[a[3g]]){if(!j[a[28g]](b)){1i(1a g=f,i=b;g< i;g++){h+= d[g]};j[a[2C]][a[2r]](h)}}},1ie:1c(f,d,b){1a r=1b;1a j=r[a[lx]]- 1;1a k=r[a[4h]];1a i=r[a[2o]];1a h=r[a[2N]];1a q=-1;1a n=0;1a p=0;1a s=1h;1a g;1a m,o;if(1D(f)|| f< i){1d};if(!bl(d)){q= r[a[8s]](d)};f= 1k[a[1A]](f,h[a[59]]- 1);f= 1k[a[1F]](f,i);if(r[a[3g]]){1i(m= i,o= f;m< o;m++){n+= h[m]};p= n+ h[f];if(r[a[2H]]&& q>= 0){g= r[a[1ih]](q,f);if(g> 1){1i(m= f+ 1,o= f+ g;m< o;m++){p+= h[m]};f= f+ g- 1}};if(f>= i&& k> n){s= n- 1};if(b=== 1f){if(!l(s)){r[a[2C]][a[2r]](s)};1d};if(f>= j){s= p- r[a[kd]]+ 1;if(f== h[a[59]]- 1){s= r[a[2C]][a[5O]]}};if(!l(s)){r[a[2C]][a[2r]](s)}}},1ii:1c(b){1a d=1b;d[a[tj]](b[a[154]],b[a[4S]],b[a[152]],b[a[3H]])},Ma:1c(s,h,r,g){1a o=1b;1a n=o[a[1M]];1a b=o[a[1x]];1a t=[];1a i,m,u;1a k=o[a[oe]]();1a j=o[a[fW]]();if(l(s)|| l(r)){1d};if(!k|| l(h) || l(g)){o[a[uS]](s,r);1d};if(o[a[6D]]){o[a[2l]](1g,1f)}1e {o[a[2l]](1f,1f)};1a p=1k[a[1A]](s,h);1a d=1k[a[1F]](s,h);1a q=1k[a[1A]](r,g);1a f=1k[a[1F]](r,g);if(!j){f= q};p= 1k[a[1F]](0,p);d= 1k[a[1A]](d,b[a[59]]- 1);q= 1k[a[1F]](0,q);f= 1k[a[1A]](f,o[a[1z]][a[59]]- 1);o[a[3j]]= p;o[a[3k]]= d;o[a[3t]]= q;o[a[3u]]= f;o[a[cF]]=  -1;o[a[dy]]=  -1;1i(i= p;i<= d;i++){u= b[i];1i(m= q;m<= f;m++){t[a[1s]]([u[n],m])}};o[a[1O]]= t;o[a[2Q]]();o[a[2B]]();o[a[6B]]()},RF:1c(h){1a i=1b;1a b=i[a[9X]]();1a f=i[a[1M]];if(!f|| l(f)){1d};if(!bi(h)){h= [h]};i[a[3j]]= 1h;i[a[3k]]= 1h;i[a[3t]]= 1h;i[a[3u]]= 1h;1a g=cd[a[9v]](h);1a d=cd[a[cv]](b,1c(a,d){1a b=d[f];1d g[b]=== 1});if(!d|| d[a[59]]<= 0){1d};i[a[4d]]();1a j=[];cd[a[1q]](d,1c(b,d){j[a[1s]]([d[f],0])});i[a[cF]]=  -1;i[a[dy]]=  -1;i[a[1O]]= j;i[a[2Q]]();i[a[2B]]();i[a[6B]]()},Oa:1c(){1a h=1b;1a b=h[a[1x]];1a d=h[a[1z]];1a f=b[a[59]]- 1;1a g=d[a[59]]- 1;h[a[cF]]=  -1;h[a[dy]]=  -1;h[a[lT]](0,f,0,g,1g);h[a[2Q]]();h[a[2B]]();h[a[6B]]()},1il:1c(h,d){1a g=1b;1a b=g[a[1x]];1a f=b[a[59]]- 1;if(bl(d)){d= h};g[a[cF]]=  -1;g[a[dy]]=  -1;g[a[lT]](0,f,h,d,1g);g[a[2Q]]();g[a[2B]]();g[a[6B]]()},1ik:1c(){1a f=1b;1a g=l(f[a[3t]])?-1:f[a[3t]];1a b=l(f[a[3u]])?-1:f[a[3u]];1a d=f[a[1O]];if(d[a[59]]> 0&& (g==  -1|| b==  -1)){g= b= d[0][1]};1d [g,b]},28l:1c(d){1a h=1b;1a f=h[a[1M]];1a g=h[a[1O]];1a b=g[0];h[a[3j]]= 1h;h[a[3k]]= 1h;h[a[3t]]= 1h;h[a[3u]]= 1h;h[a[cF]]=  -1;h[a[dy]]=  -1;h[a[4d]]();if(b&& b[1]){h[a[1O]]= [[d[f],b[1]]]}1e {h[a[1O]]= [[d[f],0]]};h[a[2Q]]();h[a[2B]]();h[a[6B]]()},1id:1c(d){1a b=1b;1d b[a[2M]](d,b[a[1M]],b[a[1x]])},Kb:1c(b){1a d=1b;1d d[a[2M]](b,d[a[1M]],d[a[1x]])},Ky:1c(g){1a h=1b;1a f=h[a[1M]];1a b=h[a[1x]];1a d=b[g];if(d){1d d[f]};1d 1h},Kr:1c(){1a b=1b;if(b[a[2m]]){if(b[a[3o]]){b[a[3o]][a[134]](b[a[3o]][a[130]],0)};if(b[a[3x]]){b[a[3x]][a[134]](b[a[3x]][a[130]],0)};b[a[4K]]= 1;b[a[4o]]= 0;b[a[1S]]= 0};if(b[a[1Q]]){b[a[3j]]= 1h;b[a[3k]]= 1h;b[a[3t]]= 1h;b[a[3u]]= 1h;b[a[6e]]= 1h;b[a[ag]](b[a[2c]][a[4f]],1g,1f,1f);b[a[5S]](1f)}},J6:1c(){1a b=1b;if(b[a[1Q]]){b[a[3j]]= 1h;b[a[3k]]= 1h;b[a[3t]]= 1h;b[a[3u]]= 1h;b[a[6e]]= 1h;b[a[ag]](b[a[2c]][a[4f]],1f,1f,1f);b[a[5S]](1f)}},Jc:1c(f){1a d=1b;1a b=d[a[1z]];if(bl(f)|| f== d[a[2o]]){1d};if(f< 0){f= 0};if(f> b[a[59]]){f= b[a[59]]};if(d[a[tL]]){1d};f= d[a[zj]](f);d[a[fy]]= d[a[2o]];d[a[2o]]= f;d[a[nx]]= 1f;d[a[o5]]();if(d[a[2H]]){d[a[ci]]()};d[a[hu]]();if(d[a[2m]]&& d[a[3p]]){d[a[zb]]()}1e {d[a[5S]](1f,1f)}},1i6:1c(f,d){1a g=1b;1a b;1a h;b= g[a[6K]](f);if(!g[a[3Z]][b]){1d 1h};h= g[a[3Z]][b][d];if(!l(h)){1d h[a[139]]};1d 1h},IU:1c(d){1a b=1b;if(bl(d)|| d== b[a[1V]]){1d};if(d< 0){d= 0};if(d> b[a[2u]]){d= b[a[2u]]};if(b[a[2m]]){1d};b[a[28m]]= b[a[1V]];b[a[1V]]= d;if(b[a[2H]]){b[a[ci]]()};b[a[5K]]();b[a[6a]]();b[a[uh]]()},1i4:1c(){1a f=1b;1a b=f[a[1W]];1a d=f[a[7x]];f[a[te]](b,d,1g)},IQ:1c(b,k,i){1a j=1b;1a g=j[a[1W]];1a h=j[a[7x]];if(!bi(b)){b= []};if(l(i)){i= 1f};j[a[g1]]= 1g;if(g[a[59]]!= b[a[59]]){j[a[g1]]= 1f}1e {1i(1a d=0,f=g[a[59]];d< f;d++){if(g[d]!= b[d]){j[a[g1]]= 1f;1l}}};if(b[a[59]]> 0){j[a[1W]]= cd[a[69]](1f,[],b)}1e {j[a[1W]]= []};j[a[1i7]]();if(j[a[2H]]){j[a[zc]]= 1f};if(!j[a[y5]]&& j[a[1W]][a[59]]<= 0){j[a[28r]]()};if(!l(k)&& bn(k)){j[a[7x]]= cd[a[69]](1f,{},k)};if(!l(j[a[8I]])){j[a[6m]](j[a[8I]])}1e {j[a[6m]](j[a[2U]])};j[a[yP]]();if(j[a[2m]]){if(j[a[3o]]){j[a[3o]][a[134]](j[a[3o]][a[130]],0)};if(j[a[3x]]){j[a[3x]][a[134]](j[a[3x]][a[130]],0)};j[a[4K]]= 1;j[a[4o]]= 0;j[a[1S]]= 0};j[a[fZ]](1f);j[a[hu]]();j[a[tG]](!i);if(j[a[4j]]&& j[a[2p]]){j[a[28s]](b,k,g,h)}},M7:1c(){1a d=1b;1a b=1f;d[a[2N]]= [];d[a[jX]]= 1f;d[a[FV]]= 1f;if(d[a[2w]]&& b){d[a[1S]]= d[a[1R]][a[2K]]}1e {d[a[1S]]= 0;if(d[a[2w]]){d[a[1R]][a[2K]]= 0};if(d[a[2m]]){if(d[a[3o]]){d[a[3o]][a[134]](d[a[3o]][a[130]],0)};if(d[a[3x]]){d[a[3x]][a[134]](d[a[3x]][a[130]],0)};d[a[4K]]= 1}};d[a[fZ]]();d[a[hu]]();d[a[135]]();if(!d[a[2w]]){d[a[1S]]= 0;if(d[a[2m]]){if(d[a[3o]]){d[a[3o]][a[134]](d[a[3o]][a[130]],0)};if(d[a[3x]]){d[a[3x]][a[134]](d[a[3x]][a[130]],0)};d[a[4K]]= 1}}1e {if(d[a[1R]][a[2K]]!= d[a[1S]]){d[a[1S]]= d[a[1R]][a[2K]]}};d[a[5K]](1f);d[a[6a]](1f);d[a[5A]]();if(d[a[jN]]&& d[a[ab]]()){d[a[jn]]()}},1ib:1c(){1a b=1b;if(b[a[2H]]){b[a[ci]]()};b[a[5K]](1f);b[a[6a]](1f);b[a[5A]]()},1ia:1c(b){1a f=1b;1a d=f[a[2H]];f[a[df]]= 1f;f[a[8H]]= 1f;if(!f[a[eD]]){f[a[eD]]= {}};if(b&& b[a[59]]){cd[a[1q]](b,1c(b,d){f[a[eD]][d]= 1f})};if(f[a[2Z]]){f[a[ox]]();f[a[jB]]()};if(d){f[a[ci]]()};if(f[a[3p]]){f[a[5S]](1f)}1e {f[a[5K]]();f[a[6a]]();f[a[5A]]()};if(f[a[1x]][a[59]]> 0&& f[a[nJ]]){f[a[GA]]()}},1i9:1c(b,f){1a g=1b;1a d=g[a[2H]];g[a[df]]= 1f;g[a[8H]]= 1f;if(!g[a[eD]]){g[a[eD]]= {}};g[a[eD]][b]= 1f;if(g[a[2Z]]){g[a[ox]]();g[a[jB]]()};if(d){g[a[ci]]()};if(g[a[3p]]){g[a[5S]](1f)}1e {if(f[a[dD]]|| d){g[a[5K]]();g[a[6a]]();g[a[5A]]()}1e {if(f[a[28q]]){g[a[Fp]](f[a[1n]])};g[a[28p]](f[a[4a]]);g[a[28n]](a[uV],f[a[1H]],f[a[1n]])}};if(g[a[1x]][a[59]]> 0&& g[a[nJ]]){g[a[GA]]()}},HI:1c(d,b){1a f=1b;if(bi(d)){cd[a[1q]](d,1c(d,g){if(g== a[tK]){f[a[xe]]= 1f}1e {if(g== a[tH]){f[a[xp]]= 1f}};f[a[1I]][g]= b})}1e {if(d== a[tK]){f[a[xe]]= 1f}1e {if(d== a[tH]){f[a[xp]]= 1f}};f[a[1I]][d]= b}},Iu:1c(b){1a d=1b;if(bi(b)){cd[a[1q]](b,1c(b,f){if(f== a[tK]){d[a[xe]]= 1g}1e {if(f== a[tH]){d[a[xp]]= 1g}};d[a[1I]][f]= 1h;2j d[a[1I]][f]})}1e {if(b== a[tK]){d[a[xe]]= 1g}1e {if(b== a[tH]){d[a[xp]]= 1g}};d[a[1I]][b]= 1h;2j d[a[1I]][b]}},Db:1c(o,f,d){1a n=1b;1a m=n[a[28o]];1a g=1g;1a k=o;1a j=f;1a h=1N[a[gH]](n[a[kK]]);if(l(h)){6h  1j 6G(a[Gt]);1d};if(bl(k)){k= h[a[3O]]};if(bl(j)){j= h[a[3T]]};if(bl(k)|| k<= 5|| bl(j)|| j<= 5){g= 1f};if(g&& m!== 1f){y[a[8k]][a[gp]](b)}1e {b()};1c b(){1a d=o;1a b=f;if(bl(d)){d= h[a[3O]]};if(bl(b)){b= h[a[3T]]};if(bl(d)|| d<= 5){d= aH};if(bl(b)|| b<= 5){b= aH};if(l(n)||  !i(n[a[133]])){1d};n[a[133]](d- 2,b- 2);if(y[a[2]]&& (y[a[39]]|| y[a[26]]|| (y[a[28]]&& y[a[38]]))){n[a[sv]]()}1e {if(n[a[1in]]){if(n[a[6D]]){n[a[2l]](1g)}1e {n[a[2l]](1f)}}1e {n[a[sv]]()};if(!l(n[a[4L]])){n[a[4L]][a[213]](1g)}};if(n[a[so]]){if(n[a[ao]]){n[a[xk]](n[a[ao]])};n[a[ao]]= 1h};n[a[5S]](1f,1f);if(n[a[2o]]> 0){n[a[yK]]()};if(!l(n[a[ir]])){n[a[ir]][a[133]](n[a[127]],n[a[129]])}}},1iz:1c(k,m,n,g,b){1a o=1b;1a d=o[a[1z]];1a f=W[a[xw]];o[a[jX]]= 1f;if( 1L d== a[0]){1d};if(l(m)){m= 1f};if(l(n)){n= 1f};if(l(g)){g= 1f};o[a[1O]]= [];if(o[a[a2]]&& o[a[a2]][a[59]]> 0){o[a[1iC]]= {x:o[a[a2]][0][a[130]],y:o[a[a2]][0][a[131]]}};o[a[qm]](1f);o[a[a2]]= [];if(!o[a[zy]]){o[a[yP]]()};if(n){o[a[1S]]= 0;o[a[4o]]= 0;if(o[a[2m]]){if(o[a[3o]]){o[a[3o]][a[134]](o[a[3o]][a[130]],0)};if(o[a[3x]]){o[a[3x]][a[134]](o[a[3x]][a[130]],0)};o[a[4K]]= 1}};if(m){o[a[4h]]= 0};if(o[a[6n]]&& o[a[6J]]()){o[a[zf]]()};if(o[a[2H]]){1i(1a h=0,j=d[a[59]];h< j;h++){o[a[fL]](h,0,o[a[2u]])}};o[a[2N]]= [];o[a[135]]();o[a[cC]]();o[a[5K]](1f);o[a[6a]](1f);o[a[5A]]();if(l(k)|| k== 1g){if(o[a[yl]]&& i(o[a[1I]][a[se]])){o[a[1I]][a[se]]({1P:a[se],2y:o[a[2f]]})}};if(o[a[g1]]&& i(o[a[1I]][a[eU]])){o[a[1I]][a[eU]]({1P:a[eU],2y:o[a[2f]],nL:cd[a[69]]([],o[a[1W]]),xV:cd[a[69]](1f,{},o[a[7x]])})};o[a[yl]]= 1g;o[a[g1]]= 1g;if(b=== 1f&&  !1D(f)&& f!= 1&& o[a[3q]]== 1){o[a[1iy]]()}},1iB:1c(){1a g=1b;1a b=g[a[1z]];g[a[jX]]= 1f;g[a[1O]]= [];if(g[a[a2]]&& g[a[a2]][a[59]]> 0){g[a[1iC]]= {x:g[a[a2]][0][a[130]],y:g[a[a2]][0][a[131]]}};g[a[qm]](1f);g[a[a2]]= [];g[a[e6]](1f);if(g[a[2H]]){1i(1a d=0,f=b[a[59]];d< f;d++){g[a[fL]](d,0,g[a[2u]])}};g[a[2N]]= [];g[a[135]]();g[a[cC]]();g[a[5K]](1f);g[a[6a]](1f);g[a[5A]]()},It:1c(){1a b=1b;if(!l(b[a[1J]])|| b[a[8o]]){if(!l(b[a[1J]])){b[a[1J]][a[3R]](1f)}1e {if(!l(b[a[2D]])){b[a[2D]][a[3R]](1f)}}};if(b[a[2v]]&& b[a[2v]][a[139]]){b[a[2v]][a[213]](1g)};if(b[a[ey]]){b[a[ey]][a[213]](1g)};b[a[dw]][a[202]](a[165],a[28e]);b[a[dw]][a[133]](b[a[127]],b[a[129]]);b[a[dw]][a[213]](1f)},Iq:1c(){1a b=1b;b[a[dw]][a[213]](1g)},Jy:1c(f){1a g=1b;1a b=g[a[ev]];1a h=g[a[6o]]();1a i,d,j,k;if(g[a[2v]]&& g[a[2v]][a[139]]){g[a[2v]][a[213]](1g)};if(!l(g[a[1J]])|| g[a[8o]]){if(!l(g[a[1J]])){g[a[1J]][a[3R]](1f)}1e {if(!l(g[a[2D]])){g[a[2D]][a[3R]](1f)}}};b[a[139]][a[44]]= a[58];if(bp(f)){b[a[139]][a[44]]= f}1e {if(bn(f)){b[a[139]][a[185]](f)}1e {1d}};if(g[a[7r]]){i= g[a[127]];d= g[a[129]]- h- g[a[6M]];j= 0;k= h+ g[a[6M]]}1e {i= g[a[127]];d= g[a[129]]- h;j= 0;k= h};if(g[a[6T]]){d-= g[a[aQ]];k+= g[a[aQ]]};if(g[a[3g]]){d-= g[a[3w]]+ 1};if(g[a[2w]]){i-= g[a[3w]]};b[a[133]](i,d);b[a[134]](j,k);b[a[213]](1f)},LS:1c(){1a b=1b;b[a[ev]][a[213]](1g)},1iD:1c(f,b,d){1a g=1b;f= 1o(f);b= 1o(b);if(f< 0|| b< 0|| l(d)){1d};g[a[dN]](f,b);y[a[8k]][a[gp]](1c(){g[a[zZ]]({2P:f,3l:b,l9:d},1f)})},1ix:1c(){1a b=1b;if(!l(b[a[h9]])){b[a[h9]][a[132]]()};b[a[h9]]= 1h},M3:1c(f){1a g=1b;1a b=g[a[1z]];if(g[a[2H]]=== f){1d};g[a[2H]]= f;if(f!== 1f){1a d=g[a[3Y]][a[59]];cd[a[1q]](b,1c(b,f){g[a[fL]](b,0,d)})};g[a[ci]]();g[a[5K]]();g[a[6a]]();g[a[5A]]();g[a[qm]](1f);g[a[1O]]= []},GE:1c(g,h){1a f=1b;1a d;1a b;if(!f[a[2p]]){1d};if(!l(f[a[1J]])){f[a[1J]][a[139]][a[2b]]= g;b= f[a[1J]]}1e {if(!l(f[a[2D]])){f[a[2D]][a[139]][a[2b]]= g;b= f[a[2D]]}1e {1d}};if(!l(b[a[1t]])&& h!== a[tZ]){d= f[a[fM]](b[a[1H]],b[a[1n]],b[a[1w]][b[a[1t]][a[1m]]],b[a[1w]],b[a[1t]]);if(f[a[dV]](d)&& i(b[a[vx]])){b[a[vx]]()}};f[a[wa]]= 1f},GH:1c(f,b){1a d=1b;if(d[a[w9]]&& d[a[8Q]]&& i(d[a[8Q]][a[fc]])){d[a[8Q]][a[fc]]();d[a[8Q]]= 1h};if(!d[a[8o]]){1d};b=  !!b;if(l(f)){d[a[2l]](b,1f)}1e {d[a[sr]](f);if(d[a[1J]]){d[a[1J]][a[3R]](b,1f)}1e {if(d[a[2D]]){d[a[2D]][a[3R]](b,1f)}}};d[a[aI]]()},Fw:1c(v,m){1a w=1b;1a s=w[a[1M]];1a h=w[a[1x]];1a d=w[a[3Z]];1a j=w[a[1V]];1a u=w[a[1S]];1a r=w[a[2u]];1a y;1a p;1a t;1a b;1a x;1a g;1a f={};1a k=1h;1a n=aH;if(!l(m)){k= m[a[169]];n= m[a[oa]]|| aH};if(!bi(v)){v= [v]};1i(1a o=0,q=v[a[59]];o< q;o++){p= v[o];y= p[s];t= w[a[2M]](y,s,h);g= w[a[g9]](p,t,1g,1g);g= g|| [];if(k){if(j> 0&& t< j){b= t}1e {b= t- u};if(b>= 0&& b< r&& b< d[a[59]]){x= d[b];f[b]= g;cd[a[1q]](g,1c(b,d){x[d][a[180]](k)})}}};if(k){bL(n)[a[8z]](1c(){cd[a[1q]](f,1c(g,h){x= d[g];if(x){1i(1a b=0,f=h[a[59]];b< f;b++){if(x[h[b]]&& i(x[h[b]][a[181]])){x[h[b]][a[181]](k)}}}})})}},Gv:1c(d,b){1a f=1b;if(b=== 1g){b= 1g}1e {b= 1f};if(!bi(d)){d= [d]};f[a[wo]](d,b,1f)},G8:1c(g,f,b){1a i=1b;1a h;1a d=i[a[1M]];if(b=== 1g){b= 1g}1e {b= 1f};if(!bi(g)){g= [g]};if(!bi(f)){f= [f]};if(g[a[59]]!= f[a[59]]){1d};h= cd[a[69]](1f,[],g);cd[a[1q]](f,1c(b,f){h[b][d]= i[a[oJ]](f)});i[a[wo]](h,b,1f)},1iw:1c(q,o,F,b,d){1a B=1b;1a g=B[a[28d]]();1a z=B[a[1M]];1a K=B[a[dD]];1a J=B[a[vv]];1a E=B[a[1Q]];1a k;1a f,C;1a t,u;1a h,j;1a A;1a v,y;1a p;1a D;1a G,H;1a m=1g;1a w;1a x;1a n,r,s;1a I=1T;if(l(g)){1d};if(l(F)){F= 1f};if(o=== 1g){o= 1g}1e {o= 1f};if(B[a[1W]]&& B[a[1W]][a[59]]> 0){m= 1f};H= [];1i(n= 0,r= q[a[59]];n< r;n++){p= q[n];if(p[z]!== I){H[H[a[59]]]= p[z]}};v= B[a[1fx]](H,z,g);w= [];u= [];j= [];y= [];1i(n= 0,r= q[a[59]];n< r;n++){p= q[n];G= p[z];if(G=== I){1u};t= v[G];if(!B[a[Ka]](t)){1u};x= {};h= [];1i(f in p){if(f== z|| (!J&& 1E(f)[a[19]](a[Ju])== 0)){1u};if(t[f]!== p[f]){x[f]= t[f];t[f]= p[f];h[a[1s]](f)}};if(h[a[59]]<= 0){1u};if(K){A= B[a[sQ]](G);k= B[a[vV]](A,t)};if(E){if((D= B[a[eM]](G))){1i(s in h){f= h[s];D[f]= t[f]};if(K){1i(C in k){D[C]= k[C]}}}};j= j[a[5I]](h);w[w[a[59]]]= x;u[u[a[59]]]= t;y[y[a[59]]]= p};j= cd[a[7V]](j);if(j[a[59]]<= 0){1d};if(o){B[a[27T]](u,w)};if(m){if(u[a[59]]== 1){B[a[vQ]](u[0])}1e {B[a[ze]](B[a[1x]])}};B[a[Bw]](j);if(o&& B[a[4j]]&& (B[a[2p]]|| B[a[Jq]])){B[a[1gN]](y,w,b,d)};if(F&& i(B[a[1I]][a[zH]])){B[a[1I]][a[zH]]({1P:a[zH],2y:B[a[2f]],af:cd[a[4R]](1f,[],q)})}},Mi:1c(r,w,q,B){1a y=1b,h=y[a[1x]],t,v=y[a[1M]],n=y[a[1z]];1a E=y[a[dD]];1a D=y[a[vv]];1a m={};1a b,C;1a j=[];1a f,z;1a u=[];1a x;1a A;1a o=1g;1a d=[];1a F=[];1a p=[];1a g=[];1a s;if(l(h)){1d};if(y[a[1W]]&& y[a[1W]][a[59]]> 0){o= 1f};if(l(B)){B= 1f};if(q=== 1g){q= 1g}1e {q= 1f};if(!r|| l(w)){1d};if(w== a[pa]){x= y[a[1O]];if(x[a[59]]<= 0){1d};C= x[0][0];w= y[a[2M]](C,v,h)};if(w< 0|| w>= h[a[59]]){1d};t= h[w];if(!y[a[Ka]](t)){1d};1i(f in r){if(f== v|| (!D&& 1E(f)[a[19]](a[Ju])== 0)){1u};if(t[f]!== r[f]){u[a[1s]](t[f]);t[f]= r[f];j[a[1s]](f)}};if(j[a[59]]<= 0){1d};if(y[a[1W]]&& y[a[1W]][a[59]]> 0){o= 1f};if(q){y[a[b1]](a[pg],t,j,u)};if(E){m= y[a[vV]](w,t)};if(y[a[1Q]]){if((A= y[a[eM]](t[v]))){1i(s in j){f= j[s];A[f]= t[f]};if(E){1i(z in m){A[z]= m[z]}}};if(o){y[a[vQ]](t)}};if(j[a[59]]== 1){y[a[1ip]](j[0],{z8:E,Jw:o,2P:w,JF:y[a[6K]](w),3l:y[a[6l]](j[0])})}1e {y[a[Bw]](j)};cd[a[1q]](j,1c(f,h){b= y[a[6U]](h);if(b!=  -1){d[a[1s]](b);F[a[1s]](t[h]);p[a[1s]](n[b][a[2a]]);g[a[1s]](h)}});if(B&& i(y[a[1I]][a[g9]])){1a k={};k[a[85]]= a[g9];k[a[9H]]= y[a[2f]];k[a[1H]]= w;k[a[27U]]= d;k[a[na]]= F;k[a[27S]]= p;k[a[4k]]= cd[a[4R]](1f,{},t);k[a[5p]]= g;y[a[1I]][a[g9]](k)};1d d},1is:1c(f,b){1a d=1b;d[a[za]](d[a[1O]],f,b)},1iv:1c(J,W,v,b,E){1a K=1b;1a O=K[a[1Q]];1a n=K[a[1x]];1a p=K[a[1z]];1a U=K[a[dD]];1a G=K[a[1M]];1a I;1a Q,g;1a H;1a k,M;1a C;1a m;1a P;1a q=i;1a R=1T;1a t=1g;1a y=-1;1a d=0;1a j=0;1a F;1a f;1a V;1a z;1a N,u,h;1a r=1g;1a o;1a A,T;1a S=1g;1a B,x;1a b;1a s,w;1a D=K[a[1iu]]|| {};1a L=K[a[1mi]];if(K[a[1W]]&& K[a[1W]][a[59]]> 0){r= 1f};if(J[a[59]]<= 0|| l(n)){1d};if(v== a[ck]){t= 1f};if(!bi(W)){W= [[W]]};if(l(E)){E= 1f};b= {6L:1o[a[5E]],7E:-1,5Y:1o[a[5E]],9O:-1};if(E&& K[a[4j]]&& K[a[2p]]){S= 1f;B= {};x= {}};m= [];1i(s= 0,w= J[a[59]];s< w;s++){I= J[s];Q= I[0];g= I[1];H= K[a[2M]](Q,G,n);u= n[H];h= p[g];if(y!= H){if(W[a[59]]<= 1){F= W[0]}1e {F= W[j% W[a[59]]]};f= F;d= 0;j++};b[a[154]]= 1k[a[1A]](b[a[154]],H);b[a[4S]]= 1k[a[1F]](b[a[4S]],H);b[a[152]]= 1k[a[1A]](b[a[152]],g);b[a[3H]]= 1k[a[1F]](b[a[3H]],g);if(!K[a[t6]](u,h,H,t)){if(!t|| L){d++};y= H;1u};if(!t){if(h[a[1G]]&& h[a[1G]][a[85]]&& D[h[a[1G]][a[85]]]=== 1f){d++;y= H;1u};if(h[a[1J]]&& h[a[1J]][a[85]]&& D[h[a[1J]][a[85]]]=== 1f){d++;y= H;1u}};V= f[d% f[a[59]]];k= h[a[1m]];P= K[a[IT]](V,h);C= K[a[1it]](H,u[k],P,u,h,t);if(C[a[1gO]]=== 1g){d++;y= H;1u};P= C[a[2b]];z= u[k];if(q(K[a[1I]][a[t2]])){C= 1f;C= K[a[De]](H,g,h,u,z,t,v);if(C=== 1g){d++;y= H;1u}};if(q(K[a[1I]][a[t1]])){P= K[a[JJ]](H,g,h,u,P,z,t,v)};if(P=== z){if(q(K[a[1I]][a[t3]])){K[a[Kg]](H,g,h,u,P,t,v)};d++;y= H;1u};u[k]= P;if(S){if(B[Q]=== R){B[Q]= {}};if(x[Q]=== R){x[Q]= {}};B[Q][k]= z;x[Q][k]= P};K[a[27R]](u,k,z);if(U){o= K[a[vV]](H,u)};if(O){if((N= K[a[eM]](u[G]))){N[k]= P;if(U){1i(M in o){N[M]= o[M]}}};if(r){K[a[vQ]](u)}};if(q(K[a[1I]][a[ny]])){K[a[z1]](H,g,h,u,P,z,t,v)};m[m[a[59]]]= k;d++;y= H};m= cd[a[7V]](m);K[a[Bw]](m);if(S&& m[a[59]]> 0){T= [];A= [];cd[a[1q]](x,1c(b,f){1a d={};d[G]= b;cd[a[1q]](f,1c(a,b){d[a]= b});T[T[a[59]]]= d});cd[a[1q]](B,1c(b,f){1a d={};d[G]= b;cd[a[1q]](f,1c(a,b){d[a]= b});A[A[a[59]]]= d});K[a[1gN]](T,A,b)}},KT:1c(d){1a i=1b,b=i[a[2U]],h=i[a[1M]],f;1a g=i[a[1O]][a[5I]]();if(i[a[1Q]]&& bi(i[a[1W]])&& i[a[1W]][a[59]]> 0){b= i[a[8I]]};if(bn(d)){d= [d]};if(i[a[K9]]){f= cd[a[69]](1f,[],d);cd[a[1q]](f,1c(b,d){if( 1L f[b][h]== a[0]){f[b][h]= cd[a[g8]]()}});if(i[a[B9]]&& i[a[8U]]){cd[a[ql]](f,i[a[8U]],i[a[hz]])}}1e {f= cd[a[jj]]([],d,i[a[8U]],h,i[a[hz]])};b= b[a[5I]](f);if(i[a[4z]]){i[a[5m]]= 1f};i[a[6m]](b);if(i[a[4z]]){i[a[5m]]= 1g};i[a[fP]](1f,1g,1g);i[a[1O]]= g;i[a[2Q]]();i[a[2B]]()},1f9:1c(d){1a f=1b;1a b=f[a[1x]][d];if(!b){1d 1g};1d b[a[nh]]},1f8:1c(h){1a i=1b;1a g=i[a[vv]];1a f=i[a[1x]][h];1a b,d;1a j=a[1f7];if(!f){1d};if(!f[a[nh]]){1d};if(f[a[4O]]){i[a[ag]](f,1g,1g,1g,1g,1f)};b= f[a[1p]];if(bi(b)){d= cd[a[B5]](b,[],a[1p],1f);cd[a[1q]](d,1c(b,d){i[a[b1]](j,d)})};i[a[vv]]= 1f;i[a[g9]]({1K$1fa:1g,1K$t5:1g,1K$iP:1f,w6:1g},h,1g,1g);i[a[vv]]= g;if(i[a[4j]]&& i[a[2Y]]){i[a[2Y]][a[dW]]()}},1fb:1c(v,i,g,B){1a u=1b;1a h=u[a[1x]];1a y=u[a[1Q]];1a o;1a n;1a r;1a s;1a E;1a m,q,p,f;1a d,A;1a C=1g;1a t=u[a[1M]];1a z=u[a[dD]];1a j;1a x;1a w;1a b=0;1a D;1a k=1g;if(l(h)||  1L g== a[0]){1d};if(u[a[1W]]&& u[a[1W]][a[59]]> 0){k= 1f};if(!bi(g)){g= [g]};if(!bi(B)){B= [B]};if(l(v)){m= 0}1e {m= v};m= 1k[a[1F]](m,0);if(l(v)){q= h[a[59]]- 1}1e {q= i};q= 1k[a[1A]](q,h[a[59]]- 1);f= g[a[59]];o= [];r= [];D= B[a[59]];if(bi(B)&& bi(B[0])){C= 1f};1i(;m<= q;m++,b++){n= h[m];if(!n){1u};if(C){E= B[b% D]}1e {E= B};if(!u[a[Ka]](n)){1u};s= [];1i(p= 0;p< f;p++){d= g[p];A= E[p];s[s[a[59]]]= n[d];n[d]= A};o[o[a[59]]]= n;r[r[a[59]]]= s;if(z){j= u[a[vV]](m,n)};if(y){if((x= u[a[eM]](n[t]))){1i(p= 0;p< f;p++){d= g[p];A= E[p];x[d]= A};if(z){1i(w in j){x[w]= j[w]}}}}};if(k){u[a[vQ]](n)};u[a[27O]](o,g,r);u[a[Bw]](g);if(u[a[4j]]&& u[a[2p]]){u[a[27P]](v,i,g,r,B)}},LZ:1c(b,k){1a j=1b;1a d=j[a[2U]];1a h=j[a[1O]][a[5I]]();1a f,g;if(j[a[1Q]]&& bi(j[a[1W]])&& j[a[1W]][a[59]]> 0){d= j[a[8I]]};if(j[a[1Q]]){1i(f= 0,g= d[a[59]];f< g;f++){d[f][b]= k;if(d[f][a[1p]]&& d[f][a[1p]][a[59]]> 0){i(d[f][a[1p]],b,k)}}}1e {1i(f= 0,g= d[a[59]];f< g;f++){d[f][b]= k}};j[a[5m]]= 1f;j[a[6m]](d);j[a[5m]]= 1g;j[a[27Q]]();j[a[lO]]();j[a[1O]]= h;j[a[2Q]]();j[a[2B]]();1c i(b,d,h){1i(1a f=0,g=b[a[59]];f< g;f++){b[f][d]= h;if(b[f][a[1p]]&& b[f][a[1p]][a[59]]> 0){i(b[f][a[1p]],d,h)}}}},1fc:1c(b,j){1a i=1b;1a d=i[a[2U]];1a f,g;if(i[a[1Q]]&& bi(i[a[1W]])&& i[a[1W]][a[59]]> 0){d= i[a[8I]]};if(i[a[1Q]]){1i(f= 0,g= d[a[59]];f< g;f++){d[f][b]= j;if(d[f][a[1p]]&& d[f][a[1p]][a[59]]> 0){h(d[f][a[1p]],b,j)}}}1e {1i(f= 0,g= d[a[59]];f< g;f++){d[f][b]= j}};i[a[5m]]= 1f;i[a[6m]](d);i[a[5m]]= 1g;1c h(b,d,i){1i(1a f=0,g=b[a[59]];f< g;f++){b[f][d]= i;if(b[f][a[1p]]&& b[f][a[1p]][a[59]]> 0){h(b[f][a[1p]],d,i)}}}},1f6:1c(b){1a j=1b;1a d=j[a[2U]];1a i=j[a[27V]];1a m=a[K0];1a k=a[27W];1a l=a[58];1a f,g;if(j[a[1Q]]&& bi(j[a[1W]])&& j[a[1W]][a[59]]> 0){d= j[a[8I]]};if(j[a[1Q]]){1i(f= 0,g= d[a[59]];f< g;f++){2j d[f][b];if(d[f][a[1p]]&& d[f][a[1p]][a[59]]> 0){h(d[f][a[1p]],b)}}}1e {if(i== m){1i(f= 0,g= d[a[59]];f< g;f++){d[f][b]= 1h}}1e {if(i== k){1i(f= 0,g= d[a[59]];f< g;f++){d[f][b]= l}}1e {1i(f= 0,g= d[a[59]];f< g;f++){2j d[f][b]}}}};j[a[5m]]= 1f;j[a[6m]](d);j[a[5m]]= 1g;1c h(b,d){1i(1a f=0,g=b[a[59]];f< g;f++){if(i== m){b[f][d]= 1h}1e {if(i== k){b[f][d]= l}1e {2j b[f][d]}};if(b[f][a[1p]]&& b[f][a[1p]][a[59]]> 0){h(b[f][a[1p]],d)}}}},Mc:1c(k,q,g){1a s=1b,b,j,r=s[a[1O]],t=-1,p=s[a[1M]],m=[],f;1a d;1a o=q;1a n=s[a[dE]]();1a v=s[a[i8]];1a u=s[a[J3]][a[13]]();1a x=s[a[1Q]];1a h=s[a[4z]]=== 1g?1f:1g;1a w=a[0];if(s[a[6D]]){s[a[2l]](1g,1f)}1e {s[a[2l]](1f,1f)};if(l(g)){g= {mt:1g,fS:1g,B8:1f}};if(v&& u!= a[BD]){v= 1f}1e {v= 1g};if(g[a[1eZ]]&& s[a[2p]]&& s[a[4j]]){d= 1f}1e {d= 1g};if(h&&  !l(s[a[8I]])){b= s[a[8I]]}1e {b= s[a[2U]]};if(l(b)){b= []};if(x&&  !h){s[a[jd]](k,1h,q);1d};if(r&& r[a[59]]> 0){n= r[0][1];if(q== a[t0]|| q== a[sZ]){t= s[a[2M]](r[0][0],p,b)}};s[a[cu]]= 1g;if(bn(k)){k= [k]};if(g[a[1eY]]){cd[a[1q]](k,1c(b,d){if( 1L k[b][p]== w){m[b]= {};m[b][p]= cd[a[g8]]()}});m= cd[a[69]](1f,m,k)}1e {if(s[a[K9]]){m= cd[a[69]](1f,[],k);cd[a[1q]](m,1c(b,d){if( 1L m[b][p]== w){m[b][p]= cd[a[g8]]()}});if(s[a[B9]]&& s[a[8U]]){cd[a[ql]](m,s[a[8U]],s[a[hz]])}}1e {m= cd[a[jj]]([],k,s[a[8U]],p,s[a[hz]])}};if(bl(1o(q))){if(q== a[mv]){q= 0}1e {if(q== a[7G]){q= b[a[59]]}1e {if(q== a[t0]){q= t}1e {if(q== a[sZ]&& t!=  -1){q= t+ 1}1e {q= 0}}}}};q= 1k[a[1F]](0,q);1i(f= m[a[59]]- 1;f>= 0;f--){j= m[f];if(g[a[mX]]){if(!v&& s[a[oY]](j)){s[a[b1]](a[iu],j)}1e {s[a[b1]](a[B6],j)}}1e {s[a[b1]](a[iu],j)};if(o!= a[7G]&& o!= a[mv]){b[a[2E]](q,0,j)}};if(o== a[7G]){b= b[a[5I]](m)}1e {if(o== a[mv]){b= m[a[5I]](b)}};s[a[g7]]= 1f;s[a[3j]]= 1h;s[a[3k]]= 1h;s[a[3t]]= 1h;s[a[3u]]= 1h;if(h&&  !l(s[a[8I]])){s[a[6m]](b)}1e {s[a[5m]]= 1f;s[a[6m]](b);s[a[5m]]= 1g};s[a[fP]](1f,1g,1g,1g);s[a[8H]]= 1f;if(!g[a[mX]]&& i(s[a[1I]][a[eR]])){s[a[1I]][a[eR]]({1P:a[eR],2y:s[a[2f]],2P:q,af:m})};if(h&&  !l(s[a[8I]])){q= s[a[2M]](m[0][p],p,s[a[1x]])};s[a[dN]](q,n);if(d){if(o== a[t0]|| o== a[sZ]){o= q};s[a[1eX]](m,o,{5Y:q,9O:q,6L:n,7E:n})};s[a[cu]]= 1f;if(g[a[mX]]){1d};if(i(s[a[1I]][a[sR]])){s[a[1I]][a[sR]]({1P:a[sR],2y:s[a[2f]],2P:q,af:m})}},Mb:1c(g,k){1a m=1b;1a b=m[a[1x]];1a j=m[a[1M]];1a h;1a d,f;1a i;1a n;if(1D(k)){1d};d= b[k];f= b[k- 1];if(l(d)){m[a[jd]](g,1h,a[7G]);1d};if(!l(f)&& d[a[4b]]< f[a[4b]]){h= m[a[5b]](f,j,b);if(h){i= h[j];m[a[jd]](g,i,a[7G]);1d}};h= m[a[5b]](d,j,b);if(l(h)){i= 1h;n= m[a[2M]](d[j],j,m[a[8p]])}1e {i= h[j];n= m[a[2M]](d[j],j,h[a[1p]])};m[a[jd]](g,i,n)},Lu:1c(n,v,w,k){1a A=1b,g=A[a[8p]],m,z=A[a[1O]],B=-1,y=A[a[1M]],p=[],j;1a u=1h;1a f;1a s=0;1a q=0;1a r=1h;1a t=A[a[1Q]];1a o=1f;1a x=[];1a h=A[a[4j]];1a D=A[a[i8]];1a C=A[a[J3]][a[13]]();if(l(k)){k= {mt:1g,fS:1g,B8:1f}};if(k[a[1eZ]]&& A[a[2p]]&& h){h= 1f}1e {h= 1g};if(A[a[6D]]){A[a[2l]](1g,1f)}1e {A[a[2l]](1f,1f)};if(A[a[1Q]]&&  !l(A[a[1W]])&& A[a[1W]][a[59]]> 0){1d};if(D&& C!= a[BD]){D= 1f}1e {D= 1g};if(l(k)){k= {}};if(l(g)){g= A[a[2U]]};if(l(g)){g= []};if(l(v)){f= g}1e {u= A[a[5Z]](v,y,g);if(u){if(!bi(u[a[1p]])){u[a[1p]]= []};u[a[4O]]= 1f;u[a[3e]]= 1f;u[a[6k]]= 1f;f= u[a[1p]];cd[a[1q]](f,1c(b,d){d[a[3e]]= 1f})}1e {1d}};if(z&& z[a[59]]> 0){q= z[0][1];if(w== a[t0]|| w== a[sZ]){B= A[a[2M]](z[0][0],y,f)}};if(bn(n)){n= [n]};if(n[a[59]]<= 0){1d};if(k[a[1eY]]){cd[a[1q]](n,1c(b,d){if( 1L n[b][y]== a[0]){p[b]= {};p[b][y]= cd[a[g8]]()}});p= cd[a[69]](1f,p,n)}1e {if(A[a[K9]]){p= cd[a[69]](1f,[],n);cd[a[1q]](p,1c(b,d){if( 1L p[b][y]== a[0]){p[b][y]= cd[a[g8]]()}});if(A[a[B9]]&& A[a[8U]]){cd[a[ql]](p,A[a[8U]],A[a[hz]])}}1e {p= cd[a[jj]]([],n,A[a[8U]],y,A[a[hz]])}};if(p&& p[a[59]]> 0){r= p[0][y]}1e {1d};if(bl(1o(w))){if(w== a[mv]){w= 0}1e {if(w== a[7G]){w= f[a[59]]}1e {if(w== a[t0]){w= B}1e {if(w== a[sZ]&& B!=  -1){w= B+ 1}1e {w= f[a[59]]}}}}};A[a[cu]]= 1g;w= 1k[a[1F]](0,w);1i(j= p[a[59]]- 1;j>= 0;j--){m= p[j];m[a[3e]]= 1f;if(k[a[mX]]){if(bi(m[a[1p]])){b(m[a[1p]])};if(!D&& A[a[oY]](m)){A[a[b1]](a[iu],m)}1e {A[a[b1]](a[B6],m)}}1e {A[a[b1]](a[iu],m);if(bi(m[a[1p]])){d(m[a[1p]],a[iu])}};if(h){if(u){x[a[1s]]({gb:1f,hk:D,oS:u[y],2P:w,3i:m})}1e {x[a[1s]]({gb:1f,hk:D,oS:1h,2P:w,3i:m})}};f[a[2E]](w,0,m)};A[a[3j]]= 1h;A[a[3k]]= 1h;A[a[3t]]= 1h;A[a[3u]]= 1h;A[a[5m]]= 1f;A[a[6m]](g);if(t!= A[a[1Q]]){A[a[fZ]](1f)};A[a[5m]]= 1g;A[a[8H]]= 1f;A[a[g7]]= 1f;if(A[a[2m]]){A[a[fP]](1f,1g,1g,1g)}1e {A[a[fP]](1f,1g,1g,1g)};s= A[a[2M]](r,y,A[a[1x]]);if(h){A[a[1eX]](x,a[JN],{5Y:s,9O:s,6L:q,7E:q})};if(A[a[2w]]){if(A[a[2m]]){A[a[3m]](s)}1e {if(s>= A[a[1S]]+ A[a[2u]]- 1){A[a[3m]](s- A[a[2u]]+ p[a[59]]+ 1)}1e {if(s< A[a[1S]]){A[a[3m]](s)}}}};if(!k[a[mX]]&& i(A[a[1I]][a[eR]])){A[a[1I]][a[eR]]({1P:a[eR],2y:A[a[2f]],af:p})};if(A[a[1x]]&& A[a[1x]][a[59]]<= 0){o= 1g};if(o){A[a[1O]]= [[r,q]];if(A[a[3p]]){A[a[7W]](s)};A[a[2Q]]();A[a[2B]]()};A[a[cu]]= 1f;if(k[a[mX]]){1d};if(i(A[a[1I]][a[sR]])){A[a[1I]][a[sR]]({1P:a[sR],2y:A[a[2f]],af:p})};1c b(d){1a g;1i(1a f=0,h=d[a[59]];f< h;f++){g= d[f];if(bi(g[a[1p]])){b(g[a[1p]])};A[a[b1]](a[B6],g)}}1c d(b,i){1a g;1i(1a f=0,h=b[a[59]];f< h;f++){g= b[f];if(bi(g[a[1p]])){d(g[a[1p]],i)};A[a[b1]](i,g)}}},Pj:1c(d,r){1a s=1b;1a o=s[a[1O]];1a b=s[a[2O]];1a n=s[a[3N]];1a u={};1a m=cd[a[69]](1f,[],s[a[5V]]);1a k=0,h=0;1a p=0;1a t;1a q;1a v;1a j;1a f=[];1a g;1a w=1T;if(l(r)){r= a[7G]}1e {if(!1D(1o(r))){r= 1o(r)}};if(o[a[59]]){k= s[a[sQ]](o[0][0]);k= 1k[a[1F]](k,0)};if(bm(r)){h= r}1e {if(r== a[mv]){h= 0}1e {if(r== a[1f0]){if(o[a[59]]){h= o[0][1]}1e {1d}}1e {if(r== a[28b]){if(o[a[59]]){h= o[0][1]+ 1}1e {1d}}1e {h= s[a[1z]][a[59]]}}}};h= 1k[a[1A]](h,s[a[1z]][a[59]]);if(!bi(d)){d= [d]};if(d[a[59]]<= 0|| l(s[a[5g]])){1d};if(s[a[4j]]&& s[a[2Y]]&& s[a[2p]]){s[a[2Y]][a[dW]]()};g= cd[a[B5]](d,[],a[1p],1g);cd[a[1q]](g,1c(b,d){1a g;f[a[1s]](d[a[1m]]);s[a[jc]][d[a[1m]]]= 1;if(d[a[AX]]=== w){1d};g= d[a[AX]];s[a[1f4]](d[a[1m]],g)});if(s[a[5g]][a[8f]]> 1&& h> 0&& h< s[a[1z]][a[59]]){t= s[a[1z]][h];q= s[a[1es]](t);j= h;if(q&& q[a[1p]][a[59]]){v= q[a[1n]];if(r== a[1f0]){h= v;j= s[a[j8]](b,q[b],m)}1e {if(h> q[a[1n]]){h= v+ q[a[8a]];j= s[a[j8]](b,q[b],m)+ 1}1e {j= s[a[j8]](b,q[b],m)}}}1e {j= s[a[j8]](b,t[b],m)};cd[a[1q]](d,1c(b,d){m[a[2E]](j+ b,0,d)})}1e {cd[a[1q]](d,1c(b,d){m[a[2E]](h+ b,0,d)})};if(s[a[6n]]){cd[a[1q]](s[a[1z]],1c(f,g){1a d=g[b];if(n[d]=== 1f){u[g[a[1m]]]= 1f}})};if(s[a[2o]]> 0){p= s[a[2o]];s[a[p9]](0)};s[a[wn]](m,1g);if(s[a[dD]]){s[a[nB]]()};if(s[a[6n]]){cd[a[1q]](s[a[1z]],1c(g,h){1a f=h[a[1m]];1a d=h[b];if(u[f]=== 1f){s[a[3N]][d]= 1f}})};s[a[fy]]= 0;s[a[1f3]](g,r,h);if(s[a[2Z]]){s[a[Bb]]()};s[a[wY]]();s[a[wj]]();s[a[hu]]();if(p> 0){s[a[p9]](p)}1e {s[a[lO]]()};if(i(s[a[1I]][a[EW]])){s[a[1I]][a[EW]]({1P:a[EW],2y:s[a[2f]],3l:h,j9:f})};s[a[dN]](k,h)},PX:1c(d,q,r){1a s=1b;1a o=s[a[1O]];1a b=s[a[2O]];1a n=s[a[3N]];1a u={};1a m=cd[a[69]](1f,[],s[a[5V]]);1a k=0,h=0;1a p=0;1a t;1a g;1a j;1a f=[];1a v=1T;t= s[a[fA]](a[1m],q,m);if(l(t)){1d};if(!bi(t[a[1p]])){t[a[1p]]= []};if(l(r)){r= a[7G]}1e {if(!1D(1o(r))){r= 1o(r)}};if(o[a[59]]){k= s[a[sQ]](o[0][0]);k= 1k[a[1F]](k,0)};if(bm(r)){j= 1k[a[1A]](t[a[1p]][a[59]],r);h= t[a[1n]]+ j}1e {if(r== a[mv]){h= t[a[1n]];j= 0}1e {j= t[a[1p]][a[59]];h= t[a[1n]]+ j}};h= 1k[a[1A]](h,s[a[1z]][a[59]]);j= 1k[a[1A]](j,t[a[1p]][a[59]]);if(!bi(d)){d= [d]};if(d[a[59]]<= 0|| l(s[a[5g]])){1d};if(s[a[4j]]&& s[a[2Y]]&& s[a[2p]]){s[a[2Y]][a[dW]]()};g= cd[a[B5]](d,[],a[1p],1g);cd[a[1q]](g,1c(b,d){1a g;f[a[1s]](d[a[1m]]);s[a[jc]][d[a[1m]]]= 1;if(d[a[AX]]=== v){1d};g= d[a[AX]];s[a[1f4]](d[a[1m]],g)});j= 1k[a[1A]](j,t[a[1p]][a[59]]);cd[a[1q]](d,1c(b,d){t[a[1p]][a[2E]](j+ b,0,d)});if(s[a[6n]]){cd[a[1q]](s[a[1z]],1c(f,g){1a d=g[b];if(n[d]=== 1f){u[g[a[1m]]]= 1f}})};if(s[a[2o]]> 0){p= s[a[2o]];s[a[p9]](0)};s[a[wn]](m,1g);if(s[a[dD]]){s[a[nB]]()};if(s[a[6n]]){cd[a[1q]](s[a[1z]],1c(g,h){1a f=h[a[1m]];1a d=h[b];if(u[f]=== 1f){s[a[3N]][d]= 1f}})};s[a[fy]]= 0;s[a[1f3]](g,r,h);if(s[a[2Z]]){s[a[Bb]]()};s[a[wY]]();s[a[wj]]();s[a[hu]]();if(p> 0){s[a[p9]](p)}1e {s[a[lO]]()};if(i(s[a[1I]][a[EX]])){s[a[1I]][a[EX]]({1P:a[EX],2y:s[a[2f]],3l:h,jH:j,j9:f,28c:q})};s[a[dN]](k,h)},PW:1c(d){1a q=1b;1a o=q[a[1O]];1a b=q[a[2O]];1a n=q[a[3N]];1a r={};1a k=cd[a[69]](1f,[],q[a[5V]]);1a j=0;1a f=[];1a h=[];1a p=1f;1a g=q[a[1z]][a[59]];if(l(d)){1d};if(d== a[pa]){if(o[a[59]]&& o[a[59]]> 0){cd[a[1q]](o,1c(b,d){f[a[1s]](d[1])});f= cd[a[7V]](f);f= f[a[nY]](1o)}1e {1d}}1e {if(bi(d)){cd[a[1q]](d,1c(b,d){if(!1D(1o(d))){f[a[1s]](1o(d))}})}1e {d= 1o(d);if(1D(d)){1d};f[a[1s]](d)}};f= cd[a[cv]](f,1c(d,f){if(q[a[1Q]]){if(f== q[a[mw]]){1d 1g};if(q[a[1W]]&& q[a[1W]][a[59]]> 0){1a b=q[a[8Y]](f);if(q[a[1W]][a[19]](b)>= 0){1d 1g}}};if(f>= g){1d 1g};1d 1f});if(f[a[59]]<= 0){1d};cd[a[1q]](f,1c(d,f){1a b=q[a[8Y]](f);if(!m(b)){h[a[1s]](b)}});if(i(q[a[1I]][a[Kw]])){p= q[a[1I]][a[Kw]]({1P:a[Kw],2y:q[a[2f]],1f2:f,j9:h})};if(p=== 1g){1d};cd[a[1q]](h,1c(b,d){if(q[a[jc]][d]!== 1){q[a[sN]][d]= 1}1e {2j q[a[jc]][d]}});if(q[a[4j]]&& q[a[2Y]]&& q[a[2p]]){q[a[2Y]][a[dW]]()};f= f[a[aP]](1c(a,b){1d b- a});if(o[a[59]]){j= q[a[sQ]](o[0][0]);j= 1k[a[1F]](j,0)};cd[a[1q]](f,1c(d,f){1a b=q[a[8Y]](f);if(!m(b)){q[a[28a]](b)}});if(q[a[5g]][a[8f]]> 1){cd[a[1q]](f,1c(g,o){1a j=q[a[1z]][o];if(!j){1d 1g};1a i=q[a[1ez]](j,b,k);1a d=o;1a h;1a m,n;1a p,f;if(i&& i[a[59]]){h= i[0];if(h&& h[a[1p]]){d= q[a[j8]](b,j[b],h[a[1p]]);h[a[1p]][a[2E]](d,1);1i(p= 1,f= i[a[59]];p< f;p++){h= i[p- 1];n= i[p];if(l(h[a[1p]])|| h[a[1p]][a[59]]== 0){m= q[a[j8]](b,h[b],n[a[1p]]);if(m>= 0){n[a[1p]][a[2E]](m,1)}}};h= i[i[a[59]]- 1];if(l(h[a[1p]])|| h[a[1p]][a[59]]== 0){m= q[a[j8]](b,h[b],k);k[a[2E]](m,1)}}}1e {d= q[a[j8]](b,j[b],k);k[a[2E]](d,1)}})}1e {cd[a[1q]](f,1c(b,d){k[a[2E]](d,1)})};if(q[a[6n]]){cd[a[1q]](q[a[1z]],1c(f,g){1a d=g[b];if(n[d]=== 1f){r[g[a[1m]]]= 1f}})};q[a[wn]](k,1g);if(q[a[dD]]){q[a[nB]]()};if(q[a[6n]]){cd[a[1q]](q[a[1z]],1c(g,h){1a f=h[a[1m]];1a d=h[b];if(r[f]=== 1f){q[a[3N]][d]= 1f}})};if(q[a[2o]]> q[a[1z]][a[59]]){q[a[2o]]= q[a[1z]][a[59]]};q[a[fy]]= 0;q[a[27Z]](f);if(q[a[2Z]]){q[a[Bb]]()};q[a[wY]]();q[a[wj]]();q[a[hu]]();q[a[lO]]();if(i(q[a[1I]][a[F9]])){q[a[1I]][a[F9]]({1P:a[F9],2y:q[a[2f]],j9:h})}},Nw:1c(){1a b=1b;1d cd[a[AZ]](b[a[jc]])},Sm:1c(){1a b=1b;1d cd[a[AZ]](b[a[sN]])},If:1c(b){1a d=1b;if(b== a[LT]){d[a[jc]]= {}}1e {if(b== a[ik]){d[a[sN]]= {}}1e {d[a[jc]]= {};d[a[sN]]= {}}}},1ft:1c(d){1a g=1b;1a b=g[a[2O]];1a f=g[a[3N]];1a h={};d= g[a[Kz]](d);g[a[jc]]= {};g[a[sN]]= {};if(g[a[6n]]){cd[a[1q]](g[a[1z]],1c(g,i){1a d=i[b];if(f[d]=== 1f){h[i[a[1m]]]= 1f}})};g[a[wn]](d,1g);if(g[a[dD]]){g[a[nB]]()};if(g[a[6n]]){cd[a[1q]](g[a[1z]],1c(i,j){1a f=j[a[1m]];1a d=j[b];if(h[f]=== 1f){g[a[3N]][d]= 1f}})};if(g[a[2o]]> g[a[1z]][a[59]]){g[a[2o]]= g[a[1z]][a[59]]};g[a[1O]]= [];g[a[fy]]= 0;g[a[27X]]();g[a[Bb]]();g[a[wY]]();g[a[wj]]();g[a[hu]]();g[a[lO]]();g[a[2Q]]();g[a[2B]]();g[a[27Y]]()},KI:1c(u){1a v=1b;1a d=v[a[8p]];1a f=v[a[1x]];1a j;1a b;1a q;1a h;1a s=v[a[1S]];1a r=v[a[1M]];1a t=v[a[1O]];1a x;1a w;1a n=1g;1a o=v[a[1Q]];1a p=v[a[4j]];1a k=[];if(v[a[6J]]()|| v[a[ab]]()|| l(t)|| t[a[59]]<= 0){1d};if(o&&  !v[a[4z]]){1d};if(v[a[6D]]){v[a[2l]](1g,1f)}1e {v[a[2l]](1f,1f)};if(l(d)){d= v[a[2U]]};if(!bi(u)){x= [];u= [];cd[a[1q]](t,1c(b,d){x[a[1s]](d[0])});x= cd[a[7V]](x);cd[a[1q]](x,1c(d,g){1a b=v[a[2M]](g,r,f);u[a[1s]]({iR:b,id:g})})};u= cd[a[mF]][a[21]](u,a[m4]);1i(1a g=0,m=u[a[59]];g< m;g++){w= u[g][a[nW]];j= v[a[5Z]](w,r,d);if(!j){1u};q= v[a[5b]](j,r,d);if(q){h= v[a[2M]](j[r],r,q[a[1p]]);b= q[a[1p]][h- 1];if(b){if(!bi(b[a[1p]])){b[a[1p]]= []};v[a[4j]]= 1g;v[a[ag]](b,1f,1g,1f);v[a[4j]]= p;j[a[3e]]= 1f;b[a[1p]][a[1s]](j);b[a[6k]]= 1f;b[a[3e]]= 1f;b[a[4O]]= 1f;k[a[1s]](j);q[a[1p]][a[2E]](h,1);n= 1f}}1e {h= v[a[2M]](j[r],r,d);b= d[h- 1];if(b){if(!bi(b[a[1p]])){b[a[1p]]= []};v[a[4j]]= 1g;v[a[ag]](b,1f,1g,1f);v[a[4j]]= p;j[a[3e]]= 1f;b[a[1p]][a[1s]](j);b[a[6k]]= 1f;b[a[3e]]= 1f;b[a[4O]]= 1f;k[a[1s]](j);d[a[2E]](h,1);n= 1f}}};if(n){v[a[5m]]= 1f;v[a[6m]](d);if(o!= v[a[1Q]]){v[a[fZ]](1f)};v[a[5m]]= 1g;v[a[fP]](1f,1g,1f,1g);if(v[a[2w]]){v[a[3m]](s)};v[a[1O]]= t;v[a[2Q]]();v[a[2B]]();if(v[a[4j]]&& v[a[2p]]){v[a[27g]](cd[a[69]](1f,[],u))}};if(i(v[a[1I]][a[Kk]])){v[a[1I]][a[Kk]]({1P:a[Kk],2y:v[a[2f]],af:cd[a[4R]](1f,[],k)})}},KU:1c(w){1a x=1b;1a d=x[a[8p]];1a f=x[a[1x]];1a m;1a b;1a s;1a h;1a j;1a u=x[a[1S]];1a t=x[a[1M]];1a v=x[a[1O]];1a A;1a y;1a p=1g;1a q=x[a[1Q]];1a z;1a r=x[a[4j]];1a n=[];if(x[a[6J]]()|| x[a[ab]]()|| l(v)|| v[a[59]]<= 0){1d};if(q&&  !x[a[4z]]){1d};if(x[a[6D]]){x[a[2l]](1g,1f)}1e {x[a[2l]](1f,1f)};if(l(d)){d= x[a[2U]]};if(!bi(w)){A= [];w= [];cd[a[1q]](v,1c(b,d){A[a[1s]](d[0])});A= cd[a[7V]](A);cd[a[1q]](A,1c(d,g){1a b=x[a[2M]](g,t,f);w[a[1s]]({iR:b,id:g})})};w= cd[a[Jg]][a[21]](w,a[m4]);1i(1a g=0,o=w[a[59]];g< o;g++){y= w[g][a[nW]];m= x[a[5Z]](y,t,d);if(!m){1u};s= x[a[5b]](m,t,d);if(s){h= x[a[2M]](m[t],t,s[a[1p]]);b= x[a[5b]](s,t,d);if(b){z= b[a[1p]]}1e {z= d};j= x[a[2M]](s[t],t,z);if(h!= s[a[1p]][a[59]]- 1){if(m[a[4O]]){x[a[4j]]= 1g;x[a[ag]](m,1f,1g,1f);x[a[4j]]= r};m[a[3e]]= 1f;m[a[6k]]= 1f;m[a[4O]]= 1f;if(!bi(m[a[1p]])){m[a[1p]]= []};m[a[1p]]= m[a[1p]][a[5I]](s[a[1p]][a[222]](h+ 1,s[a[1p]][a[59]]))};if(j!=  -1){z[a[2E]](j+ 1,0,m)}1e {z[a[1s]](m)};s[a[1p]][a[2E]](h,s[a[1p]][a[59]]- h);if(bi(s[a[1p]])&& s[a[1p]][a[59]]> 0){s[a[4O]]= 1f}1e {s[a[4O]]= 1g};n[a[1s]](m);p= 1f}};if(p){x[a[5m]]= 1f;1a B=x[a[Kp]];1a k=1g;cd[a[1q]](d,1c(b,d){if(bi(d[a[1p]])&& d[a[1p]][a[59]]> 0){k= 1f;1d 1g};if(b> B){1d 1g}});if(!k){cd[a[1q]](d,1c(b,d){d[a[4b]]= 1;d[a[4O]]= 1g;d[a[Ko]]= 0})};x[a[6m]](d);if(q!= x[a[1Q]]){x[a[fZ]](1f)};x[a[5m]]= 1g;x[a[fP]](1f,1g,1f,1g);if(x[a[2w]]){x[a[3m]](u)};x[a[1O]]= v;x[a[2Q]]();x[a[2B]]();if(x[a[4j]]&& x[a[2p]]){x[a[27f]](cd[a[69]](1f,[],w))}};if(i(x[a[1I]][a[Kl]])){x[a[1I]][a[Kl]]({1P:a[Kl],2y:x[a[2f]],af:cd[a[4R]](1f,[],n)})}},1fs:1c(s,y,f,w,d){1a v=1b;1a g=v[a[2U]];1a i=v[a[1x]];1a n=[];1a z,x;1a k,q,r;1a t=v[a[1M]];1a u=v[a[1O]];1a h=1g;1a p={5Y:v[a[3j]],9O:v[a[3k]],6L:v[a[3t]],7E:v[a[3u]]};1a b;1a m=1g;if(v[a[1Q]]|| v[a[ab]]()|| (v[a[4j]]&& v[a[6J]]())){1d};if(l(s)|| y< 0){1d};if(v[a[6J]]()){f= 1;y-= 1;if(y< 0){y= 0;m= 1f};x= i[y];if(l(x)){1d};y= v[a[2M]](x[t],t,g);if(y< 0){1d};if(!m){y+= 1}};f= f|| 1;if(l(w)){w= v[a[1S]]};if(v[a[2p]]&& v[a[4j]]){h= 1f}1e {h= 1g};if(v[a[6D]]){v[a[2l]](1g,1f)}1e {v[a[2l]](1f,1f)};k= v[a[2M]](s,t,g);if(k< 0){1d};if(d=== 1f){if(k< y){y+= 1}}1e {if(k<= y&& y<= k+ f){1d}};if(k< y){q= k}1e {if(k> y){q= k+ f}1e {1d}};1i(1a j=k,o=1k[a[1A]](f+ k,g[a[59]]);j< o;j++){n[n[a[59]]]= g[j]};if(n[a[59]]< 0){1d};if(y>= g[a[59]]){g[a[2E]](k,n[a[59]]);cd[a[1q]](n,1c(b,d){g[g[a[59]]]= d})}1e {z= g[y];g[a[2E]](k,n[a[59]]);r= v[a[2M]](z[t],t,g);r= 1k[a[1F]](r,0);g[a[2E]][a[63]](g,[r,0][a[5I]](n))};v[a[5m]]= 1f;v[a[6m]](g);v[a[5m]]= 1g;v[a[tG]](1f);v[a[1O]]= u;if(p[a[154]]< p[a[4S]]){b= {5Y:r,9O:r+ p[a[4S]]- p[a[154]],6L:p[a[152]],7E:p[a[3H]]}}1e {b= {5Y:r+ p[a[154]]- p[a[4S]],9O:r,6L:p[a[152]],7E:p[a[3H]]}};v[a[3j]]= b[a[154]];v[a[3k]]= b[a[4S]];v[a[3t]]= b[a[152]];v[a[3u]]= b[a[3H]];v[a[2Q]]();v[a[2B]]();if(h){v[a[26o]](s,y,q,f,w,b,p)}},1fr:1c(j,t,s){1a r=1b;1a b=r[a[8p]];1a f=r[a[1x]];1a n;1a g;1a p=r[a[1M]];1a x,y;1a w=r[a[1Q]];1a q=r[a[1O]];1a d=1g;1a u,v;1a i=1g;1a m,o,k,h;if(w&&  !r[a[4z]]){1d};if(t>= f[a[59]]){t= f[a[59]]- 1;i= 1f};u= f[t];v= f[t- 1];if(l(j)|| l(u)|| r[a[6J]]()|| r[a[ab]]()){1d};if(r[a[2p]]&& r[a[4j]]){d= 1f}1e {d= 1g};if(r[a[6D]]){r[a[2l]](1g,1f)}1e {r[a[2l]](1f,1f)};if(l(b)){b= r[a[2U]]};x= j[p];y= u[p];if(l(x)|| l(y)){1d};n= r[a[5b]](j,p,b);if(n){g= r[a[2M]](j[p],p,n[a[1p]]);m= n[p];k= g;if(g!=  -1&& bi(n[a[1p]])){n[a[1p]][a[2E]](g,1)}1e {1d}}1e {g= r[a[2M]](j[p],p,b);m= 1h;k= g;if(g!=  -1){b[a[2E]](g,1)}1e {1d}};if(i){n= r[a[5b]](u,p,b);if(n){n[a[1p]][n[a[1p]][a[59]]]= j;o= n[p];h= n[a[1p]][a[59]]}1e {b[b[a[59]]]= j;o= 1h;h= b[a[59]]}}1e {if(!l(v)&& u[a[4b]]< v[a[4b]] && j[a[4b]]== v[a[4b]]){n= r[a[5b]](v,p,b);if(n){n[a[1p]][n[a[1p]][a[59]]]= j;o= n[p];h= n[a[1p]][a[59]]}1e {b[b[a[59]]]= j;o= 1h;h= b[a[59]]}}1e {n= r[a[5b]](u,p,b);if(n){g= r[a[2M]](u[p],p,n[a[1p]]);o= n[p];h= g;if(g!=  -1&& bi(n[a[1p]])){n[a[1p]][a[2E]](g,0,j)}1e {1d}}1e {g= r[a[2M]](u[p],p,b);o= 1h;h= g;if(g!=  -1){b[a[2E]](g,0,j)}1e {1d}}}};r[a[5m]]= 1f;r[a[6m]](b);r[a[5m]]= 1g;r[a[tG]](1f);r[a[1O]]= q;r[a[2Q]]();r[a[2B]]();if(d){r[a[26p]](j[p],m,o,k,h,s)};1d r[a[2M]](j[p],p,r[a[1x]])},1fu:1c(g,h,f){1a m=1b;1a b=m[a[8p]];1a i;1a d;1a j=m[a[1M]];1a o;1a n=m[a[1Q]];1a k=m[a[1O]];if(n&&  !m[a[4z]]){1d};if(l(b)){b= m[a[2U]]};o= g[j];if(l(o)){1d};i= m[a[5b]](g,j,b);if(i){d= m[a[2M]](g[j],j,i[a[1p]]);if(d!=  -1&& bi(i[a[1p]])){i[a[1p]][a[2E]](d,1)}1e {1d}}1e {d= m[a[2M]](g[j],j,b);if(d!=  -1){b[a[2E]](d,1)}1e {1d}};i= m[a[5Z]](h,j,b);if(i&& bi(i[a[1p]])){i[a[1p]][a[2E]](f,0,g)}1e {b[a[2E]](f,0,g)};m[a[5m]]= 1f;m[a[6m]](b);m[a[5m]]= 1g;m[a[tG]](1f);m[a[1O]]= k;m[a[2Q]]();m[a[2B]]()},M6:1c(r){1a s=1b;1a b=s[a[8p]];1a f=s[a[1x]];1a i;1a n;1a h;1a p=s[a[1S]];1a o=s[a[1M]];1a q=s[a[1O]];1a v;1a t;1a k=1g;1a m=s[a[1Q]];1a d=1g;1a u=-1;1a w=1f;if(m&&  !s[a[4z]]){1d};if(s[a[6J]]()|| s[a[ab]]()|| l(q)|| q[a[59]]<= 0){1d};if(s[a[2p]]&& s[a[4j]]){d= 1f}1e {d= 1g};if(s[a[6D]]){s[a[2l]](1g,1f)}1e {s[a[2l]](1f,1f)};if(l(b)){b= s[a[2U]]};if(!bi(r)){v= [];r= [];cd[a[1q]](q,1c(b,d){v[a[1s]](d[0])});v= cd[a[7V]](v);cd[a[1q]](v,1c(g,h){1a b=s[a[2M]](h,o,f);1a d=f[b];if(m&& u!==  -1&& d[a[4b]]!= u){w= 1g;1d 1g};u= d[a[4b]];r[a[1s]]({iR:b,id:h})})};if(!w){1d};r= cd[a[mF]][a[21]](r,a[m4]);1i(1a g=0,j=r[a[59]];g< j;g++){t= r[g][a[nW]];p= 1k[a[1A]](1o(r[g][a[m4]])- 1,p);i= s[a[5Z]](t,o,b);if(!i){1u};n= s[a[5b]](i,o,b);if(n){h= s[a[2M]](i[o],o,n[a[1p]]);if(h!=  -1&& bi(n[a[1p]])){if(h- 1>= 0){n[a[1p]][a[2E]](h,1);n[a[1p]][a[2E]](h- 1,0,i);k= 1f}1e {k= 1g;1l}}}1e {h= s[a[2M]](i[o],o,b);if(h!=  -1){if(h- 1>= 0){b[a[2E]](h,1);b[a[2E]](h- 1,0,i);k= 1f}1e {k= 1g;1l}}}};if(k){if(s[a[sU]]()){s[a[3j]]= 1k[a[1F]](0,s[a[3j]]- 1);s[a[3k]]= 1k[a[1F]](0,s[a[3k]]- 1)};s[a[5m]]= 1f;s[a[6m]](b);if(m!= s[a[1Q]]){s[a[fZ]](1f)};s[a[5m]]= 1g;s[a[fP]](1f,1g,1f,1g);if(s[a[2w]]){s[a[3m]](p)};s[a[1O]]= q;if(s[a[3p]]&& r[a[59]]){s[a[7W]](r[0][a[m4]]- 1)};s[a[2Q]]();s[a[2B]]();if(d){s[a[26n]](cd[a[69]](1f,[],r))}}},Mr:1c(s){1a t=1b;1a b=t[a[8p]];1a f=t[a[1x]];1a i;1a n;1a h;1a q=t[a[1S]];1a o=t[a[2u]];1a p=t[a[1M]];1a r=t[a[1O]];1a w;1a u;1a k=1g;1a m=t[a[1Q]];1a d=1g;1a v=-1;1a x=1f;if(m&&  !t[a[4z]]){1d};if(t[a[6J]]()|| t[a[ab]]()|| l(r)|| r[a[59]]<= 0){1d};if(t[a[2p]]&& t[a[4j]]){d= 1f}1e {d= 1g};if(t[a[6D]]){t[a[2l]](1g,1f)}1e {t[a[2l]](1f,1f)};if(l(b)){b= t[a[2U]]};if(!bi(s)){w= [];s= [];cd[a[1q]](r,1c(b,d){w[a[1s]](d[0])});w= cd[a[7V]](w);cd[a[1q]](w,1c(g,h){1a b=t[a[2M]](h,p,f);1a d=f[b];if(m&& v!==  -1&& d[a[4b]]!= v){x= 1g;1d 1g};v= d[a[4b]];s[a[1s]]({iR:b,id:h})})};if(!x){1d};s= cd[a[Jg]][a[21]](s,a[m4]);1i(1a g=0,j=s[a[59]];g< j;g++){u= s[g][a[nW]];if(1o(s[g][a[m4]])+ 1>= q+ o- 1){q++};i= t[a[5Z]](u,p,b);if(!i){1u};n= t[a[5b]](i,p,b);if(n){h= t[a[2M]](i[p],p,n[a[1p]]);if(h!=  -1&& bi(n[a[1p]])){if(h+ 1< n[a[1p]][a[59]]){n[a[1p]][a[2E]](h,1);n[a[1p]][a[2E]](h+ 1,0,i);k= 1f}1e {k= 1g;1l}}}1e {h= t[a[2M]](i[p],p,b);if(h!=  -1){if(h+ 1< b[a[59]]){b[a[2E]](h,1);b[a[2E]](h+ 1,0,i);k= 1f}1e {k= 1g;1l}}}};if(k){if(t[a[sU]]()){t[a[3j]]= 1k[a[1A]](b[a[59]]- 1,t[a[3j]]+ 1);t[a[3k]]= 1k[a[1A]](b[a[59]]- 1,t[a[3k]]+ 1)};t[a[5m]]= 1f;t[a[6m]](b);if(m!= t[a[1Q]]){t[a[fZ]](1f)};t[a[5m]]= 1g;t[a[fP]](1f,1g,1f,1g);if(t[a[2w]]){t[a[3m]](q)};t[a[1O]]= r;if(t[a[3p]]&& s[a[59]]){t[a[7W]](s[s[a[59]]- 1][a[m4]]+ 1)};t[a[2Q]]();t[a[2B]]();if(d){t[a[26m]](cd[a[69]](1f,[],s))}}},L3:1c(b){1b[a[gd]](1h,b)},Md:1c(D,z,p){1a G=1b;1a g=G[a[1x]];1a E=[];1a m;1a C=G[a[1M]];1a t,s,r;1a J=G[a[i8]];1a I=G[a[J3]][a[13]]();1a N=[];1a K=G[a[1Q]];1a q=G[a[4z]]=== 1g?1f:1g;1a x=1g;1a o=0;1a n=0;1a F=G[a[1O]];1a y=F;1a f=G[a[zO]]();1a A=[];1a H=G[a[7A]];1a d=G[a[3a]];1a h;1a M,L;1a b=G[a[jO]]();1a B;if(l(p)){p= {tc:1g,fS:1g}};if(G[a[2p]]&& G[a[4j]]){h= 1f}1e {h= 1g};if(K&&  !G[a[mR]]&& G[a[1W]]&& G[a[1W]][a[59]]> 0){1d};G[a[2l]](1f,1f);if(l(p)){p= {}};if(l(z)){if(D== a[pa]){if(F[a[59]]<= 0){1d};1i(1a k=0,u=F[a[59]];k< u;k++){N[a[1s]](F[k][0])}}1e {if(!bi(D)){if(bl(D)){1d};E= [1o(D)]}1e {E= D};1i(1a w=0,v=E[a[59]];w< v;w++){m= 1o(E[w]);if(bl(m)|| m< 0|| m>= g[a[59]]){1u};N[a[1s]](g[m][C])}};N= cd[a[7V]](N)}1e {if(!bi(z)){z= [z]};N= cd[a[7V]](z)};o= G[a[2M]](N[0],C,g);if(F[a[59]]> 0){n= F[0][1]};t= [];s= [];r= [];g= G[a[2U]];if(K&&  !q){cd[a[1q]](N,1c(d,f){1a b=G[a[5Z]](f,C,g);if(!b|| G[a[d4]](b)){1d};t[a[1s]](b);r= r[a[5I]](G[a[rT]](1h,b))})}1e {if(q){g= G[a[9X]]()};M= G[a[1fx]](N,C,g);L= G[a[1fw]](N,C,g);cd[a[1q]](N,1c(d,g){1a b=M[g];1a f=L[g];if(!b|| G[a[d4]](b) || b[a[2R]] || b[a[7a]]){1d};t[a[1s]](b);s[a[1s]](f)});if(t[a[59]]<= 0|| s[a[59]]!= t[a[59]]){1d}};if(t[a[59]]== 0){1d};if(!p[a[mX]]&& i(G[a[1I]][a[IR]])){B= G[a[1I]][a[IR]]({1P:a[IR],2y:G[a[2f]],IX:J,af:cd[a[4R]](1f,[],t)});if(B=== 1g){1d}};if(K&&  !q){g= G[a[8p]];cd[a[1q]](t,1c(b,k){1a i;1a j;1a f;G[a[cG]]= 1f;G[a[b1]](a[ik],k);j= k[C];if(!J|| (I== a[BD]&& G[a[oY]](k))){x= 1f;f= G[a[5b]](k,C,g);if(f){i= G[a[2M]](j,C,f[a[1p]]);f[a[1p]][a[2E]](i,1);if(h){A[a[1s]]({gb:1f,hk:1g,oS:f[C],2P:i,3i:k})};if(f[a[1p]][a[59]]== 0){2j f[a[1p]];f[a[6k]]= 1g;f[a[4O]]= 1g}1e {f[a[4O]]= 1f};if(H){if(j in  d){2j d[j]}}}1e {if(k[a[4b]]== 1){i= G[a[2M]](j,C,g);g[a[2E]](i,1);if(H){if(j in  d){2j d[j]}};if(h){A[a[1s]]({gb:1f,hk:1g,oS:1h,2P:i,3i:k})}}}}1e {if(h){A[a[1s]]({gb:1f,hk:1f,3i:k})}}});cd[a[1q]](r,1c(b,d){G[a[b1]](a[ik],d);if(h){A[a[1s]]({gb:1f,hk:1f,3i:d})}})}1e {if(q&&  !l(G[a[8I]])){g= G[a[8I]]}1e {g= G[a[2U]]};if(!J&&  !h){g= cd[a[cv]](g,1c(b,h){1a g;1a f;g= h[C];f= L[g];if(M[g]&& f>= 0){x= 1f;G[a[cG]]= 1f;G[a[b1]](a[ik],h);if(H){if(d[g]){2j d[g]}};1d 1g};1d 1f})}1e {cd[a[1q]](t,1c(b,j){1a f;1a i;i= j[C];G[a[cG]]= 1f;G[a[b1]](a[ik],j);if(!J){f= G[a[2M]](i,C,g);g[a[2E]](f,1);x= 1f;if(H){if(i in  d){2j d[i]}};if(h){A[a[1s]]({gb:1g,hk:1g,oS:1h,2P:f,3i:j})}}1e {if(I== a[BD]&& G[a[oY]](j)){f= G[a[2M]](i,C,g);g[a[2E]](f,1);x= 1f;if(H){if(i in  d){2j d[i]}};if(h){A[a[1s]]({gb:1g,hk:1g,oS:1h,2P:f,3i:j})}}1e {if(h){A[a[1s]]({gb:1g,hk:1f,3i:j})}}}})}};if(x){if(q&&  !l(G[a[8I]])){G[a[6m]](g)}1e {G[a[5m]]= 1f;G[a[6m]](g);G[a[5m]]= 1g};G[a[tG]](1f);G[a[8H]]= 1f;G[a[cC]]();G[a[1fl]]()}1e {if(J&&  !G[a[C3]]){G[a[5K]]();G[a[6a]]()};G[a[5A]]()};if(h&& G[a[2p]]){G[a[26j]](A,b)};if(!p[a[mX]]&& i(G[a[1I]][a[gd]])){1a j={};j[a[85]]= a[gd];j[a[9H]]= G[a[2f]];j[a[i8]]= J;j[a[uq]]= cd[a[4R]](1f,[],t);G[a[1I]][a[gd]](j)};if(x){if(f[0]== o){G[a[uS]](o,n)}1e {G[a[1O]]= y;G[a[2Q]]();G[a[2B]]()}}1e {if(p[a[26k]]){G[a[uS]](o,n)}}},JO:1c(l){1a o=1b;1a b=o[a[4C]];1a p=[];1a g;1a m;1a n=o[a[1O]];1a d=o[a[1x]];1a k=o[a[1M]];if(!o[a[JI]]){1d};o[a[2l]](1f,1f);if(l== a[pa]){if(n[a[59]]<= 0){1d};1i(1a f=0,h=n[a[59]];f< h;f++){p[a[1s]](n[f][0])}}1e {if(!bi(l)){if(bl(l)){1d};m= [1o(l)]}1e {m= l};1i(1a j=0,i=m[a[59]];j< i;j++){g= 1o(m[j]);if(bl(g)|| g< 0|| g>= d[a[59]]){1u};p[a[1s]](d[g][k])}};p= cd[a[7V]](p);if(p&& p[a[59]]> 0){cd[a[1q]](p,1c(h,j){1a i;1a f=b[j];if(f&& f[a[6y]]){1a g={};1i(1a h in f[a[5n]]){g[h]= f[a[5n]][h]};i= o[a[2M]](j,k,d);o[a[g9]](g,i,1f,1g);b[j][a[6y]]= 1g;2j b[j][a[6d]];2j b[j][a[5n]]}});o[a[5A]]()}},Kv:1c(f){1a o=1b;1a g=o[a[4C]];1a n=o[a[1O]];1a i=o[a[1x]];1a h=i[a[59]];1a m=o[a[1M]];1a d;if(!o[a[JI]]){1d};o[a[2l]](1f,1f);if(f== a[pa]){if(n[a[59]]<= 0){1d};d= o[a[Jm]](1f)}1e {if(!bi(f)){1d};if(!bi(f[0])){f= [f]};d= [];cd[a[1q]](f,1c(b,f){if( 1L f[0]== a[0]||  1L f[1]== a[0]){1d};if(1o(f[0])< 0|| 1o(f[0])>= h){1d};d[d[a[59]]]= {2P:f[0],1fp:i[f[0]][m],5l:f[1]}})};if(d&& d[a[59]]> 0){1a j=1h;1a k=1h;1a l=-1;cd[a[1q]](d,1c(f,i){1a h=i[a[oE]];1a d=g[h];if(d&& d[a[6y]]){if(h!= k){if(j&& k&& l>= 0){b(k,l,j)};j= {}};if( 1L d[a[5n]][i[a[1m]]]!= a[0]){j[i[a[1m]]]= d[a[5n]][i[a[1m]]]};k= h;l= i[a[1H]]}});if(j&& k&& l>= 0){b(k,l,j)}};1c b(d,f,b){o[a[g9]](b,f,1f,1g);if(g[d]&& g[d][a[6d]]&& g[d][a[5n]]){if(6w[a[9T]](g[d][a[6d]])[a[59]]<= 0){g[d][a[6y]]= 1g;2j g[d][a[6d]];2j g[d][a[5n]]}1e {cd[a[1q]](b,1c(b,f){2j g[d][a[5n]][b];2j g[d][a[6d]][b]})}};o[a[5A]]()}},Kf:1c(g){1a f=1b;1a d=[];1a b=f[a[4C]];if(!bi(g)){g= [g]};if(g&& g[a[59]]> 0){cd[a[1q]](g,1c(h,i){1a f=b[i];if(f&& f[a[6y]]){1a g={};1i(1a h in f[a[5n]]){g[h]= f[a[5n]][h]};d[d[a[59]]]= g}})};if(d[a[59]]== 0){1d 1h}1e {if(d[a[59]]== 1){1d cd[a[69]](1f,{},d[0])}};1d cd[a[69]](1f,[],d)},5G:1c(){1a b=1b;if(b[a[2Y]]){b[a[2l]](1f,1f);b[a[2Y]][a[wE]]()}},5v:1c(){1a b=1b;if(b[a[2Y]]){b[a[2l]](1f,1f);b[a[2Y]][a[wV]]()}},AF:1c(){1a b=1b;if(b[a[2Y]]){1d b[a[2Y]][a[1fi]]()};1d 1g},zJ:1c(){1a b=1b;if(b[a[2Y]]){1d b[a[2Y]][a[1fh]]()};1d 1g},HQ:1c(){1a b=1b;if(b[a[2Y]]){b[a[2Y]][a[dW]]()}},GR:1c(o,k){1a r=1b;1a b=r[a[4C]];1a t=[];1a g;1a p;1a q=r[a[1O]];1a d=r[a[1x]];1a n=r[a[1M]];1a s=r[a[1Q]];1a m;if(!r[a[i8]]){1d};if(!r[a[mR]]&& s && r[a[1W]] && r[a[1W]][a[59]]> 0){1d};r[a[2l]](1f,1f);if(o== a[pa]){if(q[a[59]]<= 0){1d};1i(1a f=0,h=q[a[59]];f< h;f++){t[t[a[59]]]= q[f][0]}}1e {if(o== a[1fk]){cd[a[1q]](b,1c(b,d){if(d[a[7h]]){t[t[a[59]]]= b}})}1e {if(l(k)){if(!bi(o)){if(bl(o)){1d};p= [1o(o)]}1e {p= o};1i(1a j=0,i=p[a[59]];j< i;j++){g= 1o(p[j]);if(bl(g)|| g< 0|| g>= d[a[59]]){1u};t[a[1s]](d[g][n])}}1e {if(!bi(k)){t= [k]}1e {t= k}}}};t= cd[a[7V]](t);m= [];cd[a[1q]](t,1c(j,n){1a k=r[a[1M]];1a g,d;1a l;1a h,i;1a f=b[n];if(f&& f[a[7h]]=== 1f){f[a[7h]]= 1g;m[m[a[59]]]= n}1e {1d};if(s){g= r[a[rT]](n);if(g[a[59]]> 0){1i(h= 0,i= g[a[59]];h< i;h++){l= g[h][k];f= b[l];if(f&& f[a[7h]]=== 1f){f[a[7h]]= 1g;m[m[a[59]]]= l}}};d= r[a[A8]](n);if(d[a[59]]> 0){1i(h= 0,i= d[a[59]];h< i;h++){l= d[h][k];f= b[l];if(f&& f[a[7h]]=== 1f){f[a[7h]]= 1g;m[m[a[59]]]= l}}}}});m= cd[a[7V]](m);if(r[a[4j]]&& r[a[2p]]&& m[a[59]]){r[a[26l]](m)};r[a[5K]]();r[a[6a]]();r[a[5A]]()},GB:1c(n){1a o=1b;1a d=o[a[9X]]();1a m=o[a[1M]];1a j;1a h=1g;1a p=o[a[7A]];1a b=o[a[3a]];1a g=o[a[4z]]=== 1g?1f:1g;if(!o[a[i8]]){1d};if(!o[a[mR]]&& g){1d};o[a[2l]](1f,1f);if(l(n)){j= o[a[1li]](1f)}1e {if(!bi(n)){n= [n]};j= [];cd[a[1q]](n,1c(b,d){if(o[a[Jt]](d)){j[a[1s]](o[a[4C]][d][a[4k]])}})};if(l(j)|| j[a[59]]<= 0){1d};if(i(o[a[1I]][a[Jk]])){1a f={};f[a[85]]= a[Jk];f[a[9H]]= o[a[2f]];f[a[uq]]= j;1a k=o[a[1I]][a[Jk]](f);if(k=== 1g){1d}};if(o[a[1Q]]&&  !g){d= o[a[8p]];cd[a[1q]](j,1c(f,k){1a i;1a g;1a j=k[m];if(p){if(j in  b){2j b[j]}};g= o[a[5b]](k,m,d);if(g){i= o[a[2M]](j,m,g[a[1p]]);if(i!=  -1){g[a[1p]][a[2E]](i,1);o[a[cG]]= 1f;h= 1f}}1e {i= o[a[2M]](j,m,d);if(i!=  -1){d[a[2E]](i,1);o[a[cG]]= 1f;h= 1f}}})}1e {d= o[a[2U]];if(g&&  !l(o[a[8I]])){d= o[a[8I]]};cd[a[1q]](j,1c(g,k){1a i=o[a[2M]](k[m],m,d);1a j=k[m];1a f=d[i];if(!f){1d};if(p){if(j in  b){2j b[j]}};o[a[cG]]= 1f;h= 1f;d[a[2E]](i,1)})};if(h){if(o[a[mR]]&& g){o[a[6m]](d)}1e {o[a[5m]]= 1f;o[a[6m]](d);o[a[5m]]= 1g};o[a[tG]](1f);o[a[8H]]= 1f;o[a[cC]]();o[a[1fl]]()};if(i(o[a[1I]][a[zD]])){1a f={};f[a[85]]= a[zD];f[a[9H]]= o[a[2f]];f[a[uq]]= j;o[a[1I]][a[zD]](f)}},G5:1c(g,f){1a h=1b;1a d=h[a[4C]];1a b;if(l(g)){1d};b= d[g];if(l(b)){1d};h[a[2l]](1f,1f);h[a[uA]]();h[a[BX]]();if(h[a[4j]]&& h[a[2Y]]){h[a[2Y]][a[dW]]()};4v(f){1C a[LT]:b[a[aW]]= 1g;1l;1C a[pg]:;1C a[1fo]:b[a[6y]]= 1g;2j b[a[6d]];2j b[a[5n]];1l;1C a[ik]:b[a[7h]]= 1g;1l;1C a[iu]:;4w:2j h[a[4C]][g];1l};h[a[5K]]();h[a[6a]]();h[a[5A]]()},FR:1c(d){1a f=1b;1a b=f[a[4C]];f[a[2l]](1f,1f);f[a[uA]]();f[a[BX]]();if(f[a[4j]]&& f[a[2Y]]){f[a[2Y]][a[dW]]()};4v(d){1C a[LT]:cd[a[1q]](b,1c(b,d){d[a[aW]]= 1g});f[a[g7]]= 1g;1l;1C a[pg]:;1C a[1fo]:cd[a[1q]](b,1c(b,d){d[a[6y]]= 1g;2j d[a[6d]];2j d[a[5n]]});f[a[df]]= 1g;f[a[eD]]= {};1l;1C a[ik]:cd[a[1q]](b,1c(b,d){d[a[7h]]= 1g});f[a[cG]]= 1g;1l;1C a[iu]:;4w:b= 1h;f[a[4C]]= {};f[a[df]]= 1g;f[a[g7]]= 1g;f[a[cG]]= 1g;f[a[eD]]= {};1l};f[a[5K]]();f[a[6a]]();f[a[5A]]()},GP:1c(j){1a s=1b;1a r=s[a[1O]];1a o;1a q;1a d;1a h;1a p=s[a[1M]];1a k=s[a[1x]];1a g=s[a[1z]];1a f;1a b=s[a[2I]];1a m=s[a[2o]];1a n=s[a[1V]];if(r[a[59]]<= 0||  !s[a[2p]]){1d};if(s[a[8o]]){1d};if(l(j)){j= 1g};if(s[a[6D]]){s[a[2l]](1g,1f)}1e {s[a[2l]](1f,1f)};o= r[0][0];h= r[0][1];q= s[a[2M]](o,p,k);if(g[h][a[2p]]== 1g){1d};if(!s[a[9R]]&& (h< m|| q< n)){1d};if(s[a[2w]]){if(s[a[1S]]> q- s[a[1V]]|| s[a[1S]]+ s[a[2u]]- 1<= q){s[a[3m]](q- s[a[1V]])}};if(s[a[3g]]){s[a[pb]](h,d)};d= s[a[6K]](q);f= b[d][h];s[a[fG]](q,h,f,1g,1h,j);if(s[a[1J]]&& s[a[1J]][a[139]]&& i(s[a[1J]][a[139]][a[eI]])){s[a[1J]][a[139]][a[eI]]()}},KH:1c(d){1a g=1b;1a f=[];1a b=g[a[4C]];d=  !!d;cd[a[1q]](b,1c(b,g){if(g[a[7h]]){if(d){f[a[1s]](g[a[4k]])}1e {if(!g[a[aW]]){f[a[1s]](g[a[4k]])}}}});1d cd[a[4R]](1f,[],f)},KS:1c(){1a f=1b;1a d=[];1a b=f[a[4C]];cd[a[1q]](b,1c(b,f){if(f[a[7h]]&& f[a[aW]]){d[a[1s]](f[a[4k]])}});1d cd[a[4R]](1f,[],d)},KO:1c(f){1a g=1b;1a b=[];1a d=g[a[4C]];cd[a[1q]](d,1c(d,f){if(f[a[aW]]&&  !f[a[7h]]){b[a[1s]](f[a[4k]])}});1d f=== 1g?b:cd[a[4R]](1f,[],b)},Lq:1c(f){1a g=1b;1a d=[];1a b=g[a[4C]];cd[a[1q]](b,1c(b,f){if(f[a[6y]]&&  !f[a[7h]]&&  !f[a[aW]]){d[a[1s]](f[a[4k]])}});1d f=== 1g?d:cd[a[4R]](1f,[],d)},1fn:1c(){1a d=1b;1a b={};if(bn(d[a[4C]])&& bn(d[a[eD]])){b[a[J7]]= cd[a[4R]](1f,{},d[a[4C]]);b[a[K5]]= cd[a[4R]](1f,{},d[a[eD]])};1d b},1fm:1c(d){1a b=1b;if(bn(d)){b[a[4C]]= cd[a[4R]](1f,{},d)};b[a[df]]= 1f;b[a[5A]]()},Lm:1c(){1a g=1b;1a d=[];1a b=g[a[4C]];1a f=g[a[1M]];cd[a[1q]](b,1c(g,h){1a b;if(h[a[6y]]&&  !h[a[7h]]&&  !h[a[aW]]){b= {};b[f]= h[a[4k]][f];cd[a[1q]](h[a[6d]],1c(d,f){b[d]= h[a[4k]][d]});d[a[1s]](b)}});1d d},IP:1c(){1a b=1b;if(b[a[1x]]&& b[a[1x]][a[59]]){1d b[a[1x]][a[59]]};1d 0},ME:1c(){1a b=1b;if(b[a[1z]]&& b[a[1z]][a[59]]){1d b[a[1z]][a[59]]};1d 0},26q:1c(){1a b=1b;if(b[a[1Q]]&& b[a[2c]]&& b[a[2c]][a[7B]]){1d b[a[2c]][a[7B]][a[59]]};1d b[a[2U]][a[59]]},Ll:1c(){1a b=1b;if(b[a[1Q]]&& b[a[2c]]&&  !l(b[a[2c]][a[8f]])){1d b[a[2c]][a[8f]]};1d 1},Lj:1c(){1a b=1b;1d cd[a[4R]](1f,[],b[a[1x]])},NX:1c(k,h){1a i=1b;1a b=i[a[Lh]]();1a j=i[a[i8]];1a f;1a l={ti:a[Ca],v0:a[Cb],oB:a[uV]};if(m(k)){1d b};if(bn(h)){l= cd[a[69]](l,h)};1i(1a d=0,g=b[a[59]];d< g;d++){f= b[d];if(j){if(i[a[d4]](f)){f[k]= l[a[Cb]];1u}};if(i[a[oY]](f)){f[k]= l[a[Ca]]}1e {if(i[a[1eC]](f)){f[k]= l[a[uV]]}}};1d b},1eW:1c(){1a g=1b;1a i=g[a[2m]];1a d=g[a[Lh]]();1a b=g[a[4K]];1a f=g[a[8X]];1a h;if(!i){1d d};h= (b- 1)* f;1d d[a[222]](h,h+ f)},1eV:1c(){1a g=1b;1a i=g[a[2m]];1a d=g[a[1x]];1a b=g[a[4K]];1a f=g[a[8X]];1a h;if(!i){1d d};h= (b- 1)* f;1d d[a[222]](h,h+ f)},Fz:1c(){1a b=1b;if(b[a[1Q]]&& b[a[2c]]&& b[a[2c]][a[4f]]){1d cd[a[4R]](1f,[],b[a[2c]][a[4f]])};1d cd[a[4R]](1f,[],b[a[1x]])},FB:1c(){1a b=1b;if(b[a[1Q]]&& b[a[2c]]&& b[a[2c]][a[7B]]){1d cd[a[4R]](1f,[],b[a[2c]][a[7B]])};1d cd[a[4R]](1f,[],b[a[1x]])},Gs:1c(){1a d=1b;1a b=d[a[6n]]&& d[a[6J]]();if(!d[a[1Q]]|| l(d[a[2c]])){1d cd[a[4R]](1f,[],d[a[1x]])};if(b&& d[a[2c]][a[fv]]){1d cd[a[4R]](1f,[],d[a[2c]][a[fv]])};1d cd[a[4R]](1f,[],d[a[2c]][a[7B]])},1lk:1c(){1a b=1b;if(b[a[1Q]]){if(!l(b[a[8p]])){1d b[a[8p]]};1d b[a[2U]]}1e {1d b[a[2U]]};1d []},1ew:1c(){1a b=1b;if(b[a[1Q]]){if(!l(b[a[8p]])){1d cd[a[4R]](1f,[],b[a[8p]])};1d cd[a[4R]](1f,[],b[a[2U]])}1e {1d cd[a[4R]](1f,[],b[a[2U]])};1d []},Gq:1c(){1a b=1b;1d cd[a[BW]](1f,[],b[a[5g]][a[7Y]])},FL:1c(){1d cd[a[BW]](1f,[],1b[a[1z]])},G1:1c(g,b){1a f=1b;1a d=f[a[5Z]](g,f[a[1M]],f[a[9X]]());if(l(d)){1d 1h};if(b=== 1f){1d cd[a[4R]](1f,{},d)};1d d},IO:1c(f){1a g=1b;1a b=g[a[1x]];1a d=1h;if(f< 0|| f>= b[a[59]]){1d 1h};d= b[f];if(d){1d cd[a[4R]](1f,{},d)};1d 1h},FG:1c(b,k){1a j=1b;1a d=j[a[9X]]();1a g;1a i=[];if(l(b)|| b== a[58]){1d 1h};1i(1a f=0,h=d[a[59]];f< h;f++){g= d[f];if(g[b]== k){i[a[1s]](g)}};if(i[a[59]]> 0){1d cd[a[4R]](1f,[],i)};1d []},Rq:1c(j,s){1a x=1b;1a A=x[a[5g]][a[7Y]];1a f=x[a[1z]];1a p=x[a[b6]];1a b=x[a[3Z]];1a m=x[a[g3]];1a g;1a h;1a w;1a d=x[a[2O]];1a k=x[a[ex]];1a n=x[a[1W]];1a i;1a u,v;1a z;1a y=a[1m];1a o=1g;if(x[a[Mt]]){1d};if(k&& n[a[59]]> 0){o= 1f};if(!bi(j)){j= [j]};if(x[a[1eu]]&& s!== 1f){z= [];cd[a[1q]](j,1c(j,l){1a b,k,d,h,i;1a g=x[a[6U]](l);if(o&& g< n[a[59]]){1d};if(g>= 0){b= f[g];d= b[a[2T]];z[z[a[59]]]= l;if(d&& 1o(d)> 1){1i(h= g+ 1,i= 1k[a[1A]](f[a[59]],g+ d);h< i;h++){k= f[h];z[z[a[59]]]= k[a[1m]]}}}});j= z};j= cd[a[7V]](j);1i(1a r=0,t=j[a[59]];r< t;r++){i= j[r];g= x[a[6l]](i);g= 1o(g);if(g< 0|| g>= f[a[59]]){1u};h= f[g];if(s!== 1f&& h[a[2q]]=== 1g){1u};u= x[a[fA]](y,i,x[a[ez]]);if(u){u[a[2q]]= 1g};v= x[a[fA]](y,i,x[a[5V]]);if(v){v[a[2q]]= 1g};if(h[a[2x]]> 1){w= x[a[5b]](h,x[a[2O]],A);q(w)};h[a[2q]]= 1g;p[g][a[213]](1g);cd[a[1q]](b,1c(b,d){d[g][a[213]](1g)});if(x[a[2Z]]&&  !l(m)){cd[a[1q]](m,1c(b,d){d[g][a[213]](1g)})}};if(s=== 1f){1d};x[a[5S]](1f);1c q(g){1a f=x[a[hp]],h=f[g[d]],i,b,j=a[58],k=a[2T];b= 1o(h[a[200]](k))- 1;if(b> 0){h[a[199]](k,b)}1e {h[a[213]](1g,j)};if(g[a[2x]]> 1){i= x[a[5b]](g,x[a[2O]],A);q(i)}}},Mg:1c(){1a j=1b;1a b=j[a[1z]];1a h;1a f,g;if(j[a[2o]]== 0&& j[a[fy]]== 0){1a d=[];cd[a[1q]](b,1c(b,f){d[a[1s]](f[a[1m]])});j[a[QK]](d)}1e {cd[a[1q]](b,1c(b,d){d[a[2q]]= 1f});h= j[a[ez]];1i(f= 0,g= h[a[59]];f< g;f++){i(h[f])};h= j[a[5V]];1i(f= 0,g= h[a[59]];f< g;f++){i(h[f])};j[a[K4]]()};1c i(b){if(bi(b[a[1p]])){1i(1a d=0,f=b[a[1p]][a[59]];d< f;d++){i(b[a[1p]][d])}}1e {b[a[2q]]= 1f}}},1ev:1c(d,h){1a i=1b;1a b;1a f;1a g;if(l(d)){1d};b= i[a[cA]](d);if(l(b)){1d};g= i[a[1ej]](b);f= [];cd[a[1q]](g,1c(b,d){if(l(d)|| d[a[7q]]){1d};f[a[1s]](d[a[1m]])});if(h){i[a[Rh]](f)}1e {i[a[QK]](f)}},R3:1c(j){1a s=1b;1a v=s[a[5g]][a[7Y]];1a f=s[a[1z]];1a m=s[a[b6]];1a b=s[a[3Z]];1a k=s[a[g3]];1a d=s[a[2O]];1a g;1a h;1a r;1a i;1a p,q;1a u;if(!bi(j)){j= [j]};if(s[a[1eu]]){u= [];cd[a[1q]](j,1c(j,l){1a b,k,d,h,i;1a g=s[a[6U]](l);if(g>= 0){b= f[g];d= b[a[2T]];u[u[a[59]]]= l;if(d&& 1o(d)> 1){1i(h= g+ 1,i= 1k[a[1A]](f[a[59]],g+ d);h< i;h++){k= f[h];u[u[a[59]]]= k[a[1m]]}}}});j= u};j= cd[a[7V]](j);1i(1a n=0,o=j[a[59]];n< o;n++){i= j[n];g= s[a[6l]](i);g= 1o(g);if(g< 0|| g>= f[a[59]]){1u};h= f[g];if(h[a[2q]]=== 1f|| l(h[a[2q]])){1u};p= s[a[fA]](a[1m],i,s[a[ez]]);if(p){p[a[2q]]= 1f};q= s[a[fA]](a[1m],i,s[a[5V]]);if(q){q[a[2q]]= 1f};if(h[a[2x]]> 1){r= s[a[5b]](h,s[a[2O]],v);t(r)};h[a[2q]]= 1f;m[g][a[213]](1f,a[58]);cd[a[1q]](b,1c(b,d){d[g][a[213]](1f,a[58])});if(s[a[2Z]]&&  !l(k)){cd[a[1q]](k,1c(b,d){d[g][a[213]](1f,a[58])})}};s[a[5S]](1f);1c t(g){1a f=s[a[hp]],h=f[g[d]],i,b;b= 1o(h[a[200]](a[2T]))+ 1;if(!h[a[189]]){h[a[213]](1f,a[58]);h[a[199]](a[2T],1)}1e {h[a[199]](a[2T],b)};if(g[a[2x]]> 1){i= s[a[5b]](g,s[a[2O]],v);t(i)}}},M1:1c(f){1a d=1b;1a b;if(l(d[a[1z]])){1d};b= d[a[1z]][a[59]];if(!bi(f)){1d};cd[a[1q]](f,1c(g,h){1a f;if(m(h)){1d}1e {if(g< b){d[a[1z]][g][a[127]]= h;d[a[1z]][g][a[cX]]= 1h;if(d[a[5V]]){f= d[a[5Z]](d[a[1z]][g][d[a[2O]]],d[a[2O]],d[a[5V]]);if(f){f[a[127]]= h;f[a[cX]]= 1h}};if(d[a[ez]]){f= d[a[5Z]](d[a[1z]][g][d[a[2O]]],d[a[2O]],d[a[ez]]);if(f){f[a[127]]= h;f[a[cX]]= 1h}}}1e {1d 1g}}});d[a[2N]]= [];d[a[jX]]= 1f;d[a[135]]();d[a[5K]](1f);d[a[6a]](1f);d[a[5A]]()},1ex:1c(d,b){1a h=1b;1a g=h[a[1M]];if(l(d)|| l(b)){1d 1g};if(!bi(d[a[1p]])){1d 1g};1d f(d[a[1p]],b);1c f(b,i){1a k=1g;1a d;1i(1a h=0,j=b[a[59]];h< j;h++){d= b[h];if(d[g]== i[g]){k= 1f;1l};if(bi(d[a[1p]])){k= f(d[a[1p]],i);if(k=== 1f){1l}}};1d k}},26r:1c(d,b){1a f=1b;if(!f[a[1Q]]){1d []};if(l(b)){b= f[a[5Z]](d,f[a[1M]],f[a[9X]]())};if(l(b)){1d []};if(bi(b[a[1p]])){1d b[a[1p]]};1d []},Lp:1c(h,d){1a i=1b;1a g=[];if(!i[a[1Q]]){1d g};if(l(d)){d= i[a[5Z]](h,i[a[1M]],i[a[9X]]())};if(l(d)){1d []};if(bi(d[a[1p]])){1i(1a b=0,f=d[a[1p]][a[59]];b< f;b++){g[a[1s]](d[a[1p]][b]);if(bi(d[a[1p]][b][a[1p]])){g= g[a[5I]](i[a[rT]](h,d[a[1p]][b]))}}};1d g},L9:1c(g,b){1a h=1b;1a f=[];if(!h[a[1Q]]){1d f};if(l(b)){b= h[a[5Z]](g,h[a[1M]],h[a[9X]]())};if(l(b)){1d []};1a d=h[a[5b]](b,h[a[1M]],h[a[2c]][a[4f]]);if(d){f[a[1s]](d);f= f[a[5I]](h[a[A8]](1h,d))};1d f},1ey:1c(b,h){1a g=1b;1a f=[];if(l(b)){1d []};1a d=g[a[5b]](b,g[a[1M]],h);if(d){f[a[1s]](d);f= f[a[5I]](g[a[1eB]](d,h))};1d f},1eA:1c(b,d,i){1a h=1b;1a g=[];if(l(b)){1d []};1a f=h[a[5b]](b,d,i);if(f){g[a[1s]](f);g= g[a[5I]](h[a[1ez]](f,d,i))};1d g},Gj:1c(b){1a g=1b;1a d=g[a[cA]](b);1a f;if(l(d)){1d 1h};f= g[a[5b]](d,g[a[2O]],g[a[5g]][a[7Y]]);1d f},1et:1c(b){1a g=1b;1a f=[];1a h;if(l(b)){1d 1h};1a d=g[a[5b]](b,g[a[2O]],g[a[5V]]);if(d){f[a[1s]](d);h= g[a[1es]](d);if(h){f= f[a[5I]](h)}};1d f[a[59]]> 0?f[f[a[59]]- 1]:1h},1el:1c(b){1a g=1b;1a f=[];if(l(b)){1d []};1a d=g[a[5b]](b,g[a[2O]],g[a[5g]][a[7Y]]);if(d){f[a[1s]](d);f= f[a[5I]](g[a[KX]](d))};1d f},1ek:1c(d){1a h=1b;1a g=[];if(l(d)){1d []};if(bi(d[a[1p]])){1i(1a b=0,f=d[a[1p]][a[59]];b< f;b++){g[a[1s]](d[a[1p]][b]);if(bi(d[a[1p]][b][a[1p]])){g= g[a[5I]](h[a[1ej]](d[a[1p]][b]))}}};1d g},1en:1c(d){1a h=1b;1a g=[];if(l(d)){1d []};if(bi(d[a[1p]])){1i(1a b=0,f=d[a[1p]][a[59]];b< f;b++){if(bi(d[a[1p]][b][a[1p]])){g[a[1s]](d[a[1p]][b]);g= g[a[5I]](h[a[26w]](d[a[1p]][b]))}}};1d g},FI:1c(m,j){1a l=1b;1a k=l[a[Oq]];1a h=l[a[rh]];1a g=[];1a d;if(!m){1d};if(l[a[4j]]&& l[a[2Y]]&& l[a[2p]]){l[a[2Y]][a[dW]]()};if(!bi(m)){m= [m]};if(l[a[OB]]=== 1g){h= 1g};cd[a[1q]](m,1c(b,d){if(d[a[1m]]){g[a[1s]]({5l:d[a[1m]],xX:1k[a[243]](1o(d[a[eL]]))== 1?d[a[eL]]:1,xU:d[a[3W]]|| l[a[8U]][d[a[1m]]]|| a[118],xR:h})}});l[a[ky]]= 1f;l[a[as]]= g;if(l[a[zy]]){l[a[jn]]();if(i(l[a[1I]][a[sd]])){bL(l[a[lr]])[a[8z]](1c(){l[a[1I]][a[sd]]({1P:a[sd],2y:l[a[2f]],KG:cd[a[69]](1f,[],l[a[as]])})})};1d};if(j=== 1f){k= 1f}1e {if(j=== 1g){k= 1g}};if(l[a[1Q]]){1a b=[];if(l[a[4z]]){1a n=l[a[2c]][a[8f]]- 1;if(k){1i(d= 0;d< n;d++){b[d]= a[KM]+ d}}1e {1i(d= 0;d< n;d++){b[d]= g[0][a[1m]]}};b[a[1s]](g[0][a[1m]])}1e {if(l[a[1W]]&& l[a[1W]][a[59]]> 0){1i(1a f=0;f< l[a[1W]][a[59]];f++){b[a[1s]](a[1er]+ f)};cd[a[1q]](g,1c(d,f){if(l[a[1W]][a[19]](f[a[1m]])==  -1){b[a[1s]](f[a[1m]])}})}};l[a[y2]]= b};if(l[a[6n]]&& l[a[6J]]()){l[a[aX]]();l[a[yF]]()}1e {l[a[s3]]();l[a[ci]]();l[a[5S]](1f);l[a[yF]]()}},FD:1c(){1a b=1b;b[a[as]]= [];b[a[ky]]= 1f;b[a[s3]]();b[a[ci]]();b[a[5S]](1f);b[a[yF]]()},1eq:1c(r,p,w,q){1a t=1b;1a s=t[a[1M]];1a d=t[a[9X]]();1a n;1a h=1g;1a k=-1;1a j=1h;1a b=-1;1a v=1T;1a u=a[58];1a m;1a f=i(w)?1f:1g;if(l(r)){1d 1g};if(t[a[6J]]()){t[a[AG]]()};if(!bi(r)){r= [r]};1i(1a g=0,o=d[a[59]];g< o;g++){n= d[g];if(n[a[7a]]|| n[a[2R]]|| t[a[d4]](n)){1u};cd[a[1q]](r,1c(b,d){if(f){if(w(n,d)=== 1g){m= n[s];j= d;h= 1f;1d 1g};if(q!== 1f){if(n[d]=== v|| n[d]=== 1h|| 1E(n[d])[a[178]]()=== u){m= n[s];j= d;h= 1f;1d 1g}}}1e {if(n[d]=== v|| n[d]=== 1h|| 1E(n[d])[a[178]]()=== u){m= n[s];j= d;h= 1f;1d 1g}}});if(h){1l}};if(h){b= t[a[6l]](j);if(b!=  -1){if(t[a[1Q]]){t[a[Ja]]()};k= t[a[2M]](m,s,t[a[1x]]);if(k==  -1){1d};t[a[dN]](k,b);if(!l(p)){t[a[zZ]]({2P:k,3l:b,l9:p},1f)}}};1d !h},1ep:1c(u,s){1a w=1b;1a g=w[a[1z]];1a v=w[a[1M]];1a h=w[a[9X]]();1a q,y;1a f;1a b;1a i=1f;1a j=1f;1a m=1g;1a o=-1;1a n=1h;1a t;1a d=-1;1a z=1T;1a x=a[58];1a p;if(!bi(u)){u= [u]};t= cd[a[9v]](u);if(w[a[6J]]()){w[a[AG]]()};b= w[a[1lj]](1g);f= w[a[1lf]](1g);if(b[a[59]]<= 0){i= 1g};if(f[a[59]]<= 0){j= 1g};if(!i&&  !j){1d 1f};1i(1a k=0,r=h[a[59]];k< r;k++){q= h[k];y= q[v];if(i&& w[a[oY]](q)){cd[a[1q]](g,1c(d,f){1a b=f[a[1m]];if(t[b]!== z){if(q[b]=== z|| q[b]=== 1h|| 1E(q[b])[a[178]]()=== x){p= y;n= b;m= 1f;1d 1g}}})}1e {if(j&& w[a[1eC]](q)){cd[a[1q]](g,1c(d,f){1a b=f[a[1m]];if(t[b]!== z&& w[a[1fj]](y,b)){if(q[b]=== z|| q[b]=== 1h|| 1E(q[b])[a[178]]()=== x){p= y;n= b;m= 1f;1d 1g}}})}};if(m){1l}};if(m){d= w[a[6l]](n);if(d!=  -1){if(w[a[1Q]]){w[a[Ja]]()};o= w[a[2M]](p,v,w[a[1x]]);if(o==  -1){1d};w[a[dN]](o,d);if(!l(s)){w[a[zZ]]({2P:o,3l:d,l9:s},1f)}}};1d !m},Jr:1c(g){1a f=1b;1a b=f[a[4C]];1a d=b[g];if(d&& d[a[7h]]){1d 1f};1d 1g},1eD:1c(b){1a d=1b;1d d[a[Jt]](d[a[oJ]](b))},Jo:1c(g){1a f=1b;1a b=f[a[4C]];1a d=b[g];if(d&& d[a[6y]]){1d 1f};1d 1g},1eQ:1c(b){1a d=1b;1d d[a[Jj]](d[a[oJ]](b))},JH:1c(i,d){1a h=1b;1a b=h[a[4C]];1a g=b[i];1a f;if(g&& g[a[6y]]&& g[a[5n]]&& g[a[5n]][d]!== 1T){1d g[a[5n]][d]};f= h[a[o4]](i);if(l(f)){1d 1h};1d f[d]},JW:1c(d,b){1d 1b[a[1j9]](d,b)},J1:1c(g){1a f=1b;1a b=f[a[4C]];1a d=b[g];if(d&& d[a[aW]]){1d 1f};1d 1g},1eP:1c(b){1a d=1b;1d d[a[1fq]](d[a[oJ]](b))},Se:1c(){1a f=1b;1a b=f[a[1z]];1a d=[];cd[a[1q]](b,1c(b,f){if(f[a[2q]]=== 1g){d[d[a[59]]]= f[a[1m]]}});1d d},R2:1c(){1a f=1b;1a b=f[a[1z]];1a d=[];cd[a[1q]](b,1c(b,f){if(f[a[2q]]=== 1g){d[d[a[59]]]= f[a[1n]]}});1d d},Ij:1c(f){1a d=a[58],b,g=1b;if(l(g[a[1z]])|| l(g[a[2U]])){1d};d= g[a[Lw]](f,1f);b= cd[a[1kp]](d);1d b},HY:1c(g){1a h=1b,d=h[a[ry]];1a f;1a b={gc:a[58],s0:1g,1eO:1f};if(l(g)){g= b}1e {g= cd[a[69]](1f,b,g)};f= g[a[cM]]|| g[a[FQ]]|| a[wR];if(i(g[a[hD]])){g[a[hD]]()};if(l(h[a[5V]])|| l(h[a[2U]])){1d};h[a[sg]]();if(y[a[41]]&&  !g[a[sC]]){bL(h[a[ls]])[a[8z]](1c(){1a d=h[a[Lw]](g[a[1eR]]);1a b= 1j jw([d],{1P:a[Gk]});if(g[a[hN]]!== 1f&& i(2g[a[hY]])){2g[a[hY]](b,f+ a[26x])};h[a[ga]]();if(i(g[a[aZ]])){g[a[aZ]]()};if(g[a[hN]]=== 1f&& i(g[a[eS]])){if(g[a[GD]]){g[a[eS]](d)}1e {g[a[eS]](b)}}})}1e {bL(h[a[ls]])[a[8z]](1c(){1a b=h[a[Lw]](g[a[1eR]]);b= y[a[ns]][a[9f]][a[mj]](b,1f);h[a[wQ]](d,{qt:a[26v],3D:b,sB:f,gc:g[a[xa]]});if(i(g[a[aZ]])){g[a[aZ]]()}})}},1eS:1c(i){1a n,b,p=1b,o=[],h,m,d=p[a[1z]],q;if(l(d)|| l(p[a[2U]])){1d};q= p[a[vp]](1g,1f);if(l(i)){i= 1f};if(l(2g[a[A9]][a[rR]])){1d a[58]};if(i){1i(1a f=0,j=q[a[59]];f< j;f++){n= q[f];m= {};1i(1a g=0,k=n[a[59]];g< k;g++){b= d[g];if( 1L b[a[1m]]== a[0]|| b[a[1m]]== a[58]){1u};m[b[a[1m]]]= n[g]};o[o[a[59]]]= m};h= 2g[a[A9]][a[rR]](o,1h,a[eW])}1e {h= 2g[a[A9]][a[rR]](q,1h,a[eW])};1d h},IL:1c(h){1a j=1b;1a d=j[a[ry]];1a f;1a b={gc:a[58],s0:1g};if(l(h)){h= b}1e {h= cd[a[69]](1f,b,h)};f= h[a[cM]]|| h[a[FQ]]|| a[wR];if(i(h[a[hD]])){h[a[hD]]()};if(l(j[a[5V]])|| l(j[a[2U]])){1d};j[a[sg]]();if(y[a[41]]&&  !h[a[sC]]){bL(j[a[ls]])[a[8z]](1c(){1a d=g();1a b= 1j jw([d],{1P:a[Gk]});if(h[a[hN]]!== 1f&& i(2g[a[hY]])){2g[a[hY]](b,f+ a[Ld])};j[a[ga]]();if(i(h[a[aZ]])){h[a[aZ]]()};if(h[a[hN]]=== 1f&& i(h[a[eS]])){if(h[a[GD]]){h[a[eS]](d)}1e {h[a[eS]](b)}}})}1e {bL(j[a[ls]])[a[8z]](1c(){1a b=g();b= y[a[ns]][a[9f]][a[mj]](b,1f);j[a[wQ]](d,{qt:a[26u],3D:b,sB:f,gc:h[a[xa]]});if(i(h[a[aZ]])){h[a[aZ]]()}})};1c g(){1a n=[a[26s]];1a l=[];1a m;1a k;1a b;1a d=j[a[1z]];m= j[a[vp]]();n[n[a[59]]]= a[26t];1i(1a f=0,h=m[a[59]];f< h;f++){k= m[f];l[0]= a[26i]+ f+ a[3C];1i(1a g=0,i=k[a[59]];g< i;g++){b= d[g];if( 1L b[a[1m]]== a[0]|| b[a[1m]]== a[58]){1u};l[l[a[59]]]= a[Aa]+ b[a[1m]]+ a[jr]+ k[g]+ a[1eU]+ b[a[1m]]+ a[jr]};l[l[a[59]]]= a[lH];n[n[a[59]]]= l[a[61]](a[58]);l= []};n[n[a[59]]]= a[26h];1d n[a[61]](a[58])}},GW:1c(b){1b[a[1eT]](b,a[1eM])},HB:1c(b){1b[a[1eT]](b,a[nl])},1eN:1c(n,j){1a o=1b;1a d=o[a[1z]];1a k;1a p;1a g={gc:a[58],s0:1g,Af:1g,Ae:1f};if(j== a[nl]){p= a[53]}1e {if(j== a[1eM]){p= a[eW]}1e {1d}};if(l(d)|| l(o[a[2U]])){1d};if(o[a[Dx]]){1d};if(l(n)){n= g}1e {n= cd[a[69]](1f,g,n)};o[a[aU]]= n;k= n[a[cM]]|| n[a[FQ]]|| a[wR];if(i(n[a[hD]])){n[a[hD]]()};o[a[1eG]]();if(n[a[6N]]){r(o,a[nm],b,o);o[a[eX]](0,1g);o[a[eX]](1,1g);bL(o[a[lr]])[a[8z]](1c(){m()})}1e {o[a[sg]]();bL(o[a[ls]])[a[8z]](1c(){m()})};1d;1c m(){1a r,t,s,u,g,x;1a b;1a y;1a i;1a q=[];1a m;1a k;1a v;g= [];if(o[a[6R]]){1i(r= 0,t= d[a[59]];r< t;r++){b= d[r];if(b[a[2q]]=== 1g){1u};m= l(b[a[2a]])?b[a[1m]]:1E(b[a[2a]])[a[178]]()== a[58]?a[58]:b[a[2a]];m= cd[a[9F]](m);if(j== a[nl]){f(q,m)}1e {q[q[a[59]]]= m}};g[g[a[59]]]= q[a[61]](p)};if(o[a[2Z]]&& o[a[6x]]== a[154]){if(bi(o[a[3r]][0])){k= o[a[3r]]}1e {k= [];k[0]= o[a[3r]]};1i(r= 0,t= k[a[59]];r< t;r++){i= o[a[1eE]](1f,r);x= [];1i(s= 0,u= i[a[59]];s< u;s++){if(j== a[nl]){f(x,i[s])}1e {x[x[a[59]]]= i[s]}};g[g[a[59]]]= x[a[61]](p)}};y= o[a[vp]](1f);if(n[a[6N]]){w(y[a[59]]- 1,1c(b,d){v= y[b];x= [];1i(s= 0,u= v[a[59]];s< u;s++){f(x,v[s])};g[g[a[59]]]= x[a[61]](p);if(b% 100== 0){o[a[eX]](b,1f)}},1c(b){o[a[eX]](b,1f);bL(o[a[lr]])[a[8z]](1c(){o[a[136]]({1P:a[nm],1eF:g})})})}1e {1i(r= 0,t= y[a[59]];r< t;r++){v= y[r];x= [];if(j== a[nl]){1i(s= 0,u= v[a[59]];s< u;s++){f(x,v[s])}}1e {1i(s= 0,u= v[a[59]];s< u;s++){x[x[a[59]]]= v[s]}};g[g[a[59]]]= x[a[61]](p)};h(g)}}1c b(d){bA(o,a[nm],b);o[a[eX]](99,1g);bL(o[a[lr]])[a[8z]](1c(){h(d[a[25X]])})}1c h(d){1a g;1a h;1a s=[];1a l,m,q,r;1a b;if(o[a[2Z]]&& o[a[6x]]!= a[154]){if(bi(o[a[3r]][0])){h= o[a[3r]]}1e {h= [];h[0]= o[a[3r]]};1i(l= 0,q= h[a[59]];l< q;l++){g= o[a[1eE]](1f,l);s= [];1i(m= 0,r= g[a[59]];m< r;m++){if(j== a[nl]){f(s,g[m])}1e {s[s[a[59]]]= g[m]}};d[d[a[59]]]= s[a[61]](p)}};if(y[a[41]]&&  !n[a[sC]]){if(j== a[nl]){b=  1j jw([n[a[25Y]]!== 1g?a[25W]:a[58],d[a[61]](a[ge])],{1P:a[25V]})}1e {b=  1j jw([d[a[61]](a[ge])],{1P:a[Gk]})};if(n[a[hN]]!== 1f&& i(2g[a[hY]])){2g[a[hY]](b,k+ a[b4]+ j)}}1e {o[a[wQ]](o[a[ry]],{qt:j,3D:y[a[ns]][a[9f]][a[mj]](d[a[61]](a[ge]),1f),sB:k,gc:n[a[xa]]})};if(n[a[6N]]){o[a[eX]](100,1g);o[a[sI]]()}1e {o[a[ga]]();o[a[sI]]()};if(i(n[a[aZ]])){n[a[aZ]]()};if(n[a[hN]]=== 1f&& i(n[a[eS]])){if(n[a[GD]]){n[a[eS]](d[a[61]](a[ge]))}1e {n[a[eS]](b)}}}1c f(b,d){if(n[a[25S]]=== 1g|| n[a[25T]]=== 1g){if(1E(d)[a[19]](a[53])!==  -1){b[b[a[59]]]= a[ah]+ d+ a[ah]}1e {b[b[a[59]]]= d}}1e {b[b[a[59]]]= a[ah]+ d+ a[ah]}}},Qz:1c(g,b,d){1a h=1b;1a f=h[a[1M]];if(!h[a[1Q]]){1d 1h};1a i=h[a[2c]][a[7B]];if(!f|| l(f)){1d 1h};if(!bi(g)){g= [g]};cd[a[1q]](g,1c(j,k){1a g=h[a[fA]](f,k,i);if(g&& g[a[4O]]){if(b){h[a[sH]](g)};h[a[ag]](g,b,d,1f)}});h[a[5S]](1f)},1eL:1c(d){1a h=1b;1a g=h[a[1M]];1a f=h[a[6n]]&& h[a[6J]]();1a b;if(!h[a[1Q]]||  !bm(d)){1d};if(h[a[2m]]){if(h[a[3o]]){h[a[3o]][a[134]](h[a[3o]][a[130]],0)};if(h[a[3x]]){h[a[3x]][a[134]](h[a[3x]][a[130]],0)};h[a[4K]]= 1;h[a[4o]]= 0;h[a[1S]]= 0};if(h[a[2c]]&&  !l(h[a[2c]][a[8f]])){d= 1k[a[1A]](d,h[a[2c]][a[8f]])};h[a[3j]]= 1h;h[a[3k]]= 1h;h[a[3t]]= 1h;h[a[3u]]= 1h;if(d== 1){h[a[ag]](h[a[2c]][a[4f]],1g,1f,1f)}1e {if(d== h[a[2c]][a[8f]]){h[a[ag]](h[a[2c]][a[4f]],1f,1f,1f)}1e {h[a[ag]](h[a[2c]][a[4f]],1g,1f,1f);if(f){b= h[a[2c]][a[fv]]}1e {b= h[a[2c]][a[7B]]};h[a[1x]]= cd[a[cv]](b,1c(b,i){1a f;if(i[a[4b]]<= d){f= h[a[eM]](i[g]);i[a[3e]]= 1f;if(f){f[a[3e]]= 1f};if(i[a[4O]]&& i[a[4b]]< d){i[a[6k]]= 1f;if(f){f[a[6k]]= 1f}};1d 1f};1d 1g})}};h[a[ci]]();h[a[5S]](1g)},QL:1c(f){1a g=1b;if(!g[a[1Q]]){1d};1a b=g[a[o4]](f);if(l(b)){1d 1h};1a d=g[a[5b]](b,g[a[1M]],g[a[2c]][a[4f]]);if(l(d)){1d 1h};1d cd[a[4R]](1f,{},d)},O7:1c(d){1a f=1b;if(!f[a[1Q]]){1d};1a b=f[a[o4]](d);if(l(b)){1d 1h};1d b[a[6k]]},H0:1c(d){1a f=1b;if(!f[a[1Q]]){1d};1a b=f[a[o4]](d);if(l(b)){1d 1h};1d b[a[4O]]},IA:1c(j){1a n=1b;1a k=n[a[1M]];1a g=n[a[o4]](j);1a m=n[a[1S]];1a b=n[a[1x]];1a h=1k[a[1A]](n[a[2u]]+ m,b[a[59]]);1a d=n[a[1V]];1a i=1g;1a f;if(l(g)){1d 1h};if(n[a[1Q]]){1d g[a[3e]]};if(d> 0){1i(f= 0;f< d;f++){if(b[f][k]=== j){i= 1f;1l}}};if(!i){1i(f= m;f< h;f++){if(b[f][k]=== j){i= 1f;1l}}};1d i},Il:1c(d){1a f=1b;if(!f[a[1Q]]){1d};1a b=f[a[o4]](d);if(l(b)){1d 1h};1d b[a[4b]]},GN:1c(b){1a j=1b;1a h=0;1a d=j[a[2N]];1a f=j[a[2o]];if(b< 0){b= 0}1e {if(b>= d[a[59]]){b= d[a[59]]- 1}};if(j[a[3g]]){1i(1a g=f,i=b;g< i;g++){h+= d[g]};j[a[2C]][a[2r]](h)}},Gh:1c(b){1a d=1b;if(d[a[3g]]&&  !1D(b)){d[a[2C]][a[2r]](b)}},1eK:1c(g,i,b){1a h=1b;1a d=h[a[4K]];1a f;g= 1k[a[1F]](0,g);g= 1k[a[1A]](g,h[a[1x]][a[59]]- 1);if(h[a[2m]]){if(g== 0){h[a[eO]](1);if(h[a[2w]]&& h[a[1R]]){h[a[1R]][a[2r]](i)};if(h[a[3g]]&& h[a[2C]]){h[a[2C]][a[2r]](b)};1d};f= 1k[a[7y]]((g+ 1)/h[a[8X]]);if(d!=f){h[a[eO]](f,1f,1f)};if(h[a[2w]]&&h[a[1R]]){h[a[1R]][a[2r]](i)};if(h[a[3g]]&&h[a[2C]]){h[a[2C]][a[2r]](b)}}1e{if(!h[a[2w]]){h[a[4o]]=0;if(h[a[3o]]){h[a[3o]][a[134]](h[a[3o]][a[130]],0)};h[a[3x]][a[134]](h[a[3x]][a[130]],0)}1e{if(h[a[2w]]&&h[a[1R]]){h[a[1R]][a[2r]](g)};if(h[a[3g]]&&h[a[2C]]){h[a[2C]][a[2r]](b)}}}},NI:1c(i){1a j=1b;1a f=j[a[4K]];1a m;1a d;1a k;1a l;1a b;1a g;1a h;j[a[cu]]=1g;i=1k[a[1F]](0,i);i=1k[a[1A]](i,j[a[1x]][a[59]]-1);if(j[a[2m]]){if(i==0){j[a[eO]](1);if(j[a[1R]]){j[a[1R]][a[2r]](0)};1d};g=1k[a[7y]]((i+1)/j[a[8X]]);if(f!=g){j[a[eO]](g,1g,1f)};if(j[a[2w]]){m=j[a[1R]][a[2K]];if(!j[a[3p]]){h=j[a[1X]];k=1k[a[7y]](m/h);l=1k[a[244]]((j[a[d8]][a[129]]-8)/h);b=1k[a[244]](i%j[a[8X]]);if(k<=b&&b<k+l){j[a[1R]][a[2r]](m)}1e{if(b<k){d=(k-b)*h;j[a[1R]][a[2r]](m-d)}1e{if(l<=b){d=(b-l+1)*h;j[a[1R]][a[2r]](d)}}}}1e{j[a[7W]](i)}}1e{j[a[4o]]=0;if(j[a[3o]]){j[a[3o]][a[134]](j[a[3o]][a[130]],0)};j[a[3x]][a[134]](j[a[3x]][a[130]],0)}}1e{if(!j[a[2w]]){j[a[4o]]=0;if(j[a[3o]]){j[a[3o]][a[134]](j[a[3o]][a[130]],0)};j[a[3x]][a[134]](j[a[3x]][a[130]],0);1d}1e{j[a[1R]][a[2r]](i)}};if(j[a[2m]]){j[a[cu]]=1g}1e{j[a[cu]]=1f}},FY:1c(){1a b=1b;1d b[a[1S]]},25U:1c(){1a b=1b;1d b[a[4h]]},G0:1c(){1a g=1b;1a d=-1;1a b=-1;1a f=g[a[1O]];1a h;if(f[a[59]]<=0){1d[d,b]};h=f[0][0];b=f[0][1];d=g[a[2M]](h,g[a[1M]],g[a[1x]]);1d[d,b]},FK:1c(){1a b=1b;1d b[a[1fy]]()},1fz:1c(){1a j=1b;1a f=j[a[2H]];1a b=j[a[fU]];1a k=j[a[9U]];1a i=j[a[cF]];1a d=j[a[dy]];1a h,g;if(j[a[1O]][a[59]]<=0||i==-1||d==-1){1d j[a[zO]]()};h=i;g=d;if(f&&!k){if(b&&j[a[qo]](i,d)){h=j[a[dM]](i,d)};g=j[a[En]](i,d)};1d[h,g]},Gl:1c(d){1a f=1b;1a b=f[a[1z]];d=1o(d);if(1D(d)||d<0||d>=b[a[59]]){1d a[58]};1d b[d][a[1m]]},IB:1c(b){1d 1b[a[6U]](b)},Sf:1c(g){1a f=1b;1a b=f[a[1z]];1a d=1h;if(l(g)){d};cd[a[1q]](b,1c(b,f){if(f[a[1m]]==g){d=f;1d 1g}});if(!l(d)){1d d};1d f[a[fA]](a[1m],g,f[a[5V]])},Gr:1c(b,m,f){1a k=1b;1a d;1a i;1a o=[];1a h=k[a[6l]](b);1a n=1T;m=!!m;if(l(f)){f=1f};if(h<0){1d[]};if(m){if(k[a[1Q]]){d=k[a[2c]][a[7B]]}1e{d=k[a[2U]]}}1e{d=k[a[1x]]};1i(1a g=0,j=d[a[59]];g<j;g++){i=d[g];if(!i){1u};if(f&&(i[a[2R]]||i[a[7a]])){1u};if(i[b]!==n){o[o[a[59]]]=i[b]}};1d o},Gm:1c(b,f){1a d=1b;1a g=d[a[xG]](b,f);1d cd[a[7V]](g)},L5:1c(b,f){1a d=1b;1a h=d[a[Go]](b,1f);1a g=cd[a[9v]](h);if(g[f]===1){1d 1g};1d 1f},GU:1c(b,m){1a j=1b;1a d=j[a[1x]];1a g;1a i=[];1a k;if(!bi(m)){m=[m]};1a n=cd[a[9v]](m);1i(1a f=0,h=d[a[59]];f<h;f++){g=d[f];k=g[b];if(!l(k)&&n[k]===1){i[a[1s]](g)}};1d cd[a[4R]](1f,[],i)},Gb:1c(b,m){1a j=1b;1a d=j[a[1x]];1a g;1a i=[];1a k;1a f,h;if(!bi(m)){m=[m]};1a n=cd[a[9v]](m);1i(f=0,h=d[a[59]];f<h;f++){g=d[f];k=g[b];if(!l(k)&&n[k]===1){i[a[1s]](f)}};1d i},Hk:1c(){1a b=1b;if(bi(b[a[3r]])){1d cd[a[69]](1f,[],b[a[3r]])};1d[]},Hs:1c(){1a s=1b;1a f;1a g=s[a[6v]];1a h=s[a[hi]];1a q=[];1a r=[];1a d;1a b;1a p;1a i;1a k=1g;1a j,m,n,o;1a u=1T;1a t=a[zN];if(!bi(s[a[3r]])){1d[]};if(bi(s[a[3r]][0])){f=s[a[3r]];k=1f}1e{k=1g;f=[];f[0]=s[a[3r]]};if(h[a[59]]<=0||g[a[59]]<=0){1d r};1i(j=0,n=f[a[59]];j<n;j++){d=f[j];q=[];1i(m=0,o=d[a[59]];m<o;m++){b=d[m];p=b[a[lL]];if(p===u){1u};i=s[a[6U]](p);if(i!=-1){q[a[1s]]({jH:i,Fs:j,4M:h[j][m],5o:g[j][m]})}1e{if(p==t&&bi(s[a[fC]])&&bi(s[a[ek]])){if(!l(s[a[fC]][j])&&!l(s[a[ek]][j])){q[a[1s]]({jH:-1,Fs:j,4M:h[j][m],5o:g[j][m]})}}}};r[j]=q};if(!k&&bi(r[0])){1d r[0]};1d r},H2:1c(j,i){1a k=1b;1a b;1a d=k[a[6v]];1a f=k[a[hi]];1a g=[];1a l=[];1a h=1g;if(!bi(k[a[3r]])||!bi(d)||!bi(f)){1d 1h};if(d[a[59]]<=0||f[a[59]]<=0){1d 1h};if(d[a[59]]<=0){1d 1h};if(bi(k[a[3r]][0])){b=k[a[3r]];h=1f}1e{h=1g;b=[];b[0]=k[a[3r]]};cd[a[1q]](b,1c(b,d){cd[a[1q]](d,1c(d,f){if(f[a[lL]]==j){g[b]=d;1d 1g}})});cd[a[1q]](g,1c(b,g){1a a=1o(g);1a h;if(!1D(a)&&a>=0){if(i){h=d[b][a]}1e{h=f[b][a]};l[b]=h}1e{l[b]=1T}});if(!h){1d l[0]};1d l},Rs:1c(h){1a j=1b;1a f=[];1a k=[];1a b=j[a[2O]];1a g=j[a[1O]][a[5I]]();1a d=j[a[5g]][a[8f]];1a i;if(!bi(h)){h=[h]};cd[a[1q]](h,1c(h,l){1a g;if(1L l==a[0]||l===1h){1d};g=j[a[cA]](l);if(g){if(d==1){f[f[a[59]]]=g;k[k[a[59]]]=g}1e{i=j[a[5b]](g,b,j[a[5V]]);if(!i){f[f[a[59]]]=g;k[k[a[59]]]=g}}}});if(k[a[59]]!=j[a[5V]][a[59]]){cd[a[1q]](j[a[5V]],1c(g,h){1a d=j[a[5Z]](h[b],b,k);if(!d){f[f[a[59]]]=h}})};j[a[5V]]=f;j[a[o5]]();j[a[fy]]=0;j[a[fZ]]();j[a[hu]]();j[a[lO]]();j[a[1O]]=g;j[a[2Q]]();j[a[2B]]();k=1h},S9:1c(k){1a m=1b;1a f;1a i=[];1a n=[];1a d=m[a[2O]];1a j=m[a[1O]][a[5I]]();1a g=m[a[5g]][a[8f]];1a l=1h;1a b=1h;1a h;if(g==1){1d};f=cd[a[69]](1f,[],m[a[5V]]);if(!bi(k)){k=[k]};cd[a[1q]](k,1c(d,f){if(1L f!=a[0]&&f!==1h){b=f;1d 1g}});if(b===1h){1d};h=m[a[cA]](b);if(h){l=m[a[5b]](h,d,f)};if(!l){1d};cd[a[1q]](k,1c(d,f){1a b;if(1L f==a[0]||f===1h){1d};b=m[a[fA]](a[1m],f,l[a[1p]]);if(b){i[i[a[59]]]=b;n[n[a[59]]]=b}});if(n[a[59]]!=l[a[1p]][a[59]]){cd[a[1q]](l[a[1p]],1c(f,g){1a b=m[a[5Z]](g[d],d,n);if(!b){i[i[a[59]]]=g}})};l[a[1p]]=i;m[a[5V]]=f;m[a[o5]]();m[a[fy]]=0;m[a[fZ]]();m[a[hu]]();m[a[lO]]();m[a[1O]]=j;m[a[2Q]]();m[a[2B]]();n=1h},1gp:1c(f,b,h){1a g=1b;1a d;f=1k[a[1F]](f,0);f=1k[a[1A]](f,g[a[1x]][a[59]]-1);if(!1D(b)&&1L b===a[122]){b=g[a[8Y]](b)};if(l(b)){1d};d={};d[b]=h;g[a[g9]](d,f,1f,1g)},1go:1c(f,b){1a g=1b;1a d;f=1k[a[1F]](f,0);f=1k[a[1A]](f,g[a[1x]][a[59]]-1);d=g[a[1x]][f];if(!1D(b)&&1L b===a[122]){b=g[a[8Y]](b)};if(l(b)||l(d)){1d 1h};1d d[b]},1gn:1c(k,g){1a m=1b;1a f;1a h,d;1a j=a[58];1a b=m[a[2I]];1a n=-1;k=1k[a[1F]](k,0);k=1k[a[1A]](k,m[a[1x]][a[59]]-1);h=m[a[1x]][k];if(!1D(g)&&1L g===a[122]){g=m[a[8Y]](g)};if(l(g)){1d j};f=m[a[6l]](g);if(f<0||f>=m[a[1z]][a[59]]){1d j};d=m[a[1z]][f];n=m[a[6K]](k);if(n>=0&&b[0]){if(b[0][f]){if(i(b[0][f][a[3S]])){j=b[0][f][a[3S]](h[g],k,f,h,d)}}};1d j},1gr:1c(){1a b=1b;if(!b[a[oe]]()){1d 1g};if(b[a[3j]]>b[a[3k]]){1d 1f};1d 1g},25Z:1c(k,i,j,h){1a o=1b;1a d=-1;1a b=1g;1a g=1g;1a q,f;1a n;1a p;h=!!h;if(h){q=o[a[oJ]](1o(k));f=o[a[8Y]](1o(i));p=j}1e{if(1E(k)[a[13]]()==a[26a]){b=1f;p=i}1e{q=k;f=i;p=j}};if(l(o[a[ar]])){o[a[ar]]={}};if(b){n=o[a[1O]];if(m(p)){g=1f};o[a[o0]]=1f;cd[a[1q]](n,1c(d,h){1a f=h[0];1a b=h[1];if(o[a[ar]][f]===1T){o[a[ar]][f]={}};if(o[a[ar]][f]===1T){o[a[ar]][f]={}};if(g){2j o[a[ar]][f][b]}1e{o[a[ar]][f][b]=p}})}1e{if(m(q)||m(f)){1d};d=o[a[6l]](f);if(d<0){1d};if(o[a[ar]][q]===1T){o[a[ar]][q]={}};o[a[o0]]=1f;if(!m(p)){o[a[ar]][q][d]=p}1e{2j o[a[ar]][q][d]}};if(o[a[o0]]){o[a[5K]]()}},26f:1c(){1a b=1b;b[a[ar]]={};b[a[o0]]=1g;b[a[5K]]()},1gt:1c(d){1a b=1b;d=1o(d);if(1D(d)){1d};b[a[3q]]=d;b[a[2C]][a[3q]]=d;b[a[1R]][a[3q]]=d},1gs:1c(){1d 1b[a[3q]]},gA:1c(g){1a f=1b;1a d=1h;1a b=0;f[a[wF]]();f[a[139]][a[144]]=1h;f[a[8Q]]=1h;8R{if(f[a[2D]]){bA(f[a[2D]],a[vG],f[a[AD]]);bA(f[a[2D]],a[4Q],f[a[dk]]);bA(f[a[2D]][a[139]],a[2e],f[a[P9]]);bA(f[a[2D]][a[139]],a[h5],f[a[Nh]]);bA(f[a[2D]][a[139]],a[h6],f[a[1gm]]);bA(f[a[2D]][a[139]],a[1gl],f[a[1gf]]);f[a[2D]][a[139]][a[l2]]=1h;f[a[2D]][a[132]](g)};if(f[a[2v]]){bA(f[a[2v]][a[139]],a[2i],f[a[tP]]);f[a[2v]][a[139]][a[144]]=1h;f[a[2v]][a[132]](g)};f[a[1ge]](g);f[a[1gd]](g);f[a[1gg]](g);if(f[a[2Z]]){f[a[1gh]](g);f[a[1gk]](g)};f[a[1gj]](g);f[a[wY]](g);if(f[a[8h]]){f[a[1gi]](g)};f[a[26g]](g);f[a[26e]](g);f[a[26d]](g);if(f[a[dh]]){f[a[dh]][a[132]](g);f[a[dh]]=1h};f[a[Im]](g);f[a[26b]](g);if(f[a[2m]]){f[a[26c]](g)};1i(b in f[a[76]]){f[a[76]][b]=1h};if(!g){d=f[a[139]][a[95]];if(d){d[a[188]](f[a[139]])}1e{d=1N[a[gH]](f[a[kK]]);if(d){d[a[188]](f[a[139]])}};d=1h;1i(b in f){f[b]=1h}};f=1h}8g(e){if(!g){d=1N[a[gH]](f[a[kK]]);if(d){d[a[44]]=a[58]}}}}})[a[69]](y[a[y4]]);y[a[8k]]=1c(){1a b=1b;b[a[yh]]=b;b[a[nV]]=1h;b[a[o6]]=1h;b[a[i1]]=0;b[a[i6]]=1;b[a[lh]]=6m;b[a[yj]]=60;b[a[1gI]]=1g;b[a[AU]]=1g;b[a[IK]]=0;b[a[u7]]=0;b[a[fx]]=1c(){b[a[IK]]=1Z[a[124]]();b[a[u7]]=y[a[8k]][a[gp]](b[a[AR]]);b[a[AU]]=1f};b[a[1gu]]=1c(){if(b[a[u7]]){y[a[8k]][a[1gH]](b[a[u7]])};b[a[AU]]=1g;if(b[a[o6]]){if(b[a[yh]]){b[a[o6]][a[21]](b[a[yh]],b[a[i6]])}1e{b[a[o6]](b[a[i6]])}}};b[a[AR]]=1c(){if(b[a[AU]]){1a d=1j 1Z()[a[aO]]()-b[a[IK]];1a f=b[a[1gv]](d);if(b[a[nV]]){if(b[a[yh]]){b[a[nV]][a[21]](b[a[yh]],f)}1e{b[a[nV]](f)}};if(d>=b[a[lh]]){b[a[1gu]]();1d};if(b[a[yj]]!=60){8A(1c(){b[a[u7]]=y[a[8k]][a[gp]](b[a[AR]])},6m/b[a[yj]])}1e{b[a[u7]]=y[a[8k]][a[gp]](b[a[AR]])}}};b[a[1gv]]=1c(d){if(b[a[lh]]==0){1d b[a[i6]]};if(b[a[1gI]]){1a h=[];1a g=b[a[i1]][a[59]];1i(1a f=0;f<g;f++){h[f]=b[a[ug]](d,b[a[i1]][f],b[a[i6]][f]-b[a[i1]][f],b[a[lh]])};1d h}1e{1d b[a[ug]](d,b[a[i1]],b[a[i6]]-b[a[i1]],b[a[lh]])}};b[a[ug]]=1c(f,a,b,d){1a h=(f/=d)*f;1a g=h*f;1d a+b*(1*g*h+ -5*h*h+10*g+ -10*h+5*f)}};y[a[8k]][a[gp]]=1c(b){1a d=2g[a[26y]]||2g[a[26z]]||2g[a[26V]]||2g[a[26W]]||2g[a[26U]]||1c(){1d 2g[a[26T]](b,16)};1d d(b)};y[a[8k]][a[1gH]]=1c(d){1a b=2g[a[26R]]||2g[a[26S]]||2g[a[26X]]||2g[a[26Y]]||2g[a[27d]]||1c(){2g[a[27e]](d)};b(d)};y[a[8k]][a[Aq]]={27c:1c(g,b,d,f){1d(d/2)*(1k[a[1gJ]](1k[a[uE]]*(g/f-0.5))+1)+b},27b:1c(f,a,b,d){1a h=(f/=d)*f;1a g=h*f;1d a+b*(0*g*h+1*h*h+0*g+0*h+0*f)},26Z:1c(f,a,b,d){1a h=(f/=d)*f;1a g=h*f;1d a+b*(0.27a*g*h+ -0.26Q*h*h+1.26P*g+0*h+0*f)},1gM:1c(f,a,b,d){1a h=(f/=d)*f;1a g=h*f;1d a+b*(0*g*h+0*h*h+1*g+ -3*h+3*f)},26F:1c(f,a,b,d){1a h=(f/=d)*f;1a g=h*f;1d a+b*(1*g*h+ -5*h*h+10*g+ -10*h+5*f)}};(1c(){1c b(b,d,f){b[a[2E]](d,!f||1+f-d+(!((f<0)^(d>=0))&&(f<0||-1)*b[a[59]]));1d b[a[59]]}1a d=1c(){1a g=[],f=[],i=-1,k=0,j=1g,d,h;h=1c(d,f,b){if(!d||1L d[b]!==a[67]){1d 1b};j=1f;d[b](f[b]);j=1g;1d 1b};1d{1gL:1c(h,l){if(j){1d 1b};g[a[2E]](i+1,g[a[59]]-i);g[a[1s]](h);f[a[2E]](i+1,f[a[59]]-i);f[a[1s]](l);if(k&&g[a[59]]>k){b(g,0,-(k+1));b(f,0,-(k+1))};i=g[a[59]]-1;if(d){d(a[d2])};1d 1b},1gF:1c(a){d=a},5v:1c(){1a b=g[i];1a j=f[i];if(!b){1d 1b};h(b,j,a[wV]);i-=1;if(d){d(a[wV])};1d 1b},5G:1c(){1a b=g[i+1];1a j=f[i+1];if(!b){1d 1b};h(b,j,a[wE]);i+=1;if(d){d(a[wE])};1d 1b},H1:1c(){1a b=g[a[59]];g=[];f=[];i=-1;if(d&&b>0){d(a[dW])}},1gE:1c(){1d i!==-1},1gy:1c(){1d i<g[a[59]]-1},26G:1c(){1d g},1gw:1c(){1d g[a[59]]},1gz:1c(){1d i},1gA:1c(a){k=a}}};y[a[1gD]]=d})();!1c(b){1a d;y[a[ns]]=b()}(1c(){1a b,g,f;1d(1c d(k,g,i){1c j(m,n){if(!g[m]){if(!k[m]){1a h=1g;if(!n&&h){1d h(m,!0)};if(b){1d b(m,!0)};6h 1j 6G(a[26E]+m+a[1gC])};1a l=g[m]={1gB:{}};k[m][0][a[21]](l[a[6p]],1c(a){1a b=k[m][1][a];1d j(b?b:a)},l,l[a[6p]],d,k,g,i)};1d g[m][a[6p]]}1a b=1g;1i(1a h=0;h<i[a[59]];h++){j(i[h])};1d j})({1:[1c(b,g,f){1a d=a[H5];f[a[mj]]=1c(m,o){1a n=a[58];1a b,f,g,h,i,j,k;1a l=0;1U(l<m[a[59]]){b=m[a[5q]](l++);f=m[a[5q]](l++);g=m[a[5q]](l++);h=b>>2;i=((b&3)<<4)|(f>>4);j=((f&15)<<2)|(g>>6);k=g&63;if(1D(f)){j=k=64}1e{if(1D(g)){k=64}};n=n+d[a[4J]](h)+d[a[4J]](i)+d[a[4J]](j)+d[a[4J]](k)};1d n};f[a[vc]]=1c(m,o){1a n=a[58];1a b,f,g;1a h,i,j,k;1a l=0;m=m[a[56]](/[^A-Za-z0-9\\+\\/\\=]/g,a[58]);1U(l<m[a[59]]){h=d[a[19]](m[a[4J]](l++));i=d[a[19]](m[a[4J]](l++));j=d[a[19]](m[a[4J]](l++));k=d[a[19]](m[a[4J]](l++));b=(h<<2)|(i>>4);f=((i&15)<<4)|(j>>2);g=((j&3)<<6)|k;n=n+1E[a[4r]](b);if(j!=64){n=n+1E[a[4r]](f)};if(k!=64){n=n+1E[a[4r]](g)}};1d n}},{}],2:[1c(b,g,f){1c d(){1b[a[fI]]=0;1b[a[eh]]=0;1b[a[du]]=0;1b[a[jI]]=1h;1b[a[m7]]=1h}d[a[23]]={1fM:1c(){1d 1h},1fL:1c(){1d 1h}};g[a[6p]]=d},{}],3:[1c(b,f,d){d[a[qA]]={1fK:a[ro],Aw:1c(a){1d a},1fN:1c(a){1d a},1fO:1h,1fR:1h};d[a[1mz]]=b(a[26D])},{"./1fP":8}],4:[1c(b,g,f){1a i=b(a[hg]);1a h=[26A,26B,26C,26H,26I,26N,26O,26M,26L,26J,26K,23n,23m,1ZR,1ZS,1ZQ,1ZP,1ZM,1ZN,1ZO,1ZT,1ZU,1ZZ,20a,1ZY,1ZX,1ZV,1ZW,1ZL,1ZK,1ZA,1ZB,1Zz,1Zy,1Zv,1Zw,1Zx,1ZC,1ZD,1ZI,1ZJ,1ZH,1ZG,1ZE,1ZF,20b,20c,20y,20z,20x,20w,20u,20v,20A,20B,20G,20H,20F,20E,20C,20D,20t,20s,20i,20j,20h,20g,20d,20e,20f,20k,20l,20q,20r,20p,20o,20m,20n,1Zu,1Zt,1YM,1YN,1YL,1YK,1YH,1YI,1YJ,1YO,1YP,1YU,1YV,1YT,1YS,1YQ,1YR,1YG,1YF,1Yv,1Yw,1Yu,1Yt,1Yq,1Yr,1Ys,1Yx,1Yy,1YD,1YE,1YC,1YB,1Yz,1YA,1YW,1YX,1Zj,1Zk,1Zi,1Zh,1Zf,1Zg,1Zl,1Zm,1Zr,1Zs,1Zq,1Zp,1Zn,1Zo,1oe,1Ze,1Zd,1Z3,1Z4,1Z2,1Z1,1YY,1YZ,1Z0,1Z5,1Z6,1Zb,1Zc,1Za,1Z9,1Z7,1Z8,20I,20J,22v,22w,22u,22t,22q,22r,22s,22x,22y,22D,22E,22C,22B,22z,22A,22p,22o,22e,22f,22d,22c,21Z,22a,22b,22g,22h,22m,22n,22l,22k,22i,22j,22F,22G,23c,23d,23b,23a,22Y,22Z,23e,23f,23k,23l,23j,23i,23g,23h,22X,22W,22M,22N,22L,22K,22H,22I,22J,22O,22P,22U,22V,22T,22S,22Q,22R,21Y,21X,21g,21h,21f,21e,21b,21c,21d,21i,21j,21o,21p,21n,21m,21k,21l,21a,20Z,20P,20Q,20O,20N,20K,20L,20M,20R,20S,20X,20Y,20W,20V,20T,20U,21q,21r,21N,21O,21M,21L,21J,21K,21P];g[a[6p]]=1c d(g,d){if(1L g===a[0]||!g[a[59]]){1d 0};1a j=i[a[hS]](g)!==a[118];if(1L(d)==a[0]){d=0};1a l=0;1a m=0;1a b=0;d=d^(-1);1i(1a f=0,k=g[a[59]];f<k;f++){b=j?g[f]:g[a[5q]](f);m=(d^b)&Ph;l=h[m];d=(d>>>8)^l};1d d^(-1)}},{"./6V":21}],5:[1c(b,g,f){1a h=b(a[hg]);1c d(b){1b[a[1w]]=1h;1b[a[59]]=0;1b[a[4H]]=0}d[a[23]]={NV:1c(b){1b[a[1g9]](1b[a[4H]]+b)},1g8:1c(b){if(1b[a[59]]<b||b<0){6h 1j 6G(a[21Q]+1b[a[59]]+a[21V]+(b)+a[21W])}},1ga:1c(b){1b[a[1g9]](b);1b[a[4H]]=b},1g3:1c(b){1b[a[mC]](1b[a[4H]]+b)},1g2:1c(a){},1fW:1c(f){1a d=0,b;1b[a[qD]](f);1i(b=1b[a[4H]]+f-1;b>=1b[a[4H]];b--){d=(d<<8)+1b[a[ML]](b)};1b[a[4H]]+=f;1d d},1fV:1c(b){1d h[a[6s]](a[118],1b[a[vw]](b))},1fU:1c(a){},1fX:1c(a){},1fY:1c(){1a b=1b[a[3L]](4);1d 1j 1Z(((b>>25)&1nj)+Dm,((b>>21)&rz)-1,(b>>16)&n3,(b>>11)&n3,(b>>5)&cK,(b&n3)<<1)}};g[a[6p]]=d},{"./6V":21}],6:[1c(b,f,d){d[a[9f]]=1g;d[a[gj]]=1g;d[a[av]]=1g;d[a[Ok]]=1g;d[a[5U]]=1h;d[a[k9]]=1h;d[a[f2]]=1h},{}],7:[1c(b,f,d){1a g=b(a[hg]);d[a[vH]]=1c(b){1d g[a[vH]](b)};d[a[21U]]=1c(b){1d g[a[6s]](a[7U],b)};d[a[21T]]=1c(b){1d g[a[6s]](a[118],b)};d[a[21R]]=1c(d){1a b=g[a[6s]](a[hX],d);1d g[a[vB]](b)};d[a[vB]]=1c(b){1d g[a[vB]](b)};d[a[6s]]=1c(d,b){1d g[a[6s]](d,b)};d[a[hS]]=1c(b){1d g[a[hS]](b)};d[a[qX]]=1c(b){1d g[a[qX]](b)};d[a[nD]]=g[a[nD]];d[a[jF]]=g[a[jF]];d[a[rx]]=1c(b){1d g[a[rx]](b)};d[a[zp]]=1c(b){1d g[a[zp]](b)};d[a[vM]]=1c(b){1d g[a[vM]](b)}},{"./6V":21}],8:[1c(b,f,d){1a h=(1L 7S!==a[0])&&(1L OV!==a[0])&&(1L 21S!==a[0]);1a g=b(a[21I]);d[a[1m6]]=h?a[7U]:a[ni];d[a[O0]]=h?a[7U]:a[ni];d[a[By]]=a[21H];d[a[mW]]=1c(b){1d g[a[1nS]](b)};d[a[1m7]]=1c(b){1d g[a[1nI]](b)}},{"BV":24}],9:[1c(d,h,g){1a f=d(a[Oe]);1c b(d,f){if(!(1b iK b)){1d 1j b(d,f)};1b[a[9n]]={};1b[a[f2]]=1h;1b[a[mi]]=a[58];if(d){1b[a[Nf]](d,f)};1b[a[oz]]=1c(){1a f=1j b();1i(1a d in 1b){if(1L 1b[d]!==a[67]){f[d]=1b[d]}};1d f}}b[a[23]]=d(a[Pv]);b[a[23]][a[Nf]]=d(a[21x]);b[a[21y]]=d(a[vI]);b[a[21w]]=d(a[1mE]);b[a[21v]]=d(a[21s]);b[a[9f]]={1g1:1c(b,d){if(d){b=1b[a[21t]](b)};1d f[a[mj]](b)},1g0:1c(b,g){1a d=f[a[vc]](b);if(g){d=1b[a[21u]](d)};1d d},1fZ:1c(f){1a g=a[58];1i(1a d=0;d<f[a[59]];d++){1a b=f[a[5q]](d);if(b<128){g+=1E[a[4r]](b)}1e{if((b>127)&&(b<1jh)){g+=1E[a[4r]]((b>>6)|192);g+=1E[a[4r]]((b&63)|128)}1e{g+=1E[a[4r]]((b>>12)|224);g+=1E[a[4r]](((b>>6)&63)|128);g+=1E[a[4r]]((b&63)|128)}}};1d g},1ji:1c(g){1a f=a[58];1a d=0;1a b=c1=c2=0;1U(d<g[a[59]]){b=g[a[5q]](d);if(b<128){f+=1E[a[4r]](b);d++}1e{if((b>191)&&(b<224)){c2=g[a[5q]](d+1);f+=1E[a[4r]](((b&31)<<6)|(c2&63));d+=2}1e{c2=g[a[5q]](d+1);c3=g[a[5q]](d+2);f+=1E[a[4r]](((b&15)<<12)|((c2&63)<<6)|(c3&63));d+=3}}};1d f}};b[a[21z]]=d(a[Mz]);h[a[6p]]=b},{"./rH":1,"./vX":3,"./Bi":6,"./1mD":7,"./km":10,"./jW":13,"./nb":17}],10:[1c(b,g,f){1a d=b(a[Oe]);1a h=b(a[21A]);g[a[6p]]=1c(b,j){1a f,k,g,i;j=j||{};if(j[a[9f]]){b=d[a[vc]](b)};k=1j h(b,j);f=k[a[9n]];1i(g=0;g<f[a[59]];g++){i=f[g];1b[a[d3]](i[a[cM]],i[a[gq]],{1oh:1f,1mC:1f,6W:i[a[5U]],uz:i[a[av]],MR:i[a[om]][a[59]]?i[a[om]]:1h,O2:j[a[Ok]]})};if(k[a[wv]][a[59]]){1b[a[f2]]=k[a[wv]]};1d 1b}},{"./rH":1,"./1mB":22}],11:[1c(b,f,d){(1c(b){f[a[6p]]=1c(a,d){1d 1j b(a,d)};f[a[6p]][a[25]]=1c(d){1d b[a[21F]](d)}})[a[21]](1b,(1L AY!==a[0]?AY:1T))},{}],12:[1c(b,f,d){1a h=b(a[1mS]);1c g(b){1b[a[1w]]=b;1b[a[59]]=1b[a[1w]][a[59]];1b[a[4H]]=0}g[a[23]]=1j h();g[a[23]][a[vw]]=1c(d){1b[a[qD]](d);1a b=1b[a[1w]][a[222]](1b[a[4H]],1b[a[4H]]+d);1b[a[4H]]+=d;1d b};f[a[6p]]=g},{"./Pl":18}],13:[1c(b,t,l){1a A=b(a[vI]);1a D=b(a[hg]);1a h=b(a[OI]);1a y=b(a[1mM]);1a k=b(a[1mE]);1a d=b(a[Oe]);1a g=b(a[Mz]);1a f=b(a[1lR]);1a u=b(a[Mx]);1a C=b(a[21G]);1a z=b(a[21E]);1a B=b(a[21D]);1a s=1c(d){if(d[a[7m]]iK f){d[a[7m]]=d[a[7m]][a[yY]]();d[a[8e]][a[gj]]=1f;d[a[8e]][a[9f]]=1g;if(D[a[hS]](d[a[7m]])===a[7U]){1a b=d[a[7m]];d[a[7m]]=1j 7S(b[a[59]]);if(b[a[59]]!==0){d[a[7m]][a[zt]](b,0)}}};1d d[a[7m]]};1a r=1c(b){1a d=s(b),f=D[a[hS]](d);if(f===a[118]){if(!b[a[8e]][a[gj]]){if(A[a[cU]]){1d u(d,a[MA])}};1d b[a[21B]]()};1d d};1a i=1c(b){1a f=s(1b);if(f===1h||1L f===a[0]){1d a[58]};if(1b[a[8e]][a[9f]]){f=d[a[vc]](f)};if(b&&1b[a[8e]][a[gj]]){f=v[a[m8]](f)}1e{f=D[a[6s]](a[118],f)};if(!b&&!1b[a[8e]][a[gj]]){f=D[a[6s]](a[118],v[a[qu]](f))};1d f};1a E=1c(d,b,f){1b[a[5Q]]=d;1b[a[av]]=f[a[av]];1b[a[5U]]=f[a[5U]];1b[a[f2]]=f[a[f2]];1b[a[7m]]=b;1b[a[8e]]=f;1b[a[NY]]={uz:f[a[av]],6W:f[a[5U]]}};E[a[23]]={21C:1c(){1d i[a[21]](1b,1f)},1mF:1c(){1d i[a[21]](1b,1g)},28t:1c(){1a b=r(1b);1d D[a[6s]](a[cU],b)},1mH:1c(){1a b=r(1b);1d D[a[6s]](a[7U],b)},28u:1c(){1d 1b[a[2eq]]()[a[vY]]}};1a j=1c(d,b){1a f=a[58],g;1i(g=0;g<b;g++){f+=1E[a[4r]](d&3z);d=d>>>8};1d f};1a m=1c(){1a f={},d,b;1i(d=0;d<1Y[a[59]];d++){1i(b in 1Y[d]){if(1Y[d][a[65]](b)&&1L f[b]===a[0]){f[b]=1Y[d][b]}}};1d f};1a x=1c(b){b=b||{};if(b[a[9f]]===1f&&(b[a[gj]]===1h||b[a[gj]]===1T)){b[a[gj]]=1f};b=m(b,k);b[a[5U]]=b[a[5U]]||1j 1Z();if(b[a[k9]]!==1h){b[a[k9]]=b[a[k9]][a[34]]()};1d b};1a n=1c(g,b,h){1a d=D[a[hS]](b),j;h=x(h);if(h[a[Ok]]&&(j=w(g))){o[a[21]](1b,j,1f)};if(h[a[av]]||b===1h||1L b===a[0]){h[a[9f]]=1g;h[a[gj]]=1g;b=1h}1e{if(d===a[118]){if(h[a[gj]]&&!h[a[9f]]){if(h[a[1lW]]!==1f){b=D[a[vH]](b)}}}1e{h[a[9f]]=1g;h[a[gj]]=1f;if(!d&&!(b iK f)){6h 1j 6G(a[2er]+g+a[2ep])};if(d===a[hX]){b=D[a[6s]](a[7U],b)}}};1a i=1j E(g,b,h);1b[a[9n]][g]=i;1d i};1a w=1c(d){if(d[a[222]](-1)==a[218]){d=d[a[4c]](0,d[a[59]]-1)};1a b=d[a[MX]](a[218]);1d(b>0)?d[a[4c]](0,b):a[58]};1a o=1c(d,b){if(d[a[222]](-1)!=a[218]){d+=a[218]};b=(1L b!==a[0])?b:1g;if(!1b[a[9n]][d]){n[a[21]](1b,d,1h,{uz:1f,O2:b})};1d 1b[a[9n]][d]};1a p=1c(i,b){1a j=1j f(),d;if(i[a[7m]]iK f){j[a[eh]]=i[a[7m]][a[eh]];j[a[du]]=i[a[7m]][a[du]];if(j[a[eh]]===0||i[a[av]]){b=g[a[qA]];j[a[m7]]=a[58];j[a[du]]=0}1e{if(i[a[7m]][a[jI]]===b[a[By]]){j[a[m7]]=i[a[7m]][a[Q9]]()}1e{d=i[a[7m]][a[yY]]();j[a[m7]]=b[a[mW]](D[a[6s]](b[a[O0]],d))}}}1e{d=r(i);if(!d||d[a[59]]===0||i[a[av]]){b=g[a[qA]];d=a[58]};j[a[eh]]=d[a[59]];j[a[du]]=h(d);j[a[m7]]=b[a[mW]](D[a[6s]](b[a[O0]],d))};j[a[fI]]=j[a[m7]][a[59]];j[a[jI]]=b[a[By]];1d j};1a q=1c(r,o,d,t){1a f=d[a[m7]],A=D[a[6s]](a[118],C[a[qu]](o[a[5Q]])),b=o[a[f2]]||a[58],z=D[a[6s]](a[118],C[a[qu]](b)),x=A[a[59]]!==o[a[5Q]][a[59]],w=z[a[59]]!==b[a[59]],s=o[a[8e]],m,l,n=a[58],v=a[58],u=a[58],i,g;if(o[a[NY]][a[av]]!==o[a[av]]){i=o[a[av]]}1e{i=s[a[av]]};if(o[a[NY]][a[5U]]!==o[a[5U]]){g=o[a[5U]]}1e{g=s[a[5U]]};m=g[a[Je]]();m=m<<6;m=m|g[a[IW]]();m=m<<5;m=m|g[a[F5]]()/2;l=g[a[4Z]]()-Dm;l=l<<4;l=l|(g[a[7p]]()+1);l=l<<5;l=l|g[a[9C]]();if(x){v=j(1,1)+j(h(A),4)+A;n+=a[dr]+j(v[a[59]],2)+v};if(w){u=j(1,1)+j(1b[a[du]](z),4)+z;n+=a[2eo]+j(u[a[59]],2)+u};1a q=a[58];q+=a[2el];q+=(x||w)?a[2em]:a[ro];q+=d[a[jI]];q+=j(m,2);q+=j(l,2);q+=j(d[a[du]],4);q+=j(d[a[fI]],4);q+=j(d[a[eh]],4);q+=j(A[a[59]],2);q+=j(n[a[59]],2);1a p=y[a[Nd]]+q+A+n;1a k=y[a[Nb]]+a[2en]+q+j(z[a[59]],2)+a[ro]+a[ro]+(i===1f?a[2es]:a[2et])+j(t,4)+A+n+z;1d{1mG:p,1mA:k,xW:d}};1a v={km:1c(d,b){6h 1j 6G(a[2ey])},5H:1c(i){1a h=[],f,g,b,d;1i(f in 1b[a[9n]]){if(!1b[a[9n]][a[65]](f)){1u};b=1b[a[9n]][f];d=1j E(b[a[5Q]],b[a[7m]],m(b[a[8e]]));g=f[a[222]](1b[a[mi]][a[59]],f[a[59]]);if(f[a[222]](0,1b[a[mi]][a[59]])===1b[a[mi]]&&i(g,d)){h[a[1s]](d)}};1d h},ki:1c(d,b,f){if(1Y[a[59]]===1){if(D[a[vM]](d)){1a g=d;1d 1b[a[171]](1c(d,b){1d!b[a[av]]&&g[a[25]](d)})}1e{1d 1b[a[171]](1c(f,b){1d!b[a[av]]&&f===d})[0]||1h}}1e{d=1b[a[mi]]+d;n[a[21]](1b,d,b,f)};1d 1b},2ez:1c(b){if(!b){1d 1b};if(D[a[vM]](b)){1d 1b[a[171]](1c(f,d){1d d[a[av]]&&b[a[25]](f)})};1a d=1b[a[mi]]+b;1a f=o[a[21]](1b,d);1a g=1b[a[oz]]();g[a[mi]]=f[a[5Q]];1d g},2ex:1c(g){g=1b[a[mi]]+g;1a b=1b[a[9n]][g];if(!b){if(g[a[222]](-1)!=a[218]){g+=a[218]};b=1b[a[9n]][g]};if(b&&!b[a[av]]){2j 1b[a[9n]][g]}1e{1a f=1b[a[171]](1c(d,b){1d b[a[5Q]][a[222]](0,g[a[59]])===g});1i(1a d=0;d<f[a[59]];d++){2j 1b[a[9n]][f[d][a[5Q]]]}};1d 1b},O6:1c(s){s=m(s||{},{rH:1f,wg:a[1mz],1P:a[9f],MR:1h});D[a[qX]](s[a[85]]);1a x=[],o=0,b=0,v,n,u=D[a[6s]](a[118],1b[a[qu]](s[a[f2]]||1b[a[f2]]||a[58]));1i(1a r in 1b[a[9n]]){if(!1b[a[9n]][a[65]](r)){1u};1a l=1b[a[9n]][r];1a i=l[a[8e]][a[k9]]||s[a[k9]][a[34]]();1a h=g[i];if(!h){6h 1j 6G(i+a[2ew])};1a f=p[a[21]](1b,l,h);1a A=q[a[21]](1b,r,l,f,o);o+=A[a[1mt]][a[59]]+f[a[fI]];b+=A[a[1ms]][a[59]];x[a[1s]](A)};1a k=a[58];k=y[a[Bp]]+a[ro]+a[ro]+j(x[a[59]],2)+j(x[a[59]],2)+j(b,4)+j(o,4)+j(u[a[59]],2)+u;1a t=s[a[85]][a[13]]();if(t===a[7U]||t===a[hX]||t===a[jv]||t===a[cU]){v=1j B(o+b+k[a[59]])}1e{v=1j z(o+b+k[a[59]])};1i(n=0;n<x[a[59]];n++){v[a[r1]](x[n][a[1mt]]);v[a[r1]](x[n][a[2eu]][a[m7]])};1i(n=0;n<x[a[59]];n++){v[a[r1]](x[n][a[1ms]])};v[a[r1]](k);1a w=v[a[ov]]();4v(s[a[85]][a[13]]()){1C a[7U]:;1C a[hX]:;1C a[cU]:1d D[a[6s]](s[a[85]][a[13]](),w);1C a[jv]:1d D[a[vB]](D[a[6s]](a[hX],w));1C a[9f]:1d(s[a[9f]])?d[a[mj]](w):w;4w:1d w}},r4:1c(b,a){1d h(b,a)},1mr:1c(b){1d D[a[6s]](a[118],C[a[qu]](b))},1mu:1c(b){1d C[a[m8]](b)}};t[a[6p]]=v},{"./rH":1,"./xW":2,"./vX":3,"./r4":4,"./Bi":6,"./BB":11,"./zu":14,"./1mv":16,"./nb":17,"./1my":19,"./1mx":20,"./6V":21}],14:[1c(b,f,d){d[a[Nd]]=a[2ev];d[a[Nb]]=a[2ek];d[a[Bp]]=a[2ej];d[a[PE]]=a[2e9];d[a[1m3]]=a[2ea];d[a[2e8]]=a[2e7]},{}],15:[1c(b,g,f){1a d=b(a[1mI]);1a i=b(a[hg]);1c h(b,d){1b[a[1w]]=b;if(!d){1b[a[1w]]=i[a[vH]](1b[a[1w]])};1b[a[59]]=1b[a[1w]][a[59]];1b[a[4H]]=0}h[a[23]]=1j d();h[a[23]][a[ML]]=1c(b){1d 1b[a[1w]][a[5q]](b)};h[a[23]][a[Br]]=1c(b){1d 1b[a[1w]][a[MX]](b)};h[a[23]][a[vw]]=1c(d){1b[a[qD]](d);1a b=1b[a[1w]][a[222]](1b[a[4H]],1b[a[4H]]+d);1b[a[4H]]+=d;1d b};g[a[6p]]=h},{"./MK":5,"./6V":21}],16:[1c(b,f,d){1a h=b(a[hg]);1a g=1c(){1b[a[1w]]=[]};g[a[23]]={MB:1c(b){b=h[a[6s]](a[118],b);1b[a[1w]][a[1s]](b)},vE:1c(){1d 1b[a[1w]][a[61]](a[58])}};f[a[6p]]=g},{"./6V":21}],17:[1c(b,g,f){(1c(g){f[a[9f]]=1f;f[a[ni]]=1f;f[a[118]]=1f;f[a[hX]]=1L Bx!==a[0]&&1L 7S!==a[0];f[a[cU]]=1L g!==a[0];f[a[7U]]=1L 7S!==a[0];if(1L Bx===a[0]){f[a[jv]]=1g}1e{1a b=1j Bx(0);8R{f[a[jv]]=1j jw([b],{1P:a[B7]})[a[MW]]===0}8g(d){8R{1a i=2g[a[1mJ]]||2g[a[1mW]]||2g[a[1mV]]||2g[a[1mU]];1a h=1j i();h[a[r1]](b);f[a[jv]]=h[a[1mX]](a[B7])[a[MW]]===0}8g(d){f[a[jv]]=1g}}}})[a[21]](1b,(1L AY!==a[0]?AY:1T))},{}],18:[1c(b,g,f){1a d=b(a[1mI]);1c h(b){if(b){1b[a[1w]]=b;1b[a[59]]=1b[a[1w]][a[59]];1b[a[4H]]=0}}h[a[23]]=1j d();h[a[23]][a[ML]]=1c(b){1d 1b[a[1w]][b]};h[a[23]][a[Br]]=1c(d){1a f=d[a[5q]](0),g=d[a[5q]](1),h=d[a[5q]](2),i=d[a[5q]](3);1i(1a b=1b[a[59]]-4;b>=0;--b){if(1b[a[1w]][b]===f&&1b[a[1w]][b+1]===g&&1b[a[1w]][b+2]===h&&1b[a[1w]][b+3]===i){1d b}};1d-1};h[a[23]][a[vw]]=1c(d){1b[a[qD]](d);if(d===0){1d 1j 7S(0)};1a b=1b[a[1w]][a[fK]](1b[a[4H]],1b[a[4H]]+d);1b[a[4H]]+=d;1d b};g[a[6p]]=h},{"./MK":5}],19:[1c(b,f,d){1a h=b(a[hg]);1a g=1c(b){1b[a[1w]]=1j 7S(b);1b[a[4H]]=0};g[a[23]]={MB:1c(b){if(b[a[59]]!==0){b=h[a[6s]](a[7U],b);1b[a[1w]][a[zt]](b,1b[a[4H]]);1b[a[4H]]+=b[a[59]]}},vE:1c(){1d 1b[a[1w]]}};f[a[6p]]=g},{"./6V":21}],20:[1c(b,i,g){1a p=b(a[hg]);1a l=b(a[vI]);1a j=b(a[Mx]);1a d=1j 5f(256);1i(1a h=0;h<256;h++){d[h]=(h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1)};d[254]=d[254]=1;1a k=1c(j){1a b,f,g,i,h,k=j[a[59]],d=0;1i(i=0;i<k;i++){f=j[a[5q]](i);if((f&mV)===ig&&(i+1<k)){g=j[a[5q]](i+1);if((g&mV)===ih){f=fO+((f-ig)<<10)+(g-ih);i++}};d+=f<8K?1:f<yW?2:f<fO?3:4};if(l[a[7U]]){b=1j 7S(d)}1e{b=1j 5f(d)};1i(h=0,i=0;h<d;i++){f=j[a[5q]](i);if((f&mV)===ig&&(i+1<k)){g=j[a[5q]](i+1);if((g&mV)===ih){f=fO+((f-ig)<<10)+(g-ih);i++}};if(f<8K){b[h++]=f}1e{if(f<yW){b[h++]=AA|(f>>>6);b[h++]=8K|(f&cK)}1e{if(f<fO){b[h++]=1nN|(f>>>12);b[h++]=8K|(f>>>6&cK);b[h++]=8K|(f&cK)}1e{b[h++]=D1|(f>>>18);b[h++]=8K|(f>>>12&cK);b[h++]=8K|(f>>>6&cK);b[h++]=8K|(f&cK)}}}};1d b};1a m=1c(b,f){1a g;f=f||b[a[59]];if(f>b[a[59]]){f=b[a[59]]};g=f-1;1U(g>=0&&(b[g]&AA)===8K){g--};if(g<0){1d f};if(g===0){1d f};1d(g+d[b[g]]>f)?g:f};1a f=1c(b){1a k,h,j,f,g;1a i=b[a[59]];1a l=1j 5f(i*2);1i(j=0,h=0;h<i;){f=b[h++];if(f<8K){l[j++]=f;1u};g=d[f];if(g>4){l[j++]=zd;h+=g-1;1u};f&=g===2?n3:g===3?rz:D5;1U(g>1&&h<i){f=(f<<6)|(b[h++]&cK);g--};if(g>1){l[j++]=zd;1u};if(f<fO){l[j++]=f}1e{f-=fO;l[j++]=ig|((f>>10)&z4);l[j++]=ih|(f&z4)}};if(l[a[59]]!==j){if(l[a[fK]]){l=l[a[fK]](0,j)}1e{l[a[59]]=j}};1d p[a[1mY]](l)};g[a[qu]]=1c o(b){if(l[a[cU]]){1d j(b,a[MA])};1d k(b)};g[a[m8]]=1c n(b){if(l[a[cU]]){1d p[a[6s]](a[cU],b)[a[22]](a[MA])};b=p[a[6s]](l[a[7U]]?a[7U]:a[ni],b);1a j=[],g=0,h=b[a[59]],d=EP;1U(g<h){1a i=m(b,1k[a[1A]](g+d,h));if(l[a[7U]]){j[a[1s]](f(b[a[fK]](g,i)))}1e{j[a[1s]](f(b[a[222]](g,i)))};g=i};1d j[a[61]](a[58])}},{"./BB":11,"./nb":17,"./6V":21}],21:[1c(b,k,i){1a n=b(a[vI]);1a h=b(a[Mz]);1a l=b(a[Mx]);i[a[vH]]=1c(f){1a d=a[58];1i(1a b=0;b<f[a[59]];b++){d+=1E[a[4r]](f[a[5q]](b)&3z)};1d d};i[a[vB]]=1c(b){i[a[qX]](a[jv]);8R{1d 1j jw([b],{1P:a[B7]})}8g(d){8R{1a g=2g[a[1mJ]]||2g[a[1mW]]||2g[a[1mV]]||2g[a[1mU]];1a f=1j g();f[a[r1]](b);1d f[a[1mX]](a[B7])}8g(d){6h 1j 6G(a[2e4])}}};1c j(a){1d a}1c m(f,b){1i(1a d=0;d<f[a[59]];++d){b[d]=f[a[5q]](d)&Ph};1d b}1c g(b){1a g=EP;1a m=[],k=b[a[59]],o=i[a[hS]](b),j=0,f=1f;8R{4v(o){1C a[7U]:1E[a[4r]][a[63]](1h,1j 7S(0));1l;1C a[cU]:1E[a[4r]][a[63]](1h,l(0));1l}}8g(d){f=1g};if(!f){1a n=a[58];1i(1a h=0;h<b[a[59]];h++){n+=1E[a[4r]](b[h])};1d n};1U(j<k&&g>1){8R{if(o===a[ni]||o===a[cU]){m[a[1s]](1E[a[4r]][a[63]](1h,b[a[222]](j,1k[a[1A]](j+g,k))))}1e{m[a[1s]](1E[a[4r]][a[63]](1h,b[a[fK]](j,1k[a[1A]](j+g,k))))};j+=g}8g(d){g=1k[a[244]](g/2)}};1d m[a[61]](a[58])}i[a[1mY]]=g;1c f(b,d){1i(1a f=0;f<b[a[59]];f++){d[f]=b[f]};1d d}1a o={};o[a[118]]={"qW":j,"rb":1c(b){1d m(b,1j 5f(b[a[59]]))},"qV":1c(b){1d o[a[118]][a[7U]](b)[a[vY]]},"qS":1c(b){1d m(b,1j 7S(b[a[59]]))},"qQ":1c(b){1d m(b,l(b[a[59]]))}};o[a[ni]]={"qW":g,"rb":j,"qV":1c(b){1d(1j 7S(b))[a[vY]]},"qS":1c(a){1d 1j 7S(a)},"qQ":1c(a){1d l(a)}};o[a[hX]]={"qW":1c(a){1d g(1j 7S(a))},"rb":1c(b){1d f(1j 7S(b),1j 5f(b[a[2e5]]))},"qV":j,"qS":1c(a){1d 1j 7S(a)},"qQ":1c(a){1d l(1j 7S(a))}};o[a[7U]]={"qW":g,"rb":1c(b){1d f(b,1j 5f(b[a[59]]))},"qV":1c(b){1d b[a[vY]]},"qS":j,"qQ":1c(a){1d l(a)}};o[a[cU]]={"qW":g,"rb":1c(b){1d f(b,1j 5f(b[a[59]]))},"qV":1c(b){1d o[a[cU]][a[7U]](b)[a[vY]]},"qS":1c(b){1d f(b,1j 7S(b[a[59]]))},"qQ":j};i[a[6s]]=1c(f,b){if(!b){b=a[58]};if(!f){1d b};i[a[qX]](f);1a d=i[a[hS]](b);1a g=o[d][f](b);1d g};i[a[hS]]=1c(b){if(1L b===a[118]){1d a[118]};if(6w[a[23]][a[22]][a[21]](b)===a[2e6]){1d a[ni]};if(n[a[cU]]&&l[a[25]](b)){1d a[cU]};if(n[a[7U]]&&b iK 7S){1d a[7U]};if(n[a[hX]]&&b iK Bx){1d a[hX]}};i[a[qX]]=1c(d){1a b=n[d[a[13]]()];if(!b){6h 1j 6G(d+a[2eb])}};i[a[nD]]=1mZ;i[a[jF]]=-1;i[a[rx]]=1c(g){1a f=a[58],b,d;1i(d=0;d<(g||a[58])[a[59]];d++){b=g[a[5q]](d);f+=a[2ec]+(b<16?a[215]:a[58])+b[a[22]](16)[a[34]]()};1d f};i[a[zp]]=1c(b){1i(1a d in h){if(!h[a[65]](d)){1u};if(h[d][a[By]]===b){1d h[d]}};1d 1h};i[a[vM]]=1c(b){1d 6w[a[23]][a[22]][a[21]](b)===a[2eh]}},{"./vX":3,"./BB":11,"./nb":17}],22:[1c(b,g,d){1a j=b(a[1lO]);1a h=b(a[2ei]);1a l=b(a[1mS]);1a m=b(a[hg]);1a i=b(a[1mM]);1a o=b(a[2eg]);1a k=b(a[vI]);1a f=b(a[Pv]);1c n(b,d){1b[a[9n]]=[];1b[a[wk]]=d;if(b){1b[a[Nf]](b)}}n[a[23]]={1mL:1c(b){1a d=1b[a[4B]][a[e9]](4);if(d!==b){6h 1j 6G(a[2ef]+a[1mK]+m[a[rx]](d)+a[2ed]+m[a[rx]](b)+a[173])}},1mN:1c(){1b[a[PD]]=1b[a[4B]][a[3L]](2);1b[a[PC]]=1b[a[4B]][a[3L]](2);1b[a[PB]]=1b[a[4B]][a[3L]](2);1b[a[Pz]]=1b[a[4B]][a[3L]](2);1b[a[PA]]=1b[a[4B]][a[3L]](4);1b[a[Bs]]=1b[a[4B]][a[3L]](4);1b[a[1mO]]=1b[a[4B]][a[3L]](2);1b[a[wv]]=1b[a[4B]][a[e9]](1b[a[1mO]]);1b[a[wv]]=f[a[m8]](1b[a[wv]])},1mR:1c(){1b[a[1mQ]]=1b[a[4B]][a[3L]](8);1b[a[1mm]]=1b[a[4B]][a[e9]](2);1b[a[1mo]]=1b[a[4B]][a[3L]](2);1b[a[PD]]=1b[a[4B]][a[3L]](4);1b[a[PC]]=1b[a[4B]][a[3L]](4);1b[a[PB]]=1b[a[4B]][a[3L]](8);1b[a[Pz]]=1b[a[4B]][a[3L]](8);1b[a[PA]]=1b[a[4B]][a[3L]](8);1b[a[Bs]]=1b[a[4B]][a[3L]](8);1b[a[1mP]]={};1a b=1b[a[1mQ]]-44,h=0,d,f,g;1U(h<b){d=1b[a[4B]][a[3L]](2);f=1b[a[4B]][a[3L]](4);g=1b[a[4B]][a[e9]](f);1b[a[1mP]][d]={id:d,m6:f,4M:g}}},1mq:1c(){1b[a[2ee]]=1b[a[4B]][a[3L]](4);1b[a[1m4]]=1b[a[4B]][a[3L]](8);1b[a[1mp]]=1b[a[4B]][a[3L]](4);if(1b[a[1mp]]>1){6h 1j 6G(a[2eA])}},1m0:1c(){1a d,b;1i(d=0;d<1b[a[9n]][a[59]];d++){b=1b[a[9n]][d];1b[a[4B]][a[mC]](b[a[z2]]);1b[a[Ce]](i[a[Nd]]);b[a[2eB]](1b[a[4B]]);b[a[2eX]]()}},1lZ:1c(){1a b;1b[a[4B]][a[mC]](1b[a[Bs]]);1U(1b[a[4B]][a[e9]](4)===i[a[Nb]]){b=1j o({1lY:1b[a[1m5]]},1b[a[wk]]);b[a[2eY]](1b[a[4B]]);1b[a[9n]][a[1s]](b)}},1m2:1c(){1a b=1b[a[4B]][a[Br]](i[a[Bp]]);if(b===-1){6h 1j 6G(a[2eW])};1b[a[4B]][a[mC]](b);1b[a[Ce]](i[a[Bp]]);1b[a[2eV]]();if(1b[a[PD]]===m[a[nD]]||1b[a[PC]]===m[a[nD]]||1b[a[PB]]===m[a[nD]]||1b[a[Pz]]===m[a[nD]]||1b[a[PA]]===m[a[jF]]||1b[a[Bs]]===m[a[jF]]){1b[a[1m5]]=1f;b=1b[a[4B]][a[Br]](i[a[PE]]);if(b===-1){6h 1j 6G(a[2eT])};1b[a[4B]][a[mC]](b);1b[a[Ce]](i[a[PE]]);1b[a[2eU]]();1b[a[4B]][a[mC]](1b[a[1m4]]);1b[a[Ce]](i[a[1m3]]);1b[a[2eZ]]()}},1lX:1c(b){1a d=m[a[hS]](b);if(d===a[118]&&!k[a[7U]]){1b[a[4B]]=1j j(b,1b[a[wk]][a[1lW]])}1e{if(d===a[cU]){1b[a[4B]]=1j h(b)}1e{1b[a[4B]]=1j l(m[a[6s]](a[7U],b))}}},km:1c(b){1b[a[2f0]](b);1b[a[2f5]]();1b[a[2f6]]();1b[a[2f4]]()}};g[a[6p]]=n},{"./1lQ":12,"./jW":13,"./zu":14,"./OP":15,"./nb":17,"./Pl":18,"./6V":21,"./1lP":23}],23:[1c(b,h,f){1a i=b(a[1lO]);1a j=b(a[hg]);1a d=b(a[1lR]);1a g=b(a[Pv]);1c k(d,b){1b[a[8e]]=d;1b[a[wk]]=b}k[a[23]]={1lS:1c(){1d(1b[a[Qc]]&zm)===zm},1lV:1c(){1d(1b[a[Qc]]&Q3)===Q3},1lU:1c(f,b,d){1d 1c(){1a h=f[a[4H]];f[a[mC]](b);1a g=f[a[vw]](d);f[a[mC]](h);1d g}},1lT:1c(g,d,f,b,h){1d 1c(){1a d=j[a[6s]](b[a[1m6]],1b[a[Q9]]());1a f=b[a[1m7]](d);if(f[a[59]]!==h){6h 1j 6G(a[2f3])};1d f}},1mk:1c(h){1a b,f;h[a[1mj]](22);1b[a[zn]]=h[a[3L]](2);f=h[a[3L]](2);1b[a[cM]]=h[a[e9]](1b[a[zn]]);h[a[1mj]](f);if(1b[a[fI]]==-1||1b[a[eh]]==-1){6h 1j 6G(a[2f1]+a[2f2])};b=j[a[zp]](1b[a[jI]]);if(b===1h){6h 1j 6G(a[2eS]+j[a[rx]](1b[a[jI]])+a[2eR]+1b[a[cM]]+a[173])};1b[a[gq]]=1j d();1b[a[gq]][a[fI]]=1b[a[fI]];1b[a[gq]][a[eh]]=1b[a[eh]];1b[a[gq]][a[du]]=1b[a[du]];1b[a[gq]][a[jI]]=1b[a[jI]];1b[a[gq]][a[Q9]]=1b[a[2eH]](h,h[a[4H]],1b[a[fI]],b);1b[a[gq]][a[yY]]=1b[a[2eI]](h,h[a[4H]],1b[a[fI]],b,1b[a[eh]]);if(1b[a[wk]][a[2eG]]){1b[a[gq]]=j[a[6s]](a[118],1b[a[gq]][a[yY]]());if(g[a[du]](1b[a[gq]])!==1b[a[du]]){6h 1j 6G(a[2eF])}}},1ml:1c(b){1b[a[1mm]]=b[a[e9]](2);1b[a[1mo]]=b[a[3L]](2);1b[a[Qc]]=b[a[3L]](2);1b[a[jI]]=b[a[e9]](2);1b[a[5U]]=b[a[2eC]]();1b[a[du]]=b[a[3L]](4);1b[a[fI]]=b[a[3L]](4);1b[a[eh]]=b[a[3L]](4);1b[a[zn]]=b[a[3L]](2);1b[a[1m8]]=b[a[3L]](2);1b[a[1mn]]=b[a[3L]](2);1b[a[Q1]]=b[a[3L]](2);1b[a[2eD]]=b[a[3L]](2);1b[a[1mh]]=b[a[3L]](4);1b[a[z2]]=b[a[3L]](4);if(1b[a[2eE]]()){6h 1j 6G(a[2eJ])};1b[a[cM]]=b[a[e9]](1b[a[zn]]);1b[a[2eK]](b);1b[a[2eP]](b);1b[a[om]]=b[a[e9]](1b[a[1mn]]);1b[a[av]]=1b[a[1mh]]&2eQ?1f:1g},1mg:1c(d){if(!1b[a[ol]][zm]){1d};1a b=1j i(1b[a[ol]][zm][a[2b]]);if(1b[a[eh]]===j[a[jF]]){1b[a[eh]]=b[a[3L]](8)};if(1b[a[fI]]===j[a[jF]]){1b[a[fI]]=b[a[3L]](8)};if(1b[a[z2]]===j[a[jF]]){1b[a[z2]]=b[a[3L]](8)};if(1b[a[Q1]]===j[a[jF]]){1b[a[Q1]]=b[a[3L]](4)}},1ma:1c(g){1a h=g[a[4H]],b,d,f;1b[a[ol]]=1b[a[ol]]||{};1U(g[a[4H]]<h+1b[a[1m8]]){b=g[a[3L]](2);d=g[a[3L]](2);f=g[a[e9]](d);1b[a[ol]][b]={id:b,m6:d,4M:f}}},1mc:1c(){if(1b[a[2eO]]()){1b[a[cM]]=g[a[m8]](1b[a[cM]]);1b[a[om]]=g[a[m8]](1b[a[om]])}1e{1a d=1b[a[2eN]]();if(d!==1h){1b[a[cM]]=d};1a b=1b[a[2eL]]();if(b!==1h){1b[a[om]]=b}}},1mf:1c(){1a d=1b[a[ol]][2eM];if(d){1a b=1j i(d[a[2b]]);if(b[a[3L]](1)!==1){1d 1h};if(g[a[du]](1b[a[cM]])!==b[a[3L]](4)){1d 1h};1d g[a[m8]](b[a[e9]](d[a[59]]-5))};1d 1h},1me:1c(){1a d=1b[a[ol]][2e3];if(d){1a b=1j i(d[a[2b]]);if(b[a[3L]](1)!==1){1d 1h};if(g[a[du]](1b[a[om]])!==b[a[3L]](4)){1d 1h};1d g[a[m8]](b[a[e9]](d[a[59]]-5))};1d 1h}};h[a[6p]]=k},{"./xW":2,"./jW":13,"./OP":15,"./6V":21}],24:[1c(b,j,h){1a d=b(a[2e2])[a[pQ]];1a g=b(a[2dl]);1a i=b(a[2dm]);1a f=b(a[2dk]);1a k={};d(k,g,i,f);j[a[6p]]=k},{"./k3/rn":25,"./k3/pV":26,"./k3/6V/f1":27,"./k3/aK/z6":30}],25:[1c(b,j,h){1a u=b(a[2dj]);1a m=b(a[1nR]);1a l=b(a[1nQ]);1a k=b(a[1nT]);1a v=b(a[1nU]);1a r=0;1a q=4;1a s=0;1a t=1;1a n=-1;1a o=0;1a p=8;1a f=1c(d){1b[a[8e]]=m[a[pQ]]({1md:n,y3:p,Ox:1nW,OC:15,1n1:8,1n2:o,to:a[58]},d||{});1a b=1b[a[8e]];if(b[a[yV]]&&(b[a[8c]]>0)){b[a[8c]]=-b[a[8c]]}1e{if(b[a[Os]]&&(b[a[8c]]>0)&&(b[a[8c]]<16)){b[a[8c]]+=16}};1b[a[qk]]=0;1b[a[5a]]=a[58];1b[a[mb]]=1g;1b[a[ib]]=[];1b[a[4g]]=1j v();1b[a[4g]][a[3I]]=0;1a f=u[a[1o6]](1b[a[4g]],b[a[c8]],b[a[Fd]],b[a[8c]],b[a[2dg]],b[a[hv]]);if(f!==s){6h 1j 6G(k[f])};if(b[a[7D]]){u[a[1o5]](1b[a[4g]],b[a[7D]])}};f[a[23]][a[1s]]=1c(f,g){1a i=1b[a[4g]];1a d=1b[a[8e]][a[1nV]];1a h,b;if(1b[a[mb]]){1d 1g};b=(g===~~g)?g:((g===1f)?q:r);if(1L f===a[118]){i[a[2e]]=l[a[1nK]](f)}1e{i[a[2e]]=f};i[a[f0]]=0;i[a[7i]]=i[a[2e]][a[59]];do{if(i[a[3I]]===0){i[a[ap]]=1j m[a[gv]](d);i[a[7K]]=0;i[a[3I]]=d};h=u[a[OQ]](i,b);if(h!==t&&h!==s){1b[a[qa]](h);1b[a[mb]]=1f;1d 1g};if(i[a[3I]]===0||(i[a[7i]]===0&&b===q)){if(1b[a[8e]][a[yT]]===a[118]){1b[a[qd]](l[a[1nL]](m[a[w4]](i[a[ap]],i[a[7K]])))}1e{1b[a[qd]](m[a[w4]](i[a[ap]],i[a[7K]]))}}}1U((i[a[7i]]>0||i[a[3I]]===0)&&h!==t);if(b===q){h=u[a[1o4]](1b[a[4g]]);1b[a[qa]](h);1b[a[mb]]=1f;1d h===s};1d 1f};f[a[23]][a[qd]]=1c(b){1b[a[ib]][a[1s]](b)};f[a[23]][a[qa]]=1c(b){if(b===s){if(1b[a[8e]][a[yT]]===a[118]){1b[a[8]]=1b[a[ib]][a[61]](a[58])}1e{1b[a[8]]=m[a[1nO]](1b[a[ib]])}};1b[a[ib]]=[];1b[a[qk]]=b;1b[a[5a]]=1b[a[4g]][a[5a]]};1c d(d,g){1a b=1j f(g);b[a[1s]](d,1f);if(b[a[qk]]){6h b[a[5a]]};1d b[a[8]]}1c g(b,f){f=f||{};f[a[yV]]=1f;1d d(b,f)}1c i(b,f){f=f||{};f[a[Os]]=1f;1d d(b,f)}h[a[2dh]]=f;h[a[OQ]]=d;h[a[1nS]]=g;h[a[Os]]=i},{"./6V/f1":27,"./6V/Pc":28,"./aK/rn.js":32,"./aK/yk":37,"./aK/Pe":39}],26:[1c(b,k,f){1a o=b(a[2di]);1a n=b(a[1nR]);1a m=b(a[1nQ]);1a d=b(a[2dn]);1a l=b(a[1nT]);1a p=b(a[1nU]);1a g=b(a[2do]);1a i=1c(f){1b[a[8e]]=n[a[pQ]]({Ox:1nW,OC:0,to:a[58]},f||{});1a b=1b[a[8e]];if(b[a[yV]]&&(b[a[8c]]>=0)&&(b[a[8c]]<16)){b[a[8c]]=-b[a[8c]];if(b[a[8c]]===0){b[a[8c]]=-15}};if((b[a[8c]]>=0)&&(b[a[8c]]<16)&&!(f&&f[a[8c]])){b[a[8c]]+=32};if((b[a[8c]]>15)&&(b[a[8c]]<48)){if((b[a[8c]]&15)===0){b[a[8c]]|=15}};1b[a[qk]]=0;1b[a[5a]]=a[58];1b[a[mb]]=1g;1b[a[ib]]=[];1b[a[4g]]=1j p();1b[a[4g]][a[3I]]=0;1a h=o[a[1n9]](1b[a[4g]],b[a[8c]]);if(h!==d[a[yR]]){6h 1j 6G(l[h])};1b[a[7D]]=1j g();o[a[1nl]](1b[a[4g]],1b[a[7D]])};i[a[23]][a[1s]]=1c(g,h){1a k=1b[a[4g]];1a f=1b[a[8e]][a[1nV]];1a j,b;1a i,l,p;if(1b[a[mb]]){1d 1g};b=(h===~~h)?h:((h===1f)?d[a[zv]]:d[a[1nP]]);if(1L g===a[118]){k[a[2e]]=m[a[1nX]](g)}1e{k[a[2e]]=g};k[a[f0]]=0;k[a[7i]]=k[a[2e]][a[59]];do{if(k[a[3I]]===0){k[a[ap]]=1j n[a[gv]](f);k[a[7K]]=0;k[a[3I]]=f};j=o[a[N6]](k,d[a[1nP]]);if(j!==d[a[zk]]&&j!==d[a[yR]]){1b[a[qa]](j);1b[a[mb]]=1f;1d 1g};if(k[a[7K]]){if(k[a[3I]]===0||j===d[a[zk]]||(k[a[7i]]===0&&b===d[a[zv]])){if(1b[a[8e]][a[yT]]===a[118]){i=m[a[1ob]](k[a[ap]],k[a[7K]]);l=k[a[7K]]-i;p=m[a[1nY]](k[a[ap]],i);k[a[7K]]=l;k[a[3I]]=f-l;if(l){n[a[hH]](k[a[ap]],k[a[ap]],i,l,0)};1b[a[qd]](p)}1e{1b[a[qd]](n[a[w4]](k[a[ap]],k[a[7K]]))}}}}1U((k[a[7i]]>0)&&j!==d[a[zk]]);if(j===d[a[zk]]){b=d[a[zv]]};if(b===d[a[zv]]){j=o[a[1n8]](1b[a[4g]]);1b[a[qa]](j);1b[a[mb]]=1f;1d j===d[a[yR]]};1d 1f};i[a[23]][a[qd]]=1c(b){1b[a[ib]][a[1s]](b)};i[a[23]][a[qa]]=1c(b){if(b===d[a[yR]]){if(1b[a[8e]][a[yT]]===a[118]){1b[a[8]]=1b[a[ib]][a[61]](a[58])}1e{1b[a[8]]=n[a[1nO]](1b[a[ib]])}};1b[a[ib]]=[];1b[a[qk]]=b;1b[a[5a]]=1b[a[4g]][a[5a]]};1c h(d,f){1a b=1j i(f);b[a[1s]](d,1f);if(b[a[qk]]){6h b[a[5a]]};1d b[a[8]]}1c j(b,d){d=d||{};d[a[yV]]=1f;1d h(b,d)}f[a[2dt]]=i;f[a[N6]]=h;f[a[1nI]]=j;f[a[2du]]=h},{"./6V/f1":27,"./6V/Pc":28,"./aK/z6":30,"./aK/1nH":33,"./aK/pV.js":35,"./aK/yk":37,"./aK/Pe":39}],27:[1c(b,h,d){1a i=(1L 7S!==a[0])&&(1L OV!==a[0])&&(1L 1nG!==a[0]);d[a[pQ]]=1c(b){1a g=5f[a[23]][a[222]][a[21]](1Y,1);1U(g[a[59]]){1a f=g[a[kq]]();if(!f){1u};if(1L(f)!==a[121]){6h 1j 2ds(f+a[2dr])};1i(1a d in f){if(f[a[65]](d)){b[d]=f[d]}}};1d b};d[a[w4]]=1c(b,d){if(b[a[59]]===d){1d b};if(b[a[fK]]){1d b[a[fK]](0,d)};b[a[59]]=d;1d b};1a f={OX:1c(b,h,i,g,d){if(h[a[fK]]&&b[a[fK]]){b[a[zt]](h[a[fK]](i,i+g),d);1d};1i(1a f=0;f<g;f++){b[d+f]=h[i+f]}},OW:1c(d){1a f,g,h,i,b,j;h=0;1i(f=0,g=d[a[59]];f<g;f++){h+=d[f][a[59]]};j=1j 7S(h);i=0;1i(f=0,g=d[a[59]];f<g;f++){b=d[f];j[a[zt]](b,i);i+=b[a[59]]};1d j}};1a g={OX:1c(a,g,h,f,b){1i(1a d=0;d<f;d++){a[b+d]=g[h+d]}},OW:1c(b){1d[][a[5I]][a[63]]([],b)}};d[a[1nJ]]=1c(b){if(b){d[a[gv]]=7S;d[a[dG]]=OV;d[a[rI]]=1nG;d[a[pQ]](d,f)}1e{d[a[gv]]=5f;d[a[dG]]=5f;d[a[rI]]=5f;d[a[pQ]](d,g)}};d[a[1nJ]](i)},{}],28:[1c(b,i,g){1a l=b(a[2dp]);1a j=1f;1a k=1f;8R{1E[a[4r]][a[63]](1h,[0])}8g(gz){j=1g};8R{1E[a[4r]][a[63]](1h,1j 7S(1))}8g(gz){k=1g};1a d=1j l[a[gv]](256);1i(1a h=0;h<256;h++){d[h]=(h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1)};d[254]=d[254]=1;g[a[1nK]]=1c(j){1a b,f,g,i,h,k=j[a[59]],d=0;1i(i=0;i<k;i++){f=j[a[5q]](i);if((f&mV)===ig&&(i+1<k)){g=j[a[5q]](i+1);if((g&mV)===ih){f=fO+((f-ig)<<10)+(g-ih);i++}};d+=f<8K?1:f<yW?2:f<fO?3:4};b=1j l[a[gv]](d);1i(h=0,i=0;h<d;i++){f=j[a[5q]](i);if((f&mV)===ig&&(i+1<k)){g=j[a[5q]](i+1);if((g&mV)===ih){f=fO+((f-ig)<<10)+(g-ih);i++}};if(f<8K){b[h++]=f}1e{if(f<yW){b[h++]=AA|(f>>>6);b[h++]=8K|(f&cK)}1e{if(f<fO){b[h++]=1nN|(f>>>12);b[h++]=8K|(f>>>6&cK);b[h++]=8K|(f&cK)}1e{b[h++]=D1|(f>>>18);b[h++]=8K|(f>>>12&cK);b[h++]=8K|(f>>>6&cK);b[h++]=8K|(f&cK)}}}};1d b};1c f(b,f){if(f<1nM){if((b[a[fK]]&&k)||(!b[a[fK]]&&j)){1d 1E[a[4r]][a[63]](1h,l[a[w4]](b,f))}};1a g=a[58];1i(1a d=0;d<f;d++){g+=1E[a[4r]](b[d])};1d g}g[a[1nL]]=1c(b){1d f(b,b[a[59]])};g[a[1nX]]=1c(g){1a b=1j l[a[gv]](g[a[59]]);1i(1a d=0,f=b[a[59]];d<f;d++){b[d]=g[a[5q]](d)};1d b};g[a[1nY]]=1c(b,k){1a i,l,g,h;1a j=k||b[a[59]];1a m=1j 5f(j*2);1i(l=0,i=0;i<j;){g=b[i++];if(g<8K){m[l++]=g;1u};h=d[g];if(h>4){m[l++]=zd;i+=h-1;1u};g&=h===2?n3:h===3?rz:D5;1U(h>1&&i<j){g=(g<<6)|(b[i++]&cK);h--};if(h>1){m[l++]=zd;1u};if(g<fO){m[l++]=g}1e{g-=fO;m[l++]=ig|((g>>10)&z4);m[l++]=ih|(g&z4)}};1d f(m,l)};g[a[1ob]]=1c(b,f){1a g;f=f||b[a[59]];if(f>b[a[59]]){f=b[a[59]]};g=f-1;1U(g>=0&&(b[g]&AA)===8K){g--};if(g<0){1d f};if(g===0){1d f};1d(g+d[b[g]]>f)?g:f}},{"./f1":27}],29:[1c(b,g,f){1c d(a,b,d,g){1a h=(a&7O)|0,i=((a>>>16)&7O)|0,f=0;1U(d!==0){f=d>Ro?Ro:d;d-=f;do{h=(h+b[g++])|0;i=(i+h)|0}1U(--f);h%=1oa;i%=1oa};1d(h|(i<<16))|0}g[a[6p]]=d},{}],30:[1c(b,f,d){f[a[6p]]={1o9:0,2dq:1,2df:2,2de:3,1oc:4,2d4:5,2d5:6,1od:0,1of:1,2d3:2,2d2:-1,2cZ:-2,2d0:-3,2d1:-5,2d6:0,2d7:1,2dc:9,2dd:-1,2db:1,2da:2,2d8:3,2d9:4,2dv:0,2dw:0,2dS:1,2dT:2,2dR:8}},{}],31:[1c(b,i,g){1c h(){1a a,f=[];1i(1a d=0;d<256;d++){a=d;1i(1a b=0;b<8;b++){a=((a&1)?(1oe^(a>>>1)):(a>>>1))};f[d]=a};1d f}1a f=h();1c d(b,a,h,i){1a j=f,d=i+h;b=b^(-1);1i(1a g=i;g<d;g++){b=(b>>>8)^j[(b^a[g])&Ph]};1d(b^(-1))}i[a[6p]]=d},{}],32:[1c(b,Z,F){1a bj=b(a[Cv]);1a bi=b(a[2dQ]);1a d=b(a[1ne]);1a o=b(a[OI]);1a ba=b(a[2dO]);1a bv=0;1a bx=1;1a bt=3;1a br=4;1a bk=5;1a bw=0;1a bz=1;1a bA=-2;1a bm=-3;1a bl=-5;1a bn=-1;1a bq=1;1a bu=2;1a by=3;1a bs=4;1a bo=0;1a bB=2;1a bp=8;1a V=9;1a W=15;1a q=8;1a P=29;1a Q=256;1a O=Q+1+P;1a p=30;1a f=19;1a M=2*O+1;1a T=15;1a Y=3;1a U=258;1a X=(U+Y+1);1a bd=2dP;1a N=42;1a G=69;1a bb=73;1a l=91;1a L=103;1a k=113;1a I=ql;1a j=1;1a g=2;1a i=3;1a h=4;1a bc=Pr;1c E(d,b){d[a[5a]]=ba[b];1d b}1c bg(a){1d((a)<<1)-((a)>4?9:0)}1c bC(b){1a d=b[a[59]];1U(--d>=0){b[d]=0}}1c K(f){1a d=f[a[5i]];1a b=d[a[a6]];if(b>f[a[3I]]){b=f[a[3I]]};if(b===0){1d};bj[a[hH]](f[a[ap]],d[a[9Y]],d[a[wH]],b,f[a[7K]]);f[a[7K]]+=b;d[a[wH]]+=b;f[a[q1]]+=b;f[a[3I]]-=b;d[a[a6]]-=b;if(d[a[a6]]===0){d[a[wH]]=0}}1c J(d,b){bi[a[1nn]](d,(d[a[gD]]>=0?d[a[gD]]:-1),d[a[2L]]-d[a[gD]],b);d[a[gD]]=d[a[2L]];K(d[a[4g]])}1c be(d,b){d[a[9Y]][d[a[a6]]++]=b}1c bf(d,b){d[a[9Y]][d[a[a6]]++]=(b>>>8)&3z;d[a[9Y]][d[a[a6]]++]=b&3z}1c bh(i,b,h,g){1a f=i[a[7i]];if(f>g){f=g};if(f===0){1d 0};i[a[7i]]-=f;bj[a[hH]](b,i[a[2e]],i[a[f0]],f,h);if(i[a[5i]][a[5j]]===1){i[a[6Q]]=d(i[a[6Q]],b,f,h)}1e{if(i[a[5i]][a[5j]]===2){i[a[6Q]]=o(i[a[6Q]],b,f,h)}};i[a[f0]]+=f;i[a[j6]]+=f;1d f}1c S(m,g){1a f=m[a[Oz]];1a n=m[a[2L]];1a j;1a h;1a d=m[a[fm]];1a k=m[a[OA]];1a i=(m[a[2L]]>(m[a[fR]]-X))?m[a[2L]]-(m[a[fR]]-X):0;1a b=m[a[117]];1a r=m[a[mf]];1a l=m[a[dt]];1a q=m[a[2L]]+U;1a p=b[n+d-1];1a o=b[n+d];if(m[a[fm]]>=m[a[Oy]]){f>>=2};if(k>m[a[3J]]){k=m[a[3J]]};do{j=g;if(b[j+d]!==o||b[j+d-1]!==p||b[j]!==b[n]||b[++j]!==b[n+1]){1u};n+=2;j++;do{}1U(b[++n]===b[++j]&&b[++n]===b[++j]&&b[++n]===b[++j]&&b[++n]===b[++j]&&b[++n]===b[++j]&&b[++n]===b[++j]&&b[++n]===b[++j]&&b[++n]===b[++j]&&n<q);h=U-(q-n);n=q-U;if(h>d){m[a[qe]]=g;d=h;if(h>=k){1l};p=b[n+d-1];o=b[n+d]}}1U((g=l[g&r])>i&&--f!==0);if(d<=m[a[3J]]){1d d};1d m[a[3J]]}1c H(i){1a b=i[a[fR]];1a h,g,d,f,j;do{f=i[a[OS]]-i[a[3J]]-i[a[2L]];if(i[a[2L]]>=b+(b-X)){bj[a[hH]](i[a[117]],i[a[117]],b,b,0);i[a[qe]]-=b;i[a[2L]]-=b;i[a[gD]]-=b;g=i[a[x5]];h=g;do{d=i[a[3v]][--h];i[a[3v]][h]=(d>=b?d-b:0)}1U(--g);g=b;h=g;do{d=i[a[dt]][--h];i[a[dt]][h]=(d>=b?d-b:0)}1U(--g);f+=b};if(i[a[4g]][a[7i]]===0){1l};g=bh(i[a[4g]],i[a[117]],i[a[2L]]+i[a[3J]],f);i[a[3J]]+=g;if(i[a[3J]]+i[a[e4]]>=Y){j=i[a[2L]]-i[a[e4]];i[a[6j]]=i[a[117]][j];i[a[6j]]=((i[a[6j]]<<i[a[jo]])^i[a[117]][j+1])&i[a[jx]];1U(i[a[e4]]){i[a[6j]]=((i[a[6j]]<<i[a[jo]])^i[a[117]][j+Y-1])&i[a[jx]];i[a[dt]][j&i[a[mf]]]=i[a[3v]][i[a[6j]]];i[a[3v]][i[a[6j]]]=j;j++;i[a[e4]]--;if(i[a[3J]]+i[a[e4]]<Y){1l}}}}1U(i[a[3J]]<X&&i[a[4g]][a[7i]]!==0)}1c w(g,b){1a d=7O;if(d>g[a[x9]]-5){d=g[a[x9]]-5};1i(;;){if(g[a[3J]]<=1){H(g);if(g[a[3J]]===0&&b===bv){1d j};if(g[a[3J]]===0){1l}};g[a[2L]]+=g[a[3J]];g[a[3J]]=0;1a f=g[a[gD]]+d;if(g[a[2L]]===0||g[a[2L]]>=f){g[a[3J]]=g[a[2L]]-f;g[a[2L]]=f;J(g,1g);if(g[a[4g]][a[3I]]===0){1d j}};if(g[a[2L]]-g[a[gD]]>=(g[a[fR]]-X)){J(g,1g);if(g[a[4g]][a[3I]]===0){1d j}}};g[a[e4]]=0;if(b===br){J(g,1f);if(g[a[4g]][a[3I]]===0){1d i};1d h};if(g[a[2L]]>g[a[gD]]){J(g,1g);if(g[a[4g]][a[3I]]===0){1d j}};1d j}1c s(k,d){1a f;1a b;1i(;;){if(k[a[3J]]<X){H(k);if(k[a[3J]]<X&&d===bv){1d j};if(k[a[3J]]===0){1l}};f=0;if(k[a[3J]]>=Y){k[a[6j]]=((k[a[6j]]<<k[a[jo]])^k[a[117]][k[a[2L]]+Y-1])&k[a[jx]];f=k[a[dt]][k[a[2L]]&k[a[mf]]]=k[a[3v]][k[a[6j]]];k[a[3v]][k[a[6j]]]=k[a[2L]]};if(f!==0&&((k[a[2L]]-f)<=(k[a[fR]]-X))){k[a[6i]]=S(k,f)};if(k[a[6i]]>=Y){b=bi[a[jy]](k,k[a[2L]]-k[a[qe]],k[a[6i]]-Y);k[a[3J]]-=k[a[6i]];if(k[a[6i]]<=k[a[EO]]&&k[a[3J]]>=Y){k[a[6i]]--;do{k[a[2L]]++;k[a[6j]]=((k[a[6j]]<<k[a[jo]])^k[a[117]][k[a[2L]]+Y-1])&k[a[jx]];f=k[a[dt]][k[a[2L]]&k[a[mf]]]=k[a[3v]][k[a[6j]]];k[a[3v]][k[a[6j]]]=k[a[2L]]}1U(--k[a[6i]]!==0);k[a[2L]]++}1e{k[a[2L]]+=k[a[6i]];k[a[6i]]=0;k[a[6j]]=k[a[117]][k[a[2L]]];k[a[6j]]=((k[a[6j]]<<k[a[jo]])^k[a[117]][k[a[2L]]+1])&k[a[jx]]}}1e{b=bi[a[jy]](k,0,k[a[117]][k[a[2L]]]);k[a[3J]]--;k[a[2L]]++};if(b){J(k,1g);if(k[a[4g]][a[3I]]===0){1d j}}};k[a[e4]]=((k[a[2L]]<(Y-1))?k[a[2L]]:Y-1);if(d===br){J(k,1f);if(k[a[4g]][a[3I]]===0){1d i};1d h};if(k[a[eg]]){J(k,1g);if(k[a[4g]][a[3I]]===0){1d j}};1d g}1c v(l,d){1a f;1a b;1a k;1i(;;){if(l[a[3J]]<X){H(l);if(l[a[3J]]<X&&d===bv){1d j};if(l[a[3J]]===0){1l}};f=0;if(l[a[3J]]>=Y){l[a[6j]]=((l[a[6j]]<<l[a[jo]])^l[a[117]][l[a[2L]]+Y-1])&l[a[jx]];f=l[a[dt]][l[a[2L]]&l[a[mf]]]=l[a[3v]][l[a[6j]]];l[a[3v]][l[a[6j]]]=l[a[2L]]};l[a[fm]]=l[a[6i]];l[a[OR]]=l[a[qe]];l[a[6i]]=Y-1;if(f!==0&&l[a[fm]]<l[a[EO]]&&l[a[2L]]-f<=(l[a[fR]]-X)){l[a[6i]]=S(l,f);if(l[a[6i]]<=5&&(l[a[hv]]===bq||(l[a[6i]]===Y&&l[a[2L]]-l[a[qe]]>DD))){l[a[6i]]=Y-1}};if(l[a[fm]]>=Y&&l[a[6i]]<=l[a[fm]]){k=l[a[2L]]+l[a[3J]]-Y;b=bi[a[jy]](l,l[a[2L]]-1-l[a[OR]],l[a[fm]]-Y);l[a[3J]]-=l[a[fm]]-1;l[a[fm]]-=2;do{if(++l[a[2L]]<=k){l[a[6j]]=((l[a[6j]]<<l[a[jo]])^l[a[117]][l[a[2L]]+Y-1])&l[a[jx]];f=l[a[dt]][l[a[2L]]&l[a[mf]]]=l[a[3v]][l[a[6j]]];l[a[3v]][l[a[6j]]]=l[a[2L]]}}1U(--l[a[fm]]!==0);l[a[nU]]=0;l[a[6i]]=Y-1;l[a[2L]]++;if(b){J(l,1g);if(l[a[4g]][a[3I]]===0){1d j}}}1e{if(l[a[nU]]){b=bi[a[jy]](l,0,l[a[117]][l[a[2L]]-1]);if(b){J(l,1g)};l[a[2L]]++;l[a[3J]]--;if(l[a[4g]][a[3I]]===0){1d j}}1e{l[a[nU]]=1;l[a[2L]]++;l[a[3J]]--}}};if(l[a[nU]]){b=bi[a[jy]](l,0,l[a[117]][l[a[2L]]-1]);l[a[nU]]=0};l[a[e4]]=l[a[2L]]<Y-1?l[a[2L]]:Y-1;if(d===br){J(l,1f);if(l[a[4g]][a[3I]]===0){1d i};1d h};if(l[a[eg]]){J(l,1g);if(l[a[4g]][a[3I]]===0){1d j}};1d g}1c u(l,f){1a d;1a k;1a m,n;1a b=l[a[117]];1i(;;){if(l[a[3J]]<=U){H(l);if(l[a[3J]]<=U&&f===bv){1d j};if(l[a[3J]]===0){1l}};l[a[6i]]=0;if(l[a[3J]]>=Y&&l[a[2L]]>0){m=l[a[2L]]-1;k=b[m];if(k===b[++m]&&k===b[++m]&&k===b[++m]){n=l[a[2L]]+U;do{}1U(k===b[++m]&&k===b[++m]&&k===b[++m]&&k===b[++m]&&k===b[++m]&&k===b[++m]&&k===b[++m]&&k===b[++m]&&m<n);l[a[6i]]=U-(n-m);if(l[a[6i]]>l[a[3J]]){l[a[6i]]=l[a[3J]]}}};if(l[a[6i]]>=Y){d=bi[a[jy]](l,1,l[a[6i]]-Y);l[a[3J]]-=l[a[6i]];l[a[2L]]+=l[a[6i]];l[a[6i]]=0}1e{d=bi[a[jy]](l,0,l[a[117]][l[a[2L]]]);l[a[3J]]--;l[a[2L]]++};if(d){J(l,1g);if(l[a[4g]][a[3I]]===0){1d j}}};l[a[e4]]=0;if(f===br){J(l,1f);if(l[a[4g]][a[3I]]===0){1d i};1d h};if(l[a[eg]]){J(l,1g);if(l[a[4g]][a[3I]]===0){1d j}};1d g}1c t(f,d){1a b;1i(;;){if(f[a[3J]]===0){H(f);if(f[a[3J]]===0){if(d===bv){1d j};1l}};f[a[6i]]=0;b=bi[a[jy]](f,0,f[a[117]][f[a[2L]]]);f[a[3J]]--;f[a[2L]]++;if(b){J(f,1g);if(f[a[4g]][a[3I]]===0){1d j}}};f[a[e4]]=0;if(d===br){J(f,1f);if(f[a[4g]][a[3I]]===0){1d i};1d h};if(f[a[eg]]){J(f,1g);if(f[a[4g]][a[3I]]===0){1d j}};1d g}1a m=1c(d,g,h,f,b){1b[a[1o7]]=d;1b[a[1o8]]=g;1b[a[1o1]]=h;1b[a[1o0]]=f;1b[a[1o2]]=b};1a n;n=[1j m(0,0,0,0,w),1j m(4,4,8,4,s),1j m(4,5,16,8,s),1j m(4,6,32,32,s),1j m(4,4,16,16,v),1j m(8,16,32,32,v),1j m(8,16,128,128,v),1j m(8,32,128,256,v),1j m(32,128,258,P9,v),1j m(32,258,258,DD,v)];1c R(b){b[a[OS]]=2*b[a[fR]];bC(b[a[3v]]);b[a[EO]]=n[b[a[c8]]][a[1o8]];b[a[Oy]]=n[b[a[c8]]][a[1o7]];b[a[OA]]=n[b[a[c8]]][a[1o1]];b[a[Oz]]=n[b[a[c8]]][a[1o0]];b[a[2L]]=0;b[a[gD]]=0;b[a[3J]]=0;b[a[e4]]=0;b[a[6i]]=b[a[fm]]=Y-1;b[a[nU]]=0;b[a[6j]]=0}1c D(){1b[a[4g]]=1h;1b[a[eY]]=0;1b[a[9Y]]=1h;1b[a[x9]]=0;1b[a[wH]]=0;1b[a[a6]]=0;1b[a[5j]]=0;1b[a[9o]]=1h;1b[a[1nZ]]=0;1b[a[Fd]]=bp;1b[a[nG]]=-1;1b[a[fR]]=0;1b[a[Fa]]=0;1b[a[mf]]=0;1b[a[117]]=1h;1b[a[OS]]=0;1b[a[dt]]=1h;1b[a[3v]]=1h;1b[a[6j]]=0;1b[a[x5]]=0;1b[a[Fe]]=0;1b[a[jx]]=0;1b[a[jo]]=0;1b[a[gD]]=0;1b[a[6i]]=0;1b[a[OR]]=0;1b[a[nU]]=0;1b[a[2L]]=0;1b[a[qe]]=0;1b[a[3J]]=0;1b[a[fm]]=0;1b[a[Oz]]=0;1b[a[EO]]=0;1b[a[c8]]=0;1b[a[hv]]=0;1b[a[Oy]]=0;1b[a[OA]]=0;1b[a[cS]]=1j bj[a[dG]](M*2);1b[a[mS]]=1j bj[a[dG]]((2*p+1)*2);1b[a[c5]]=1j bj[a[dG]]((2*f+1)*2);bC(1b[a[cS]]);bC(1b[a[mS]]);bC(1b[a[c5]]);1b[a[uJ]]=1h;1b[a[uK]]=1h;1b[a[MQ]]=1h;1b[a[iE]]=1j bj[a[dG]](T+1);1b[a[7u]]=1j bj[a[dG]](2*O+1);bC(1b[a[7u]]);1b[a[hF]]=0;1b[a[oM]]=0;1b[a[2x]]=1j bj[a[dG]](2*O+1);bC(1b[a[2x]]);1b[a[CK]]=0;1b[a[pO]]=0;1b[a[eg]]=0;1b[a[qg]]=0;1b[a[oH]]=0;1b[a[wb]]=0;1b[a[O8]]=0;1b[a[e4]]=0;1b[a[e7]]=0;1b[a[cl]]=0}1c B(d){1a b;if(!d||!d[a[5i]]){1d E(d,bA)};d[a[j6]]=d[a[q1]]=0;d[a[uw]]=bB;b=d[a[5i]];b[a[a6]]=0;b[a[wH]]=0;if(b[a[5j]]<0){b[a[5j]]=-b[a[5j]]};b[a[eY]]=(b[a[5j]]?N:k);d[a[6Q]]=(b[a[5j]]===2)?0:1;b[a[nG]]=bv;bi[a[1np]](b);1d bw}1c A(d){1a b=B(d);if(b===bw){R(d[a[5i]])};1d b}1c C(d,b){if(!d||!d[a[5i]]){1d bA};if(d[a[5i]][a[5j]]!==2){1d bA};d[a[5i]][a[9o]]=b;1d bw}1c z(i,b,f,j,d,h){if(!i){1d bA};1a k=1;if(b===bn){b=6};if(j<0){k=0;j=-j}1e{if(j>15){k=2;j-=16}};if(d<1||d>V||f!==bp||j<8||j>15||b<0||b>9||h<0||h>bs){1d E(i,bA)};if(j===8){j=9};1a g=1j D();i[a[5i]]=g;g[a[4g]]=i;g[a[5j]]=k;g[a[9o]]=1h;g[a[Fa]]=j;g[a[fR]]=1<<g[a[Fa]];g[a[mf]]=g[a[fR]]-1;g[a[Fe]]=d+7;g[a[x5]]=1<<g[a[Fe]];g[a[jx]]=g[a[x5]]-1;g[a[jo]]=~~((g[a[Fe]]+Y-1)/Y);g[a[117]]=1j bj[a[gv]](g[a[fR]]*2);g[a[3v]]=1j bj[a[dG]](g[a[x5]]);g[a[dt]]=1j bj[a[dG]](g[a[fR]]);g[a[pO]]=1<<(d+6);g[a[x9]]=g[a[pO]]*4;g[a[9Y]]=1j bj[a[gv]](g[a[x9]]);g[a[qg]]=g[a[pO]]>>1;g[a[CK]]=(1+2)*g[a[pO]];g[a[c8]]=b;g[a[hv]]=h;g[a[Fd]]=f;1d A(i)}1c y(b,a){1d z(b,a,bp,W,q,bo)}1c r(r,f){1a p,q;1a b,s;if(!r||!r[a[5i]]||f>bk||f<0){1d r?E(r,bA):bA};q=r[a[5i]];if(!r[a[ap]]||(!r[a[2e]]&&r[a[7i]]!==0)||(q[a[eY]]===I&&f!==br)){1d E(r,(r[a[3I]]===0)?bl:bA)};q[a[4g]]=r;p=q[a[nG]];q[a[nG]]=f;if(q[a[eY]]===N){if(q[a[5j]]===2){r[a[6Q]]=0;be(q,31);be(q,139);be(q,8);if(!q[a[9o]]){be(q,0);be(q,0);be(q,0);be(q,0);be(q,0);be(q,q[a[c8]]===9?2:(q[a[hv]]>=bu||q[a[c8]]<2?4:0));be(q,bc);q[a[eY]]=k}1e{be(q,(q[a[9o]][a[45]]?1:0)+(q[a[9o]][a[Fk]]?2:0)+(!q[a[9o]][a[6X]]?0:4)+(!q[a[9o]][a[5Q]]?0:8)+(!q[a[9o]][a[f2]]?0:16));be(q,q[a[9o]][a[oa]]&3z);be(q,(q[a[9o]][a[oa]]>>8)&3z);be(q,(q[a[9o]][a[oa]]>>16)&3z);be(q,(q[a[9o]][a[oa]]>>24)&3z);be(q,q[a[c8]]===9?2:(q[a[hv]]>=bu||q[a[c8]]<2?4:0));be(q,q[a[9o]][a[PU]]&3z);if(q[a[9o]][a[6X]]&&q[a[9o]][a[6X]][a[59]]){be(q,q[a[9o]][a[6X]][a[59]]&3z);be(q,(q[a[9o]][a[6X]][a[59]]>>8)&3z)};if(q[a[9o]][a[Fk]]){r[a[6Q]]=o(r[a[6Q]],q[a[9Y]],q[a[a6]],0)};q[a[1nZ]]=0;q[a[eY]]=G}}1e{1a l=(bp+((q[a[Fa]]-8)<<4))<<8;1a m=-1;if(q[a[hv]]>=bu||q[a[c8]]<2){m=0}1e{if(q[a[c8]]<6){m=1}1e{if(q[a[c8]]===6){m=2}1e{m=3}}};l|=(m<<6);if(q[a[2L]]!==0){l|=bd};l+=31-(l%31);q[a[eY]]=k;bf(q,l);if(q[a[2L]]!==0){bf(q,r[a[6Q]]>>>16);bf(q,r[a[6Q]]&7O)};r[a[6Q]]=1}};if(q[a[a6]]!==0){K(r);if(r[a[3I]]===0){q[a[nG]]=-1;1d bw}}1e{if(r[a[7i]]===0&&bg(f)<=bg(p)&&f!==br){1d E(r,bl)}};if(q[a[eY]]===I&&r[a[7i]]!==0){1d E(r,bl)};if(r[a[7i]]!==0||q[a[3J]]!==0||(f!==bv&&q[a[eY]]!==I)){1a d=(q[a[hv]]===bu)?t(q,f):(q[a[hv]]===by?u(q,f):n[q[a[c8]]][a[1o2]](q,f));if(d===i||d===h){q[a[eY]]=I};if(d===j||d===i){if(r[a[3I]]===0){q[a[nG]]=-1};1d bw};if(d===g){if(f===bx){bi[a[1nq]](q)}1e{if(f!==bk){bi[a[1no]](q,0,0,1g);if(f===bt){bC(q[a[3v]]);if(q[a[3J]]===0){q[a[2L]]=0;q[a[gD]]=0;q[a[e4]]=0}}}};K(r);if(r[a[3I]]===0){q[a[nG]]=-1;1d bw}}};if(f!==br){1d bw};if(q[a[5j]]<=0){1d bz};if(q[a[5j]]===2){be(q,r[a[6Q]]&3z);be(q,(r[a[6Q]]>>8)&3z);be(q,(r[a[6Q]]>>16)&3z);be(q,(r[a[6Q]]>>24)&3z);be(q,r[a[j6]]&3z);be(q,(r[a[j6]]>>8)&3z);be(q,(r[a[j6]]>>16)&3z);be(q,(r[a[j6]]>>24)&3z)}1e{bf(q,r[a[6Q]]>>>16);bf(q,r[a[6Q]]&7O)};K(r);if(q[a[5j]]>0){q[a[5j]]=-q[a[5j]]};1d q[a[a6]]!==0?bw:bz}1c x(d){1a b;if(!d||!d[a[5i]]){1d bA};b=d[a[5i]][a[eY]];if(b!==N&&b!==G&&b!==bb&&b!==l&&b!==L&&b!==k&&b!==I){1d E(d,bA)};d[a[5i]]=1h;1d b===k?E(d,bm):bw}F[a[2dU]]=y;F[a[1o6]]=z;F[a[2dV]]=A;F[a[2e0]]=B;F[a[1o5]]=C;F[a[OQ]]=r;F[a[1o4]]=x;F[a[2e1]]=a[2dZ]},{"../6V/f1":27,"./Np":29,"./r4":31,"./yk":37,"./1nF":38}],33:[1c(b,g,d){1c f(){1b[a[45]]=0;1b[a[oa]]=0;1b[a[1nh]]=0;1b[a[PU]]=0;1b[a[6X]]=1h;1b[a[EH]]=0;1b[a[5Q]]=a[58];1b[a[f2]]=a[58];1b[a[Fk]]=0;1b[a[Dl]]=1g}g[a[6p]]=f},{}],34:[1c(b,h,f){1a d=30;1a i=12;h[a[6p]]=1c g(A,y){1a z;1a b;1a s;1a f;1a g;1a m;1a E;1a B;1a D;1a C;1a q;1a h;1a t;1a j;1a v;1a l;1a p;1a w;1a u;1a k;1a n;1a o;1a r,x;z=A[a[5i]];b=A[a[f0]];r=A[a[2e]];s=b+(A[a[7i]]-5);f=A[a[7K]];x=A[a[ap]];g=f-(y-A[a[3I]]);m=f+(A[a[3I]]-257);E=z[a[cZ]];B=z[a[iO]];D=z[a[dn]];C=z[a[117]];q=z[a[iN]];h=z[a[c6]];t=z[a[hx]];j=z[a[ml]];v=(1<<z[a[gw]])-1;l=(1<<z[a[nz]])-1;5Y:do{if(h<15){q+=r[b++]<<h;h+=8;q+=r[b++]<<h;h+=8};p=t[q&v];1nf:1i(;;){w=p>>>24;q>>>=w;h-=w;w=(p>>>16)&3z;if(w===0){x[f++]=p&7O}1e{if(w&16){u=p&7O;w&=15;if(w){if(h<w){q+=r[b++]<<h;h+=8};u+=q&((1<<w)-1);q>>>=w;h-=w};if(h<15){q+=r[b++]<<h;h+=8;q+=r[b++]<<h;h+=8};p=j[q&l];1nE:1i(;;){w=p>>>24;q>>>=w;h-=w;w=(p>>>16)&3z;if(w&16){k=p&7O;w&=15;if(h<w){q+=r[b++]<<h;h+=8;if(h<w){q+=r[b++]<<h;h+=8}};k+=q&((1<<w)-1);q>>>=w;h-=w;w=f-g;if(k>w){w=k-w;if(w>B){if(z[a[CS]]){A[a[5a]]=a[1n3];z[a[2A]]=d;1l 5Y}};n=0;o=C;if(D===0){n+=E-w;if(w<u){u-=w;do{x[f++]=C[n++]}1U(--w);n=f-k;o=x}}1e{if(D<w){n+=E+D-w;w-=D;if(w<u){u-=w;do{x[f++]=C[n++]}1U(--w);n=0;if(D<u){w=D;u-=w;do{x[f++]=C[n++]}1U(--w);n=f-k;o=x}}}1e{n+=D-w;if(w<u){u-=w;do{x[f++]=C[n++]}1U(--w);n=f-k;o=x}}};1U(u>2){x[f++]=o[n++];x[f++]=o[n++];x[f++]=o[n++];u-=3};if(u){x[f++]=o[n++];if(u>1){x[f++]=o[n++]}}}1e{n=f-k;do{x[f++]=x[n++];x[f++]=x[n++];x[f++]=x[n++];u-=3}1U(u>2);if(u){x[f++]=x[n++];if(u>1){x[f++]=x[n++]}}}}1e{if((w&64)===0){p=j[(p&7O)+(q&((1<<w)-1))];1u 1nE}1e{A[a[5a]]=a[1n5];z[a[2A]]=d;1l 5Y}};1l}}1e{if((w&64)===0){p=t[(p&7O)+(q&((1<<w)-1))];1u 1nf}1e{if(w&32){z[a[2A]]=i;1l 5Y}1e{A[a[5a]]=a[1nc];z[a[2A]]=d;1l 5Y}}}};1l}}1U(b<s&&f<m);u=h>>3;b-=u;h-=u<<3;q&=(1<<h)-1;A[a[f0]]=b;A[a[7K]]=f;A[a[7i]]=(b<s?5+(s-b):5-(b-s));A[a[3I]]=(f<m?257+(m-f):257-(f-m));z[a[iN]]=q;z[a[c6]]=h;1d}},{}],35:[1c(b,ba,y){1a bk=b(a[Cv]);1a d=b(a[1ne]);1a m=b(a[OI]);1a F=b(a[2dY]);1a G=b(a[2dW]);1a i=0;1a V=1;1a t=2;1a bq=4;1a bm=5;1a bw=6;1a bt=0;1a bu=1;1a bs=2;1a bv=-2;1a bo=-3;1a br=-4;1a bn=-5;1a bp=8;1a D=1;1a B=2;1a bg=3;1a bc=4;1a x=5;1a z=6;1a bb=7;1a j=8;1a C=9;1a p=10;1a o=11;1a bh=12;1a bi=13;1a bd=14;1a l=15;1a k=16;1a bf=17;1a U=18;1a h=19;1a Q=20;1a P=21;1a R=22;1a q=23;1a r=24;1a X=25;1a W=26;1a g=27;1a T=28;1a u=29;1a f=30;1a Z=31;1a be=32;1a w=2F;1a v=Nm;1a Y=15;1a n=Y;1c bx(a){1d(((a>>>24)&3z)+((a>>>8)&1nd)+((a&1nd)<<8)+((a&3z)<<24))}1c O(){1b[a[2A]]=0;1b[a[7G]]=1g;1b[a[5j]]=0;1b[a[Qf]]=1g;1b[a[7R]]=0;1b[a[PR]]=0;1b[a[5W]]=0;1b[a[uF]]=0;1b[a[3v]]=1h;1b[a[o2]]=0;1b[a[cZ]]=0;1b[a[iO]]=0;1b[a[dn]]=0;1b[a[117]]=1h;1b[a[iN]]=0;1b[a[c6]]=0;1b[a[59]]=0;1b[a[7n]]=0;1b[a[6X]]=0;1b[a[hx]]=1h;1b[a[ml]]=1h;1b[a[gw]]=0;1b[a[nz]]=0;1b[a[Pt]]=0;1b[a[nc]]=0;1b[a[qL]]=0;1b[a[ed]]=0;1b[a[125]]=1h;1b[a[aw]]=1j bk[a[dG]](v5);1b[a[qw]]=1j bk[a[dG]](288);1b[a[Ps]]=1h;1b[a[Py]]=1h;1b[a[CS]]=0;1b[a[gx]]=0;1b[a[1nb]]=0}1c N(d){1a b;if(!d||!d[a[5i]]){1d bv};b=d[a[5i]];d[a[j6]]=d[a[q1]]=b[a[uF]]=0;d[a[5a]]=a[58];if(b[a[5j]]){d[a[6Q]]=b[a[5j]]&1};b[a[2A]]=D;b[a[7G]]=0;b[a[Qf]]=0;b[a[PR]]=2dX;b[a[3v]]=1h;b[a[iN]]=0;b[a[c6]]=0;b[a[hx]]=b[a[Ps]]=1j bk[a[rI]](w);b[a[ml]]=b[a[Py]]=1j bk[a[rI]](v);b[a[CS]]=1;b[a[gx]]=-1;1d bt}1c L(d){1a b;if(!d||!d[a[5i]]){1d bv};b=d[a[5i]];b[a[cZ]]=0;b[a[iO]]=0;b[a[dn]]=0;1d N(d)}1c M(d,f){1a g;1a b;if(!d||!d[a[5i]]){1d bv};b=d[a[5i]];if(f<0){g=0;f=-f}1e{g=(f>>4)+1;if(f<48){f&=15}};if(f&&(f<8||f>15)){1d bv};if(b[a[117]]!==1h&&b[a[o2]]!==f){b[a[117]]=1h};b[a[5j]]=g;b[a[o2]]=f;1d L(d)}1c K(f,g){1a b;1a d;if(!f){1d bv};d=1j O();f[a[5i]]=d;d[a[117]]=1h;b=M(f,g);if(b!==bt){f[a[5i]]=1h};1d b}1c J(a){1d K(a,n)}1a bl=1f;1a S,s;1c A(b){if(bl){1a d;S=1j bk[a[rI]](My);s=1j bk[a[rI]](32);d=0;1U(d<144){b[a[aw]][d++]=8};1U(d<256){b[a[aw]][d++]=9};1U(d<280){b[a[aw]][d++]=7};1U(d<288){b[a[aw]][d++]=8};G(V,b[a[aw]],0,288,S,0,b[a[qw]],{qF:9});d=0;1U(d<32){b[a[aw]][d++]=5};G(t,b[a[aw]],0,32,s,0,b[a[qw]],{qF:5});bl=1g};b[a[hx]]=S;b[a[gw]]=9;b[a[ml]]=s;b[a[nz]]=5}1c bj(i,g,f,b){1a d;1a h=i[a[5i]];if(h[a[117]]===1h){h[a[cZ]]=1<<h[a[o2]];h[a[dn]]=0;h[a[iO]]=0;h[a[117]]=1j bk[a[gv]](h[a[cZ]])};if(b>=h[a[cZ]]){bk[a[hH]](h[a[117]],g,f-h[a[cZ]],h[a[cZ]],0);h[a[dn]]=0;h[a[iO]]=h[a[cZ]]}1e{d=h[a[cZ]]-h[a[dn]];if(d>b){d=b};bk[a[hH]](h[a[117]],g,f-b,d,h[a[dn]]);b-=d;if(b){bk[a[hH]](h[a[117]],g,f-b,b,0);h[a[dn]]=b;h[a[iO]]=h[a[cZ]]}1e{h[a[dn]]+=d;if(h[a[dn]]===h[a[cZ]]){h[a[dn]]=0};if(h[a[iO]]<h[a[cZ]]){h[a[iO]]+=d}}};1d 0}1c E(bH,w){1a bG;1a O,bD;1a bA;1a bE;1a H,bl;1a N;1a s;1a b,n;1a v;1a y;1a E;1a J=0;1a K,L,M;1a S,Y,ba;1a by;1a bF;1a I=1j bk[a[gv]](4);1a bB;1a bz;1a bC=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!bH||!bH[a[5i]]||!bH[a[ap]]||(!bH[a[2e]]&&bH[a[7i]]!==0)){1d bv};bG=bH[a[5i]];if(bG[a[2A]]===bh){bG[a[2A]]=bi};bE=bH[a[7K]];bD=bH[a[ap]];bl=bH[a[3I]];bA=bH[a[f0]];O=bH[a[2e]];H=bH[a[7i]];N=bG[a[iN]];s=bG[a[c6]];b=H;n=bl;bF=bt;4p:1i(;;){4v(bG[a[2A]]){1C D:if(bG[a[5j]]===0){bG[a[2A]]=bi;1l};1U(s<16){if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};if((bG[a[5j]]&2)&&N===2dN){bG[a[5W]]=0;I[0]=N&3z;I[1]=(N>>>8)&3z;bG[a[5W]]=m(bG[a[5W]],I,2,0);N=0;s=0;bG[a[2A]]=B;1l};bG[a[7R]]=0;if(bG[a[3v]]){bG[a[3v]][a[Dl]]=1g};if(!(bG[a[5j]]&1)||(((N&3z)<<8)+(N>>8))%31){bH[a[5a]]=a[2dM];bG[a[2A]]=f;1l};if((N&rz)!==bp){bH[a[5a]]=a[1ng];bG[a[2A]]=f;1l};N>>>=4;s-=4;by=(N&rz)+8;if(bG[a[o2]]===0){bG[a[o2]]=by}1e{if(by>bG[a[o2]]){bH[a[5a]]=a[2dC];bG[a[2A]]=f;1l}};bG[a[PR]]=1<<by;bH[a[6Q]]=bG[a[5W]]=1;bG[a[2A]]=N&2dD?p:bh;N=0;s=0;1l;1C B:1U(s<16){if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};bG[a[7R]]=N;if((bG[a[7R]]&3z)!==bp){bH[a[5a]]=a[1ng];bG[a[2A]]=f;1l};if(bG[a[7R]]&2dB){bH[a[5a]]=a[2dA];bG[a[2A]]=f;1l};if(bG[a[3v]]){bG[a[3v]][a[45]]=((N>>8)&1)};if(bG[a[7R]]&mB){I[0]=N&3z;I[1]=(N>>>8)&3z;bG[a[5W]]=m(bG[a[5W]],I,2,0)};N=0;s=0;bG[a[2A]]=bg;1C bg:1U(s<32){if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};if(bG[a[3v]]){bG[a[3v]][a[oa]]=N};if(bG[a[7R]]&mB){I[0]=N&3z;I[1]=(N>>>8)&3z;I[2]=(N>>>16)&3z;I[3]=(N>>>24)&3z;bG[a[5W]]=m(bG[a[5W]],I,4,0)};N=0;s=0;bG[a[2A]]=bc;1C bc:1U(s<16){if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};if(bG[a[3v]]){bG[a[3v]][a[1nh]]=(N&3z);bG[a[3v]][a[PU]]=(N>>8)};if(bG[a[7R]]&mB){I[0]=N&3z;I[1]=(N>>>8)&3z;bG[a[5W]]=m(bG[a[5W]],I,2,0)};N=0;s=0;bG[a[2A]]=x;1C x:if(bG[a[7R]]&1nk){1U(s<16){if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};bG[a[59]]=N;if(bG[a[3v]]){bG[a[3v]][a[EH]]=N};if(bG[a[7R]]&mB){I[0]=N&3z;I[1]=(N>>>8)&3z;bG[a[5W]]=m(bG[a[5W]],I,2,0)};N=0;s=0}1e{if(bG[a[3v]]){bG[a[3v]][a[6X]]=1h}};bG[a[2A]]=z;1C z:if(bG[a[7R]]&1nk){v=bG[a[59]];if(v>H){v=H};if(v){if(bG[a[3v]]){by=bG[a[3v]][a[EH]]-bG[a[59]];if(!bG[a[3v]][a[6X]]){bG[a[3v]][a[6X]]=1j 5f(bG[a[3v]][a[EH]])};bk[a[hH]](bG[a[3v]][a[6X]],O,bA,v,by)};if(bG[a[7R]]&mB){bG[a[5W]]=m(bG[a[5W]],O,v,bA)};H-=v;bA+=v;bG[a[59]]-=v};if(bG[a[59]]){1l 4p}};bG[a[59]]=0;bG[a[2A]]=bb;1C bb:if(bG[a[7R]]&Q3){if(H===0){1l 4p};v=0;do{by=O[bA+v++];if(bG[a[3v]]&&by&&(bG[a[59]]<EP)){bG[a[3v]][a[5Q]]+=1E[a[4r]](by)}}1U(by&&v<H);if(bG[a[7R]]&mB){bG[a[5W]]=m(bG[a[5W]],O,v,bA)};H-=v;bA+=v;if(by){1l 4p}}1e{if(bG[a[3v]]){bG[a[3v]][a[5Q]]=1h}};bG[a[59]]=0;bG[a[2A]]=j;1C j:if(bG[a[7R]]&2dx){if(H===0){1l 4p};v=0;do{by=O[bA+v++];if(bG[a[3v]]&&by&&(bG[a[59]]<EP)){bG[a[3v]][a[f2]]+=1E[a[4r]](by)}}1U(by&&v<H);if(bG[a[7R]]&mB){bG[a[5W]]=m(bG[a[5W]],O,v,bA)};H-=v;bA+=v;if(by){1l 4p}}1e{if(bG[a[3v]]){bG[a[3v]][a[f2]]=1h}};bG[a[2A]]=C;1C C:if(bG[a[7R]]&mB){1U(s<16){if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};if(N!==(bG[a[5W]]&7O)){bH[a[5a]]=a[2dy];bG[a[2A]]=f;1l};N=0;s=0};if(bG[a[3v]]){bG[a[3v]][a[Fk]]=((bG[a[7R]]>>9)&1);bG[a[3v]][a[Dl]]=1f};bH[a[6Q]]=bG[a[5W]]=0;bG[a[2A]]=bh;1l;1C p:1U(s<32){if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};bH[a[6Q]]=bG[a[5W]]=bx(N);N=0;s=0;bG[a[2A]]=o;1C o:if(bG[a[Qf]]===0){bH[a[7K]]=bE;bH[a[3I]]=bl;bH[a[f0]]=bA;bH[a[7i]]=H;bG[a[iN]]=N;bG[a[c6]]=s;1d bs};bH[a[6Q]]=bG[a[5W]]=1;bG[a[2A]]=bh;1C bh:if(w===bm||w===bw){1l 4p};1C bi:if(bG[a[7G]]){N>>>=s&7;s-=s&7;bG[a[2A]]=g;1l};1U(s<3){if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};bG[a[7G]]=(N&2dz);N>>>=1;s-=1;4v((N&Pr)){1C 0:bG[a[2A]]=bd;1l;1C 1:A(bG);bG[a[2A]]=Q;if(w===bw){N>>>=2;s-=2;1l 4p};1l;1C 2:bG[a[2A]]=bf;1l;1C 3:bH[a[5a]]=a[2dE];bG[a[2A]]=f};N>>>=2;s-=2;1l;1C bd:N>>>=s&7;s-=s&7;1U(s<32){if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};if((N&7O)!==((N>>>16)^7O)){bH[a[5a]]=a[2dF];bG[a[2A]]=f;1l};bG[a[59]]=N&7O;N=0;s=0;bG[a[2A]]=l;if(w===bw){1l 4p};1C l:bG[a[2A]]=k;1C k:v=bG[a[59]];if(v){if(v>H){v=H};if(v>bl){v=bl};if(v===0){1l 4p};bk[a[hH]](bD,O,bA,v,bE);H-=v;bA+=v;bl-=v;bE+=v;bG[a[59]]-=v;1l};bG[a[2A]]=bh;1l;1C bf:1U(s<14){if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};bG[a[nc]]=(N&n3)+257;N>>>=5;s-=5;bG[a[qL]]=(N&n3)+1;N>>>=5;s-=5;bG[a[Pt]]=(N&rz)+4;N>>>=4;s-=4;if(bG[a[nc]]>286||bG[a[qL]]>30){bH[a[5a]]=a[2dK];bG[a[2A]]=f;1l};bG[a[ed]]=0;bG[a[2A]]=U;1C U:1U(bG[a[ed]]<bG[a[Pt]]){1U(s<3){if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};bG[a[aw]][bC[bG[a[ed]]++]]=(N&D5);N>>>=3;s-=3};1U(bG[a[ed]]<19){bG[a[aw]][bC[bG[a[ed]]++]]=0};bG[a[hx]]=bG[a[Ps]];bG[a[gw]]=7;bB={qF:bG[a[gw]]};bF=G(i,bG[a[aw]],0,19,bG[a[hx]],0,bG[a[qw]],bB);bG[a[gw]]=bB[a[c6]];if(bF){bH[a[5a]]=a[2dL];bG[a[2A]]=f;1l};bG[a[ed]]=0;bG[a[2A]]=h;1C h:1U(bG[a[ed]]<bG[a[nc]]+bG[a[qL]]){1i(;;){J=bG[a[hx]][N&((1<<bG[a[gw]])-1)];K=J>>>24;L=(J>>>16)&3z;M=J&7O;if((K)<=s){1l};if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};if(M<16){N>>>=K;s-=K;bG[a[aw]][bG[a[ed]]++]=M}1e{if(M===16){bz=K+2;1U(s<bz){if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};N>>>=K;s-=K;if(bG[a[ed]]===0){bH[a[5a]]=a[1ni];bG[a[2A]]=f;1l};by=bG[a[aw]][bG[a[ed]]-1];v=3+(N&Pr);N>>>=2;s-=2}1e{if(M===17){bz=K+3;1U(s<bz){if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};N>>>=K;s-=K;by=0;v=3+(N&D5);N>>>=3;s-=3}1e{bz=K+7;1U(s<bz){if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};N>>>=K;s-=K;by=0;v=11+(N&1nj);N>>>=7;s-=7}};if(bG[a[ed]]+v>bG[a[nc]]+bG[a[qL]]){bH[a[5a]]=a[1ni];bG[a[2A]]=f;1l};1U(v--){bG[a[aw]][bG[a[ed]]++]=by}}};if(bG[a[2A]]===f){1l};if(bG[a[aw]][256]===0){bH[a[5a]]=a[2dJ];bG[a[2A]]=f;1l};bG[a[gw]]=9;bB={qF:bG[a[gw]]};bF=G(V,bG[a[aw]],0,bG[a[nc]],bG[a[hx]],0,bG[a[qw]],bB);bG[a[gw]]=bB[a[c6]];if(bF){bH[a[5a]]=a[2dI];bG[a[2A]]=f;1l};bG[a[nz]]=6;bG[a[ml]]=bG[a[Py]];bB={qF:bG[a[nz]]};bF=G(t,bG[a[aw]],bG[a[nc]],bG[a[qL]],bG[a[ml]],0,bG[a[qw]],bB);bG[a[nz]]=bB[a[c6]];if(bF){bH[a[5a]]=a[2dG];bG[a[2A]]=f;1l};bG[a[2A]]=Q;if(w===bw){1l 4p};1C Q:bG[a[2A]]=P;1C P:if(H>=6&&bl>=258){bH[a[7K]]=bE;bH[a[3I]]=bl;bH[a[f0]]=bA;bH[a[7i]]=H;bG[a[iN]]=N;bG[a[c6]]=s;F(bH,n);bE=bH[a[7K]];bD=bH[a[ap]];bl=bH[a[3I]];bA=bH[a[f0]];O=bH[a[2e]];H=bH[a[7i]];N=bG[a[iN]];s=bG[a[c6]];if(bG[a[2A]]===bh){bG[a[gx]]=-1};1l};bG[a[gx]]=0;1i(;;){J=bG[a[hx]][N&((1<<bG[a[gw]])-1)];K=J>>>24;L=(J>>>16)&3z;M=J&7O;if(K<=s){1l};if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};if(L&&(L&D1)===0){S=K;Y=L;ba=M;1i(;;){J=bG[a[hx]][ba+((N&((1<<(S+Y))-1))>>S)];K=J>>>24;L=(J>>>16)&3z;M=J&7O;if((S+K)<=s){1l};if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};N>>>=S;s-=S;bG[a[gx]]+=S};N>>>=K;s-=K;bG[a[gx]]+=K;bG[a[59]]=M;if(L===0){bG[a[2A]]=W;1l};if(L&32){bG[a[gx]]=-1;bG[a[2A]]=bh;1l};if(L&64){bH[a[5a]]=a[1nc];bG[a[2A]]=f;1l};bG[a[6X]]=L&15;bG[a[2A]]=R;1C R:if(bG[a[6X]]){bz=bG[a[6X]];1U(s<bz){if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};bG[a[59]]+=N&((1<<bG[a[6X]])-1);N>>>=bG[a[6X]];s-=bG[a[6X]];bG[a[gx]]+=bG[a[6X]]};bG[a[1nb]]=bG[a[59]];bG[a[2A]]=q;1C q:1i(;;){J=bG[a[ml]][N&((1<<bG[a[nz]])-1)];K=J>>>24;L=(J>>>16)&3z;M=J&7O;if((K)<=s){1l};if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};if((L&D1)===0){S=K;Y=L;ba=M;1i(;;){J=bG[a[ml]][ba+((N&((1<<(S+Y))-1))>>S)];K=J>>>24;L=(J>>>16)&3z;M=J&7O;if((S+K)<=s){1l};if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};N>>>=S;s-=S;bG[a[gx]]+=S};N>>>=K;s-=K;bG[a[gx]]+=K;if(L&64){bH[a[5a]]=a[1n5];bG[a[2A]]=f;1l};bG[a[7n]]=M;bG[a[6X]]=(L)&15;bG[a[2A]]=r;1C r:if(bG[a[6X]]){bz=bG[a[6X]];1U(s<bz){if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};bG[a[7n]]+=N&((1<<bG[a[6X]])-1);N>>>=bG[a[6X]];s-=bG[a[6X]];bG[a[gx]]+=bG[a[6X]]};bG[a[2A]]=X;1C X:if(bl===0){1l 4p};v=n-bl;if(bG[a[7n]]>v){v=bG[a[7n]]-v;if(v>bG[a[iO]]){if(bG[a[CS]]){bH[a[5a]]=a[1n3];bG[a[2A]]=f;1l}};if(v>bG[a[dn]]){v-=bG[a[dn]];y=bG[a[cZ]]-v}1e{y=bG[a[dn]]-v};if(v>bG[a[59]]){v=bG[a[59]]};E=bG[a[117]]}1e{E=bD;y=bE-bG[a[7n]];v=bG[a[59]]};if(v>bl){v=bl};bl-=v;bG[a[59]]-=v;do{bD[bE++]=E[y++]}1U(--v);if(bG[a[59]]===0){bG[a[2A]]=P};1l;1C W:if(bl===0){1l 4p};bD[bE++]=bG[a[59]];bl--;bG[a[2A]]=P;1l;1C g:if(bG[a[5j]]){1U(s<32){if(H===0){1l 4p};H--;N|=O[bA++]<<s;s+=8};n-=bl;bH[a[q1]]+=n;bG[a[uF]]+=n;if(n){bH[a[6Q]]=bG[a[5W]]=(bG[a[7R]]?m(bG[a[5W]],bD,n,bE-n):d(bG[a[5W]],bD,n,bE-n))};n=bl;if((bG[a[7R]]?N:bx(N))!==bG[a[5W]]){bH[a[5a]]=a[2dH];bG[a[2A]]=f;1l};N=0;s=0};bG[a[2A]]=T;1C T:if(bG[a[5j]]&&bG[a[7R]]){1U(s<32){if(H===0){1l 4p};H--;N+=O[bA++]<<s;s+=8};if(N!==(bG[a[uF]]&2f7)){bH[a[5a]]=a[2f8];bG[a[2A]]=f;1l};N=0;s=0};bG[a[2A]]=u;1C u:bF=bu;1l 4p;1C f:bF=bo;1l 4p;1C Z:1d br;1C be:;4w:1d bv}};bH[a[7K]]=bE;bH[a[3I]]=bl;bH[a[f0]]=bA;bH[a[7i]]=H;bG[a[iN]]=N;bG[a[c6]]=s;if(bG[a[cZ]]||(n!==bH[a[3I]]&&bG[a[2A]]<f&&(bG[a[2A]]<g||w!==bq))){if(bj(bH,bH[a[ap]],bH[a[7K]],n-bH[a[3I]])){bG[a[2A]]=Z;1d br}};b-=bH[a[7i]];n-=bH[a[3I]];bH[a[j6]]+=b;bH[a[q1]]+=n;bG[a[uF]]+=n;if(bG[a[5j]]&&n){bH[a[6Q]]=bG[a[5W]]=(bG[a[7R]]?m(bG[a[5W]],bD,n,bH[a[7K]]-n):d(bG[a[5W]],bD,n,bH[a[7K]]-n))};bH[a[uw]]=bG[a[c6]]+(bG[a[7G]]?64:0)+(bG[a[2A]]===bh?128:0)+(bG[a[2A]]===Q||bG[a[2A]]===l?256:0);if(((b===0&&n===0)||w===bq)&&bF===bt){bF=bn};1d bF}1c H(d){if(!d||!d[a[5i]]){1d bv};1a b=d[a[5i]];if(b[a[117]]){b[a[117]]=1h};d[a[5i]]=1h;1d bt}1c I(f,b){1a d;if(!f||!f[a[5i]]){1d bv};d=f[a[5i]];if((d[a[5j]]&2)===0){1d bv};d[a[3v]]=b;b[a[Dl]]=1g;1d bt}y[a[2gz]]=L;y[a[2gA]]=M;y[a[2gy]]=N;y[a[2gx]]=J;y[a[1n9]]=K;y[a[N6]]=E;y[a[1n8]]=H;y[a[1nl]]=I;y[a[2gv]]=a[2gw]},{"../6V/f1":27,"./Np":29,"./r4":31,"./1nm":34,"./1nz":36}],36:[1c(b,q,k){1a r=b(a[Cv]);1a p=15;1a j=2F;1a i=Nm;1a d=0;1a n=1;1a h=2;1a m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0];1a o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78];1a f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,Dc,qR,cI,Nh,De,1ny,8Q,1jM,2gB,2gC,2gH,2gI,2gG,0,0];1a g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];q[a[6p]]=1c l(U,H,I,q,S,T,W,P){1a l=P[a[c6]];1a G=0;1a R=0;1a M=0,L=0;1a Q=0;1a t=0;1a u=0;1a F=0;1a V=0;1a C=0;1a E;1a y;1a J;1a K;1a N;1a b=1h;1a k=0;1a v;1a s=1j r[a[dG]](p+1);1a O=1j r[a[dG]](p+1);1a w=1h;1a x=0;1a z,A,B;1i(G=0;G<=p;G++){s[G]=0};1i(R=0;R<q;R++){s[H[I+R]]++};Q=l;1i(L=p;L>=1;L--){if(s[L]!==0){1l}};if(Q>L){Q=L};if(L===0){S[T++]=(1<<24)|(64<<16)|0;S[T++]=(1<<24)|(64<<16)|0;P[a[c6]]=1;1d 0};1i(M=1;M<L;M++){if(s[M]!==0){1l}};if(Q<M){Q=M};F=1;1i(G=1;G<=p;G++){F<<=1;F-=s[G];if(F<0){1d-1}};if(F>0&&(U===d||L!==1)){1d-1};O[1]=0;1i(G=1;G<p;G++){O[G+1]=O[G]+s[G]};1i(R=0;R<q;R++){if(H[I+R]!==0){W[O[H[I+R]]++]=R}};if(U===d){b=w=W;v=19}1e{if(U===n){b=m;k-=257;w=o;x-=257;v=256}1e{b=f;w=g;v=-1}};C=0;R=0;G=M;N=T;t=Q;u=0;J=-1;V=1<<Q;K=V-1;if((U===n&&V>j)||(U===h&&V>i)){1d 1};1a D=0;1i(;;){D++;z=G-u;if(W[R]<v){A=0;B=W[R]}1e{if(W[R]>v){A=w[x+W[R]];B=b[k+W[R]]}1e{A=32+64;B=0}};E=1<<(G-u);y=1<<t;M=y;do{y-=E;S[N+(C>>u)+y]=(z<<24)|(A<<16)|B|0}1U(y!==0);E=1<<(G-1);1U(C&E){E>>=1};if(E!==0){C&=E-1;C+=E}1e{C=0};R++;if(--s[G]===0){if(G===L){1l};G=H[I+W[R]]};if(G>Q&&(C&K)!==J){if(u===0){u=Q};N+=M;t=G-u;F=1<<t;1U(t+u<L){F-=s[t+u];if(F<=0){1l};t++;F<<=1};V+=1<<t;if((U===n&&V>j)||(U===h&&V>i)){1d 1};J=C&K;S[J]=(Q<<24)|(t<<16)|(N-T)|0}};if(C!==0){S[N+C]=((G-u)<<24)|(64<<16)|0};P[a[c6]]=Q;1d 0}},{"../6V/f1":27}],37:[1c(b,f,d){f[a[6p]]={\'2\':a[2gF],\'1\':a[2gD],\'0\':a[58],\'-1\':a[2gE],\'-2\':a[2gu],\'-3\':a[2gt],\'-4\':a[2gj],\'-5\':a[2gk],\'-6\':a[2gi]}},{}],38:[1c(b,S,D){1a bp=b(a[Cv]);1a br=4;1a bq=0;1a bs=1;1a bt=2;1c bu(b){1a d=b[a[59]];1U(--d>=0){b[d]=0}}1a bm=0;1a bk=1;1a B=2;1a R=3;1a Q=258;1a M=29;1a N=256;1a L=N+1+M;1a y=30;1a q=19;1a J=2*L+1;1a O=15;1a s=16;1a P=7;1a C=256;1a V=16;1a X=17;1a W=18;1a G=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];1a F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];1a E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];1a r=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];1a A=My;1a bj=1j 5f((L+2)*2);bu(bj);1a bg=1j 5f(y*2);bu(bg);1a d=1j 5f(A);bu(d);1a f=1j 5f(Q-R+1);bu(f);1a m=1j 5f(M);bu(m);1a l=1j 5f(y);bu(l);1a bl=1c(h,f,d,b,g){1b[a[MT]]=h;1b[a[1nA]]=f;1b[a[1nB]]=d;1b[a[1nC]]=b;1b[a[1nD]]=g;1b[a[MS]]=h&&h[a[59]]};1a bi;1a bf;1a be;1a bo=1c(b,d){1b[a[MZ]]=b;1b[a[oL]]=0;1b[a[j4]]=d};1c x(a){1d a<256?d[a]:d[256+(a>>>7)]}1c U(b,d){b[a[9Y]][b[a[a6]]++]=(d)&3z;b[a[9Y]][b[a[a6]]++]=(d>>>8)&3z}1c ba(d,f,b){if(d[a[cl]]>(s-b)){d[a[e7]]|=(f<<d[a[cl]])&7O;U(d,d[a[e7]]);d[a[e7]]=f>>(s-d[a[cl]]);d[a[cl]]+=b-s}1e{d[a[e7]]|=(f<<d[a[cl]])&7O;d[a[cl]]+=b}}1c bb(b,a,d){ba(b,d[a*2],d[a*2+1])}1c o(a,b){1a d=0;do{d|=a&1;a>>>=1;d<<=1}1U(--b>0);1d d>>>1}1c n(b){if(b[a[cl]]===16){U(b,b[a[e7]]);b[a[e7]]=0;b[a[cl]]=0}1e{if(b[a[cl]]>=8){b[a[9Y]][b[a[a6]]++]=b[a[e7]]&3z;b[a[e7]]>>=8;b[a[cl]]-=8}}}1c H(p,f){1a r=f[a[MZ]];1a l=f[a[oL]];1a q=f[a[j4]][a[MT]];1a j=f[a[j4]][a[MS]];1a g=f[a[j4]][a[1nA]];1a b=f[a[j4]][a[1nB]];1a m=f[a[j4]][a[1nD]];1a i;1a n,k;1a d;1a s;1a h;1a o=0;1i(d=0;d<=O;d++){p[a[iE]][d]=0};r[p[a[7u]][p[a[oM]]]*2+1]=0;1i(i=p[a[oM]]+1;i<J;i++){n=p[a[7u]][i];d=r[r[n*2+1]*2+1]+1;if(d>m){d=m;o++};r[n*2+1]=d;if(n>l){1u};p[a[iE]][d]++;s=0;if(n>=b){s=g[n-b]};h=r[n*2];p[a[oH]]+=h*(d+s);if(j){p[a[wb]]+=h*(q[n*2+1]+s)}};if(o===0){1d};do{d=m-1;1U(p[a[iE]][d]===0){d--};p[a[iE]][d]--;p[a[iE]][d+1]+=2;p[a[iE]][m]--;o-=2}1U(o>0);1i(d=m;d!==0;d--){n=p[a[iE]][d];1U(n!==0){k=p[a[7u]][--i];if(k>l){1u};if(r[k*2+1]!==d){p[a[oH]]+=(d-r[k*2+1])*r[k*2];r[k*2+1]=d};n--}}}1c I(j,g,b){1a i=1j 5f(O+1);1a d=0;1a a;1a h;1i(a=1;a<=O;a++){i[a]=d=(d+b[a-1])<<1};1i(h=0;h<=g;h++){1a f=j[h*2+1];if(f===0){1u};j[h*2]=o(i[f]++,f)}}1c bn(){1a j;1a a;1a i;1a g;1a h;1a b=1j 5f(O+1);i=0;1i(g=0;g<M-1;g++){m[g]=i;1i(j=0;j<(1<<G[g]);j++){f[i++]=g}};f[i-1]=g;h=0;1i(g=0;g<16;g++){l[g]=h;1i(j=0;j<(1<<F[g]);j++){d[h++]=g}};h>>=7;1i(;g<y;g++){l[g]=h<<7;1i(j=0;j<(1<<(F[g]-7));j++){d[256+h++]=g}};1i(a=0;a<=O;a++){b[a]=0};j=0;1U(j<=143){bj[j*2+1]=8;j++;b[8]++};1U(j<=255){bj[j*2+1]=9;j++;b[9]++};1U(j<=279){bj[j*2+1]=7;j++;b[7]++};1U(j<=287){bj[j*2+1]=8;j++;b[8]++};I(bj,L+1,b);1i(j=0;j<y;j++){bg[j*2+1]=5;bg[j*2]=o(j,5)};bi=1j bl(bj,G,N+1,L,O);bf=1j bl(bg,F,0,y,O);be=1j bl(1j 5f(0),E,0,q,P)}1c K(d){1a b;1i(b=0;b<L;b++){d[a[cS]][b*2]=0};1i(b=0;b<y;b++){d[a[mS]][b*2]=0};1i(b=0;b<q;b++){d[a[c5]][b*2]=0};d[a[cS]][C*2]=1;d[a[oH]]=d[a[wb]]=0;d[a[eg]]=d[a[O8]]=0}1c p(b){if(b[a[cl]]>8){U(b,b[a[e7]])}1e{if(b[a[cl]]>0){b[a[9Y]][b[a[a6]]++]=b[a[e7]]}};b[a[e7]]=0;b[a[cl]]=0}1c w(g,b,f,d){p(g);if(d){U(g,f);U(g,~f)};bp[a[hH]](g[a[9Y]],g[a[117]],b,f,g[a[a6]]);g[a[a6]]+=f}1c bd(h,g,f,d){1a b=g*2;1a a=f*2;1d(h[b]<h[a]||(h[b]===h[a]&&d[g]<=d[f]))}1c T(f,g,d){1a h=f[a[7u]][d];1a b=d<<1;1U(b<=f[a[hF]]){if(b<f[a[hF]]&&bd(g,f[a[7u]][b+1],f[a[7u]][b],f[a[2x]])){b++};if(bd(g,h,f[a[7u]][b],f[a[2x]])){1l};f[a[7u]][d]=f[a[7u]][b];d=b;b<<=1};f[a[7u]][d]=h}1c v(n,j,g){1a d;1a i;1a k=0;1a b;1a h;if(n[a[eg]]!==0){do{d=(n[a[9Y]][n[a[qg]]+k*2]<<8)|(n[a[9Y]][n[a[qg]]+k*2+1]);i=n[a[9Y]][n[a[CK]]+k];k++;if(d===0){bb(n,i,j)}1e{b=f[i];bb(n,b+N+1,j);h=G[b];if(h!==0){i-=m[b];ba(n,i,h)};d--;b=x(d);bb(n,b,g);h=F[b];if(h!==0){d-=l[b];ba(n,d,h)}}}1U(k<n[a[eg]])};bb(n,C,j)}1c u(k,b){1a m=b[a[MZ]];1a l=b[a[j4]][a[MT]];1a f=b[a[j4]][a[MS]];1a d=b[a[j4]][a[1nC]];1a i,g;1a h=-1;1a j;k[a[hF]]=0;k[a[oM]]=J;1i(i=0;i<d;i++){if(m[i*2]!==0){k[a[7u]][++k[a[hF]]]=h=i;k[a[2x]][i]=0}1e{m[i*2+1]=0}};1U(k[a[hF]]<2){j=k[a[7u]][++k[a[hF]]]=(h<2?++h:0);m[j*2]=1;k[a[2x]][j]=0;k[a[oH]]--;if(f){k[a[wb]]-=l[j*2+1]}};b[a[oL]]=h;1i(i=(k[a[hF]]>>1);i>=1;i--){T(k,m,i)};j=d;do{i=k[a[7u]][1];k[a[7u]][1]=k[a[7u]][k[a[hF]]--];T(k,m,1);g=k[a[7u]][1];k[a[7u]][--k[a[oM]]]=i;k[a[7u]][--k[a[oM]]]=g;m[j*2]=m[i*2]+m[g*2];k[a[2x]][j]=(k[a[2x]][i]>=k[a[2x]][g]?k[a[2x]][i]:k[a[2x]][g])+1;m[i*2+1]=m[g*2+1]=j;k[a[7u]][1]=j++;T(k,m,1)}1U(k[a[hF]]>=2);k[a[7u]][--k[a[oM]]]=k[a[7u]][1];H(k,b);I(m,h,k[a[iE]])}1c Y(l,m,f){1a i;1a k=-1;1a d;1a j=m[0*2+1];1a b=0;1a g=7;1a h=4;if(j===0){g=138;h=3};m[(f+1)*2+1]=7O;1i(i=0;i<=f;i++){d=j;j=m[(i+1)*2+1];if(++b<g&&d===j){1u}1e{if(b<h){l[a[c5]][d*2]+=b}1e{if(d!==0){if(d!==k){l[a[c5]][d*2]++};l[a[c5]][V*2]++}1e{if(b<=10){l[a[c5]][X*2]++}1e{l[a[c5]][W*2]++}}}};b=0;k=d;if(j===0){g=138;h=3}1e{if(d===j){g=6;h=3}1e{g=7;h=4}}}}1c bc(l,m,f){1a i;1a k=-1;1a d;1a j=m[0*2+1];1a b=0;1a g=7;1a h=4;if(j===0){g=138;h=3};1i(i=0;i<=f;i++){d=j;j=m[(i+1)*2+1];if(++b<g&&d===j){1u}1e{if(b<h){do{bb(l,d,l[a[c5]])}1U(--b!==0)}1e{if(d!==0){if(d!==k){bb(l,d,l[a[c5]]);b--};bb(l,V,l[a[c5]]);ba(l,b-3,2)}1e{if(b<=10){bb(l,X,l[a[c5]]);ba(l,b-3,3)}1e{bb(l,W,l[a[c5]]);ba(l,b-11,7)}}}};b=0;k=d;if(j===0){g=138;h=3}1e{if(d===j){g=6;h=3}1e{g=7;h=4}}}}1c t(d){1a b;Y(d,d[a[cS]],d[a[uJ]][a[oL]]);Y(d,d[a[mS]],d[a[uK]][a[oL]]);u(d,d[a[MQ]]);1i(b=q-1;b>=3;b--){if(d[a[c5]][r[b]*2+1]!==0){1l}};d[a[oH]]+=3*(b+1)+5+5+4;1d b}1c Z(h,f,d,b){1a g;ba(h,f-257,5);ba(h,d-1,5);ba(h,b-4,4);1i(g=0;g<b;g++){ba(h,h[a[c5]][r[g]*2+1],3)};bc(h,h[a[cS]],f-1);bc(h,h[a[mS]],d-1)}1c z(f){1a b=2gh;1a d;1i(d=0;d<=31;d++,b>>>=1){if((b&1)&&(f[a[cS]][d*2]!==0)){1d bq}};if(f[a[cS]][9*2]!==0||f[a[cS]][10*2]!==0||f[a[cS]][13*2]!==0){1d bs};1i(d=32;d<N;d++){if(f[a[cS]][d*2]!==0){1d bs}};1d bq}1a bh=1g;1c i(b){if(!bh){bn();bh=1f};b[a[uJ]]=1j bo(b[a[cS]],bi);b[a[uK]]=1j bo(b[a[mS]],bf);b[a[MQ]]=1j bo(b[a[c5]],be);b[a[e7]]=0;b[a[cl]]=0;K(b)}1c j(d,a,f,b){ba(d,(bm<<1)+(b?1:0),3);w(d,a,f,1f)}1c g(a){ba(a,bk<<1,3);bb(a,C,bj);n(a)}1c h(h,b,k,d){1a g,i;1a f=0;if(h[a[c8]]>0){if(h[a[4g]][a[uw]]===bt){h[a[4g]][a[uw]]=z(h)};u(h,h[a[uJ]]);u(h,h[a[uK]]);f=t(h);g=(h[a[oH]]+3+7)>>>3;i=(h[a[wb]]+3+7)>>>3;if(i<=g){g=i}}1e{g=i=k+5};if((k+4<=g)&&(b!==-1)){j(h,b,k,d)}1e{if(h[a[hv]]===br||i===g){ba(h,(bk<<1)+(d?1:0),3);v(h,bj,bg)}1e{ba(h,(B<<1)+(d?1:0),3);Z(h,h[a[uJ]][a[oL]]+1,h[a[uK]][a[oL]]+1,f+1);v(h,h[a[cS]],h[a[mS]])}};K(h);if(d){p(h)}}1c k(g,b,d){g[a[9Y]][g[a[qg]]+g[a[eg]]*2]=(b>>>8)&3z;g[a[9Y]][g[a[qg]]+g[a[eg]]*2+1]=b&3z;g[a[9Y]][g[a[CK]]+g[a[eg]]]=d&3z;g[a[eg]]++;if(b===0){g[a[cS]][d*2]++}1e{g[a[O8]]++;b--;g[a[cS]][(f[d]+N+1)*2]++;g[a[mS]][x(b)*2]++};1d(g[a[eg]]===g[a[pO]]-1)}D[a[1np]]=i;D[a[1no]]=j;D[a[1nn]]=h;D[a[jy]]=k;D[a[1nq]]=g},{"../6V/f1":27}],39:[1c(b,f,d){1c g(){1b[a[2e]]=1h;1b[a[f0]]=0;1b[a[7i]]=0;1b[a[j6]]=0;1b[a[ap]]=1h;1b[a[7K]]=0;1b[a[3I]]=0;1b[a[q1]]=0;1b[a[5a]]=a[58];1b[a[5i]]=1h;1b[a[uw]]=2;1b[a[6Q]]=0}f[a[6p]]=g},{}]},{},[9])(9)});1c X(){1a b=[a[2ge],a[2gf],a[2gg],a[2gl],a[2gm],a[2gr],a[2gs],a[2gq],a[2gp],a[2gn],a[2go],a[2gJ],a[2gK],a[2h6],a[2h7],a[2h5],a[2h4],a[2h2],a[2h3]];1a k=2h8;1a l=2h9;1a j=7T;1c i(d){1d b[a[19]](d)>-1}1c d(g){1a d=g[a[5q]](0)-k,f=1k[a[244]](d/j);1d b[f]}1c h(d){1a b=d[a[5q]](0);1d k<=b&&b<=l}1b[a[1kT]]=1c(j,k){1a b=j[a[59]]-k[a[59]]<0,g=k[a[59]],m,l,f;if(b){1d 1g};1i(f=0;f<g;f++){m=j[a[4J]](f);l=k[a[4J]](f);if(h(m)&&i(l)){if(d(m)!==l){1d 1g}}1e{if(m!==l){1d 1g}}};1d 1f};1c f(g){1a f=b[a[19]](g),d=[a[1nr],a[1nr],a[2he],a[1nu],a[1nu],a[2hf],a[2hd],a[1nt],a[1nt],a[1ns],a[1ns],a[2hc],a[1lN],a[1lN],a[2ha],a[2hb],a[2h1],a[2h0],a[2gQ]];if(f>-1){1d d[f]}1e{1d g}}1c g(h){1a g=a[58];1a d=a[58];1a f=m(h);if(b[a[19]](h)>-1){g=1E[a[4r]]((b[a[19]](h)*21+0)*28+Eh);d=1E[a[4r]]((b[a[19]](h)*21+20)*28+27+Eh)}1e{g=h;d=1E[a[4r]]((f[a[2gR]]*21+f[a[2gP]])*28+27+Eh)};1d[a[1lM],g,a[217],d,a[1k8]][a[61]](a[58])}1c m(h){1a b=h[a[5q]](0)-Eh;1a f=b%28;1a g=((b-f)/28)%21;1a d=((b-f)/28-g)/21;1d{1k7:d,1k6:g,2gO:f}}1b[a[kI]]=1c(k,l,d){1a m=d?a[pL]:a[58],b=[],i=/[\\{\\}\\[\\]\\/?.,;:|\\)*~`!^\\-+<>@\\#$%&\\\\\\=\\(\\\'\\"]/i,g,j,h;1i(g=0,h=l[a[59]];g<h;g++){j=l[a[4J]](g);if(i[a[25]](j)){b[g]=a[iB]+j}1e{b[g]=f(j)}};if(b[a[59]]==0||(b[a[59]]==1&&b[0]==a[58])){1d 1g};m+=b[a[61]](a[58]);1d 1j 5s(m,a[pq])[a[25]](k)};1b[a[2gL]]=1c(i,j,d){1a k=d?a[pL]:a[58],h=j[a[59]],b=[],f;1i(f=0;f<h;f++){b[f]=g(j[a[4J]](f))};k+=b[a[61]](a[58]);if(k[a[19]](a[iB])>=0){1d 1g};1d 1j 5s(k,a[pq])[a[25]](i)}}y[a[1k9]]=y[a[51]]({kG:a[1k9],p1:a[43],oT:a[FP],1ka:1g,1kd:1g,3D:1h,wZ:1h,oN:1h,3l:-1,2P:-1,co:a[58],5l:a[58],2y:1h,1K$pf:1c(){1a b=W[a[2k]][a[5N]]||4;1b[a[199]](a[169],a[1kb]+b+a[NM]+b+a[1k5])},NN:1c(a){},NO:1c(){1d 1b[a[1B]]},Qg:1c(j,h,d,f,b){1a i=a[58];if(j===1T||j===1h){j=i};if(b&&f){if(b[a[6O]]&&1L b[a[6O]]===a[67]){j=b[a[6O]](h,d,f[b[a[1m]]],b[a[2a]],f,b[a[1m]],b);if(j===1T||j===1h){j=i}}1e{if(j!==i){if(b[a[3W]]==a[4t]){1a g=1o(j);if(b[a[5D]]){j=V[a[da]](j,b[a[5D]],b[a[fg]])}1e{j=V[a[hM]](j)};if(!1D(g)){if(b[a[5x]]){j=b[a[5x]]+j};if(b[a[5w]]){j=j+b[a[5w]]};1d j};1d j}1e{if(b[a[3W]]==a[5U]){if(b[a[5D]]){if(b[a[4P]]){j=V[a[f3]](j,b[a[4P]])};j=V[a[aS]](j,b[a[5D]])}}};if(b[a[5x]]){j=b[a[5x]]+j};if(b[a[5w]]){j=j+b[a[5w]]}}}};1d j},RN:1c(d,b){1d 1b[a[3S]](d,1b[a[1H]],1b[a[1n]],1b[a[1w]],1b[a[1t]])},iq:1c(){},Rp:1c(){1a b=1b;b[a[150]](a[9j],a[ty]);b[a[194]](b[a[127]]+W[a[2k]][a[5N]]*2)},1kc:1c(){}})[a[69]](y[a[137]]);1c bB(f,b){p[a[21]](1b,f,b);1a d=1b;d[a[aF]]=y[a[46]];d[a[dC]]=1g;d[a[dg]]=1g;d[a[1w]]=1h;d[a[1t]]=1h;d[a[1B]]=1h;d[a[1n]]=-1;d[a[1H]]=-1;d[a[2a]]=a[58];d[a[1m]]=a[58];d[a[9H]]=1h;d[a[66]]()}bf(bB,p);bv=bB[a[23]];bv[a[66]]=1c(){1a b=W[a[2k]][a[5N]];1b[a[199]](a[169],a[1kb]+b+a[NM]+b+a[1k5])};bv[a[3y]]=1c(a){};bv[a[2gM]]=1c(){1d 1b[a[1B]]};bv[a[3S]]=1c(o,l,d,f,b){1a n=a[58];1a k;if(o===1T||o===1h){o=n};if(b&&f){k=b[a[1G]];if(k&&k[a[85]]==a[9G]&&k[a[wX]]!==1f&&!m(k[a[8Z]])&&!m(k[a[8V]])){1a g=k[a[h1]];1a h=k[a[h0]];if(i(h)){g=h(l,b[a[1n]],f,b[a[1m]])};o=P[a[23]][a[kA]][a[21]]({},f[b[a[1m]]],k,g)}1e{if(b[a[6O]]&&1L b[a[6O]]===a[67]){o=b[a[6O]](l,d,f[b[a[1m]]],b[a[2a]],f,b[a[1m]],b);if(o===1T||o===1h){o=n}}1e{if(o!==n){if(b[a[3W]]==a[4t]){1a j=1o(o);if(b[a[5D]]){o=V[a[da]](o,b[a[5D]],b[a[fg]])}1e{o=V[a[hM]](o)};if(!1D(j)){if(b[a[5x]]){o=b[a[5x]]+o};if(b[a[5w]]){o=o+b[a[5w]]};1d o};1d o}1e{if(b[a[3W]]==a[5U]){if(b[a[5D]]){if(b[a[4P]]){o=V[a[f3]](o,b[a[4P]])};o=V[a[aS]](o,b[a[5D]])}}};if(b[a[5x]]){o=b[a[5x]]+o};if(b[a[5w]]){o=o+b[a[5w]]}}}}};1d o};bv[a[8T]]=1c(d,b){1d 1b[a[3S]](d,1b[a[1H]],1b[a[1n]],1b[a[1w]],1b[a[1t]])};bv[a[135]]=1c(){};bv[a[1lK]]=1c(){1a b=1b;b[a[150]](a[9j],a[ty]);b[a[194]](b[a[127]]+W[a[2k]][a[5N]]*2)};bv[a[p7]]=1c(){};bv[a[kz]]=1c(d){1a b=1b;if(!b[a[147]]){b[a[147]]=1j O(a[1lL]);if(b[a[145]]){b[a[145]][a[210]](b[a[147]])}1e{b[a[147]]=1h}};b[a[147]][a[213]](1f)};bv[a[tf]]=1c(){1a b=1b;if(!b[a[147]]){1d};b[a[147]][a[213]](1g)};y[a[FO]]=y[a[51]]({kG:a[FO],p1:a[43],oT:a[2gN],3D:1h,wZ:1h,oN:1h,3l:-1,2P:-1,co:a[58],5l:a[58],1K$pf:1c(){1a b=W[a[2k]][a[5N]];1b[a[150]]({9d:a[qp]+b+a[NM]+b+a[149],aC:a[9M]})},gA:1c(b){y[a[137]][a[23]][a[132]][a[21]](1b,b)},NN:1c(a){},2gS:1c(){1d 1b[a[1B]]},2gT:1c(){1d 1b[a[8T]](1b[a[1B]])},NO:1c(){1d 1b[a[1B]]},Qg:1c(j,h,d,f,b){1a i=a[58];if(j===1T||j===1h){j=i};if(b&&f){if(b[a[6O]]&&1L b[a[6O]]===a[67]){j=b[a[6O]](h,d,j,b[a[2a]],f,b[a[1m]],b);if(j===1T||j===1h){j=i}}1e{if(j!==i){if(b[a[3W]]==a[4t]){1a g=1o(j);if(b[a[5D]]){j=V[a[da]](j,b[a[5D]],b[a[fg]])}1e{j=V[a[hM]](j)};if(!1D(g)){if(b[a[5x]]){j=b[a[5x]]+j};if(b[a[5w]]){j=j+b[a[5w]]};1d j};1d j}1e{if(b[a[3W]]==a[5U]){if(b[a[5D]]){if(b[a[4P]]){j=V[a[f3]](j,b[a[4P]])};j=V[a[aS]](j,b[a[5D]])}}};if(b[a[5x]]){j=b[a[5x]]+j};if(b[a[5w]]){j=j+b[a[5w]]}}}};1d j},RN:1c(d,b){1d 1b[a[3S]](d,1b[a[1H]],1b[a[1n]],1b[a[1w]],1b[a[1t]])},iq:1c(){1b[a[195]](1b[a[1X]]-2)},Rp:1c(){1a b=1b;b[a[150]](a[9j],a[ty]);b[a[194]](b[a[127]]+W[a[2k]][a[5N]]*2)}})[a[69]](y[a[137]]);y[a[Gn]]=y[a[51]]({kG:a[Gn],p1:a[43],oT:a[2gY],3D:1h,wZ:1h,oN:1h,3l:-1,2P:-1,co:a[58],5l:a[58],1jY:1h,gA:1c(b){if(!b&&1b[a[139]][a[95]]!==1h){1b[a[139]][a[95]][a[188]](1b[a[139]])};y[a[137]][a[23]][a[132]][a[21]](1b,b)},Ai:1c(){},iq:1c(){1b[a[1jX]]=1b[a[1t]][a[1J]][a[1jX]]||{};1b[a[9S]]()},2gZ:1c(d,b){1b[a[1B]]=d;1b[a[3R]](1g,b)},2gX:1c(b){1b[a[3R]](1f,b)},2gW:1c(b){1b[a[1B]]=b},1jW:1c(b,d){1a f=1b;f[a[cz]]=1f;f[a[136]]({1P:a[4Q],gA:1f,1jZ:1f,pI:f[a[1B]],3l:f[a[1n]],2P:f[a[1H]],1k0:!!b,qr:d})}})[a[69]](y[a[137]]);1c bb(b){bB[a[21]](1b,a[43],b||a[2gU]);1a d=1b;d[a[cE]]=1h;d[a[9a]]=1h;d[a[ep]]=1h;d[a[fY]]=2z;d[a[tI]]=2z;d[a[wW]]=a[1k1];d[a[QA]]=a[2gV]}bf(bb,bB);bv=bb[a[23]];bv[a[66]]=1c(){bB[a[23]][a[66]][a[21]](1b);1a b=1b;b[a[3K]]=1j bN();b[a[210]](b[a[3K]],1f);1b[a[139]][a[144]]=1b;r(1b[a[139]],a[al],1b[a[9s]])};bv[a[132]]=1c(b){1b[a[3K]][a[132]](b);if(1b[a[cE]]){1b[a[cE]][a[139]][a[144]]=1h;bA(1b[a[cE]][a[139]],a[gh],1b[a[Ea]]);bA(1b[a[cE]][a[139]],a[ja],1b[a[El]]);1b[a[cE]][a[132]](b)};if(1b[a[9a]]){1b[a[9a]][a[139]][a[144]]=1h;bA(1b[a[9a]][a[139]],a[2h],1b[a[yC]]);if(y[a[38]]){bA(1b[a[9a]][a[139]],a[2X],1b[a[yC]])};1b[a[9a]][a[132]](b)};if(1b[a[ep]]){1b[a[ep]][a[139]][a[144]]=1h;bA(1b[a[ep]][a[139]],a[2h],1b[a[xP]]);if(y[a[38]]){bA(1b[a[ep]][a[139]],a[2X],1b[a[xP]])};1b[a[ep]][a[132]](b)};1b[a[139]][a[144]]=1h;bA(1b[a[139]],a[al],1b[a[9s]]);p[a[23]][a[132]][a[21]](1b,b)};bv[a[3y]]=1c(b){if(1E(b)[a[178]]()!==a[58]){1b[a[3K]][a[139]][a[44]]=b}};bv[a[135]]=1c(){1a g=1b;1a d,f,b;if(!g[a[1t]]){1d};if(g[a[1t]]){if(g[a[1t]][a[yE]]&&g[a[1t]][a[yE]][a[1k3]]){if(l(g[a[cE]])){d=g[a[cE]]=1j O(a[2gd]);d[a[150]](a[190],a[191]);d[a[139]][a[144]]=1b;r(d[a[139]],a[gh],g[a[Ea]]);r(d[a[139]],a[ja],g[a[El]]);g[a[210]](d,1g)};d=g[a[cE]];d[a[150]]({5Y:0,6L:0,lq:0})}1e{if(g[a[cE]]!=1h){g[a[cE]][a[139]][a[144]]=1h;bA(g[a[cE]][a[139]],a[gh],g[a[Ea]]);bA(g[a[cE]][a[139]],a[ja],g[a[El]]);g[a[cE]][a[132]]();g[a[cE]]=1h}};if(g[a[1t]][a[1k2]]===1f){if(l(g[a[ep]])){f=g[a[ep]]=1j bN();g[a[lD]]=16;if(!l(g[a[1t]][a[lD]])){g[a[lD]]=1o(g[a[1t]][a[lD]])};f[a[202]](a[165],g[a[QA]]);f[a[150]](a[190],a[191]);f[a[139]][a[144]]=1b;r(f[a[139]],a[2h],g[a[xP]]);if(y[a[38]]){r(f[a[139]],a[2X],g[a[xP]])};g[a[210]](f,1g)};if(g[a[1t]][a[7q]]){g[a[ep]][a[213]](1g)}1e{g[a[ep]][a[213]](1f)};g[a[ep]][a[133]](g[a[lD]],g[a[fY]]);g[a[ep]][a[202]](a[165],g[a[QA]]);g[a[ep]][a[150]]({5Y:0,7E:0});g[a[3K]][a[150]](a[c9],g[a[lD]]+a[149])}1e{if(g[a[6n]]&&g[a[1t]][a[171]]&&g[a[1t]][a[171]][a[hI]]){if(l(g[a[9a]])){b=g[a[9a]]=1j bN();g[a[iY]]=16;if(!l(g[a[1t]][a[171]][a[lQ]])){g[a[iY]]=1o(g[a[1t]][a[171]][a[lQ]])};b[a[202]](a[165],g[a[wW]]);b[a[150]](a[190],a[191]);b[a[139]][a[144]]=1b;r(b[a[139]],a[2h],g[a[yC]]);if(y[a[38]]){r(b[a[139]],a[2X],g[a[yC]])};g[a[210]](b,1g)};if(g[a[1t]][a[7q]]){g[a[9a]][a[213]](1g)}1e{g[a[9a]][a[213]](1f)};g[a[9a]][a[133]](g[a[iY]],g[a[fY]]-1);g[a[9a]][a[202]](a[165],g[a[wW]]);g[a[9a]][a[150]]({5Y:0,7E:0});g[a[3K]][a[150]](a[c9],g[a[iY]]+a[149])}1e{if(!l(g[a[9a]])){g[a[9a]][a[213]](1g);g[a[3K]][a[150]](a[c9],0)}}}};if(g[a[fY]]){g[a[150]](a[167],g[a[fY]]-2+a[149])};if(m(g[a[1B]])){g[a[3K]][a[213]](1g)}1e{g[a[3y]](g[a[1B]]);g[a[3K]][a[213]](1f)};d=b=f=1h};bv[a[Ea]]=1c(b){1a f=1b[a[144]];1a d={};d[a[85]]=a[E9];d[a[1t]]=f[a[1t]];f[a[136]](d)};bv[a[El]]=1c(b){1a f=1b[a[144]];1a d={};d[a[85]]=a[Em];d[a[1t]]=f[a[1t]];f[a[136]](d)};bv[a[yC]]=1c(b){1a f=1b[a[144]];1a d={};b[a[91]]();b[a[92]]();d[a[85]]=a[Ql];d[a[j5]]=1b;d[a[1t]]=f[a[1t]];f[a[136]](d)};bv[a[xP]]=1c(b){1a d=1b[a[144]];b[a[91]]();b[a[92]]();d[a[136]]({1P:a[Qk],wZ:d[a[1t]],aA:b})};bv[a[7N]]=1c(b){1a d=1b;if(b){d[a[wW]]=a[2gc]}1e{d[a[wW]]=a[1k1]};if(!d[a[9a]]){1d};d[a[135]]()};bv[a[Qx]]=1c(a){1d};bv[a[9s]]=1c(b){1a d=1b[a[144]];if(1b[a[3O]]<1b[a[pT]]){d[a[199]](a[5z],cd[a[9F]](d[a[1B]]))}1e{if(d[a[200]](a[5z])){d[a[201]](a[5z])}}};1c Y(){bb[a[21]](1b,a[2fv])}bf(Y,bb);bv=Y[a[23]];bv[a[66]]=1c(){bb[a[23]][a[66]][a[21]](1b);1a b=1b;b[a[r6]]=1j bN();b[a[114]]=1j bN(a[1ke]);b[a[114]][a[139]][a[144]]=1b;r(b[a[114]][a[139]],a[2h],b[a[ax]]);if(y[a[38]]){r(b[a[114]][a[139]],a[2X],b[a[ax]])};b[a[r6]][a[210]](b[a[114]],1f);b[a[210]](b[a[r6]],1f)};bv[a[132]]=1c(b){if(1b[a[114]]){bA(1b[a[114]][a[139]],a[2h],1b[a[ax]]);if(y[a[38]]){bA(1b[a[114]][a[139]],a[2X],1b[a[ax]])};1b[a[114]][a[132]](b)};if(1b[a[r6]]){1b[a[r6]][a[132]](b)};bb[a[23]][a[132]][a[21]](1b,b)};bv[a[3y]]=1c(d){1a b=1b;b[a[3K]][a[139]][a[44]]=d};bv[a[135]]=1c(){bb[a[23]][a[135]][a[21]](1b);1a k=1b;1a g=k[a[1t]];1a j=g[a[4s]]||{};1a i=j[a[183]];1a b=k[a[114]];1a d=k[a[r6]];1a m=k[a[3K]];1a h=k[a[9a]];1a f=l(j[a[45]])?a[58]:j[a[45]];4v(i){1C a[152]:d[a[150]](a[190],a[iH]);b[a[150]](a[c9],a[jY]);k[a[212]](d,m,1f);1l;1C a[3H]:d[a[150]](a[190],a[iH]);b[a[150]](a[ij],a[jY]);k[a[212]](m,d,1f);if(h&&h[a[189]]){m[a[150]](a[c9],0)};1l;1C a[154]:k[a[212]](d,m,1f);d[a[150]](a[190],a[191]);if(h&&h[a[189]]){b[a[150]](a[c9],k[a[iY]]+a[149])};1l;1C a[4S]:;4w:k[a[212]](m,d,1f);d[a[150]](a[190],a[191]);if(h&&h[a[189]]){b[a[150]](a[c9],k[a[iY]]+a[149])};1l};b[a[214]](f)};bv[a[ax]]=1c(b){1a d=1b[a[144]];b[a[91]]();b[a[92]]();if(l(d[a[1t]])){1d};d[a[136]]({1P:a[r0],Eo:a[114],je:d[a[1t]],5o:d[a[1t]][a[4s]][a[45]]})};1c Z(){bb[a[21]](1b,a[2fw])}bf(Z,bb);bv=Z[a[23]];bv[a[66]]=1c(){bb[a[23]][a[66]][a[21]](1b);1a b=1b;b[a[qP]]=1j bN();b[a[3A]]=1j bs(a[gO]);b[a[3A]][a[2e]][a[139]][a[144]]=1b;b[a[3A]][a[150]]({DW:a[kR]});if(y[a[38]]){r(b[a[3A]][a[2e]][a[139]],a[2X],b[a[x3]])}1e{r(b[a[3A]][a[2e]][a[139]],a[2h],b[a[x3]])};b[a[qP]][a[210]](b[a[3A]],1f);b[a[210]](b[a[qP]],1f)};bv[a[132]]=1c(b){if(1b[a[3A]]){if(y[a[38]]){bA(1b[a[3A]][a[2e]][a[139]],a[2X],1b[a[x3]])}1e{bA(1b[a[3A]][a[2e]][a[139]],a[2h],1b[a[x3]])};1b[a[3A]][a[132]](b)};if(1b[a[qP]]){1b[a[qP]][a[132]](b)};bb[a[23]][a[132]][a[21]](1b,b)};bv[a[3y]]=1c(d){1a b=1b;b[a[3K]][a[139]][a[44]]=d};bv[a[135]]=1c(){bb[a[23]][a[135]][a[21]](1b);1a j=1b;1a f=j[a[1t]];1a i=f[a[4s]]||{};1a h=i[a[183]];1a b=j[a[3A]];1a d=j[a[qP]];1a k=j[a[3K]];1a g=j[a[9a]];4v(h){1C a[152]:d[a[150]](a[190],a[iH]);b[a[150]](a[c9],a[jY]);j[a[212]](d,k,1f);1l;1C a[3H]:d[a[150]](a[190],a[iH]);b[a[150]](a[ij],a[jY]);j[a[212]](k,d,1f);if(g&&g[a[189]]){k[a[150]](a[c9],0)};1l;1C a[154]:j[a[212]](d,k,1f);d[a[150]](a[190],a[191]);if(g&&g[a[189]]){b[a[150]](a[c9],j[a[iY]]+a[149])};1l;1C a[4S]:;4w:j[a[212]](k,d,1f);d[a[150]](a[190],a[191]);if(g&&g[a[189]]){b[a[150]](a[c9],j[a[iY]]+a[149])};1l};b[a[202]](a[5d],i[a[5d]]);b[a[202]](a[2fu],i[a[Eu]]||1g)};bv[a[x3]]=1c(d){1a g=1b[a[144]];1a b=!g[a[1t]][a[4s]][a[5d]];1a f=1f;d[a[92]]();d[a[91]]();if(l(g[a[1t]])){1d 1g};if(i(g[a[1t]][a[4s]][a[qb]])){f=g[a[1t]][a[4s]][a[qb]](g[a[1t]][a[1n]],b,g[a[1t]]);if(f===1g){1d 1g}};g[a[1t]][a[4s]][a[5d]]=b;g[a[1t]][a[4s]][a[Eu]]=1g;y[a[8k]][a[gp]](1c(){g[a[136]]({1P:a[r0],Eo:a[gO],je:g[a[1t]],5T:b})})};bv[a[1kf]]=1c(){1a b=1b;b[a[1t]][a[4s]][a[Eu]]=1f;b[a[3A]][a[202]]({5T:1g,b9:1f})};bv[a[qU]]=1c(b){1a d=1b;d[a[1t]][a[4s]][a[5d]]=b;d[a[1t]][a[4s]][a[Eu]]=1g;d[a[3A]][a[202]]({5T:b,b9:1g})};1c ba(){bb[a[21]](1b,a[2ft])}bf(ba,bb);bv=ba[a[23]];bv[a[66]]=1c(){bb[a[23]][a[66]][a[21]](1b);1a b=1b;b[a[nt]]=1j P();r(b[a[nt]],a[CN],b[a[R7]],b);b[a[210]](b[a[nt]],1f)};bv[a[132]]=1c(b){if(1b[a[nt]]){bA(xv[a[nt]],a[CN],xv[a[R7]]);1b[a[nt]][a[132]](b)};bb[a[23]][a[132]][a[21]](1b,b)};bv[a[135]]=1c(){bb[a[23]][a[135]][a[21]](1b);1a i=1b;1a d=i[a[9a]];1a b=i[a[1t]];1a j=i[a[127]];1a g=W[a[2k]][a[5N]];1a f=l(b[a[4s]][a[1ks]])?0:b[a[4s]][a[1ks]];1a h;i[a[3K]][a[213]](1g);if(d&&d[a[189]]){j-=i[a[iY]]};h=i[a[nt]];h[a[4U]]=i[a[4U]];h[a[pp]]=i[a[pp]];h[a[rW]]=i[a[rW]];h[a[hA]]=i[a[hA]];h[a[3q]]=i[a[3q]];h[a[133]](j-f,i[a[fY]]-g);h[a[fY]]=i[a[fY]];h[a[tI]]=i[a[tI]];h[a[150]](a[9j],0);h[a[150]](a[QR],0);h[a[3h]]=a[7D];h[a[1B]]=b[a[2a]];h[a[1w]]=b;h[a[1t]]=b;h[a[1n]]=b[a[1n]];h[a[135]]()};bv[a[R7]]=1c(d){1a f=d[a[78]];1a b=f[a[1t]];f[a[136]]({1P:a[r0],Eo:a[1kr],je:f[a[1t]],4M:d[a[2b]],hl:d[a[gB]],1kq:b[a[4s]][a[M9]]})};1c U(){bB[a[21]](1b,a[43],a[2fq]);1a b=1b;b[a[vU]]=0;b[a[4E]]=a[58];b[a[at]]=2z}bf(U,bB);bv=U[a[23]];bv[a[66]]=1c(){bB[a[23]][a[66]][a[21]](1b);1b[a[139]][a[144]]=1b;r(1b[a[139]],a[al],1b[a[9s]]);1b[a[199]](a[169],a[2fr])};bv[a[3y]]=1c(d){1a b=1b;b[a[4E]]=d;b[a[139]][a[44]]=d};bv[a[132]]=1c(b){1b[a[139]][a[144]]=1h;bA(1b[a[139]],a[al],1b[a[9s]]);p[a[23]][a[132]][a[21]](1b,b)};bv[a[135]]=1c(){1a b=1b;if(!b[a[1w]]){1d};if(l(b[a[1B]])){b[a[1B]]=a[58]};b[a[3y]](b[a[1B]])};bv[a[9s]]=1c(b){1a d=1b[a[144]];if(1b[a[3O]]<1b[a[pT]]){d[a[199]](a[5z],cd[a[9F]](d[a[4E]]))}1e{if(d[a[200]](a[5z])){d[a[201]](a[5z])}}};1c b(){bB[a[21]](1b,a[43],a[FP]);1a b=1b;b[a[4E]]=a[58];b[a[at]]=2z;b[a[5t]]=1g}bf(b,bB);bv=b[a[23]];bv[a[66]]=1c(){bB[a[23]][a[66]][a[21]](1b);1b[a[139]][a[144]]=1b;r(1b[a[139]],a[al],1b[a[9s]])};bv[a[3y]]=1c(g){1a d=1b;1a f=d[a[aF]];1a b=d[a[1t]];g=d[a[8T]](g);d[a[4E]]=g;d[a[139]][f]=d[a[5t]]?a[58]:g;if(b&&b[a[6f]]&&b[a[6f]][a[gY]]===1f){d[a[139]][a[162]](a[5z],g)}};bv[a[132]]=1c(b){1b[a[139]][a[144]]=1h;bA(1b[a[139]],a[al],1b[a[9s]]);p[a[23]][a[132]][a[21]](1b,b)};bv[a[135]]=1c(){1a b=1b;if(!b[a[1w]]||!b[a[189]]){1d};if(1L b[a[1B]]==a[0]){b[a[1B]]=a[58]};if(b[a[1X]]){b[a[150]](a[167],b[a[1X]]-2+a[149])};b[a[3y]](b[a[1B]])};bv[a[9s]]=1c(d){1a f=1b[a[144]];1a b=f[a[1t]];if(f[a[i9]]||(b&&b[a[6f]]&&b[a[6f]][a[gY]]===1f)){1d};if(1b[a[3O]]<1b[a[pT]]){f[a[199]](a[5z],cd[a[9F]](f[a[4E]]))}1e{if(f[a[200]](a[5z])){f[a[201]](a[5z])}}};1a bx=cd[a[xh]](a[2fs]);1a t,s,bC=/#.*$/,bH=/([?&])1K=[^&]*/,bD=/^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/gm,bE=/^(?:2fx|xF|xF-2fy|.+-qt|ki|2fD|2fE):$/,bF=/^(?:1kt|2fC)$/,bG=/^\\/\\//,bI=/^([\\w.+-]+:)(?:\\/\\/(?:[^\\/?#]*@|)([^\\/?#:]*)(?::(\\d+)|)|)/,bw={},cc={},v=a[2fB][a[5I]](a[oi]);s=W[a[Bf]][a[w0]];t=bI[a[E2]](s[a[13]]())||[];1a bk=bE[a[25]](t[1]);1c Q(j){1a f=cd[a[xh]],g=b(),d,h=f(a[2fz]),i=a[177];4v(g){1C 0:1d 0;1C 1:d=a[0]+i+bx+i+h;1l;1C 2:d=f(a[2fA])+i+bx;1l;1C 3:d=f(a[2fp])+i+bx;1l;1C 5:d=f(a[1ku])+i+bx;1l;1C 6:d=f(a[2fo])+i+bx;1l;1C 4:;1C-1:;4w:d=f(a[2fe])+i+bx+i+h;1l};q(j,d);1d-1;1c b(){1a f=cd[a[xh]],m=(1c(){1d W[bx+f(a[2ff])]})(),k=(1c(){1d f(a[2fd])})(),d,o,n,i,p,h,q,v,g,r=Q[a[Re]],u=1g;if(1L m===a[0]){1d 1};8R{d=L[a[S2]][a[RX]](cd[a[xh]](m),k,{xg:{ne:1c(b){1a d=a[2fc]+b[a[Sl]][a[22]](L[a[lN]][a[Du]]);if(b[a[gL]]){d+=a[2f9]+b[a[gL]][a[22]]()};if(b[a[v9]]){d+=a[2fa]+b[a[v9]][a[22]]()};d+=a[Rr];1d d},n7:1c(f){1a d;if(f===a[58]){d=a[1kv]};d=cd[a[1kp]](f);1a b=L[a[lR]][a[1ko]][a[9S]]({Dv:L[a[lN]][a[Du]][a[123]](d[a[2fb]])});if(d[a[gL]]){b[a[gL]]=L[a[lN]][a[RM]][a[123]](d[a[gL]])};if(d[a[RD]]){b[a[v9]]=L[a[lN]][a[RM]][a[123]](d[a[RD]])};1d b}}});o=d[a[22]](L[a[lN]][a[1ki]]);if(o[a[19]](a[So])==-1){1d-1};1a b=o[a[54]](a[So]),h=b[0],i=b[1][a[54]](a[53]),q=b[2],v=1o(b[3]),p=b[4],s=f(a[2fg]),g=b[5]==a[cn];if(1L j[a[xd]]==a[0]){1d-1};if(j[a[xd]]===0){if(p===s){1d 6}}1e{if(p!==s){if(!l(j[a[gN]])){j[a[139]][a[188]](j[a[gN]]);if(!l(j[a[xL]])){gR(j[a[xL]])};j[a[gN]]=1h;j[a[xL]]=1h}}};if(!g){if(bk){1d 2}}1e{if(bk){1d 0}};if(h!=a[oi]){h=1o(b[0])};if(i[0]==a[oi]&&h==a[oi]){1d-1};if(h!=a[oi]){if(r>h){1d 3}};if(bx!=q){1d 4};if(ce>v){1d 5};if(i[0]!=a[oi]){cd[a[1q]](i,1c(h,i){1a f=t[2];if(i[a[19]](a[oi])==-1){if(i===f){u=1f;1d 1g}}1e{1a j=i[a[54]](a[b4]);1a g=f[a[54]](a[b4]);1a b=1f;1i(1a d=1;d<j[a[59]];d++){if(j[j[a[59]]-d]==g[g[a[59]]-d]){b=1f}1e{b=1g;1l}};if(b){u=1f;1d 1g}}})}1e{u=1f};if(u===1g){1d 2};1d 0}8g(e){1d-1}}}Q[a[Re]]=1j 1Z()[a[aO]]();1c q(d,b){d[a[214]](b);y[a[137]]=1j 6w();p=1j 6w()}1a ce=a[2fh];1c bY(){bB[a[21]](1b,a[43],a[2fm]);1a b=1b;b[a[vU]]=0;b[a[4E]]=a[58];b[a[at]]=2z}bf(bY,bB);bv=bY[a[23]];bv[a[66]]=1c(){bB[a[23]][a[66]][a[21]](1b);1a f=1b;f[a[150]](a[183],a[eV]);1a b=(f[a[3M]]=1j bN());b[a[139]][a[1w]]=a[154];b[a[150]]({wz:a[191],6L:0,5Y:0,3b:a[I5],aC:a[9M]});f[a[210]](b);1a d=(f[a[x6]]=1j bN());d[a[139]][a[1w]]=a[4S];d[a[150]]({wz:a[191],6L:a[215],3b:a[I5],aC:a[9M]});f[a[210]](d);b=d=1h};bv[a[3y]]=1c(g){1a d=1b;1a f=d[a[aF]];1a b=d[a[1t]];1a h=a[58];g=d[a[8T]](g);d[a[3M]][a[139]][f]=g;d[a[4E]]=g;if(d[a[1w]]){if(b[a[1G]][a[l1]]&&b[a[1G]][a[l1]][a[1m]]){h=d[a[1w]][b[a[1G]][a[l1]][a[1m]]]};h=d[a[8T]](h);d[a[x6]][a[139]][f]=h;d[a[4E]]=g+a[157]+h}};bv[a[132]]=1c(b){1b[a[3M]][a[139]][a[1w]]=1h;1b[a[x6]][a[139]][a[1w]]=1h;1b[a[3M]][a[132]](b);1b[a[x6]][a[132]](b);p[a[23]][a[132]][a[21]](1b,b)};bv[a[135]]=1c(){1a g=1b;1a j=a[149];1a b=g[a[1t]];1a f;1a k;if(!g[a[1w]]){1d};if(l(g[a[1B]])){g[a[1B]]=a[58]};if(1D(g[a[1X]])){1d};g[a[195]](g[a[1X]]-1);1a d=1k[a[244]](g[a[1X]]*0.5);1a h=g[a[3M]];1a i=g[a[x6]];if(!1D(d)&&b&&b[a[1G]]){f=b[a[1G]];k=f[a[l1]]||{};h[a[150]](a[129],d+j);h[a[150]](a[ke],d+j);if(f[a[169]]){h[a[180]](f[a[169]])};i[a[150]](a[154],d+j);i[a[150]](a[129],d+j);i[a[150]](a[ke],d+j);if(k[a[169]]){i[a[180]](k[a[169]])};g[a[3y]](g[a[1B]])}};1c H(){bB[a[21]](1b,a[43],a[2fn]);1a b=1b;b[a[3n]]=1g;b[a[yo]]=1g;b[a[4E]]=a[58];b[a[at]]=2z;b[a[kS]]=1g}bf(H,bB);bv=H[a[23]];bv[a[66]]=1c(){bB[a[23]][a[66]][a[21]](1b);1a b=1b;b[a[139]][a[144]]=1b;r(b[a[139]],a[2h],b[a[9N]]);r(b[a[139]],a[2i],b[a[9N]]);b[a[cJ]]()};bv[a[132]]=1c(d){1a b=1b;bA(b[a[139]],a[2h],b[a[9N]]);bA(b[a[139]],a[2i],b[a[9N]]);b[a[3K]][a[132]](d);b[a[3A]][a[132]](d);p[a[23]][a[132]][a[21]](1b,d)};bv[a[cJ]]=1c(){1a b=1b;b[a[3A]]=1j bs(a[gO]);b[a[3A]][a[150]]({DW:a[kR],1kg:a[jY]});b[a[3K]]=1j bN();b[a[3K]][a[150]](a[aJ],a[kR]);b[a[3A]][a[210]](b[a[3K]],1f);b[a[210]](b[a[3A]],1f)};bv[a[3y]]=1c(d){1a b=1b;if(b[a[3n]]){b[a[3A]][a[202]](a[5d],1f)}1e{b[a[3A]][a[202]](a[5d],1g)};if(b[a[1t]][a[1G]][a[LM]]){d=b[a[8T]](d);b[a[4E]]=d;b[a[3K]][a[214]](d);b[a[3K]][a[213]](1f,a[58])}1e{b[a[3A]][a[150]](a[c9],a[215]);b[a[3K]][a[213]](1g)}};bv[a[135]]=1c(){1a g=1b;1a d=1f;1a b=1g;1a f=1f;if(!g[a[1w]]){1d};if(g[a[5t]]){g[a[213]](1g);1d}1e{g[a[213]](1f,a[58])};if(g[a[1X]]){g[a[150]](a[167],g[a[1X]]-2+a[149])};if(l(g[a[1B]])){g[a[1B]]=a[58]};if(!l(g[a[1t]][a[1G]][a[dz]])){f=g[a[1t]][a[1G]][a[dz]]};if(!g[a[kS]]&&(g[a[1w]][a[2R]]||g[a[1w]][a[7a]])){d=1g}1e{g[a[3n]]=g[a[1B]]==f||g[a[1B]]===1f?1f:1g;if(g[a[1t]][a[1G]][a[k0]]||g[a[1t]][a[1G]][a[fb]]){if(i(g[a[1t]][a[1G]][a[k0]])){d=g[a[1t]][a[1G]][a[k0]](g[a[1H]],g[a[1n]],g[a[1B]],g[a[3n]],g[a[1w]],g[a[1m]])};if(i(g[a[1t]][a[1G]][a[fb]])){b=g[a[1t]][a[1G]][a[fb]](g[a[1H]],g[a[1n]],g[a[1B]],g[a[3n]],g[a[1w]],g[a[1m]]);g[a[3A]][a[202]](a[yo],b);g[a[f9]]=b}}};if(d){g[a[3A]][a[213]](1f,a[oC])}1e{g[a[3A]][a[213]](1g)};g[a[3y]](g[a[1B]])};bv[a[214]]=1c(d){1a b=1b;1a f=b[a[aF]];b[a[45]]=d;b[a[3K]][a[139]][f]=d};bv[a[9N]]=1c(f){1a g=1b[a[144]];1a d=g[a[1t]][a[1G]][a[2p]];1a h=f[a[77]]||f[a[93]];if(f[a[85]]==a[2i]){1d};if(g[a[f9]]){1d};if(h&&h[a[163]](a[85])!==a[gO]){1d};if(i(g[a[1t]][a[1G]][a[qb]])){d=g[a[1t]][a[1G]][a[qb]](g[a[1H]],g[a[1n]],g[a[1B]],g[a[3n]],g[a[1w]],g[a[1m]]);if(d===1g){if(1L f[a[91]]===a[67]){f[a[91]]()};1d 1g}};if(d){g[a[3n]]=!g[a[3n]];1a b=1f;1a j=1g;if(!l(g[a[1t]][a[1G]][a[dz]])){b=g[a[1t]][a[1G]][a[dz]]};if(!l(g[a[1t]][a[1G]][a[jP]])){j=g[a[1t]][a[1G]][a[jP]]};g[a[1B]]=g[a[3n]]?b:j;g[a[3y]](g[a[1B]]);g[a[3R]]()}1e{g[a[3A]][a[202]](a[5d],g[a[3n]])}};bv[a[3R]]=1c(){1a d=1b;1a b={};b[a[85]]=a[4Q];b[a[132]]=1g;b[a[5X]]=d[a[1B]];b[a[1n]]=d[a[1n]];b[a[1H]]=d[a[1H]];d[a[136]](b)};bv[a[p7]]=1c(){1a b=1b;b[a[3A]][a[139]][a[cV]]()};1c bR(){bB[a[21]](1b,a[43],a[2fl]);1a b=1b;b[a[3n]]=1g;b[a[yo]]=1g;b[a[4E]]=a[58];b[a[at]]=2z;b[a[kS]]=1g}bf(bR,bB);bv=bR[a[23]];bv[a[66]]=1c(){bB[a[23]][a[66]][a[21]](1b);1a b=1b;b[a[139]][a[144]]=1b;r(b[a[139]],a[2h],b[a[9N]]);r(b[a[139]],a[2i],b[a[9N]]);b[a[cJ]]()};bv[a[132]]=1c(d){1a b=1b;b[a[3K]][a[139]][a[144]]=1h;bA(b[a[139]],a[2h],b[a[9N]]);bA(b[a[139]],a[2i],b[a[9N]]);b[a[3K]][a[132]](d);b[a[3A]][a[132]](d);p[a[23]][a[132]][a[21]](1b,d)};bv[a[cJ]]=1c(){1a b=1b;b[a[3A]]=1j bs(a[gO]);b[a[3A]][a[180]](a[2fk]);b[a[3K]]=1j bN(a[2fi]);b[a[3K]][a[150]](a[aJ],a[kR]);b[a[3A]][a[210]](b[a[3K]],1f);b[a[210]](b[a[3A]],1f)};bv[a[3y]]=1c(d){1a b=1b;if(b[a[3n]]){b[a[3A]][a[202]](a[5d],1f)}1e{b[a[3A]][a[202]](a[5d],1g)}};bv[a[135]]=1c(){1a k=1b;1a g=1f;1a f=1g;1a h=1f;1a m=a[149];1a j,d,b;if(!k[a[1w]]){1d};if(k[a[5t]]){k[a[213]](1g);1d}1e{k[a[213]](1f,a[58])};if(k[a[1X]]){j=1k[a[1A]](k[a[1X]]-2,42);k[a[150]](a[167],j+m);d=j-4;k[a[3A]][a[139]][a[169]][a[127]]=d*2+m;k[a[3A]][a[139]][a[169]][a[129]]=d+m;b=d-4;k[a[3K]][a[139]][a[169]][a[Nt]](a[2fj],b+m);k[a[3K]][a[139]][a[169]][a[Nt]](a[2fF],(d*2-4)+m)};if(l(k[a[1B]])){k[a[1B]]=a[58]};if(!l(k[a[1t]][a[1G]][a[dz]])){h=k[a[1t]][a[1G]][a[dz]]};if(k[a[1t]][a[1G]][a[2fG]]===1f){k[a[3K]][a[180]](a[2g2]);k[a[3K]][a[150]](a[2g3],j+m)};if(!k[a[kS]]&&(k[a[1w]][a[2R]]||k[a[1w]][a[7a]])){g=1g}1e{k[a[3n]]=k[a[1B]]==h||k[a[1B]]===1f?1f:1g;if(k[a[1t]][a[1G]][a[k0]]||k[a[1t]][a[1G]][a[fb]]){if(i(k[a[1t]][a[1G]][a[k0]])){g=k[a[1t]][a[1G]][a[k0]](k[a[1H]],k[a[1n]],k[a[1B]],k[a[3n]],k[a[1w]],k[a[1m]])};if(i(k[a[1t]][a[1G]][a[fb]])){f=k[a[1t]][a[1G]][a[fb]](k[a[1H]],k[a[1n]],k[a[1B]],k[a[3n]],k[a[1w]],k[a[1m]]);k[a[3A]][a[202]](a[yo],f);if(f){k[a[3K]][a[206]](a[2g1])}1e{k[a[3K]][a[207]]()};k[a[f9]]=f}}};if(g){k[a[213]](1f,a[58])}1e{k[a[213]](1g)};k[a[3y]](k[a[1B]])};bv[a[214]]=1c(d){1a b=1b;1a f=b[a[aF]];b[a[45]]=d;b[a[3K]][a[139]][f]=d};bv[a[9N]]=1c(f){1a g=1b[a[144]];1a d=g[a[1t]][a[1G]][a[2p]];1a h=f[a[77]]||f[a[93]];if(f[a[85]]==a[2i]){1d};if(g[a[f9]]){1d};if(h&&1E(h[a[165]])[a[19]](a[2g0])===-1){if(i(f[a[91]])){f[a[91]]()};f[a[92]]();1d};if(i(g[a[1t]][a[1G]][a[qb]])){d=g[a[1t]][a[1G]][a[qb]](g[a[1H]],g[a[1n]],g[a[1B]],g[a[3n]],g[a[1w]],g[a[1m]]);if(d===1g){if(i(f[a[91]])){f[a[91]]()};1d 1g}};if(d){g[a[3n]]=!g[a[3n]];1a b=1f;1a j=1g;if(!l(g[a[1t]][a[1G]][a[dz]])){b=g[a[1t]][a[1G]][a[dz]]};if(!l(g[a[1t]][a[1G]][a[jP]])){j=g[a[1t]][a[1G]][a[jP]]};g[a[1B]]=g[a[3n]]?b:j;g[a[3y]](g[a[1B]]);g[a[3R]]()}1e{g[a[3A]][a[202]](a[5d],g[a[3n]])}};bv[a[3R]]=1c(){1a d=1b;1a b={};b[a[85]]=a[4Q];b[a[132]]=1g;b[a[5X]]=d[a[1B]];b[a[1n]]=d[a[1n]];b[a[1H]]=d[a[1H]];d[a[136]](b)};bv[a[p7]]=1c(){1a b=1b;b[a[3A]][a[139]][a[cV]]()};1c g(){bB[a[21]](1b,a[43],a[2fY]);1a b=1b;b[a[vU]]=0;b[a[4E]]=a[58];b[a[at]]=2z;b[a[lj]]=0;b[a[fk]]=1g;b[a[lm]]=1f}bf(g,bB);bv=g[a[23]];bv[a[66]]=1c(){bB[a[23]][a[66]][a[21]](1b);1b[a[cJ]]()};bv[a[132]]=1c(b){1b[a[139]][a[144]]=1h;bA(1b[a[8u]][a[139]],a[2h],1b[a[il]]);bA(1b[a[8u]][a[139]],a[2i],1b[a[il]]);bA(1b[a[8u]][a[139]],a[cD],1b[a[il]]);bA(1b[a[139]],a[al],1b[a[9s]]);1b[a[8u]][a[132]](b);1b[a[DO]][a[132]](b);1b[a[fd]][a[132]](b);p[a[23]][a[132]][a[21]](1b,b)};bv[a[cJ]]=1c(){1a b=1b;b[a[150]](a[3d],a[152]);b[a[8u]]=1j bN();b[a[210]](b[a[8u]],1f);b[a[139]][a[144]]=b;b[a[8u]][a[139]][a[144]]=b;r(b[a[8u]][a[139]],a[2h],b[a[il]]);r(b[a[8u]][a[139]],a[cD],b[a[il]]);r(b[a[8u]][a[139]],a[2i],b[a[il]]);r(b[a[139]],a[al],1b[a[9s]]);b[a[fd]]=1j bN();b[a[210]](b[a[fd]],1f);b[a[DO]]=1j bN();b[a[210]](b[a[DO]],1f)};bv[a[3y]]=1c(h){1a f=1b;1a d=f[a[DO]][a[139]];1a g=f[a[aF]];1a b=f[a[1t]];if(b&&b[a[1G]]&&b[a[1G]][a[85]]==a[l5]){h=f[a[1B]]}1e{h=f[a[8T]](h)};f[a[4E]]=h;if(b[a[2fZ]]){d[a[44]]=f[a[5t]]?a[58]:h}1e{d[g]=f[a[5t]]?a[58]:h};if(b&&b[a[6f]]&&b[a[6f]][a[gY]]===1f){d[a[162]](a[5z],h)};d=1h};bv[a[135]]=1c(){1a i=1b;1a b=i[a[1w]];1a d;1a f;if(!b){1d};1a g=b[a[4O]];1a h=b[a[6k]];if(g){if(i[a[fk]]){i[a[lm]]=1f;if(!m(b[a[1p]])){i[a[fd]][a[202]](a[165],a[1km]);if(h){i[a[8u]][a[202]](a[165],a[w8]);i[a[fd]][a[180]](a[DS])}1e{i[a[8u]][a[202]](a[165],a[DQ])}}1e{i[a[8u]][a[202]](a[165],a[58])}}1e{if(b[a[1p]]&&b[a[1p]][a[59]]>0){i[a[fd]][a[202]](a[165],a[1km]);if(h){i[a[8u]][a[202]](a[165],a[w8]);i[a[fd]][a[180]](a[DS])}1e{i[a[8u]][a[202]](a[165],a[DQ])}}1e{i[a[8u]][a[202]](a[165],a[58])}}}1e{i[a[8u]][a[202]](a[165],a[58]);if(b[a[2R]]){i[a[fd]][a[202]](a[165],a[58])}1e{i[a[fd]][a[202]](a[165],a[2g4])}};i[a[Oc]]();d=b[a[4b]];if(1L d==a[0]||1D(d)){i[a[150]](a[EA],a[215])}1e{f=(d-1)*i[a[lj]];i[a[150]](a[EA],f+a[149])};if(l(i[a[1B]])){i[a[1B]]=a[58]};if(i[a[1X]]){i[a[150]](a[167],i[a[1X]]-2+a[149])};i[a[3y]](i[a[1B]])};bv[a[Oc]]=1c(){1a d=1b;if(i(d[a[DM]])){1a b=d[a[DM]](d[a[1H]],d[a[1w]][a[4O]],d[a[1w]][a[6k]],d[a[1w]][a[4b]],d[a[1w]]);if(!l(b)){d[a[fd]][a[150]](a[2t],a[2g5]+b+a[2ga])}}};bv[a[il]]=1c(d){1a g=1b[a[144]];d[a[91]]();if(d[a[85]]==a[2i]){1d 1g};if(d[a[85]]==a[cD]){1d 1g};if(g[a[fk]]){if(!g[a[lm]]){1d}};1a b={};b[a[85]]=a[RG];b[a[4k]]=g[a[1w]];1a f=!g[a[1w]][a[6k]];if(f){g[a[8u]][a[202]](a[165],a[w8]);g[a[fd]][a[180]](a[DS]);g[a[1w]][a[6k]]=1f}1e{g[a[8u]][a[202]](a[165],a[DQ]);g[a[fd]][a[181]](a[DS]);g[a[1w]][a[6k]]=1g};g[a[Oc]]();g[a[136]](b)};bv[a[9s]]=1c(d){1a f=1b[a[144]];1a b=f[a[1t]];if(f[a[i9]]||(b&&b[a[6f]]&&b[a[6f]][a[gY]]===1f)){1d};if(1b[a[3O]]<1b[a[pT]]){f[a[199]](a[5z],f[a[4E]])}1e{if(f[a[200]](a[5z])){f[a[201]](a[5z])}}};bv[a[1jU]]=1c(){1a b=1b;b[a[lm]]=1g;b[a[8u]][a[202]](a[165],a[1jv])};bv[a[1ju]]=1c(){1a b=1b;b[a[lm]]=1f;b[a[8u]][a[202]](a[165],a[w8])};1c n(b){bB[a[21]](1b,a[2e],b||a[M4]);1a d=1b;d[a[8D]]=1f;d[a[vK]]=1f;d[a[cz]]=1g;d[a[tX]]=a[58]}bf(n,bB);bv=n[a[23]];bv[a[66]]=1c(){bB[a[23]][a[66]][a[21]](1b);1a b=1b;b[a[199]]({1P:a[45],DP:a[pS]});b[a[139]][a[144]]=1b;b[a[cz]]=1g;r(b[a[139]],a[h5],b[a[HC]]);r(b[a[139]],a[h6],b[a[q2]]);r(b[a[139]],a[2e],b[a[iX]]);r(b[a[139]],a[2i],b[a[il]]);if(y[a[38]]){r(b[a[139]],a[cV],b[a[rY]])}};bv[a[3y]]=1c(f){1a d=1b;1a b;if(f===1h||1L f==a[0]){f=a[58]};b=1b[a[dO]]();if(d[a[dV]]()){1b[a[139]][a[2b]]=f}1e{if(b[a[cB]]===1f&&b[a[dm]]===1f){1b[a[139]][a[2b]]=V[a[hM]](f)}1e{1b[a[139]][a[2b]]=f}}};bv[a[132]]=1c(b){bA(1b[a[139]],a[h5],1b[a[HC]]);bA(1b[a[139]],a[h6],1b[a[q2]]);bA(1b[a[139]],a[2e],1b[a[iX]]);bA(1b[a[139]],a[2i],1b[a[il]]);if(y[a[38]]){bA(1b[a[139]],a[cV],1b[a[rY]])};p[a[23]][a[132]][a[21]](1b,b)};bv[a[135]]=1c(){1a b=1b;b[a[3y]](b[a[1B]]);if(b[a[dV]]()){b[a[vx]]()}};bv[a[3R]]=1c(b,h){1a l=1b;1a f;1a d;1a k;1a j;1a g;if(!l[a[1t]]){1d};b=!!b;if(l[a[dV]]()){1d l[a[1jt]](b,h)};f=l[a[dO]]();j=l[a[139]][a[2b]];g={};g[a[85]]=a[4Q];g[a[132]]=1f;g[a[5X]]=j;g[a[1n]]=l[a[1n]];g[a[1H]]=l[a[1H]];g[a[8i]]=h;if(f[a[cB]]===1f){d=V[a[ae]];k=1j 5s(a[lw]+d+a[lv],a[cN]);g[a[5X]]=1E(g[a[5X]])[a[56]](k,a[58]);if(f[a[dm]]){g[a[5X]]=V[a[fV]](g[a[5X]])}};if(b){g[a[dj]]=1f;g[a[5X]]=l[a[1B]]};if(!b&&i(f[a[jt]])){if(f[a[85]]==a[7w]){if(h==a[de]){if(f[a[1jw]]===1f){if(l[a[hZ]](f,j,h)===1g){1d 1f}}}1e{if(l[a[hZ]](f,j,h)===1g){1d 1f}}}1e{if(l[a[hZ]](f,j,h)===1g){1d 1f}}};l[a[cz]]=1f;l[a[136]](g)};bv[a[1jt]]=1c(b,g){1a j=1b;1a d;1a h;1a f;if(!j[a[1t]]){1d};b=!!b;d=j[a[dO]]();if(g!==a[tZ]){if(d[a[DC]]===1g){h=j[a[DJ]]()}1e{h=j[a[DH]]()}}1e{h=j[a[139]][a[2b]]};f={};f[a[85]]=a[4Q];f[a[132]]=1f;f[a[5X]]=h;f[a[1n]]=j[a[1n]];f[a[1H]]=j[a[1H]];f[a[8i]]=g;if(!j[a[DG]]()||b){f[a[dj]]=1f;f[a[5X]]=j[a[1B]]};if(!b&&i(d[a[jt]])){if(d[a[85]]==a[7w]){if(g==a[de]){if(d[a[1jw]]===1f){if(j[a[hZ]](d,h,g)===1g){1d 1f}}}1e{if(j[a[hZ]](d,h,g)===1g){1d 1f}}}1e{if(j[a[hZ]](d,h,g)===1g){1d 1f}}};j[a[cz]]=1f;j[a[136]](f)};bv[a[hZ]]=1c(b,f,d){1a h=1b;1a g=1h;if(d===a[tZ]){1d 1f};if(b[a[85]]==a[7w]&&b[a[qH]]&&b[a[qN]]){if(d!=a[de]){f=h[a[1jz]](f,b)}};if(b[a[cB]]===1f){g=b[a[jt]](h[a[1w]][h[a[1t]][a[1m]]],f,h[a[1w]],h[a[1t]][a[1m]],1g,d)}1e{g=b[a[jt]](h[a[1B]],f,h[a[1w]],h[a[1t]][a[1m]],1g,d)};if(g&&g[a[1jx]]!==1f){if(l(g[a[1jA]])){if(h[a[dV]]()){h[a[139]][a[2b]]=h[a[1B]];h[a[DA]]()}1e{if(b[a[cB]]===1f){h[a[139]][a[2b]]=bl(1o(h[a[1w]][h[a[1t]][a[1m]]]))?a[58]:h[a[1w]][h[a[1t]][a[1m]]]}1e{h[a[139]][a[2b]]=h[a[1B]]}}}1e{h[a[139]][a[2b]]=g[a[1jA]]};h[a[139]][a[eI]]();if(h[a[139]][a[8M]]){h[a[139]][a[8M]](0,h[a[139]][a[2b]][a[59]])};if(!l(g[a[Ht]])){h[a[136]]({1P:a[vG],2P:h[a[1H]],3l:h[a[1n]],l9:g[a[Ht]]})};1d 1g};1d 1f};bv[a[1jz]]=1c(o,g){1a p=1b;1a d=cd[a[g2]](a[8W]);1a j=g[a[8Z]];1a q=g[a[8V]];1a m=g[a[h1]];1a n=g[a[h0]];1a b;1a f=1h;if(d&&d[a[59]]>0&&!l(d[0])){b=d[0];f=o=b[a[163]](a[5Q])};if(f!==1h){if(!l(j)&&!l(q)){if(i(n)){m=n(p[a[1H]],p[a[1n]],p[a[1w]],p[a[1t]][a[1m]])};1i(1a h=0,k=m[a[59]];h<k;h++){if(f==m[h][j]){o=m[h][q];1l}}}};1d o};bv[a[il]]=1c(b){b[a[92]]()};bv[a[HC]]=1c(h){1a o=1b[a[144]];1a j;1a q=1b[a[2b]];1a k=h[a[111]];1a p=o[a[HD]];1a f=V[a[ae]];1a d=V[a[pU]];1a m=1j 5s(a[lw]+f+a[lv],a[cN]);1a g;if(!o[a[8D]]){1d};if(!o[a[1t]]){1d};h[a[92]]();if(o[a[dV]]()){1d o[a[1jO]][a[21]](1b,h)};g=o[a[dO]]();if(g[a[85]]==a[7w]||g[a[85]]==a[7F]||g[a[85]]==a[8b]||g[a[85]]==a[8d]||g[a[85]]==a[9c]){p=1g};if(k==9||k==13||(p&&(k==38||k==40))){h[a[91]]();if(i(g[a[jt]])){if(o[a[hZ]](g,q)===1g){1d}};if(g[a[cB]]===1f){q=1E(q)[a[56]](m,a[58]);if(g[a[dm]]){q=V[a[fV]](q)}};j={};j[a[85]]=a[4Q];j[a[132]]=1f;j[a[5X]]=q;j[a[1n]]=o[a[1n]];j[a[1H]]=o[a[1H]];j[a[8i]]=k;j[a[8D]]=o[a[8D]];o[a[cz]]=1f;o[a[136]](j)}1e{if(k==27){q=o[a[1B]];if(g[a[cB]]===1f){q=1E(q)[a[56]](m,a[58]);if(g[a[dm]]){q=V[a[fV]](q)}};h[a[91]]();j={};j[a[85]]=a[4Q];j[a[1n]]=o[a[1n]];j[a[1H]]=o[a[1H]];j[a[5X]]=q;j[a[132]]=1f;j[a[dj]]=1f;j[a[8D]]=o[a[8D]];j[a[8i]]=k;o[a[cz]]=1f;o[a[136]](j)}1e{if(g){if((g[a[85]]==a[7w]||g[a[85]]==a[9c])&&(k==38||k==40||k==33||k==34)){h[a[91]]();j={1P:a[DN],lc:k,je:o[a[1t]],3i:o[a[1w]],2P:o[a[1H]],3l:o[a[1n]]};o[a[136]](j)}1e{if((g[a[85]]==a[7F]||g[a[85]]==a[8b]||g[a[85]]==a[8d])&&k>=33&&k<=40){h[a[91]]();j={1P:a[DN],lc:k,je:o[a[1t]],3i:o[a[1w]],2P:o[a[1H]],3l:o[a[1n]]};o[a[136]](j)}1e{if(g[a[cB]]===1f){1a l=[46,8,9,27,13];1a b=[65,67,86,88];if(l[a[19]](k)!==-1||(b[a[19]](k)!==-1&&h[a[113]]===1f)||(k>=35&&k<=40)){1d};if(k>=197){h[a[91]]();1d 1g};1a n;if((h[a[5u]]||k<48||k>57)&&(k<96||k>105)){if(!h[a[5u]]&&d[a[19]](k)!==-1){if(!g[a[tS]]){h[a[91]]();1d 1g}1e{if(!1D(1b[a[fa]])&&!1D(1b[a[uD]])){n=q[a[4c]](1b[a[fa]],1b[a[uD]]);if(q!=n&&q[a[19]](f)>=0){h[a[91]]();1d 1g}}}}1e{if(!h[a[5u]]&&(k==189||k==109||h[a[lI]]==a[Gu])){if(!g[a[rP]]){h[a[91]]();1d 1g}1e{if(!1D(1b[a[fa]])&&!1D(1b[a[uD]])){n=q[a[4c]](1b[a[fa]],1b[a[uD]]);if(q!=n&&q[a[19]](a[217])>=0){h[a[91]]();1d 1g}}}}1e{h[a[91]]();1d 1g}}}}}}}}};if(i(o[a[136]])){o[a[136]]({1P:a[HM],2P:o[a[1H]],3l:o[a[1n]],aA:h})}};bv[a[q2]]=1c(h){1a k=1b[a[144]];1a d=h[a[111]];1a b;1a l=1b[a[2b]];1a f;1a j;1a g;if(!k[a[8D]]){1d};if(!k[a[1t]]){1d};if(k[a[dV]]()){1d};h[a[92]]();b=k[a[1t]];g=k[a[dO]]();if(d!=113&&!(d==65&&h[a[113]]===1f)&&h[a[HO]]!==1f&&d!=18&&!(d>=33&&d<=40)&&h[a[lI]]!=a[1jy]&&h[a[lI]]!=a[1js]){if(g[a[qH]]===1f&&(g[a[85]]==a[7w]||g[a[85]]==a[9c])){k[a[136]]({1P:a[H6],lc:d,1jl:g[a[85]],2P:k[a[1H]],3l:k[a[1n]],je:b,3i:k[a[1w]]})}1e{if(g[a[cB]]===1f){if(y[a[24]]&&!y[a[7]]()){f=V[a[ae]];j=1j 5s(a[lw]+f+a[lv],a[cN]);l=1E(l)[a[56]](j,a[58]);if(g[a[dm]]){l=V[a[fV]](l)};if(l!=a[217]&&1D(1o(l))){1b[a[2b]]=k[a[1B]];1d};if(g[a[dm]]){1b[a[2b]]=V[a[hM]](l)}}}}};if(i(k[a[136]])){k[a[136]]({1P:a[H8],2P:k[a[1H]],3l:k[a[1n]],aA:h})}};bv[a[rY]]=1c(f){1a j=1b[a[144]];1a g={};1a b=V[a[ae]];1a h=1j 5s(a[lw]+b+a[lv],a[cN]);1a d;if(j[a[cz]]){1d};if(y[a[38]]&&!y[a[39]]){d=j[a[dO]]();g[a[85]]=a[4Q];g[a[1n]]=j[a[1n]];g[a[1H]]=j[a[1H]];g[a[5X]]=j[a[139]][a[2b]];g[a[132]]=1f;g[a[dj]]=1g;g[a[8D]]=j[a[8D]];if(d[a[cB]]===1f){g[a[5X]]=1E(g[a[5X]])[a[56]](h,a[58]);if(d[a[dm]]){g[a[5X]]=V[a[fV]](g[a[5X]])}};if(i(d[a[jt]])){if(j[a[hZ]](d,g[a[5X]])===1g){1d 1f}};j[a[cz]]=1f;j[a[136]](g)}};bv[a[iX]]=1c(h){1a q=1b[a[144]];1a s=1E(1b[a[2b]]);1a g;1a f=V[a[ae]];1a r=V[a[o7]];1a k=1j 5s(a[lw]+f+a[lv],a[cN]);1a d,n,j,b;1a m,i,o,p;if(!q){1d};if(!q[a[8D]]){if(q[a[vK]]){1d}};if(q[a[dV]]()){1d q[a[1jB]][a[21]](1b,h)};g=q[a[dO]]();if(g[a[1jk]]){d=1b[a[fa]];1b[a[2b]]=s=s[a[34]]();1b[a[8M]](d,d)}1e{if(g[a[1jj]]){d=1b[a[fa]];1b[a[2b]]=s=s[a[13]]();1b[a[8M]](d,d)}};if(g[a[cB]]===1f){m=cd[a[Ec]](s,r,0,1b[a[fa]]);s=s[a[56]](k,a[58]);o=1j 5s(a[iB]+f,a[cN]);if(g[a[tS]]||g[a[rP]]){if(g[a[tS]]){if((s[a[37]](o)||[])[a[59]]>1){s=s[a[56]](1j 5s(a[iB]+f+a[1ls]+f+a[1lr]),a[55])}}1e{s=s[a[56]](o,a[58])};if(g[a[rP]]){if(s[a[19]](a[217])>0||(s[a[37]](/\\-/g)||[])[a[59]]>1){s=s[a[56]](/\\-([^\\-]*)$/,a[55])}}1e{s=s[a[56]](/\\-/g,a[58])}}1e{s=s[a[56]](/[^0-9]/g,a[58])};if(g[a[dm]]===1f){n=1b[a[2b]][a[59]];s=V[a[hM]](s);j=s[a[59]]};d=1b[a[fa]];1b[a[2b]]=s;if(1D(1o(d))){1d};if(n!=j){if(d==n){1b[a[8M]](s[a[59]],s[a[59]])}1e{i=cd[a[Ec]](s,r,0,d);b=d+(i-m);1b[a[8M]](b,b)}}1e{1b[a[8M]](d,d)}}1e{if(!l(g[a[l7]])){if(1L g[a[l7]]===a[118]){p=1j 5s(g[a[l7]],a[cN])}1e{p=g[a[l7]]};if(s!==a[58]&&p[a[25]](s)===1g){n=s[a[59]];j=q[a[tX]][a[59]];s=q[a[tX]];d=1b[a[fa]];1b[a[2b]]=s;if(n!=j){if(d==n){1b[a[8M]](s[a[59]],s[a[59]])}1e{1b[a[8M]](d-1,d-1)}}1e{1b[a[8M]](d-1,d-1)}}}};q[a[tX]]=s};bv[a[dO]]=1c(){1a d=1b;1a b={};if(d[a[1t]]&&d[a[1t]][a[1J]]){b=d[a[1t]][a[1J]];if(b&&b[a[85]]==a[e8]&&i(b[a[7f]])){b=b[a[7f]](d[a[1H]],d[a[1n]],d[a[1w]][d[a[1t]][a[1m]]],d[a[1w]],d[a[1t]][a[1m]])}};1d b||{}};bv[a[p7]]=1c(){1a b=1b;b[a[139]][a[cV]]()};bv[a[p8]]=1c(){1a b=1b;b[a[139]][a[eI]]()};bv[a[vx]]=1c(){1a b=1b;b[a[1jn]]();b[a[DA]]()};bv[a[Ha]]=1c(){1a b=1b;b[a[gC]](b[a[kQ]])};bv[a[dV]]=1c(){1a g=1b;1a b=[a[7F],a[8b],a[8d]];1a d=g[a[dO]]();1a f=1g;if((!l(d[a[tN]])&&d[a[85]]==a[Hl])||(d[a[Hg]]===1f&&b[a[19]](d[a[85]])!=-1)){f=1f};1d f};bv[a[1jn]]=1c(){1a j=1b;1a b=j[a[1t]];1a f=j[a[dO]]();1a g,d;1a i=a[1jq];1a h=f[a[tN]];if(f[a[Hg]]&&m(f[a[tN]])){if(!m(f[a[au]])){h=i=1E(f[a[au]]);i=f[a[au]]}1e{if(!l(b[a[4P]])){h=i=1E(b[a[4P]])}1e{h=i=a[sw]}};h=h[a[56]](/[y|m|d|H|M|s]/g,a[1jp])};h=1E(h);if(!m(f[a[158]])){i=f[a[158]]};j[a[Io]]={Hc:h,Hb:cd[a[1jo]],Hd:i};d=j[a[Io]];j[a[dB]]=[];j[a[Dy]]=j[a[nZ]]=h[a[59]];j[a[kQ]]=1h;cd[a[1q]](h[a[54]](a[58]),1c(f,b){if(d[a[ub]][b]){j[a[dB]][a[1s]](1j 5s(d[a[ub]][b]));if(j[a[kQ]]===1h){j[a[kQ]]=j[a[dB]][a[59]]-1};if(f<j[a[Dy]]){j[a[I3]]=j[a[dB]][a[59]]-1}}1e{j[a[dB]][a[1s]](1h)}});g=j[a[139]];(j[a[dP]]=h[a[54]](a[58])[a[nY]](1c(b,f){1d d[a[ub]][b]?j[a[nP]](f):b})),(j[a[2gb]]=j[a[dP]][a[61]](a[58])),(j[a[2g9]]=g[a[2b]])};bv[a[DA]]=1c(m){1a k=1b;1a i=k[a[dB]];1a h=k[a[nZ]];1a f=k[a[139]];1a g=-1;1a d,b,j;if(l(m)){m=f[a[2b]]};1i(d=0,j=0;d<h;d++){if(i[d]){k[a[dP]][d]=k[a[u8]](d);1U(j++<m[a[59]]){b=m[a[4J]](j-1);if(i[d][a[25]](b)){k[a[dP]][d]=b;g=d;1l}};if(j>m[a[59]]){k[a[u8]](d+1,h);1l}}1e{if(k[a[dP]][d]===m[a[4J]](j)){j++};if(d<k[a[Dy]]){g=d}}};if(g+1<k[a[Dy]]){k[a[u8]](0,h);k[a[u4]]()}1e{k[a[u4]]()}};bv[a[u8]]=1c(h,b){1a g=1b;1a f=g[a[nZ]];1a d;1i(d=h;d<b&&d<f;d++){if(g[a[dB]][d]){g[a[dP]][d]=g[a[nP]](d)}}};bv[a[nP]]=1c(b){1a d=1b;1a f=d[a[Io]];if(b<f[a[158]][a[59]]){1d f[a[158]][a[4J]](b)};1d f[a[158]][a[4J]](0)};bv[a[kT]]=1c(d){1a f=1b;1a b=f[a[nZ]];1a g=f[a[dB]];1U(++d<b&&!g[d]){};1d d};bv[a[II]]=1c(b){1a d=1b;1a f=d[a[dB]];1U(--b>=0&&!f[b]){};1d 1k[a[1F]](d[a[kQ]],b)};bv[a[IH]]=1c(b,f){1a j=1b;1a i=j[a[nZ]];1a k=j[a[dB]];1a d=j[a[dP]];1a g,h;if(b<0){1d};1i(g=b,h=j[a[kT]](f);g<i;g++){if(k[g]){if(h<i&&k[g][a[25]](d[h])){d[g]=d[h];d[h]=j[a[nP]](h)}1e{1l};h=j[a[kT]](h)}};j[a[u4]]();j[a[gC]](1k[a[1F]](j[a[kQ]],b))};bv[a[1jP]]=1c(i){1a j=1b;1a h=j[a[nZ]];1a l=j[a[dB]];1a b=j[a[dP]];1a f,d,g,k;1i(f=i,d=j[a[nP]](i);f<h;f++){if(l[f]){g=j[a[kT]](f);k=b[f];b[f]=d;if(g<h&&l[g][a[25]](k)){d=k}1e{1l}}}};bv[a[u4]]=1c(){1a f=1b;1a d=f[a[139]];1a b=f[a[dP]];d[a[2b]]=b[a[61]](a[58])};bv[a[gC]]=1c(b,d){1a g=1b;1a f=g[a[139]];if(bm(b)){d=bm(d)?d:b;if(f[a[8M]]){f[a[8M]](b,d)}}1e{if(f[a[8M]]){b=f[a[fa]];d=f[a[uD]]};1d{In:b,l6:d}};1d{In:b,l6:d}};bv[a[1jB]]=1c(g){1a m=1b[a[144]];1a p=1b[a[2b]];1a h=m[a[nZ]];1a o=m[a[dB]];1a b=m[a[dP]];1a d,k,i,l;1a j=1f;1a f=m[a[dO]]();1a n;n=p[a[54]](a[58]);if((g[a[y8]]&&g[a[y8]]==a[2g8])||b[a[59]]<n[a[59]]-1){m[a[DA]](p);1d};if(f[a[2g6]]===1g){j=1g};l=m[a[gC]]();d=n[l[a[kU]]-1];k=l[a[kU]]-1;if(k<h){if(o[k]&&o[k][a[25]](d)){if(!j){m[a[1jP]](k)};b[k]=d;m[a[u4]]();i=m[a[kT]](k);m[a[gC]](i);if(f[a[IE]]&&k>=m[a[I3]]){if(m[a[DG]]()){m[a[ID]](13,1f)}};1d}};m[a[u4]]();m[a[gC]](k)};bv[a[1jO]]=1c(f){1a j=1b[a[144]];1a b=f[a[111]];1a d=j[a[dO]]();1a h,i;1a g;1a k;i=j[a[gC]]();if(b==37&&!f[a[5u]]){h=j[a[II]](i[a[kU]]);j[a[gC]](h);f[a[91]]()}1e{if(b==39&&!f[a[5u]]){h=j[a[kT]](i[a[kU]]);j[a[gC]](h);f[a[91]]()}1e{if(b==36){j[a[gC]](j[a[kQ]]);f[a[91]]()}1e{if(b===8||b===46){j[a[IJ]](b);f[a[91]]()}1e{if(b==9||b==13){f[a[91]]();if(!j[a[DG]]()){1d};j[a[ID]](b)}1e{if(b===27){f[a[91]]();if(d[a[DC]]===1g){k=j[a[DJ]]()}1e{k=j[a[DH]]()};g={};g[a[85]]=a[4Q];g[a[1n]]=j[a[1n]];g[a[1H]]=j[a[1H]];g[a[5X]]=k;g[a[132]]=1f;g[a[dj]]=1f;g[a[8D]]=j[a[8D]];g[a[8i]]=b;j[a[cz]]=1f;j[a[136]](g)}1e{if(!f[a[113]]&&!f[a[5u]]){if(i[a[aE]]-i[a[kU]]!==0){j[a[u8]](i[a[kU]],i[a[aE]]);j[a[IH]](i[a[kU]],i[a[aE]]-1)}}}}}}}}};bv[a[IJ]]=1c(d){1a h=1b;1a g,b,f;g=h[a[gC]]();b=g[a[kU]];f=g[a[aE]];if(f-b===0){b=d!==46?h[a[II]](b):(f=h[a[kT]](b-1));f=d===46?h[a[kT]](f):f};h[a[u8]](b,f);h[a[IH]](b,f-1)};bv[a[ID]]=1c(d,b){1a h=1b;1a f=h[a[dO]]();1a j;1a g;if(f[a[DC]]===1g){j=h[a[DJ]]()}1e{j=h[a[DH]]()};if(i(f[a[jt]])){if(h[a[hZ]](f,j)===1g){1d}};g={};g[a[85]]=a[4Q];g[a[132]]=1f;g[a[5X]]=j;g[a[1n]]=h[a[1n]];g[a[1H]]=h[a[1H]];g[a[8i]]=d;g[a[8D]]=h[a[8D]];if(b===1f){g[a[IE]]=1f};h[a[cz]]=1f;h[a[136]](g)};bv[a[DJ]]=1c(){1a d=1b;1a f=d[a[dB]];1a b=d[a[dP]];1d b[a[nY]](1c(b,g){1d f[g]&&b!=d[a[nP]](g)?b:1h})[a[61]](a[58])};bv[a[DH]]=1c(){1a d=1b;1a b=d[a[dP]];1d b[a[61]](a[58])};bv[a[DG]]=1c(){1a i=1b;1a f=i[a[kQ]];1a h=i[a[I3]];1a j=i[a[dB]];1a b=i[a[dP]];1a d=1f;1i(1a g=f;g<=h;g++){if(j[g]&&b[g]===i[a[nP]](g)){d=1g;1l}};1d d};1c be(){bB[a[21]](1b,a[43],a[2g7]);1a b=1b;b[a[o1]]=1h}bf(be,bB);bv=be[a[23]];bv[a[66]]=1c(){bB[a[23]][a[66]][a[21]](1b);1a b=1b;b[a[4m]]=1j bd();b[a[210]](b[a[4m]],1f);b[a[4m]][a[139]][a[144]]=b;b[a[4m]][a[150]]({az:0,9d:0,lq:0,1jT:a[I5],4X:a[7d]})};bv[a[8T]]=1c(f){1a b=1b;1a d=f;if(b[a[1t]]&&b[a[1w]]&&b[a[1t]][a[1G]][a[cj]]){d=b[a[1w]][b[a[1t]][a[1G]][a[cj]]]};1d d};bv[a[x1]]=1c(h,d,m,f){1a j=1b;1a b=j[a[1t]];1a g;1a k=1h;if(!b){1d k};g=b[a[1G]];if(g[a[HT]]){k=g[a[HT]][m];if(l(k)){k=g[a[HT]][a[221]]}}1e{if(i(g[a[DD]])){k=g[a[DD]](h,d,m,f)}1e{if(!l(m)){k=m;if(b[a[5x]]){k=b[a[5x]]+m};if(b[a[5w]]){k=m+b[a[5w]]}}}};1d k};bv[a[3y]]=1c(h){1a d=1b;1a f=h;1a g;1a b;if(d[a[1t]]){b=d[a[1t]][a[1G]];d[a[4E]]=d[a[8T]](h);f=d[a[x1]](d[a[1H]],d[a[1n]],h,d[a[1w]]);if(f===1h||d[a[5t]]){d[a[o1]]=1h;d[a[4m]][a[213]](1g);1d};if(!1D(b[a[k7]])){if(!b[a[1jM]]&&b[a[k7]]>d[a[1X]]-2){b[a[k7]]=d[a[1X]]-2};d[a[4m]][a[150]](a[129],b[a[k7]]+a[149]);d[a[k7]]=b[a[k7]]}1e{d[a[4m]][a[150]](a[129],d[a[1X]]-2+a[149]);d[a[k7]]=d[a[1X]]-2};if(b[a[cj]]===1h){d[a[4m]][a[201]](a[DE]);d[a[4m]][a[201]](a[5z])}1e{if(b[a[cj]]){g=d[a[1w]][b[a[cj]]];d[a[4m]][a[199]](a[DE],g);d[a[4m]][a[199]](a[5z],g)}1e{if(b[a[wM]]){d[a[4m]][a[199]](a[DE],b[a[wM]]);d[a[4m]][a[199]](a[5z],b[a[wM]])}1e{d[a[4m]][a[199]](a[DE],h);d[a[4m]][a[199]](a[5z],h)}}}};if(f!=d[a[o1]]){d[a[4m]][a[199]](a[wP],f);d[a[o1]]=f;d[a[4m]][a[213]](1f,a[58])}};bv[a[132]]=1c(b){1b[a[4m]][a[132]](b);p[a[23]][a[132]][a[21]](1b,b)};bv[a[135]]=1c(){1a b=1b;if(!b[a[1w]]){1d};if(l(b[a[1B]])){b[a[213]](1g);1d}1e{b[a[213]](1f)};if(b[a[1X]]){b[a[150]](a[167],b[a[1X]]-2+a[149])};b[a[3y]](b[a[1B]])};1c bc(){bB[a[21]](1b,a[43],a[2fX]);1a b=1b;b[a[DF]]=1h;b[a[2fW]]=1g;b[a[ui]]=a[152];b[a[4E]]=a[58];b[a[o1]]=1h;b[a[at]]=2z;b[a[5t]]=1g}bf(bc,bB);bv=bc[a[23]];bv[a[66]]=1c(){bB[a[23]][a[66]][a[21]](1b);1a b=1b;b[a[4m]]=1j bd();b[a[4m]][a[150]]({az:0,9d:0,lq:0});b[a[4m]][a[139]][a[144]]=1b;r(b[a[4m]][a[139]],a[2h],b[a[ax]]);b[a[210]](b[a[4m]],1f);b[a[3M]]=1j bN();b[a[3M]][a[150]](a[xx],a[1jE]);b[a[210]](b[a[3M]],1f)};bv[a[132]]=1c(d){1a b=1b;b[a[4m]][a[139]][a[144]]=1h;bA(b[a[4m]][a[139]],a[2h],b[a[ax]]);b[a[4m]][a[132]](d);b[a[3M]][a[132]](d);p[a[23]][a[132]][a[21]](b,d)};bv[a[3y]]=1c(n){1a h=1b;1a b=h[a[1t]];1a k=h[a[aF]];1a d=h[a[3M]][a[139]];1a g,j,f;if(b){g=b[a[1G]];j=a[58];if(g){if(g[a[DF]]){j=g[a[DF]][n];if(l(j)){j=g[a[DF]][a[221]]}}1e{if(i(g[a[1jL]])){j=g[a[1jL]](h[a[1H]],h[a[1n]],n,h[a[1w]])}};if(m(j)||h[a[5t]]){h[a[4m]][a[213]](1g)}1e{if(j!==h[a[o1]]){h[a[4m]][a[199]](a[wP],j);h[a[o1]]=j;if(!m(g[a[cj]])){f=h[a[1w]][g[a[cj]]]}1e{if(!m(g[a[wM]])){f=g[a[wM]]}1e{f=a[177]}};h[a[4m]][a[199]]({1jF:f,lP:f})};h[a[4m]][a[213]](1f,a[58])}}};n=h[a[8T]](n);h[a[4E]]=n;d[k]=h[a[5t]]?a[58]:n;if(b&&b[a[6f]]&&b[a[6f]][a[gY]]===1f){d[a[162]](a[5z],n)};d=1h};bv[a[135]]=1c(){1a g=1b;1a f;if(!g[a[1w]]){1d};if(g[a[1X]]){g[a[150]](a[167],g[a[1X]]-2+a[149])};g[a[3y]](g[a[1B]]);if(!g[a[dg]]){g[a[dg]]=1f;if(1D(g[a[1X]])){f=27-2}1e{f=g[a[1X]]-2};1a d=g[a[1t]][a[1G]];if(d){if(!bl(d[a[lQ]])&&!bl(d[a[og]])){g[a[4m]][a[133]](d[a[lQ]],1k[a[1A]](f,d[a[og]]));g[a[og]]=d[a[og]]}1e{g[a[4m]][a[194]](f);g[a[4m]][a[195]](f);g[a[og]]=f}};1a b=1k[a[1F]](g[a[og]],g[a[at]]);1a h=1k[a[244]]((b-g[a[og]])*0.5);if(h>0){g[a[4m]][a[150]](a[154],h+a[149])};if(!l(g[a[1t]][a[1G]][a[Ie]])&&g[a[ui]]!=g[a[1t]][a[1G]][a[Ie]]){g[a[ui]]=g[a[1t]][a[1G]][a[Ie]];if(g[a[ui]]==a[3H]){g[a[211]](g[a[3M]],1f);g[a[3M]][a[150]]({I9:a[1jE]})}1e{if(g[a[ui]]==a[2fM]){g[a[150]](a[183],a[eV]);g[a[4m]][a[150]](a[183],a[184]);g[a[4m]][a[150]](a[152],a[jY]);g[a[3M]][a[150]](a[ij],(d[a[lQ]]||f)+a[149]);g[a[3M]][a[150]](a[xx],a[Et])}1e{if(g[a[ui]]==a[2fN]){g[a[150]](a[183],a[eV]);g[a[4m]][a[150]](a[183],a[184]);g[a[4m]][a[150]](a[3H],a[jY]);g[a[3M]][a[150]](a[c9],(d[a[lQ]]||f)+a[149]);g[a[3M]][a[150]](a[xi],a[Et])}}}}}};bv[a[ax]]=1c(b){b[a[91]]();1a d=1b[a[144]];if(i(d[a[1t]][a[1G]][a[Er]])){b[a[92]]();d[a[1t]][a[1G]][a[Er]](d[a[1H]],d[a[1n]],d[a[1B]],d[a[1w]])}1e{if(i(d[a[1t]][a[1G]][a[hj]])){b[a[92]]();d[a[1t]][a[1G]][a[hj]]({2y:d[a[9H]],1P:a[FN],2P:d[a[1H]],3l:d[a[1n]],5o:d[a[1B]],3i:d[a[1w]],5l:d[a[1m]]})}}};1c B(){bB[a[21]](1b,a[43],a[FP]);1a b=1b;b[a[4E]]=a[58];b[a[f9]]=1g}bf(B,bB);bv=B[a[23]];bv[a[66]]=1c(){bB[a[23]][a[66]][a[21]](1b);1a b=1b;b[a[3M]]=1j bN(a[2fL]);b[a[3M]][a[139]][a[144]]=1b;r(b[a[3M]][a[139]],a[2h],b[a[ax]]);b[a[210]](b[a[3M]],1f)};bv[a[3y]]=1c(f){1a b=1b;1a d=b[a[aF]];f=b[a[8T]](f);b[a[4E]]=f;b[a[3M]][a[139]][d]=f};bv[a[132]]=1c(b){bA(1b[a[3M]][a[139]],a[2h],1b[a[ax]]);1b[a[3M]][a[132]](b);p[a[23]][a[132]][a[21]](1b,b);xv=1h};bv[a[135]]=1c(){1a b=1b;1a h=1f;1a d=a[58];1a g=a[167];1a f=a[149];if(!b[a[1w]]||b[a[5t]]){b[a[213]](1g);1d}1e{b[a[213]](1f,d)};if(l(b[a[1B]])){b[a[1B]]=d};if(b[a[1X]]){b[a[150]](g,b[a[1X]]-2+f)};if(b[a[1t]][a[1G]]&&!l(b[a[1t]][a[1G]][a[1B]])){b[a[3y]](b[a[1t]][a[1G]][a[1B]])}1e{b[a[3y]](b[a[1B]])};if(b[a[1t]][a[1G]]&&b[a[1t]][a[1G]][a[2fK]]===1f){b[a[3M]][a[194]](b[a[127]])};if(b[a[1t]][a[1G]][a[k0]]||b[a[1t]][a[1G]][a[fb]]){if(i(b[a[1t]][a[1G]][a[fb]])){b[a[f9]]=b[a[1t]][a[1G]][a[fb]](b[a[1H]],b[a[1n]],b[a[1B]],b[a[1w]],b[a[1m]]);if(b[a[f9]]===1f){b[a[3M]][a[206]](a[1jH])}1e{b[a[3M]][a[207]](a[1jH])}};if(i(b[a[1t]][a[1G]][a[k0]])){h=b[a[1t]][a[1G]][a[k0]](b[a[1H]],b[a[1n]],b[a[1B]],b[a[1w]],b[a[1m]]);if(h===1f||h===1g){b[a[3M]][a[213]](h,d)}}}};bv[a[ax]]=1c(b){b[a[91]]();b[a[92]]();1a f=1b[a[144]];1a d=f[a[1B]];if(!f[a[f9]]){if(i(f[a[1t]][a[1G]][a[Er]])){f[a[1t]][a[1G]][a[Er]](f[a[1H]],f[a[1n]],f[a[1B]],f[a[1w]],f[a[1m]])}1e{if(i(f[a[1t]][a[1G]][a[hj]])){if(f[a[1t]][a[1G]]&&!l(f[a[1t]][a[1G]][a[1B]])){d=f[a[1t]][a[1G]][a[1B]]};f[a[1t]][a[1G]][a[hj]]({2y:f[a[9H]],1P:a[2fH],2P:f[a[1H]],3l:f[a[1n]],5o:d,3i:f[a[1w]],5l:f[a[1m]]})}}}};1c bu(){bB[a[21]](1b,a[43],a[2fI]);1a b=1b;b[a[165]]=a[jC];b[a[sl]]=1h;b[a[vU]]=0;b[a[4E]]=a[58];b[a[at]]=2z;b[a[4e]]=1h;b[a[x7]]=1g;b[a[3h]]=a[4G];b[a[cz]]=1g;b[a[5N]]=4}bf(bu,bB);bv=bu[a[23]];bv[a[66]]=1c(){bB[a[23]][a[66]][a[21]](1b);1a f=1b;f[a[cz]]=1g;f[a[5N]]=W[a[2k]][a[5N]]||4;f[a[150]](a[9j],a[2fJ]+f[a[5N]]+a[149]);1a d=(f[a[2F]]=1j bs(a[45],a[1jI]));f[a[210]](d,1f);d[a[2e]][a[139]][a[144]]=f;r(d[a[2e]][a[139]],a[h5],f[a[sy]]);r(d[a[2e]][a[139]],a[h6],f[a[sG]]);r(d[a[2e]][a[139]],a[2e],f[a[iX]]);r(d[a[2e]][a[139]],a[cV],f[a[rY]]);1a g=(f[a[dX]]=1j bN(a[2fO]));g[a[139]][a[144]]=f;g[a[194]](20);r(g[a[139]],a[2h],f[a[ng]]);r(g[a[139]],a[2i],f[a[ng]]);r(g[a[139]],a[cD],f[a[ng]]);f[a[210]](g);1a b=(f[a[e3]]=1j bN(a[2fP]));b[a[194]](20);b[a[139]][a[144]]=f;r(b[a[139]],a[2h],f[a[n2]]);r(b[a[139]],a[2i],f[a[n2]]);r(b[a[139]],a[cD],f[a[n2]]);f[a[210]](b);d=g=b=1h};bv[a[3y]]=1c(i){1a h=1b;1a g,f;1a d;1a b=1f;if(1D(1o(i))){i=0};if(h[a[3h]]==a[4G]){g=h[a[1t]][a[1G]][a[1A]];f=h[a[1t]][a[1G]][a[1F]];b=h[a[1t]][a[1G]][a[dm]]===1g?1g:1f}1e{g=h[a[4e]][a[1A]];f=h[a[4e]][a[1F]];b=h[a[4e]][a[dm]]===1g?1g:1f};if(!bl(g)){i=1k[a[1F]](i,g)};if(!bl(f)){i=1k[a[1A]](i,f)};h[a[1B]]=1o(i);if(b){d=V[a[hM]](i)}1e{d=i};h[a[4E]]=d;h[a[2F]][a[202]](a[2b],d);h[a[2F]][a[199]](a[2b],d)};bv[a[132]]=1c(d){1a b=1b;1b[a[139]][a[144]]=1h;bA(b[a[139]],a[2i],b[a[2fU]]);bA(1b[a[dX]][a[139]],a[2h],b[a[ng]]);bA(1b[a[dX]][a[139]],a[2i],b[a[ng]]);bA(1b[a[dX]][a[139]],a[cD],b[a[ng]]);bA(1b[a[e3]][a[139]],a[2h],b[a[n2]]);bA(1b[a[e3]][a[139]],a[2i],b[a[n2]]);bA(1b[a[e3]][a[139]],a[cD],b[a[n2]]);1b[a[dX]][a[139]][a[144]]=1h;1b[a[e3]][a[139]][a[144]]=1h;bA(1b[a[2F]][a[2e]][a[139]],a[h5],b[a[sy]]);bA(1b[a[2F]][a[2e]][a[139]],a[h6],b[a[sG]]);bA(1b[a[2F]][a[2e]][a[139]],a[2e],b[a[iX]]);bA(1b[a[2F]][a[2e]][a[139]],a[cV],b[a[rY]]);1b[a[2F]][a[2e]][a[139]][a[144]]=1h;1b[a[2F]][a[132]](d);1b[a[dX]][a[132]](d);1b[a[e3]][a[132]](d);p[a[23]][a[132]][a[21]](1b,d);b=1h};bv[a[135]]=1c(){1a i=1b;1a j=a[149];1a b=i[a[5N]];1a g=b+j;1a d=i[a[1kx]];1a k=a[3H];1a m;1a h;1a f;if(!i[a[1w]]||l(i[a[1B]])||i[a[5t]]){i[a[213]](1g);1d}1e{i[a[213]](1f)};i[a[1B]]=1o(i[a[1B]]);if(1D(i[a[1B]])){i[a[1B]]=0};if(i[a[3h]]==a[4G]){h=i[a[1t]][a[1G]]||{};if(i[a[1X]]){f=i[a[1X]]-2+j;i[a[150]](a[167],f);i[a[2F]][a[150]](a[167],f)};if(1D(d)){i[a[1kx]]=d=h[a[Lz]]||20};m=h[a[rX]];if(h[a[1ky]]){i[a[2F]][a[194]](i[a[127]]-26*2-2);i[a[dX]][a[150]](a[3H],b+j);i[a[e3]][a[150]](a[152],b+j);i[a[dX]][a[206]](a[EC]);i[a[e3]][a[206]](a[EC]);if(h[a[3d]]){i[a[2F]][a[150]](a[3d],h[a[3d]])};i[a[2F]][a[150]](a[EA],0);i[a[2F]][a[150]](a[xi],a[Ez]);i[a[2F]][a[150]](a[xx],a[Ez]);i[a[2F]][a[195]](d)}1e{i[a[2F]][a[194]](i[a[127]]-20-b*2);i[a[dX]][a[150]](a[3H],g);i[a[e3]][a[150]](a[3H],g);if(h[a[3d]]){i[a[2F]][a[150]](a[3d],h[a[3d]])};i[a[2F]][a[195]](d)};if(i[a[1w]][a[2R]]||i[a[1w]][a[7a]]){i[a[dX]][a[213]](1g);i[a[e3]][a[213]](1g)}1e{i[a[dX]][a[213]](1f);i[a[e3]][a[213]](1f)}}1e{h=i[a[4e]]||{};m=h[a[rX]];if(h[a[3d]]){k=h[a[3d]]};i[a[2F]][a[150]](a[3d],k);f=i[a[129]]-1.5;i[a[2F]][a[150]](a[167],f+j);if(h[a[1ky]]){i[a[dX]][a[150]](a[3H],0);i[a[e3]][a[150]](a[152],b-1+j);i[a[dX]][a[206]](a[EC]);i[a[e3]][a[206]](a[EC]);i[a[2F]][a[133]](i[a[127]]-26*2-4,f);i[a[2F]][a[150]](a[EA],0);i[a[2F]][a[150]](a[xi],a[Ez]);i[a[2F]][a[150]](a[xx],a[Ez])}1e{i[a[2F]][a[133]](i[a[127]]-26-4,f)}};if(m===1g||i[a[1w]][a[2R]]||i[a[1w]][a[7a]]){i[a[2F]][a[202]](a[1lo],1f)}1e{i[a[2F]][a[202]](a[1lo],1g)};if(h[a[Ey]]){i[a[2F]][a[199]](a[Gf],h[a[Ey]])}1e{i[a[2F]][a[199]](a[Gf],a[2fV])};i[a[3y]](i[a[1B]])};bv[a[ng]]=1c(f){1a k=1b[a[144]];1a j=k[a[3h]];1a m,g;f[a[92]]();f[a[91]]();if(f[a[85]]==a[2h]||f[a[85]]==a[cD]){1d 1g};if(j==a[4G]){m=k[a[1t]][a[1G]][a[sA]]||1;g=k[a[1t]][a[1G]][a[Eb]]||100;if(!l(k[a[sl]])){k[a[sl]][a[hb]]()}}1e{m=k[a[4e]][a[sA]]||1;g=k[a[4e]][a[Eb]]||100};g=1k[a[1F]](g,100);1a i=V[a[e1]](k[a[1B]]);1a h=i+m;k[a[fX]](h);if(j==a[4G]){k[a[3R]](1g,a[dr])};1a d=gI(1c(){1a d=V[a[e1]](k[a[1B]]);1a b=d+m;if(!bl(b)){k[a[fX]](b);if(j==a[4G]){k[a[3R]](1g,a[dr])}}},g);r(1N,a[4i],b);1c b(f){bA(1N,a[4i],b);gR(d)}};bv[a[n2]]=1c(f){1a k=1b[a[144]];1a j=k[a[3h]];1a m,g;f[a[92]]();f[a[91]]();if(f[a[85]]==a[2h]||f[a[85]]==a[cD]){1d 1g};if(j==a[4G]){m=k[a[1t]][a[1G]][a[sA]]||1;g=k[a[1t]][a[1G]][a[Eb]]||100;if(!l(k[a[sl]])){k[a[sl]][a[hb]]()}}1e{m=k[a[4e]][a[sA]]||1;g=k[a[4e]][a[Eb]]||100};g=1k[a[1F]](g,100);1a i=V[a[e1]](k[a[1B]]);1a h=i-m;k[a[fX]](h);if(j==a[4G]){k[a[3R]](1g,a[eu])};1a d=gI(1c(){1a d=V[a[e1]](k[a[1B]]);1a b=d-m;if(!bl(b)){k[a[fX]](b);if(j==a[4G]){k[a[3R]](1g,a[eu])}}},g);r(1N,a[4i],b);1c b(f){bA(1N,a[4i],b);gR(d)}};bv[a[sy]]=1c(h){1a o=1b[a[144]];1a n=o[a[3h]];1a l;1a k;1a i=h[a[111]];1a p=1E(1b[a[2b]]);1a g=V[a[ae]];1a f=V[a[pU]];1a m=1j 5s(a[lw]+g+a[lv],a[cN]);if(n==a[4G]){k=1o(o[a[1t]][a[1G]][a[1A]])}1e{k=1o(o[a[4e]][a[1A]])};if(i==9||i==13){l=p;l=1E(l)[a[56]](m,a[58]);l=V[a[e1]](l);h[a[91]]();o[a[fX]](l);o[a[3R]](1g,i);1d}1e{if(i==27){1a d=o[a[1t]][a[1m]];l=o[a[1B]]=o[a[1w]][d];h[a[91]]();o[a[fX]](V[a[e1]](l));o[a[3R]](1f,i);1d}};h[a[92]]();if(h[a[lI]]!=a[Gu]){1a j=[46,8,9,27,13];1a b=[65,67,86,88];if(j[a[19]](i)!==-1||(b[a[19]](i)!==-1&&h[a[113]]===1f)||(i>=35&&i<38)||i==39){1d}};if((p==a[215]||p==a[2fT])&&!h[a[5u]]&&(i==48||i==96)){h[a[91]]();1d 1g};if(i>=197){Gp[a[91]]();1d 1g};if((h[a[5u]]||i<48||i>57)&&(i<96||i>105)){if(!h[a[5u]]&&f[a[19]](i)!==-1){if(k>=0){h[a[91]]();1d 1g}1e{if(p[a[19]](g)>=0){h[a[91]]();1d 1g}}}1e{if(!h[a[5u]]&&(i==189||i==109||h[a[lI]]==a[Gu])){if(k>=0){h[a[91]]();1d 1g}1e{if(p[a[19]](a[217])>=0){h[a[91]]();1d 1g}}}1e{h[a[91]]();1d 1g}}}};bv[a[sG]]=1c(d){1a m=1b[a[144]];1a k=m[a[3h]];1a i,j;1a f=d[a[111]];1a o=1b[a[2b]];1a g=[46,8,9,27,13,110,190];1a n;1a h;1a b=V[a[ae]];j=1o(V[a[e1]](m[a[1B]]));if(k==a[4G]){n=m[a[1t]][a[1G]][a[sA]]||1;h=m[a[1t]][a[1G]][a[1A]]}1e{n=m[a[4e]][a[sA]]||1;h=m[a[4e]][a[1A]]};d[a[92]]();if(1k[a[243]](j)>=0&&1E(o)[a[19]](b)>=0&&!d[a[5u]]&&(f==48||f==96)){d[a[91]]();1d};if(!l(h)&&h<0){g[a[1s]](189);g[a[1s]](109)};if(g[a[19]](f)!==-1||(f==65&&d[a[113]]===1f)||(f>=35&&f<=40)){if(f==38){d[a[91]]();i=j+n;m[a[fX]](i)}1e{if(f==40){d[a[91]]();i=j-n;m[a[fX]](i)}1e{if(f==46||f==8){}}};1d}};bv[a[iX]]=1c(h){1a p=1b[a[144]];1a r=1b[a[2b]];1a o=p[a[3h]];1a b=1f;1a g=V[a[ae]];1a q=V[a[o7]];1a k=1j 5s(a[lw]+g+a[lv],a[cN]);1a f,m,j,d,l,n;1a i;if(!p){1d};if(o==a[4G]){i=1o(p[a[1t]][a[1G]][a[1A]]);b=p[a[1t]][a[1G]][a[dm]]===1g?1g:1f}1e{i=1o(p[a[4e]][a[1A]]);b=p[a[4e]][a[dm]]===1g?1g:1f};l=cd[a[Ec]](r,q,0,1b[a[fa]]);r=r[a[56]](k,a[58]);n=1j 5s(a[iB]+g,a[cN]);if(i>=0){r=r[a[56]](/[^0-9]/g,a[58])}1e{if((r[a[37]](n)||[])[a[59]]>1){r=r[a[56]](1j 5s(a[iB]+g+a[1ls]+g+a[1lr]),a[55])};if(r[a[19]](a[217])>0||(r[a[37]](/\\-/g)||[])[a[59]]>1){r=r[a[56]](/\\-([^\\-]*)$/,a[55])}};m=1b[a[2b]][a[59]];if(b){r=V[a[hM]](r)};j=r[a[59]];f=1b[a[fa]];1b[a[2b]]=r;if(1D(1o(f))){1d};if(m!=j){if(f==m){1b[a[8M]](r[a[59]],r[a[59]])}1e{1ll=cd[a[Ec]](r,q,0,f);d=f+(1ll-l);1b[a[8M]](d,d)}}1e{1b[a[8M]](f,f)}};bv[a[fX]]=1c(d){1a b=1b;b[a[3y]](d)};bv[a[3R]]=1c(b,g){1a i=1b;1a d={};1a h=i[a[3h]];1a f;if(g==13||g==9){i[a[x7]]=1f};f=V[a[fV]](i[a[2F]][a[2e]][a[139]][a[2b]]);if(f!=i[a[1B]]){i[a[fX]](f)};b=!!b;d[a[85]]=a[4Q];d[a[132]]=1f;d[a[8D]]=1f;d[a[5X]]=i[a[1B]];d[a[1n]]=i[a[1n]];d[a[1H]]=i[a[1H]];d[a[dj]]=b;d[a[8i]]=g;i[a[cz]]=1f;i[a[136]](d);if(y[a[38]]&&h==a[4G]){if(i[a[2F]]&&i[a[2F]][a[2e]]&&i[a[2F]][a[2e]][a[139]]){i[a[2F]][a[2e]][a[139]][a[cV]]()}}};bv[a[rY]]=1c(){1a b=1b[a[144]];if(!b[a[x7]]&&b[a[3h]]==a[4G]&&b[a[1t]][a[1G]]&&b[a[1t]][a[1G]][a[rX]]!==1g){b[a[fX]](V[a[fV]](1b[a[2b]]));b[a[3R]](1g,a[1le]);b[a[x7]]=1g;1d};b[a[x7]]=1g;if(b[a[cz]]){1d};if(y[a[38]]&&!y[a[39]]){b[a[3R]](1g,a[1le])}};bv[a[p7]]=1c(){1a b=1b;b[a[3h]]=1h;b[a[2F]][a[2e]][a[139]][a[cV]]()};bv[a[p8]]=1c(){1a b=1b;b[a[2F]][a[2e]][a[139]][a[eI]]()};1c P(){bB[a[21]](1b,a[43],a[2fS]);1a b=1b;b[a[165]]=a[9G];b[a[4E]]=a[58];b[a[at]]=2z;b[a[3h]]=a[4G];b[a[a3]]=1h;b[a[4U]]=1h;b[a[pp]]=1h;b[a[rW]]=1g;b[a[s4]]=1f;b[a[f5]]=1g;b[a[kM]]=1g;b[a[f9]]=1g;b[a[hA]]=a[58];b[a[3q]]=1;b[a[CO]]=1h}bf(P,bB);bv=P[a[23]];bv[a[66]]=1c(){bB[a[23]][a[66]][a[21]](1b);1a d=1b;1a g=(d[a[yu]]=1j bN(a[2fQ]));d[a[210]](g,1f);1a f=(d[a[3K]]=1j bN(a[2fR]));g[a[210]](f,1f);1a b=(d[a[La]]=1j bN(a[2cY]));g[a[210]](b,1f);d[a[139]][a[144]]=d;r(d[a[139]],a[2h],d[a[sq]])};bv[a[3y]]=1c(m){1a j=1b;1a g=m;1a k=j[a[aF]];1a h;1a f;1a n;1a b;1a d;if(!j[a[1t]]||!j[a[1w]]){1d};b=j[a[1t]][a[1m]];if(j[a[3h]]==a[eB]){h=j[a[1t]][a[1J]];if(h&&h[a[85]]==a[e8]&&i(h[a[7f]])){h=h[a[7f]](j[a[1H]],j[a[1n]],j[a[1w]][b],j[a[1w]],b);if(l(h)){h={}}}}1e{if(j[a[3h]]==a[7D]){h=j[a[1t]][a[4s]];if(l(m)){m=a[58]}}1e{h=j[a[1t]][a[1G]];if(l(m)){m=a[58]}}};if(h){f=h[a[8Z]];n=h[a[8V]]};m=j[a[kA]](m,h);if(j[a[3h]]==a[eB]){if(i(h[a[6O]])){m=h[a[6O]](j[a[1H]],j[a[1n]],g,j[a[1w]],j[a[1t]][a[1m]],j[a[1t]])}}1e{if(j[a[3h]]==a[4G]){if(l(f)||l(n)||h[a[wX]]===1f){m=j[a[8T]](g)}}};if(l(m)){m=a[58]};j[a[4E]]=m;d=j[a[3K]][a[139]];d[k]=m;d=1h};bv[a[2cX]]=1c(d){1a b=1b;b[a[1B]]=d;b[a[3y]](d)};bv[a[3S]]=1c(k,i,d,f,b){1a j=1b;1a h,g,m;if(j[a[3h]]!=a[4G]||l(j[a[1t]])){1d k};h=j[a[1t]][a[1G]]||{};if(h){g=h[a[8Z]];m=h[a[8V]]};if(l(g)||l(m)||h[a[wX]]===1f){1d bB[a[23]][a[3S]][a[63]](1b,1Y)};1d j[a[kA]](k,h)};bv[a[kA]]=1c(n,j,d){1a k=1b;1a g;1a p;1a i;1a f,h;1a o;1a m=[];1a b=a[157];if(l(j)){1d n};g=j[a[8Z]];p=j[a[8V]];if(l(g)||l(p)){1d n};if(bi(d)){i=d}1e{i=k[a[CI]](j)};if(k[a[3h]]!=a[7D]&&j[a[tq]]===1f){if(!l(j[a[kB]])){b=j[a[kB]]};o=n[a[54]](b);1i(f=0,h=i[a[59]];f<h;f++){if(o[a[19]](i[f][g])>=0){m[a[1s]](i[f][p])}};if(m[a[59]]>0){n=m[a[61]](b)}}1e{1i(f=0,h=i[a[59]];f<h;f++){if(n==i[f][g]){n=i[f][p];1l}}};1d n};bv[a[132]]=1c(d){1a b=1b;b[a[139]][a[144]]=1h;b[a[4U]]=1h;bA(b[a[139]],a[2h],b[a[sq]]);if(b[a[a3]]){b[a[fc]]()};b[a[a3]]=1h;b[a[3K]][a[132]](d);b[a[La]][a[132]](d);b[a[yu]][a[132]](d);p[a[23]][a[132]][a[21]](b,d)};bv[a[135]]=1c(f){1a h=1b;1a d;1a j=a[58];1a g;if(!h[a[1w]]||!h[a[1t]]){1d};d=h[a[1t]][a[1m]];h[a[3y]](h[a[1B]]);1a k=h[a[3K]];1a b=h[a[La]];1a m=h[a[yu]];if(h[a[3h]]==a[4G]){if(h[a[5t]]||h[a[1w]][a[2R]]||h[a[1w]][a[7a]]){h[a[213]](1g);1d}1e{h[a[213]](1f,j)};if(h[a[1t]]&&h[a[1t]][a[1G]]){h[a[4e]]=h[a[1t]][a[1G]]};g=h[a[4e]];k[a[194]](h[a[127]]-24-1);b[a[194]](20);if(1D(h[a[129]])){h[a[129]]=g[a[Lz]]||27};if(!1D(h[a[129]])){m[a[195]](h[a[129]]-6);k[a[150]](a[ke],h[a[129]]-6+a[149]);b[a[133]](20,h[a[129]]-6)};if(h[a[4U]]&&i(h[a[4U]][a[d4]])&&h[a[4U]][a[d4]](h[a[1w]])){h[a[3K]][a[206]](a[oG])}1e{h[a[3K]][a[207]]()};if(g[a[fb]]){if(i(g[a[fb]])){h[a[f9]]=g[a[fb]](h[a[1H]],h[a[1n]],h[a[1B]],h[a[1w]],h[a[1m]]);if(h[a[f9]]===1f){h[a[yu]][a[206]](a[2a6])}1e{h[a[yu]][a[207]]()}}};h[a[yH]]()}1e{if(h[a[3h]]==a[7D]){if(h[a[1t]]&&h[a[1t]][a[4s]]){h[a[4e]]=h[a[1t]][a[4s]]};g=h[a[4e]];k[a[194]](h[a[127]]-24-1);b[a[194]](20);if(1D(h[a[129]])){h[a[129]]=g[a[Lz]]||27};if(!1D(h[a[129]])){m[a[195]](h[a[129]]-2);k[a[150]](a[ke],(h[a[129]]-2)+a[149]);b[a[133]](20,h[a[129]]-2)};h[a[yH]]()}1e{if(h[a[1t]]&&h[a[1t]][a[1J]]){h[a[4e]]=h[a[1t]][a[1J]]};if(h[a[4e]]&&h[a[4e]][a[85]]==a[e8]&&i(h[a[4e]][a[7f]])){h[a[4e]]=h[a[4e]][a[7f]](h[a[1H]],h[a[1n]],h[a[1w]][d],h[a[1w]],d);if(l(h[a[4e]])){h[a[4e]]={}}};g=h[a[4e]];k[a[194]](h[a[127]]-24);if(!1D(h[a[129]])){k[a[150]](a[ke],h[a[129]]+a[149]);m[a[195]](h[a[129]]-2);b[a[133]](20,h[a[129]]-2)};if(!l(g[a[s4]])){h[a[s4]]=!!g[a[s4]]};if(f===1f){1d};if(h[a[s4]]){h[a[xY]]()}}}};bv[a[3R]]=1c(b,d){1a g=1b;1a f;1a h;if(g[a[3h]]==a[7D]){f=g[a[1B]];h=g[a[kA]](f,g[a[4e]]);g[a[136]]({1P:a[CN],4M:h,hl:f});1d};g[a[136]]({1P:a[4Q],gA:1f,pI:g[a[1B]],3l:g[a[1n]],2P:g[a[1H]],qr:d})};bv[a[xY]]=1c(){1a m=1b;1a g;1a f;1a h;1a j;1a n=1g;1a k=m[a[4e]];1a o;if(m[a[3h]]==a[4G]&&!l(m[a[4U]])){m[a[3q]]=m[a[4U]][a[3q]]};o=m[a[3q]];g=m[a[KV]]();if(m[a[3h]]==a[7D]&&!m[a[f5]]&&!l(m[a[4U]])&&i(m[a[4U]][a[hb]])){m[a[4U]][a[hb]]()};if(!l(m[a[4U]][a[8Q]])&&!l(m[a[4U]][a[8Q]][a[139]])&&m[a[4U]][a[8Q]]!==m){m[a[4U]][a[8Q]][a[fc]]()};m[a[4U]][a[8Q]]=m;if(m[a[f5]]){m[a[f5]]=1g;if(m[a[3h]]==a[eB]){g[a[213]](1g)}1e{m[a[fc]]()};if(m[a[3h]]!=a[eB]){1d};1a d={};d[a[85]]=a[4Q];d[a[1n]]=m[a[1n]];d[a[1H]]=m[a[1H]];d[a[5X]]=m[a[1B]];if(m[a[3h]]!=a[7D]&&k[a[tq]]===1f){d[a[dj]]=1g;d[a[132]]=1f}1e{d[a[132]]=1g;d[a[dj]]=1f};m[a[136]](d);1d};if(m[a[3h]]!=a[7D]&&i(m[a[4U]][a[d4]])&&m[a[4U]][a[d4]](m[a[1w]])){1d};m[a[f5]]=1f;g[a[213]](1f);m[a[pZ]](g);j=g[a[139]][a[3O]];f=g[a[139]][a[3T]];h=1o(g[a[205]](a[167])[a[56]](a[149],a[58]));if(f>=h){f=h;n=1f;j+=15};m[a[yH]](g);g[a[133]](1k[a[1F]](j,m[a[127]]-2),f);if(n&&1N[a[Ef]]){1a b=1N[a[Ef]](a[8W]);if(b&&b[0]){g[a[139]][a[107]]=cd[a[7n]](b[0],o)[a[154]]-cd[a[7n]](g[a[139]],o)[a[154]]};b=1h}};bv[a[yH]]=1c(d){1a i=1b;1a m,k,h;1a g,j,b;1a f=W[a[2k]][a[5N]];1a n=i[a[3q]];if(!i[a[f5]]){1d};if(l(d)){d=i[a[KV]]()};if(i[a[3h]]==a[eB]){m=i[a[131]];k=i[a[130]];h=i[a[129]];i[a[4U]][a[eN]](d,k,m-1,h,n)}1e{if(i[a[3h]]==a[7D]){b=i[a[4U]][a[6u]](0,i[a[1t]][a[1n]]);g={x:b[a[130]],y:b[a[131]]};g[a[131]]=i[a[fY]]+i[a[tI]]-2;if(i[a[4U]][a[7r]]&&!1D(i[a[4U]][a[6M]])){g[a[131]]+=i[a[4U]][a[6M]]};h=0;i[a[4U]][a[eN]](d,g[a[130]]+f,g[a[131]]-1,h,n)}1e{b=i[a[4U]][a[6u]](i[a[1H]],i[a[1n]]);g={x:b[a[130]],y:b[a[131]]};j={3b:b[a[127]],4X:b[a[129]]};if(b[a[129]]>i[a[129]]*1.5){g[a[131]]=g[a[131]]+(b[a[129]]*0.5)-(i[a[129]]*0.5)-1;j[a[129]]=1k[a[1A]](j[a[129]],i[a[129]])};h=i[a[129]];m=g[a[131]];m+=h;i[a[4U]][a[eN]](d,g[a[130]]+f,g[a[131]]-1,j[a[129]],n)}}};bv[a[sq]]=1c(b){1a d=1b[a[144]];if(b){if(b[a[109]]>1||d[a[f9]]){1d};b[a[92]]();b[a[91]]()};d[a[xY]]()};bv[a[pZ]]=1c(p){1a w=1b;1a k=1g;1a g=a[P4];1a r;1a n,s;1a u;1a y,z;1a m;1a A;1a o=w[a[1B]];1a f=a[157];1a d;1a v=w[a[4e]];1a t=v[a[tq]];1a x=v[a[1lG]];1a b=w[a[hA]];1a j=w[a[3h]]==a[7D]?1f:1g;if(!w[a[1t]]){1d};if(j){t=1g};if(!t){x=1g};if(!l(v[a[kB]])){f=v[a[kB]]};if(l(o)){o=a[58]};d=w[a[1t]][a[1m]];m=v[a[8Z]];A=v[a[8V]];if(!l(m)&&!l(A)){k=1f};r=w[a[CI]](v);n=v[a[6O]];s=v[a[PV]];w[a[kM]]=1g;if(x===1f){if(r[a[59]]==1E(o)[a[54]](f)[a[59]]){g+=a[2a7]+b+a[aj]}1e{g+=a[2a5]+b+a[aj]}};if(bi(r)&&r[a[59]]>0){1i(1a h=0,q=r[a[59]];h<q;h++){y=u=r[h];if(k){u=r[h][m];z=y=r[h][A]};if(j){if(i(s)){y=s(w[a[1n]],d,r[h])}1e{y=cd[a[qc]](y)}}1e{if(i(s)){y=s(w[a[1H]],w[a[1n]],y,w[a[1w]],d,r[h])}1e{if(i(n)){y=n(w[a[1H]],w[a[1n]],y,w[a[1w]],d)}1e{y=cd[a[qc]](y)}}};if(t===1f){if(o[a[54]](f)[a[19]](u)>=0){w[a[kM]]=1f;g+=a[2a4]+u+a[2a1]+y+a[aj]}1e{g+=a[rE]+u+a[2a2]+y+a[aj]}}1e{if(j){if(k){if(z==o){g+=a[yn]+u+a[3C]+y+a[aj]}1e{g+=a[rE]+u+a[3C]+y+a[aj]}}1e{if(u==o){g+=a[yn]+u+a[3C]+y+a[aj]}1e{g+=a[rE]+u+a[3C]+y+a[aj]}}}1e{if(u==o){g+=a[yn]+u+a[3C]+y+a[aj]}1e{g+=a[rE]+u+a[3C]+y+a[aj]}}}}}1e{g+=a[2a3]};g+=a[rA];p[a[139]][a[44]]=g};bv[a[KV]]=1c(){1a f=1b;1a d=f[a[4e]];1a b=f[a[a3]];1a g=f[a[3q]];if(l(b)||l(b[a[139]])){b=f[a[a3]]=1j O(a[O9]);b[a[139]][a[144]]=f;b[a[199]](a[nW],f[a[4U]][a[kK]]+a[217]+a[1lt]+a[217]+f[a[1t]][a[1m]]);if(d[a[CF]]){b[a[150]](a[167],d[a[CF]]+a[149])};if(d[a[CG]]){b[a[150]](a[3d],d[a[CG]])};r(b[a[139]],a[2i],f[a[iw]]);r(b[a[139]],a[qY],f[a[6H]]);r(b[a[139]],a[qz],f[a[6H]]);if(y[a[2]]){r(b[a[139]],a[2X],f[a[6H]])};f[a[f5]]=1g;b[a[213]](1g);b[a[134]](0,0);b[a[150]](a[183],a[184]);if(g!=1){b[a[150]]({kw:a[CE]+g+a[173],CB:a[1lu]})}1e{b[a[150]]({kw:a[192]})};f[a[pp]][a[185]](b[a[139]])};1d b};bv[a[iw]]=1c(i){1a r=1b[a[144]];1a t=i[a[77]]||i[a[93]];1a k=1g;1a q=r[a[4e]];1a o=q[a[tq]];1a s=q[a[1lG]];1a g=a[157];1a u;1a p;i[a[92]]();i[a[91]]();if(i[a[109]]>1){1d};if(r[a[3h]]==a[7D]){o=1g};if(!o){s=1g};if(!l(q[a[kB]])){g=q[a[kB]]};if(o!==1f){1U(t[a[95]]){u=t[a[163]](a[5Q]);if(!l(u)){1l};t=t[a[95]]};if(l(u)){1d};r[a[f5]]=1f;r[a[a3]][a[213]](1g);r[a[1lI]](u);if(r[a[3h]]==a[eB]&&r[a[s4]]){r[a[3R]](1g,a[2h])};1d};1U(t[a[95]]){u=t[a[163]](a[5Q]);p=t[a[163]](a[s8]);if(!l(u)){p=p===a[cn]||p===1f?1f:1g;p=!p;t[a[162]](a[s8],p);if(u==a[1lF]){k=1f;1l};if(p){cd[a[180]](t,a[sL]);cd[a[180]](t,a[sM])}1e{cd[a[181]](t,a[sL]);cd[a[181]](t,a[sM])};1l};t=t[a[95]]};if(l(u)){1d};r[a[f5]]=1f;if(k){1a h=t[a[95]];1a f=h[a[KZ]];1a j,m;1a d;1a n;1a b;r[a[1B]]=a[58];if(p){r[a[kM]]=1f;b=[];1i(j=0,m=f[a[59]];j<m;j++){d=f[j];u=d[a[163]](a[5Q]);d[a[162]](a[s8],p);cd[a[180]](d,a[sL]);cd[a[180]](d,a[sM]);if(u!=a[1lF]){b[b[a[59]]]=u}};r[a[1B]]=b[a[61]](g)}1e{r[a[kM]]=1g;1i(j=0,m=f[a[59]];j<m;j++){d=f[j];u=d[a[163]](a[5Q]);d[a[162]](a[s8],p);cd[a[181]](d,a[sL]);cd[a[181]](d,a[sM])}};r[a[3y]](r[a[1B]])}1e{r[a[1lJ]](u,p);if(s){h=cd[a[g2]](a[2a8]);if(h&&h[a[59]]>0&&!l(h[0])){d=h[0];if(p){n=r[a[CI]](q);if(n[a[59]]==1E(r[a[1B]])[a[54]](g)[a[59]]){d[a[162]](a[s8],1f);cd[a[180]](d,a[sL]);cd[a[180]](d,a[sM])}}1e{d[a[162]](a[s8],1g);cd[a[181]](d,a[sL]);cd[a[181]](d,a[sM])}}}}};bv[a[fc]]=1c(){1a b=1b;if(!b[a[a3]]){1d};b[a[f5]]=1g;if(b[a[3h]]==a[4G]&&b[a[4e]]&&b[a[4e]][a[tq]]===1f){b[a[3R]](1g,a[2h])};bA(b[a[a3]][a[139]],a[2i],b[a[iw]]);bA(b[a[a3]][a[139]],a[qY],b[a[6H]]);bA(b[a[a3]][a[139]],a[qz],b[a[6H]]);if(y[a[2]]){bA(b[a[a3]][a[139]],a[2X],b[a[6H]])};if(b[a[a3]][a[139]][a[95]]!==1h){b[a[a3]][a[139]][a[95]][a[188]](b[a[a3]][a[139]])};b[a[a3]][a[132]](1g);b[a[a3]]=1h;if(b[a[4U]]&&!l(b[a[4U]])){b[a[4U]][a[8Q]]=1h}};bv[a[CI]]=1c(f){1a g=1b;1a b,d;if(g[a[3h]]==a[eB]&&bi(g[a[CO]])){1d g[a[CO]]};b=f[a[h1]];d=f[a[h0]];if(g[a[3h]]==a[7D]){if(i(d)){b=d(g[a[1n]],g[a[1t]][a[1m]],g[a[1t]])}}1e{if(i(d)){b=d(g[a[1H]],g[a[1n]],g[a[1w]],g[a[1t]][a[1m]])}};if(!bi(b)){b=[]};if(g[a[3h]]==a[eB]){g[a[CO]]=b};1d b};bv[a[1lI]]=1c(f){1a d=1b;1a b;if(d[a[3h]]==a[7D]){b=f;f=d[a[kA]](f,d[a[4e]]);d[a[136]]({1P:a[CN],4M:f,hl:b});if(d[a[4e]][a[M9]]!==1g){d[a[1B]]=f;d[a[3y]](d[a[1B]])};d[a[fc]]();1d};d[a[1B]]=f;d[a[3y]](d[a[1B]]);if(d[a[3h]]!=a[eB]){d[a[136]]({1P:a[4Q],gA:1g,pI:f,3l:d[a[1n]],2P:d[a[1H]],qr:-1})};d[a[fc]]()};bv[a[1lJ]]=1c(m,g){1a j=1b;1a d=a[157];1a h=j[a[1B]];if(!j[a[4e]]){1d};if(l(h)){h=a[58]};if(!l(j[a[4e]][a[kB]])){d=j[a[4e]][a[kB]]};if(g){if(!j[a[kM]]||h===a[58]||h===a[177]){h=m;j[a[kM]]=1f}1e{h+=d+m}}1e{1a b=h[a[54]](d);1a k=[];1i(1a f=0,i=b[a[59]];f<i;f++){if(b[f]!=m){k[a[1s]](b[f])}};if(k[a[59]]<=0){h=a[58];j[a[kM]]=1g}1e{h=k[a[61]](d)}};j[a[1B]]=h;j[a[3y]](h)};bv[a[6H]]=1c(b){b[a[92]]()};bv[a[kz]]=1c(d){1a b=1b;if(b[a[3h]]==a[eB]){1d};if(!b[a[147]]){b[a[147]]=1j O(a[1lL]);if(b[a[145]]){b[a[145]][a[210]](b[a[147]])}1e{b[a[147]]=1h}};b[a[147]][a[213]](1f)};bv[a[tf]]=1c(){1a b=1b;if(!b[a[147]]||b[a[3h]]==a[eB]){1d};b[a[147]][a[213]](1g)};1c z(){bB[a[21]](1b,a[43],a[2a9])}bf(z,bB);bv=z[a[23]];bv[a[66]]=1c(){bB[a[23]][a[66]][a[21]](1b);1a b=1b;b[a[iL]]=1j O(a[1lE]);b[a[210]](b[a[iL]]);b[a[3M]]=1j bN();b[a[3M]][a[150]](a[190],a[oC]);b[a[210]](b[a[3M]],1f);b[a[3M]][a[150]](a[183],a[eV])};bv[a[3y]]=1c(g){1a d=1b;1a f=d[a[aF]];1a b=d[a[1t]];g=d[a[8T]](g);d[a[4E]]=g;if(b[a[1G]][a[LM]]!==1g){d[a[3M]][a[139]][f]=g};if(b&&b[a[6f]]&&b[a[6f]][a[gY]]===1f){d[a[3M]][a[139]][a[162]](a[5z],g)}};bv[a[132]]=1c(b){1b[a[3M]][a[132]](b);1b[a[iL]][a[132]](b);p[a[23]][a[132]][a[21]](1b,b)};bv[a[135]]=1c(){1a p=1b;1a g=p[a[1t]];1a r=a[58];if(!p[a[1w]]){1d};if(1D(p[a[1X]])){p[a[1X]]=27};p[a[3y]](p[a[1B]]);if((l(p[a[1w]][p[a[1m]]])&&l(p[a[4E]]))||p[a[5t]]){p[a[213]](1g);1d}1e{p[a[1B]]=p[a[1w]][p[a[1m]]];p[a[213]](1f,r)};if(bl(1o(p[a[1B]]))){p[a[213]](1g);1d}1e{p[a[213]](1f,r)};p[a[1lK]]();p[a[195]](p[a[1X]]-2);1a b=p[a[iL]];b[a[202]](a[165],a[1lE]);if(g[a[1G]][a[169]]){b[a[180]](g[a[1G]][a[169]])};1a d,s,h,j,o,f;1a q=p[a[127]]+1;d=1k[a[244]]((p[a[1X]]*3)/4);s=1o(p[a[1B]]);h=g[a[1G]][a[1F]];j=g[a[1G]][a[1A]];j=bl(j)?0:j;h=bl(h)?100:h;o=h-j;1a u=1k[a[244]]((q*1k[a[243]](j))/o);u=1D(u)?0:u;1a k=1k[a[244]]((q*j)/o);k=1D(k)?0:k;1a i=1k[a[244]]((q*h)/o);i=1D(i)?0:i;1a t=1k[a[244]]((q*s)/o);if(h<=0){f=1k[a[243]](t-i);1a n=1k[a[1A]](u-1k[a[243]](t),q);if(n>=q){f=0};b[a[133]](1k[a[1A]](f,q),d);b[a[134]](1k[a[1F]](n,0),1k[a[244]]((p[a[1X]]-d)*0.5)-1);p[a[iL]][a[206]](a[LC])}1e{if(j>=0&&h>=0){f=t-k;f=f<0?0:f;b[a[133]](1k[a[1A]](f,q),d);b[a[134]](u-1k[a[243]](k),1k[a[244]]((p[a[1X]]-d)*0.5)-1);p[a[iL]][a[206]](a[Ci])}1e{if(j<0&&h>0){1a m=g[a[1G]][a[7n]]||0;if(s>0){f=t;b[a[133]](f,d);b[a[134]](u,1k[a[244]]((p[a[1X]]-d)*0.5)-1);p[a[iL]][a[206]](a[LH]);p[a[3M]][a[150]](a[c9],m+a[149]);p[a[3M]][a[150]](a[ij],0)}1e{if(s<0){f=1k[a[243]](t);b[a[133]](f,d);b[a[134]](u-f,1k[a[244]]((p[a[1X]]-d)*0.5)-1);p[a[iL]][a[206]](a[LQ]);p[a[3M]][a[150]](a[ij],m+10+a[149]);p[a[3M]][a[150]](a[c9],0)}1e{f=t;b[a[133]](f,d);b[a[134]](u,1k[a[244]]((p[a[1X]]-d)*0.5)-1);p[a[iL]][a[206]](a[Ci]);p[a[3M]][a[150]](a[c9],m+a[149]);p[a[3M]][a[150]](a[ij],0)}}}}}};1c bP(){bB[a[21]](1b,a[43],a[2ae]);1a b=1b;b[a[dC]]=1f}bf(bP,bB);bv=bP[a[23]];bv[a[66]]=1c(){bB[a[23]][a[66]][a[21]](1b);1a b=1b;b[a[150]](a[9j],a[ty]);b[a[150]](a[ke],a[JB]);if(y[a[7]]()){b[a[9]]=1N[a[10]](a[9]);b[a[139]][a[185]](b[a[9]]);b[a[tA]]=b[a[9]][a[11]](a[Jh])}};bv[a[132]]=1c(b){if(!b&&1b[a[9]]){1b[a[139]][a[188]](1b[a[9]])};p[a[23]][a[132]][a[21]](1b,b)};bv[a[135]]=1c(){1a f=1b,b=f[a[9]],g,d;if(!f[a[1w]]){1d};if(1D(f[a[1X]])){1d};if(y[a[7]]()){g=f[a[127]];d=f[a[1X]]-5;if(!f[a[dg]]){f[a[dg]]=1f;b[a[127]]=g;b[a[129]]=d;b[a[169]][a[127]]=g+a[149];b[a[169]][a[129]]=d+a[149]};if(f[a[dg]]){f[a[tz]](g,d)}}};bv[a[tz]]=1c(H,i){1a F=1b,h=F[a[tA]],d=F[a[1t]],D;h[a[J2]](0,0,H,i);1a p=2;1a G=3;1a E=2;1a b=2;if(!F[a[1w]]){1d};1a f=F[a[sT]]();if(!f||f[a[59]]<=0){1d};D=d[a[1G]];if(!l(D[a[9k]])&&!(F[a[1w]][D[a[9k]]]==1f||F[a[1w]][D[a[9k]]]==a[cn])){1d};1a I=H-(p+E);1a k=i-(G+b);1a B=I/f[a[59]];1a j=B*0.5;1a L=F[a[Cs]](f);1a M,J,K;1a A=F[a[Ct]];1a y=F[a[CR]];1a C=2;1a v=l(D[a[dH]])?1f:D[a[dH]];1a w=l(D[a[dF]])?1f:D[a[dF]];1a t=l(D[a[tD]])?1f:D[a[tD]];1a u=l(D[a[tE]])?1f:D[a[tE]];1a x=D[a[ph]]||a[pn];1a z=D[a[pk]]||a[p6];1a g=D[a[LV]]||a[9B];1a o=D[a[KF]]||a[9B];1a r=D[a[KE]]||a[9B];1a s=D[a[8t]]||1;1a n=1g;h[a[9m]]=a[Jb];h[a[iy]](0,0,H,i);h[a[8t]]=s;h[a[2af]]=r;h[a[ou]]();1i(1a m=0,q=L[a[59]];m<q;m++){M=L[m];J=p+B*m+j;K=G+k*(1-M);if(1D(K)||M===1h){n=1f;1u};if(n){h[a[p4]](J,K);n=1g}1e{h[a[tC]](J,K)}};h[a[tB]]();h[a[oW]]();M=L[0];if(t&&M!==1h){J=p+j;K=G+k*(1-M);h[a[ou]]();h[a[Cr]](J,K,C,0,2*1k[a[uE]],1f);h[a[9m]]=g;h[a[kt]]();h[a[oW]]()};M=L[L[a[59]]-1];if(u&&M!==1h){J=p+B*(L[a[59]]-1)+j;K=G+k*(1-M);h[a[ou]]();h[a[Cr]](J,K,C,0,2*1k[a[uE]],1f);h[a[9m]]=o;h[a[kt]]();h[a[oW]]()};cd[a[1q]](f,1c(b,d){1a g,f,i;i=L[b];if(A==d&&w&&i!==1h){f=p+B*b+j;g=G+k*(1-i);h[a[ou]]();h[a[Cr]](f,g,C,0,2*1k[a[uE]],1f);h[a[9m]]=z;h[a[kt]]();h[a[oW]]()}1e{if(y==d&&v&&i!==1h){f=p+B*b+j;g=G+k*(1-i);h[a[ou]]();h[a[Cr]](f,g,C,0,2*1k[a[uE]],1f);h[a[9m]]=x;h[a[kt]]();h[a[oW]]()}}})};bv[a[sT]]=1c(){1a h=1b,g=h[a[1m]],b=h[a[1w]],d=[],f;if(g){f=g[a[54]](a[53]);if(bi(f)){cd[a[1q]](f,1c(a,f){if(b[f]===1h){d[a]=1h}1e{d[a]=1o(b[f])}})}};1d d};bv[a[Cs]]=1c(b){1a m=1b;1a k=[];1a g=1o[a[5E]]*-1;1a i=1o[a[5E]];cd[a[1q]](b,1c(b,d){if(d===1h){1d}1e{i=1k[a[1A]](d,i);g=1k[a[1F]](d,g)}});m[a[Ct]]=i;m[a[CR]]=g;1a j=i-0.mN;1a h=g+0.mN;1a l=h-j;1i(1a d=0,f=b[a[59]];d<f;d++){if(b[d]===1h){k[d]=1h;1u};k[d]=(b[d]-j)/l};1d k};1c bO(){bB[a[21]](1b,a[43],a[2ad]);1a b=1b;b[a[dC]]=1f}bf(bO,bB);bv=bO[a[23]];bv[a[66]]=1c(){bB[a[23]][a[66]][a[21]](1b);1a b=1b;b[a[150]](a[9j],a[ty]);b[a[150]](a[ke],a[JB]);if(y[a[7]]()){b[a[9]]=1N[a[10]](a[9]);b[a[139]][a[185]](b[a[9]]);b[a[tA]]=b[a[9]][a[11]](a[Jh])}};bv[a[132]]=1c(b){if(!b&&1b[a[9]]){1b[a[139]][a[188]](1b[a[9]])};p[a[23]][a[132]][a[21]](1b,b)};bv[a[135]]=1c(){1a f=1b,b=f[a[9]],g,d;if(!f[a[1w]]){1d};if(1D(f[a[1X]])){1d};if(y[a[7]]()){g=f[a[127]];d=f[a[1X]]-5;if(!f[a[dg]]){f[a[dg]]=1f;b[a[127]]=g;b[a[129]]=d;b[a[169]][a[127]]=g+a[149];b[a[169]][a[129]]=d+a[149]};if(f[a[dg]]){f[a[tz]](g,d)}}};bv[a[tz]]=1c(A,i){1a x=1b,h=x[a[tA]],d=x[a[1t]],v;h[a[J2]](0,0,A,i);1a m=2;1a y=2;1a w=2;1a b=0;if(!x[a[1w]]){1d};1a f=x[a[sT]]();if(!f||f[a[59]]<=0){1d};v=d[a[1G]];if(!l(v[a[9k]])&&!(x[a[1w]][v[a[9k]]]==1f||x[a[1w]][v[a[9k]]]==a[cn])){1d};1a B=A-(m+w);1a j=i-(y+b);1a u=B/f[a[59]];1a E=x[a[Cs]](f);1a F,C,D,z;1a G=y+(1-x[a[JD]])*j;1a t=x[a[Ct]];1a r=x[a[CR]];1a o=l(v[a[dH]])?1f:v[a[dH]];1a p=l(v[a[dF]])?1f:v[a[dF]];1a q=v[a[ph]]||a[pn];1a s=v[a[pk]]||a[p6];1a g=v[a[8C]]||a[9B];h[a[9m]]=a[Jb];h[a[iy]](0,0,A,i);h[a[8t]]=1;h[a[9m]]=g;1i(1a k=0,n=E[a[59]];k<n;k++){F=E[k];z=f[k];C=m+u*k;D=y+j*(1-F);if(1D(D)||F===1h){1u};if(t==r){h[a[ou]]();h[a[iy]](C,y,u*0.8,j)}1e{if(z==t&&p){h[a[9m]]=s}1e{if(z==r&&o){h[a[9m]]=q}1e{h[a[9m]]=g}};h[a[iy]](C,D,u*0.8,G-D)};h[a[oW]]()}};bv[a[sT]]=1c(){1a h=1b,g=h[a[1m]],b=h[a[1w]],d=[],f;if(g){f=g[a[54]](a[53]);if(bi(f)){cd[a[1q]](f,1c(a,f){if(b[f]===1h){d[a]=1h}1e{d[a]=1o(b[f])}})}};1d d};bv[a[Cs]]=1c(b){1a m=1b;1a k=[];1a g=1o[a[5E]]*-1;1a i=1o[a[5E]];cd[a[1q]](b,1c(b,d){if(d===1h){1d}1e{i=1k[a[1A]](d,i);g=1k[a[1F]](d,g)}});m[a[Ct]]=i;m[a[CR]]=g;1a l=g-i;1a j=i-l*0.1-0.mN;1a h=g+l*0.1+0.mN;l=h-j;m[a[JD]]=(0-j)/l;1i(1a d=0,f=b[a[59]];d<f;d++){if(b[d]===1h){k[d]=1h;1u};k[d]=(b[d]-j)/l};1d k};1c bQ(){bB[a[21]](1b,a[43],a[2ac]);1a b=1b;b[a[dC]]=1f}bf(bQ,bB);bv=bQ[a[23]];bv[a[66]]=1c(){bB[a[23]][a[66]][a[21]](1b);1a b=1b;b[a[150]](a[9j],a[ty]);b[a[150]](a[ke],a[JB]);if(y[a[7]]()){b[a[9]]=1N[a[10]](a[9]);b[a[139]][a[185]](b[a[9]]);b[a[tA]]=b[a[9]][a[11]](a[Jh])}};bv[a[132]]=1c(b){if(!b&&1b[a[9]]){1b[a[139]][a[188]](1b[a[9]])};p[a[23]][a[132]][a[21]](1b,b)};bv[a[135]]=1c(){1a f=1b,b=f[a[9]],g,d;if(!f[a[1w]]){1d};if(1D(f[a[1X]])){1d};if(y[a[7]]()){g=f[a[127]];d=f[a[1X]]-5;if(!f[a[dg]]){f[a[dg]]=1f;b[a[127]]=g;b[a[129]]=d;b[a[169]][a[127]]=g+a[149];b[a[169]][a[129]]=d+a[149]};if(f[a[dg]]){f[a[tz]](g,d)}}};bv[a[tz]]=1c(F,j){1a C=1b,i=C[a[tA]],g=C[a[1t]],A;i[a[J2]](0,0,F,j);1a o=2;1a D=2;1a B=2;1a f=0;if(!C[a[1w]]){1d};1a h=C[a[sT]]();if(!h||h[a[59]]<=0){1d};A=g[a[1G]];if(!l(A[a[9k]])&&!(C[a[1w]][A[a[9k]]]==1f||C[a[1w]][A[a[9k]]]==a[cn])){1d};1a G=F-(o+B);1a m=j-(D+f);1a z=G/h[a[59]];1a I,E;1a k=m*0.5;1a d=D+k;1a t=1o[a[5E]]*-1;1a w=1o[a[5E]];cd[a[1q]](h,1c(b,d){if(1D(d)){1d}1e{w=1k[a[1A]](d,w);t=1k[a[1F]](d,t)}});1a y=w;1a v=t;1a r=l(A[a[dH]])?1f:A[a[dH]];1a s=l(A[a[dF]])?1f:A[a[dF]];1a u=A[a[ph]]||a[pn];1a x=A[a[pk]]||a[p6];1a H=A[a[J4]]||a[9B];1a q=A[a[Jd]]||a[9B];1a b=A[a[1lx]]||0;i[a[9m]]=a[Jb];i[a[iy]](0,0,F,j);i[a[8t]]=1;1i(1a n=0,p=h[a[59]];n<p;n++){E=h[n];I=o+z*n;if(1D(E)){1u};i[a[ou]]();if(y==v){if(E<b){i[a[9m]]=q;i[a[iy]](I,d,z*0.8,k)}1e{if(E>b){i[a[9m]]=H;i[a[iy]](I,D,z*0.8,k)}}}1e{if(E<b){if(s&&y==E){i[a[9m]]=x}1e{if(r&&v==E){i[a[9m]]=u}1e{i[a[9m]]=q}};i[a[iy]](I,d,z*0.8,k)}1e{if(E>b){if(s&&y==E){i[a[9m]]=x}1e{if(r&&v==E){i[a[9m]]=u}1e{i[a[9m]]=H}};i[a[iy]](I,D,z*0.8,k)}}};i[a[oW]]()}};bv[a[sT]]=1c(){1a h=1b,g=h[a[1m]],b=h[a[1w]],d=[],f;if(g){f=g[a[54]](a[53]);if(bi(f)){cd[a[1q]](f,1c(a,f){d[a]=1o(b[f])})}};1d d};1c bK(b){p[a[21]](1b,a[J9],b);1a d=1b;d[a[3h]]=1h;d[a[66]]()}bf(bK,p);bv=bK[a[23]];bv[a[66]]=1c(){1b[a[139]][a[144]]=1b;1b[a[199]](a[5z],a[177]);r(1b[a[139]],a[1lw],1b[a[Kq]])};bv[a[132]]=1c(b){1b[a[139]][a[144]]=1h;bA(1b[a[139]],a[1lw],1b[a[Kq]]);y[a[137]][a[23]][a[132]][a[21]](1b,b)};bv[a[vD]]=1c(g,i){1a j=1b;1a m;1a k;1a b=j[a[139]];1a h=[];if(l(i)){i=0};1i(1a d=0,f=g[a[59]];d<f;d++){m=g[d][a[2b]];k=g[d][a[45]];if(i==d){h[d]=a[CX]+m+a[2aa]+k+a[CY]}1e{h[d]=a[CX]+m+a[3C]+k+a[CY]}};b[a[44]]=h[a[61]](a[58])};bv[a[Kq]]=1c(d){1a f=1b[a[144]];1a b=f[a[139]][a[2b]];f[a[136]]({1P:a[jU],1ly:f[a[3h]],5l:b})};1c C(b){p[a[21]](1b,a[43],b||a[2ab]);1a d=1b;d[a[ds]]=1;d[a[m1]]=1g;d[a[mg]]=0;d[a[5D]]=a[sw];d[a[m2]]=a[2a0];d[a[m9]]=a[29Z];d[a[m3]]=a[29P];d[a[kr]]=1h;d[a[yp]]=1f;d[a[9r]]=1h;d[a[4N]]=1h;d[a[nR]]=1f;d[a[nS]]=1g;d[a[s1]]=1g;d[a[ma]]=a[29Q];d[a[md]]=a[1lb];d[a[mh]]=a[29O];d[a[o8]]=a[217];d[a[k2]]=1g;d[a[rZ]]=1g;d[a[nX]]=1g;d[a[sf]]=1;d[a[sE]]=1;d[a[sD]]=1;d[a[wA]]=1h;d[a[wO]]=1h;d[a[xK]]=1h;d[a[66]]()}bf(C,p);bv=C[a[23]];bv[a[66]]=1c(){1a b=1b;b[a[kr]]=[a[261],a[262],a[263],a[264],a[265],a[266],a[267]];b[a[uY]]=0;b[a[v8]]=0;b[a[ye]]=0;b[a[cJ]]()};bv[a[132]]=1c(d){1a b=1b;bA(b[a[t9]][a[139]],a[2i],b[a[Mn]]);bA(b[a[vy]][a[139]],a[2i],b[a[Ml]]);bA(b[a[kj]][a[139]],a[2i],b[a[Mu]]);bA(b[a[kc]][a[139]],a[2i],b[a[LI]]);b[a[t9]][a[132]](d);b[a[kj]][a[132]](d);if(b[a[cQ]]&&b[a[nR]]){bA(b[a[cQ]][a[139]],a[2i],b[a[F7]]);b[a[cQ]][a[132]](d)};if(b[a[j0]]&&b[a[s1]]){bA(b[a[j0]][a[139]],a[2i],b[a[Mf]]);b[a[j0]][a[132]](d)};b[a[1l5]](d);b[a[n4]][a[132]](d);b[a[kc]][a[132]](d);b[a[eG]][a[132]](d);b[a[pl]][a[132]](d);p[a[23]][a[132]][a[21]](1b,d)};bv[a[cJ]]=1c(){1a b=1b;b[a[n4]]=1j O(a[29N]);b[a[210]](b[a[n4]],1f);b[a[kc]]=1j O(a[29K]);b[a[kc]][a[139]][a[144]]=1b;r(b[a[kc]][a[139]],a[2i],b[a[LI]]);b[a[210]](b[a[kc]],1f);b[a[eG]]=1j O(a[29L]);b[a[eG]][a[139]][a[144]]=1b;b[a[210]](b[a[eG]],1f);b[a[pl]]=1j O(a[29M]);b[a[210]](b[a[pl]],1f);b[a[D3]]()};bv[a[D3]]=1c(){1a b=1b;b[a[t9]]=1j bN(a[29R]);b[a[vy]]=1j bN(a[29S]);b[a[kj]]=1j bN(a[29X]);b[a[t9]][a[139]][a[144]]=1b;r(b[a[t9]][a[139]],a[2i],b[a[Mn]]);b[a[vy]][a[139]][a[144]]=1b;r(b[a[vy]][a[139]],a[2i],b[a[Ml]]);b[a[kj]][a[139]][a[144]]=1b;r(b[a[kj]][a[139]],a[2i],b[a[Mu]]);b[a[n4]][a[210]](b[a[t9]],1f);b[a[n4]][a[210]](b[a[kj]],1f);b[a[n4]][a[210]](b[a[vy]],1f)};bv[a[sV]]=1c(){1a b=1b;if(b[a[nR]]&&!b[a[cQ]]){b[a[cQ]]=1j bN(a[29Y]);b[a[cQ]][a[139]][a[144]]=1b;r(b[a[cQ]][a[139]],a[2i],b[a[F7]]);b[a[cQ]][a[214]](b[a[ma]]);b[a[pl]][a[210]](b[a[cQ]],1f)};if(b[a[s1]]&&!b[a[j0]]){b[a[j0]]=1j bN(a[29W]);b[a[j0]][a[139]][a[144]]=1b;r(b[a[j0]][a[139]],a[2i],b[a[Mf]]);b[a[j0]][a[214]](b[a[mh]]);b[a[pl]][a[210]](b[a[j0]],1f)};if(b[a[nS]]&&!b[a[cQ]]){b[a[cQ]]=1j bN(a[29V]);b[a[cQ]][a[139]][a[144]]=1b;r(b[a[cQ]][a[139]],a[2i],b[a[F7]]);b[a[cQ]][a[214]](b[a[md]]);b[a[pl]][a[210]](b[a[cQ]],1f)};if(!b[a[nR]]&&!b[a[s1]]&&!b[a[nS]]){b[a[pl]][a[213]](1g)}};bv[a[1kD]]=1c(){1a r=1b;1a B=r[a[kr]];1a k=r[a[mg]];1a i=r[a[4N]];1a A=i[a[4Z]]();1a z=i[a[7p]]()+1;1a t=1j 1Z(A,z-1,1);1a j=1j 1Z(A,z,0);1a y=a[29T];1a w=a[29U];1a x=[];1a n,o;1a s=t[a[2ag]]()+1;1a h=1;1a g;1a p=[0,7,14,21,28,35,42];1a v=[-6,1,8,15,22,29,36,43];1a q=1h;1a m;if(!l(r[a[9r]])){q=r[a[9r]][a[4Z]]()+a[218]+(r[a[9r]][a[7p]]()+1)+a[218]+r[a[9r]][a[9C]]()};if(bl(k)){k=0};k=1k[a[1F]](0,k);k=1k[a[1A]](6,k);1i(n=k,o=B[a[59]];n<o;n++){if(n==0){y+=a[1kK]+B[n]+a[tb]}1e{if(n==6){y+=a[1kJ]+B[n]+a[tb]}1e{y+=a[1kM]+B[n]+a[tb]}}};1i(n=0;n<k;n++){if(n==0){y+=a[1kK]+B[n]+a[tb]}1e{if(n==6){y+=a[1kJ]+B[n]+a[tb]}1e{y+=a[1kM]+B[n]+a[tb]}}};y+=a[2ah];1a u=a[hR];if(k>0){s=s-k;if(s<=0){s+=7};cd[a[1q]](p,1c(a,b){p[a]+=7-k});cd[a[1q]](v,1c(a,b){v[a]+=7-k})};if(r[a[yp]]){1a d=1j 1Z(A,z-1,0);if(s==1){1i(n=7;n>0;n--){h=d[a[9C]]()-n+1;g=d[a[4Z]]()+a[218]+(d[a[7p]]()+1)+a[218]+h;u+=a[JL]+g+a[3C]+h+a[a8]};u+=a[2aD]}1e{1i(n=s-1;n>0;n--){h=d[a[9C]]()-n+1;g=d[a[4Z]]()+a[218]+(d[a[7p]]()+1)+a[218]+h;u+=a[JL]+g+a[3C]+h+a[a8]}}}1e{1i(n=1;n<s;n++){u+=a[2aE]}};1a f=0;h=1;1i(n=s,o=s+j[a[9C]]();n<o;n++){g=A+a[218]+z+a[218]+h;if(q&&g==q){if(p[a[19]](n)!=-1){u+=a[2aC]+g+a[3C]+h+a[a8]}1e{if(v[a[19]](n)!=-1){u+=a[2aB]+g+a[3C]+h+a[a8]}1e{u+=a[2az]+g+a[3C]+h+a[a8]}};if(n%7==0){u+=a[nw];f=0;x[a[1s]](u);u=a[hR]}}1e{if(p[a[19]](n)!=-1){u+=a[2aA]+g+a[3C]+h+a[a8]}1e{if(v[a[19]](n)!=-1){u+=a[2aF]+g+a[3C]+h+a[a8]}1e{u+=a[2aG]+g+a[3C]+h+a[a8]}};if(n%7==0){u+=a[nw];f=0;x[a[1s]](u);u=a[hR]}};h++;f++};o=7-f+1;if(r[a[yp]]){1a b=1j 1Z(A,z,1);1i(n=1;n<=o;n++){h=b[a[9C]]()+n-1;g=b[a[4Z]]()+a[218]+(b[a[7p]]()+1)+a[218]+h;u+=a[JL]+g+a[3C]+h+a[a8]};u+=a[nw]};if(u!=a[hR]){x[a[1s]](u)};1a C=1j 1Z();C=V[a[aS]](C,a[2aL]);cd[a[1q]](x,1c(b,d){if(d[a[19]](C)!=-1){x[b]=d[a[56]](a[2aM]+C,a[2aK]+C);1d 1g}});w+=x[a[61]](a[58])+a[2aJ];m=a[KB];m+=a[2aH];m+=y+w;m+=a[KA];r[a[kc]][a[139]][a[44]]=m;r[a[kj]][a[214]](V[a[aS]](i,r[a[m2]]))};bv[a[LP]]=1c(){1a j=1b;1a d=j[a[4N]];1a m=d[a[4Z]]();1a i=1h;1a b;1a l=[];1a g;1a h=j[a[m9]];1a k=a[1kI];if(j[a[9r]]){i=j[a[9r]][a[4Z]]()+a[218]+(j[a[9r]][a[7p]]()+1)+a[1kQ]};1i(1a f=1;f<=12;f++){b=m+a[218]+f+a[1kQ];g=V[a[aS]](b,h);if(i&&b==i){if(f%4==0){k+=a[1kP]+b+a[3C]+g+a[a8];k+=a[nw];l[a[1s]](k);k=a[hR]}1e{k+=a[1kP]+b+a[3C]+g+a[a8]}}1e{if(f%4==0){k+=a[1kO]+b+a[3C]+g+a[a8];k+=a[nw];l[a[1s]](k);k=a[hR]}1e{k+=a[1kO]+b+a[3C]+g+a[a8]}}};if(k!=a[hR]){l[a[1s]](k)};j[a[kc]][a[139]][a[44]]=a[KB]+l[a[61]](a[58])+a[KA];j[a[kj]][a[214]](V[a[aS]](d,j[a[m3]]))};bv[a[LF]]=1c(){1a j=1b;1a f=j[a[4N]];1a n=f[a[4Z]]();1a i=1h;1a d;1a m=[];1a k=n-5;1a l=a[1kI];if(j[a[9r]]){i=j[a[9r]][a[4Z]]()+a[1kH]};1a b=1;1i(1a g=k,h=n+6;g<=h;g++){d=g+a[1kH];if(i&&d==i){if(b%4==0){l+=a[1kB]+d+a[3C]+g+a[a8];l+=a[nw];m[a[1s]](l);l=a[hR]}1e{l+=a[1kB]+d+a[3C]+g+a[a8]}}1e{if(b%4==0){l+=a[1kA]+d+a[3C]+g+a[a8];l+=a[nw];m[a[1s]](l);l=a[hR]}1e{l+=a[1kA]+d+a[3C]+g+a[a8]}};b++};if(l!=a[hR]){m[a[1s]](l)};j[a[kc]][a[139]][a[44]]=a[KB]+m[a[61]](a[58])+a[KA];j[a[kj]][a[214]](k+a[1kz]+(k+11))};bv[a[M0]]=1c(){1a x=1b;if(l(x[a[eC]])){x[a[eC]]=1j bK(a[J8]);x[a[eC]][a[144]]=1b;x[a[eC]][a[3h]]=a[1kE];r(x[a[eC]],a[jU],x[a[oh]],x);x[a[eG]][a[210]](x[a[eC]],1f)};if(l(x[a[tn]])){x[a[tn]]=1j bN(a[1kC]);x[a[tn]][a[214]](a[5h]);x[a[eG]][a[210]](x[a[tn]],1f)};if(l(x[a[ew]])){x[a[ew]]=1j bK(a[J8]);x[a[ew]][a[144]]=1b;x[a[ew]][a[3h]]=a[1A];r(x[a[ew]],a[jU],x[a[oh]],x);x[a[eG]][a[210]](x[a[ew]],1f)};if(l(x[a[s6]])&&x[a[nX]]){x[a[s6]]=1j bN(a[1kC]);x[a[s6]][a[214]](a[5h]);x[a[eG]][a[210]](x[a[s6]],1f)};if(l(x[a[eK]])&&x[a[nX]]){x[a[eK]]=1j bK(a[J8]);x[a[eK]][a[150]](a[127],a[J5]);x[a[eK]][a[144]]=1b;x[a[eK]][a[3h]]=a[1kS];r(x[a[eK]],a[jU],x[a[oh]],x);x[a[eG]][a[210]](x[a[eK]],1f);x[a[eC]][a[150]](a[127],a[J5]);x[a[ew]][a[150]](a[127],a[J5])};x[a[eG]][a[213]](1f,a[58]);1a g=x[a[4N]];1a k=bl(x[a[sf]])?1:x[a[sf]];1a s=bl(x[a[sE]])?1:x[a[sE]];1a u=bl(x[a[sD]])?1:x[a[sD]];1a n,p;1a q;1a h=24;1a y=0;1a i=a[F1];1a j=a[F1];1a b=0;1a d=0;1a f=0;1a o=0;1a w=0;1a m=x[a[wA]];1a t=x[a[wO]];1a v=x[a[xK]];if(!l(g)){b=g[a[Je]]();d=g[a[IW]]();f=g[a[F5]]()};if(!l(x[a[eC]])){q=[];o=0;w=0;if(bi(m)){cd[a[1q]](m,1c(d,f){q[a[1s]]({4M:f,5o:V[a[da]](f,i)});if(b==f){w=d}})}1e{1i(n=y;n<h;n+=k){q[a[1s]]({4M:n,5o:V[a[da]](n,i)});if(b==n){w=o};o+=1}};x[a[uY]]=b;x[a[eC]][a[vD]](q,w)};if(!l(x[a[ew]])){q=[];o=0;w=0;if(bi(t)){cd[a[1q]](t,1c(b,f){q[a[1s]]({4M:f,5o:V[a[da]](f,j)});if(d==f){w=b}})}1e{1i(n=0,p=60;n<p;n+=s){q[a[1s]]({4M:n,5o:V[a[da]](n,j)});if(d==n){w=o};o+=1}};x[a[v8]]=d;x[a[ew]][a[vD]](q,w)};if(x[a[nX]]&&!l(x[a[eK]])){q=[];o=0;w=0;if(bi(v)){cd[a[1q]](v,1c(b,d){q[a[1s]]({4M:d,5o:V[a[da]](d,a[F1])});if(f==d){w=b}})}1e{1i(n=0,p=60;n<p;n+=u){q[a[1s]]({4M:n,5o:V[a[da]](n,a[F1])});if(f==n){w=o};o+=1}};x[a[ye]]=f;x[a[eK]][a[vD]](q,w)}};bv[a[135]]=1c(){1a b=1b;if(!b[a[4N]]){b[a[4N]]=1j 1Z()};if(b[a[rZ]]){b[a[n4]][a[213]](1g);b[a[M0]]();b[a[sV]]();1d};if(b[a[m1]]){if(b[a[ds]]==1){b[a[LP]]()}1e{if(b[a[ds]]>=2){b[a[1kG]]=2;b[a[LF]]()}}}1e{if(b[a[ds]]==1){b[a[1kD]]();if(b[a[k2]]){b[a[M0]]()}1e{b[a[eG]][a[213]](1g)}}1e{if(b[a[ds]]==2){b[a[LP]]();b[a[eG]][a[213]](1g)}1e{if(b[a[ds]]>=3){b[a[1kG]]=3;b[a[LF]]();b[a[eG]][a[213]](1g)}}}};b[a[sV]]()};bv[a[LI]]=1c(d){1a f=1b[a[144]];1a g=f[a[k2]];1a h=d[a[77]];1a b;if(d[a[109]]>1){1d};d[a[91]]();b=h[a[163]](a[2aI]);if(m(b)){1d};f[a[4N]]=1j 1Z(b);f[a[4N]]=f[a[yc]]();if(f[a[ds]]==1){if(g){f[a[9r]]=f[a[yc]]();f[a[135]]()};f[a[136]]({1P:a[sb],6W:f[a[4N]],L6:g})}1e{f[a[ds]]--;f[a[135]]()}};bv[a[Mn]]=1c(f){1a g=1b[a[144]];1a d=g[a[4N]];1a b=g[a[ds]];f[a[91]]();if(g[a[m1]]){if(b==1){g[a[4N]][a[my]](d[a[4Z]]()-1);g[a[135]]()}1e{g[a[4N]][a[my]](d[a[4Z]]()-12);g[a[135]]()}}1e{g[a[4N]][a[j1]](1);if(b==1){g[a[4N]][a[mA]](d[a[7p]]()-1);g[a[135]]()}1e{if(b==2){g[a[4N]][a[my]](d[a[4Z]]()-1);g[a[135]]()}1e{g[a[4N]][a[my]](d[a[4Z]]()-12);g[a[135]]()}}}};bv[a[Ml]]=1c(f){1a g=1b[a[144]];1a d=g[a[4N]];1a b=g[a[ds]];f[a[91]]();if(g[a[m1]]){if(b==1){g[a[4N]][a[my]](d[a[4Z]]()+1);g[a[135]]()}1e{g[a[4N]][a[my]](d[a[4Z]]()+12);g[a[135]]()}}1e{g[a[4N]][a[j1]](1);if(b==1){g[a[4N]][a[mA]](d[a[7p]]()+1);g[a[135]]()}1e{if(b==2){g[a[4N]][a[my]](d[a[4Z]]()+1);g[a[135]]()}1e{g[a[4N]][a[my]](d[a[4Z]]()+12);g[a[135]]()}}}};bv[a[Mu]]=1c(b){1a d=1b[a[144]];b[a[91]]();if(d[a[m1]]){if(d[a[ds]]<2){d[a[ds]]++;d[a[135]]()}}1e{if(d[a[ds]]<3){d[a[ds]]++;d[a[135]]()}}};bv[a[F7]]=1c(b){1a f=1b[a[144]];1a d;b[a[91]]();d={1P:a[sb],6W:f[a[yc]]()};if(f[a[nS]]){d[a[1l4]]=1f}1e{d[a[5U]]=1j 1Z()};f[a[136]](d)};bv[a[Mf]]=1c(b){1a d=1b[a[144]];b[a[91]]();d[a[136]]({1P:a[sb],6W:d[a[o8]],fN:a[tZ]})};bv[a[yc]]=1c(){1a i=1b;1a d=i[a[4N]];1a f=i[a[uY]];1a g=i[a[v8]];1a h=i[a[ye]];1a b=1j 1Z(d);b[a[mr]](1o(f));b[a[1kR]](1o(g),1o(h));1d b};bv[a[oh]]=1c(b){1a d=1b[a[144]];1a f=b[a[1m]];4v(b[a[3h]]){1C a[1kE]:d[a[uY]]=1o(f);d[a[4N]][a[mr]](d[a[uY]]);1l;1C a[1A]:d[a[v8]]=1o(f);d[a[4N]][a[1kR]](d[a[v8]]);1l;1C a[1kS]:d[a[ye]]=1o(f);d[a[4N]][a[2ay]](d[a[ye]]);1l};d[a[136]]({1P:a[sb],6W:d[a[yc]](),L6:d[a[k2]]})};bv[a[1l5]]=1c(d){1a b=1b;if(!l(b[a[eC]])){bA(b[a[eC]],a[jU],b[a[oh]]);b[a[eC]][a[144]]=1h;b[a[eC]][a[132]](d)};if(!l(b[a[tn]])){b[a[tn]][a[132]](d)};if(!l(b[a[ew]])){bA(b[a[ew]],a[jU],b[a[oh]]);b[a[ew]][a[144]]=1h;b[a[ew]][a[132]](d)};if(!l(b[a[s6]])){b[a[s6]][a[132]](d)};if(!l(b[a[eK]])){bA(b[a[eK]],a[jU],b[a[oh]]);b[a[eK]][a[144]]=1h;b[a[eK]][a[132]](d)}};1c F(){bB[a[21]](1b,a[43],a[2ax]);1a b=1b;b[a[165]]=a[7F];b[a[GS]]=a[217];b[a[rV]]=1h}bf(F,bB);bv=F[a[23]];bv[a[66]]=1c(){bB[a[23]][a[66]][a[21]](1b);1a b=1b;b[a[2W]]=1j C();r(b[a[2W]],a[sb],b[a[jm]],b);b[a[210]](b[a[2W]],1f)};bv[a[3y]]=1c(f){1a b=1b;1a d=b[a[aF]];f=b[a[8T]](f);b[a[4E]]=f;b[a[139]][d]=f};bv[a[132]]=1c(d){1a b=1b;bA(b[a[2W]],a[sb],b[a[jm]]);if(!d&&b[a[139]][a[95]]!==1h){b[a[139]][a[95]][a[188]](b[a[139]])};b[a[2W]][a[132]](d);p[a[23]][a[132]][a[21]](1b,d)};bv[a[135]]=1c(){1a h=1b;1a b;1a f;1a d=h[a[1B]];1a o;1a n;1a k;1a j;1a g;if(!h[a[1w]]){1d};if(h[a[2W]]){if(h[a[1t]]&&h[a[1t]][a[1J]]){f=h[a[1t]][a[1J]];if(f&&f[a[85]]==a[e8]&&i(f[a[7f]])){f=f[a[7f]](h[a[1H]],h[a[1n]],h[a[1w]][h[a[1t]][a[1m]]],h[a[1w]],h[a[1t]][a[1m]]);if(l(f)){f={}}}}1e{1d};if(!m(d)){if(!m(h[a[1t]][a[4P]])){b=V[a[f3]](d,h[a[1t]][a[4P]]);if(!1D(1Z[a[123]](b))){h[a[2W]][a[4N]]=1j 1Z(b);h[a[2W]][a[9r]]=1j 1Z(b)}}1e{if(!1D(1o(d))){if(1E(d)[a[19]](a[218])==-1&&1E(d)[a[19]](a[217])==-1&&1E(d)[a[59]]>8){b=1j 1Z(1o(d));if(!1D(1Z[a[123]](b))){h[a[2W]][a[4N]]=1j 1Z(b);h[a[2W]][a[9r]]=1j 1Z(b)}1e{h[a[2W]][a[4N]]=1j 1Z();h[a[2W]][a[9r]]=1j 1Z()}}1e{o=1j 1Z();n=o[a[4Z]]()+a[58];k=o[a[7p]]()+1+a[58];j=o[a[9C]]()+a[58];if(1E(k)[a[59]]<2){k=a[215]+k};if(1E(j)[a[59]]<2){j=a[215]+j};d=1E(d);4v(1E(d)[a[59]]){1C 1:;1C 2:d=n+a[218]+k+a[218]+d;1l;1C 3:;1C 4:d=d+a[218]+k+a[218]+j;1l;1C 5:;1C 6:d=d[a[4c]](0,4)+a[218]+d[a[4c]](4)+a[218]+j;1l;1C 7:d=d[a[4c]](0,4)+a[218]+d[a[4c]](4,6)+a[218]+d[a[4c]](6);1C 8:;4w:d=d[a[4c]](0,4)+a[218]+d[a[4c]](4,6)+a[218]+d[a[4c]](6,8)};h[a[2W]][a[4N]]=1j 1Z(d);h[a[2W]][a[9r]]=1j 1Z(d)}}1e{if(1E(d)[a[19]](a[217])>=0){d=1E(d)[a[56]](/-/g,a[218])};b=1Z[a[123]](d);if(!1D(b)){h[a[2W]][a[4N]]=1j 1Z(b);h[a[2W]][a[9r]]=1j 1Z(b)}1e{h[a[2W]][a[4N]]=1j 1Z();h[a[2W]][a[9r]]=1j 1Z()}}}}1e{h[a[2W]][a[4N]]=1j 1Z();h[a[2W]][a[9r]]=1j 1Z()};if(i(f[a[u1]])){b=f[a[u1]](h[a[1H]],h[a[1n]],h[a[1w]][h[a[1t]][a[1m]]],h[a[1w]],h[a[1t]][a[1m]],h[a[1t]]);h[a[2W]][a[4N]]=1j 1Z(b);h[a[2W]][a[9r]]=1j 1Z(b)};h[a[2W]][a[yp]]=f[a[yp]]?1f:1g;h[a[2W]][a[m1]]=f[a[m1]];if(!l(h[a[rV]])&&bn(h[a[rV]])){g=h[a[rV]];if(g[a[kr]]){h[a[2W]][a[kr]]=g[a[kr]]};if(g[a[m2]]){h[a[2W]][a[m2]]=g[a[m2]]};if(g[a[m3]]){h[a[2W]][a[m3]]=g[a[m3]]};if(g[a[m9]]){h[a[2W]][a[m9]]=g[a[m9]]};if(!l(g[a[ma]])){h[a[2W]][a[ma]]=g[a[ma]]};if(!l(g[a[mh]])){h[a[2W]][a[mh]]=g[a[mh]]};if(!l(g[a[mg]])){h[a[2W]][a[mg]]=g[a[mg]]};if(!l(g[a[md]])){h[a[2W]][a[md]]=g[a[md]]}};if(f[a[kr]]){h[a[2W]][a[kr]]=f[a[kr]]};if(f[a[m2]]){h[a[2W]][a[m2]]=f[a[m2]]};if(f[a[m3]]){h[a[2W]][a[m3]]=f[a[m3]]};if(f[a[m9]]){h[a[2W]][a[m9]]=f[a[m9]]};h[a[2W]][a[nR]]=f[a[nR]]?1f:1g;h[a[2W]][a[s1]]=f[a[s1]]?1f:1g;if(!l(f[a[ma]])){h[a[2W]][a[ma]]=f[a[ma]]};if(!l(f[a[mh]])){h[a[2W]][a[mh]]=f[a[mh]]};if(!l(f[a[o8]])){h[a[2W]][a[o8]]=f[a[o8]]};if(!l(f[a[mg]])){h[a[2W]][a[mg]]=f[a[mg]]};if(!l(f[a[rZ]])){h[a[2W]][a[rZ]]=f[a[rZ]]?1f:1g};if(!l(f[a[k2]])){h[a[2W]][a[k2]]=f[a[k2]]?1f:1g;if(f[a[rZ]]===1f){h[a[2W]][a[k2]]=1f}};if(!l(f[a[nX]])){h[a[2W]][a[nX]]=f[a[nX]]?1f:1g};if(!l(f[a[sf]])){h[a[2W]][a[sf]]=1o(f[a[sf]])};if(!l(f[a[sE]])){h[a[2W]][a[sE]]=1o(f[a[sE]])};if(!l(f[a[sD]])){h[a[2W]][a[sD]]=1o(f[a[sD]])};if(bi(f[a[wA]])){h[a[2W]][a[wA]]=f[a[wA]]};if(bi(f[a[wO]])){h[a[2W]][a[wO]]=f[a[wO]]};if(bi(f[a[xK]])){h[a[2W]][a[xK]]=f[a[xK]]};if(!l(f[a[md]])){h[a[2W]][a[md]]=f[a[md]]};if(!l(f[a[nS]])&&!h[a[2W]][a[nR]]){h[a[2W]][a[nS]]=f[a[nS]]?1f:1g};h[a[2W]][a[135]]()}};bv[a[3R]]=1c(b,f){1a g=1b;b=!!b;1a d={};d[a[85]]=a[4Q];d[a[132]]=1f;d[a[5X]]=g[a[1B]];d[a[1n]]=g[a[1n]];d[a[1H]]=g[a[1H]];d[a[8i]]=f;if(b){d[a[dj]]=1f;d[a[5X]]=g[a[1B]]};g[a[136]](d)};bv[a[EU]]=1c(a){1d 1f};bv[a[jm]]=1c(f){1a k=f[a[78]];1a d=f[a[5U]];1a g;1a h=a[sw];1a j=k[a[1t]][a[1J]];1a b=k[a[1t]];if(j&&j[a[85]]==a[e8]&&i(j[a[7f]])){j=j[a[7f]](k[a[1H]],k[a[1n]],k[a[1w]][b[a[1m]]],k[a[1w]],b[a[1m]]);if(l(j)){j={}}};if(j&&j[a[au]]==a[xu]){g=1j 1Z(d)[a[aO]]()}1e{if(j&&j[a[au]]){h=j[a[au]]}1e{if(!m(b[a[4P]])){h=b[a[4P]]}1e{if(k[a[1B]]&&k[a[1B]][a[59]]>3){if(k[a[1B]][a[19]](a[217])>0){h=a[257]}}}};if(1D(1Z[a[123]](d))){g=d}1e{g=V[a[aS]](d,h)}};k[a[1B]]=g;if(f[a[1l4]]===1f){k[a[3R]](1g,a[de]);1d};if(!f[a[k2]]){k[a[3R]](1g,l(f[a[109]])?a[de]:f[a[109]])}};1c D(){p[a[21]](1b,a[43],a[2an]);1a b=1b;b[a[165]]=a[8b];b[a[1w]]=1h;b[a[1t]]=1h;b[a[1B]]=1h;b[a[1n]]=-1;b[a[1H]]=-1;b[a[GS]]=a[217];b[a[ue]]=1g;b[a[aF]]=y[a[46]];b[a[66]]()}bf(D,p);bv=D[a[23]];bv[a[66]]=1c(){};bv[a[3y]]=1c(f){1a b=1b;1a d=b[a[aF]];f=b[a[8T]](f);b[a[4E]]=f;b[a[139]][d]=f};bv[a[132]]=1c(d){1a b=1b;if(2g[a[ii]]!==1T&&$(b[a[139]])[a[9p]]){$(b[a[139]])[a[9p]](a[132])};if(!d&&b[a[139]][a[95]]!==1h){b[a[139]][a[95]][a[188]](b[a[139]])};p[a[23]][a[132]][a[21]](1b,d)};bv[a[135]]=1c(){1a j=1b;1a d;1a h;1a f=j[a[1B]];1a p;1a o;1a n;1a k;if(!j[a[1w]]||!(2g[a[ii]]!==1T&&$(j[a[139]])[a[9p]])){1d};if(j[a[1t]]&&j[a[1t]][a[1J]]){h=j[a[1t]][a[1J]];if(h&&h[a[85]]==a[e8]&&i(h[a[7f]])){h=h[a[7f]](j[a[1H]],j[a[1n]],j[a[1w]][j[a[1t]][a[1m]]],j[a[1w]],j[a[1t]][a[1m]]);if(l(h)){h={}}}}1e{1d};if(!m(f)){if(!m(j[a[1t]][a[4P]])){d=V[a[f3]](f,j[a[1t]][a[4P]]);if(1D(1Z[a[123]](d))){d=1j 1Z()}}1e{if(!1D(1o(f))){if(1E(f)[a[19]](a[218])==-1&&1E(f)[a[19]](a[217])==-1&&1E(f)[a[59]]>8){d=1j 1Z(1o(f));if(1D(1Z[a[123]](d))){d=1j 1Z()}}1e{p=1j 1Z();o=p[a[4Z]]()+a[58];n=p[a[7p]]()+1+a[58];k=p[a[9C]]()+a[58];if(1E(n)[a[59]]<2){n=a[215]+n};if(1E(k)[a[59]]<2){k=a[215]+k};f=1E(f);4v(1E(f)[a[59]]){1C 1:;1C 2:f=o+a[218]+n+a[218]+f;1l;1C 3:;1C 4:f=f+a[218]+n+a[218]+k;1l;1C 5:;1C 6:f=f[a[4c]](0,4)+a[218]+f[a[4c]](4)+a[218]+k;1l;1C 7:f=f[a[4c]](0,4)+a[218]+f[a[4c]](4,6)+a[218]+f[a[4c]](6);1C 8:;4w:f=f[a[4c]](0,4)+a[218]+f[a[4c]](4,6)+a[218]+f[a[4c]](6,8)};d=1j 1Z(f)}}1e{if(1E(f)[a[19]](a[217])>=0){f=1E(f)[a[56]](/-/g,a[218])};d=1Z[a[123]](f);if(1D(d)){d=1j 1Z()}}}}1e{d=1j 1Z()};if(i(h[a[u1]])){d=h[a[u1]](j[a[1H]],j[a[1n]],j[a[1w]][j[a[1t]][a[1m]]],j[a[1w]],j[a[1t]][a[1m]],j[a[1t]])};d=1j 1Z(d);d=1j 1Z(d[a[4Z]](),d[a[7p]](),d[a[9C]](),0,0,0,0);if(!j[a[ue]]){j[a[ue]]=1f;1a b={};if(h[a[G7]]){1i(1a g in h[a[G7]]){b[g]=h[a[G7]][g]}};b[a[2ao]]=1g;$(j[a[139]])[a[9p]](b)[a[9p]](a[j1],d)[a[83]](a[2am],1c(b){if(1L b[a[5U]]==a[0]||b[a[5U]]==a[58]){j[a[jm]]({fN:a[tZ],6W:h[a[o8]]})}1e{j[a[jm]]({fN:a[de],6W:b[a[5U]]})}})}1e{$(j[a[139]])[a[9p]](a[135],1j 1Z(d))}};bv[a[3R]]=1c(b,f){1a g=1b;b=!!b;1a d={};d[a[85]]=a[4Q];d[a[132]]=1f;d[a[5X]]=g[a[1B]];d[a[1n]]=g[a[1n]];d[a[1H]]=g[a[1H]];d[a[8i]]=f;if(b){d[a[dj]]=1f;d[a[5X]]=g[a[1B]]};g[a[136]](d)};bv[a[EU]]=1c(b){1a f=1b;if(!(1L 2g[a[ii]]!==1T&&$(f[a[139]])[a[9p]])){1d 1g};1a g=$(f[a[139]])[a[9p]](a[2al]);1a d=$(f[a[139]])[a[9p]](a[2ai]);if(g!=hQ&&g!=-hQ){g[a[mr]](0,0,0);g=g[a[aO]]()};if(d!=hQ&&d!=-hQ){d[a[mr]](0,0,0);d=d[a[aO]]()};b[a[mr]](0,0,0);b=b[a[aO]]();1d g<=b&&b<d?1f:1g};bv[a[jm]]=1c(f){1a k=1b;1a d=f[a[5U]];1a g;1a h=a[sw];1a j=k[a[1t]][a[1J]];1a b=k[a[1t]];if(j&&j[a[85]]==a[e8]&&i(j[a[7f]])){j=j[a[7f]](k[a[1H]],k[a[1n]],k[a[1w]][b[a[1m]]],k[a[1w]],b[a[1m]]);if(l(j)){j={}}};if(j&&j[a[au]]==a[xu]){g=1j 1Z(d)[a[aO]]()}1e{if(j&&j[a[au]]){h=j[a[au]]}1e{if(!m(b[a[4P]])){h=b[a[4P]]}1e{if(k[a[1B]]&&k[a[1B]][a[59]]>3){if(k[a[1B]][a[19]](a[217])>0){h=a[257]}}}};if(1D(1Z[a[123]](d))){g=d}1e{g=V[a[aS]](d,h)}};k[a[1B]]=g;k[a[3R]](1g,l(f[a[109]])?a[de]:f[a[109]])};1c E(){p[a[21]](1b,a[43],a[2aj]);1a b=1b;b[a[165]]=a[8d];b[a[1w]]=1h;b[a[1t]]=1h;b[a[1B]]=1h;b[a[1n]]=-1;b[a[1H]]=-1;b[a[GS]]=a[217];b[a[ue]]=1g;b[a[aF]]=y[a[46]];b[a[66]]()}bf(E,p);bv=E[a[23]];bv[a[66]]=1c(){};bv[a[3y]]=1c(f){1a b=1b;1a d=b[a[aF]];f=b[a[8T]](f);b[a[4E]]=f;b[a[139]][d]=f};bv[a[132]]=1c(d){1a b=1b;if(2g[a[ii]]!==1T&&$(b[a[139]])[a[9p]]){$(b[a[139]])[a[9p]](a[132])};if(!d&&b[a[139]][a[95]]!==1h){b[a[139]][a[95]][a[188]](b[a[139]])};p[a[23]][a[132]][a[21]](1b,d)};bv[a[135]]=1c(){1a j=1b;1a b;1a h;1a f=j[a[1B]];1a p;1a o;1a n;1a k;if(!j[a[1w]]||!(2g[a[ii]]!==1T&&$(j[a[139]])[a[9p]])){1d};if(j[a[1t]]&&j[a[1t]][a[1J]]){h=j[a[1t]][a[1J]];if(h&&h[a[85]]==a[e8]&&i(h[a[7f]])){h=h[a[7f]](j[a[1H]],j[a[1n]],j[a[1w]][j[a[1t]][a[1m]]],j[a[1w]],j[a[1t]][a[1m]]);if(l(h)){h={}}}}1e{1d};if(!m(f)){if(!m(j[a[1t]][a[4P]])){b=V[a[f3]](f,j[a[1t]][a[4P]]);if(1D(1Z[a[123]](b))){b=1j 1Z()}}1e{if(!1D(1o(f))){if(1E(f)[a[19]](a[218])==-1&&1E(f)[a[19]](a[217])==-1&&1E(f)[a[59]]>8){b=1j 1Z(1o(f));if(1D(1Z[a[123]](b))){b=1j 1Z()}}1e{p=1j 1Z();o=p[a[4Z]]()+a[58];n=p[a[7p]]()+1+a[58];k=p[a[9C]]()+a[58];if(1E(n)[a[59]]<2){n=a[215]+n};if(1E(k)[a[59]]<2){k=a[215]+k};f=1E(f);4v(1E(f)[a[59]]){1C 1:;1C 2:f=o+a[218]+n+a[218]+f;1l;1C 3:;1C 4:f=f+a[218]+n+a[218]+k;1l;1C 5:;1C 6:f=f[a[4c]](0,4)+a[218]+f[a[4c]](4)+a[218]+k;1l;1C 7:f=f[a[4c]](0,4)+a[218]+f[a[4c]](4,6)+a[218]+f[a[4c]](6);1C 8:;4w:f=f[a[4c]](0,4)+a[218]+f[a[4c]](4,6)+a[218]+f[a[4c]](6,8)};b=1j 1Z(f)}}1e{if(1E(f)[a[19]](a[217])>=0){f=1E(f)[a[56]](/-/g,a[218])};b=1Z[a[123]](f);if(1D(b)){b=1j 1Z()}}}}1e{b=1j 1Z()};if(i(h[a[u1]])){b=h[a[u1]](j[a[1H]],j[a[1n]],j[a[1w]][j[a[1t]][a[1m]]],j[a[1w]],j[a[1t]][a[1m]],j[a[1t]])};b=1j 1Z(b);b=1j 1Z(b[a[4Z]](),b[a[7p]](),b[a[9C]](),0,0,0,0);if(!j[a[ue]]){j[a[ue]]=1f;1a d={};if(h[a[IF]]){1i(1a g in h[a[IF]]){d[g]=h[a[IF]][g]}};d[a[aS]]=a[2ak];d[a[2ap]]=1c(d){if(1L d==a[0]||d==a[58]){j[a[jm]]({fN:a[tZ],6W:h[a[o8]]})}1e{j[a[jm]]({fN:a[de],6W:1j 1Z(d)})}};$(j[a[139]])[a[9p]](d)[a[9p]](a[j1],b)}1e{$(j[a[139]])[a[9p]](a[j1],1j 1Z(b))}};bv[a[3R]]=1c(b,f){1a g=1b;b=!!b;1a d={};d[a[85]]=a[4Q];d[a[132]]=1f;d[a[5X]]=g[a[1B]];d[a[1n]]=g[a[1n]];d[a[1H]]=g[a[1H]];d[a[8i]]=f;if(b){d[a[dj]]=1f;d[a[5X]]=g[a[1B]]};g[a[136]](d)};bv[a[EU]]=1c(b){1a g=1b;1a f,h,d;if(!(1L 2g[a[ii]]!==1T&&$(g[a[139]])[a[9p]])){1d 1g};f=$[a[9p]][a[2aq]](g[a[139]]);if(!f){1d 1f};h=$[a[9p]][a[1l9]](f,a[1A]);d=$[a[9p]][a[1l9]](f,a[1F]);if(h==1h){h=1j 1Z(b)};if(d==1h){d=1j 1Z(b)};if(h!=hQ&&h!=-hQ){h[a[mr]](0,0,0);h=h[a[aO]]()};if(d!=hQ&&d!=-hQ){d[a[mr]](0,0,0);d=d[a[aO]]()};b[a[mr]](0,0,0);b=b[a[aO]]();1d h<=b&&b<=d?1f:1g};bv[a[jm]]=1c(f){1a k=1b;1a d=f[a[5U]];1a g;1a h=a[sw];1a j=k[a[1t]][a[1J]];1a b=k[a[1t]];if(j&&j[a[85]]==a[e8]&&i(j[a[7f]])){j=j[a[7f]](k[a[1H]],k[a[1n]],k[a[1w]][b[a[1m]]],k[a[1w]],b[a[1m]]);if(l(j)){j={}}};if(j&&j[a[au]]==a[xu]){g=1j 1Z(d)[a[aO]]()}1e{if(j&&j[a[au]]){h=j[a[au]]}1e{if(!m(b[a[4P]])){h=b[a[4P]]}1e{if(k[a[1B]]&&k[a[1B]][a[59]]>3){if(k[a[1B]][a[19]](a[217])>0){h=a[257]}}}};if(1D(1Z[a[123]](d))){g=d}1e{g=V[a[aS]](d,h)}};k[a[1B]]=g;k[a[3R]](1g,l(f[a[109]])?a[de]:f[a[109]])};1c bW(){b[a[21]](1b,a[43],a[1l8])}bf(bW,b);bv=bW[a[23]];bv[a[66]]=1c(){b[a[23]][a[66]][a[21]](1b);1a d=1b;d[a[150]](a[183],a[eV]);d[a[5j]]=1j O(a[2av]);d[a[210]](d[a[5j]],1f)};bv[a[132]]=1c(d){1a b=1b;1b[a[139]][a[144]]=1h;bA(1b[a[139]],a[al],1b[a[9s]]);if(b[a[139]][a[82]]){b[a[139]][a[82]]=1h};if(b[a[139]][a[90]]){b[a[139]][a[90]]=1h};if(1b[a[147]]){1b[a[147]][a[132]](1g);1b[a[147]]=1h};b[a[5j]][a[132]](d);if(!d){if(b[a[145]]&&b[a[145]][a[146]]){b[a[145]][a[146]](b)};b[a[139]]=1h};f[a[23]][a[132]][a[63]](1b);b=1h};bv[a[3y]]=1c(g){1a f=1b;1a b=f[a[1t]];if(f[a[5t]]){f[a[5j]][a[139]][a[44]]=a[58];1d};g=f[a[8T]](g);f[a[4E]]=g;1a d=f[a[5j]][a[139]];d[a[44]]=g;if(b&&b[a[6f]]&&b[a[6f]][a[gY]]===1f){d[a[162]](a[5z],g)}};bv[a[135]]=1c(){1a b=1b;if(!b[a[1w]]){1d};if(b[a[1X]]){b[a[5j]][a[150]](a[167],b[a[1X]]-2+a[149])};if(l(b[a[1B]])){b[a[1B]]=a[58]};b[a[3y]](b[a[1B]])};1c bX(){bB[a[21]](1b,a[43],a[1l8]);1a b=1b;b[a[vU]]=0;b[a[4E]]=a[58];b[a[at]]=2z}bf(bX,bB);bv=bX[a[23]];bv[a[66]]=1c(){1b[a[139]][a[144]]=1b;r(1b[a[139]],a[al],1b[a[9s]])};bv[a[3y]]=1c(d){1a b=1b;if(b[a[5t]]){b[a[139]][a[44]]=a[58];1d};d=b[a[8T]](d);b[a[4E]]=d;b[a[139]][a[44]]=d;if(b[a[1t]]&&b[a[1t]][a[6f]]&&b[a[1t]][a[6f]][a[gY]]===1f){el[a[162]](a[5z],d)}};bv[a[132]]=1c(b){1b[a[139]][a[144]]=1h;bA(1b[a[139]],a[al],1b[a[9s]]);p[a[23]][a[132]][a[21]](1b,b)};bv[a[135]]=1c(){1a b=1b;if(!b[a[1w]]){1d};if(1L b[a[1B]]==a[0]){b[a[1B]]=a[58]};b[a[3y]](b[a[1B]])};bv[a[9s]]=1c(d){1a f=1b[a[144]];1a b=f[a[1t]];if(f[a[i9]]||(b&&b[a[6f]]&&b[a[6f]][a[gY]]===1f)){1d};if(1b[a[3O]]<1b[a[pT]]){f[a[202]](a[5z],cd[a[9F]](f[a[4E]]))}1e{f[a[202]](a[5z],a[58])}};1c bt(){bB[a[21]](1b,a[43],a[2aw]);1a b=1b;b[a[4E]]=a[58];b[a[at]]=2z;b[a[5t]]=1g}bf(bt,bB);bv=bt[a[23]];bv[a[66]]=1c(){bB[a[23]][a[66]][a[21]](1b);1b[a[139]][a[144]]=1b;1b[a[dZ]]=1j x();1b[a[dZ]][a[139]][a[144]]=1b;1b[a[dZ]][a[199]](a[77],a[1l2]);r(1b[a[dZ]][a[139]],a[2h],1b[a[sq]]);1b[a[210]](1b[a[dZ]],1f);r(1b[a[139]],a[al],1b[a[9s]])};bv[a[3y]]=1c(i){1a f=1b;1a h=a[7T];1a d=f[a[1t]][a[1G]];1a b=f[a[dZ]][a[139]];1a g=f[a[aF]];i=f[a[8T]](i);f[a[4E]]=i;if(d){if(d[a[gT]]){h=d[a[gT]];if(!l(d[a[9J]])&&!l(f[a[1w]][d[a[9J]]])){h+=f[a[1w]][d[a[9J]]]}}1e{if(!l(d[a[9J]])&&!l(f[a[1w]][d[a[9J]]])){h=f[a[1w]][d[a[9J]]]}};if(d[a[gT]]==a[xB]){f[a[dZ]][a[199]](a[77],a[58]);f[a[dZ]][a[199]](a[w0],a[7T])}1e{f[a[dZ]][a[199]](a[w0],h)}};b[g]=f[a[5t]]?a[58]:i;if(f[a[1t]]&&f[a[1t]][a[6f]]&&f[a[1t]][a[6f]][a[gY]]===1f){b[a[162]](a[5z],i)};b=1h};bv[a[132]]=1c(b){1b[a[139]][a[144]]=1h;1b[a[dZ]][a[139]][a[144]]=1b;bA(1b[a[dZ]][a[139]],a[2h],1b[a[sq]]);bA(1b[a[139]],a[al],1b[a[9s]]);1b[a[dZ]][a[132]](b);p[a[23]][a[132]][a[21]](1b,b)};bv[a[135]]=1c(){1a b=1b;if(!b[a[1w]]){1d};if(l(b[a[1B]])){b[a[1B]]=a[58]};if(b[a[1X]]){b[a[150]](a[167],b[a[1X]]-2+a[149])};b[a[3y]](b[a[1B]])};bv[a[sq]]=1c(b){1a d=1b[a[144]];if(d[a[1t]][a[1G]][a[gT]]==a[xB]&&i(d[a[1t]][a[1G]][a[1kV]])){b[a[91]]();d[a[1t]][a[1G]][a[1kV]](d[a[1H]],d[a[1n]],d[a[1B]],d[a[1w]])}};bv[a[9s]]=1c(d){1a f=1b[a[144]];1a b=f[a[1t]];if(f[a[i9]]||(b&&b[a[6f]]&&b[a[6f]][a[gY]]===1f)){1d};if(1b[a[3O]]<1b[a[pT]]){f[a[199]](a[5z],f[a[4E]])}1e{if(f[a[200]](a[5z])){f[a[201]](a[5z])}}};1c R(b){p[a[21]](1b,a[43],a[O9]);1a d=1b;d[a[1w]]=1h;d[a[1t]]=1h;d[a[1B]]=1h;d[a[QX]]=1h;d[a[1n]]=-1;d[a[1H]]=-1;d[a[Qv]]=1g;d[a[Ex]]=1h;d[a[66]]()}bf(R,p);bv=R[a[23]];bv[a[66]]=1c(){1a b=1b;b[a[139]][a[144]]=1b;r(b[a[139]],a[2i],b[a[iw]]);r(b[a[139]],a[qY],b[a[6H]]);r(b[a[139]],a[qz],b[a[6H]]);if(y[a[2]]){r(b[a[139]],a[2X],b[a[6H]])}};bv[a[132]]=1c(d){1a b=1b;bA(b[a[139]],a[2i],b[a[iw]]);bA(b[a[139]],a[qY],b[a[6H]]);bA(b[a[139]],a[qz],b[a[6H]]);if(y[a[2]]){bA(b[a[139]],a[2X],b[a[6H]])};b[a[139]][a[144]]=1h;if(!d&&b[a[139]][a[95]]!==1h){b[a[139]][a[95]][a[188]](b[a[139]])};p[a[23]][a[132]][a[21]](b,d)};bv[a[135]]=1c(){1a b=1b;if(!b[a[1w]]){1d};b[a[pZ]]()};bv[a[3R]]=1c(b,d){1b[a[136]]({1P:a[4Q],pI:1b[a[1B]],qr:d})};bv[a[pZ]]=1c(){1a x=1b;1a h=1g;1a q,n,r,s;1a w={};1a o=x[a[1B]];1a z=x[a[QX]];1a d=a[P4];1a v;1a y;1a k;1a A;1a t;1a b;1a f=[];1a j=1g;1a u=1f;if(!x[a[1t]]){1d};b=x[a[1t]][a[1m]];if(x[a[1t]]&&x[a[1t]][a[1J]]){w=x[a[1t]][a[1J]]};if(w&&w[a[85]]==a[e8]&&i(w[a[7f]])){w=w[a[7f]](x[a[1H]],x[a[1n]],x[a[1w]][b],x[a[1w]],b);if(l(w)){w={}}};q=w[a[h1]];r=w[a[h0]];k=w[a[8Z]];A=w[a[8V]];if(!l(k)&&!l(A)){h=1f};if(i(r)){q=r(x[a[1H]],x[a[1n]],x[a[1w]],b)};if(!bi(q)){q=[]};if(w[a[qT]]===1f&&bi(x[a[Ex]])&&!h){q=cd[a[7V]](q[a[5I]](x[a[Ex]]))[a[aP]]()};if(x[a[Qv]]&&bi(q)&&w[a[qH]]===1f&&!m(o)){t=1j X();u=w[a[1kT]]===1g?1g:1f;if(h){q=cd[a[cv]](q,1c(b,d){1d t[a[kI]](d[A],z,u)})}1e{q=cd[a[cv]](q,1c(b,d){1d t[a[kI]](d,o,u)})}};n=w[a[6O]];s=w[a[PV]];if(bi(q)&&q[a[59]]>0){1i(1a g=0,p=q[a[59]];g<p;g++){y=v=q[g];if(h){v=q[g][k];y=q[g][A]};if(1L v==a[0]&&1L y==a[0]){y=v=a[58]};if(i(s)){y=s(x[a[1H]],x[a[1n]],y,x[a[1w]],b,q[g])}1e{if(i(n)){y=n(x[a[1H]],x[a[1n]],y,x[a[1w]],b)}1e{y=cd[a[qc]](y)}};if(v==o){j=1f;f[f[a[59]]]=a[yn]+v+a[3C]+y+a[aj]}1e{f[f[a[59]]]=a[rE]+v+a[3C]+y+a[aj]}};if(w[a[qN]]===1f&&!j&&f[a[59]]>0){f[0]=f[0][a[56]](a[h2],a[8W])};d+=f[a[61]](a[58]);d+=a[rA];x[a[139]][a[44]]=d}1e{x[a[139]][a[44]]=a[58];x[a[213]](1g)}};bv[a[iw]]=1c(b){1a d=1b[a[144]];b[a[92]]();b[a[91]]();if(b[a[109]]>1){1d};1a f=b[a[77]];1a g;1U(f[a[95]]){g=f[a[163]](a[5Q]);if(!l(g)){1l};f=f[a[95]]};if(l(g)){1d};d[a[1B]]=g;d[a[3R]](1g,a[de]);f=1h};bv[a[6H]]=1c(b){b[a[92]]()};1c bz(){p[a[21]](1b,a[43],a[O9]);1a b=1b;b[a[1w]]=1h;b[a[1B]]=1h;b[a[1n]]=-1;b[a[1H]]=-1;b[a[P0]]=1h;b[a[66]]()}bf(bz,p);bv=bz[a[23]];bv[a[66]]=1c(){1a b=1b;b[a[139]][a[144]]=1b;r(b[a[139]],a[2i],b[a[iw]]);r(b[a[139]],a[qY],b[a[6H]]);r(b[a[139]],a[qz],b[a[6H]]);if(y[a[2]]){r(b[a[139]],a[2X],b[a[6H]])}};bv[a[132]]=1c(d){1a b=1b;bA(b[a[139]],a[2i],b[a[iw]]);bA(b[a[139]],a[qY],b[a[6H]]);bA(b[a[139]],a[qz],b[a[6H]]);if(y[a[2]]){bA(b[a[139]],a[2X],b[a[6H]])};b[a[139]][a[144]]=1h;if(!d&&b[a[139]][a[95]]!==1h){b[a[139]][a[95]][a[188]](b[a[139]])};p[a[23]][a[132]][a[21]](b,d)};bv[a[135]]=1c(){1a b=1b;if(!b[a[1w]]){1d};b[a[pZ]]()};bv[a[3R]]=1c(b,d){1b[a[136]]({1P:a[4Q],pI:1b[a[1B]],qr:d})};bv[a[pZ]]=1c(){1a t=1b;1a h=1g;1a m;1a s={};1a n=t[a[1B]];1a p=t[a[P0]];1a d=a[P4];1a r;1a u;1a k;1a v;1a b;1a f=[];1a j=1g;1a q;if(!t[a[1t]]){1d};t[a[AT]]={};b=t[a[1t]][a[1m]];if(t[a[1t]]&&t[a[1t]][a[1J]]){s=t[a[1t]][a[1J]]};if(s&&s[a[85]]==a[e8]&&i(s[a[7f]])){s=s[a[7f]](t[a[1H]],t[a[1n]],t[a[1w]][b],t[a[1w]],b);if(l(s)){s={}}};if(!bi(p)){p=[]};m=s[a[6O]];q=s[a[PV]];k=s[a[8Z]];v=s[a[8V]];if(!l(k)&&!l(v)){h=1f};if(!h){if(!l(s[a[1kW]])){h=1f;k=s[a[1kW]];v=1h}};if(bi(p)&&p[a[59]]>0){1i(1a g=0,o=p[a[59]];g<o;g++){u=r=p[g];if(h){r=p[g][k];if(v!==1h){u=p[g][v];t[a[AT]][r]=u}1e{u=r}};if(i(q)){u=q(t[a[1H]],t[a[1n]],u,t[a[1w]],b,p[g])}1e{if(i(m)){u=m(t[a[1H]],t[a[1n]],u,t[a[1w]],b)}1e{u=cd[a[qc]](u)}};if(r==n&&!j&&s[a[1kX]]!==1g){j=1f;f[f[a[59]]]=a[yn]+r+a[3C]+u+a[aj]}1e{f[f[a[59]]]=a[rE]+r+a[3C]+u+a[aj]}};if(s[a[qN]]===1f&&s[a[1kX]]!==1g&&!j&&f[a[59]]>0){f[0]=f[0][a[56]](a[h2],a[8W])};d+=f[a[61]](a[58]);d+=a[rA];t[a[139]][a[44]]=d}1e{t[a[139]][a[44]]=l(s[a[Da]])?a[2au]:s[a[Da]]}};bv[a[Hj]]=1c(b){1a d=1b;1a f=1h;if(1L d[a[AT]][b]!=a[0]){f=d[a[AT]][b]};1d f};bv[a[iw]]=1c(b){1a f=1b[a[144]];1a g=b[a[77]];1a d;b[a[92]]();b[a[91]]();if(b[a[109]]>1){1d};1U(g[a[95]]){d=g[a[163]](a[5Q]);if(!l(d)){1l};g=g[a[95]]};if(l(d)){1d};f[a[1B]]=d;f[a[3R]](1g,a[de]);g=1h};bv[a[6H]]=1c(b){b[a[92]]()};W[a[2k]]={1l0:y[a[FO]],2at:y[a[Gn]],2ar:y[a[51]],1kZ:4,yx:a[2as],29J:a[29I],28R:a[28S],28Q:1c(){1d W[a[Bf]][a[w0]]},28P:1c(){1a d=[];1a b=W[a[Bf]][a[28M]];1a f;if(!m(b)){f=b[a[59]]-1;1U(f>=0){d[a[1s]](b[f]);f--}};d[a[1s]](W[a[Bf]][a[w0]]);1d d},28N:1c(d,b){1d V[a[aS]](d,b)},28O:1c(f,b,d){1d V[a[da]](f,b,d)},28T:1c(){1a d=1N[a[tp]];1a b;1a f=1h;if(d&&d[a[165]]==a[M4]){1U(d){b=1E(d[a[165]]);if(b&&b==a[sa]&&d[a[95]]){f=d[a[95]][a[nW]];1l};d=d[a[95]];if(d===1N[a[102]]){1l}}};if(f!==1h){f=a[7T]+f};1d f},1pW:1c(){1a b=[];1i(1a d in y[a[1]]){b[a[1s]](d)};1d b},28U:1c(d){y[a[38]]=d;if(d){1a b=1N[a[tp]];if(!l(b)&&b[a[165]]==a[M4]&&i(b[a[cV]])){b[a[cV]]()}}},28Z:1c(){1d y[a[38]]},FH:1c(b,d){1d cd[a[Fq]](b,d,1h)},29a:1c(b,d){1d cd[a[Fq]](b,d,1h,1f)},Ai:1c(j,b,g){if(y[a[1]][j]){1d j};if(1L Ra!=a[0]){2g[a[28Y]]=Ra};if(1L qI!=a[0]){2g[a[rL]]=qI};1a f=1j y[a[oU]]();1a k;1a h;if(l(j)||l(b)){1d};if(bi(1Y[2])){k=1Y[2];g=1Y[3]};1a d={};if(l(g)){g={}};if(!l(2g[a[2k]][a[Q4]])&&bn(2g[a[2k]][a[Q4]])){d=cd[a[69]](1f,{},2g[a[2k]][a[Q4]])};if(!l(2g[a[rL]])&&bn(2g[a[rL]])){d=cd[a[69]](1f,d,2g[a[rL]]);V[a[o7]]=d[a[o7]];V[a[ae]]=d[a[ae]];V[a[pU]]=cd[a[pU]][d[a[ae]]]||cd[a[pU]][a[b4]];M[a[236]][a[237]]=d[a[237]];M[a[236]][a[235]]=d[a[235]];M[a[236]][a[239]]=d[a[239]]};h=cd[a[69]](1f,d,g);if(h[a[3p]]&&!h[a[2m]]){h[a[ef]]=1g};if(m(h[a[1M]])){h[a[1M]]=a[x2]};if(g[a[mO]]){h[a[mO]]=g[a[mO]]};1i(1a i in h){f[i]=h[i]};y[a[1]][j]=f;f[a[28X]](j,b,g[a[127]],g[a[129]],k,h);1d j},1kU:1c(f,d){1a b=y[a[1]][f];if(!b){1d 1h};if(b[a[Dx]]&&d===1f){1d 1h};1d b},28V:1c(d){1a b=y[a[1]][d];if(l(b)){1d 1g};1d 1f},I4:1c(d,b){1d 1b[a[28W]](d,b)},1l1:1c(f,d){1a b=1b[a[1y]](f);if(l(d)){1d};if(b){1d b[d]};1d 1h},Fr:1c(f,b){1a d=1b[a[1y]](f,1f);if(l(b)){1d};if(d){d[a[n1]](b)}},Mv:1c(d,g,f){1a b=1b[a[1y]](d,1f);if(l(g)){1d};if(b){b[a[28L]](g,f)}},Lk:1c(g,b,f){1a d=1b[a[1y]](g,1f);if(l(b)){1d};if(l(f)){f=1f};if(d){d[a[28K]](b,a[53],f)}},LA:1c(f,b){1a d=1b[a[1y]](f,1f);if(l(b)){1d};if(d){d[a[1pR]](b)}},M7:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[K4]]()}},iq:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[Au]]();if(b[a[6R]]){b[a[sx]]()};if(b[a[2Z]]){b[a[ox]]();b[a[jB]]()}}},HI:1c(g,f,b){1a d=1b[a[1y]](g,1f);if(l(f)||l(b)){1d};if(d){d[a[28A]](f,b)}},Iu:1c(f,d){1a b=1b[a[1y]](f,1f);if(l(d)){1d};if(b){b[a[28B]](d)}},It:1c(d){1a b=1b[a[1y]](d);if(b){b[a[28z]]()}},Iq:1c(d){1a b=1b[a[1y]](d);if(b){b[a[28y]]()}},IB:1c(f,b){1a d=1b[a[1y]](f);if(l(b)){1d};if(d){1d d[a[6l]](b)};1d-1},IM:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[28v]]()}},IN:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[1l7]]()}},I1:1c(d,f){1a b=1b[a[1y]](d,1f);if(l(f)){1d};if(b){b[a[1l6]](f,1f)}},28w:1c(d,f){1a b=1b[a[1y]](d,1f);if(l(f)){1d};if(b){b[a[1l6]](f,1g)}},I8:1c(d,f){1a b=1b[a[1y]](d,1f);if(l(f)){1d};if(b){b[a[28x]](f)}},G9:1c(f,b,g){1a d=1b[a[1y]](f,1f);if(l(b)||l(g)){1d};if(d){d[a[1l3]](b,g,1f)}},28C:1c(f,b,g){1a d=1b[a[1y]](f,1f);if(l(b)){1d};if(d){d[a[1l3]](b,g,1g)}},Lx:1c(f,b,g){1a d=1b[a[1y]](f,1f);if(l(b)){1d};if(d){d[a[28D]](b,g)}},Lr:1c(d,f){1a b=1b[a[1y]](d);if(b){1d b[a[Ls]](f)}},LB:1c(f,b){1a d=1b[a[1y]](f,1f);if(d){d[a[1kF]](b)}},Jp:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[Jm]]()};1d[]},Ji:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[Kj]]()};1d[]},Kx:1c(f,g,b){1a d=1b[a[1y]](f,1f);if(l(g)){1d};if(l(b)){b=0};if(d){d[a[dN]](g,b)}},Kb:1c(d,f){1a b=1b[a[1y]](d);if(l(f)){1d-1};if(b){1d b[a[sQ]](f)};1d-1},Ky:1c(d,f){1a b=1b[a[1y]](d);if(bl(f)||f<0){1d 1h};if(b){1d b[a[oJ]](f)};1d 1h},Kr:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[28I]]()}},J6:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[Ja]]()}},Jc:1c(f,b){1a d=1b[a[1y]](f,1f);if(1D(1o(b))){b=0};if(d){d[a[p9]](b)}},IU:1c(f,b){1a d=1b[a[1y]](f,1f);if(1D(1o(b))){b=0};if(d){d[a[28J]](b)}},IQ:1c(f,d,g){1a b=1b[a[1y]](f,1f);if(l(d)){1d};if(b){b[a[te]](d,g)}},Db:1c(f,g,d){1a b=y[a[1]][f];if(b){b[a[tw]](g,d)}},Jy:1c(f,d){1a b=1b[a[1y]](f);if(l(d)){d=a[58]};if(b){b[a[LR]](d)}},28H:1c(d,b){1b[a[LR]](d,b)},LS:1c(d){1a b=1b[a[1y]](d);if(b){b[a[28G]](d)}},M3:1c(f,b){1a d=1b[a[1y]](f,1f);if(d){d[a[28E]](b)}},Mi:1c(g,f,h,d){1a b=1b[a[1y]](g,1f);if(l(f)||l(h)){1d};if(b){b[a[g9]](f,h,d)}},Mc:1c(f,d,g){1a b=1b[a[1y]](f,1f);if(l(d)){1d};if(l(g)){g=a[7G]};if(b){b[a[eR]](d,g)}},Md:1c(d,f){1a b=1b[a[1y]](d,1f);if(l(f)){1d};if(b){b[a[gd]](f)}},L3:1c(d,f){1a b=1b[a[1y]](d,1f);if(l(f)){1d};if(b){b[a[1lh]](f)}},KH:1c(f,d){1a b=1b[a[1y]](f);if(b){1d b[a[1li]](d)};1d[]},KS:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[28F]]()};1d[]},KO:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[1lj]]()};1d[]},Lq:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[29b]]()};1d[]},Lm:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[1lf]]()};1d[]},IP:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[1lc]]()};1d 0},Ll:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[29c]]()};1d 1},Lj:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[Lh]]()};1d[]},1lk:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[29y]]()};1d[]},Fz:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[29z]]()};1d[]},FB:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[29x]]()};1d[]},Gs:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[29w]]()};1d[]},Gq:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[29u]]()};1d[]},FL:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[29v]]()};1d[]},G1:1c(d,f){1a b=1b[a[1y]](d);if(l(f)){1d};if(b){1d b[a[o4]](f,1f)};1d 1h},IO:1c(d,f){1a b=1b[a[1y]](d);if(l(f)){1d};if(b){1d b[a[29A]](f)};1d 1h},Ij:1c(f,d){1a b=1b[a[1y]](f,1f);if(b){1d b[a[1jS]](d)};1d 1h},29B:1c(d,b){1d 1b[a[1jS]](d,b)},HY:1c(f,d,g){1a b=1b[a[1y]](f,1f);if(b){b[a[1jN]](d,g)}},29G:1c(d,b,f){1b[a[1jN]](d,b,f)},IL:1c(d,f){1a b=1b[a[1y]](d,1f);if(b){b[a[1jm]](f)}},29H:1c(b,d){1b[a[1jm]](b,d)},GW:1c(d,f){1a b=1b[a[1y]](d,1f);if(b){b[a[1jr]](f)}},29F:1c(b,d){1b[a[1jr]](b,d)},HB:1c(d,f){1a b=1b[a[1y]](d,1f);if(b){b[a[1jV]](f)}},29E:1c(b,d){1b[a[1jV]](b,d)},RQ:1c(f,b,g){1a d=1b[a[1y]](f,1f);if(d){d[a[1kl]](b,g)}},29C:1c(d,b,f){1b[a[1kl]](d,b,f)},1kn:1c(){if(y[a[17]]){1d 1L 2g[a[42]]!==a[0]?1f:1g};1d y[a[41]]},29D:1c(){1d 1b[a[29t]]()},Rj:1c(d,f){1a b=1b[a[1y]](d,1f);if(b){b[a[1kh]](f)}},29s:1c(b,d){1b[a[1kh]](b,d)},R3:1c(f,b){1a d=1b[a[1y]](f,1f);if(l(b)){1d};if(d){d[a[QK]](b)}},Rq:1c(f,b){1a d=1b[a[1y]](f,1f);if(l(b)){1d};if(d){d[a[Rh]](b)}},29i:1c(f,b){1a d=1b[a[1y]](f,1f);if(l(b)){1d};if(d){d[a[1kw]](b,1g)}},29j:1c(f,b){1a d=1b[a[1y]](f,1f);if(l(b)){1d};if(d){d[a[1kw]](b,1f)}},Se:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[29h]]()};1d[]},R2:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[29g]]()};1d[]},gA:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[132]](1g);2j y[a[1]][d]};b=1h},Qz:1c(f,h,d,g){1a b=1b[a[1y]](f,1f);if(l(h)){1d};if(b){b[a[29d]](h,d,g)}},QL:1c(d,f){1a b=1b[a[1y]](d);if(l(f)){1d};if(b){1d b[a[29e]](f)}},29f:1c(f,b){1a d=1b[a[1y]](f,1f);if(l(b)){b=1};if(d){d[a[29k]](1o(b))}},RF:1c(d,f){1a b=1b[a[1y]](d,1f);if(l(f)){1d};if(b){b[a[29l]](f)}},NI:1c(d,f){1a b=1b[a[1y]](d,1f);if(l(f)){1d};if(b){if(!b[a[2m]]&&b[a[1V]]>0&&f>=b[a[1V]]){f-=b[a[1V]]};b[a[3m]](f)}},29q:1c(f,d){1a b=1b[a[1y]](f,1f);if(l(d)){1d};if(b){b[a[qm]](1f);b[a[a2]]=[];b[a[5F]]=d;b[a[1O]]=[];b[a[5S]](1f)}},Oa:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[29r]]()}},29p:1c(f,g,b){1a d=1b[a[1y]](f,1f);if(bl(g)){1d};if(bl(b)){b=g};if(d){d[a[29o]](g,b)}},29m:1c(d){1a b=1b[a[1y]](d,1f);if(b){1d b[a[29n]]()};1d[-1,-1]},2aN:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[CJ]]=[];b[a[1O]]=[];b[a[qm]](1f);b[a[3j]]=1h;b[a[3k]]=1h;b[a[3t]]=1h;b[a[3u]]=1h;b[a[a2]]=[];b[a[uG]]=[];b[a[uH]]=[];b[a[5J]]=-1;b[a[7z]]=-1;b[a[2aO]]=-1;b[a[2cg]]=-1;b[a[5S]](1f)}},Nu:1c(d,b,f){1b[a[Nt]](d,b,f)},1nw:1c(g,f,i){1a b=1b[a[1y]](g,1f);1a h=[a[2p],a[Ck],a[r7],a[MO],a[jN],a[ry],a[4h],a[MF],a[c0],a[1M],a[1S],a[6R],a[1nx],a[7r],a[2Z],a[2ch],a[Dm],a[1na],a[Da],a[N9],a[1n7],a[Na],a[1n6],a[9R],a[1n4],a[qE],a[1o3],a[Oq],a[Ow],a[Fi],a[mE],a[EN],a[nj],a[q5],a[mG],a[mO],a[mI],a[mK],a[wS],a[OB],a[rh],a[OF],a[OJ],a[1m9],a[zy],a[1mi]];if(l(b)||l(f)){1d};if(bp(f)&&!l(i)){if(h[a[19]](f)>=0){b[f]=i;if(f==a[2p]){b[a[1m1]]()}1e{if(f==a[r7]){b[a[oy]]()}}};1d};if(bn(f)){if(b){1i(1a d in f){if(h[a[19]](d)>=0){b[d]=f[d];if(d==a[2p]){b[a[1m1]]()}1e{if(d==a[r7]){b[a[oy]]()}}}}}}},O7:1c(d,f){1a b=1b[a[1y]](d);if(l(f)){1d 1g};if(b){1d b[a[2cf]](f)};1d 1g},H0:1c(d,f){1a b=1b[a[1y]](d);if(l(f)){1d 1g};if(b){1d b[a[2ce]](f)};1d 1g},IA:1c(d,f){1a b=1b[a[1y]](d);if(l(f)){1d 1g};if(b){1d b[a[2cb]](f)};1d 1g},Il:1c(d,f){1a b=1b[a[1y]](d);if(l(f)){1d-1};if(b){1d b[a[2cc]](f)};1d-1},HV:1c(g,b,d){1a f=1b[a[1y]](g,1f);if(l(b)||l(d)){1d};if(f){f[a[2cd]](b,d)}},I7:1c(f,b){1a d=1b[a[1y]](f,1f);if(l(b)){1d};if(d){d[a[Ig]](b)}},Ii:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[AG]]()}},AH:1c(g,b,h,f){1a d=1b[a[1y]](g,1f);if(l(h)||l(b)){1d};if(d){d[a[1gq]](b,h,f)}},2ci:1c(f,g,d){1a b=1b[a[1y]](f,1f);if(l(g)){1d};if(b){b[a[1gq]](1h,g,d)}},GO:1c(h,g,f,d){1a b=1b[a[1y]](h,1f);if(l(g)){1d};if(b){b[a[2cj]](g,f,d)}},FR:1c(f,d){1a b=1b[a[1y]](f,1f);if(b){b[a[2co]](d)}},G5:1c(f,g,d){1a b=1b[a[1y]](f,1f);if(b){b[a[2cp]](g,d)}},FY:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[2cn]]()}},G0:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[zO]]()};1d[-1,-1]},FK:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[2cm]]()};1d[-1,-1]},FG:1c(f,b,g){1a d=1b[a[1y]](f);if(l(b)){1d 1h};if(d){1d d[a[2ck]](b,g)};1d 1h},FI:1c(f,g,d){1a b=1b[a[1y]](f,1f);if(l(g)){1d};if(b){b[a[2cl]](g,d)}},FD:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[2ca]]()}},GE:1c(d,f){1a b=1b[a[1y]](d,1f);if(b){b[a[sr]](f)}},GH:1c(f,g,b){1a d=1b[a[1y]](f,1f);if(d){d[a[hb]](g,b)}},GB:1c(f,d){1a b=1b[a[1y]](f,1f);if(b){1d b[a[zD]](d)}},GR:1c(f,d){1a b=1b[a[1y]](f,1f);if(l(d)){1d};if(b){b[a[xI]](d)}},GP:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[1eJ]]()}},2c9:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[1eJ]](1f)}},GN:1c(f,b){1a d=1b[a[1y]](f,1f);if(l(b)){1d};if(d){d[a[2bZ]](b)}},Gh:1c(d,f){1a b=1b[a[1y]](d,1f);if(l(f)){1d};if(b){b[a[kb]](1o(f))}},Ge:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[2c0]]()}},Gl:1c(f,b){1a d=1b[a[1y]](f);if(l(b)){1d a[58]};if(d){1d d[a[8Y]](b)};1d a[58]},Gr:1c(f,b,g){1a d=1b[a[1y]](f);if(l(b)){1d[]};if(d){1d d[a[xG]](b,g)};1d[]},Gm:1c(f,b,g){1a d=1b[a[1y]](f);if(l(b)){1d[]};if(d){1d d[a[Go]](b,g)};1d[]},GU:1c(f,b,g){1a d=1b[a[1y]](f);if(l(b)||l(g)){1d[]};if(d){1d d[a[2bY]](b,g)};1d[]},Gb:1c(f,b,g){1a d=1b[a[1y]](f);if(l(b)||l(g)){1d[]};if(d){1d d[a[2bX]](b,g)};1d[]},Gv:1c(g,f,d){1a b=1b[a[1y]](g,1f);if(l(f)){1d};if(b){b[a[2bU]](f,d)}},G8:1c(g,f,h,d){1a b=1b[a[1y]](g,1f);if(l(f)){1d};if(b){b[a[zH]](f,h,d)}},Fw:1c(g,f,h,b){1a d=1b[a[1y]](g,1f);if(l(f)){1d};if(d){d[a[2bV]](f,{aT:h,yw:b})}},Lu:1c(g,d,f,h){1a b=1b[a[1y]](g,1f);if(l(d)){1d};if(b){b[a[jd]](d,f,h)}},Lp:1c(d,f){1a b=1b[a[1y]](d);if(l(f)){1d[]};if(b){1d b[a[rT]](f)};1d[]},L9:1c(d,f){1a b=1b[a[1y]](d);if(l(f)){1d[]};if(b){1d b[a[A8]](f)};1d[]},KT:1c(f,d){1a b=1b[a[1y]](f,1f);if(l(d)){1d};if(b){b[a[2bW]](d)}},KI:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[AW]]()}},KU:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[BR]]()}},L5:1c(f,b,g){1a d=1b[a[1y]](f);if(l(b)){1d 1g};if(d){1d d[a[2c1]](b,g)};1d 1g},Mg:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[2c2]]()}},M6:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[v7]]()}},2c7:1c(b){1b[a[v7]](b)},Mr:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[vj]]()}},2c8:1c(b){1b[a[vj]](b)},2c6:1c(d,f,g){1a b=1b[a[1y]](d,1f);if(b){b[a[BZ]](f,g,1,1h,1f)}},LZ:1c(f,b,g){1a d=1b[a[1y]](f,1f);if(d){d[a[2c5]](b,g)}},M1:1c(d,f){1a b=1b[a[1y]](d,1f);if(b){1d b[a[2c3]](f)}},Jr:1c(d,f){1a b=1b[a[1y]](d);if(b){1d b[a[Jt]](f)};1d 1g},Jo:1c(d,f){1a b=1b[a[1y]](d);if(b){1d b[a[Jj]](f)};1d 1g},Jl:1c(f,g,b){1a d=1b[a[1y]](f);if(d){1d d[a[1fj]](g,b)};1d 1g},J1:1c(d,f){1a b=1b[a[1y]](d);if(b){1d b[a[1fq]](f)};1d 1g},2c4:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[ab]]()};1d 1g},2cq:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[6J]]()};1d 1g},2cr:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[1f1]]()};1d{}},2cN:1c(f,b){1a d=1b[a[1y]](f,1f);if(d){d[a[2cO]](b)}},1ir:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[6B]]()}},2cM:1c(f,b,g){1a d=1b[a[1y]](f,1f);if(d){d[a[2cL]](b,g)}},2cJ:1c(f,b,g){1a d=1b[a[1y]](f,1f);if(d){d[a[uy]](b,g)}},2cK:1c(f,b,g){1a d=1b[a[1y]](f,1f);if(d){d[a[2cP]](b,g)}},Ma:1c(g,i,d,h,b){1a f=1b[a[1y]](g,1f);if(f){f[a[tj]](i,d,h,b)}},2cQ:1c(f,b){1a d=1b[a[1y]](f);if(d){1d d[a[1iA]](b)};1d[]},2cV:1c(f,b){1a d=1b[a[1y]](f);if(d){1d d[a[2cW]](b)};1d 2z},1ic:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[2cU]]()};1d 1g},Hk:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[2cT]]()};1d[]},Hs:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[2cR]]()};1d[]},H2:1c(d,f){1a b=1b[a[1y]](d);if(b){1d b[a[Ia]](f,1g)};1d 1h},2cS:1c(d,f){1a b=1b[a[1y]](d);if(b){1d b[a[Ia]](f,1f)};1d 1h},2cI:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[n1]]([])}},JO:1c(d,f){1a b=1b[a[1y]](d,1f);if(b){b[a[Kc]](f)}},Kv:1c(f,b){1a d=1b[a[1y]](f,1f);if(d){d[a[2cH]](b)}},Kf:1c(d,f){1a b=1b[a[1y]](d);if(b){1d b[a[Vv]](f)};1d 1h},JH:1c(f,g,b){1a d=1b[a[1y]](f);if(d){1d d[a[1j9]](g,b)};1d 1h},5v:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[wV]]()}},5G:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[wE]]()}},zJ:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[2cx]]()};1d 1g},AF:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[2cy]]()};1d 1g},HQ:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[2cw]]()}},Sf:1c(f,b){1a d=1b[a[1y]](f);if(d){1d d[a[cA]](b)}},Rs:1c(f,b){1a d=1b[a[1y]](f,1f);if(d){d[a[2cv]](b)}},S9:1c(f,b){1a d=1b[a[1y]](f,1f);if(d){d[a[2cs]](b)}},2ct:1c(f,b){1a d=1b[a[1y]](f);if(d){1d d[a[1hE]](b)};1d a[58]},2cu:1c(f,g,b,h){1a d=1b[a[1y]](f,1f);if(d){d[a[2cz]](g,b,h)}},2cA:1c(f,g,b){1a d=1b[a[1y]](f);if(d){1d d[a[2cF]](g,b)};1d 1h},2cG:1c(d,f,b){1d 1b[a[2cE]](d,f,b)},1pv:1c(f,g,b){1a d=1b[a[1y]](f);if(d){1d d[a[1ol]](g,b)};1d a[58]},Pb:1c(f,b,g){1a d=1b[a[1y]](f,1f);if(l(b)||l(g)){1d};if(d){d[a[q7]](b,g)}},OZ:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[1q0]]()};1d 1g},P7:1c(d){1a b=1b[a[1y]](d);if(b){b[a[e6]](1f)}},OD:1c(f,b){1a d=1b[a[1y]](f);if(l(b)){1d};if(d){d[a[F0]](b)}},Pj:1c(f,b,g){1a d=1b[a[1y]](f,1f);if(l(b)){1d};if(d){d[a[EW]](b,g)}},PX:1c(g,b,f,h){1a d=1b[a[1y]](g,1f);if(l(b)){1d};if(d){d[a[EX]](b,f,h)}},PW:1c(f,b){1a d=1b[a[1y]](f,1f);if(d){d[a[F9]](b)}},ME:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[1tj]]()};1d 0},Nw:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[2cD]]()};1d[]},Sm:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[2cB]]()};1d[]},If:1c(f,d){1a b=1b[a[1y]](f,1f);if(b){b[a[2cC]](d)}},2bT:1c(f,d){1a b=1b[a[1y]](f,1f);if(l(d)){1d};if(b){b[a[2bS]](d)}},2bb:1c(f,d){1a b=1b[a[1y]](f,1f);if(l(d)){1d};if(b){b[a[1pR]](d);b[a[Au]]();if(b[a[6R]]){b[a[sx]]()};if(b[a[2Z]]){b[a[jB]]()}}},2bc:1c(f,g,d){1a b=1b[a[1y]](f);if(l(g)){1d 1g};if(b){1d b[a[1tg]](g,d)};1d 1g},2ba:1c(g,h,j,d,f){1a b=1b[a[1y]](g);if(l(h)){1d 1g};if(b&&i(j)){1d b[a[1tg]](h,d,j,f)};1d 1g},2b9:1c(g,h,b,f){1a d=1b[a[1y]](g,1f);if(l(f)){1d};if(d){d[a[2b6]](h,b,f)}},2b7:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[GJ]]()}},1rL:1c(f,b){1a d=1b[a[1y]](f);if(l(b)){1d};if(d){1d d[a[F4]](b)}},1rG:1c(d){if(l(d)){1d};1a b=1b[a[1y]](d);if(b){b[a[ha]]()}},1qF:1c(f,d){1a b=1b[a[1y]](f);if(b){1d b[a[KJ]](d)};1d{KQ:-1,Li:-1,uR:-1,uv:-1}},2b8:1c(f,b,g){1a d=1b[a[1y]](f,1f);if(d){d[a[2bd]](b,g)}},2be:1c(f,b,g){1a d=1b[a[1y]](f,1f);if(d){d[a[2bj]](b,g)}},2bk:1c(g,h,d,b,i){1a f=1b[a[1y]](g,1f);if(f){f[a[u0]](h,d,b,i)}},2bi:1c(f,b){1a d=1b[a[1y]](f,1f);if(d){d[a[VD]](b)}},JW:1c(f,g,b){1a d=1b[a[1y]](f);if(d){1d d[a[2bh]](g,b)}},2bf:1c(d,f){1a b=1b[a[1y]](d);if(b){1d b[a[Vv]](f)};1d 1h},2bg:1c(f,g,b){1a d=1b[a[1y]](f);if(l(g)||l(b)){1d-1};if(d){1d d[a[dM]](1o(g),1o(b))};1d-1},2b5:1c(f,g,b){1a d=1b[a[1y]](f);if(l(g)||l(b)){1d-1};if(d){1d d[a[lX]](1o(g),1o(b))};1d-1},2b4:1c(f,h,b){1a d=1b[a[1y]](f);1a g;h=1o(h);b=1o(b);if(1D(h)||1D(b)){1d-1};if(d){g=d[a[En]](h,b);if(g==b){if(!d[a[yG]](h,b)){g=-1}};1d g};1d-1},2aU:1c(f,h,b){1a d=1b[a[1y]](f);1a g;h=1o(h);b=1o(b);if(1D(h)||1D(b)){1d-1};if(d){g=d[a[2aV]](h,b);if(g==b){if(!d[a[yG]](h,b)){g=-1}};1d g};1d-1},2aT:1c(f,g,b){1a d=1b[a[1y]](f);if(l(g)||l(b)){1d[]};if(d){1d cd[a[4R]](1f,[],d[a[CD]](1o(g),1o(b)))};1d[]},2aS:1c(f,g,b){1a d=1b[a[1y]](f);if(l(g)||l(b)){1d 1g};if(d){1d d[a[ux]](g,b)};1d 1g},2aP:1c(f,g,b){1a d=1b[a[1y]](f);if(l(g)||l(b)){1d 1g};if(d){1d d[a[qo]](g,b)};1d 1g},2aQ:1c(f,g,b){1a d=1b[a[1y]](f);if(l(g)||l(b)){1d 1g};if(d){1d d[a[yG]](g,b)};1d 1g},2aR:1c(f,g,d){1a b=1b[a[1y]](f,1f);if(b){1d b[a[2aW]](g,d)};1d 1g},P3:1c(d,g,f){1a b=1b[a[1y]](d,1f);if(b){b[a[SZ]](g,f)}},2aX:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[2b2]]()}},2b3:1c(d,f){1a b=1b[a[1y]](d,1f);if(b){b[a[2b1]](f)}},2b0:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[2aY]]()};1d 1},2aZ:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[2bl]]()};1d{}},2bm:1c(f,d,g){1a b=1b[a[1y]](f,1f);if(b){if(bi(d)&&bn(g)&&bn(g[a[J7]])&&bn(g[a[K5]])){b[a[n1]](d,1h,1f);b[a[eD]]=g[a[K5]];b[a[2bI]](g[a[J7]])}}},2bJ:1c(f,g,b){1a d=1b[a[1y]](f);if(d&&!1D(1o(g))&&!1D(1o(b))){1d d[a[2bH]](g,b)};1d 1h},2bG:1c(d){1a b=1b[a[1y]](d);if(b&&b[a[ab]]()){1d cd[a[69]](1f,[],b[a[as]])};1d[]},Mb:1c(f,d,g){1a b=1b[a[1y]](f);if(b){b[a[19M]](d,g)}},Gj:1c(f,b){1a d=1b[a[1y]](f);if(d){1d d[a[2bE]](b)};1d 1h},2bF:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[2bK]]()};1d[]},2bL:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[2bQ]]()};1d[]},2bR:1c(d,f){1a b=1b[a[1y]](d,1f);if(b){b[a[2bP]](f)}},2bO:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[1dY]](1f)}},2bM:1c(d){1a b=1b[a[1y]](d,1f);if(b){b[a[1dY]](1g)}},NX:1c(f,g,d){1a b=1b[a[1y]](f);if(b){1d b[a[2bN]](g,d)};1d[]},2bD:1c(d,f){1a b=1b[a[1y]](d);if(b){1d b[a[2bC]](f)};1d 1g},2bs:1c(d,f){1a b=1b[a[1y]](d);if(b){1d b[a[2bt]](f)};1d 1g},2br:1c(d,f){1a b=1b[a[1y]](d);if(b){1d b[a[2bq]](f)};1d 1g},QF:1c(f,g,b){1a d=1b[a[1y]](f);if(d){1d d[a[2bn]](g,b)};1d 1g},2bo:1c(f,b){1a d=1b[a[1y]](f);if(d){1d d[a[cA]](d[a[8Y]](b))}},2bp:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[vp]](1f)};1d[]},2bu:1c(f,d){1a b=1b[a[1y]](f);if(b){1d b[a[n6]]=d}},2bv:1c(d,f){1a b=1b[a[1y]](d);if(b){b[a[2bA]](f)}},2bB:1c(d,f){1a b=1b[a[1y]](d);if(b){1d b[a[2bz]](f)};1d 1g},2by:1c(d){1a b=1b[a[1y]](d);if(b){1d b[a[2bw]]()};1d 1g},2bx:1c(d){1a b=1b[a[1y]](d);if(b){b[a[nB]]();b[a[Au]]();if(b[a[6R]]){b[a[sx]]()};if(b[a[2Z]]){b[a[ox]]();b[a[jB]]()}}}}}(b)()})()',62,9655,'||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||var|this|function|return|else|true|false|null|for|new|Math|break|672|895|Number|412|439|aui|318|1522|continue|grid|861|1067|2382|1133|386|819|case|isNaN|String|381|1376|1270|974|1063|_|typeof|1120|document|973|type|1075|423|1216|undefined|while|1155|972|1140|arguments|Date|||||||||||825|696|1069||771|1241|window|394|391|delete|877|1065|458|1923|1157|1341|1271|387|val|2304|1210|1058|434|685|pid|NaN|537|2218|421|1014|503|852|font|1165|1257|typeface|368|3771|1652|1073|1126|rowIndex|1248|676|script|762|1072|2231|1546|393|1105|1196|||||||||||1098|width|3028|1571|657|renderer|433|863|item|1100|1101|columnIndex|2217|778|1715|1186|369|1125|765|1102|1103|3786|429|1627|3955|0xff|780|http|2029|data|xml|2448|358|1554|3717|3782|781|3525|356|1128|441|404|1183|3081|1472|442|openxmlformats|1615|674|schemas|1261|1260|||||||||||1353|1289|593|2213|1541|1460|3716|1212|403|1104|1397|x14|905|1351|1714|inf_leave|1141|492|1451|660|org|switch|default|2006|header|1076|class|3640|979|986|3167|1933|1529|710|row|349|1306|1932|value|4212|658|679|1022|654|714|405|1506|406|2039|height|1600|330|||||||||||3713|1414|420|776|xmlns|Array|1132|333|3765|3773|653|dataField|1809|1399|text|1825|493|3206|RegExp|1277|457|undo|1914|1913|label|811|1400|1963|xdr|1910|671|1180|redo|filter|499|1320|1701|785|list|876|379|2235|1902|2232|1741|checked|670|1131|3859|2927|top|1835|||||||||||1704|schemeClr|drop|1368|2210|3170|3240|throw|3792|3788|656|1483|1000|1721|1193|3511|402|2298|3524|2306|1327|1916|Object|1221|1364|2565|1924|1816|borders|1648|hScrollPos|1965|Error|447|base|1722|1323|left|1191|2393|1473|985|3774|1153|2945|1173|1280|utils|date|3829|1202|1474|||||||||||673|1273|1099|411|763|1528|calendar|1361|3726|754|380|767|497|585|463|331|1453|1154|2307|462|3815|numFmtId|1334|1243|346|1321|1138|1442|count|2618|right|1336|1813|rowPos|1275|vScrollPos|3729|3021|901|1928|0xffff|relationships|1061|3857|Uint8Array|588|3532|1784|1671|name|1412|1354|||||||||||1438|1337|3710|1338|3581|1440|catch|1683|2928|315|1598|1037|1001|1197|1064|1071|417|978|1331|2308|4038|2275|2204|button|1936|1736|setTimeout|1920|2272|1015|2527|484|1041|1074|1070|3029|0x80|1262|1542|359|3105|768|3073|try|360|1786|1443|1559|2895|1160|1410|1558|||||||||||3967|2480|1335|padding|870|2255|1285|1607|main|555|2339|2021|4188|3552|3803|4325|paging|4211|3973|983|483|1750|2621|1315|2309|1170|2001|2349|332|solidFill|366|1918|1339|1521|1842|2324|rgb|officeDocument|419|779|bottom|column|1200|1408|516|711|1167|3019|3020|1608|3767|3022|2236|362|1319|2910|position|448|3766|clearTimeout|4271|1314|2310|1724||438|341|items|1873|621|important|826|1039|2126|||1090|3727|1967|987|1726|1264|1586|3527|3866|865|2836|border|orgEvent|2998|overflow|1040|1654|3954|vertical|300|1268|2634|zlib|2216|2784|1961|689|667|1195|selected|1587|style|2367|2787|1365|1723|2782|2289|1220|3244|1211|505|338|2794|1316|spreadsheetml|2804|indeterminate|||||||||||||||||||||||||||||||||||||||||||||||||||||1149||||2399|3810|3845|1620|3718|3979|||||||2799|400|1465|1907|691|3825|1973|661|headerText||481||||1645|600|2802|||3964|1676|1386|1954|2128|3966|1646|1113|401|769|371|0x3f|1532|2287|343|1198|2521|4242|2214|3808|1407|3583|1876|1284|1694|907|3841|phClr|parseInt|3024|2408|3149|yyyy|cell|srgbClr|1033|btn|348|357|||3231|1111|1291|994|466|3233|1023|1778|3266|3843||1096|431|1657|4201|2785|3508|3183|1051|Target|1647|1379||4075|1272|1444|1325|2341|3758|2340|1007|Type|1194|1294|1641|3016|4053|4079|1428|number|col|1684|1687|1572|1108|4118|1415|4340|766|1915|2265|4121|3787|2842|1922|3824|1330|3639||1030|2303|3865|x00|1158|3795|3507|fillId|borderId|2187||||alignment|3968||2980|ext|align|1658|1049|4304|1163|1046|1130|1919|1540|4298|1114|378|fill|4248|2627|840|2625|4306|678|1841|1548|2833|2215|1425|2956|2290|1129|1242|413|633|2376|742|2311|3725|common|3529|680|center|2908|589|1448|2504|4025|4064|4024|3074|4041|390|626|1911|fontId|872|invalid|1080|application|3777|3101|1035|icon|2211|2212|input|464|465|1748|2841|1668|1420|1004|1858|1833|2188|1831|1832|624|3153|1312|3506|1802|3627|1281|1332|which|0x10000|1124|3106|3779|isUndoProcess|500|1166|342|1628|4134|2099|1121|ub2e4|1094|2896|1423|1995|784|1047|1112|664|3018|1904|treeView|param|2953|702|2534||2004||3526|991|1611||2186|xfId|1597|3568|theme|||zip|3728|3848|3870|2264|__|destroy|569|4073|3770|1034|2809|1207|839|setInterval|1012|dragging|550|grouping|1053|774|modal|uae30|clearInterval|context|2322|footer|check|Relationship|horizontal|3999|wrapper|1561|1560|2902|bar|2471|855|798|uac19|1939|3256|2981|3070|2079|815|361|1719|3515||2170|3160|softRemoveMode|key|satMod|1729|1434|1413|1162|1184|package||1814|3720|Relationships|3846|1651|1457|1509|depth|1492|2252|2405|3816|2798|3752|1760|3000|2789|3177|1912|2285|363|1853|Infinity|4269|3516|761|2624|2623|1192|739|2286|4056|622|3090|2916|1906||vnd|3091|sheet|1152|1523|1421|3715|color||2458||0xd800|0xdc00|2208|804|310|4039|microsoft||com|office|update|1883||ContentType|909||4165|2617|4190|1859|1208|323|1984|398|3814|1563|1199|888|2932|432|instanceof|4176|1176|3844|3842|isBranch|2189|idx|2467|2053|navigator|383|1431|853|3980|1544|4244|2913|2179|underline|3909|2009|3775|1010|1857|dataFields|2005|2169|981|3039|cItem|selection|1435|1359|3007|663|3008|line|4321|1734|3789|3006||646||1394|none|2497|Blob|3790|3793|state|748|1247|1396|625|1547|3538|629|index|3509|1493|uc74c|2080|435|1791|3025|1380|tree|1960|1430|1893|2812|1697|object|984|1591|pos|4023|1429|4222|lib|980|selectionRowIds|1422|2325|3122|2498|1172|3052|4240|1205|3348|367|802|2383|file|4238||1426|load|1801||787|682|4209|807|2315|1032|lumMod|transform|2840|1095|1369|1909|4149|officedocument|1610|1992|365|className|init|1971|1292|1054|scroll|4139|1418|1670|581|4072|908|1505|4085|4091|ubcf4|1218|layer|794|ud544|1355|1905|1017|1885|1135|1517|end|1389|1839|message|1177|2276|keyCode|1008|1838|1823|971|3093||1501|Override|PartName|1864||uace0|1301|margin|2378|2251||2178|3265|3264|1214|1326|inline|1424|applyFill|2078|1759|1592|applyBorder|1436|2615|3268|1531|export|1917|size|489|1815|title|1761|478|1837|3217|1669|1565|1712|1666|1347|1432|extLst|2911|4203|4207|3421|2060|length|3510|3586|4205|4216|3714||4218|1377|3780|4202|4219|3553|733|3041|3847||patternFill||1427|2389|4316||noGenUID|2626|2796|1497|panel|4314|1471|2912|0x0200|3521|Microsoft|1661|3363|1263|2278|1150|1236|2943|num|2691|00001|2850|2385|2072|1406|3809|1235|1433|0xfc00|2237|3400|tint|2313|drawing|1086|4123|0x1f|4247|2637|1223|parse|1942|2538|3017|support|3863||stringify|975|4120|1808|3544|449|2694|3470|2556|1947||436|2037|2508|2256|3992|proxy|3111|4277|1416|3248|3849|uc790|1456|954|3537|652|1770|3805|1767|code|1446|1494|groupingFields|1293|sub|912|4080|2123|4213|4214|progress|3797|3097|2888|4224|681|4077|1077|4094|3861|2052|3452|1455|3098|339|4221|editor|3377|2145|2120|796|1642||4106|4301|4001|2084|1304|3695|3569||2855|1690|2335|||box|4192|511|sharedStrings|1879|1234|487|1178|edited|775|cfg|3148|506|1363|3821|1290|1409|1213|3908|3817|labelText|3169|1164|335|select|parentUid|cssClass|456|direction|4193|3213|1373|AUIGrid|2526|tagName|2077|1078|2329|2059|2347|1602|900|2885|3286|1664|1282|2779|1171|BFD06116|1398|2344|callback|1989|2346|4249||2345|2035|1507|599|760|3002||2613|workbook|2520||1097|styles|1519|fonts|not|324|2121|788|3099|2122|newLabelText|800|effectStyle|2207|gradFill|1793|3819|1824|3699|2243|869|3982|3297|inflate|selectedItems|cfvo|1828|4152|1660|3769|799|3176|table|453|1830|1931|1659|uri|3731|3990|2026|3735|3783|ub0b4|3820|1148|gsLst|2531|3712|666|1634|990|1640|879|1469|completeCode|2192|extension|3587|2391|3867|2182|2996|4167|2499|2181|871|701|3227|bits|2056|3229|AUIGridMessages|2058|2180|3864|3026|3230|2395|3986|nodebuffer|513|uint8array|1562|782|arraybuffer|string|3536|4166|415|2114|3608|1042|simple|crc32|2948|3984|1617|2054|1781|1612|array|1706||2141|dataBar|2191|1728|2139|Corrupted|shiftKey|fills|x0A|deflate|3512|1707|2190|2142|2140|2144|2143|2168|662|3539|2291|0x0f|837|2171|exmenu|3134|4160|2277|thisDate|base64|3759|thisMon|today|2368|2545|2903|100000|1387|2386|485|1944|3112|1175|1545|1508|1534|4052|4223|postToServer|4215|1930|1725|4138|2055|4305|509|4169|rows|715|4313|1934|1735|1240|4225|2239|1929||1127|2790|1512||2919|1089||4146|2904|||1174|3068|2915|1229|856||4132|filename|2238|4227|4226|step|854|1874|2503|body|1476|4171|4172|982|2301|3339|1880|3402|core|4184|1322|1232|properties|clone|docProps|3284|3283|3236|1536|3238|2396|isOpen|1344|patternType|2614|4234|3341|4265|forceSelection||3047|1371|1993||added|2966|1969|1994|1991|4302||716|2909||currentTarget||ud0dd|uc120|2165|1595|3953|4182|4180|2327|2328|2342|2343|2057|3367|1710|2097|ud130|1718|1156|toRowIndex|1391|1887|1059|3303|weekday|1388|3302|2081|uac70|1224|1603|ud558|3376|3027|4322|3285|759|4084|isClipboard|2076|3488|4083|1477|2847|731||1747|4324|3318|3094|1238|4103|3304|3113||day|2082|1533||3030|worksheet|1811|2530|764|endRowIndex|3826|1677|1926|dir|1110|392|ub098|4065|3505|3860|976|977|482|3811|3812|370|1298|1267|8D080DF5|valid|from|startRowIndex|3023|1417|2537|1372|2542|2543|4231|shade|removed|variant|rId1|1891|1482|320|396|3045|4232|562|reset|1679|2254|2529|1179|2230|1827|2098|428|3044|ucd08|2505|values|1516|lpstr|2312|recursive|607|814||block|3379|3523|1573|4236|rowHeight|2253|3535|3342|2811|finalize|2240|1020|3530|3558|1470|1016|next|3541|solid|isRowStyleFront|layout|3246|set|2622|445|3997|3245|444|compressions|3589|showRowNumColumn|4003|2305|1230||3733|520|children|2944|3142|1510|2906|3822|2012|1038|1950|2532|compression|2977|2985|1233|3638|hidden|uc0ac|3357|2965|inlineValue|sqref|1596|3197|fromRowIndex|pidToDrop|3570|customUpdate|sorting|1820|display|4228|1502|9600|2509|3296|427|3224|3768|1860|3226|ctrlKey|month|4099|rule|4229|2244|2294|2229|1151|2241|ctr|3295|3969|1908|3410|columnData|805|2245|910|3987|oldScroll|3785|4021|4116|3198|3791|2293|3079|1943|1044|1717||format|1052|1590|2506|1091|||uc791|632|1709|algn|1503|631|1452|337|self|1181|2792|2528|1068|the|2323|3223|1667|1159|app|1783|2922|3036|874|4230|1045|Office|2923|885|3977|keySize|nullsLast|2299|1302|dataType|groupingSummary|compressedObject|sortType|2907|toggle|passive|397|1739|method|409|1161|blockSize|1972|903|2283|1810|10000|4312|ud654|4233|1889|1605|3484|1974|3092|messages|1093|750|4162|1309|4210|curScroll|992|993|1959|4141|year|time|version||488|worksheets|790|3976|3214|3156|1740|1674|1599|2332|841|1237|super|000000|2042|810|1060|3102|3743|1807|3732|wordWrap|3709|0x800|816|3580|2300||3249|3658|849|0x3ff|3123|constants|1970|useSummaryExpData|1313|3317|1790|1137|0xfffd|1821|1921|1774|786|2096|1190|3749|2296|0x0001|3676|847|3540|3107|3104|1769|3582|signature|3745|809|3135|1733||doNotFocus|860|3242|3438|677|2197|1318|3385|x14ac|undoable|1675|1746|pdf|2195|3309|1606|1754|1751|1752|1753|cellStyleXfs|3225|span|pageY|pageX|3252||||||1370|1623|1366|3116|601|644|content|3190|2941|showProcessLoader|progressBar|1948|cellXfs|create|x15|3305|MAX|1829|MIN|ROW_COUNT|1003|3096|COUNT|thin|formatCode|1870|675|compress|1834|1840|numFmt|0xC0|SUM|1484|1021|clipboardData|redoable|2884|search|1785|1780|2147|oldValue||1639|vector|2125|1468|3489|1117|4342|3486|1367|3043|3405|Buffer|1404||||||709|1402|3621|registerUndoRedo|1454|3003|3409|1360|2014|1708|4004|rels|drag|defaults|2013|2038|414|3151|430|1139|3607|3136|3620|3648|913|1256|1307|3383|ArrayBuffer|3546|Baiti|1253|nodeBuffer|all|3397|3199|3337|1570|1997|1520|3192|distance|1378|1350|2219|disabled|1362|loader|3042|749|751|zIndex|pako|659|1109|fontWeight|2952|2843|1983|3076|1445|2003|3340|3080|x0D|1962|down|1374|1375|charset|1066|3659|2330|conditionalFormatting|info|2361|1283|1147|effectLst|2451|cfRule||1518|prev|4194|4185|4186|508|3761|3005|2519|sheets|pointerEvents|2960|transformOrigin|1144|2937|1593|2891|2892|x06|4148|1092|3818|_doFinalize|rotWithShape|3993|4140|2983|2975|4187|3850|2786|sheetName|fixedColumnCount|fixedRowCount|818|820|2183|2619|0xf0|dialog|1228|450|0x07|unknown|3034|branch|exportWithStyle|1250|resize|385|2957|1537|2946|radio|2949|2991|1259|16711935|3840|1980|4278255360|popup|1258|2962|encrypt|d0cyt0|717|514|ciphertext|692|2379|4076|2533|4062|sng|1392|4096|4098|4101|4059|4058|806|4057|713|792|1498|1575|4040|autocomplete|3143|2392|4044|scope|1543|2585|verticalAlign|uc804|2410|2523|2409|773|612|accent6|2815|uc6a9|totalPageCount|uc9c0|uc54a|2110|3974|4133|4068|2667|560|712|5400000|0xac00|theme1|alert|2366|3975|2112|1673|headerType|2871|2820|4110|fixed|1142|3989|637|2883|2887|1588|4129|4047|2558|4128|446|multi|2352|rId|3839|uid|drawings|700|capture|2127|3228|3794|65536|2369|2090|3040|error|2914|416|3411|3412|2507|disable|2010|4309|max|tooltip|2982|708|2700|4243|min|3417|3806|open|317|1897|3807|UTC|1225|1601|1749|316|3828|3066|1495|2831|escape|3370|1393|setGridData|footerRowIndex|1504|showDragKnobColumn|1951|refreshRows|showStateColumn|2690|getTreeGridData|2832|getTreeFlatData|diagonal|clearSortingAll|3331||getItemsByValue|makeValueMasked|setSorting|currentPage|getSelectedPrimeIndexOnMerge|getColumnInfoList|3328|2008|3959|3949|3457|resetUpdatedItems|sunday|1927|3324|1245|saturday|2830|getRowPosition|1806|getSelectedIndex|getItemByRowId|627|1296|extend|resetUpdatedItemById|897|4326|updateRows|setCheckedRowsByValue|thead|getRowIndexesByValue|3333|873|removeCheckedRows|1589|1297|setHScrollPositionByPx|326|getParentColumnByDataField|3459|getDataFieldByColumnIndex|getColumnDistinctValues|3961|2117|event|getColumnLayout|getColumnValues|getTreeFilteredFlatData|3354|4066|updateRowsById|1957|1958|checkbox|2936|1466|removeSoftRows|rowCount|3461|setEditingInputValue|lt1||forceEditingComplete|getCss|1604|ud06c|325|1956|setHScrollPosition|movePageTo|openInputer|628|restoreSoftRows|4320|find|getRowsByValue|dk1|exportAsTxt|1441|2611|2612|isItemBranchByRowId|clear|getFooterValueByDataField|ref|2609|517|1581|2610|1579|custom|1574|definitions|mask|placeholder|1865|1868|3301||uc6d4|2905|getFooterLayout|1390|ub515|1609|1803|3287|2604|2603|getFooterData|3253|F9B9DF6F|2602|2115|2111|2600|change|2601|exportAsCsv|4051|1584|2608|2607|menu||bind|2124|2606|2605|1577|caption|3267|10DA7A5A|clearUndoRedoStack|uc740|3292|4095|1866|setFilter|whiteSpace|toColumnIndex|exportAsJson|tbody|2540|setCheckedRowsByIds|obj|4078|getProp|4020|3322|clearFilter|addUncheckedRowsByIds|paddingRight|1788|2834|showRowCheckColumn||4107|resetUpdatedColumns|2015|decimalCodes|clearFilterAll|exportAsObject|ddd|getDepthByRowId|2835|begin|4074|marker|removeAjaxLoader|uc815||showAjaxLoader|unbind|867|ub9d1|uc0c9|3315|uac80|isItemVisibleByRowId|getColumnIndexByDataField|2699|4092|3250|4332|1201|4087|4086|3298|3487|exportAsXml|getCheckedRowItems|getCheckedRowItemsAll|getItemByRowIndex|getRowCount|setGroupBy|3430|1941|3235|setFixedRowCount|519|707|softRemoveRowMode|813|479|812|isAddedById|4183|3396|2354|4307|expandAll|3440|4299|697|3448|4189|setFixedColumnCount|2355|706|389|2044|4181|getSelectedRows|1411|3437|isEditedCell|3326|1278|isEditedById|getSelectedItems|3294|isRemovedById|1274|3436|655|1937|hasGrouping|extended|setInfoMessage|823|524|4179|830|2353|892|arrX|833|getOrgCellValue|3212|3237|4294967296|4270|302|3033|restoreEditedRows|460|drawingml|Times|New|395|2073|incorrect|getInitCellValue|mismatch|cfExt|455|640|2036|443|boxSizing|2167|3441|lengths|451|454|3390|3381|rowIdToIndex|3215|isSelected|aui_grid_filter_modal_radio_group|getOrgValueItem|3239|3338|Roman|2935|3423|3425|498|_rels|1812|1079|4198|collapseAll|2620|3346|896|restoreEditedCells|3413|setSelectionByIndex|indexToRowId|3355|4287|4285|2698|2164|2351|2350|sortingFields|getRemovedItems|indentTreeDepth|2986|and|salt|687|1981|getAddedRowItems|480|startColumnIndex||getRemovedNewItems|appendData|outdentTreeDepth|4151|2222|2845|toString|440|1975|344|mode|removeRowByRowId|mmm|isUniqueValue|showTimePicker|891|mmmm|getAscendantsByRowId|4144|_doReset|1681|2415|894|2643|2642|3442|endColumnIndex|getGridData|setCsvGridData|getTreeTotalDepth|getEditedRowColumnItems|3334|565|getDescendantsByRowId|getEditedRowItems|isCheckedRowById|3114|rowOff|addTreeRow|purl|3455|addUncheckedRowsByValue|526|4126|setFooter|setAllCheckedRows|2358|543|processBlock|4293|364|2360|4241|539|normal|_doProcessBlock|2320|ctx|focus|4288|2359|1252|removeInfoMessage|3418|_createHelper|2348|3353|createEncryptor|538|updateAllToValue|4297|setColumnSizeList|created0cyt0or|setCellMerge|4050|530|moveRows2Up|refresh|2041|3163|setSelectionBlock|addTreeRowByIndex|addRow|removeRow|24px|4245|showAllColumns|checkAll|updateRow|1966|1964|4237|345|4235|2852|uc81c|uc624|moveRows2Down|532|1805|4239|setXmlGridData|Sheet|3576|512|3566|3584|append|last|2417|getColumnCount|3241|3010|2416|headerHeight|1333|dataReader|3522||FF000000|3336|2978|3813|comment|3906|3901|first||2295|355|1343|3907|1794|footerHeight|2257|Arial|999|lines|3748|3154|prstDash|1566|2818|3599|cmpd|3598|isMoveMode|3554|1308|1025|800000|686|2403|lim|592|2248||adler32|1800|2116|miter|4030|setProp|3196|getAddedColumnFields|scaled|cellColSpan|cols|3201|3195|UTF|container|2947|lin|1478|ang|setRowPosition|3095|3210|1583|3951|_setContent|_getValue|caseSensitive|2893|3200|wrapSearch|2500|wholeWord|checkOffset|2221|getGridDataWithState|3588|textDecoration|3545|2972|createFolders|fontStyle|2641|thousandSeparator|generate|isItemOpenByRowId|3823|4164|setSelectionAll|3179|4046|2961|3551|1134|103000|1265|1437|50000|3528|backgroundColor|image|x08|flat|1082|1737|3051|3711|get|2234|3108|3310|chunkSize|3781|3776|3778|1732|windowBits|openFilterLayer|toIndex|1381|summaryProps|3115|3573|1382|1696|samsung|rowIdx|1310|2242|stringReader|3730|3796|3784|_N6a593|105000|Uint16Array|flattenChunks|arraySet|_awn594|isOpenFilterLayer|2926|2334|1226|exportToXlsxMulti|4153|1011|3060|closeFilterLayer|461|1024|3050|setFilterByValues|strings|parentRowId|zstream|2338|_1MQ603|0xFF|indexOfChildren|addColumn|3117|uint8ArrayReader|BTCalendarRenderer|_p5Q166|addRowPos|newRows|JQCalendarRenderer|0x03|3868|3862|2268|3555|CalendarRenderer|3146|3869|3646|3647|3645|3644|3643|3613|587|425|fileName||426||424||cap|3141|3140|2198|3858|2113|deferredUpdate|3830|4155|removeColumn|addTreeColumn|2233|3119|3121|3688|3128|0x0800|4351|utf|3131|3132|3139|3594|737|595|3673|knob|requestAnimationFrame|3856|getFormatValueByExternal|3088|1631|889|2108|2106|2586|colgroup||1637|group|1633|directory|875|2848|2890|2422|2100|central|expandItemByRowId|3971|1118|can|2900|totalDepth|isEditedCellByIndex|Fail|_Iv2264|scrollHeight|2411|3445|getParentItemByRowId|1744|parent|3004|applyNumberFormat|890|878|3232|3262|move|1515|3189|2894|2406|1779|2177|2881|getHiddenColumnIndexes|showColumnByDataField|uccb4|1526|884|3994|supported|880|AUIGridLicense|vScrollPolicy|hScrollPolicy|1861|1055|883|2942|1863|882|exportAsPdf|2419|1743|01|1006|2000|resetPadding|hideColumnByDataField|643|setColumnOrder|wheelSensitivity|eventPhase|1757|756|858|755|2071|1656|1655|absoluteWheelSensitivity|3260|2129|selectRowsByRowId|1499|setSize|735|background|3211|817|490|_getFormatValue|2421|753|exportAsXlsx|2554|_Up8269|2175|_RbG268|flatObj|2901|535|1513|857|ajax|2541|570|Bug|688|3015|1745|851|1514|setColumnChildOrder|enableMouseWheel|758|1756|1619|getHiddenColumnDataFields|getColumnItemByDataField|757|1755|2173|curItem|1777|561|getRemovedColumnFields|current|623|_TBG465|2149|JSON|2065|_zlH482|2703|_x7A424|2633|2397|2702|_YVU484|2066|2380|BFD061164exportToXlsx|_Ywl483|_jAH463|2064|2630|_sOK491|2629|has|_hxD464|09|_vPY492|2524|4767|_x2W501|clip|_UNr481|1500|2163|2130|_Ctj478|_eUj434|2689|_WWQ433|2398|_QlP477|2131|_TcQ431|1231|2133|2134|_6yC429Renderers|_w23480|2132|_CB7479|_lKN476|2146|_g9N471|_sjw474|_QJX470|_MJt473|2522|_sqv472|2281|valign|_6qg500|_2vM469|_pGX432|zeroPos|2075|_hBM475|fit|2326|_zHy468|_6yC429|_iH3490|_destroyLeftBody|2616|_HJv435|2063|_DaA427|colOff|_kXG426|headerStyle|2150|2153|1300|_Jqs425|1299|cellMerge|2157|2628|link|2536|2136|_NVp498|1439|2135|2384|_N5Q467||_fnX499|2280|2151|2331|_updateLeftBody|2138|2314|2137|2336|_ibY489|_uLl466|_K9n495|_1ss455|2649|_Ppy450SelectionItems|_7yP503|2087|2481|2482|_C10487|_91q453|sparklineGroup|2651|2652|guid|2220|_nOa494|2539|2479|2555|excel|spPr|auid|minLength|_PWQ4564Merge|2185|borderColor|_r1H502|2302|2194|_PWQ456|2088|2707|2193|2525|_2qa447|_4lF420|2209|x09|_Ppy450|2665|_FQW451|off|_Ppy450TreeView|2676|_t0O449|2390|2664|negative|xfs||_6PI448|2515|2203|2671|nvSpPr|2442|2206|2654|2205|sparklineGroups|sparkline|sparklines|2095|_3Tb504|noFill|586|rect|_CVJ488|2644|prstGeom|conditionalFormattings|2337|_0ub458|_Ghn486|2261|xfrm|_jkY443|_XCF422|2262|_nNr493|fontRef|2456|_iGE461|fontFamily|effectRef|746|_DMg421|2260|4436|minor|2381|_knZ462|2267|_Buu485|_M5Y440|_gXb439|2814|2270|_06h438|2632|2394|sheetNo|2103|_createLeftBody|2246|_onM442|_U6Y441|_FRB496|2450|_aqA460|2579|_oyP459|2223|quot|pixels|sum2|sum|2413|lnRef|applyAlignment|2184|1524|_niG446|2196|2695|_rB4445|butotn|enableImages|2388|reverse|2404|margins|2387|_IfS444|baseFontSize|rPr|footerFontSize|dimension|fillRef|baseColor|fontSize|twoCellAnchor|headerFontSize|txBody|_TnT437|rePostionEditRenderer|filterItemMoreMessage|showAutoNoDataMessage|filterModalOrLabel|filterModalAndLabel|filterModalTitle|filterModalFieldText|noDataMessage|filterNumberOperatorList|x07|showPageButtonCount|filterExMenuNumberList|filterExMenuTextList|filterExMenuTextLabel|filterExMenuNumberLabel|filterCloseText|filterCancelText|enableFilter|filterMenuItemMaxCount|_Wm0114|_6cC39|enableMovingColumn|autoScrollSize|filterNoValuePosition|filterNoValueText|filterSearchPlaceholder|filterOkText|filterSearchCheckAddText|filterSearchCheckAllText|filterCheckAllText|filterClearText|usePaging|pagingMode|processValidData|triggerSelectionChangeOnCell|_k7a33|summaryText|enableMultipleSorting|multiSortingKey|editableOnFixedCell|stateColumnWidth|showBranchOnGrouping|showSelectionBorder|textHeight|onlyEnterKeyEditEnd|showEditedCellMarker|softRemovePolicy|copyDisplayValue|_j4U81|treeIconFunction|_W43113|usePagingPanel|pagingInfoLabelFunction|pageRowCount|pagingPanelHeight|useContextMenu|useContextHeaderMenu|contextMenuHeaderItems|_cTx80|contextMenuItems|contextTexts|enableBeforeUnload|editingOnKeyDown|keepEditing|rowNumColumnWidth|rowCheckToRadio|defaultColumnWidth|columnSizeList|leftRowNumDivs|leftRowCheckBoxes|rowCheckColumnWidth|zeroBazeAtRowNum|fixedColumnHGap|footerVGap|E0D5E91EWidth|checkedRowIds|checkedRowIndexes|indeterminates|bodyRegion|_qoK121|textAlign|_Dm111|904|893|886|isNext|wheelHorizonSensitivity|_uko120|_OAe73|_9Cj27|_4xn65|_sT232|scrollHeight4Mobile|scrollThumbHeight|headerHeights|footerHeights|treeColumnIndex|treeOpenRecursivly|treeLevelIndent|minColumnWidth|groupingPanelHeight|groupingMessage|displayTreeOpen|_EBF123|autoEditBeginMode|exportURL|editBeginMode|editable|_MHr124|selectionMode|useGroupingPanel|_WX8122|headerRenderers|rowPosition|3B6E20C8|cIdField||minRowHeight|rowIdField|hScrollPosition|vScrollPosition|enableColumnResize|enableCellMerge|enableSorting|showFooter|showHeader|_bzg16|_gZ817|_YYX141|cellMergePolicy|treeLazyMode|showVerticalGridLines|copySingleCellOnRowMode|_4sO140|cellColMergePolicy|lastRowScrollOnClick|focusDelayTime|ignoreSummaryRule|_DUu145|_Jqp144|_nzh142|_JOh143|_PRm138|copyDisplayFunction|showFullFixedRule|_isAll_|independentAllCheckBox|rowCheckDependingTree|updownArrowEditEnd|alwaysEditLayerBottom|136C9856s|liveVScrolling|rowCheckableWithDisabled|_kP0137|_KhI136|_98o135|liveHScrolling|_26A134|enableSummaryMerge|summaryMergePolicy|_PZe1552|_BvN158|_2Gs1542|_PZe155|_gaJ153|_2Gs154|enableDrag|enableDragByCellDrag|_5to159|_tMw160||dropAcceptableGridIDs|dropToOthers|enableMultipleDrag|enableDrop|_ha7152|_tfh151|_rbo148|fillColumnSizeMode|_Wth147|_UU7146|_tb547|_rUJ48|enableTouchSwipe|swipedSize|longTapDelay|enableLongTap|_hbw150|_xYq149|swipeDuration|_7h878|undoRedoStackSize|_61r60|_9Ei61|_H6v59|_8iI58|useEditorBtn|showRow2DataIndex|enableRightDownFocus|enableFocus|ignoreColumnMinWidth|rowNumHeaderText|applyRestPercentWidth|wrapSelectionMove|onlyTreeLastDepthSorting|excludeFixedRowsOnSorting|treeSearchMax|isColumnOriented|delayAsyncTime|showTooltip|delayTime|keepOrderingOnGrouping|_joc18|_MI119|tooltipSensitivity|enableClipboard|treeIdField|treeIdRefField|flat2tree|resetVScroll|reverseRowNum||||||||||||resetHScroll|filterLayerHeight|filterLayerWidth|isFitColumnSizeFooterText|isGenNewRowsOnPaste|isFitColumnSizeHeaderText|showRowAllCheckBox|skipReadonlyColumns|enterKeyColumnBase|footerPosition|_90z133|enableRestore|enableUndoRedo|alwaysEditingEnd|draggingSensitivity|draggingHScrollSensitivity|draggingVScrollSensitivity|_Ll838|_wQa37|_ArI43|_Gu744|_Wqj130|_Wwo129|_aMi128|_SnF119|autoEditCompleteMode|autoEditCompleteOnResize|useDynamicStyle|_bH146|rowStyleFunction|remoterPlaceholder|_L2r131|tabindex|isAnd|372|373|382|dateParser|Nodeca|dateFormat|388|384|numChildren|enableHScrollByWheel|D20D85FD|A50AB56B|h_|v_|project|stream|isFinite|327|||||||||||unusedInput|314|312|313|buffer|decimalSeparator|numberFormat|340|roundTo|removeComma2|commafy|removeComma|418|422|_append|_process|flags|random|concat|clamp|back|_minBufferSize|504|hasher|_map|515|_createHmacHelper|486|mixIn|too|setVScrollPosition|getVScrollPosition|getChildElementAt|removeChildElementAll|60B08ED5Element|removeChildElement|getMaxVScrollPostion|_vGp0|452|many|literal|437|410|311|309|statusDiv|setWidth|_UC76|_67V5|_67w3|_j1P4|setHeight|||||||||||setLeft|removeAttr|_G0A7|getAttr|setAttr|setTop|moveByTR|_1bV2|_NR11|nbsp|00|confirm|ud574|spark|ub144|percent|template|_Pqr10|element|leaf|addEventListener|Data|repeat|setCss|removeCss|dddd|help|space|nowrap|wrap|word|edit|dayNames|307|308|uac00|ub9c8|monthNames|meridiems|total|slider|17B7BE43|60B08ED5|8EBEEFF9|67DD4ACC|89D32BE0|FED41B76|60B08ED5AtFirst|insertChildBefore|D1BB67F1|round|4FDFF252|||||||||||38D8C2C4|A1D1937E|iterations|compute|694|err|setClipboard|insert|sortingHeirachy|createUID|local2global|global2local|px2pt|removeBrTags|px2xlunit|checkOffset2|583|584|sortDescOn|sortOn|extendExMerge|extend2|removeWhite|innerXml|634|638|extendNGenUID|genUidDataMap|keySorting|isGroupSumField|getNextFieldOfArray|getPrevFieldOfArray|commitValidData|removeArrayDuplicate|replaceTags|parsePossibleDate|ajaxRequestsMulti|474|ajaxRequest|isConsiderStringOnXlsx|charByteSize|base64Decode|msg|are|eq2|eq_text2|eq_text|838|uncompressedSize|compressedSize|734|732|||||||||||isSameObject|containObejctOf|object2array|array2object|getXlsxDate|treeData2FlatData|selector|isVisibleInScroll|getByteLength|encodeURIComponent|getScaleOffset|isChildOfClass2|isChildOfClass|toJson|toObj|552|_parse|formatter|551|1398893684|1701076831|559|execute|568|567|564|534|528|kdf|548|553|510|ivSize|process|507|496|529|_ENC_XFORM_MODE|_DEC_XFORM_MODE|unpad|501|pad|542|541|549|16843008|596|597|41047A60|36034AF6|pageScrollY|len|||||||||||each|grep|parseCSV|xml2json|parseTSV|DOMParser|parseJSON|parseXML|pageScrollX|getValCount|574|573|d0cyt0Block|572|533|encryptBlock|_doCryptBlock|571|extra|offset|getWindow|maskdefs|521|_wNF161|dragRowsText|_HDb306|_cxC307|_YUr305|_zC5304|_xMt302|_RnV303|_Y86308|leafNum|_ShH311|property|_aAI310|_03k309|srcObj|visibleObj|_IDF301|_xfE300|1798|_Hqs293|_B0B292|_eEa291|1795|_wh7290|_7LV294|_7LV294ByDataField|_ut5298|_aI7299|_vAI297|||||||||||_getHeaderDepthByPosY|_aB0295|_HKj296|old|_TOV312|_uBJ327|_Jrv328|_BKe326|_Hbo324Arr|_qsT322Arr|_Hbo324|_8f9330|_KS8331|1862|59B33D17|getCellDimensionByIndex|B0D09822|_XBX332|getRowIndexOnRegion|_qsT322|_LMR321|_uH3316|_VKV317|1819|_3lQ315|_gbz313|_hOc314|_Bjm318|minus|_4Dx319|1845|1485|1826|1822|__8Ke288ByUID|_8Ke288|vScrollHeight|_VFp265|1693|1682|1686|1689|_tLT266|_Hth267|oldPosition|minPosition|1705|1703|1215|1702|_8sU263|_l9X262|||||||||||_getColMergeStartEndColumnIndex|_q3c256|_getColMergeEndColumnIndex|_getColMergeStartColumnIndex|_QP8254|_Sj0255|_9zh257|_e9E258|_I4R333|_RPF261|_Qop260|_isRightBottomCell|_Qkb259|_isLeftTopCell|maxPosition|1716|1766|1773|_V6J283|_getFitColumnSize|_XNn282|1771|1772|1775|_KtD286|_4Va287|1789|_waF285|1776|_QnC284|_UYX281|_yyY280|_8S1272|_msl273|_DMP271|_b9Y270|1711|1713|_BCs274|_Q5H275|_vvn278|_T3P279|_AIO277|_Lrw276|683|_PSL334|_EZH335|_WWz393|_qUi394|2018|_COn392|1925|||||||||||_auiFilterInlineTabHandler|_v1f395|_v1f3952|_kT3401|_S9w402|_87V400|_nXD399|_v1f3953|_bnI398|_ULs391|_Q3c390|_mwV384|_xuZ385|1945|_wTZ383|_DLm381|_YIy382|_ZhJ386|1988|_mp1388|_LfN389|_ENb387|1938|1986|1998|2024|_3V2403|2093|2061|_eq0413|1699|1700|1698|_IGi414|_ccJ415|_BnT419|2107|_WJM417All|_WJM417|1239|_iTH411ItemRenderer|_DVS412|1447|_CTz405|2022|2034|_qP3404|2002|1982|2023|_m4W406|_4R3410|||||||||||_iTH411|_V9D409|_Ee1408|_rGX407|_CxW380|_1vz379|1048|validator|_xjo353|_3GA352|_C1w350|_3PA351|_vVZ354|_uwK355|_HFa359|899|_yTO358|_3hq357|1900|_x3c356|_Mg9349|_S5l348|_W1Z338|_Ze3339|1115|_OW5337|_Dgi336|response|_nNs341|_nwb342|_Oqy346|_78v347|_BGp345|_rRB344|_5C2343|_Q62360|898|1145|2955|touchDownY|_Blf374|1978|swiped|touchDownX|orgTouchDownY|_RnI377|_S1j378|1949|_wyZ376|orgTouchDownX|_y8c375|1977|1976|_8hq365|_tJ4366|_Noo364|_bKN363|_iYT361|_E9Y362|_yum367|_3b5368|_mPM372|_pyC373|_RRz371|_EkM370|_pAi369|_Ruj253|_A0S252|hasMergeExtraScroll|_contextTimer|editableMergedCellsAll|dispatchSelectionChangeMoving|_realSelRowIndex|_realSelColumnIndex|preferClipboardAPI|enableHScrollByOnlyShiftKey|resizeProcess|useAnimationFrame|showRowBgStyles|rowBackgroundStyles|_vbo41|_9Yj165|escapeFocusByTab|_setupGridMoveEvt|lastColumnScrollOnClick|_j4X52|resizeDirectly|_Dh677|dialogId|_uJ076|_smP54|hoverMode|mergeByFormatValue|_rcf82|displaySummaryTreeBranch|selectionMultiOnMerge|rowCheckMergeField|updatableAnyField|deferRenderingDelayTime|_AYj98|376|useSelect|_G8H174|_iOc173|_UyP172|1081|webkitUserSelect|1182|_bWS175|1254|1217|1209|1204|1123|_DO0171|_ueI170|InputEditRenderer|ComboBoxRenderer|SwitchRenderer|CheckBoxEditRenderer|DropDownListRenderer|LinkRenderer|MaskEditRenderer|_7Gn167|1013|_biW169|1009|_0HU168|1005|checkHeaderText|_qor164|_bJ836|compaEventOnPaste|isSumRowStyleFully|adjustSummaryPosition|removeColumnPolicy|fillValueGroupingSummary|notBeginEventNewRowsOnPaste|uneditableNewRowsOnPaste|cellMergeRowSpan|separatedSelectionOnMerge|exceptNullsOnGrouping|keepColumnOrderOnGrouping|dropDownCheckAllTxt|groupingSummaryPosition|wheelDefaultOnLast|_FWm69|showPageRowSelect|pageRowSelectValues|simplifySelectionEvent|_Zfm40|undefinedBelowOnSorting|nullsLastOnSorting|autoGridHeight|rowIdTrustMode|dependentColSpan|numericHasNull|blankNumericToNullOnEditing|blankToNullOnEditing|wordWrapGap|lazyGenRowsMode|editableOnGroupFields|sortableByFormatValue|_eRX94|doubleTabDelay|extraColumnOrders|inlineFilterDelay|showInlineFilter|inlineFilterHeight|fireCustomDblClick|touchAction|baseCurrentNumFilter|skipUneditableOnPaste|isRowAllCheckCurrentView|orderAscOnGrouping|touchActionAlter|widthFitGap|pagingBottomGap|proxyOffsetY|preventDelKeyMap|dragKnobFlexibleWidth|scaleFactor|_fHV162|searchByFormatValue|footerRowCount|enableRowCheckShiftKey|_mei163|selectionBorderWidth|proxyOffsetX|dragKnobColumnWidth|preventOnDown|showDragRowsTooltip|1255|_ixl176|1576|1578|_NXf227|wrapText|_zbR226|positGridSubLayer|1580|1582|_SBc228|_CCA229|updateExtraCheckAll|1018|20000|1019|1340|1329|_Ttf223|plain|_GZB222|_0jo221|1489|1490|cache|_NuH224|1568|1569|indent|1550|_JHx225|1539|_ru2230|_w4e231|_3No245|accept|1632|1630|_Yx2243|_F7L244|_BSJ246|_isRowMergedCell|_sgJ249ByItem|_D4i251|_sgJ249|_umX248|_isColMergedCell|_FkJ247|_tWB242|_kDV241|_4wR235|1622|_z2Z234|showing|_JRs232|_ary233|_4wR2354LastRow|1621|_E2o239|_w8D240|_4JW238|1219|_wjO237|1488|_g1Z220|_YSU188|_832189|_R6j187|_x2D186|1349|_WqL185|_tEI190|_4Ls191|_IyN196|989|_oa1195|_zj3194|_Rws192|_Rws192Strict|1348|1346|1295|_B4N180|1305|_gXM179|_oQi177|_mMa178|_qp1181|_agV182|1342|1345|_D6l183Over|_D6l183|1328|_lJi197|_Hlk198|_iYS216|_c6o217|_6M8215|_o35214|csv|1462|1475|_iYy218|json|1491|4466|encoding|1479|_rC2219|_zuU213|_HLU212|_YtZ204|_TY1205|_23r203|_f5m202|_Dkg199|_Mo7200|_wBU206|_Utq207|_pGn210|_7fe211|1419|_5ag209|_XVD208|2109|_0lP574|3446|getDescendantsOfColumnItem|getAscendantsOfColumnItem||getDescendantBranchesOfColumnItem|dcmitype|_Yam724|_PMt723|1738|3407|getRootColumnItem|3444|_CBX720|getOrgGridDataClone|_wQX721|_Qlf722|3415|getAscendants|1836|3443|isRemovedByIndex|3471|csvArr|2701|knownFonts|styleSheet|4416|_Q3l728|_kzy727|3468|_RXC726|keyValueMode|isAddedByIndex|isEditedByIndex|3458|_U4q725|3469|647|_AA5718Internal|_AA5718|3401|3399|3398|3403|1952|columnIndexes|3408|3406|dk2|_p9S711|1403|_38S708|_t5q707|lazyRequested|_LnF709|_T0c710|lt2|accent1|lastClr|sysClr|3056|3057|3451|1855|3431|_350717|_Vqm716|3439|rowIdValue|3454|_o0B714|_s6o713|_nZy712|_ft4715|metadata|3360|3380|1629|_getPrimeSelectionIndexes|Properties|Types|Default|TitlesOfParts|baseType|DocSecurity|ScaleCrop|HeadingPairs|Extension|bookViews|magic|getCompressedContent|getContent|uncompress|compressInputType|flate|markup|uncompressInputType|Application|ttf|readData|readString|readInt|lastIndexOfSignature|readDate|_utf8_encode|decode|encode|byteAt|skip|con|ownHeight|division|resizer|checkIndex|3517|setIndex|compatibility|Ignorable|2101|2102|1028|2161|2199|1678|2162|2200|1027|1026|_UXR731|_fEV730|_Kfz729|4407|_B2T732|_aV3736|_HkU735|3490|3492|getStackSize|0_|hasRedo|getIndex|setLimit|exports|613|1187|hasUndo|setCallback|cellStyles|3491|3485|518|numFmts|add|outCubic|3384|3321|Nyala|Beng|Vrinda|Ethi|Tahoma|Arab|Hebr|Thai|Gujr|Shruti|Knda|_e9v662|Tunga|preventDefault|_gRP663|Khmr|_Voc664|3273|u9ad4|u660e|_Wtv667|_Gaw666|_i8Z665|_tNx668|_0gy669|_6hn672|_aCA671|Hans|3300|3299|Hant|u65b0|u7d30|u4f53|1653|u5b8b|3293|2918|_vGi661|3234|_hik650|cEnd|3243|1168|_9a3651|3251|mergedCellsAll|cStart|start|3188|3187|3327|1530|Cherokee|_16J649|Plantagenet|_LC9652|Cher|_mQY657|_ER3656|Raavi|_NUj658|_8Hn659|Guru|_Wc7660|opacity|Cans|Euphemia|localY|localX|_NrO653|_6ni654|_ks5655|mergeEndIndex|mergeStartIndex|Hang|u30af|_Tjp697|folHlink|_OYr696|1450|hlink|_miv699|_Y3N698|refreshOnlyCells|isTreeGrid|uidToIndex|_AlB691Strictly|_AlB691|_x5t690|1672|_SoE693|clrScheme|_vS5695|_Txv694|accent5|3069|accent2|3247|accent3|setFocus|_nYp705|3320|988|_jX0706|_pA3704|_YxE703|1878|_o2B700|1782|_o2B700Internal|3374|_rO9702|accent4|_qce689|_YWq688|_Vjl676|uff30|u30b4|uff33|uff2d|_Xl0679|_Cyi678|_QfX677|_8uD675|1324|columnInfoList|u30b7|u30c3|3319|_hTh673|3219|_Kt8674|_B33680|_VZi681|_Jqp144Click|_JOh143Click|3343|createTo|1804|_yO2687|2373|_KO7686|majorFont|3453|__kVE682|Jpan|_kVE682|panose|Calibri|3220|latin|2048|_utf8_decode|1385|1384|editType|4382|4071|730|1567|729|4383|3270|4054|1869|3144|4055|1395|3269|4060|4061|4067|ud2c0|ub9cc|4104|alt|uade0|4113|3082|uc704|ud3c9|4105|4097|4381|4063|4088|ub7fc|uce7c|4380|maxWidth|1867|4384|triggerEditComplete|3963|extraProps|dynamic|cancelEdit|3970|1758|3171|0px|3952|jung|cho|639|3948|hasFullWidth|3950|forceBlur|updateInitialized|864|2118|marginRight|4387|494|ud589|uc911|4385|4043|isAvailabePdf|557|3456|applyHeaderText|3165|3995|GET|4008|620|4388|4125|4127|2826|4296|4295|4303|4260|4300|3362|4310|4294|4289|4266|4264|option|4267|translate|4292|4291|4290|4317|4308|3930|_getInstance|4341|4343|4344|8D080DF5Visible|cellPadding|RendererBase|getProperty|1901|4364|4315|4246|4362|3359|4337|4336|aui_grid_filter_modal_radio|920|3254|ub4dc|4136|3450|uc801|3361|3435|3449|getOrgGridData|newCount|ud3ec|ud568|4130|ubb38|words|4070|4069|2889|1594|aui_grid_filter_modal_eq_text2|4197|2356|role|aui_grid_filter_modal_eq2|aui_grid_filter_modal_radio2|aui_grid_filter_modal_eq_text|aui_grid_filter_modal_eq|thumb|4177|4170|4154|img|4168|4173|3957|3958|636|3939|3635|zipEntry|nodeBufferReader|3575|isEncrypted|prepareContent|prepareCompressedContent|useUTF8|3591|prepareReader|zip64|readCentralDir|readLocalFiles|4401|readEndOfCentral|3615|3655|3662|3543|3549|3686|1742|readExtraFields|others|handleUTF8|level|findExtraFieldUnicodeComment|findExtraFieldUnicodePath|parseZIP64ExtraField|3690|3388|3675|readLocalPart|readCentralPart|3651|3687|3652|3656|readBlockZip64EndOfCentralLocator|utf8encode|3606|3605|utf8decode|stringWriter|cellColMerge|utf8|uint8ArrayWriter|3513|dirRecord|zipEntries|optimizedBinaryString|deprecatedPublicUtils|3560|asBinary|fileRecord|asUint8Array|3619|3622|594|checkSignature|3574|readBlockEndOfCentral|3649|3653|3650|readBlockZip64EndOfCentral|3572|ascending|3625|3624|3623|3626|3628|65535|descending|memLevel|strategy|3851|3323|3852|3100|3332|3753|3742|1249|3871|3853|0xff00|3763|dolen|3873|3838|3881|0x7f|0x0400|3744|inffast|3772|3832|3827|3831|3931|3937|3936|3933|inputer|setProperty|3130|2049|inftrees|3902|3903|3904|3905|dodist|trees|Int32Array|gzheader|3550|3757|3724|3734|65537|0xE0|3737|3746|3706|3705|3548|3707|3708|3723|16384|3747|3751|3804|3801|3800|3802|3274|3736|3722|3721|3798|3799|Z_NO_FLUSH|65521|3750|Z_FINISH|Z_OK|0xEDB88320|Z_STREAM_END|1169|binary|1616|1768|2933|2321|3035|_HQD554|1731|Sylfaen|_qFL606|3011|_vVp607|_g7h506|colIndex|_gbD556|_fHx544|_tMw160DownHandler|3032|1266|_TBO535|_qYe582|_mJ7605|_fWR604|_jkJ601|_lJ4512NResize|family|_la6602|_lJ4512|2813|_Tj5600|lnStyleLst|3037|2810|_tRS507|minorFont|3186|3089|_ixl1764Paging|fontScheme|1029|2874|2825|2868|_getBodyContextItem|_7bH581|thm15|2751|958|2752|_hgM518|__rG5611|959|1279|2750|_W7k519|2791|_75p567|956|955|_VhI615|3129|957|_X3q614|3120|fgColor|_jLX612|2749|120000|1269|1276|hyperlinks|Geor|_getHeaderContextItem|2846|_PHA549|rId3|getCellFormattedValue|2748|3118|_rG5611|2853|2854|_Iko610|_getFilterMenuTags|_SMm608|_BCW609|_CYK569|_zB0570|_Oyi583|3054|rowId|_x8S509|3053|2708|_Rsv548|CDATA|2870|_9qi505|4356|_KVZ573|2728|_0uG572|2726|getCreatedGridAll|sparkExt|3038|cfs|1940|3055|valuesToDrop|2872|2807|_rbL586|_Krz587|_iDK585|_8Rt534|2867|sst|gray125|_g1v588|_C8h589|_6j7551|_YtV552|_w4b591|_LAt550|3049|3046|_tfU590|3048|_contextItemOverHandler|dropColumnIndex|hyperlink|_showSubContextMenu|rId2|_positContextSubLayer|_hideSubContextMenuAll|110000|_m8e596|_Nuo508|2878|2879|_JX9559|2930|_yzP546|_ypS533|_Z4I532|_rKe599|_iJi598|getIndexesByEvent|_w4R597|_8hr547|_6LI595|3067|_YLf553|action|1317|2917|1062|2875|calcPr|_gE0510|_z64592|fillStyleLst|_RwW511|2877|3064|3065|2636|3063|3061|3062|_xzb571|__X3q614|thisYear|3145|_ffM527|Estrangelo|Syrc|Edessa|Orya|Kalinga|_QBb5384Calendar|695|1286|_z1f526|_fbG638|Gautami|_O4g639|Telu|Taml|3193|19050|_1n5637|Latha|Mlym|Kartika|DokChampa|_sNe630|Laoo|_QBb5384Combo|Sinh|3173|Iskoola|3172|1875|_Cy76292|sheetViews|_WWQ4334paging|_qpt636|__ffM527|3087|removeDragRowIndicator|_n1J635|_sNe6302|_avy633|_lUR634|showDragRowIndicator|3205|themeElements|2920|Thaa|_00n645|2535|_QBb5384DropDown|target|_jjk644|_acJ560|1288|Himalaya|_5zF648|Yiii|_QBb5384Remote|3185|_XNH647|1356|Tibt|_jHP646|_Pzf515|term|sheetId|3209|_Lc2641|642|_gWD563|_q1c564|2989|_ZwD640|Mangal|3208|sheetView|Deva|alpha|_lSS561|_hJb643|3203|_2wt642|Boli|_F6k562|fmtScheme|_Cy7629|Pota|bgFillStyleLst|1663|2968|bgColor|_8Xo617|1662|2838|3127|1650|_gbD5564Cells|_bia618|3009|_JWx529|Uigh|xlsx|_XcP5224sb|_XcP522|Uighur|1665|2638|_mjQ580|_3No2454Paging|63000|oldValueArr|3125|3124|mergeCells|_rt5536|_t3H520|953|2837|_kfQ537|2640|sheetData|fromColumnIndex|3126|_jun575|_Uir530|_QBb538|_Wig566|FFFFFFFF|_K9g619|2967|contextIndex|3159|_5JX524|_Ot8628|_q1c5644Cells|4449|_Oh4627|3158|3255|outerShdw|Viet|Mongolian|wsDr|Mong|_imo576|_ApX539|_Fps516|_cE0578|__imo576|_pfK584|3157|_n14621|_CWB622|3001|98000|calcId|effectStyleLst|_3pD558|2969|_EqO620|3147|_Ufg517|_YRq579|_IsR624|3152|__IsR624|_bce626|_bHY623|3150|102000|indexed|hash_shift|ub9c1|good_match|adler|_tr_flush_block|strstart|total_in|max_chain_length|clientLeft|prev_length|block_start|fromRowOff|toColIdx|toColOff|pending_out|scrollTrack|ub97c|total_out|nice_match|uc5b4|ud569|match_start|window_size|hash_size|ins_h|head|lookahead|uacc4|w_mask|w_size|fromRowIdx|srcElement|scrollThumb|exceptNew|upArrow|dyn_dtree|deflateInit|deflateReset|_tr_stored_block|_tr_align|ub294|ub610|deflateResetKeep|_setupMouseEvent|_resetMouseEvent|uba85|scrollLeft|uadf8|ub9ac|hcrc|_tr_init|Search|static_len|opt_len|d_buf|lit_bufsize|matches|Too|bi_valid|data_type|parentNode|tinyScroll|bi_buf|auiXlsxBodyComplete|uc758|thumbSize|frozen|uc7ac|uc5d0|ub204|isSafari|ud604|uc5c6|doubleClick|singleCell|done|uac12|extra_len|pane|uc5ec|Constructor|ucde8|indexOf|uc18c|ub2eb|rectangles|deflateInfo|track|workbookViewId|ud655|uc778|xflags|ud14d|uc2a4|prev_match|match_available|last_lit|nodeType|max_lazy_match|uacfc|uc0c1|good_length|max_lazy|_columnCssStyleList|ub2f9|bolder|ubc94|_tr_tally|thumbHeight|ubaa8|thumbMinWidth|downArrow|pending_buf_size|hash_mask|spreadsheetDrawing|match_length|hyperLinks|hyperUrlMap|ubbf8|_default|includeHeader|nice_length|showArrowButton|heap|heap_len|bl_count|bl_desc|d_desc|heap_max|ub05d|l_buf|ud2b8|scrollPosition|uc22b|uc2dc|l_desc|bl_tree|arrowSize|func|ud07c|max_chain|italic|gzhead|gzindex|dyn_ltree|uc785|hash_bits|w_bits|last_flush|ub4e0|checkCRC32|_sharedStringCache4Xlsx|_Ip2115|_pf|_UXN116|_muK118|_b52117|_IDE112|_isUTC|1000125|_fDm110|_lGR108|_8bn107|getUTCFullYear|_ple111|_WJh109|sharedStringCacheMap|_Y0w64|_strict|_d|_6qU66|_4xn65Changed|_sOZ67|zip64ExtensibleData|_locale|subColumnLayoutMode|prst|_X4o62|_1kJ63|_textDataProvider|forceTreeView|_RsL35|_b4575|_yUn21|__gtvo|QVVJR3JpZCBOT04tQ09NTUVSQ0lBTCBWZXIu|_editorBtn|cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpibG9jazt2aXNpYmlsaXR5OnZpc2libGU7dGV4dC1pbmRlbnQ6MHB4O3JpZ2h0OjRweDtib3R0b206NHB4O2ZvbnQtZmFtaWx5OlRhaG9tYTtmb250LXNpemU6MThweDtmb250LXdlaWdodDpib2xkO2N1cnNvcjpkZWZhdWx0O3otaW5kZXg6OTk5OTk7Y29sb3I6cmdiYSgxNTAsMTIwLCAxMjAsIDAuNCk7d2hpdGUtc3BhY2U6bm93cmFwO3BvaW50ZXItZXZlbnRzOm5vbmU7|_i2m24|_EsX23|Multi|HTMLElement|_trialTimer|disksCount|_T3U22|editRenderer|_MqD26|relativeOffsetEndOfZip64CentralDir|704850|getUTCMonth|_sT831|_m3K34|diskWithZip64CentralDirStart|getUTCDate|_E2I30|getFullYear|200025|8201025|_izC28|_ZDY29|avLst|versionNeeded|applyFromCharCode|construct|subarray|getBlob|MozBlobBuilder|MSBlobBuilder|manipulation|byteLength|loadOptions|reader|treeViewCalculating|browser|nodata|bodyTds|WebKitBlobBuilder|displayBlank|styleFunction|_sumRowStylePosDepthMap|stateTds|DATA_DESCRIPTOR|dataIndexField|prototype|visible|BlobBuilder|bodyTrs|leftBodyTrs|merge|call|_Dac74|bug|viewHeight|viewWidth|push|zipCommentLength|centralDirOffset|viewBodyHeight|tx1|UndoManager|borderThickness|versionMadeBy|38100|devicePixelRatio|zip64EndOfCentralSize|_RCv83|centralDirSize|diskNumber|leftHeaderBranchDivs|expected|isArray|ready|unexpected|cancelBubble|diskWithCentralDirStart|centralDirRecords|_KeZ84|singleRow|centralDirRecordsOnThisDisk|leftHeaderBranchTds|_FP320|botomRightDiv|avail_out|charAt|strm|toRowOff|textlink|rId4|deflateInit2|deflateSetHeader|output|Buf8|avail_in|next_in|string2buf|uc9c4|ceil|setFullYear|raw|assign|extraFields|uc644|uace7|gzip|macro|pow|chunks|UTCTIME|ended|setUTCFullYear|next_out|uc694|must|non|ungzip|Inflate|buf2string|inflateEnd|setTyped|Buf16|pending|pending_buf|clientY|stopPropagation|Buf32|utf8border|binstring2buf|lastIndexOf|buf2binstring|toRowIdx|uc138|onEnd|shrinkBuf|onData|deflateEnd|inflateGetHeader|scrollTop|inflateInit2|Deflate|clientTop|ub8cc|Encrypted|_xgx15|bitFlag|09B64C2B|metaKey|ZIP64|locator|uncompressed|97D2D988|getMonth|E0D5E91E|charCode|fileNameLength|cNvSpPr|A2677172|localHeaderOffset|35B5A8FA|paste|51DE003A|42B2986C|45DF5C75|DBBBC9D6|auiEditEnd|auiEditValid|volumes|3C03E4D1|_V2L13|hiddenNow|returnValue|ud615|_LQ525|uac01|_nextDay|alternative|diskNumberStart|extraFieldsLength|fileCommentLength|uc9c1|ub4e4|internalFileAttributes|externalFileAttributes|ub429|ub2c8|cNvPr|CRC32|C8D75180s|_rnn12|_Yfg53|informations|enough|corrupted|didn|getDate|_emp51|inner|that|_wxH45|_K6p49|_JMN50|ub825|setChecked|BlockCipher|Pkcs7|CBC|touches|doInnerHTML|textDiv|_mode|_cipher|_doTreeIconFunction|url|touchend|canvas|textIndent|d0cyt0or|touchmove|CipherParams|OpenSSL|mousemove|getBoundingClientRect|downPoint|pageYOffset|pageXOffset|thumbDown|defaultView|mouseup|PasswordBasedCipher|SerializableCipher|ahsb|_nRounds|_invKeySchedule|_keySchedule|layerY|offsetY|_mask|_maskFirstNonMaskPos|_maskKeyInputHandler|Minus|selectionStart|selectionEnd|_maskInputCaret|_maskSettings|_lastRequiredNonMaskPos|_maskBuffer|auiXlsxStep75|_maskLen|_maskTests|_maskPartialPosition|_maskKeyDownHandler|_checkValueMasked|_blurHandler|_getEditRendererProp|_keyDownEventHandler|FA0F3D63|Encryptor|textinputer|_jkJ6014mask|doValidatorFromItemClick|_getValidOwnValue|initValue|_checkMaskComplete|_getMaskedValue|_doValidate|_getUnmaskedValue|gradient|delta|XML|Invalid|useNativeTip|exec|attributes|white|nodeName|QVVJR3JpZA|href|bmVlZCB0byBkbyB1cGdyYWRl|SlMgbGlicmFyeSBhbmQgbGljZW5zZSBrZXkgZG8gbm90IG1hdGNoIHdpdGggZWFjaCBvdGhlciBmb3I|VGhlIERhdGUgaGFzIGV4cGlyZWQgZm9y|VGhpcyBpcyBOT04tQ09NTUVSQ0lBTC4gbmVlZCBhIEVudGVycHJpc2UgTGljZW5zZSBmb3I|location|bGljZW5zZQ|nodeValue|_editedMarkerTop|checkBoxHolder|normalize|boolean|buttonHolder|filtered|scrollWidth|cdata|nextSibling|_auiHeaderDropItemClickHandler|offsetRight|auiHeaderDropItemClick|dropDown|_checkClickHandler|checkableFunction|aW52YWxpZA|TGljZW5zZQ|selectorText|cssRules|_upArrowMouseEventHandler|_trackMouseEventHandler|parseFromString|click|rules|auiXlsxStep72|auiXlsxStep74|substring|auiOnScroll|auiXlsxStep73|styleSheets|_downArrowMouseEventHandler|_mouseEventHandler|folderIcon|visibleFunction|disabledFunction|span2|getElementsByTagName|ZGxyanRkbWwgZG5qc2ZvIGRsZm1hZG1zIGRrc3NrZGxh|dHJpYWw|disabeld|parsererror|borderRadius|auiXlsxStep71|XMLDOM|async|loadXML|isRound|_maskGetPlaceholder|_maskDefaultBuffer|_getDropDownList|delimiter|Latin1|setValueByExternal|_clickHandler|iconSpan|fromCharCode|_getDropDownLayer|_setListData|_listLayerDownHandler|mousewheel|enc|Hex|showCheckAll|listTemplateFunction|customWidth|list4editRole|auiXlsxStep77|Malformed|BufferedBlockAlgorithm|decimal|26px|readOnly|Utf8|ontouchstart|easyMode|anyoneChecekd|unkown|_changeStepValue|charCodeAt|sensitivity|DOMMouseScroll|_changeValue|rgba|_v_|fillStyle|_maxValue|_transformValues|_minValue|fillRect|childNodes|contentRegion|customHeight|arc|closePath|strokeStyle|beginPath|_commitChartData|clearRect|Base|21B4F4B5|WordArray|990951BA|sigBytes|_changeValue4Multiple|wheelDeltaY|wheelDeltaX|offsetWidth|drawChart|offsetHeight|_h_|wheelDelta|wheel|vscrollbar|_data|altText|iconTableRef|textVisible|ignoreRowHeight|srcFunction|_prevSrc|imgTableRef|iconPos|iconFunction|onclick|StreamCipher|aisleRight|aisle|iconHeight|iconPosition|_iv|_dispatchMaskEditComplete|msMaxTouchPoints|BlockCipherMode|supportCanvas|result|_maskDefaultText|_maskClearBuffer|_prevBlock|_maskWriteBuffer|insertFromPaste|overWrite|_maskShiftR|_maskShiftL|_maskSeekNext|_maskSeekPrev|auto|applyColumnWidth|MD5|sin|_hash|HmacMD5|EvpKDF|Div|ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789|Base64|_nDataBytes|hscrollbar|splice|Hasher|algo|HMAC|isHorizontalStep|auiXlsxStep76|_upBtnDownHandler|downBtn|upBtn|_dontBlur2FireEvent|maxTouchPoints|buttonClick|relative|_key|inputerHeight|inputHeight|Cipher|_xformMode|_downBtnDownHandler|_selfDownHandler|filterIconWidth|colMergeMap|bodyDiv|close|_closeBtn|keyup|_keyUpEventHandler|bit|missing|_titleSpan|headerDiv|leftRowCheckTds|textSpan|auiCheckLabelCheckClick|auiFilterCheckClick|dialogDiv|_closeHandler|symbols|footerDiv|TargetMode|External|was|getElementById|getElementsByName|fromColIdx|crc|cancel|marginLeft|_confirmBtn|16px|_confirmBtnClickHandler|_cancelBtn|stored|checkBox|_mouseClickHandler|status|uniqueCount|responseURL|send|fromElement|tsDx|preserveSpace|inflateReset|inflateReset2|responseType|onreadystatechange|readyState|toElement|preserve|webkit|_color|rowSpan|relatedTarget|setCustomCss|_checked|opera|distances|colSpan|_rowSpan|_backgroundColor|inherit|_fontWeight|_textDecoration|_colSpan|_fontStyle|distdyn|lendyn|distcode|lenbits|auiFilterInlineTabIndex|auiFilterInlineFocusIn|auiFilterInlineClear|setInputValue|clearInput|distbits|auiFilterInline|_inputFocusHandler|focusin|focusout|sane|minScrollPosition|showClear|lencode|maxScrollPosition|wsize|whave|middle|Drag|activePane|bottomRight|topLeftCell|inputCss|inputType|getInputValue|hold|xSplit|wnext|ySplit|_inputKeyDownHandler|far|nlen|ndist|fromColOff|keydown|ncode|_keyDownHandler|setScrollProperties|_keyUpHandler|lens|work|have|auiFilterModalConfirm|_keyInputHandler|auiFilterModalClose|wbits|_mouseDownHandler|_timer|delay|_intialized|_mousedownHandler|havedict|_inputHandler|_btn|_value|auiAutoComplete|searchBtn|_btnClickHandler|tiny|_inputText|dmax|isOpera|atob|MAX_VALUE|x0000|ubc13|ub9c7|ub77c|auiXlsxStep70|ub77b|ubc14|uc0ab|scrollBar|ucc27|uc78f|uc544|_mouseEventsInitialzed|uc543|ub2e3|_dispatchScrollEvent|u314a|u314b|u3149|u3148|u3146|u3147|u314c|getContext|isGroupBranch|ub097|matchFromFirst|u314e|u314d|groupParentValue|ucc28|uce73|menuIcon|_filterIconCss|filterIcon|tooltipIcon|sort|_isTriggerEditComplete|_menuIconCss|numeric|_menuIconClickHandler|isVisible|_y8c375Handler|_hideTooltip|_mouseEnterHandler|_showTooltip|touchstart|CustomEditRendererBase|ud30c|ud557|ud30b|ud0c0|uce74|ud0bf|uffffff|mousedown|CustomRendererBase|_thumbMouseEventHandler|createElement|_textProp|ud7a3|matchUseRegExp2|u3145|u3143|memory|getMinutes|getSeconds|keys|auiXlsxStep68|insufficient|trackScrollSize|getHours|textarea|execCommand|copy|clientWidth|auiXlsxStep69|clientHeight|dictionary|need|activeElement|inflateResetKeep|auiXlsxStep65|querySelector|toLowerCase|TextEncoder|inflateInit|inflateInfo|auiXlsxStep67|getElementsByClassName|documentElement|clientX|querySelectorAll|auiXlsxStep66|writeText|userAgent|noSorting|isSummaryPositTop|u3137|u3134|u3131|u3132|shift|map|u3141|u3142|u3139|u3138|setScrollPosition|dateInputFormat|module|getTime|extra_bits|extra_base|0000000|static_tree|clipboard|incompatible|elems|max_length|Cannot|arrowScrollSize|stat_desc|max_code|has_stree|dyn_tree|here|ButtonRenderer|34998626667073579|Worksheets|inputKeyUp|inputKeyDown|negativeFillColor|showPlaceholder|getData|Excel|userFormatCache|styleObject|drawing1|hyperLink|docPropsVTypes|drawing_rel|maskDoDelAction|enableDragCellMode|lowestEdited|lastEdited|rupBuild|14420|workbookView|workbookPr|appName|fileVersion|types|axisColor|defineProperty|selectedIndex|beforeInsertRow|sharedString|scheme|circle|lineColor|winColor|lossColor|cccccc|baseValue|lastColor|8C8C8C|maxColor|markLastValue|2F9D27|minColor|firstColor|FF2424|positive|standalone|_userFormatCache4xlsx|_styleObject4Xlsx|auiXlsxZipPartComplete|auiXlsxComplete|_sheetIndex4xlsx|Text|_sOZ674xlsx|_sheetNames4XlsxObj|exportProgress|yes|complete|auiXlsxStep|isLocked|xWindow|yWindow|ArrowDown|defaultPivotStyle|PivotStyleLight16|EB79DEF2|80B8|altKey|ArrowUp|TableStyleMedium2|dxfs|arrowup|arrowright|arrowleft|defaultTableStyle|tableStyles|43e5|_maintainScroll4Paging|9260A510|SlicerStyleLight1|F301|autoThousandSeparator|Nov|pageRowCountChange|defaultSlicerStyle|slicerStyles|Dec|57150|pageChange|95BD|54CBDDF9020C|builtinId|uc900|enter|_rZV884sb|pageNum|_2oO894sb|_GZ386|dist|_7r785|tab|27855|windowWidth|selectionDown|selectionUp|12975|windowHeight|paddingLeft|_exportWithStyle|000_|_pageRowSelect|setOptionList|cellStyle|ud45c|auiSelectDropChange|January|_FNw90|_RFH87|50px|_rZV88|arrowdown|_2oO89|markFirstValue|pasteBegin|leftFooterThead|leftFooterTableCaption|leftFooterTbody|_colSpanTarget|textIndex|toUpperCase|leftFooterTable|leftFooterTds|footerTbody|footerThead|leftFooterBaseTh|leftFooterCellDivs|_nowDraggingOver|MAC|_prevSearchIdx4Wrap|notFound|getImgSrc|src|arrayBuffer2Buffer|sources|moving|exporting|platform|_movingColumnItem|rowNumWidth|landscape|headerImages|footerImages|_imagesBase64|footerTableCaption|footerTable|mouseenter|bodyTbody|mouseleave|dblclick|stateDivs|leftBodyThs|bodyThead|bodyTableCaption|auiHeaderTipShow|auiHeaderIconClick|auiHeaderTipHide|auiHeaderRendererClick|setIndeterminate|dependentMode|rowKnobTds|rowKnobDivs|_2Qh104|lineHeight|avg|95000|footerCellDivs|onselectstart|isMac|646BA8C0|leftBodyThead|leftBodyTableCaption|leftBodyTbody|aui_grid_radio_|_2oQ55|disableMoving|beforeRequestCallback|page|copyBegin|showLabel|baseUrl|linkField|javascript|restore|save|baseFooterStyles|columnCssStyleList|verticalGridLines|currentLineHeight|lineWidth|fillAndStroke|imgHeight|selectionChange|footers|addPage|initial|renderingField|markMinValue|markMaxValue|pasteEnd|getPageCount|lineTo|stroke|moveTo|strokeColor|selectionConstraint|baseCellStyles|portrait|pdfkit|include|PDF|columnSizeList4Pdf|ModDate|CreationDate|Please|PDFDocument|77073096|_pdfFontAUIGrid|fontPath|x0AURL|_PDFDocument|myFont1|registerFont|ffffff|copyEnd|localControl|saveAs|localControlFunc|afterRequestCallback|headerIconClick|both|baseHeaderStyles|fillColor|headers|initPosY|disableGrouping|keyDown|blurRad|supports|List|footerDoubleClick|tdTouchArrY|firstChild|only|insertBefore|Remote|cellLongTap|_recentRemoterX|footerValue|footerText|_recentRemoterY|footerIndex|footerClick|parsed|disableCellDrag|enableDragCells|MoolBoran|dropCancel|trim|dropEndBefore|020F0302020204030204|absolute|innerText|Light|remoteList|byEditLayer|appendChild|plus|cellClick|getUTC|Day|textContent|headerButtonClick|headerCheckClick|slice|textProp|innerHTML|headerDropDownItemClick|dropdown|setDate|Hours|Month|FullYear|masks|onClick|0563C1|70AD47|isValidDateRange|remoter|treeIcon|954F72|cellDoubleClick|headerTooltip|_lastLeaveY|4472C4|_lastLeaveX|removeChild|tooltipHtml|dropEnd|currentStyle|substr|join|replace|constructor|endFunction|076DC419|apply|_oldY|_currentDropList|contextmenu|_destroyDropLayer|DaunPenh|_oldX|headerClick|updateFunction|easingFunction|touchDownTime|cancelable|maxHeight|setAttribute|getAttribute|removeAttribute|startValue|endValue|userEquation|split|duration|maxlength|fps|undoRedoChange|_update|getComputedStyle|dragCellsTooltipFunction|dragCellsBegin|PosMarkerDiv|KCVFQyVBMyVCQyklRUMlOTclOTAlRUMlOUQlQjQlRUMlOUMlQTAlRUMlOTUlODQlRUMlOUQlQjQlRUMlODYlOEMlRUQlOTQlODQlRUQlOEElQjg|PosTreeMarkerDiv|dragBegin|_nowDragging4Knob|dropCellsEndBefore|dropCellsCancel|nullMergeOthersByDrop|dropCellsEnd|020F0502020204030204|child|rowAllChkClick|tdTouchArrX|PosMarkerDiv4|_tapped|toColumnIndex4DragCells|removeProperty|always|PosMarkerDiv3|changedTouches|rowAllCheckClick|PosMarkerDiv2|supportTransform|rowNumHeaderClick|rowCheckClick|_formatValue|FFC000|_swipedBtn|Mon|rowSwipe|Sun|coreProperties|Content_Types|TimeSlicerStyleLight1|defaultTimelineStyle|Fri|Sat|Thu|Wed|Tue|swipedBtnClick|elements|dcterms|listAlign|listHeight|userLabelText|previousSibling|supportsPassiveOption|xsi|uae08|need2FilteredList|terms|orgTouchRY|isGroup|ud1a0|uniqueValueList|timelineStyles|rowNumCellClick|cellEditEndBefore|cellEditCancel|applyValueField|itemClick|_isMobile|46a8|contextMenu|Oct|autoEnter|_GF7102|cellEditEnd|descendantDefaultValues|_EkV99|descendants|8635|F512D64BE5F5|multipleCells|Apr|Mar|Feb|rowStateCellClick|Jan|May|Jun|Aug|Sep|autoEasyMode|autoCompleteMode|Jul|ubaa9|uc218|hover|div|tooltipField|tooltipFunction|73000|44546A|onlyEventOnCellDown|cellDown|FFFFFF|94000|81000|109000|doNotGridSelection|_byRowNumTdDown|Seconds|67000|dropLayer|multipleMode|A5A5A5|_tooltipTimer|setMonth|onlyMonthMode|showDropLayerToggle|Minutes|5B9BD5|E7E6E6|FD62F97A|show|ED7D31|Milliseconds|localXGrid|isSamsung|getRemoveValueByKey|www|floor|abs|12700|superClass|isAndroid|uc77c|static|match|hasOwnProperty|isMobile|6350|pop|windowText|ud14c|mouseWhich|getTimezoneOffset|localYGrid|touch|i18n|99000|78000|XMLSchema|supportBlob|orgTouchRX|instance|auiFilterIconClick|DropDownHeaderRenderer|lstStyle|valueField|listFunction|historyMode|openDirectly|pPr|keyField|fitHeight|offsetTop|offsetLeft|hPosition|vPosition|unsupported|fitWidth|passwordMode|password|The|auiInputKeyDown|auiInputKeyUp|parentWindow|need2auiDirectionKey|auiKeyUp|auiDirectionKey|maskCaretInit|lang|ownerDocument|altLang|inputAttrs|maskDoInit|props|CustomEditRenderer|LOCAL_FILE_HEADER|93AF|TextMultiRowRenderer|62F939B6|rtlCol|Theme|CENTRAL_FILE_HEADER|SparkWinLossRenderer|9C6B|D6C7DFDC589F|4DB8|gridObj|SparkLineRenderer|SparkColumnRenderer|horzOverflow|TemplateRenderer|cellEditBegin|spaceBarToggle|rendererProps|setSelectionRange|rsCalendar|onlyCalendar|textEditable|anyKeys|jsClass|CustomRenderer|noWrap|conditionFunction|vertOverflow|defaultFormat|inputMode|cend|chome|groupingIndex|85A3|groupingMessageSpan|groupItemDivs|pdown|pup|removeEventListener|exceptColumnFields|000|multiple|home|events|minWidth|_hoverTdArrX|78C0D931|vScrollChange|6437|407d|extraClrSchemeLst|A8EE|05A4C25C|085E|options|_hoverTdArrY|hScrollChange|_LZ8139|leftBodyTable|_initialMetadata|columnSizeOfDataField|requestAFrame|A5531E510DB2|xlsxTextConversion|xlsxDate|4B04D447|Animation|scale|themeFamily|thememl|inputmode|4px|editorBtn|clientData|updateLayerPosition|_editDropLayer|xlsxNumeric|rowNumVerticalGridLine|rowCheckVerticalGridLine|rowStateVerticalGridLine|auiRowNum|bodyTable|_addedBy|_DQ0100|cellColMergeFunction|rowAllCheckBox|colSeperatorKnobs|cursor|tempResizeRule|vid|IconRenderer|hideEditedMarker|showEditedMarker|_columnSizeList4xlsx|checkValue|unCheckValue|bodyPr|jszip|editedFields|arrY|_editorBtn2|leftRowNumTds|Row|included|soft|notCheckByClipboard|autoUpperCase|validate|applyMaskValue|NumberStepRenderer|editedOrgValueCache|nadae|nad|regExp|allowPoint|onlyNumeric|autoLowerCase|defined|allowNegative|bodyRows|August|September|multipleRows|headerTds|showEditorBtn|ConditionRenderer|_f|showEditorBtnOver|rowCheckVisibleFunction|rowCheckDisabledFunction|x05|ZIP64_CENTRAL_DIRECTORY_LOCATOR|x02|x01|rowCheckableFunction|x04|_i|_a|combo|RemoteListRenderer|remote|CENTRAL_DIRECTORY_END|test|now|_6qU66Obj4xlsx|x03|December|ud6c4|November|isIE|October|editableByPaste|expFunction|restrict|mergePolicy|mergeRef|excepts|valuewithnull|treeForceCellMerge|enable|7422A47A8E4A|CheckBoxHeaderRenderer|STORE|adjustSumText|displayFormatValues|blob|labelFunction|withnull|A589|dropLayerTarget|BarRenderer|dialogElement|displayInDialog|_useDropList|4A3C46E8|ImageRenderer|auiTreeIconClick|startMergeField|4603|mc2|61CC|ms2|D80D2BDA|headerRenderer|_XBy93|July|Load|_Hae91|leftHeaderTable|inlineFilterTds|footerThs|footerTds|leftHeaderTrs|headerBranchTdMap|headerTrs|headerThs|bodyThs|_NAc95|_rrA96|_y7D70|_lng103|_4xn65TypeMap|anchor|_isMultipleSubColumn|_QQi56|footerTrs|_zTw97|_OCw106|leftFooterTrs|_qYD92|x10|isEdge|F0AAD7539E65|05C60535|exceptnew|addRowFinish|rounding|150000|postfix|prefix|selectionLeft|selectionRight|outdent|beforeRemoveRow|getValueByKey|formatString|defaultValue|beforeRemoveColumn|blank|headerTexts|_filterScroller|_filterLayer|_oldOwnFilters|_filterInputText|filterFunction|_currentFilterUniqueCache|userFilter|toggleFilterIcon|positionField|_inY105|inlineFilterDivs|_filterCache|_filterSubCache|beforeRemoveSoftRows|130000|47D3|C7B1|B67F|_progressWrapperDiv|_progressBarDiv|A62EFF666E3E|_exportProgressContainerDiv|_exportProgressModalDiv|mergeCell|autoBom|txt|February|_exportProgressDiv|lenth|_progressPercentDiv|_progressTitleDiv|altField|aliasFunction|callLabelFunc|auiEvents|90000|toFixed|subRow|submit|form|marginTop|post|localAsText|_blank|filtering|_recentFilterItem|crios|isChromeIOS|isChrome|chrome|headerThead|headerTableCaption|headerTable|headerBranchDivMap|_nowFilerResizing|_nowFilerLayerMoving|useInlineExtra|divider|_modal|maxLength|headerTbody|rSpan|isRowNumTd|leftHeaderTbody|ownHeaderY|170000|ButtonHeaderRenderer|setXpos|leftHeaderThead|leftHeaderTableCaption|leftHeaderThs|cSpan|leftRowHeaderDivs|leftRowHeaderTds|leftInlineFilterTds|useExMenu|correct|delBtnClick|matchUseRegExp|_curOwnFilters|_filterConfirmBtn|_filterInitSpane|_recentFilterDataLength|opIndex|_filterAddCheckBox|_filterMoreSpan|_recentFilterText|_filterCheckBoxes|_filterAllCheckBox|_filterSearchAllCheckBox|_filterFooterDiv|auiFilterConfirm|mouseover|_filterTextBtn|mouseout|enableCustomMenu|iconClick|userChecked|93000|_oldfixedRowCount|auiFilterCancel|_filterCancelBtn|_resizer|filer|_lastSelectionIndexes|ufeff|B025F937|DEFLATE|F4F36F0B64E0|_oldSelectionRowStart|stacked|_oldSelectionRowEnd|compressedContent|B633|getTypeOf|reached|asked|then|End|filterObj|_sortingTreeBranchFields|_oldSelectionColStart|objectDefaults|webkitCancelAnimationFrame|_map4orgValDisplaySort|gap|cancelAnimationFrame|msRequestAnimationFrame|oRequestAnimationFrame|mozCancelAnimationFrame|displayEmptyCellsAs|_oldSelectionColEnd|isFirefox|compressionMethod|oCancelAnimationFrame|msCancelAnimationFrame|transformTo|string2binary|sortingSequence|files|sortable|inflateRaw|April|June|_lNJ57|root|tip|1F16|isBuffer|zipComment|decompressed|fileComment|March|deflateRaw|checkSupport|customSorting|arrayBuffer2Blob|string2Blob|string2Uint8Array|uint8Array2String|MAX_VALUE_16BITS|MAX_VALUE_32BITS|useCustomSorting|4fd2|isRegExp|findCompression|pretty|mozRequestAnimationFrame|webkitRequestAnimationFrame|selectedindex|priority|constraintField|constraint|alwaysQuotes|isConstraint|listener|isExceptFunction|FF00B050|bold|leafCount|FFFF0000|labelTexts|AVG|constraintFunc|alwasyQuotes|treeOpenChange|unshift|showLazyIcon|treeLazyRequest|blur|hideLazyIcon|sumFieldValue|sumIndex|exceptFunction|isExpFunction|exceptSumField|operation|except|arrayMode|colorLow|high|stop|colorSeries|nowHeaderColumnResizing|columnResizeDownX|_doInterval|iconWidth|cancelAFrame|low|_getCurrentValue|showHeaderMenu|menuIconWidth|showIcon|columnResizeUpX|colorNegative|_startTime|colorFirst|_isPlaying|_maintainOpen|colorHigh|colorLast|_isMultipleSubColumnt|columnStateChange|_requestId|colorAxis|colorMarkers|widthFit|visibility|ZIP64_CENTRAL_DIRECTORY_END|2282|0x3DD895D7|0xA4D1C46D|0xD3D6F4FB|0x4ADFA541|0xD4BB30E2|0x3AB551CE|0xA3BC0074|0x4369E96A|0x346ED9FC|0xAA0A4C5F|0xDD0D7CC9|0x33031DE5|0x44042D73|0xAD678846|0xDA60B8D0|0x4DB26158|0xFBD44C65|0x6C0695ED|0x1B01A57B|0x8208F4C1|0xF262004E|0x856530D8|0x6B6B51F4|0x1C6C6162|0xF50FC457|0x65B0D9C6|0x15DA2D49|0x8CD37CF3|0x62DD1DDF|0xFCB9887C|0x12B7E950|0x8BBEB8EA|0x5005713C|0x270241AA|0x73DC1683|0xE3630B12|0x94643B84|0x04DB2615|0x9DD277AF|0x74B1D29A|0xEAD54739|0x0D6D6A3E|0x7A6A5AA8|0xF00F9344|0x8708A3D2|0x7D079EB1|0x0A00AE27|0xE40ECF0B|0x9309FF9D|0x03B6E20C|0x9ABFB3B6|0xB966D409|0xCE61E49F|0x206F85B3|0x5768B525|0xBE0B1010|0xC90C2086|0x5EDEF90E|0x29D9C998|0xB7BD5C3B|0xC0BA6CAD|0x2EB40D81|0x59B33D17|0xB0D09822|0xC7D7A8B4|0xE6635C01|0x91646C97|0xD56041E4|0xA2677172|0x3C03E4D1|0x4C69105E|0x3B6E20C8|0xFA0F3D63|0x8D080DF5|0x4B04D447|0xD20D85FD|0xACBCF940|0x32D86CE3|0xDBBBC9D6|0x42B2986C|0xA50AB56B|0x35B5A8FA|0x63066CD9|0x14015C4F|0x6AB020F2|0xF3B97148|0x84BE41DE|0x1DB71064|0x90BF1D91|0x7EB17CBD|0xE7B82D07|0x1ADAD47D|0x6DDDE4EB|0xFD62F97A|0x8A65C9EC|0x646BA8C0|0x136C9856|0xF4D4B551|||||||||||0x83D385C7|0x45DF5C75|0xDCD60DCF|0xEFD5102A|0x71B18589|0x06B6B51F|0x98D220BC|0x01DB7106|0xB6662D3D|0x76DC4190|0x9FBFE4A5|0xE8B8D433|0x7F6A0DBB|0x086D3D2D|0xE10E9818|0x9609A88E|0x7807C9A2|0x0F00F934|0xC1611DAB|0x58684C11|0xBFD06116|0x21B4F4B5|0xC8D75180|0x51DE003A|0xABD13D59|0x26D930AC|0x56B3C423|0xCFBA9599|0xB10BE924|0x2F6F7C87|0xC60CD9B2|0x5F058808|0xB8BDA50F|0x2802B89E|0x1E01F268|0x6906C2FE|0xA9BCAE53|0xDEBB9EC5|0x47B2CF7F|0x37D83BF0|0x40DF0B66|0xAED16A4A|0xD9D65ADC|0x30B5FFE9|0xBDBDF21C|0xCDD70693|0x54DE5729|0xBAD03605|0x24B4A3A6|0xCABAC28A|0x53B39330|0x3E6E77DB|||||||||||0x4969474D|0x11010B5C|0x8F659EFF|0xF862AE69|0x66063BCA|0xFF0F6A70|0x18B74777|0x88085AE6|0x616BFFD3|0x166CCF45|0xA7672661|0xD06016F7|0x3903B3C2|0x4E048354|0xA00AE278|0xD70DD2EE|0x23D967BF|0xB3667A2E|3562|3563|3564|3561|3559|3556|3557|3565|3567|3585|asText|3579|3578|3571|3577|3547|3542|0xC30C8EA1|0x5A05DF1B|0xB40BBE37|0x2A6F2B94|0xC4614AB8|0x5D681B02|0x2D02EF8D|3518|3534|Uint32Array|3533|3531|3519|3520|0x6FB077E1|0xF6B9265B|0xAF0A1B4C|||||||||||0x36034AF6|0x41047A60|0xD80D2BDA|0x48B2364B|0xA6BC5767|0x3FB506DD|0xDF60EFC3|0xA867DF55|0x256FD2A0|0x5268E236|0xBC66831A|0xCB61B38C|0x316E8EEF|0x4669BE79|0xD1BB67F1|0x4FDFF252|0xFED41B76|0x89D32BE0|0x10DA7A5A|0x6E6B06E7|0x196C3671|0xF762575D|0x806567CB|0x67DD4ACC|0xF9B9DF6F|0xA1D1937E|0x38D8C2C4|0xD6D6A3E8|0x60B08ED5|0x8EBEEFF9|0x17B7BE43|0xCC0C7795|0xBB0B4703|0x7BB12BAE|0x0CB61B38|0x92D28E9B|0xE2B87A14|0x95BF4A82|0x72076785|0x05005713|0xE5D5BE0D|0x7CDCEFB7|0x1FDA836E|0x81BE16CD|0x68DDB3F8|0xF1D4E242|0x0BDBDF21|0x86D3D2D4|0xEB0E363F|0x9C0906A9|0x2BB45A92|0x5CB36A04|||||||||||0xB2BD0B28|0xC5BA3BBE|0x220216B9|0x5505262F|0xC2D7FFA7|0xB5D0CF31|0x756AA39C|0x026D930A|0xEC63F226|0x9B64C2B0|0x2CD99E8B|0x5BDEAE1D|0x09B64C2B|0x97D2D988|stackIndex|stackSize|3071|3059|3058|3014|3031|3072|3075|3085|3086|3084|3083|3077|3078|3013|uidsNullMergeOthers|2993|2994|2995|2992|2990|2987|2988|2997|2999|rowIndexRange|columnIndexRange|3012|toPid|_JgJ568|targetPid|3103|3109|3194|3202|3204|3191|||||||||||3184|3181|3182|3207|rowNum|3257|3258|3222|3221|3216|3218|3180|3178|3138|3155|3137|3133|3110|shiftIndex|3166|3161|3174|3175|3168|3164|3162|buttonText|2984|2979|2857|2858|2859|2856|2851|2844|2849|2860|2861|2866|2869|2865|2864|2862|2863|2839|oldRowCount|2816|2817|2819|2808|2806|2803|||||||||||2805|2821|2822|2829|oldPage|2828|2827|2823|2824|2873|2876|2954|2958|2959|2951|2950|2939|2940|2963|2964|2974|2976|minHeight|2973|2970|2971|2938|2934|2886|2897|2882|2880|contextDepth|contextItem|2898|2899|2929|2931|2925|2924|_0E4545|2921|3259|3261|3476|3477|getHScollValue|3475|3474|3472|3473|_kOJ733|||||||||||3478|3482|3483|3481|3480|_x4X734|3479|3467|3466|3432|3433|3434|3429|3428|3426|3427|getTotalRowCount|getChildrenByRowId|3464|3465|3463|3462|3447|3460|3493|3494|0x00000000|0x77073096|0xEE0E612C|3514|3910|outQunitic|getCommands|0x990951BA|0x076DC419|0x79DCB8A4|0xE0D5E91E|0x0EDB8832|0x9E6495A3|0x706AF48F|0xE963A535|016260162601626|04065040650406471|3499|3500|3498|3497|3495|3496|3501|3502|inCubic|||||||||||024390243902438824|inQuartic|defaultEasing|3503|3504|3424|3422|3312|3313|3314|3311|3308|3306|winloss|3316|primeCell|3344|3345|3335|3329|3325|3330|_nwU670|3291|3276|3277|3275|3272|3263|3271|3278|3279|3289|3290|3288|3282|3280|3281|3347|3349|3391|3392|3393|3389|3387|3382|3386|3394|3395|3419|3420|3416|||||||||||3414|3404|parentDataField|3378|3375|3358|3364|3356|3352|3350|3351|setRowSelectionByItem|3365|3372|3373|3371|3369|3366|3368|asNodeBuffer|asArrayBuffer|4361|addCheckedRowsByIds|4363|4360|4359|4357|4358|addCheckedRowsByValue|4365|4369|4370|4368|showInfoMessage|4366|4367|4355|4354|4349|formatDate|formatNumber|getValidLocationAll|getValidLocation|copyright|4348|getActiveGrid|setMoblieMode|isCreated|4353|4352|4350|getMobileMode|||||||||||makeValueUnmasked|4371|4372|4391|4392|showItemsOnDepth|4390|4389|showColumnGroup|hideColumnGroup|4393|4394|getSelectedColIndexes|4397|4396|setSelectionColumn|setSelectionMode|4395|exportToPdf|4386|4377|4378|4376|4375|4373|4374|4379|exportToObject|exportToXlsx|isAvailableLocalDownload|exportToCsv|exportToTxt|exportToJson|exportToXml|4347|releaseDate|4251|4252|4253|4250|4220|4208|4217|4254|4255|4261|4262|4259|4258|4256|4257|4206|4204|4159|4161|4163|4158|4157|4150|4156|4174|4175|4199|4200|4196|4195|4178|4191|4263|4268|4330|4331|4333|4329|4328|4323|4327|4334|4335|Class|4346|EditRendererBase|4345|4338|4339|4319|4318|4276|4278|4275|4274|4272|4273|4279|4280|4286|4311|4284|4283|4281|4282|clearSelection|4398|isMergedCellByRow|isMergedCellByColumn|validateChangedGridData|isMergedCell|getMergeItems|getMergeEndColumnIndex|4454|4455|updateGrouping|4458|getStateCache|getScaleFactor|4457|4456|setScaleFactor|getMergeStartColumnIndex|getMergeEndRowIndex|4450|removeToastMessage|setHeaderRendererProp|showToastMessage|validateGridDataByFunc|changeFooterLayout|validateGridData|4451|setHeaderRendererPropByDataField|getInitValueItem|getMergeStartRowIndex|4453|setPageRowCount|4452|updateRowBlockToValue|4459|syncGridData|4471|getColumnItemByIndex|getTextDataProvider|4470|isEditedByRowIndex|isRemovedByRowIndex|4469|setHoverMode|resetLazyStateByIndex|4474|updateExpFuncAll|isSelectionReversed|4473|4472|isLazyRequestedByIndex|4468|isAddedByRowIndex|4462|getCurrentPageData|getSortingFields|4461|4460|getCellElementByIndex|4463|getFilterInlineTexts|hideFooterLater|4467|showFooterLater|4465|4464|setFilterInlineTexts|4448|changeColumnLayout|4421|4422|4423|4420|4419|4417|4418|4424|4425|4427|isSortedGrid|4426|moveRowToIndex|moveRowsToUp|moveRowsToDown|openEditDownListLayer|4415|4404|4405|4406|4403|4402|4399|4400|searchAll|4408|4413|4414|4412|4411|4409|4410|isFilteredGrid|getFilterCache|4441|getSelectedText|setCellValue|4440|4439|4437|4438|4442|getCellValue|4446|4447|4445|4444|4443|getCellFormatValue|4435|clearGridData|setColumnProp|setRendererProp|4429|setColumnPropByDataField|setFilterCache|4428|4430|getFitColumnSizeList|4434|getFooterFormatValueByDataField|4433|4432|getFitColumnSizeByDataField|4431|4147|4145|Z_STREAM_ERROR|Z_DATA_ERROR|Z_BUF_ERROR|Z_ERRNO|Z_NEED_DICT|Z_BLOCK|Z_TREES|Z_NO_COMPRESSION|Z_BEST_SPEED|Z_RLE|Z_FIXED|Z_HUFFMAN_ONLY|Z_FILTERED|Z_BEST_COMPRESSION|Z_DEFAULT_COMPRESSION|Z_FULL_FLUSH|Z_SYNC_FLUSH|3719|3738|3739|3704|3703|3701|3702|3740|3741|3760|Z_PARTIAL_FLUSH|3756|TypeError|3754|3755|Z_DEFAULT_STRATEGY|Z_BINARY|0x1000|3876|0x01|3875|0xe000|3874|0x200|3877|3878|3884|3885|3883|3882|3879|3880|3872|0x8b1f|3764|0x20|3762|Z_DEFLATED|Z_TEXT|Z_UNKNOWN|3833|3834|3855|32768|3854|3837|3835|3836|3700|0x6375|3629|3630|3631|3618|3617|3614|3616|3632|3633|3642|3654|3641|3637|3634|3636|3612|3611|3596|3597|3600|3595|3593|3590|3592|3601|3602|3609|3610|3604|remove|3603|folder|3657|3660|3685|3689|3691|3684|3683|3681|3682|3692|3693|3698|0x7075|3697|3696|3694|0x00000010|3680|3679|3666|3667|3665|3664|3661|3663|3668|3669|3677|3678|3674|3672|3670|3671|0xffffffff|3886|4014|4015|4016|4013|4012|4010|4011|4017|4018|4028|4029|4027|4026|4019|4022|4009|4007|3996|3998|4000|3991|3988|3983|3985|about|storage|4005|4006|4002|HEAD|res|widget|4031|4032|4114|4115|4117|4112|4111|4108|4109|4119|4122|4142|4143|4137|4135|4124|4131|4102|4100|4037|4042|4036|4035|4033|4034|4045|4048|4090|4093|4089|4082|4049|4081|3981|3978|3911|3912|3913|0xf3ffc07f|3900|3898|3899|3914|3915|3920|3921|3919|3918|3916|3917|3897|3896|3891|3892|3890|3889|3887|3888|6145|8193|3894|3895|3893|24577|12289|16385|3922|3923|3947|3956|3960|jong|3946|3944|3945|getValue|getFormatValue|3965|3972|injectValue|triggerEditCancelEvent|3962|triggerEditEndEvent|3943|3942|3928|3929|3927|3926|3924|3925|44032|55203|3940|3941|3938|3935|3932|3934|2801|3307|822|824|821|808|801|803|827|828|835|836|834|832|829|831|797|795|747|752|745|744|741|743|770|772|791|793|789|783|777|842|843|915|916|914|_Kgr127|_re4125|_aYi126|917|918|923|924|922|921|919|911|selectionIndicator|850|859|848|846|845|844|862|866|902|906|887|881|868|740|738|690|693|684|669|665|668|698|finally|705|25508|25569|704|699|703|651|650|617|618|616|615|611|614|619|630|648|649|645|641|635|0416666666666667|0006944444444446|getByteLength2|cutByteLength|89ABab|mvp|02|728|0x00007f|0x0007ff|XMLHttpRequest|736|99999|99999999999|2800|727|726|getCurFocusedElement|718|arraysEqual|objectValue2array|000011574074074|flatData2TreeData|719|720|724|725|723|722|721|925|926|1311|1352|1303|1287|1246|1251|1357|1358|1449|1458|1405|_ouh201|1383|1401|1244|1227|1136|1143|1122|1119|1106|1116|1146|1185|1206|1222|1203|1188|1189|1459|1461|1557|1564|1556|1555|1552|1553|1585|1613|1625|1626|1624|1618|1614|1551|1549|1481|1486|1480|1467|1463|1464|1487|1496|1535|1538|1527|1525|1511|1107|1088|946|947|945|944|942|943|948|949|960|961|contextMenuFooterItems|952|950|951|941|940|931|932|930|929|927|928|933|934|938|939|937|936|935|enableAnimation|xlsxZipMode|1043|600000|1036|1031|998|1002|1050|1056|1085|1087|1084|1083|1057|997|996|965|966|964|963|962|_ILZ132|967|968|tabIndex|995|970|969|selectionRowElementList|609|610|getEndDate|jqOpts|getStartDate|changeDate|btOpts|keyboardNavigation|onSelect|_getInst|fieldName|selectedSameText|_key2valueMap|jsCallback|_getMinMaxDate|atag|datepicker|_isCreatedDatePicker|setYear|byConfirm|auiDateSelected|_getDisplayDateTime|sec|__currentDepth|setHours|setMinutes|initDateFunction|bootstrap|_auiDateSelectedHandler|invalidDateText|setSeconds|20250221|AUISoft|Phone|android|Windows|BlackBerry|iPod|Macintosh|Function|Promise|HhMsTt|LloSZ|breakLoop|iteration|performance|iPad|iPhone|_minorSelectionTdY|filterMenuItemCount|_minorSelectionTdX|defaultProps|Ltd|ancestorOrigins|msie|trident|Android|webOS|InstallTrigger|edga|edge|secDrop|minSpan|uncheckDateValue|onlyTimeMode|uc9dc|ub0a0|confirmText|uncheckDateText|showTimeSecond|hourInterval|secList|displayHour|minList|hourList|minInterval|secInterval|ub298|todayText|monthTitleString|formatYearString|formatMonthString|firstDay|_optionSelectionChangeHanlder|_currentDepth|titles|showExtraDays|showConfirmBtn|showUncheckDateBtn|showTodayBtn|displayDate|selectedDate|displayMin|displaySec|_createMonthCalendar|_createYearCalendar|extraday|getDay|_footerDiv|_createDayCalendar|_createTimePicker|hourDrop|colon|minDrop|hourSpan|_auiSelectDropChangeHandler|hour|_timeDiv|_headerDiv|_centerBtn|_centerBtnClickHandler|_rightBtnClickHandler|_rightBtn|_leftBtn|_leftBtnClickHandler|_bodyDiv|_dateClickHandler|_delBtnClickHandler|_destroyTimePicker|_delBtn|_todayBtnClickHandler|_todayBtn|PMCEA|SDP|2562383102|271733878|4023233417|1732584193|unescape|502|522|523|540|544|536|531|525|527|495|decodeURIComponent|470|471|469|468|459|467|472|473|4294967295|491|477|476|475|545|546|591|598|590|arrayItemMove|pageOffset|pageXY|602|604|606|608|605|ActiveXObject|603|582|580|563|algorithm|558|556|547|554|566|16843009|578|579|577|576|575|408|407|isoDateTime|isoUtcDateTime|isoTime|isoDate|mediumTime|longTime|301|303|GGG|306|ggg|dddo|304|305|shortTime|fullDate|Atlantic|Standard|Eastern|Central|Pacific|Mountain|Daylight|Prevailing|mediumDate|longDate|shortDate|GMT|Time|319|321|350|351|347|parseFloat|334|336|352|353|377|399|375|374|354|329|328|nullInput|invalidMonth|charsLeftOver|unusedTokens|322|empty|invalidFormat|userInvalidated|rfc2822|weekdayMismatch|meridiem|parsedDateParts|iso|1635|0x00ffff|2553|2557|2552|2551|2549|2550|2559|2560|2564|2566|2563|2562|2561|2548|2547|2511|2512|2510|2502|2496|2501|2513|2514||2544|2546|2518|2517|2516|2567|2568|2590|2591|2589|2588|2584|2587|2592|2593|2597|2598|2596|2595|2594|2583|2582|2572|2573|2571|2570|2569|2574|2575|2580|1636|2578|2577|2576|2495|2494|2445|2446|2444|2443|2440|2441|2447|2449|2455|2457|2454|2453|2452|2439|2438|2429|2430|2428|2427|2426|2431|2432|2436|2437|2435|2434|2433|2459|2460|2485|2486|2484|2483|2477|2478|2487|2488|2492|2493|2491|2490|2489|2476|2475|2464|2465|2463|2462|2461|2466|2468|2473|2474|2472|2470|2469|2599|2631|2743|2744|2742|2741|2739|2740|2745|2746|2755|2756|2754|2753|2747|2738|2737|2727|2729|2725|2724|2723|2730|2731|2735|2736|2734|2733|2732|2757|2758|2777|2778|2776|2775|2773|2774|2780|2781|2795|2797|2793|2788|2783|2772|2771|2762|2763|2761|2760|2759|2764|2765|2769|2770|2768|2767|2766|2722|2721|2668|2669|2666|2663|2661|2662|2670|2672|2677|2678|2675|2674|2673|2660|2659|2646|2647|2645|2639|2635|2648|2650|2657|2658|2656|2655|2653|2679|2680|2712|2713|2711|2710|2706|2709|2714|2715|2719|2720|2718|2717|2716|2705|2704|2684|2685|2683|2682|2681|2686|2687|2696|2697|2693|2692|2688|2425|2581|2273|2274|1999|2007|2271|1996|1990|2288|2284|1987|2279|2269|2011|2249|2258|2247|2019|2020|2017|2016|producer|2266|2263|2259|1985|1979|1892|1890|6740|1894|1895|1888|2A0|1881|1882|1884|1886|1896|1898|4A0|1955|1968|0x8000|1953|filterCache|1899|1903|1935|1946|2025|2027|2176|2158|2174|2094|2172|2104|2105|2148|2119|2062|2067|2166|2160|2086|2085|2089|2091|2092|2083|2159|2068|2069|2070|2074|2152|2051|2154|2033|2227|2155|2156|2032|2228|2250|2028|2030|2031|2040|2043|2047|2202|2201|2050|wrapFound|2224|2226|2225|2045|2046|1877|2292|2374|1792|1796|1797|1799|1765|1764|1727|1730|1762|1763|1817|1818|2365|2364|2363|2362|2370|1846|2372|1843|1844|2371|1720|1695|2418|2414|1649|1680|2420|1644|1638|1643|2424|2423|1685|1688|params|2377|2375|1692|1691|2400|2412|2407|2402|2401|1847|1787|2297|1852|2316|2317|1851|2318|1854|1856|_jSI340|preventScroll|1872|1871|_J2o320|requested|2319|_c8o329|cellWidth|2333|1848|1849|1850|2357'.split('|'),0,{}))

!function(factory) {
    "function" == typeof define && define.amd ? define([ "jquery" ], factory) : factory("object" == typeof exports ? require("jquery") : jQuery);
}(function($) {
    var caretTimeoutId, ua = navigator.userAgent, iPhone = /iphone/i.test(ua), chrome = /chrome/i.test(ua), android = /android/i.test(ua);
    $.mask = {
        definitions: {
            "9": "[0-9]",
            a: "[A-Za-z]",
            "*": "[A-Za-z0-9]"
        },
        autoclear: !0,
        dataName: "rawMaskFn",
        placeholder: "_"
    }, $.fn.extend({
        caret: function(begin, end) {
            var range;
            if (0 !== this.length && !this.is(":hidden")) return "number" == typeof begin ? (end = "number" == typeof end ? end : begin, 
            this.each(function() {
                this.setSelectionRange ? this.setSelectionRange(begin, end) : this.createTextRange && (range = this.createTextRange(), 
                range.collapse(!0), range.moveEnd("character", end), range.moveStart("character", begin), 
                range.select());
            })) : (this[0].setSelectionRange ? (begin = this[0].selectionStart, end = this[0].selectionEnd) : document.selection && document.selection.createRange && (range = document.selection.createRange(), 
            begin = 0 - range.duplicate().moveStart("character", -1e5), end = begin + range.text.length), 
            {
                begin: begin,
                end: end
            });
        },
        unmask: function() {
            return this.trigger("unmask");
        },
        mask: function(mask, settings) {
            var input, defs, tests, partialPosition, firstNonMaskPos, lastRequiredNonMaskPos, len, oldVal;
            if (!mask && this.length > 0) {
                input = $(this[0]);
                var fn = input.data($.mask.dataName);
                return fn ? fn() : void 0;
            }
            return settings = $.extend({
                autoclear: $.mask.autoclear,
                placeholder: $.mask.placeholder,
                completed: null
            }, settings), defs = $.mask.definitions, tests = [], partialPosition = len = mask.length, 
            firstNonMaskPos = null, $.each(mask.split(""), function(i, c) {
                "?" == c ? (len--, partialPosition = i) : defs[c] ? (tests.push(new RegExp(defs[c])), 
                null === firstNonMaskPos && (firstNonMaskPos = tests.length - 1), partialPosition > i && (lastRequiredNonMaskPos = tests.length - 1)) : tests.push(null);
            }), this.trigger("unmask").each(function() {
                function tryFireCompleted() {
                    if (settings.completed) {
                        for (var i = firstNonMaskPos; lastRequiredNonMaskPos >= i; i++) if (tests[i] && buffer[i] === getPlaceholder(i)) return;
                        settings.completed.call(input);
                    }
                }
                function getPlaceholder(i) {
                    return settings.placeholder.charAt(i < settings.placeholder.length ? i : 0);
                }
                function seekNext(pos) {
                    for (;++pos < len && !tests[pos]; ) ;
                    return pos;
                }
                function seekPrev(pos) {
                    for (;--pos >= 0 && !tests[pos]; ) ;
                    return pos;
                }
                function shiftL(begin, end) {
                    var i, j;
                    if (!(0 > begin)) {
                        for (i = begin, j = seekNext(end); len > i; i++) if (tests[i]) {
                            if (!(len > j && tests[i].test(buffer[j]))) break;
                            buffer[i] = buffer[j], buffer[j] = getPlaceholder(j), j = seekNext(j);
                        }
                        writeBuffer(), input.caret(Math.max(firstNonMaskPos, begin));
                    }
                }
                function shiftR(pos) {
                    var i, c, j, t;
                    for (i = pos, c = getPlaceholder(pos); len > i; i++) if (tests[i]) {
                        if (j = seekNext(i), t = buffer[i], buffer[i] = c, !(len > j && tests[j].test(t))) break;
                        c = t;
                    }
                }
                function androidInputEvent() {
                    var curVal = input.val(), pos = input.caret();
                    if (oldVal && oldVal.length && oldVal.length > curVal.length) {
                        for (checkVal(!0); pos.begin > 0 && !tests[pos.begin - 1]; ) pos.begin--;
                        if (0 === pos.begin) for (;pos.begin < firstNonMaskPos && !tests[pos.begin]; ) pos.begin++;
                        input.caret(pos.begin, pos.begin);
                    } else {
                        for (checkVal(!0); pos.begin < len && !tests[pos.begin]; ) pos.begin++;
                        input.caret(pos.begin, pos.begin);
                    }
                    tryFireCompleted();
                }
                function blurEvent() {
                    checkVal(), input.val() != focusText && input.change();
                }
                function keydownEvent(e) {
                    if (!input.prop("readonly")) {
                        var pos, begin, end, k = e.which || e.keyCode;
                        oldVal = input.val(), 8 === k || 46 === k || iPhone && 127 === k ? (pos = input.caret(), 
                        begin = pos.begin, end = pos.end, end - begin === 0 && (begin = 46 !== k ? seekPrev(begin) : end = seekNext(begin - 1), 
                        end = 46 === k ? seekNext(end) : end), clearBuffer(begin, end), shiftL(begin, end - 1), 
                        e.preventDefault()) : 13 === k ? blurEvent.call(this, e) : 27 === k && (input.val(focusText), 
                        input.caret(0, checkVal()), e.preventDefault());
                    }
                }
                function keypressEvent(e) {
                    if (!input.prop("readonly")) {
                        var p, c, next, k = e.which || e.keyCode, pos = input.caret();
                        if (!(e.ctrlKey || e.altKey || e.metaKey || 32 > k) && k && 13 !== k) {
                            if (pos.end - pos.begin !== 0 && (clearBuffer(pos.begin, pos.end), shiftL(pos.begin, pos.end - 1)), 
                            p = seekNext(pos.begin - 1), len > p && (c = String.fromCharCode(k), tests[p].test(c))) {
                                if (shiftR(p), buffer[p] = c, writeBuffer(), next = seekNext(p), android) {
                                    var proxy = function() {
                                        $.proxy($.fn.caret, input, next)();
                                    };
                                    setTimeout(proxy, 0);
                                } else input.caret(next);
                                pos.begin <= lastRequiredNonMaskPos && tryFireCompleted();
                            }
                            e.preventDefault();
                        }
                    }
                }
                function clearBuffer(start, end) {
                    var i;
                    for (i = start; end > i && len > i; i++) tests[i] && (buffer[i] = getPlaceholder(i));
                }
                function writeBuffer() {
                    input.val(buffer.join(""));
                }
                function checkVal(allow) {
                    var i, c, pos, test = input.val(), lastMatch = -1;
                    for (i = 0, pos = 0; len > i; i++) if (tests[i]) {
                        for (buffer[i] = getPlaceholder(i); pos++ < test.length; ) if (c = test.charAt(pos - 1), 
                        tests[i].test(c)) {
                            buffer[i] = c, lastMatch = i;
                            break;
                        }
                        if (pos > test.length) {
                            clearBuffer(i + 1, len);
                            break;
                        }
                    } else buffer[i] === test.charAt(pos) && pos++, partialPosition > i && (lastMatch = i);
                    return allow ? writeBuffer() : partialPosition > lastMatch + 1 ? settings.autoclear || buffer.join("") === defaultBuffer ? (input.val() && input.val(""), 
                    clearBuffer(0, len)) : writeBuffer() : (writeBuffer(), input.val(input.val().substring(0, lastMatch + 1))), 
                    partialPosition ? i : firstNonMaskPos;
                }
                var input = $(this), buffer = $.map(mask.split(""), function(c, i) {
                    return "?" != c ? defs[c] ? getPlaceholder(i) : c : void 0;
                }), defaultBuffer = buffer.join(""), focusText = input.val();
                input.data($.mask.dataName, function() {
                    return $.map(buffer, function(c, i) {
                        return tests[i] && c != getPlaceholder(i) ? c : null;
                    }).join("");
                }), input.one("unmask", function() {
                    input.off(".mask").removeData($.mask.dataName);
                }).on("focus.mask", function() {
                    if (!input.prop("readonly")) {
                        clearTimeout(caretTimeoutId);
                        var pos;
                        focusText = input.val(), pos = checkVal(), caretTimeoutId = setTimeout(function() {
                            input.get(0) === document.activeElement && (writeBuffer(), pos == mask.replace("?", "").length ? input.caret(0, pos) : input.caret(pos));
                        }, 10);
                    }
                }).on("blur.mask", blurEvent).on("keydown.mask", keydownEvent).on("keypress.mask", keypressEvent).on("input.mask paste.mask", function() {
                    input.prop("readonly") || setTimeout(function() {
                        var pos = checkVal(!0);
                        input.caret(pos), tryFireCompleted();
                    }, 0);
                }), chrome && android && input.off("input.mask").on("input.mask", androidInputEvent), 
                checkVal();
            });
        }
    });
});
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
  typeof define === 'function' && define.amd ? define(factory) :
  (global.ISpin = factory());
}(this, (function () { 'use strict';

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    return Constructor;
  }

  function _defineProperty(obj, key, value) {
    if (key in obj) {
      Object.defineProperty(obj, key, {
        value: value,
        enumerable: true,
        configurable: true,
        writable: true
      });
    } else {
      obj[key] = value;
    }

    return obj;
  }

  function _extends() {
    _extends = Object.assign || function (target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i];

        for (var key in source) {
          if (Object.prototype.hasOwnProperty.call(source, key)) {
            target[key] = source[key];
          }
        }
      }

      return target;
    };

    return _extends.apply(this, arguments);
  }

  function _objectSpread(target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i] != null ? arguments[i] : {};
      var ownKeys = Object.keys(source);

      if (typeof Object.getOwnPropertySymbols === 'function') {
        ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
          return Object.getOwnPropertyDescriptor(source, sym).enumerable;
        }));
      }

      ownKeys.forEach(function (key) {
        _defineProperty(target, key, source[key]);
      });
    }

    return target;
  }

  function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();
  }

  function _arrayWithoutHoles(arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];

      return arr2;
    }
  }

  function _iterableToArray(iter) {
    if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter);
  }

  function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance");
  }

  var ISpin =
  function () {
    function ISpin(el, opts) {
      _classCallCheck(this, ISpin);

      this.el = el; 

      this.options = {};
      this._onKeyDown = this._onKeyDown.bind(this);
      this._onMouseDown = this._onMouseDown.bind(this);
      this._onMouseUp = this._onMouseUp.bind(this);
      this._onMouseLeave = this._onMouseLeave.bind(this);
      this._onWheel = this._onWheel.bind(this);
      this.build();
      this.update(opts);
    }

    _createClass(ISpin, [{
      key: "build",
      value: function build() {
        var _this = this;

        this._wrapper = document.createElement('div');
        if (this.el.parentNode) this.el.parentNode.replaceChild(this._wrapper, this.el);

        this._wrapper.appendChild(this.el); 


        this._buttons = {
          inc: document.createElement('button'),
          dec: document.createElement('button')
        }; 

        Object.keys(this._buttons).forEach(function (k) {
          var b = _this._buttons[k];

          _this._wrapper.appendChild(b);

          b.setAttribute('type', 'button');
          b.addEventListener('mousedown', _this._onMouseDown);
          b.addEventListener('mouseup', _this._onMouseUp);
          b.addEventListener('mouseleave', _this._onMouseLeave);
        });
        this.el.addEventListener('keydown', this._onKeyDown);
        this.el.addEventListener('wheel', this._onWheel);
      }
    }, {
      key: "update",
      value: function update(opts) {
        var _this2 = this;

        opts = _objectSpread({}, ISpin.DEFAULTS, this.options, opts); 

        if (opts.wrapperClass !== this.options.wrapperClass) {
          if (this.options.wrapperClass) this._wrapper.classList.remove(this.options.wrapperClass);
          if (opts.wrapperClass) this._wrapper.classList.add(opts.wrapperClass);
        }

        if (opts.buttonsClass !== this.options.buttonsClass) {
          if (this.options.buttonsClass) {
            Object.keys(this._buttons).forEach(function (k) {
              _this2._buttons[k].classList.remove(_this2.options.buttonsClass);

              _this2._buttons[k].classList.remove(_this2.options.buttonsClass + '-' + k);
            });
          }

          if (opts.buttonsClass) {
            Object.keys(this._buttons).forEach(function (k) {
              _this2._buttons[k].classList.add(opts.buttonsClass);

              _this2._buttons[k].classList.add(opts.buttonsClass + '-' + k);
            });
          }
        }

        this.disabled = opts.disabled;

        _extends(this.options, opts);
      }
    }, {
      key: "destroy",
      value: function destroy() {
        if (this._wrapper.parentNode) this._wrapper.parentNode.replaceChild(this.el, this._wrapper);
        delete this.el;
        delete this._wrapper;
        delete this._buttons;
      }
    }, {
      key: "_onKeyDown",
      value: function _onKeyDown(e) {
        switch (e.keyCode) {
          case 38:
            e.preventDefault();
            return this.spin(this.options.step);

          case 40:
            e.preventDefault();
            return this.spin(-this.options.step);

          case 33:
            e.preventDefault();
            return this.spin(this.options.pageStep);

          case 34:
            e.preventDefault();
            return this.spin(-this.options.pageStep);
        }
      }
    }, {
      key: "_onMouseDown",
      value: function _onMouseDown(e) {
        e.preventDefault();
        var direction = e.currentTarget === this._buttons.inc ? 1 : -1;
        this.spin(direction * this.options.step);
        this.el.focus();

        this._startSpinning(direction);
      }
    }, {
      key: "_onMouseUp",
      value: function _onMouseUp(e) {
        this._stopSpinning();
      }
    }, {
      key: "_onMouseLeave",
      value: function _onMouseLeave(e) {
        this._stopSpinning();
      }
    }, {
      key: "_startSpinning",
      value: function _startSpinning(direction) {
        var _this3 = this;

        this._stopSpinning();

        this._spinTimer = setInterval(function () {
          return _this3.spin(direction * _this3.options.step);
        }, this.options.repeatInterval);
      }
    }, {
      key: "_stopSpinning",
      value: function _stopSpinning() {
        clearInterval(this._spinTimer);
      }
    }, {
      key: "_onWheel",
      value: function _onWheel(e) {
        if (document.activeElement !== this.el) return;
        e.preventDefault();
        var direction = e.deltaY > 0 ? -1 : 1;
        this.spin(direction * this.options.step);
      }
    }, {
      key: "adjustValue",
      value: function adjustValue(value) {
        value = Number(value.toFixed(this.precision));
        if (this.options.max != null && value > this.options.max) value = this.options.max;
        if (this.options.min != null && value < this.options.min) value = this.options.min;
        return value;
      }
    }, {
      key: "wrapValue",
      value: function wrapValue(value) {
        if (this.options.wrapOverflow && this.options.max != null && this.options.min != null) {
          if (value < this.options.min) value = this.options.max;else if (value > this.options.max) value = this.options.min;
        }

        return value;
      }
    }, {
      key: "spin",
      value: function spin(step) {
        this.value = this.adjustValue(this.wrapValue(this.value + step));
      }
    }, {
      key: "value",
      get: function get() {
        return this.options.parse(this.el.value) || 0;
      },
      set: function set(value) {
        var strValue = this.options.format(this.options.parse(String(value)));
        this.el.value = strValue;
        if (this.options.onChange) this.options.onChange(strValue);
      }
    }, {
      key: "disabled",
      get: function get() {
        return this._buttons.inc.disabled;
      },
      set: function set(disabled) {
        if (this.disabled === disabled) return;
        this._buttons.inc.disabled = this._buttons.dec.disabled = disabled;
      }
    }, {
      key: "precision",
      get: function get() {
        return Math.max.apply(Math, _toConsumableArray([this.options.step, this.options.min].filter(function (v) {
          return v != null;
        }) 
        .map(precision)));
      }
    }]);

    return ISpin;
  }();
  ISpin.DEFAULTS = {
    wrapperClass: 'ispin-wrapper',
    buttonsClass: 'ispin-button',
    step: 1,
    pageStep: 10,
    disabled: false,
    repeatInterval: 200,
    wrapOverflow: false,
    parse: Number,
    format: String
  };

  function precision(num) {
    return (String(num).split('.')[1] || '').length;
  }

  return ISpin;

})));


(function() {
  var test = document.createElement('input');
  var isPlaceHolderSupported = 'placeholder' in test;

  function extend(obj1, obj2) {
    var obj = {};
    for (var key in obj1) {
      obj[key] = obj2[key] === undefined ? obj1[key] : obj2[key];
    }
    return obj;
  }

  var Actions = Object.freeze({
    START: 'start',
    STOP: 'stop',
    NOTHING: false
  });

  var defaults = {
    letterDelay: 100, 
    sentenceDelay: 1000, 
    loop: false,
    startOnFocus: true,
    shuffle: false,
    showCursor: true,
    cursor: '|',
    autoStart: false,
    onFocusAction: Actions.START,
    onBlurAction: Actions.STOP
  };

  function PlaceHolder(el, texts, options) {
    this.el = el;
    this.texts = texts;
    options = options || {};
    this.options = extend(defaults, options);
    if (!this.options.startOnFocus) {
      console.warn(
        'Superplaceholder.js: `startOnFocus` option has been deprecated. Please use `onFocusAction`, `onBlurAction` and `autoStart`'
      );

      this.options.autoStart = true;
      this.options.onFocusAction = Actions.NOTHING;
      this.options.onBlurAction = Actions.NOTHING;
    }
    this.timeouts = [];
    this.isPlaying = false;

    var temp, randomIndex;
    if (this.options.shuffle) {
      for (var i = this.texts.length; i--; ) {
        randomIndex = ~~(Math.random() * i);
        temp = this.texts[randomIndex];
        this.texts[randomIndex] = this.texts[i];
        this.texts[i] = temp;
      }
    }

    this.begin();
  }

  PlaceHolder.prototype.begin = function() {
    var self = this;
    self.originalPlaceholder = self.el.getAttribute('placeholder');

    if (self.options.onFocusAction || self.options.onBlurAction) {
      self.listeners = {
        focus: self.onFocus.bind(self),
        blur: self.onBlur.bind(self)
      };
      self.el.addEventListener('focus', self.listeners.focus);
      self.el.addEventListener('blur', self.listeners.blur);
    }
    if (self.options.autoStart) {
      self.processText(0);
    }
  };

  PlaceHolder.prototype.onFocus = function() {
    if (this.options.onFocusAction === Actions.START) {
      if (this.isInProgress()) {
        return;
      }
      this.processText(0);
    } else if (this.options.onFocusAction === Actions.STOP) {
      this.cleanUp();
    }
  };

  PlaceHolder.prototype.onBlur = function() {
    if (this.options.onBlurAction === Actions.STOP) {
      this.cleanUp();
    } else if (this.options.onBlurAction === Actions.START) {
      if (this.isInProgress()) {
        return;
      }
      this.processText(0);
    }
  };

  PlaceHolder.prototype.cleanUp = function() {
    for (var i = this.timeouts.length; i--; ) {
      clearTimeout(this.timeouts[i]);
    }
    if (this.originalPlaceholder === null) {
      this.el.removeAttribute('placeholder');
    } else {
      this.el.setAttribute('placeholder', this.originalPlaceholder);
    }
    this.timeouts.length = 0;
    this.isPlaying = false;
  };

  PlaceHolder.prototype.isInProgress = function() {
    return this.isPlaying;
  };

  PlaceHolder.prototype.typeString = function(str, callback) {
    var self = this,
      timeout;

    if (!str) {
      return false;
    }

    function setTimeoutCallback(index) {
      self.el.setAttribute(
        'placeholder',
        str.substr(0, index + 1) +
          (index === str.length - 1 || !self.options.showCursor
            ? ''
            : self.options.cursor)
      );
      if (index === str.length - 1) {
        callback();
      }
    }
    for (var i = 0; i < str.length; i++) {
      timeout = setTimeout(setTimeoutCallback, i * self.options.letterDelay, i);
      self.timeouts.push(timeout);
    }
  };

  PlaceHolder.prototype.processText = function(index) {
    var self = this,
      timeout;

    this.isPlaying = true;

    self.typeString(self.texts[index], function() {
      self.timeouts.length = 0;
      if (!self.options.loop && !self.texts[index + 1]) {
        self.isPlaying = false;
      }
      timeout = setTimeout(function() {
        self.processText(
          self.options.loop ? (index + 1) % self.texts.length : index + 1
        );
      }, self.options.sentenceDelay);
      self.timeouts.push(timeout);
    });
  };

  var superplaceholder = function(params) {
    if (!isPlaceHolderSupported) {
      return;
    }
    var instance = new PlaceHolder(params.el, params.sentences, params.options);
    return {
      start: function() {
        if (instance.isInProgress()) {
          return;
        }
        instance.processText(0);
      },
      stop: function() {
        instance.cleanUp();
      },
      destroy: function() {
        instance.cleanUp();
        for (var eventName in instance.listeners) {
          instance.el.removeEventListener(
            eventName,
            instance.listeners[eventName]
          );
        }
      }
    };
  };

  superplaceholder.Actions = Actions;

  if (typeof exports === 'object') {
    module.exports = superplaceholder;
  } else if (typeof define === 'function' && define.amd) {
    define(function() {
      return superplaceholder;
    });
  } else {
    window.superplaceholder = superplaceholder;
  }
})();

!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.VMasker=b()}(this,function(){var a=[9,16,17,18,36,37,38,39,40,91,92,93],b=function(b){for(var c=0,d=a.length;c<d;c++)if(b==a[c])return!1;return!0},c=function(a){return a=a||{},a={delimiter:a.delimiter||".",lastOutput:a.lastOutput,precision:a.hasOwnProperty("precision")?a.precision:2,separator:a.separator||",",showSignal:a.showSignal,suffixUnit:a.suffixUnit&&" "+a.suffixUnit.replace(/[\s]/g,"")||"",unit:a.unit&&a.unit.replace(/[\s]/g,"")+" "||"",zeroCents:a.zeroCents},a.moneyPrecision=a.zeroCents?0:a.precision,a},d=function(a,b,c){for(;b<a.length;b++)"9"!==a[b]&&"A"!==a[b]&&"S"!==a[b]||(a[b]=c);return a},e=function(a){this.elements=a};e.prototype.unbindElementToMask=function(){for(var a=0,b=this.elements.length;a<b;a++)this.elements[a].lastOutput="",this.elements[a].onkeyup=!1,this.elements[a].onkeydown=!1,this.elements[a].value.length&&(this.elements[a].value=this.elements[a].value.replace(/\D/g,""))},e.prototype.bindElementToMask=function(a){for(var c=this,d=function(d){d=d||window.event;var e=d.target||d.srcElement;b(d.keyCode)&&setTimeout(function(){c.opts.lastOutput=e.lastOutput,e.value=f[a](e.value,c.opts),e.lastOutput=e.value,e.setSelectionRange&&c.opts.suffixUnit&&e.setSelectionRange(e.value.length,e.value.length-c.opts.suffixUnit.length)},0)},e=0,g=this.elements.length;e<g;e++)this.elements[e].lastOutput="",this.elements[e].onkeyup=d,this.elements[e].value.length&&(this.elements[e].value=f[a](this.elements[e].value,this.opts))},e.prototype.maskMoney=function(a){this.opts=c(a),this.bindElementToMask("toMoney")},e.prototype.maskNumber=function(){this.opts={},this.bindElementToMask("toNumber")},e.prototype.maskAlphaNum=function(){this.opts={},this.bindElementToMask("toAlphaNumeric")},e.prototype.maskPattern=function(a){this.opts={pattern:a},this.bindElementToMask("toPattern")},e.prototype.unMask=function(){this.unbindElementToMask()};var f=function(a){if(!a)throw new Error("VanillaMasker: There is no element to bind.");var b="length"in a?a.length?a:[]:[a];return new e(b)};return f.toMoney=function(a,b){if(b=c(b),b.zeroCents){b.lastOutput=b.lastOutput||"";var d="("+b.separator+"[0]{0,"+b.precision+"})",e=new RegExp(d,"g"),f=a.toString().replace(/[\D]/g,"").length||0,g=b.lastOutput.toString().replace(/[\D]/g,"").length||0;a=a.toString().replace(e,""),f<g&&(a=a.slice(0,a.length-1))}var h=a.toString().replace(/[\D]/g,""),i=new RegExp("^(0|\\"+b.delimiter+")"),j=new RegExp("(\\"+b.separator+")$"),k=h.substr(0,h.length-b.moneyPrecision),l=k.substr(0,k.length%3),m=new Array(b.precision+1).join("0");k=k.substr(k.length%3,k.length);for(var n=0,o=k.length;n<o;n++)n%3==0&&(l+=b.delimiter),l+=k[n];l=l.replace(i,""),l=l.length?l:"0";var p="";if(!0===b.showSignal&&(p=a<0||a.startsWith&&a.startsWith("-")?"-":""),!b.zeroCents){var q=h.length-b.precision,r=h.substr(q,b.precision),s=r.length;m=(m+r).slice(-(b.precision>s?b.precision:s))}return(b.unit+p+l+b.separator+m).replace(j,"")+b.suffixUnit},f.toPattern=function(a,b){var c,e="object"==typeof b?b.pattern:b,f=e.replace(/\W/g,""),g=e.split(""),h=a.toString().replace(/\W/g,""),i=h.replace(/\W/g,""),j=0,k=g.length,l="object"==typeof b?b.placeholder:void 0;for(c=0;c<k;c++){if(j>=h.length){if(f.length==i.length)return g.join("");if(void 0!==l&&f.length>i.length)return d(g,c,l).join("");break}if("9"===g[c]&&h[j].match(/[0-9]/)||"A"===g[c]&&h[j].match(/[a-zA-Z]/)||"S"===g[c]&&h[j].match(/[0-9a-zA-Z]/))g[c]=h[j++];else if("9"===g[c]||"A"===g[c]||"S"===g[c])return void 0!==l?d(g,c,l).join(""):g.slice(0,c).join("")}return g.join("").substr(0,c)},f.toNumber=function(a){return a.toString().replace(/(?!^-)[^0-9]/g,"")},f.toAlphaNumeric=function(a){return a.toString().replace(/[^a-z0-9 ]+/i,"")},f});


(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
  typeof define === 'function' && define.amd ? define(factory) :
  (global = global || self, global.CodeMirror = factory());
}(this, (function () { 'use strict';

  var userAgent = navigator.userAgent;
  var platform = navigator.platform;

  var gecko = /gecko\/\d/i.test(userAgent);
  var ie_upto10 = /MSIE \d/.test(userAgent);
  var ie_11up = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(userAgent);
  var edge = /Edge\/(\d+)/.exec(userAgent);
  var ie = ie_upto10 || ie_11up || edge;
  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);
  var webkit = !edge && /WebKit\//.test(userAgent);
  var qtwebkit = webkit && /Qt\/\d+\.\d+/.test(userAgent);
  var chrome = !edge && /Chrome\/(\d+)/.exec(userAgent);
  var chrome_version = chrome && +chrome[1];
  var presto = /Opera\//.test(userAgent);
  var safari = /Apple Computer/.test(navigator.vendor);
  var mac_geMountainLion = /Mac OS X 1\d\D([8-9]|\d\d)\D/.test(userAgent);
  var phantom = /PhantomJS/.test(userAgent);

  var ios = safari && (/Mobile\/\w+/.test(userAgent) || navigator.maxTouchPoints > 2);
  var android = /Android/.test(userAgent);
  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);
  var mac = ios || /Mac/.test(platform);
  var chromeOS = /\bCrOS\b/.test(userAgent);
  var windows = /win/i.test(platform);

  var presto_version = presto && userAgent.match(/Version\/(\d*\.\d*)/);
  if (presto_version) { presto_version = Number(presto_version[1]); }
  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }
  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));
  var captureRightClick = gecko || (ie && ie_version >= 9);

  function classTest(cls) { return new RegExp("(^|\\s)" + cls + "(?:$|\\s)\\s*") }

  var rmClass = function(node, cls) {
    var current = node.className;
    var match = classTest(cls).exec(current);
    if (match) {
      var after = current.slice(match.index + match[0].length);
      node.className = current.slice(0, match.index) + (after ? match[1] + after : "");
    }
  };

  function removeChildren(e) {
    for (var count = e.childNodes.length; count > 0; --count)
      { e.removeChild(e.firstChild); }
    return e
  }

  function removeChildrenAndAdd(parent, e) {
    return removeChildren(parent).appendChild(e)
  }

  function elt(tag, content, className, style) {
    var e = document.createElement(tag);
    if (className) { e.className = className; }
    if (style) { e.style.cssText = style; }
    if (typeof content == "string") { e.appendChild(document.createTextNode(content)); }
    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }
    return e
  }
  function eltP(tag, content, className, style) {
    var e = elt(tag, content, className, style);
    e.setAttribute("role", "presentation");
    return e
  }

  var range;
  if (document.createRange) { range = function(node, start, end, endNode) {
    var r = document.createRange();
    r.setEnd(endNode || node, end);
    r.setStart(node, start);
    return r
  }; }
  else { range = function(node, start, end) {
    var r = document.body.createTextRange();
    try { r.moveToElementText(node.parentNode); }
    catch(e) { return r }
    r.collapse(true);
    r.moveEnd("character", end);
    r.moveStart("character", start);
    return r
  }; }

  function contains(parent, child) {
    if (child.nodeType == 3) 
      { child = child.parentNode; }
    if (parent.contains)
      { return parent.contains(child) }
    do {
      if (child.nodeType == 11) { child = child.host; }
      if (child == parent) { return true }
    } while (child = child.parentNode)
  }

  function activeElt(doc) {
    var activeElement;
    try {
      activeElement = doc.activeElement;
    } catch(e) {
      activeElement = doc.body || null;
    }
    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)
      { activeElement = activeElement.shadowRoot.activeElement; }
    return activeElement
  }

  function addClass(node, cls) {
    var current = node.className;
    if (!classTest(cls).test(current)) { node.className += (current ? " " : "") + cls; }
  }
  function joinClasses(a, b) {
    var as = a.split(" ");
    for (var i = 0; i < as.length; i++)
      { if (as[i] && !classTest(as[i]).test(b)) { b += " " + as[i]; } }
    return b
  }

  var selectInput = function(node) { node.select(); };
  if (ios) 
    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }
  else if (ie) 
    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }

  function doc(cm) { return cm.display.wrapper.ownerDocument }

  function win(cm) { return doc(cm).defaultView }

  function bind(f) {
    var args = Array.prototype.slice.call(arguments, 1);
    return function(){return f.apply(null, args)}
  }

  function copyObj(obj, target, overwrite) {
    if (!target) { target = {}; }
    for (var prop in obj)
      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))
        { target[prop] = obj[prop]; } }
    return target
  }

  function countColumn(string, end, tabSize, startIndex, startValue) {
    if (end == null) {
      end = string.search(/[^\s\u00a0]/);
      if (end == -1) { end = string.length; }
    }
    for (var i = startIndex || 0, n = startValue || 0;;) {
      var nextTab = string.indexOf("\t", i);
      if (nextTab < 0 || nextTab >= end)
        { return n + (end - i) }
      n += nextTab - i;
      n += tabSize - (n % tabSize);
      i = nextTab + 1;
    }
  }

  var Delayed = function() {
    this.id = null;
    this.f = null;
    this.time = 0;
    this.handler = bind(this.onTimeout, this);
  };
  Delayed.prototype.onTimeout = function (self) {
    self.id = 0;
    if (self.time <= +new Date) {
      self.f();
    } else {
      setTimeout(self.handler, self.time - +new Date);
    }
  };
  Delayed.prototype.set = function (ms, f) {
    this.f = f;
    var time = +new Date + ms;
    if (!this.id || time < this.time) {
      clearTimeout(this.id);
      this.id = setTimeout(this.handler, ms);
      this.time = time;
    }
  };

  function indexOf(array, elt) {
    for (var i = 0; i < array.length; ++i)
      { if (array[i] == elt) { return i } }
    return -1
  }

  var scrollerGap = 50;

  var Pass = {toString: function(){return "CodeMirror.Pass"}};

  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: "*mouse"}, sel_move = {origin: "+move"};

  function findColumn(string, goal, tabSize) {
    for (var pos = 0, col = 0;;) {
      var nextTab = string.indexOf("\t", pos);
      if (nextTab == -1) { nextTab = string.length; }
      var skipped = nextTab - pos;
      if (nextTab == string.length || col + skipped >= goal)
        { return pos + Math.min(skipped, goal - col) }
      col += nextTab - pos;
      col += tabSize - (col % tabSize);
      pos = nextTab + 1;
      if (col >= goal) { return pos }
    }
  }

  var spaceStrs = [""];
  function spaceStr(n) {
    while (spaceStrs.length <= n)
      { spaceStrs.push(lst(spaceStrs) + " "); }
    return spaceStrs[n]
  }

  function lst(arr) { return arr[arr.length-1] }

  function map(array, f) {
    var out = [];
    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }
    return out
  }

  function insertSorted(array, value, score) {
    var pos = 0, priority = score(value);
    while (pos < array.length && score(array[pos]) <= priority) { pos++; }
    array.splice(pos, 0, value);
  }

  function nothing() {}

  function createObj(base, props) {
    var inst;
    if (Object.create) {
      inst = Object.create(base);
    } else {
      nothing.prototype = base;
      inst = new nothing();
    }
    if (props) { copyObj(props, inst); }
    return inst
  }

  var nonASCIISingleCaseWordChar = /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;
  function isWordCharBasic(ch) {
    return /\w/.test(ch) || ch > "\x80" &&
      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))
  }
  function isWordChar(ch, helper) {
    if (!helper) { return isWordCharBasic(ch) }
    if (helper.source.indexOf("\\w") > -1 && isWordCharBasic(ch)) { return true }
    return helper.test(ch)
  }

  function isEmpty(obj) {
    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }
    return true
  }

  var extendingChars = /[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }

  function skipExtendingChars(str, pos, dir) {
    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }
    return pos
  }

  function findFirst(pred, from, to) {
    var dir = from > to ? -1 : 1;
    for (;;) {
      if (from == to) { return from }
      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);
      if (mid == from) { return pred(mid) ? from : to }
      if (pred(mid)) { to = mid; }
      else { from = mid + dir; }
    }
  }


  function iterateBidiSections(order, from, to, f) {
    if (!order) { return f(from, to, "ltr", 0) }
    var found = false;
    for (var i = 0; i < order.length; ++i) {
      var part = order[i];
      if (part.from < to && part.to > from || from == to && part.to == from) {
        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? "rtl" : "ltr", i);
        found = true;
      }
    }
    if (!found) { f(from, to, "ltr"); }
  }

  var bidiOther = null;
  function getBidiPartAt(order, ch, sticky) {
    var found;
    bidiOther = null;
    for (var i = 0; i < order.length; ++i) {
      var cur = order[i];
      if (cur.from < ch && cur.to > ch) { return i }
      if (cur.to == ch) {
        if (cur.from != cur.to && sticky == "before") { found = i; }
        else { bidiOther = i; }
      }
      if (cur.from == ch) {
        if (cur.from != cur.to && sticky != "before") { found = i; }
        else { bidiOther = i; }
      }
    }
    return found != null ? found : bidiOther
  }



  var bidiOrdering = (function() {
    var lowTypes = "bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";
    var arabicTypes = "nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";
    function charType(code) {
      if (code <= 0xf7) { return lowTypes.charAt(code) }
      else if (0x590 <= code && code <= 0x5f4) { return "R" }
      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }
      else if (0x6ee <= code && code <= 0x8ac) { return "r" }
      else if (0x2000 <= code && code <= 0x200b) { return "w" }
      else if (code == 0x200c) { return "b" }
      else { return "L" }
    }

    var bidiRE = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;
    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;

    function BidiSpan(level, from, to) {
      this.level = level;
      this.from = from; this.to = to;
    }

    return function(str, direction) {
      var outerType = direction == "ltr" ? "L" : "R";

      if (str.length == 0 || direction == "ltr" && !bidiRE.test(str)) { return false }
      var len = str.length, types = [];
      for (var i = 0; i < len; ++i)
        { types.push(charType(str.charCodeAt(i))); }

      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {
        var type = types[i$1];
        if (type == "m") { types[i$1] = prev; }
        else { prev = type; }
      }

      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {
        var type$1 = types[i$2];
        if (type$1 == "1" && cur == "r") { types[i$2] = "n"; }
        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == "r") { types[i$2] = "R"; } }
      }

      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {
        var type$2 = types[i$3];
        if (type$2 == "+" && prev$1 == "1" && types[i$3+1] == "1") { types[i$3] = "1"; }
        else if (type$2 == "," && prev$1 == types[i$3+1] &&
                 (prev$1 == "1" || prev$1 == "n")) { types[i$3] = prev$1; }
        prev$1 = type$2;
      }

      for (var i$4 = 0; i$4 < len; ++i$4) {
        var type$3 = types[i$4];
        if (type$3 == ",") { types[i$4] = "N"; }
        else if (type$3 == "%") {
          var end = (void 0);
          for (end = i$4 + 1; end < len && types[end] == "%"; ++end) {}
          var replace = (i$4 && types[i$4-1] == "!") || (end < len && types[end] == "1") ? "1" : "N";
          for (var j = i$4; j < end; ++j) { types[j] = replace; }
          i$4 = end - 1;
        }
      }

      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {
        var type$4 = types[i$5];
        if (cur$1 == "L" && type$4 == "1") { types[i$5] = "L"; }
        else if (isStrong.test(type$4)) { cur$1 = type$4; }
      }

      for (var i$6 = 0; i$6 < len; ++i$6) {
        if (isNeutral.test(types[i$6])) {
          var end$1 = (void 0);
          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}
          var before = (i$6 ? types[i$6-1] : outerType) == "L";
          var after = (end$1 < len ? types[end$1] : outerType) == "L";
          var replace$1 = before == after ? (before ? "L" : "R") : outerType;
          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }
          i$6 = end$1 - 1;
        }
      }

      var order = [], m;
      for (var i$7 = 0; i$7 < len;) {
        if (countsAsLeft.test(types[i$7])) {
          var start = i$7;
          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}
          order.push(new BidiSpan(0, start, i$7));
        } else {
          var pos = i$7, at = order.length, isRTL = direction == "rtl" ? 1 : 0;
          for (++i$7; i$7 < len && types[i$7] != "L"; ++i$7) {}
          for (var j$2 = pos; j$2 < i$7;) {
            if (countsAsNum.test(types[j$2])) {
              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); at += isRTL; }
              var nstart = j$2;
              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}
              order.splice(at, 0, new BidiSpan(2, nstart, j$2));
              at += isRTL;
              pos = j$2;
            } else { ++j$2; }
          }
          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }
        }
      }
      if (direction == "ltr") {
        if (order[0].level == 1 && (m = str.match(/^\s+/))) {
          order[0].from = m[0].length;
          order.unshift(new BidiSpan(0, 0, m[0].length));
        }
        if (lst(order).level == 1 && (m = str.match(/\s+$/))) {
          lst(order).to -= m[0].length;
          order.push(new BidiSpan(0, len - m[0].length, len));
        }
      }

      return direction == "rtl" ? order.reverse() : order
    }
  })();

  function getOrder(line, direction) {
    var order = line.order;
    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }
    return order
  }



  var noHandlers = [];

  var on = function(emitter, type, f) {
    if (emitter.addEventListener) {
      emitter.addEventListener(type, f, false);
    } else if (emitter.attachEvent) {
      emitter.attachEvent("on" + type, f);
    } else {
      var map = emitter._handlers || (emitter._handlers = {});
      map[type] = (map[type] || noHandlers).concat(f);
    }
  };

  function getHandlers(emitter, type) {
    return emitter._handlers && emitter._handlers[type] || noHandlers
  }

  function off(emitter, type, f) {
    if (emitter.removeEventListener) {
      emitter.removeEventListener(type, f, false);
    } else if (emitter.detachEvent) {
      emitter.detachEvent("on" + type, f);
    } else {
      var map = emitter._handlers, arr = map && map[type];
      if (arr) {
        var index = indexOf(arr, f);
        if (index > -1)
          { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }
      }
    }
  }

  function signal(emitter, type ) {
    var handlers = getHandlers(emitter, type);
    if (!handlers.length) { return }
    var args = Array.prototype.slice.call(arguments, 2);
    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }
  }

  function signalDOMEvent(cm, e, override) {
    if (typeof e == "string")
      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }
    signal(cm, override || e.type, cm, e);
    return e_defaultPrevented(e) || e.codemirrorIgnore
  }

  function signalCursorActivity(cm) {
    var arr = cm._handlers && cm._handlers.cursorActivity;
    if (!arr) { return }
    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);
    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)
      { set.push(arr[i]); } }
  }

  function hasHandler(emitter, type) {
    return getHandlers(emitter, type).length > 0
  }

  function eventMixin(ctor) {
    ctor.prototype.on = function(type, f) {on(this, type, f);};
    ctor.prototype.off = function(type, f) {off(this, type, f);};
  }


  function e_preventDefault(e) {
    if (e.preventDefault) { e.preventDefault(); }
    else { e.returnValue = false; }
  }
  function e_stopPropagation(e) {
    if (e.stopPropagation) { e.stopPropagation(); }
    else { e.cancelBubble = true; }
  }
  function e_defaultPrevented(e) {
    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false
  }
  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}

  function e_target(e) {return e.target || e.srcElement}
  function e_button(e) {
    var b = e.which;
    if (b == null) {
      if (e.button & 1) { b = 1; }
      else if (e.button & 2) { b = 3; }
      else if (e.button & 4) { b = 2; }
    }
    if (mac && e.ctrlKey && b == 1) { b = 3; }
    return b
  }

  var dragAndDrop = function() {
    if (ie && ie_version < 9) { return false }
    var div = elt('div');
    return "draggable" in div || "dragDrop" in div
  }();

  var zwspSupported;
  function zeroWidthElement(measure) {
    if (zwspSupported == null) {
      var test = elt("span", "\u200b");
      removeChildrenAndAdd(measure, elt("span", [test, document.createTextNode("x")]));
      if (measure.firstChild.offsetHeight != 0)
        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }
    }
    var node = zwspSupported ? elt("span", "\u200b") :
      elt("span", "\u00a0", null, "display: inline-block; width: 1px; margin-right: -1px");
    node.setAttribute("cm-text", "");
    return node
  }

  var badBidiRects;
  function hasBadBidiRects(measure) {
    if (badBidiRects != null) { return badBidiRects }
    var txt = removeChildrenAndAdd(measure, document.createTextNode("A\u062eA"));
    var r0 = range(txt, 0, 1).getBoundingClientRect();
    var r1 = range(txt, 1, 2).getBoundingClientRect();
    removeChildren(measure);
    if (!r0 || r0.left == r0.right) { return false } 
    return badBidiRects = (r1.right - r0.right < 3)
  }

  var splitLinesAuto = "\n\nb".split(/\n/).length != 3 ? function (string) {
    var pos = 0, result = [], l = string.length;
    while (pos <= l) {
      var nl = string.indexOf("\n", pos);
      if (nl == -1) { nl = string.length; }
      var line = string.slice(pos, string.charAt(nl - 1) == "\r" ? nl - 1 : nl);
      var rt = line.indexOf("\r");
      if (rt != -1) {
        result.push(line.slice(0, rt));
        pos += rt + 1;
      } else {
        result.push(line);
        pos = nl + 1;
      }
    }
    return result
  } : function (string) { return string.split(/\r\n?|\n/); };

  var hasSelection = window.getSelection ? function (te) {
    try { return te.selectionStart != te.selectionEnd }
    catch(e) { return false }
  } : function (te) {
    var range;
    try {range = te.ownerDocument.selection.createRange();}
    catch(e) {}
    if (!range || range.parentElement() != te) { return false }
    return range.compareEndPoints("StartToEnd", range) != 0
  };

  var hasCopyEvent = (function () {
    var e = elt("div");
    if ("oncopy" in e) { return true }
    e.setAttribute("oncopy", "return;");
    return typeof e.oncopy == "function"
  })();

  var badZoomedRects = null;
  function hasBadZoomedRects(measure) {
    if (badZoomedRects != null) { return badZoomedRects }
    var node = removeChildrenAndAdd(measure, elt("span", "x"));
    var normal = node.getBoundingClientRect();
    var fromRange = range(node, 0, 1).getBoundingClientRect();
    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1
  }

  var modes = {}, mimeModes = {};

  function defineMode(name, mode) {
    if (arguments.length > 2)
      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }
    modes[name] = mode;
  }

  function defineMIME(mime, spec) {
    mimeModes[mime] = spec;
  }

  function resolveMode(spec) {
    if (typeof spec == "string" && mimeModes.hasOwnProperty(spec)) {
      spec = mimeModes[spec];
    } else if (spec && typeof spec.name == "string" && mimeModes.hasOwnProperty(spec.name)) {
      var found = mimeModes[spec.name];
      if (typeof found == "string") { found = {name: found}; }
      spec = createObj(found, spec);
      spec.name = found.name;
    } else if (typeof spec == "string" && /^[\w\-]+\/[\w\-]+\+xml$/.test(spec)) {
      return resolveMode("application/xml")
    } else if (typeof spec == "string" && /^[\w\-]+\/[\w\-]+\+json$/.test(spec)) {
      return resolveMode("application/json")
    }
    if (typeof spec == "string") { return {name: spec} }
    else { return spec || {name: "null"} }
  }

  function getMode(options, spec) {
    spec = resolveMode(spec);
    var mfactory = modes[spec.name];
    if (!mfactory) { return getMode(options, "text/plain") }
    var modeObj = mfactory(options, spec);
    if (modeExtensions.hasOwnProperty(spec.name)) {
      var exts = modeExtensions[spec.name];
      for (var prop in exts) {
        if (!exts.hasOwnProperty(prop)) { continue }
        if (modeObj.hasOwnProperty(prop)) { modeObj["_" + prop] = modeObj[prop]; }
        modeObj[prop] = exts[prop];
      }
    }
    modeObj.name = spec.name;
    if (spec.helperType) { modeObj.helperType = spec.helperType; }
    if (spec.modeProps) { for (var prop$1 in spec.modeProps)
      { modeObj[prop$1] = spec.modeProps[prop$1]; } }

    return modeObj
  }

  var modeExtensions = {};
  function extendMode(mode, properties) {
    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});
    copyObj(properties, exts);
  }

  function copyState(mode, state) {
    if (state === true) { return state }
    if (mode.copyState) { return mode.copyState(state) }
    var nstate = {};
    for (var n in state) {
      var val = state[n];
      if (val instanceof Array) { val = val.concat([]); }
      nstate[n] = val;
    }
    return nstate
  }

  function innerMode(mode, state) {
    var info;
    while (mode.innerMode) {
      info = mode.innerMode(state);
      if (!info || info.mode == mode) { break }
      state = info.state;
      mode = info.mode;
    }
    return info || {mode: mode, state: state}
  }

  function startState(mode, a1, a2) {
    return mode.startState ? mode.startState(a1, a2) : true
  }



  var StringStream = function(string, tabSize, lineOracle) {
    this.pos = this.start = 0;
    this.string = string;
    this.tabSize = tabSize || 8;
    this.lastColumnPos = this.lastColumnValue = 0;
    this.lineStart = 0;
    this.lineOracle = lineOracle;
  };

  StringStream.prototype.eol = function () {return this.pos >= this.string.length};
  StringStream.prototype.sol = function () {return this.pos == this.lineStart};
  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};
  StringStream.prototype.next = function () {
    if (this.pos < this.string.length)
      { return this.string.charAt(this.pos++) }
  };
  StringStream.prototype.eat = function (match) {
    var ch = this.string.charAt(this.pos);
    var ok;
    if (typeof match == "string") { ok = ch == match; }
    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }
    if (ok) {++this.pos; return ch}
  };
  StringStream.prototype.eatWhile = function (match) {
    var start = this.pos;
    while (this.eat(match)){}
    return this.pos > start
  };
  StringStream.prototype.eatSpace = function () {
    var start = this.pos;
    while (/[\s\u00a0]/.test(this.string.charAt(this.pos))) { ++this.pos; }
    return this.pos > start
  };
  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};
  StringStream.prototype.skipTo = function (ch) {
    var found = this.string.indexOf(ch, this.pos);
    if (found > -1) {this.pos = found; return true}
  };
  StringStream.prototype.backUp = function (n) {this.pos -= n;};
  StringStream.prototype.column = function () {
    if (this.lastColumnPos < this.start) {
      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);
      this.lastColumnPos = this.start;
    }
    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)
  };
  StringStream.prototype.indentation = function () {
    return countColumn(this.string, null, this.tabSize) -
      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)
  };
  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {
    if (typeof pattern == "string") {
      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };
      var substr = this.string.substr(this.pos, pattern.length);
      if (cased(substr) == cased(pattern)) {
        if (consume !== false) { this.pos += pattern.length; }
        return true
      }
    } else {
      var match = this.string.slice(this.pos).match(pattern);
      if (match && match.index > 0) { return null }
      if (match && consume !== false) { this.pos += match[0].length; }
      return match
    }
  };
  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};
  StringStream.prototype.hideFirstChars = function (n, inner) {
    this.lineStart += n;
    try { return inner() }
    finally { this.lineStart -= n; }
  };
  StringStream.prototype.lookAhead = function (n) {
    var oracle = this.lineOracle;
    return oracle && oracle.lookAhead(n)
  };
  StringStream.prototype.baseToken = function () {
    var oracle = this.lineOracle;
    return oracle && oracle.baseToken(this.pos)
  };

  function getLine(doc, n) {
    n -= doc.first;
    if (n < 0 || n >= doc.size) { throw new Error("There is no line " + (n + doc.first) + " in the document.") }
    var chunk = doc;
    while (!chunk.lines) {
      for (var i = 0;; ++i) {
        var child = chunk.children[i], sz = child.chunkSize();
        if (n < sz) { chunk = child; break }
        n -= sz;
      }
    }
    return chunk.lines[n]
  }

  function getBetween(doc, start, end) {
    var out = [], n = start.line;
    doc.iter(start.line, end.line + 1, function (line) {
      var text = line.text;
      if (n == end.line) { text = text.slice(0, end.ch); }
      if (n == start.line) { text = text.slice(start.ch); }
      out.push(text);
      ++n;
    });
    return out
  }
  function getLines(doc, from, to) {
    var out = [];
    doc.iter(from, to, function (line) { out.push(line.text); }); 
    return out
  }

  function updateLineHeight(line, height) {
    var diff = height - line.height;
    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }
  }

  function lineNo(line) {
    if (line.parent == null) { return null }
    var cur = line.parent, no = indexOf(cur.lines, line);
    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {
      for (var i = 0;; ++i) {
        if (chunk.children[i] == cur) { break }
        no += chunk.children[i].chunkSize();
      }
    }
    return no + cur.first
  }

  function lineAtHeight(chunk, h) {
    var n = chunk.first;
    outer: do {
      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {
        var child = chunk.children[i$1], ch = child.height;
        if (h < ch) { chunk = child; continue outer }
        h -= ch;
        n += child.chunkSize();
      }
      return n
    } while (!chunk.lines)
    var i = 0;
    for (; i < chunk.lines.length; ++i) {
      var line = chunk.lines[i], lh = line.height;
      if (h < lh) { break }
      h -= lh;
    }
    return n + i
  }

  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}

  function lineNumberFor(options, i) {
    return String(options.lineNumberFormatter(i + options.firstLineNumber))
  }

  function Pos(line, ch, sticky) {
    if ( sticky === void 0 ) sticky = null;

    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }
    this.line = line;
    this.ch = ch;
    this.sticky = sticky;
  }

  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }

  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }

  function copyPos(x) {return Pos(x.line, x.ch)}
  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }
  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }

  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}
  function clipPos(doc, pos) {
    if (pos.line < doc.first) { return Pos(doc.first, 0) }
    var last = doc.first + doc.size - 1;
    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }
    return clipToLen(pos, getLine(doc, pos.line).text.length)
  }
  function clipToLen(pos, linelen) {
    var ch = pos.ch;
    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }
    else if (ch < 0) { return Pos(pos.line, 0) }
    else { return pos }
  }
  function clipPosArray(doc, array) {
    var out = [];
    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }
    return out
  }

  var SavedContext = function(state, lookAhead) {
    this.state = state;
    this.lookAhead = lookAhead;
  };

  var Context = function(doc, state, line, lookAhead) {
    this.state = state;
    this.doc = doc;
    this.line = line;
    this.maxLookAhead = lookAhead || 0;
    this.baseTokens = null;
    this.baseTokenPos = 1;
  };

  Context.prototype.lookAhead = function (n) {
    var line = this.doc.getLine(this.line + n);
    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }
    return line
  };

  Context.prototype.baseToken = function (n) {
    if (!this.baseTokens) { return null }
    while (this.baseTokens[this.baseTokenPos] <= n)
      { this.baseTokenPos += 2; }
    var type = this.baseTokens[this.baseTokenPos + 1];
    return {type: type && type.replace(/( |^)overlay .*/, ""),
            size: this.baseTokens[this.baseTokenPos] - n}
  };

  Context.prototype.nextLine = function () {
    this.line++;
    if (this.maxLookAhead > 0) { this.maxLookAhead--; }
  };

  Context.fromSaved = function (doc, saved, line) {
    if (saved instanceof SavedContext)
      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }
    else
      { return new Context(doc, copyState(doc.mode, saved), line) }
  };

  Context.prototype.save = function (copy) {
    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;
    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state
  };


  function highlightLine(cm, line, context, forceToEnd) {
    var st = [cm.state.modeGen], lineClasses = {};
    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },
            lineClasses, forceToEnd);
    var state = context.state;

    var loop = function ( o ) {
      context.baseTokens = st;
      var overlay = cm.state.overlays[o], i = 1, at = 0;
      context.state = true;
      runMode(cm, line.text, overlay.mode, context, function (end, style) {
        var start = i;
        while (at < end) {
          var i_end = st[i];
          if (i_end > end)
            { st.splice(i, 1, end, st[i+1], i_end); }
          i += 2;
          at = Math.min(end, i_end);
        }
        if (!style) { return }
        if (overlay.opaque) {
          st.splice(start, i - start, end, "overlay " + style);
          i = start + 2;
        } else {
          for (; start < i; start += 2) {
            var cur = st[start+1];
            st[start+1] = (cur ? cur + " " : "") + "overlay " + style;
          }
        }
      }, lineClasses);
      context.state = state;
      context.baseTokens = null;
      context.baseTokenPos = 1;
    };

    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );

    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}
  }

  function getLineStyles(cm, line, updateFrontier) {
    if (!line.styles || line.styles[0] != cm.state.modeGen) {
      var context = getContextBefore(cm, lineNo(line));
      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);
      var result = highlightLine(cm, line, context);
      if (resetState) { context.state = resetState; }
      line.stateAfter = context.save(!resetState);
      line.styles = result.styles;
      if (result.classes) { line.styleClasses = result.classes; }
      else if (line.styleClasses) { line.styleClasses = null; }
      if (updateFrontier === cm.doc.highlightFrontier)
        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }
    }
    return line.styles
  }

  function getContextBefore(cm, n, precise) {
    var doc = cm.doc, display = cm.display;
    if (!doc.mode.startState) { return new Context(doc, true, n) }
    var start = findStartLine(cm, n, precise);
    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;
    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);

    doc.iter(start, n, function (line) {
      processLine(cm, line.text, context);
      var pos = context.line;
      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;
      context.nextLine();
    });
    if (precise) { doc.modeFrontier = context.line; }
    return context
  }

  function processLine(cm, text, context, startAt) {
    var mode = cm.doc.mode;
    var stream = new StringStream(text, cm.options.tabSize, context);
    stream.start = stream.pos = startAt || 0;
    if (text == "") { callBlankLine(mode, context.state); }
    while (!stream.eol()) {
      readToken(mode, stream, context.state);
      stream.start = stream.pos;
    }
  }

  function callBlankLine(mode, state) {
    if (mode.blankLine) { return mode.blankLine(state) }
    if (!mode.innerMode) { return }
    var inner = innerMode(mode, state);
    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }
  }

  function readToken(mode, stream, state, inner) {
    for (var i = 0; i < 10; i++) {
      if (inner) { inner[0] = innerMode(mode, state).mode; }
      var style = mode.token(stream, state);
      if (stream.pos > stream.start) { return style }
    }
    throw new Error("Mode " + mode.name + " failed to advance stream.")
  }

  var Token = function(stream, type, state) {
    this.start = stream.start; this.end = stream.pos;
    this.string = stream.current();
    this.type = type || null;
    this.state = state;
  };

  function takeToken(cm, pos, precise, asArray) {
    var doc = cm.doc, mode = doc.mode, style;
    pos = clipPos(doc, pos);
    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);
    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;
    if (asArray) { tokens = []; }
    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {
      stream.start = stream.pos;
      style = readToken(mode, stream, context.state);
      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }
    }
    return asArray ? tokens : new Token(stream, style, context.state)
  }

  function extractLineClasses(type, output) {
    if (type) { for (;;) {
      var lineClass = type.match(/(?:^|\s+)line-(background-)?(\S+)/);
      if (!lineClass) { break }
      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);
      var prop = lineClass[1] ? "bgClass" : "textClass";
      if (output[prop] == null)
        { output[prop] = lineClass[2]; }
      else if (!(new RegExp("(?:^|\\s)" + lineClass[2] + "(?:$|\\s)")).test(output[prop]))
        { output[prop] += " " + lineClass[2]; }
    } }
    return type
  }

  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {
    var flattenSpans = mode.flattenSpans;
    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }
    var curStart = 0, curStyle = null;
    var stream = new StringStream(text, cm.options.tabSize, context), style;
    var inner = cm.options.addModeClass && [null];
    if (text == "") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }
    while (!stream.eol()) {
      if (stream.pos > cm.options.maxHighlightLength) {
        flattenSpans = false;
        if (forceToEnd) { processLine(cm, text, context, stream.pos); }
        stream.pos = text.length;
        style = null;
      } else {
        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);
      }
      if (inner) {
        var mName = inner[0].name;
        if (mName) { style = "m-" + (style ? mName + " " + style : mName); }
      }
      if (!flattenSpans || curStyle != style) {
        while (curStart < stream.start) {
          curStart = Math.min(stream.start, curStart + 5000);
          f(curStart, curStyle);
        }
        curStyle = style;
      }
      stream.start = stream.pos;
    }
    while (curStart < stream.pos) {
      var pos = Math.min(stream.pos, curStart + 5000);
      f(pos, curStyle);
      curStart = pos;
    }
  }

  function findStartLine(cm, n, precise) {
    var minindent, minline, doc = cm.doc;
    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);
    for (var search = n; search > lim; --search) {
      if (search <= doc.first) { return doc.first }
      var line = getLine(doc, search - 1), after = line.stateAfter;
      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))
        { return search }
      var indented = countColumn(line.text, null, cm.options.tabSize);
      if (minline == null || minindent > indented) {
        minline = search - 1;
        minindent = indented;
      }
    }
    return minline
  }

  function retreatFrontier(doc, n) {
    doc.modeFrontier = Math.min(doc.modeFrontier, n);
    if (doc.highlightFrontier < n - 10) { return }
    var start = doc.first;
    for (var line = n - 1; line > start; line--) {
      var saved = getLine(doc, line).stateAfter;
      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {
        start = line + 1;
        break
      }
    }
    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);
  }

  var sawReadOnlySpans = false, sawCollapsedSpans = false;

  function seeReadOnlySpans() {
    sawReadOnlySpans = true;
  }

  function seeCollapsedSpans() {
    sawCollapsedSpans = true;
  }


  function MarkedSpan(marker, from, to) {
    this.marker = marker;
    this.from = from; this.to = to;
  }

  function getMarkedSpanFor(spans, marker) {
    if (spans) { for (var i = 0; i < spans.length; ++i) {
      var span = spans[i];
      if (span.marker == marker) { return span }
    } }
  }

  function removeMarkedSpan(spans, span) {
    var r;
    for (var i = 0; i < spans.length; ++i)
      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }
    return r
  }

  function addMarkedSpan(line, span, op) {
    var inThisOp = op && window.WeakSet && (op.markedSpans || (op.markedSpans = new WeakSet));
    if (inThisOp && line.markedSpans && inThisOp.has(line.markedSpans)) {
      line.markedSpans.push(span);
    } else {
      line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];
      if (inThisOp) { inThisOp.add(line.markedSpans); }
    }
    span.marker.attachLine(line);
  }

  function markedSpansBefore(old, startCh, isInsert) {
    var nw;
    if (old) { for (var i = 0; i < old.length; ++i) {
      var span = old[i], marker = span.marker;
      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);
      if (startsBefore || span.from == startCh && marker.type == "bookmark" && (!isInsert || !span.marker.insertLeft)) {
        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)
        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));
      }
    } }
    return nw
  }
  function markedSpansAfter(old, endCh, isInsert) {
    var nw;
    if (old) { for (var i = 0; i < old.length; ++i) {
      var span = old[i], marker = span.marker;
      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);
      if (endsAfter || span.from == endCh && marker.type == "bookmark" && (!isInsert || span.marker.insertLeft)) {
        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)
        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,
                                              span.to == null ? null : span.to - endCh));
      }
    } }
    return nw
  }

  function stretchSpansOverChange(doc, change) {
    if (change.full) { return null }
    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;
    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;
    if (!oldFirst && !oldLast) { return null }

    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;
    var first = markedSpansBefore(oldFirst, startCh, isInsert);
    var last = markedSpansAfter(oldLast, endCh, isInsert);

    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);
    if (first) {
      for (var i = 0; i < first.length; ++i) {
        var span = first[i];
        if (span.to == null) {
          var found = getMarkedSpanFor(last, span.marker);
          if (!found) { span.to = startCh; }
          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }
        }
      }
    }
    if (last) {
      for (var i$1 = 0; i$1 < last.length; ++i$1) {
        var span$1 = last[i$1];
        if (span$1.to != null) { span$1.to += offset; }
        if (span$1.from == null) {
          var found$1 = getMarkedSpanFor(first, span$1.marker);
          if (!found$1) {
            span$1.from = offset;
            if (sameLine) { (first || (first = [])).push(span$1); }
          }
        } else {
          span$1.from += offset;
          if (sameLine) { (first || (first = [])).push(span$1); }
        }
      }
    }
    if (first) { first = clearEmptySpans(first); }
    if (last && last != first) { last = clearEmptySpans(last); }

    var newMarkers = [first];
    if (!sameLine) {
      var gap = change.text.length - 2, gapMarkers;
      if (gap > 0 && first)
        { for (var i$2 = 0; i$2 < first.length; ++i$2)
          { if (first[i$2].to == null)
            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }
      for (var i$3 = 0; i$3 < gap; ++i$3)
        { newMarkers.push(gapMarkers); }
      newMarkers.push(last);
    }
    return newMarkers
  }

  function clearEmptySpans(spans) {
    for (var i = 0; i < spans.length; ++i) {
      var span = spans[i];
      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)
        { spans.splice(i--, 1); }
    }
    if (!spans.length) { return null }
    return spans
  }

  function removeReadOnlyRanges(doc, from, to) {
    var markers = null;
    doc.iter(from.line, to.line + 1, function (line) {
      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {
        var mark = line.markedSpans[i].marker;
        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))
          { (markers || (markers = [])).push(mark); }
      } }
    });
    if (!markers) { return null }
    var parts = [{from: from, to: to}];
    for (var i = 0; i < markers.length; ++i) {
      var mk = markers[i], m = mk.find(0);
      for (var j = 0; j < parts.length; ++j) {
        var p = parts[j];
        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }
        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);
        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)
          { newParts.push({from: p.from, to: m.from}); }
        if (dto > 0 || !mk.inclusiveRight && !dto)
          { newParts.push({from: m.to, to: p.to}); }
        parts.splice.apply(parts, newParts);
        j += newParts.length - 3;
      }
    }
    return parts
  }

  function detachMarkedSpans(line) {
    var spans = line.markedSpans;
    if (!spans) { return }
    for (var i = 0; i < spans.length; ++i)
      { spans[i].marker.detachLine(line); }
    line.markedSpans = null;
  }
  function attachMarkedSpans(line, spans) {
    if (!spans) { return }
    for (var i = 0; i < spans.length; ++i)
      { spans[i].marker.attachLine(line); }
    line.markedSpans = spans;
  }

  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }
  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }

  function compareCollapsedMarkers(a, b) {
    var lenDiff = a.lines.length - b.lines.length;
    if (lenDiff != 0) { return lenDiff }
    var aPos = a.find(), bPos = b.find();
    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);
    if (fromCmp) { return -fromCmp }
    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);
    if (toCmp) { return toCmp }
    return b.id - a.id
  }

  function collapsedSpanAtSide(line, start) {
    var sps = sawCollapsedSpans && line.markedSpans, found;
    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {
      sp = sps[i];
      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&
          (!found || compareCollapsedMarkers(found, sp.marker) < 0))
        { found = sp.marker; }
    } }
    return found
  }
  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }
  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }

  function collapsedSpanAround(line, ch) {
    var sps = sawCollapsedSpans && line.markedSpans, found;
    if (sps) { for (var i = 0; i < sps.length; ++i) {
      var sp = sps[i];
      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&
          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }
    } }
    return found
  }

  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {
    var line = getLine(doc, lineNo);
    var sps = sawCollapsedSpans && line.markedSpans;
    if (sps) { for (var i = 0; i < sps.length; ++i) {
      var sp = sps[i];
      if (!sp.marker.collapsed) { continue }
      var found = sp.marker.find(0);
      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);
      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);
      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }
      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||
          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))
        { return true }
    } }
  }

  function visualLine(line) {
    var merged;
    while (merged = collapsedSpanAtStart(line))
      { line = merged.find(-1, true).line; }
    return line
  }

  function visualLineEnd(line) {
    var merged;
    while (merged = collapsedSpanAtEnd(line))
      { line = merged.find(1, true).line; }
    return line
  }

  function visualLineContinued(line) {
    var merged, lines;
    while (merged = collapsedSpanAtEnd(line)) {
      line = merged.find(1, true).line
      ;(lines || (lines = [])).push(line);
    }
    return lines
  }

  function visualLineNo(doc, lineN) {
    var line = getLine(doc, lineN), vis = visualLine(line);
    if (line == vis) { return lineN }
    return lineNo(vis)
  }

  function visualLineEndNo(doc, lineN) {
    if (lineN > doc.lastLine()) { return lineN }
    var line = getLine(doc, lineN), merged;
    if (!lineIsHidden(doc, line)) { return lineN }
    while (merged = collapsedSpanAtEnd(line))
      { line = merged.find(1, true).line; }
    return lineNo(line) + 1
  }

  function lineIsHidden(doc, line) {
    var sps = sawCollapsedSpans && line.markedSpans;
    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {
      sp = sps[i];
      if (!sp.marker.collapsed) { continue }
      if (sp.from == null) { return true }
      if (sp.marker.widgetNode) { continue }
      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))
        { return true }
    } }
  }
  function lineIsHiddenInner(doc, line, span) {
    if (span.to == null) {
      var end = span.marker.find(1, true);
      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))
    }
    if (span.marker.inclusiveRight && span.to == line.text.length)
      { return true }
    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {
      sp = line.markedSpans[i];
      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&
          (sp.to == null || sp.to != span.from) &&
          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&
          lineIsHiddenInner(doc, line, sp)) { return true }
    }
  }

  function heightAtLine(lineObj) {
    lineObj = visualLine(lineObj);

    var h = 0, chunk = lineObj.parent;
    for (var i = 0; i < chunk.lines.length; ++i) {
      var line = chunk.lines[i];
      if (line == lineObj) { break }
      else { h += line.height; }
    }
    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {
      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {
        var cur = p.children[i$1];
        if (cur == chunk) { break }
        else { h += cur.height; }
      }
    }
    return h
  }

  function lineLength(line) {
    if (line.height == 0) { return 0 }
    var len = line.text.length, merged, cur = line;
    while (merged = collapsedSpanAtStart(cur)) {
      var found = merged.find(0, true);
      cur = found.from.line;
      len += found.from.ch - found.to.ch;
    }
    cur = line;
    while (merged = collapsedSpanAtEnd(cur)) {
      var found$1 = merged.find(0, true);
      len -= cur.text.length - found$1.from.ch;
      cur = found$1.to.line;
      len += cur.text.length - found$1.to.ch;
    }
    return len
  }

  function findMaxLine(cm) {
    var d = cm.display, doc = cm.doc;
    d.maxLine = getLine(doc, doc.first);
    d.maxLineLength = lineLength(d.maxLine);
    d.maxLineChanged = true;
    doc.iter(function (line) {
      var len = lineLength(line);
      if (len > d.maxLineLength) {
        d.maxLineLength = len;
        d.maxLine = line;
      }
    });
  }


  var Line = function(text, markedSpans, estimateHeight) {
    this.text = text;
    attachMarkedSpans(this, markedSpans);
    this.height = estimateHeight ? estimateHeight(this) : 1;
  };

  Line.prototype.lineNo = function () { return lineNo(this) };
  eventMixin(Line);

  function updateLine(line, text, markedSpans, estimateHeight) {
    line.text = text;
    if (line.stateAfter) { line.stateAfter = null; }
    if (line.styles) { line.styles = null; }
    if (line.order != null) { line.order = null; }
    detachMarkedSpans(line);
    attachMarkedSpans(line, markedSpans);
    var estHeight = estimateHeight ? estimateHeight(line) : 1;
    if (estHeight != line.height) { updateLineHeight(line, estHeight); }
  }

  function cleanUpLine(line) {
    line.parent = null;
    detachMarkedSpans(line);
  }

  var styleToClassCache = {}, styleToClassCacheWithMode = {};
  function interpretTokenStyle(style, options) {
    if (!style || /^\s*$/.test(style)) { return null }
    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;
    return cache[style] ||
      (cache[style] = style.replace(/\S+/g, "cm-$&"))
  }

  function buildLineContent(cm, lineView) {
    var content = eltP("span", null, null, webkit ? "padding-right: .1px" : null);
    var builder = {pre: eltP("pre", [content], "CodeMirror-line"), content: content,
                   col: 0, pos: 0, cm: cm,
                   trailingSpace: false,
                   splitSpaces: cm.getOption("lineWrapping")};
    lineView.measure = {};

    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {
      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);
      builder.pos = 0;
      builder.addToken = buildToken;
      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))
        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }
      builder.map = [];
      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);
      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));
      if (line.styleClasses) {
        if (line.styleClasses.bgClass)
          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || ""); }
        if (line.styleClasses.textClass)
          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || ""); }
      }

      if (builder.map.length == 0)
        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }

      if (i == 0) {
        lineView.measure.map = builder.map;
        lineView.measure.cache = {};
      } else {
  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)
        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});
      }
    }

    if (webkit) {
      var last = builder.content.lastChild;
      if (/\bcm-tab\b/.test(last.className) || (last.querySelector && last.querySelector(".cm-tab")))
        { builder.content.className = "cm-tab-wrap-hack"; }
    }

    signal(cm, "renderLine", cm, lineView.line, builder.pre);
    if (builder.pre.className)
      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || ""); }

    return builder
  }

  function defaultSpecialCharPlaceholder(ch) {
    var token = elt("span", "\u2022", "cm-invalidchar");
    token.title = "\\u" + ch.charCodeAt(0).toString(16);
    token.setAttribute("aria-label", token.title);
    return token
  }

  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {
    if (!text) { return }
    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;
    var special = builder.cm.state.specialChars, mustWrap = false;
    var content;
    if (!special.test(text)) {
      builder.col += text.length;
      content = document.createTextNode(displayText);
      builder.map.push(builder.pos, builder.pos + text.length, content);
      if (ie && ie_version < 9) { mustWrap = true; }
      builder.pos += text.length;
    } else {
      content = document.createDocumentFragment();
      var pos = 0;
      while (true) {
        special.lastIndex = pos;
        var m = special.exec(text);
        var skipped = m ? m.index - pos : text.length - pos;
        if (skipped) {
          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));
          if (ie && ie_version < 9) { content.appendChild(elt("span", [txt])); }
          else { content.appendChild(txt); }
          builder.map.push(builder.pos, builder.pos + skipped, txt);
          builder.col += skipped;
          builder.pos += skipped;
        }
        if (!m) { break }
        pos += skipped + 1;
        var txt$1 = (void 0);
        if (m[0] == "\t") {
          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;
          txt$1 = content.appendChild(elt("span", spaceStr(tabWidth), "cm-tab"));
          txt$1.setAttribute("role", "presentation");
          txt$1.setAttribute("cm-text", "\t");
          builder.col += tabWidth;
        } else if (m[0] == "\r" || m[0] == "\n") {
          txt$1 = content.appendChild(elt("span", m[0] == "\r" ? "\u240d" : "\u2424", "cm-invalidchar"));
          txt$1.setAttribute("cm-text", m[0]);
          builder.col += 1;
        } else {
          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);
          txt$1.setAttribute("cm-text", m[0]);
          if (ie && ie_version < 9) { content.appendChild(elt("span", [txt$1])); }
          else { content.appendChild(txt$1); }
          builder.col += 1;
        }
        builder.map.push(builder.pos, builder.pos + 1, txt$1);
        builder.pos++;
      }
    }
    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;
    if (style || startStyle || endStyle || mustWrap || css || attributes) {
      var fullStyle = style || "";
      if (startStyle) { fullStyle += startStyle; }
      if (endStyle) { fullStyle += endStyle; }
      var token = elt("span", [content], fullStyle, css);
      if (attributes) {
        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != "style" && attr != "class")
          { token.setAttribute(attr, attributes[attr]); } }
      }
      return builder.content.appendChild(token)
    }
    builder.content.appendChild(content);
  }

  function splitSpaces(text, trailingBefore) {
    if (text.length > 1 && !/  /.test(text)) { return text }
    var spaceBefore = trailingBefore, result = "";
    for (var i = 0; i < text.length; i++) {
      var ch = text.charAt(i);
      if (ch == " " && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))
        { ch = "\u00a0"; }
      result += ch;
      spaceBefore = ch == " ";
    }
    return result
  }

  function buildTokenBadBidi(inner, order) {
    return function (builder, text, style, startStyle, endStyle, css, attributes) {
      style = style ? style + " cm-force-border" : "cm-force-border";
      var start = builder.pos, end = start + text.length;
      for (;;) {
        var part = (void 0);
        for (var i = 0; i < order.length; i++) {
          part = order[i];
          if (part.to > start && part.from <= start) { break }
        }
        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }
        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);
        startStyle = null;
        text = text.slice(part.to - start);
        start = part.to;
      }
    }
  }

  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {
    var widget = !ignoreWidget && marker.widgetNode;
    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }
    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {
      if (!widget)
        { widget = builder.content.appendChild(document.createElement("span")); }
      widget.setAttribute("cm-marker", marker.id);
    }
    if (widget) {
      builder.cm.display.input.setUneditable(widget);
      builder.content.appendChild(widget);
    }
    builder.pos += size;
    builder.trailingSpace = false;
  }

  function insertLineContent(line, builder, styles) {
    var spans = line.markedSpans, allText = line.text, at = 0;
    if (!spans) {
      for (var i$1 = 1; i$1 < styles.length; i$1+=2)
        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }
      return
    }

    var len = allText.length, pos = 0, i = 1, text = "", style, css;
    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;
    for (;;) {
      if (nextChange == pos) { 
        spanStyle = spanEndStyle = spanStartStyle = css = "";
        attributes = null;
        collapsed = null; nextChange = Infinity;
        var foundBookmarks = [], endStyles = (void 0);
        for (var j = 0; j < spans.length; ++j) {
          var sp = spans[j], m = sp.marker;
          if (m.type == "bookmark" && sp.from == pos && m.widgetNode) {
            foundBookmarks.push(m);
          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {
            if (sp.to != null && sp.to != pos && nextChange > sp.to) {
              nextChange = sp.to;
              spanEndStyle = "";
            }
            if (m.className) { spanStyle += " " + m.className; }
            if (m.css) { css = (css ? css + ";" : "") + m.css; }
            if (m.startStyle && sp.from == pos) { spanStartStyle += " " + m.startStyle; }
            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }
            if (m.title) { (attributes || (attributes = {})).title = m.title; }
            if (m.attributes) {
              for (var attr in m.attributes)
                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }
            }
            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))
              { collapsed = sp; }
          } else if (sp.from > pos && nextChange > sp.from) {
            nextChange = sp.from;
          }
        }
        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)
          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += " " + endStyles[j$1]; } } }

        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)
          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }
        if (collapsed && (collapsed.from || 0) == pos) {
          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,
                             collapsed.marker, collapsed.from == null);
          if (collapsed.to == null) { return }
          if (collapsed.to == pos) { collapsed = false; }
        }
      }
      if (pos >= len) { break }

      var upto = Math.min(len, nextChange);
      while (true) {
        if (text) {
          var end = pos + text.length;
          if (!collapsed) {
            var tokenText = end > upto ? text.slice(0, upto - pos) : text;
            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,
                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : "", css, attributes);
          }
          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}
          pos = end;
          spanStartStyle = "";
        }
        text = allText.slice(at, at = styles[i++]);
        style = interpretTokenStyle(styles[i++], builder.cm.options);
      }
    }
  }


  function LineView(doc, line, lineN) {
    this.line = line;
    this.rest = visualLineContinued(line);
    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;
    this.node = this.text = null;
    this.hidden = lineIsHidden(doc, line);
  }

  function buildViewArray(cm, from, to) {
    var array = [], nextPos;
    for (var pos = from; pos < to; pos = nextPos) {
      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);
      nextPos = pos + view.size;
      array.push(view);
    }
    return array
  }

  var operationGroup = null;

  function pushOperation(op) {
    if (operationGroup) {
      operationGroup.ops.push(op);
    } else {
      op.ownsGroup = operationGroup = {
        ops: [op],
        delayedCallbacks: []
      };
    }
  }

  function fireCallbacksForOps(group) {
    var callbacks = group.delayedCallbacks, i = 0;
    do {
      for (; i < callbacks.length; i++)
        { callbacks[i].call(null); }
      for (var j = 0; j < group.ops.length; j++) {
        var op = group.ops[j];
        if (op.cursorActivityHandlers)
          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)
            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }
      }
    } while (i < callbacks.length)
  }

  function finishOperation(op, endCb) {
    var group = op.ownsGroup;
    if (!group) { return }

    try { fireCallbacksForOps(group); }
    finally {
      operationGroup = null;
      endCb(group);
    }
  }

  var orphanDelayedCallbacks = null;

  function signalLater(emitter, type ) {
    var arr = getHandlers(emitter, type);
    if (!arr.length) { return }
    var args = Array.prototype.slice.call(arguments, 2), list;
    if (operationGroup) {
      list = operationGroup.delayedCallbacks;
    } else if (orphanDelayedCallbacks) {
      list = orphanDelayedCallbacks;
    } else {
      list = orphanDelayedCallbacks = [];
      setTimeout(fireOrphanDelayed, 0);
    }
    var loop = function ( i ) {
      list.push(function () { return arr[i].apply(null, args); });
    };

    for (var i = 0; i < arr.length; ++i)
      loop( i );
  }

  function fireOrphanDelayed() {
    var delayed = orphanDelayedCallbacks;
    orphanDelayedCallbacks = null;
    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }
  }

  function updateLineForChanges(cm, lineView, lineN, dims) {
    for (var j = 0; j < lineView.changes.length; j++) {
      var type = lineView.changes[j];
      if (type == "text") { updateLineText(cm, lineView); }
      else if (type == "gutter") { updateLineGutter(cm, lineView, lineN, dims); }
      else if (type == "class") { updateLineClasses(cm, lineView); }
      else if (type == "widget") { updateLineWidgets(cm, lineView, dims); }
    }
    lineView.changes = null;
  }

  function ensureLineWrapped(lineView) {
    if (lineView.node == lineView.text) {
      lineView.node = elt("div", null, null, "position: relative");
      if (lineView.text.parentNode)
        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }
      lineView.node.appendChild(lineView.text);
      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }
    }
    return lineView.node
  }

  function updateLineBackground(cm, lineView) {
    var cls = lineView.bgClass ? lineView.bgClass + " " + (lineView.line.bgClass || "") : lineView.line.bgClass;
    if (cls) { cls += " CodeMirror-linebackground"; }
    if (lineView.background) {
      if (cls) { lineView.background.className = cls; }
      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }
    } else if (cls) {
      var wrap = ensureLineWrapped(lineView);
      lineView.background = wrap.insertBefore(elt("div", null, cls), wrap.firstChild);
      cm.display.input.setUneditable(lineView.background);
    }
  }

  function getLineContent(cm, lineView) {
    var ext = cm.display.externalMeasured;
    if (ext && ext.line == lineView.line) {
      cm.display.externalMeasured = null;
      lineView.measure = ext.measure;
      return ext.built
    }
    return buildLineContent(cm, lineView)
  }

  function updateLineText(cm, lineView) {
    var cls = lineView.text.className;
    var built = getLineContent(cm, lineView);
    if (lineView.text == lineView.node) { lineView.node = built.pre; }
    lineView.text.parentNode.replaceChild(built.pre, lineView.text);
    lineView.text = built.pre;
    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {
      lineView.bgClass = built.bgClass;
      lineView.textClass = built.textClass;
      updateLineClasses(cm, lineView);
    } else if (cls) {
      lineView.text.className = cls;
    }
  }

  function updateLineClasses(cm, lineView) {
    updateLineBackground(cm, lineView);
    if (lineView.line.wrapClass)
      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }
    else if (lineView.node != lineView.text)
      { lineView.node.className = ""; }
    var textClass = lineView.textClass ? lineView.textClass + " " + (lineView.line.textClass || "") : lineView.line.textClass;
    lineView.text.className = textClass || "";
  }

  function updateLineGutter(cm, lineView, lineN, dims) {
    if (lineView.gutter) {
      lineView.node.removeChild(lineView.gutter);
      lineView.gutter = null;
    }
    if (lineView.gutterBackground) {
      lineView.node.removeChild(lineView.gutterBackground);
      lineView.gutterBackground = null;
    }
    if (lineView.line.gutterClass) {
      var wrap = ensureLineWrapped(lineView);
      lineView.gutterBackground = elt("div", null, "CodeMirror-gutter-background " + lineView.line.gutterClass,
                                      ("left: " + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + "px; width: " + (dims.gutterTotalWidth) + "px"));
      cm.display.input.setUneditable(lineView.gutterBackground);
      wrap.insertBefore(lineView.gutterBackground, lineView.text);
    }
    var markers = lineView.line.gutterMarkers;
    if (cm.options.lineNumbers || markers) {
      var wrap$1 = ensureLineWrapped(lineView);
      var gutterWrap = lineView.gutter = elt("div", null, "CodeMirror-gutter-wrapper", ("left: " + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + "px"));
      gutterWrap.setAttribute("aria-hidden", "true");
      cm.display.input.setUneditable(gutterWrap);
      wrap$1.insertBefore(gutterWrap, lineView.text);
      if (lineView.line.gutterClass)
        { gutterWrap.className += " " + lineView.line.gutterClass; }
      if (cm.options.lineNumbers && (!markers || !markers["CodeMirror-linenumbers"]))
        { lineView.lineNumber = gutterWrap.appendChild(
          elt("div", lineNumberFor(cm.options, lineN),
              "CodeMirror-linenumber CodeMirror-gutter-elt",
              ("left: " + (dims.gutterLeft["CodeMirror-linenumbers"]) + "px; width: " + (cm.display.lineNumInnerWidth) + "px"))); }
      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {
        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];
        if (found)
          { gutterWrap.appendChild(elt("div", [found], "CodeMirror-gutter-elt",
                                     ("left: " + (dims.gutterLeft[id]) + "px; width: " + (dims.gutterWidth[id]) + "px"))); }
      } }
    }
  }

  function updateLineWidgets(cm, lineView, dims) {
    if (lineView.alignable) { lineView.alignable = null; }
    var isWidget = classTest("CodeMirror-linewidget");
    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {
      next = node.nextSibling;
      if (isWidget.test(node.className)) { lineView.node.removeChild(node); }
    }
    insertLineWidgets(cm, lineView, dims);
  }

  function buildLineElement(cm, lineView, lineN, dims) {
    var built = getLineContent(cm, lineView);
    lineView.text = lineView.node = built.pre;
    if (built.bgClass) { lineView.bgClass = built.bgClass; }
    if (built.textClass) { lineView.textClass = built.textClass; }

    updateLineClasses(cm, lineView);
    updateLineGutter(cm, lineView, lineN, dims);
    insertLineWidgets(cm, lineView, dims);
    return lineView.node
  }

  function insertLineWidgets(cm, lineView, dims) {
    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);
    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)
      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }
  }

  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {
    if (!line.widgets) { return }
    var wrap = ensureLineWrapped(lineView);
    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {
      var widget = ws[i], node = elt("div", [widget.node], "CodeMirror-linewidget" + (widget.className ? " " + widget.className : ""));
      if (!widget.handleMouseEvents) { node.setAttribute("cm-ignore-events", "true"); }
      positionLineWidget(widget, node, lineView, dims);
      cm.display.input.setUneditable(node);
      if (allowAbove && widget.above)
        { wrap.insertBefore(node, lineView.gutter || lineView.text); }
      else
        { wrap.appendChild(node); }
      signalLater(widget, "redraw");
    }
  }

  function positionLineWidget(widget, node, lineView, dims) {
    if (widget.noHScroll) {
  (lineView.alignable || (lineView.alignable = [])).push(node);
      var width = dims.wrapperWidth;
      node.style.left = dims.fixedPos + "px";
      if (!widget.coverGutter) {
        width -= dims.gutterTotalWidth;
        node.style.paddingLeft = dims.gutterTotalWidth + "px";
      }
      node.style.width = width + "px";
    }
    if (widget.coverGutter) {
      node.style.zIndex = 5;
      node.style.position = "relative";
      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + "px"; }
    }
  }

  function widgetHeight(widget) {
    if (widget.height != null) { return widget.height }
    var cm = widget.doc.cm;
    if (!cm) { return 0 }
    if (!contains(document.body, widget.node)) {
      var parentStyle = "position: relative;";
      if (widget.coverGutter)
        { parentStyle += "margin-left: -" + cm.display.gutters.offsetWidth + "px;"; }
      if (widget.noHScroll)
        { parentStyle += "width: " + cm.display.wrapper.clientWidth + "px;"; }
      removeChildrenAndAdd(cm.display.measure, elt("div", [widget.node], null, parentStyle));
    }
    return widget.height = widget.node.parentNode.offsetHeight
  }

  function eventInWidget(display, e) {
    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {
      if (!n || (n.nodeType == 1 && n.getAttribute("cm-ignore-events") == "true") ||
          (n.parentNode == display.sizer && n != display.mover))
        { return true }
    }
  }


  function paddingTop(display) {return display.lineSpace.offsetTop}
  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}
  function paddingH(display) {
    if (display.cachedPaddingH) { return display.cachedPaddingH }
    var e = removeChildrenAndAdd(display.measure, elt("pre", "x", "CodeMirror-line-like"));
    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;
    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};
    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }
    return data
  }

  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }
  function displayWidth(cm) {
    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth
  }
  function displayHeight(cm) {
    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight
  }

  function ensureLineHeights(cm, lineView, rect) {
    var wrapping = cm.options.lineWrapping;
    var curWidth = wrapping && displayWidth(cm);
    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {
      var heights = lineView.measure.heights = [];
      if (wrapping) {
        lineView.measure.width = curWidth;
        var rects = lineView.text.firstChild.getClientRects();
        for (var i = 0; i < rects.length - 1; i++) {
          var cur = rects[i], next = rects[i + 1];
          if (Math.abs(cur.bottom - next.bottom) > 2)
            { heights.push((cur.bottom + next.top) / 2 - rect.top); }
        }
      }
      heights.push(rect.bottom - rect.top);
    }
  }

  function mapFromLineView(lineView, line, lineN) {
    if (lineView.line == line)
      { return {map: lineView.measure.map, cache: lineView.measure.cache} }
    if (lineView.rest) {
      for (var i = 0; i < lineView.rest.length; i++)
        { if (lineView.rest[i] == line)
          { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }
      for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)
        { if (lineNo(lineView.rest[i$1]) > lineN)
          { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }
    }
  }

  function updateExternalMeasurement(cm, line) {
    line = visualLine(line);
    var lineN = lineNo(line);
    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);
    view.lineN = lineN;
    var built = view.built = buildLineContent(cm, view);
    view.text = built.pre;
    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);
    return view
  }

  function measureChar(cm, line, ch, bias) {
    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)
  }

  function findViewForLine(cm, lineN) {
    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)
      { return cm.display.view[findViewIndex(cm, lineN)] }
    var ext = cm.display.externalMeasured;
    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)
      { return ext }
  }

  function prepareMeasureForLine(cm, line) {
    var lineN = lineNo(line);
    var view = findViewForLine(cm, lineN);
    if (view && !view.text) {
      view = null;
    } else if (view && view.changes) {
      updateLineForChanges(cm, view, lineN, getDimensions(cm));
      cm.curOp.forceUpdate = true;
    }
    if (!view)
      { view = updateExternalMeasurement(cm, line); }

    var info = mapFromLineView(view, line, lineN);
    return {
      line: line, view: view, rect: null,
      map: info.map, cache: info.cache, before: info.before,
      hasHeights: false
    }
  }

  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {
    if (prepared.before) { ch = -1; }
    var key = ch + (bias || ""), found;
    if (prepared.cache.hasOwnProperty(key)) {
      found = prepared.cache[key];
    } else {
      if (!prepared.rect)
        { prepared.rect = prepared.view.text.getBoundingClientRect(); }
      if (!prepared.hasHeights) {
        ensureLineHeights(cm, prepared.view, prepared.rect);
        prepared.hasHeights = true;
      }
      found = measureCharInner(cm, prepared, ch, bias);
      if (!found.bogus) { prepared.cache[key] = found; }
    }
    return {left: found.left, right: found.right,
            top: varHeight ? found.rtop : found.top,
            bottom: varHeight ? found.rbottom : found.bottom}
  }

  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};

  function nodeAndOffsetInLineMap(map, ch, bias) {
    var node, start, end, collapse, mStart, mEnd;
    for (var i = 0; i < map.length; i += 3) {
      mStart = map[i];
      mEnd = map[i + 1];
      if (ch < mStart) {
        start = 0; end = 1;
        collapse = "left";
      } else if (ch < mEnd) {
        start = ch - mStart;
        end = start + 1;
      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {
        end = mEnd - mStart;
        start = end - 1;
        if (ch >= mEnd) { collapse = "right"; }
      }
      if (start != null) {
        node = map[i + 2];
        if (mStart == mEnd && bias == (node.insertLeft ? "left" : "right"))
          { collapse = bias; }
        if (bias == "left" && start == 0)
          { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {
            node = map[(i -= 3) + 2];
            collapse = "left";
          } }
        if (bias == "right" && start == mEnd - mStart)
          { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {
            node = map[(i += 3) + 2];
            collapse = "right";
          } }
        break
      }
    }
    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}
  }

  function getUsefulRect(rects, bias) {
    var rect = nullRect;
    if (bias == "left") { for (var i = 0; i < rects.length; i++) {
      if ((rect = rects[i]).left != rect.right) { break }
    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {
      if ((rect = rects[i$1]).left != rect.right) { break }
    } }
    return rect
  }

  function measureCharInner(cm, prepared, ch, bias) {
    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);
    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;

    var rect;
    if (node.nodeType == 3) { 
      for (var i$1 = 0; i$1 < 4; i$1++) { 
        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }
        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }
        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)
          { rect = node.parentNode.getBoundingClientRect(); }
        else
          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }
        if (rect.left || rect.right || start == 0) { break }
        end = start;
        start = start - 1;
        collapse = "right";
      }
      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }
    } else { 
      if (start > 0) { collapse = bias = "right"; }
      var rects;
      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)
        { rect = rects[bias == "right" ? rects.length - 1 : 0]; }
      else
        { rect = node.getBoundingClientRect(); }
    }
    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {
      var rSpan = node.parentNode.getClientRects()[0];
      if (rSpan)
        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }
      else
        { rect = nullRect; }
    }

    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;
    var mid = (rtop + rbot) / 2;
    var heights = prepared.view.measure.heights;
    var i = 0;
    for (; i < heights.length - 1; i++)
      { if (mid < heights[i]) { break } }
    var top = i ? heights[i - 1] : 0, bot = heights[i];
    var result = {left: (collapse == "right" ? rect.right : rect.left) - prepared.rect.left,
                  right: (collapse == "left" ? rect.left : rect.right) - prepared.rect.left,
                  top: top, bottom: bot};
    if (!rect.left && !rect.right) { result.bogus = true; }
    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }

    return result
  }

  function maybeUpdateRectForZooming(measure, rect) {
    if (!window.screen || screen.logicalXDPI == null ||
        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))
      { return rect }
    var scaleX = screen.logicalXDPI / screen.deviceXDPI;
    var scaleY = screen.logicalYDPI / screen.deviceYDPI;
    return {left: rect.left * scaleX, right: rect.right * scaleX,
            top: rect.top * scaleY, bottom: rect.bottom * scaleY}
  }

  function clearLineMeasurementCacheFor(lineView) {
    if (lineView.measure) {
      lineView.measure.cache = {};
      lineView.measure.heights = null;
      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)
        { lineView.measure.caches[i] = {}; } }
    }
  }

  function clearLineMeasurementCache(cm) {
    cm.display.externalMeasure = null;
    removeChildren(cm.display.lineMeasure);
    for (var i = 0; i < cm.display.view.length; i++)
      { clearLineMeasurementCacheFor(cm.display.view[i]); }
  }

  function clearCaches(cm) {
    clearLineMeasurementCache(cm);
    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;
    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }
    cm.display.lineNumChars = null;
  }

  function pageScrollX(doc) {
    if (chrome && android) { return -(doc.body.getBoundingClientRect().left - parseInt(getComputedStyle(doc.body).marginLeft)) }
    return doc.defaultView.pageXOffset || (doc.documentElement || doc.body).scrollLeft
  }
  function pageScrollY(doc) {
    if (chrome && android) { return -(doc.body.getBoundingClientRect().top - parseInt(getComputedStyle(doc.body).marginTop)) }
    return doc.defaultView.pageYOffset || (doc.documentElement || doc.body).scrollTop
  }

  function widgetTopHeight(lineObj) {
    var ref = visualLine(lineObj);
    var widgets = ref.widgets;
    var height = 0;
    if (widgets) { for (var i = 0; i < widgets.length; ++i) { if (widgets[i].above)
      { height += widgetHeight(widgets[i]); } } }
    return height
  }

  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {
    if (!includeWidgets) {
      var height = widgetTopHeight(lineObj);
      rect.top += height; rect.bottom += height;
    }
    if (context == "line") { return rect }
    if (!context) { context = "local"; }
    var yOff = heightAtLine(lineObj);
    if (context == "local") { yOff += paddingTop(cm.display); }
    else { yOff -= cm.display.viewOffset; }
    if (context == "page" || context == "window") {
      var lOff = cm.display.lineSpace.getBoundingClientRect();
      yOff += lOff.top + (context == "window" ? 0 : pageScrollY(doc(cm)));
      var xOff = lOff.left + (context == "window" ? 0 : pageScrollX(doc(cm)));
      rect.left += xOff; rect.right += xOff;
    }
    rect.top += yOff; rect.bottom += yOff;
    return rect
  }

  function fromCoordSystem(cm, coords, context) {
    if (context == "div") { return coords }
    var left = coords.left, top = coords.top;
    if (context == "page") {
      left -= pageScrollX(doc(cm));
      top -= pageScrollY(doc(cm));
    } else if (context == "local" || !context) {
      var localBox = cm.display.sizer.getBoundingClientRect();
      left += localBox.left;
      top += localBox.top;
    }

    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();
    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}
  }

  function charCoords(cm, pos, context, lineObj, bias) {
    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }
    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)
  }

  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {
    lineObj = lineObj || getLine(cm.doc, pos.line);
    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }
    function get(ch, right) {
      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? "right" : "left", varHeight);
      if (right) { m.left = m.right; } else { m.right = m.left; }
      return intoCoordSystem(cm, lineObj, m, context)
    }
    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;
    if (ch >= lineObj.text.length) {
      ch = lineObj.text.length;
      sticky = "before";
    } else if (ch <= 0) {
      ch = 0;
      sticky = "after";
    }
    if (!order) { return get(sticky == "before" ? ch - 1 : ch, sticky == "before") }

    function getBidi(ch, partPos, invert) {
      var part = order[partPos], right = part.level == 1;
      return get(invert ? ch - 1 : ch, right != invert)
    }
    var partPos = getBidiPartAt(order, ch, sticky);
    var other = bidiOther;
    var val = getBidi(ch, partPos, sticky == "before");
    if (other != null) { val.other = getBidi(ch, other, sticky != "before"); }
    return val
  }

  function estimateCoords(cm, pos) {
    var left = 0;
    pos = clipPos(cm.doc, pos);
    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }
    var lineObj = getLine(cm.doc, pos.line);
    var top = heightAtLine(lineObj) + paddingTop(cm.display);
    return {left: left, right: left, top: top, bottom: top + lineObj.height}
  }

  function PosWithInfo(line, ch, sticky, outside, xRel) {
    var pos = Pos(line, ch, sticky);
    pos.xRel = xRel;
    if (outside) { pos.outside = outside; }
    return pos
  }

  function coordsChar(cm, x, y) {
    var doc = cm.doc;
    y += cm.display.viewOffset;
    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }
    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;
    if (lineN > last)
      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }
    if (x < 0) { x = 0; }

    var lineObj = getLine(doc, lineN);
    for (;;) {
      var found = coordsCharInner(cm, lineObj, lineN, x, y);
      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));
      if (!collapsed) { return found }
      var rangeEnd = collapsed.find(1);
      if (rangeEnd.line == lineN) { return rangeEnd }
      lineObj = getLine(doc, lineN = rangeEnd.line);
    }
  }

  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {
    y -= widgetTopHeight(lineObj);
    var end = lineObj.text.length;
    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);
    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);
    return {begin: begin, end: end}
  }

  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {
    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }
    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), "line").top;
    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)
  }

  function boxIsAfter(box, x, y, left) {
    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x
  }

  function coordsCharInner(cm, lineObj, lineNo, x, y) {
    y -= heightAtLine(lineObj);
    var preparedMeasure = prepareMeasureForLine(cm, lineObj);
    var widgetHeight = widgetTopHeight(lineObj);
    var begin = 0, end = lineObj.text.length, ltr = true;

    var order = getOrder(lineObj, cm.doc.direction);
    if (order) {
      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)
                   (cm, lineObj, lineNo, preparedMeasure, order, x, y);
      ltr = part.level != 1;
      begin = ltr ? part.from : part.to - 1;
      end = ltr ? part.to : part.from - 1;
    }

    var chAround = null, boxAround = null;
    var ch = findFirst(function (ch) {
      var box = measureCharPrepared(cm, preparedMeasure, ch);
      box.top += widgetHeight; box.bottom += widgetHeight;
      if (!boxIsAfter(box, x, y, false)) { return false }
      if (box.top <= y && box.left <= x) {
        chAround = ch;
        boxAround = box;
      }
      return true
    }, begin, end);

    var baseX, sticky, outside = false;
    if (boxAround) {
      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;
      ch = chAround + (atStart ? 0 : 1);
      sticky = atStart ? "after" : "before";
      baseX = atLeft ? boxAround.left : boxAround.right;
    } else {
      if (!ltr && (ch == end || ch == begin)) { ch++; }
      sticky = ch == 0 ? "after" : ch == lineObj.text.length ? "before" :
        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?
        "after" : "before";
      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), "line", lineObj, preparedMeasure);
      baseX = coords.left;
      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;
    }

    ch = skipExtendingChars(lineObj.text, ch, 1);
    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)
  }

  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {
    var index = findFirst(function (i) {
      var part = order[i], ltr = part.level != 1;
      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? "before" : "after"),
                                     "line", lineObj, preparedMeasure), x, y, true)
    }, 0, order.length - 1);
    var part = order[index];
    if (index > 0) {
      var ltr = part.level != 1;
      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? "after" : "before"),
                               "line", lineObj, preparedMeasure);
      if (boxIsAfter(start, x, y, true) && start.top > y)
        { part = order[index - 1]; }
    }
    return part
  }

  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {
    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);
    var begin = ref.begin;
    var end = ref.end;
    if (/\s/.test(lineObj.text.charAt(end - 1))) { end--; }
    var part = null, closestDist = null;
    for (var i = 0; i < order.length; i++) {
      var p = order[i];
      if (p.from >= end || p.to <= begin) { continue }
      var ltr = p.level != 1;
      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;
      var dist = endX < x ? x - endX + 1e9 : endX - x;
      if (!part || closestDist > dist) {
        part = p;
        closestDist = dist;
      }
    }
    if (!part) { part = order[order.length - 1]; }
    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }
    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }
    return part
  }

  var measureText;
  function textHeight(display) {
    if (display.cachedTextHeight != null) { return display.cachedTextHeight }
    if (measureText == null) {
      measureText = elt("pre", null, "CodeMirror-line-like");
      for (var i = 0; i < 49; ++i) {
        measureText.appendChild(document.createTextNode("x"));
        measureText.appendChild(elt("br"));
      }
      measureText.appendChild(document.createTextNode("x"));
    }
    removeChildrenAndAdd(display.measure, measureText);
    var height = measureText.offsetHeight / 50;
    if (height > 3) { display.cachedTextHeight = height; }
    removeChildren(display.measure);
    return height || 1
  }

  function charWidth(display) {
    if (display.cachedCharWidth != null) { return display.cachedCharWidth }
    var anchor = elt("span", "xxxxxxxxxx");
    var pre = elt("pre", [anchor], "CodeMirror-line-like");
    removeChildrenAndAdd(display.measure, pre);
    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;
    if (width > 2) { display.cachedCharWidth = width; }
    return width || 10
  }

  function getDimensions(cm) {
    var d = cm.display, left = {}, width = {};
    var gutterLeft = d.gutters.clientLeft;
    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {
      var id = cm.display.gutterSpecs[i].className;
      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;
      width[id] = n.clientWidth;
    }
    return {fixedPos: compensateForHScroll(d),
            gutterTotalWidth: d.gutters.offsetWidth,
            gutterLeft: left,
            gutterWidth: width,
            wrapperWidth: d.wrapper.clientWidth}
  }

  function compensateForHScroll(display) {
    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left
  }

  function estimateHeight(cm) {
    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;
    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);
    return function (line) {
      if (lineIsHidden(cm.doc, line)) { return 0 }

      var widgetsHeight = 0;
      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {
        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }
      } }

      if (wrapping)
        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }
      else
        { return widgetsHeight + th }
    }
  }

  function estimateLineHeights(cm) {
    var doc = cm.doc, est = estimateHeight(cm);
    doc.iter(function (line) {
      var estHeight = est(line);
      if (estHeight != line.height) { updateLineHeight(line, estHeight); }
    });
  }

  function posFromMouse(cm, e, liberal, forRect) {
    var display = cm.display;
    if (!liberal && e_target(e).getAttribute("cm-not-content") == "true") { return null }

    var x, y, space = display.lineSpace.getBoundingClientRect();
    try { x = e.clientX - space.left; y = e.clientY - space.top; }
    catch (e$1) { return null }
    var coords = coordsChar(cm, x, y), line;
    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {
      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;
      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));
    }
    return coords
  }

  function findViewIndex(cm, n) {
    if (n >= cm.display.viewTo) { return null }
    n -= cm.display.viewFrom;
    if (n < 0) { return null }
    var view = cm.display.view;
    for (var i = 0; i < view.length; i++) {
      n -= view[i].size;
      if (n < 0) { return i }
    }
  }

  function regChange(cm, from, to, lendiff) {
    if (from == null) { from = cm.doc.first; }
    if (to == null) { to = cm.doc.first + cm.doc.size; }
    if (!lendiff) { lendiff = 0; }

    var display = cm.display;
    if (lendiff && to < display.viewTo &&
        (display.updateLineNumbers == null || display.updateLineNumbers > from))
      { display.updateLineNumbers = from; }

    cm.curOp.viewChanged = true;

    if (from >= display.viewTo) { 
      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)
        { resetView(cm); }
    } else if (to <= display.viewFrom) { 
      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {
        resetView(cm);
      } else {
        display.viewFrom += lendiff;
        display.viewTo += lendiff;
      }
    } else if (from <= display.viewFrom && to >= display.viewTo) { 
      resetView(cm);
    } else if (from <= display.viewFrom) { 
      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);
      if (cut) {
        display.view = display.view.slice(cut.index);
        display.viewFrom = cut.lineN;
        display.viewTo += lendiff;
      } else {
        resetView(cm);
      }
    } else if (to >= display.viewTo) { 
      var cut$1 = viewCuttingPoint(cm, from, from, -1);
      if (cut$1) {
        display.view = display.view.slice(0, cut$1.index);
        display.viewTo = cut$1.lineN;
      } else {
        resetView(cm);
      }
    } else { 
      var cutTop = viewCuttingPoint(cm, from, from, -1);
      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);
      if (cutTop && cutBot) {
        display.view = display.view.slice(0, cutTop.index)
          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))
          .concat(display.view.slice(cutBot.index));
        display.viewTo += lendiff;
      } else {
        resetView(cm);
      }
    }

    var ext = display.externalMeasured;
    if (ext) {
      if (to < ext.lineN)
        { ext.lineN += lendiff; }
      else if (from < ext.lineN + ext.size)
        { display.externalMeasured = null; }
    }
  }

  function regLineChange(cm, line, type) {
    cm.curOp.viewChanged = true;
    var display = cm.display, ext = cm.display.externalMeasured;
    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)
      { display.externalMeasured = null; }

    if (line < display.viewFrom || line >= display.viewTo) { return }
    var lineView = display.view[findViewIndex(cm, line)];
    if (lineView.node == null) { return }
    var arr = lineView.changes || (lineView.changes = []);
    if (indexOf(arr, type) == -1) { arr.push(type); }
  }

  function resetView(cm) {
    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;
    cm.display.view = [];
    cm.display.viewOffset = 0;
  }

  function viewCuttingPoint(cm, oldN, newN, dir) {
    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;
    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)
      { return {index: index, lineN: newN} }
    var n = cm.display.viewFrom;
    for (var i = 0; i < index; i++)
      { n += view[i].size; }
    if (n != oldN) {
      if (dir > 0) {
        if (index == view.length - 1) { return null }
        diff = (n + view[index].size) - oldN;
        index++;
      } else {
        diff = n - oldN;
      }
      oldN += diff; newN += diff;
    }
    while (visualLineNo(cm.doc, newN) != newN) {
      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }
      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;
      index += dir;
    }
    return {index: index, lineN: newN}
  }

  function adjustView(cm, from, to) {
    var display = cm.display, view = display.view;
    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {
      display.view = buildViewArray(cm, from, to);
      display.viewFrom = from;
    } else {
      if (display.viewFrom > from)
        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }
      else if (display.viewFrom < from)
        { display.view = display.view.slice(findViewIndex(cm, from)); }
      display.viewFrom = from;
      if (display.viewTo < to)
        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }
      else if (display.viewTo > to)
        { display.view = display.view.slice(0, findViewIndex(cm, to)); }
    }
    display.viewTo = to;
  }

  function countDirtyView(cm) {
    var view = cm.display.view, dirty = 0;
    for (var i = 0; i < view.length; i++) {
      var lineView = view[i];
      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }
    }
    return dirty
  }

  function updateSelection(cm) {
    cm.display.input.showSelection(cm.display.input.prepareSelection());
  }

  function prepareSelection(cm, primary) {
    if ( primary === void 0 ) primary = true;

    var doc = cm.doc, result = {};
    var curFragment = result.cursors = document.createDocumentFragment();
    var selFragment = result.selection = document.createDocumentFragment();

    var customCursor = cm.options.$customCursor;
    if (customCursor) { primary = true; }
    for (var i = 0; i < doc.sel.ranges.length; i++) {
      if (!primary && i == doc.sel.primIndex) { continue }
      var range = doc.sel.ranges[i];
      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }
      var collapsed = range.empty();
      if (customCursor) {
        var head = customCursor(cm, range);
        if (head) { drawSelectionCursor(cm, head, curFragment); }
      } else if (collapsed || cm.options.showCursorWhenSelecting) {
        drawSelectionCursor(cm, range.head, curFragment);
      }
      if (!collapsed)
        { drawSelectionRange(cm, range, selFragment); }
    }
    return result
  }

  function drawSelectionCursor(cm, head, output) {
    var pos = cursorCoords(cm, head, "div", null, null, !cm.options.singleCursorHeightPerLine);

    var cursor = output.appendChild(elt("div", "\u00a0", "CodeMirror-cursor"));
    cursor.style.left = pos.left + "px";
    cursor.style.top = pos.top + "px";
    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + "px";

    if (/\bcm-fat-cursor\b/.test(cm.getWrapperElement().className)) {
      var charPos = charCoords(cm, head, "div", null, null);
      var width = charPos.right - charPos.left;
      cursor.style.width = (width > 0 ? width : cm.defaultCharWidth()) + "px";
    }

    if (pos.other) {
      var otherCursor = output.appendChild(elt("div", "\u00a0", "CodeMirror-cursor CodeMirror-secondarycursor"));
      otherCursor.style.display = "";
      otherCursor.style.left = pos.other.left + "px";
      otherCursor.style.top = pos.other.top + "px";
      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + "px";
    }
  }

  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }

  function drawSelectionRange(cm, range, output) {
    var display = cm.display, doc = cm.doc;
    var fragment = document.createDocumentFragment();
    var padding = paddingH(cm.display), leftSide = padding.left;
    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;
    var docLTR = doc.direction == "ltr";

    function add(left, top, width, bottom) {
      if (top < 0) { top = 0; }
      top = Math.round(top);
      bottom = Math.round(bottom);
      fragment.appendChild(elt("div", null, "CodeMirror-selected", ("position: absolute; left: " + left + "px;\n                             top: " + top + "px; width: " + (width == null ? rightSide - left : width) + "px;\n                             height: " + (bottom - top) + "px")));
    }

    function drawForLine(line, fromArg, toArg) {
      var lineObj = getLine(doc, line);
      var lineLen = lineObj.text.length;
      var start, end;
      function coords(ch, bias) {
        return charCoords(cm, Pos(line, ch), "div", lineObj, bias)
      }

      function wrapX(pos, dir, side) {
        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);
        var prop = (dir == "ltr") == (side == "after") ? "left" : "right";
        var ch = side == "after" ? extent.begin : extent.end - (/\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);
        return coords(ch, prop)[prop]
      }

      var order = getOrder(lineObj, doc.direction);
      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {
        var ltr = dir == "ltr";
        var fromPos = coords(from, ltr ? "left" : "right");
        var toPos = coords(to - 1, ltr ? "right" : "left");

        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;
        var first = i == 0, last = !order || i == order.length - 1;
        if (toPos.top - fromPos.top <= 3) { 
          var openLeft = (docLTR ? openStart : openEnd) && first;
          var openRight = (docLTR ? openEnd : openStart) && last;
          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;
          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;
          add(left, fromPos.top, right - left, fromPos.bottom);
        } else { 
          var topLeft, topRight, botLeft, botRight;
          if (ltr) {
            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;
            topRight = docLTR ? rightSide : wrapX(from, dir, "before");
            botLeft = docLTR ? leftSide : wrapX(to, dir, "after");
            botRight = docLTR && openEnd && last ? rightSide : toPos.right;
          } else {
            topLeft = !docLTR ? leftSide : wrapX(from, dir, "before");
            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;
            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;
            botRight = !docLTR ? rightSide : wrapX(to, dir, "after");
          }
          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);
          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }
          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);
        }

        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }
        if (cmpCoords(toPos, start) < 0) { start = toPos; }
        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }
        if (cmpCoords(toPos, end) < 0) { end = toPos; }
      });
      return {start: start, end: end}
    }

    var sFrom = range.from(), sTo = range.to();
    if (sFrom.line == sTo.line) {
      drawForLine(sFrom.line, sFrom.ch, sTo.ch);
    } else {
      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);
      var singleVLine = visualLine(fromLine) == visualLine(toLine);
      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;
      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;
      if (singleVLine) {
        if (leftEnd.top < rightStart.top - 2) {
          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);
          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);
        } else {
          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);
        }
      }
      if (leftEnd.bottom < rightStart.top)
        { add(leftSide, leftEnd.bottom, null, rightStart.top); }
    }

    output.appendChild(fragment);
  }

  function restartBlink(cm) {
    if (!cm.state.focused) { return }
    var display = cm.display;
    clearInterval(display.blinker);
    var on = true;
    display.cursorDiv.style.visibility = "";
    if (cm.options.cursorBlinkRate > 0)
      { display.blinker = setInterval(function () {
        if (!cm.hasFocus()) { onBlur(cm); }
        display.cursorDiv.style.visibility = (on = !on) ? "" : "hidden";
      }, cm.options.cursorBlinkRate); }
    else if (cm.options.cursorBlinkRate < 0)
      { display.cursorDiv.style.visibility = "hidden"; }
  }

  function ensureFocus(cm) {
    if (!cm.hasFocus()) {
      cm.display.input.focus();
      if (!cm.state.focused) { onFocus(cm); }
    }
  }

  function delayBlurEvent(cm) {
    cm.state.delayingBlurEvent = true;
    setTimeout(function () { if (cm.state.delayingBlurEvent) {
      cm.state.delayingBlurEvent = false;
      if (cm.state.focused) { onBlur(cm); }
    } }, 100);
  }

  function onFocus(cm, e) {
    if (cm.state.delayingBlurEvent && !cm.state.draggingText) { cm.state.delayingBlurEvent = false; }

    if (cm.options.readOnly == "nocursor") { return }
    if (!cm.state.focused) {
      signal(cm, "focus", cm, e);
      cm.state.focused = true;
      addClass(cm.display.wrapper, "CodeMirror-focused");
      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {
        cm.display.input.reset();
        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } 
      }
      cm.display.input.receivedFocus();
    }
    restartBlink(cm);
  }
  function onBlur(cm, e) {
    if (cm.state.delayingBlurEvent) { return }

    if (cm.state.focused) {
      signal(cm, "blur", cm, e);
      cm.state.focused = false;
      rmClass(cm.display.wrapper, "CodeMirror-focused");
    }
    clearInterval(cm.display.blinker);
    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);
  }

  function updateHeightsInViewport(cm) {
    var display = cm.display;
    var prevBottom = display.lineDiv.offsetTop;
    var viewTop = Math.max(0, display.scroller.getBoundingClientRect().top);
    var oldHeight = display.lineDiv.getBoundingClientRect().top;
    var mustScroll = 0;
    for (var i = 0; i < display.view.length; i++) {
      var cur = display.view[i], wrapping = cm.options.lineWrapping;
      var height = (void 0), width = 0;
      if (cur.hidden) { continue }
      oldHeight += cur.line.height;
      if (ie && ie_version < 8) {
        var bot = cur.node.offsetTop + cur.node.offsetHeight;
        height = bot - prevBottom;
        prevBottom = bot;
      } else {
        var box = cur.node.getBoundingClientRect();
        height = box.bottom - box.top;
        if (!wrapping && cur.text.firstChild)
          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }
      }
      var diff = cur.line.height - height;
      if (diff > .005 || diff < -.005) {
        if (oldHeight < viewTop) { mustScroll -= diff; }
        updateLineHeight(cur.line, height);
        updateWidgetHeight(cur.line);
        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)
          { updateWidgetHeight(cur.rest[j]); } }
      }
      if (width > cm.display.sizerWidth) {
        var chWidth = Math.ceil(width / charWidth(cm.display));
        if (chWidth > cm.display.maxLineLength) {
          cm.display.maxLineLength = chWidth;
          cm.display.maxLine = cur.line;
          cm.display.maxLineChanged = true;
        }
      }
    }
    if (Math.abs(mustScroll) > 2) { display.scroller.scrollTop += mustScroll; }
  }

  function updateWidgetHeight(line) {
    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {
      var w = line.widgets[i], parent = w.node.parentNode;
      if (parent) { w.height = parent.offsetHeight; }
    } }
  }

  function visibleLines(display, doc, viewport) {
    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;
    top = Math.floor(top - paddingTop(display));
    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;

    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);
    if (viewport && viewport.ensure) {
      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;
      if (ensureFrom < from) {
        from = ensureFrom;
        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);
      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {
        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);
        to = ensureTo;
      }
    }
    return {from: from, to: Math.max(to, from + 1)}
  }


  function maybeScrollWindow(cm, rect) {
    if (signalDOMEvent(cm, "scrollCursorIntoView")) { return }

    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;
    var doc = display.wrapper.ownerDocument;
    if (rect.top + box.top < 0) { doScroll = true; }
    else if (rect.bottom + box.top > (doc.defaultView.innerHeight || doc.documentElement.clientHeight)) { doScroll = false; }
    if (doScroll != null && !phantom) {
      var scrollNode = elt("div", "\u200b", null, ("position: absolute;\n                         top: " + (rect.top - display.viewOffset - paddingTop(cm.display)) + "px;\n                         height: " + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + "px;\n                         left: " + (rect.left) + "px; width: " + (Math.max(2, rect.right - rect.left)) + "px;"));
      cm.display.lineSpace.appendChild(scrollNode);
      scrollNode.scrollIntoView(doScroll);
      cm.display.lineSpace.removeChild(scrollNode);
    }
  }

  function scrollPosIntoView(cm, pos, end, margin) {
    if (margin == null) { margin = 0; }
    var rect;
    if (!cm.options.lineWrapping && pos == end) {
      end = pos.sticky == "before" ? Pos(pos.line, pos.ch + 1, "before") : pos;
      pos = pos.ch ? Pos(pos.line, pos.sticky == "before" ? pos.ch - 1 : pos.ch, "after") : pos;
    }
    for (var limit = 0; limit < 5; limit++) {
      var changed = false;
      var coords = cursorCoords(cm, pos);
      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);
      rect = {left: Math.min(coords.left, endCoords.left),
              top: Math.min(coords.top, endCoords.top) - margin,
              right: Math.max(coords.left, endCoords.left),
              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};
      var scrollPos = calculateScrollPos(cm, rect);
      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;
      if (scrollPos.scrollTop != null) {
        updateScrollTop(cm, scrollPos.scrollTop);
        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }
      }
      if (scrollPos.scrollLeft != null) {
        setScrollLeft(cm, scrollPos.scrollLeft);
        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }
      }
      if (!changed) { break }
    }
    return rect
  }

  function scrollIntoView(cm, rect) {
    var scrollPos = calculateScrollPos(cm, rect);
    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }
    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }
  }

  function calculateScrollPos(cm, rect) {
    var display = cm.display, snapMargin = textHeight(cm.display);
    if (rect.top < 0) { rect.top = 0; }
    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;
    var screen = displayHeight(cm), result = {};
    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }
    var docBottom = cm.doc.height + paddingVert(display);
    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;
    if (rect.top < screentop) {
      result.scrollTop = atTop ? 0 : rect.top;
    } else if (rect.bottom > screentop + screen) {
      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);
      if (newTop != screentop) { result.scrollTop = newTop; }
    }

    var gutterSpace = cm.options.fixedGutter ? 0 : display.gutters.offsetWidth;
    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft - gutterSpace;
    var screenw = displayWidth(cm) - display.gutters.offsetWidth;
    var tooWide = rect.right - rect.left > screenw;
    if (tooWide) { rect.right = rect.left + screenw; }
    if (rect.left < 10)
      { result.scrollLeft = 0; }
    else if (rect.left < screenleft)
      { result.scrollLeft = Math.max(0, rect.left + gutterSpace - (tooWide ? 0 : 10)); }
    else if (rect.right > screenw + screenleft - 3)
      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }
    return result
  }

  function addToScrollTop(cm, top) {
    if (top == null) { return }
    resolveScrollToPos(cm);
    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;
  }

  function ensureCursorVisible(cm) {
    resolveScrollToPos(cm);
    var cur = cm.getCursor();
    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};
  }

  function scrollToCoords(cm, x, y) {
    if (x != null || y != null) { resolveScrollToPos(cm); }
    if (x != null) { cm.curOp.scrollLeft = x; }
    if (y != null) { cm.curOp.scrollTop = y; }
  }

  function scrollToRange(cm, range) {
    resolveScrollToPos(cm);
    cm.curOp.scrollToPos = range;
  }

  function resolveScrollToPos(cm) {
    var range = cm.curOp.scrollToPos;
    if (range) {
      cm.curOp.scrollToPos = null;
      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);
      scrollToCoordsRange(cm, from, to, range.margin);
    }
  }

  function scrollToCoordsRange(cm, from, to, margin) {
    var sPos = calculateScrollPos(cm, {
      left: Math.min(from.left, to.left),
      top: Math.min(from.top, to.top) - margin,
      right: Math.max(from.right, to.right),
      bottom: Math.max(from.bottom, to.bottom) + margin
    });
    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);
  }

  function updateScrollTop(cm, val) {
    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }
    if (!gecko) { updateDisplaySimple(cm, {top: val}); }
    setScrollTop(cm, val, true);
    if (gecko) { updateDisplaySimple(cm); }
    startWorker(cm, 100);
  }

  function setScrollTop(cm, val, forceScroll) {
    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));
    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }
    cm.doc.scrollTop = val;
    cm.display.scrollbars.setScrollTop(val);
    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }
  }

  function setScrollLeft(cm, val, isScroller, forceScroll) {
    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));
    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }
    cm.doc.scrollLeft = val;
    alignHorizontally(cm);
    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }
    cm.display.scrollbars.setScrollLeft(val);
  }


  function measureForScrollbars(cm) {
    var d = cm.display, gutterW = d.gutters.offsetWidth;
    var docH = Math.round(cm.doc.height + paddingVert(cm.display));
    return {
      clientHeight: d.scroller.clientHeight,
      viewHeight: d.wrapper.clientHeight,
      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,
      viewWidth: d.wrapper.clientWidth,
      barLeft: cm.options.fixedGutter ? gutterW : 0,
      docHeight: docH,
      scrollHeight: docH + scrollGap(cm) + d.barHeight,
      nativeBarWidth: d.nativeBarWidth,
      gutterWidth: gutterW
    }
  }

  var NativeScrollbars = function(place, scroll, cm) {
    this.cm = cm;
    var vert = this.vert = elt("div", [elt("div", null, null, "min-width: 1px")], "CodeMirror-vscrollbar");
    var horiz = this.horiz = elt("div", [elt("div", null, null, "height: 100%; min-height: 1px")], "CodeMirror-hscrollbar");
    vert.tabIndex = horiz.tabIndex = -1;
    place(vert); place(horiz);

    on(vert, "scroll", function () {
      if (vert.clientHeight) { scroll(vert.scrollTop, "vertical"); }
    });
    on(horiz, "scroll", function () {
      if (horiz.clientWidth) { scroll(horiz.scrollLeft, "horizontal"); }
    });

    this.checkedZeroWidth = false;
    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = "18px"; }
  };

  NativeScrollbars.prototype.update = function (measure) {
    var needsH = measure.scrollWidth > measure.clientWidth + 1;
    var needsV = measure.scrollHeight > measure.clientHeight + 1;
    var sWidth = measure.nativeBarWidth;

    if (needsV) {
      this.vert.style.display = "block";
      this.vert.style.bottom = needsH ? sWidth + "px" : "0";
      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);
      this.vert.firstChild.style.height =
        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + "px";
    } else {
      this.vert.scrollTop = 0;
      this.vert.style.display = "";
      this.vert.firstChild.style.height = "0";
    }

    if (needsH) {
      this.horiz.style.display = "block";
      this.horiz.style.right = needsV ? sWidth + "px" : "0";
      this.horiz.style.left = measure.barLeft + "px";
      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);
      this.horiz.firstChild.style.width =
        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + "px";
    } else {
      this.horiz.style.display = "";
      this.horiz.firstChild.style.width = "0";
    }

    if (!this.checkedZeroWidth && measure.clientHeight > 0) {
      if (sWidth == 0) { this.zeroWidthHack(); }
      this.checkedZeroWidth = true;
    }

    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}
  };

  NativeScrollbars.prototype.setScrollLeft = function (pos) {
    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }
    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, "horiz"); }
  };

  NativeScrollbars.prototype.setScrollTop = function (pos) {
    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }
    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, "vert"); }
  };

  NativeScrollbars.prototype.zeroWidthHack = function () {
    var w = mac && !mac_geMountainLion ? "12px" : "18px";
    this.horiz.style.height = this.vert.style.width = w;
    this.horiz.style.visibility = this.vert.style.visibility = "hidden";
    this.disableHoriz = new Delayed;
    this.disableVert = new Delayed;
  };

  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {
    bar.style.visibility = "";
    function maybeDisable() {
      var box = bar.getBoundingClientRect();
      var elt = type == "vert" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)
          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);
      if (elt != bar) { bar.style.visibility = "hidden"; }
      else { delay.set(1000, maybeDisable); }
    }
    delay.set(1000, maybeDisable);
  };

  NativeScrollbars.prototype.clear = function () {
    var parent = this.horiz.parentNode;
    parent.removeChild(this.horiz);
    parent.removeChild(this.vert);
  };

  var NullScrollbars = function () {};

  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };
  NullScrollbars.prototype.setScrollLeft = function () {};
  NullScrollbars.prototype.setScrollTop = function () {};
  NullScrollbars.prototype.clear = function () {};

  function updateScrollbars(cm, measure) {
    if (!measure) { measure = measureForScrollbars(cm); }
    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;
    updateScrollbarsInner(cm, measure);
    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {
      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)
        { updateHeightsInViewport(cm); }
      updateScrollbarsInner(cm, measureForScrollbars(cm));
      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;
    }
  }

  function updateScrollbarsInner(cm, measure) {
    var d = cm.display;
    var sizes = d.scrollbars.update(measure);

    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + "px";
    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + "px";
    d.heightForcer.style.borderBottom = sizes.bottom + "px solid transparent";

    if (sizes.right && sizes.bottom) {
      d.scrollbarFiller.style.display = "block";
      d.scrollbarFiller.style.height = sizes.bottom + "px";
      d.scrollbarFiller.style.width = sizes.right + "px";
    } else { d.scrollbarFiller.style.display = ""; }
    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {
      d.gutterFiller.style.display = "block";
      d.gutterFiller.style.height = sizes.bottom + "px";
      d.gutterFiller.style.width = measure.gutterWidth + "px";
    } else { d.gutterFiller.style.display = ""; }
  }

  var scrollbarModel = {"native": NativeScrollbars, "null": NullScrollbars};

  function initScrollbars(cm) {
    if (cm.display.scrollbars) {
      cm.display.scrollbars.clear();
      if (cm.display.scrollbars.addClass)
        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }
    }

    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {
      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);
      on(node, "mousedown", function () {
        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }
      });
      node.setAttribute("cm-not-content", "true");
    }, function (pos, axis) {
      if (axis == "horizontal") { setScrollLeft(cm, pos); }
      else { updateScrollTop(cm, pos); }
    }, cm);
    if (cm.display.scrollbars.addClass)
      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }
  }


  var nextOpId = 0;
  function startOperation(cm) {
    cm.curOp = {
      cm: cm,
      viewChanged: false,      
      startHeight: cm.doc.height, 
      forceUpdate: false,      
      updateInput: 0,       
      typing: false,           
      changeObjs: null,        
      cursorActivityHandlers: null, 
      cursorActivityCalled: 0, 
      selectionChanged: false, 
      updateMaxLine: false,    
      scrollLeft: null, scrollTop: null, 
      scrollToPos: null,       
      focus: false,
      id: ++nextOpId,          
      markArrays: null         
    };
    pushOperation(cm.curOp);
  }

  function endOperation(cm) {
    var op = cm.curOp;
    if (op) { finishOperation(op, function (group) {
      for (var i = 0; i < group.ops.length; i++)
        { group.ops[i].cm.curOp = null; }
      endOperations(group);
    }); }
  }

  function endOperations(group) {
    var ops = group.ops;
    for (var i = 0; i < ops.length; i++) 
      { endOperation_R1(ops[i]); }
    for (var i$1 = 0; i$1 < ops.length; i$1++) 
      { endOperation_W1(ops[i$1]); }
    for (var i$2 = 0; i$2 < ops.length; i$2++) 
      { endOperation_R2(ops[i$2]); }
    for (var i$3 = 0; i$3 < ops.length; i$3++) 
      { endOperation_W2(ops[i$3]); }
    for (var i$4 = 0; i$4 < ops.length; i$4++) 
      { endOperation_finish(ops[i$4]); }
  }

  function endOperation_R1(op) {
    var cm = op.cm, display = cm.display;
    maybeClipScrollbars(cm);
    if (op.updateMaxLine) { findMaxLine(cm); }

    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||
      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||
                         op.scrollToPos.to.line >= display.viewTo) ||
      display.maxLineChanged && cm.options.lineWrapping;
    op.update = op.mustUpdate &&
      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);
  }

  function endOperation_W1(op) {
    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);
  }

  function endOperation_R2(op) {
    var cm = op.cm, display = cm.display;
    if (op.updatedDisplay) { updateHeightsInViewport(cm); }

    op.barMeasure = measureForScrollbars(cm);

    if (display.maxLineChanged && !cm.options.lineWrapping) {
      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;
      cm.display.sizerWidth = op.adjustWidthTo;
      op.barMeasure.scrollWidth =
        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);
      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));
    }

    if (op.updatedDisplay || op.selectionChanged)
      { op.preparedSelection = display.input.prepareSelection(); }
  }

  function endOperation_W2(op) {
    var cm = op.cm;

    if (op.adjustWidthTo != null) {
      cm.display.sizer.style.minWidth = op.adjustWidthTo + "px";
      if (op.maxScrollLeft < cm.doc.scrollLeft)
        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }
      cm.display.maxLineChanged = false;
    }

    var takeFocus = op.focus && op.focus == activeElt(doc(cm));
    if (op.preparedSelection)
      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }
    if (op.updatedDisplay || op.startHeight != cm.doc.height)
      { updateScrollbars(cm, op.barMeasure); }
    if (op.updatedDisplay)
      { setDocumentHeight(cm, op.barMeasure); }

    if (op.selectionChanged) { restartBlink(cm); }

    if (cm.state.focused && op.updateInput)
      { cm.display.input.reset(op.typing); }
    if (takeFocus) { ensureFocus(op.cm); }
  }

  function endOperation_finish(op) {
    var cm = op.cm, display = cm.display, doc = cm.doc;

    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }

    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))
      { display.wheelStartX = display.wheelStartY = null; }

    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }

    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }
    if (op.scrollToPos) {
      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),
                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);
      maybeScrollWindow(cm, rect);
    }

    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;
    if (hidden) { for (var i = 0; i < hidden.length; ++i)
      { if (!hidden[i].lines.length) { signal(hidden[i], "hide"); } } }
    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)
      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], "unhide"); } } }

    if (display.wrapper.offsetHeight)
      { doc.scrollTop = cm.display.scroller.scrollTop; }

    if (op.changeObjs)
      { signal(cm, "changes", cm, op.changeObjs); }
    if (op.update)
      { op.update.finish(); }
  }

  function runInOp(cm, f) {
    if (cm.curOp) { return f() }
    startOperation(cm);
    try { return f() }
    finally { endOperation(cm); }
  }
  function operation(cm, f) {
    return function() {
      if (cm.curOp) { return f.apply(cm, arguments) }
      startOperation(cm);
      try { return f.apply(cm, arguments) }
      finally { endOperation(cm); }
    }
  }
  function methodOp(f) {
    return function() {
      if (this.curOp) { return f.apply(this, arguments) }
      startOperation(this);
      try { return f.apply(this, arguments) }
      finally { endOperation(this); }
    }
  }
  function docMethodOp(f) {
    return function() {
      var cm = this.cm;
      if (!cm || cm.curOp) { return f.apply(this, arguments) }
      startOperation(cm);
      try { return f.apply(this, arguments) }
      finally { endOperation(cm); }
    }
  }


  function startWorker(cm, time) {
    if (cm.doc.highlightFrontier < cm.display.viewTo)
      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }
  }

  function highlightWorker(cm) {
    var doc = cm.doc;
    if (doc.highlightFrontier >= cm.display.viewTo) { return }
    var end = +new Date + cm.options.workTime;
    var context = getContextBefore(cm, doc.highlightFrontier);
    var changedLines = [];

    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {
      if (context.line >= cm.display.viewFrom) { 
        var oldStyles = line.styles;
        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;
        var highlighted = highlightLine(cm, line, context, true);
        if (resetState) { context.state = resetState; }
        line.styles = highlighted.styles;
        var oldCls = line.styleClasses, newCls = highlighted.classes;
        if (newCls) { line.styleClasses = newCls; }
        else if (oldCls) { line.styleClasses = null; }
        var ischange = !oldStyles || oldStyles.length != line.styles.length ||
          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);
        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }
        if (ischange) { changedLines.push(context.line); }
        line.stateAfter = context.save();
        context.nextLine();
      } else {
        if (line.text.length <= cm.options.maxHighlightLength)
          { processLine(cm, line.text, context); }
        line.stateAfter = context.line % 5 == 0 ? context.save() : null;
        context.nextLine();
      }
      if (+new Date > end) {
        startWorker(cm, cm.options.workDelay);
        return true
      }
    });
    doc.highlightFrontier = context.line;
    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);
    if (changedLines.length) { runInOp(cm, function () {
      for (var i = 0; i < changedLines.length; i++)
        { regLineChange(cm, changedLines[i], "text"); }
    }); }
  }


  var DisplayUpdate = function(cm, viewport, force) {
    var display = cm.display;

    this.viewport = viewport;
    this.visible = visibleLines(display, cm.doc, viewport);
    this.editorIsHidden = !display.wrapper.offsetWidth;
    this.wrapperHeight = display.wrapper.clientHeight;
    this.wrapperWidth = display.wrapper.clientWidth;
    this.oldDisplayWidth = displayWidth(cm);
    this.force = force;
    this.dims = getDimensions(cm);
    this.events = [];
  };

  DisplayUpdate.prototype.signal = function (emitter, type) {
    if (hasHandler(emitter, type))
      { this.events.push(arguments); }
  };
  DisplayUpdate.prototype.finish = function () {
    for (var i = 0; i < this.events.length; i++)
      { signal.apply(null, this.events[i]); }
  };

  function maybeClipScrollbars(cm) {
    var display = cm.display;
    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {
      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;
      display.heightForcer.style.height = scrollGap(cm) + "px";
      display.sizer.style.marginBottom = -display.nativeBarWidth + "px";
      display.sizer.style.borderRightWidth = scrollGap(cm) + "px";
      display.scrollbarsClipped = true;
    }
  }

  function selectionSnapshot(cm) {
    if (cm.hasFocus()) { return null }
    var active = activeElt(doc(cm));
    if (!active || !contains(cm.display.lineDiv, active)) { return null }
    var result = {activeElt: active};
    if (window.getSelection) {
      var sel = win(cm).getSelection();
      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {
        result.anchorNode = sel.anchorNode;
        result.anchorOffset = sel.anchorOffset;
        result.focusNode = sel.focusNode;
        result.focusOffset = sel.focusOffset;
      }
    }
    return result
  }

  function restoreSelection(snapshot) {
    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt(snapshot.activeElt.ownerDocument)) { return }
    snapshot.activeElt.focus();
    if (!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName) &&
        snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {
      var doc = snapshot.activeElt.ownerDocument;
      var sel = doc.defaultView.getSelection(), range = doc.createRange();
      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);
      range.collapse(false);
      sel.removeAllRanges();
      sel.addRange(range);
      sel.extend(snapshot.focusNode, snapshot.focusOffset);
    }
  }

  function updateDisplayIfNeeded(cm, update) {
    var display = cm.display, doc = cm.doc;

    if (update.editorIsHidden) {
      resetView(cm);
      return false
    }

    if (!update.force &&
        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&
        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&
        display.renderedView == display.view && countDirtyView(cm) == 0)
      { return false }

    if (maybeUpdateLineNumberWidth(cm)) {
      resetView(cm);
      update.dims = getDimensions(cm);
    }

    var end = doc.first + doc.size;
    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);
    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);
    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }
    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }
    if (sawCollapsedSpans) {
      from = visualLineNo(cm.doc, from);
      to = visualLineEndNo(cm.doc, to);
    }

    var different = from != display.viewFrom || to != display.viewTo ||
      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;
    adjustView(cm, from, to);

    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));
    cm.display.mover.style.top = display.viewOffset + "px";

    var toUpdate = countDirtyView(cm);
    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&
        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))
      { return false }

    var selSnapshot = selectionSnapshot(cm);
    if (toUpdate > 4) { display.lineDiv.style.display = "none"; }
    patchDisplay(cm, display.updateLineNumbers, update.dims);
    if (toUpdate > 4) { display.lineDiv.style.display = ""; }
    display.renderedView = display.view;
    restoreSelection(selSnapshot);

    removeChildren(display.cursorDiv);
    removeChildren(display.selectionDiv);
    display.gutters.style.height = display.sizer.style.minHeight = 0;

    if (different) {
      display.lastWrapHeight = update.wrapperHeight;
      display.lastWrapWidth = update.wrapperWidth;
      startWorker(cm, 400);
    }

    display.updateLineNumbers = null;

    return true
  }

  function postUpdateDisplay(cm, update) {
    var viewport = update.viewport;

    for (var first = true;; first = false) {
      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {
        if (viewport && viewport.top != null)
          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }
        update.visible = visibleLines(cm.display, cm.doc, viewport);
        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)
          { break }
      } else if (first) {
        update.visible = visibleLines(cm.display, cm.doc, viewport);
      }
      if (!updateDisplayIfNeeded(cm, update)) { break }
      updateHeightsInViewport(cm);
      var barMeasure = measureForScrollbars(cm);
      updateSelection(cm);
      updateScrollbars(cm, barMeasure);
      setDocumentHeight(cm, barMeasure);
      update.force = false;
    }

    update.signal(cm, "update", cm);
    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {
      update.signal(cm, "viewportChange", cm, cm.display.viewFrom, cm.display.viewTo);
      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;
    }
  }

  function updateDisplaySimple(cm, viewport) {
    var update = new DisplayUpdate(cm, viewport);
    if (updateDisplayIfNeeded(cm, update)) {
      updateHeightsInViewport(cm);
      postUpdateDisplay(cm, update);
      var barMeasure = measureForScrollbars(cm);
      updateSelection(cm);
      updateScrollbars(cm, barMeasure);
      setDocumentHeight(cm, barMeasure);
      update.finish();
    }
  }

  function patchDisplay(cm, updateNumbersFrom, dims) {
    var display = cm.display, lineNumbers = cm.options.lineNumbers;
    var container = display.lineDiv, cur = container.firstChild;

    function rm(node) {
      var next = node.nextSibling;
      if (webkit && mac && cm.display.currentWheelTarget == node)
        { node.style.display = "none"; }
      else
        { node.parentNode.removeChild(node); }
      return next
    }

    var view = display.view, lineN = display.viewFrom;
    for (var i = 0; i < view.length; i++) {
      var lineView = view[i];
      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { 
        var node = buildLineElement(cm, lineView, lineN, dims);
        container.insertBefore(node, cur);
      } else { 
        while (cur != lineView.node) { cur = rm(cur); }
        var updateNumber = lineNumbers && updateNumbersFrom != null &&
          updateNumbersFrom <= lineN && lineView.lineNumber;
        if (lineView.changes) {
          if (indexOf(lineView.changes, "gutter") > -1) { updateNumber = false; }
          updateLineForChanges(cm, lineView, lineN, dims);
        }
        if (updateNumber) {
          removeChildren(lineView.lineNumber);
          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));
        }
        cur = lineView.node.nextSibling;
      }
      lineN += lineView.size;
    }
    while (cur) { cur = rm(cur); }
  }

  function updateGutterSpace(display) {
    var width = display.gutters.offsetWidth;
    display.sizer.style.marginLeft = width + "px";
    signalLater(display, "gutterChanged", display);
  }

  function setDocumentHeight(cm, measure) {
    cm.display.sizer.style.minHeight = measure.docHeight + "px";
    cm.display.heightForcer.style.top = measure.docHeight + "px";
    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + "px";
  }

  function alignHorizontally(cm) {
    var display = cm.display, view = display.view;
    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }
    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;
    var gutterW = display.gutters.offsetWidth, left = comp + "px";
    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {
      if (cm.options.fixedGutter) {
        if (view[i].gutter)
          { view[i].gutter.style.left = left; }
        if (view[i].gutterBackground)
          { view[i].gutterBackground.style.left = left; }
      }
      var align = view[i].alignable;
      if (align) { for (var j = 0; j < align.length; j++)
        { align[j].style.left = left; } }
    } }
    if (cm.options.fixedGutter)
      { display.gutters.style.left = (comp + gutterW) + "px"; }
  }

  function maybeUpdateLineNumberWidth(cm) {
    if (!cm.options.lineNumbers) { return false }
    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;
    if (last.length != display.lineNumChars) {
      var test = display.measure.appendChild(elt("div", [elt("div", last)],
                                                 "CodeMirror-linenumber CodeMirror-gutter-elt"));
      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;
      display.lineGutter.style.width = "";
      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;
      display.lineNumWidth = display.lineNumInnerWidth + padding;
      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;
      display.lineGutter.style.width = display.lineNumWidth + "px";
      updateGutterSpace(cm.display);
      return true
    }
    return false
  }

  function getGutters(gutters, lineNumbers) {
    var result = [], sawLineNumbers = false;
    for (var i = 0; i < gutters.length; i++) {
      var name = gutters[i], style = null;
      if (typeof name != "string") { style = name.style; name = name.className; }
      if (name == "CodeMirror-linenumbers") {
        if (!lineNumbers) { continue }
        else { sawLineNumbers = true; }
      }
      result.push({className: name, style: style});
    }
    if (lineNumbers && !sawLineNumbers) { result.push({className: "CodeMirror-linenumbers", style: null}); }
    return result
  }

  function renderGutters(display) {
    var gutters = display.gutters, specs = display.gutterSpecs;
    removeChildren(gutters);
    display.lineGutter = null;
    for (var i = 0; i < specs.length; ++i) {
      var ref = specs[i];
      var className = ref.className;
      var style = ref.style;
      var gElt = gutters.appendChild(elt("div", null, "CodeMirror-gutter " + className));
      if (style) { gElt.style.cssText = style; }
      if (className == "CodeMirror-linenumbers") {
        display.lineGutter = gElt;
        gElt.style.width = (display.lineNumWidth || 1) + "px";
      }
    }
    gutters.style.display = specs.length ? "" : "none";
    updateGutterSpace(display);
  }

  function updateGutters(cm) {
    renderGutters(cm.display);
    regChange(cm);
    alignHorizontally(cm);
  }


  function Display(place, doc, input, options) {
    var d = this;
    this.input = input;

    d.scrollbarFiller = elt("div", null, "CodeMirror-scrollbar-filler");
    d.scrollbarFiller.setAttribute("cm-not-content", "true");
    d.gutterFiller = elt("div", null, "CodeMirror-gutter-filler");
    d.gutterFiller.setAttribute("cm-not-content", "true");
    d.lineDiv = eltP("div", null, "CodeMirror-code");
    d.selectionDiv = elt("div", null, null, "position: relative; z-index: 1");
    d.cursorDiv = elt("div", null, "CodeMirror-cursors");
    d.measure = elt("div", null, "CodeMirror-measure");
    d.lineMeasure = elt("div", null, "CodeMirror-measure");
    d.lineSpace = eltP("div", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],
                      null, "position: relative; outline: none");
    var lines = eltP("div", [d.lineSpace], "CodeMirror-lines");
    d.mover = elt("div", [lines], null, "position: relative");
    d.sizer = elt("div", [d.mover], "CodeMirror-sizer");
    d.sizerWidth = null;
    d.heightForcer = elt("div", null, null, "position: absolute; height: " + scrollerGap + "px; width: 1px;");
    d.gutters = elt("div", null, "CodeMirror-gutters");
    d.lineGutter = null;
    d.scroller = elt("div", [d.sizer, d.heightForcer, d.gutters], "CodeMirror-scroll");
    d.scroller.setAttribute("tabIndex", "-1");
    d.wrapper = elt("div", [d.scrollbarFiller, d.gutterFiller, d.scroller], "CodeMirror");

    d.wrapper.setAttribute('translate', 'no');

    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }
    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }

    if (place) {
      if (place.appendChild) { place.appendChild(d.wrapper); }
      else { place(d.wrapper); }
    }

    d.viewFrom = d.viewTo = doc.first;
    d.reportedViewFrom = d.reportedViewTo = doc.first;
    d.view = [];
    d.renderedView = null;
    d.externalMeasured = null;
    d.viewOffset = 0;
    d.lastWrapHeight = d.lastWrapWidth = 0;
    d.updateLineNumbers = null;

    d.nativeBarWidth = d.barHeight = d.barWidth = 0;
    d.scrollbarsClipped = false;

    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;
    d.alignWidgets = false;

    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;

    d.maxLine = null;
    d.maxLineLength = 0;
    d.maxLineChanged = false;

    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;

    d.shift = false;

    d.selForContextMenu = null;

    d.activeTouch = null;

    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);
    renderGutters(d);

    input.init(d);
  }


  var wheelSamples = 0, wheelPixelsPerUnit = null;
  if (ie) { wheelPixelsPerUnit = -.53; }
  else if (gecko) { wheelPixelsPerUnit = 15; }
  else if (chrome) { wheelPixelsPerUnit = -.7; }
  else if (safari) { wheelPixelsPerUnit = -1/3; }

  function wheelEventDelta(e) {
    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;
    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }
    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }
    else if (dy == null) { dy = e.wheelDelta; }
    return {x: dx, y: dy}
  }
  function wheelEventPixels(e) {
    var delta = wheelEventDelta(e);
    delta.x *= wheelPixelsPerUnit;
    delta.y *= wheelPixelsPerUnit;
    return delta
  }

  function onScrollWheel(cm, e) {
    if (chrome && chrome_version == 102) {
      if (cm.display.chromeScrollHack == null) { cm.display.sizer.style.pointerEvents = "none"; }
      else { clearTimeout(cm.display.chromeScrollHack); }
      cm.display.chromeScrollHack = setTimeout(function () {
        cm.display.chromeScrollHack = null;
        cm.display.sizer.style.pointerEvents = "";
      }, 100);
    }
    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;
    var pixelsPerUnit = wheelPixelsPerUnit;
    if (e.deltaMode === 0) {
      dx = e.deltaX;
      dy = e.deltaY;
      pixelsPerUnit = 1;
    }

    var display = cm.display, scroll = display.scroller;
    var canScrollX = scroll.scrollWidth > scroll.clientWidth;
    var canScrollY = scroll.scrollHeight > scroll.clientHeight;
    if (!(dx && canScrollX || dy && canScrollY)) { return }

    if (dy && mac && webkit) {
      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {
        for (var i = 0; i < view.length; i++) {
          if (view[i].node == cur) {
            cm.display.currentWheelTarget = cur;
            break outer
          }
        }
      }
    }

    if (dx && !gecko && !presto && pixelsPerUnit != null) {
      if (dy && canScrollY)
        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * pixelsPerUnit)); }
      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * pixelsPerUnit));
      if (!dy || (dy && canScrollY))
        { e_preventDefault(e); }
      display.wheelStartX = null; 
      return
    }

    if (dy && pixelsPerUnit != null) {
      var pixels = dy * pixelsPerUnit;
      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;
      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }
      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }
      updateDisplaySimple(cm, {top: top, bottom: bot});
    }

    if (wheelSamples < 20 && e.deltaMode !== 0) {
      if (display.wheelStartX == null) {
        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;
        display.wheelDX = dx; display.wheelDY = dy;
        setTimeout(function () {
          if (display.wheelStartX == null) { return }
          var movedX = scroll.scrollLeft - display.wheelStartX;
          var movedY = scroll.scrollTop - display.wheelStartY;
          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||
            (movedX && display.wheelDX && movedX / display.wheelDX);
          display.wheelStartX = display.wheelStartY = null;
          if (!sample) { return }
          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);
          ++wheelSamples;
        }, 200);
      } else {
        display.wheelDX += dx; display.wheelDY += dy;
      }
    }
  }

  var Selection = function(ranges, primIndex) {
    this.ranges = ranges;
    this.primIndex = primIndex;
  };

  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };

  Selection.prototype.equals = function (other) {
    if (other == this) { return true }
    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }
    for (var i = 0; i < this.ranges.length; i++) {
      var here = this.ranges[i], there = other.ranges[i];
      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }
    }
    return true
  };

  Selection.prototype.deepCopy = function () {
    var out = [];
    for (var i = 0; i < this.ranges.length; i++)
      { out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head)); }
    return new Selection(out, this.primIndex)
  };

  Selection.prototype.somethingSelected = function () {
    for (var i = 0; i < this.ranges.length; i++)
      { if (!this.ranges[i].empty()) { return true } }
    return false
  };

  Selection.prototype.contains = function (pos, end) {
    if (!end) { end = pos; }
    for (var i = 0; i < this.ranges.length; i++) {
      var range = this.ranges[i];
      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)
        { return i }
    }
    return -1
  };

  var Range = function(anchor, head) {
    this.anchor = anchor; this.head = head;
  };

  Range.prototype.from = function () { return minPos(this.anchor, this.head) };
  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };
  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };

  function normalizeSelection(cm, ranges, primIndex) {
    var mayTouch = cm && cm.options.selectionsMayTouch;
    var prim = ranges[primIndex];
    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });
    primIndex = indexOf(ranges, prim);
    for (var i = 1; i < ranges.length; i++) {
      var cur = ranges[i], prev = ranges[i - 1];
      var diff = cmp(prev.to(), cur.from());
      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {
        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());
        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;
        if (i <= primIndex) { --primIndex; }
        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));
      }
    }
    return new Selection(ranges, primIndex)
  }

  function simpleSelection(anchor, head) {
    return new Selection([new Range(anchor, head || anchor)], 0)
  }

  function changeEnd(change) {
    if (!change.text) { return change.to }
    return Pos(change.from.line + change.text.length - 1,
               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))
  }

  function adjustForChange(pos, change) {
    if (cmp(pos, change.from) < 0) { return pos }
    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }

    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;
    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }
    return Pos(line, ch)
  }

  function computeSelAfterChange(doc, change) {
    var out = [];
    for (var i = 0; i < doc.sel.ranges.length; i++) {
      var range = doc.sel.ranges[i];
      out.push(new Range(adjustForChange(range.anchor, change),
                         adjustForChange(range.head, change)));
    }
    return normalizeSelection(doc.cm, out, doc.sel.primIndex)
  }

  function offsetPos(pos, old, nw) {
    if (pos.line == old.line)
      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }
    else
      { return Pos(nw.line + (pos.line - old.line), pos.ch) }
  }

  function computeReplacedSel(doc, changes, hint) {
    var out = [];
    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;
    for (var i = 0; i < changes.length; i++) {
      var change = changes[i];
      var from = offsetPos(change.from, oldPrev, newPrev);
      var to = offsetPos(changeEnd(change), oldPrev, newPrev);
      oldPrev = change.to;
      newPrev = to;
      if (hint == "around") {
        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;
        out[i] = new Range(inv ? to : from, inv ? from : to);
      } else {
        out[i] = new Range(from, from);
      }
    }
    return new Selection(out, doc.sel.primIndex)
  }


  function loadMode(cm) {
    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);
    resetModeState(cm);
  }

  function resetModeState(cm) {
    cm.doc.iter(function (line) {
      if (line.stateAfter) { line.stateAfter = null; }
      if (line.styles) { line.styles = null; }
    });
    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;
    startWorker(cm, 100);
    cm.state.modeGen++;
    if (cm.curOp) { regChange(cm); }
  }


  function isWholeLineUpdate(doc, change) {
    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == "" &&
      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)
  }

  function updateDoc(doc, change, markedSpans, estimateHeight) {
    function spansFor(n) {return markedSpans ? markedSpans[n] : null}
    function update(line, text, spans) {
      updateLine(line, text, spans, estimateHeight);
      signalLater(line, "change", line, change);
    }
    function linesFor(start, end) {
      var result = [];
      for (var i = start; i < end; ++i)
        { result.push(new Line(text[i], spansFor(i), estimateHeight)); }
      return result
    }

    var from = change.from, to = change.to, text = change.text;
    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);
    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;

    if (change.full) {
      doc.insert(0, linesFor(0, text.length));
      doc.remove(text.length, doc.size - text.length);
    } else if (isWholeLineUpdate(doc, change)) {
      var added = linesFor(0, text.length - 1);
      update(lastLine, lastLine.text, lastSpans);
      if (nlines) { doc.remove(from.line, nlines); }
      if (added.length) { doc.insert(from.line, added); }
    } else if (firstLine == lastLine) {
      if (text.length == 1) {
        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);
      } else {
        var added$1 = linesFor(1, text.length - 1);
        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));
        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));
        doc.insert(from.line + 1, added$1);
      }
    } else if (text.length == 1) {
      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));
      doc.remove(from.line + 1, nlines);
    } else {
      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));
      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);
      var added$2 = linesFor(1, text.length - 1);
      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }
      doc.insert(from.line + 1, added$2);
    }

    signalLater(doc, "change", doc, change);
  }

  function linkedDocs(doc, f, sharedHistOnly) {
    function propagate(doc, skip, sharedHist) {
      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {
        var rel = doc.linked[i];
        if (rel.doc == skip) { continue }
        var shared = sharedHist && rel.sharedHist;
        if (sharedHistOnly && !shared) { continue }
        f(rel.doc, shared);
        propagate(rel.doc, doc, shared);
      } }
    }
    propagate(doc, null, true);
  }

  function attachDoc(cm, doc) {
    if (doc.cm) { throw new Error("This document is already in use.") }
    cm.doc = doc;
    doc.cm = cm;
    estimateLineHeights(cm);
    loadMode(cm);
    setDirectionClass(cm);
    cm.options.direction = doc.direction;
    if (!cm.options.lineWrapping) { findMaxLine(cm); }
    cm.options.mode = doc.modeOption;
    regChange(cm);
  }

  function setDirectionClass(cm) {
  (cm.doc.direction == "rtl" ? addClass : rmClass)(cm.display.lineDiv, "CodeMirror-rtl");
  }

  function directionChanged(cm) {
    runInOp(cm, function () {
      setDirectionClass(cm);
      regChange(cm);
    });
  }

  function History(prev) {
    this.done = []; this.undone = [];
    this.undoDepth = prev ? prev.undoDepth : Infinity;
    this.lastModTime = this.lastSelTime = 0;
    this.lastOp = this.lastSelOp = null;
    this.lastOrigin = this.lastSelOrigin = null;
    this.generation = this.maxGeneration = prev ? prev.maxGeneration : 1;
  }

  function historyChangeFromChange(doc, change) {
    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};
    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);
    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);
    return histChange
  }

  function clearSelectionEvents(array) {
    while (array.length) {
      var last = lst(array);
      if (last.ranges) { array.pop(); }
      else { break }
    }
  }

  function lastChangeEvent(hist, force) {
    if (force) {
      clearSelectionEvents(hist.done);
      return lst(hist.done)
    } else if (hist.done.length && !lst(hist.done).ranges) {
      return lst(hist.done)
    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {
      hist.done.pop();
      return lst(hist.done)
    }
  }

  function addChangeToHistory(doc, change, selAfter, opId) {
    var hist = doc.history;
    hist.undone.length = 0;
    var time = +new Date, cur;
    var last;

    if ((hist.lastOp == opId ||
         hist.lastOrigin == change.origin && change.origin &&
         ((change.origin.charAt(0) == "+" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||
          change.origin.charAt(0) == "*")) &&
        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {
      last = lst(cur.changes);
      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {
        last.to = changeEnd(change);
      } else {
        cur.changes.push(historyChangeFromChange(doc, change));
      }
    } else {
      var before = lst(hist.done);
      if (!before || !before.ranges)
        { pushSelectionToHistory(doc.sel, hist.done); }
      cur = {changes: [historyChangeFromChange(doc, change)],
             generation: hist.generation};
      hist.done.push(cur);
      while (hist.done.length > hist.undoDepth) {
        hist.done.shift();
        if (!hist.done[0].ranges) { hist.done.shift(); }
      }
    }
    hist.done.push(selAfter);
    hist.generation = ++hist.maxGeneration;
    hist.lastModTime = hist.lastSelTime = time;
    hist.lastOp = hist.lastSelOp = opId;
    hist.lastOrigin = hist.lastSelOrigin = change.origin;

    if (!last) { signal(doc, "historyAdded"); }
  }

  function selectionEventCanBeMerged(doc, origin, prev, sel) {
    var ch = origin.charAt(0);
    return ch == "*" ||
      ch == "+" &&
      prev.ranges.length == sel.ranges.length &&
      prev.somethingSelected() == sel.somethingSelected() &&
      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)
  }

  function addSelectionToHistory(doc, sel, opId, options) {
    var hist = doc.history, origin = options && options.origin;

    if (opId == hist.lastSelOp ||
        (origin && hist.lastSelOrigin == origin &&
         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||
          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))
      { hist.done[hist.done.length - 1] = sel; }
    else
      { pushSelectionToHistory(sel, hist.done); }

    hist.lastSelTime = +new Date;
    hist.lastSelOrigin = origin;
    hist.lastSelOp = opId;
    if (options && options.clearRedo !== false)
      { clearSelectionEvents(hist.undone); }
  }

  function pushSelectionToHistory(sel, dest) {
    var top = lst(dest);
    if (!(top && top.ranges && top.equals(sel)))
      { dest.push(sel); }
  }

  function attachLocalSpans(doc, change, from, to) {
    var existing = change["spans_" + doc.id], n = 0;
    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {
      if (line.markedSpans)
        { (existing || (existing = change["spans_" + doc.id] = {}))[n] = line.markedSpans; }
      ++n;
    });
  }

  function removeClearedSpans(spans) {
    if (!spans) { return null }
    var out;
    for (var i = 0; i < spans.length; ++i) {
      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }
      else if (out) { out.push(spans[i]); }
    }
    return !out ? spans : out.length ? out : null
  }

  function getOldSpans(doc, change) {
    var found = change["spans_" + doc.id];
    if (!found) { return null }
    var nw = [];
    for (var i = 0; i < change.text.length; ++i)
      { nw.push(removeClearedSpans(found[i])); }
    return nw
  }

  function mergeOldSpans(doc, change) {
    var old = getOldSpans(doc, change);
    var stretched = stretchSpansOverChange(doc, change);
    if (!old) { return stretched }
    if (!stretched) { return old }

    for (var i = 0; i < old.length; ++i) {
      var oldCur = old[i], stretchCur = stretched[i];
      if (oldCur && stretchCur) {
        spans: for (var j = 0; j < stretchCur.length; ++j) {
          var span = stretchCur[j];
          for (var k = 0; k < oldCur.length; ++k)
            { if (oldCur[k].marker == span.marker) { continue spans } }
          oldCur.push(span);
        }
      } else if (stretchCur) {
        old[i] = stretchCur;
      }
    }
    return old
  }

  function copyHistoryArray(events, newGroup, instantiateSel) {
    var copy = [];
    for (var i = 0; i < events.length; ++i) {
      var event = events[i];
      if (event.ranges) {
        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);
        continue
      }
      var changes = event.changes, newChanges = [];
      copy.push({changes: newChanges});
      for (var j = 0; j < changes.length; ++j) {
        var change = changes[j], m = (void 0);
        newChanges.push({from: change.from, to: change.to, text: change.text});
        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\d+)$/)) {
          if (indexOf(newGroup, Number(m[1])) > -1) {
            lst(newChanges)[prop] = change[prop];
            delete change[prop];
          }
        } } }
      }
    }
    return copy
  }


  function extendRange(range, head, other, extend) {
    if (extend) {
      var anchor = range.anchor;
      if (other) {
        var posBefore = cmp(head, anchor) < 0;
        if (posBefore != (cmp(other, anchor) < 0)) {
          anchor = head;
          head = other;
        } else if (posBefore != (cmp(head, other) < 0)) {
          head = other;
        }
      }
      return new Range(anchor, head)
    } else {
      return new Range(other || head, head)
    }
  }

  function extendSelection(doc, head, other, options, extend) {
    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }
    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);
  }

  function extendSelections(doc, heads, options) {
    var out = [];
    var extend = doc.cm && (doc.cm.display.shift || doc.extend);
    for (var i = 0; i < doc.sel.ranges.length; i++)
      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }
    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);
    setSelection(doc, newSel, options);
  }

  function replaceOneSelection(doc, i, range, options) {
    var ranges = doc.sel.ranges.slice(0);
    ranges[i] = range;
    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);
  }

  function setSimpleSelection(doc, anchor, head, options) {
    setSelection(doc, simpleSelection(anchor, head), options);
  }

  function filterSelectionChange(doc, sel, options) {
    var obj = {
      ranges: sel.ranges,
      update: function(ranges) {
        this.ranges = [];
        for (var i = 0; i < ranges.length; i++)
          { this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),
                                     clipPos(doc, ranges[i].head)); }
      },
      origin: options && options.origin
    };
    signal(doc, "beforeSelectionChange", doc, obj);
    if (doc.cm) { signal(doc.cm, "beforeSelectionChange", doc.cm, obj); }
    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }
    else { return sel }
  }

  function setSelectionReplaceHistory(doc, sel, options) {
    var done = doc.history.done, last = lst(done);
    if (last && last.ranges) {
      done[done.length - 1] = sel;
      setSelectionNoUndo(doc, sel, options);
    } else {
      setSelection(doc, sel, options);
    }
  }

  function setSelection(doc, sel, options) {
    setSelectionNoUndo(doc, sel, options);
    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);
  }

  function setSelectionNoUndo(doc, sel, options) {
    if (hasHandler(doc, "beforeSelectionChange") || doc.cm && hasHandler(doc.cm, "beforeSelectionChange"))
      { sel = filterSelectionChange(doc, sel, options); }

    var bias = options && options.bias ||
      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);
    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));

    if (!(options && options.scroll === false) && doc.cm && doc.cm.getOption("readOnly") != "nocursor")
      { ensureCursorVisible(doc.cm); }
  }

  function setSelectionInner(doc, sel) {
    if (sel.equals(doc.sel)) { return }

    doc.sel = sel;

    if (doc.cm) {
      doc.cm.curOp.updateInput = 1;
      doc.cm.curOp.selectionChanged = true;
      signalCursorActivity(doc.cm);
    }
    signalLater(doc, "cursorActivity", doc);
  }

  function reCheckSelection(doc) {
    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));
  }

  function skipAtomicInSelection(doc, sel, bias, mayClear) {
    var out;
    for (var i = 0; i < sel.ranges.length; i++) {
      var range = sel.ranges[i];
      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];
      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);
      var newHead = range.head == range.anchor ? newAnchor : skipAtomic(doc, range.head, old && old.head, bias, mayClear);
      if (out || newAnchor != range.anchor || newHead != range.head) {
        if (!out) { out = sel.ranges.slice(0, i); }
        out[i] = new Range(newAnchor, newHead);
      }
    }
    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel
  }

  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {
    var line = getLine(doc, pos.line);
    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {
      var sp = line.markedSpans[i], m = sp.marker;

      var preventCursorLeft = ("selectLeft" in m) ? !m.selectLeft : m.inclusiveLeft;
      var preventCursorRight = ("selectRight" in m) ? !m.selectRight : m.inclusiveRight;

      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&
          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {
        if (mayClear) {
          signal(m, "beforeCursorEnter");
          if (m.explicitlyCleared) {
            if (!line.markedSpans) { break }
            else {--i; continue}
          }
        }
        if (!m.atomic) { continue }

        if (oldPos) {
          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);
          if (dir < 0 ? preventCursorRight : preventCursorLeft)
            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }
          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))
            { return skipAtomicInner(doc, near, pos, dir, mayClear) }
        }

        var far = m.find(dir < 0 ? -1 : 1);
        if (dir < 0 ? preventCursorLeft : preventCursorRight)
          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }
        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null
      }
    } }
    return pos
  }

  function skipAtomic(doc, pos, oldPos, bias, mayClear) {
    var dir = bias || 1;
    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||
        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||
        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||
        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));
    if (!found) {
      doc.cantEdit = true;
      return Pos(doc.first, 0)
    }
    return found
  }

  function movePos(doc, pos, dir, line) {
    if (dir < 0 && pos.ch == 0) {
      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }
      else { return null }
    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {
      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }
      else { return null }
    } else {
      return new Pos(pos.line, pos.ch + dir)
    }
  }

  function selectAll(cm) {
    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);
  }


  function filterChange(doc, change, update) {
    var obj = {
      canceled: false,
      from: change.from,
      to: change.to,
      text: change.text,
      origin: change.origin,
      cancel: function () { return obj.canceled = true; }
    };
    if (update) { obj.update = function (from, to, text, origin) {
      if (from) { obj.from = clipPos(doc, from); }
      if (to) { obj.to = clipPos(doc, to); }
      if (text) { obj.text = text; }
      if (origin !== undefined) { obj.origin = origin; }
    }; }
    signal(doc, "beforeChange", doc, obj);
    if (doc.cm) { signal(doc.cm, "beforeChange", doc.cm, obj); }

    if (obj.canceled) {
      if (doc.cm) { doc.cm.curOp.updateInput = 2; }
      return null
    }
    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}
  }

  function makeChange(doc, change, ignoreReadOnly) {
    if (doc.cm) {
      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }
      if (doc.cm.state.suppressEdits) { return }
    }

    if (hasHandler(doc, "beforeChange") || doc.cm && hasHandler(doc.cm, "beforeChange")) {
      change = filterChange(doc, change, true);
      if (!change) { return }
    }

    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);
    if (split) {
      for (var i = split.length - 1; i >= 0; --i)
        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [""] : change.text, origin: change.origin}); }
    } else {
      makeChangeInner(doc, change);
    }
  }

  function makeChangeInner(doc, change) {
    if (change.text.length == 1 && change.text[0] == "" && cmp(change.from, change.to) == 0) { return }
    var selAfter = computeSelAfterChange(doc, change);
    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);

    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));
    var rebased = [];

    linkedDocs(doc, function (doc, sharedHist) {
      if (!sharedHist && indexOf(rebased, doc.history) == -1) {
        rebaseHist(doc.history, change);
        rebased.push(doc.history);
      }
      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));
    });
  }

  function makeChangeFromHistory(doc, type, allowSelectionOnly) {
    var suppress = doc.cm && doc.cm.state.suppressEdits;
    if (suppress && !allowSelectionOnly) { return }

    var hist = doc.history, event, selAfter = doc.sel;
    var source = type == "undo" ? hist.done : hist.undone, dest = type == "undo" ? hist.undone : hist.done;

    var i = 0;
    for (; i < source.length; i++) {
      event = source[i];
      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)
        { break }
    }
    if (i == source.length) { return }
    hist.lastOrigin = hist.lastSelOrigin = null;

    for (;;) {
      event = source.pop();
      if (event.ranges) {
        pushSelectionToHistory(event, dest);
        if (allowSelectionOnly && !event.equals(doc.sel)) {
          setSelection(doc, event, {clearRedo: false});
          return
        }
        selAfter = event;
      } else if (suppress) {
        source.push(event);
        return
      } else { break }
    }

    var antiChanges = [];
    pushSelectionToHistory(selAfter, dest);
    dest.push({changes: antiChanges, generation: hist.generation});
    hist.generation = event.generation || ++hist.maxGeneration;

    var filter = hasHandler(doc, "beforeChange") || doc.cm && hasHandler(doc.cm, "beforeChange");

    var loop = function ( i ) {
      var change = event.changes[i];
      change.origin = type;
      if (filter && !filterChange(doc, change, false)) {
        source.length = 0;
        return {}
      }

      antiChanges.push(historyChangeFromChange(doc, change));

      var after = i ? computeSelAfterChange(doc, change) : lst(source);
      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));
      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }
      var rebased = [];

      linkedDocs(doc, function (doc, sharedHist) {
        if (!sharedHist && indexOf(rebased, doc.history) == -1) {
          rebaseHist(doc.history, change);
          rebased.push(doc.history);
        }
        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));
      });
    };

    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {
      var returned = loop( i$1 );

      if ( returned ) return returned.v;
    }
  }

  function shiftDoc(doc, distance) {
    if (distance == 0) { return }
    doc.first += distance;
    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(
      Pos(range.anchor.line + distance, range.anchor.ch),
      Pos(range.head.line + distance, range.head.ch)
    ); }), doc.sel.primIndex);
    if (doc.cm) {
      regChange(doc.cm, doc.first, doc.first - distance, distance);
      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)
        { regLineChange(doc.cm, l, "gutter"); }
    }
  }

  function makeChangeSingleDoc(doc, change, selAfter, spans) {
    if (doc.cm && !doc.cm.curOp)
      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }

    if (change.to.line < doc.first) {
      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));
      return
    }
    if (change.from.line > doc.lastLine()) { return }

    if (change.from.line < doc.first) {
      var shift = change.text.length - 1 - (doc.first - change.from.line);
      shiftDoc(doc, shift);
      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),
                text: [lst(change.text)], origin: change.origin};
    }
    var last = doc.lastLine();
    if (change.to.line > last) {
      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),
                text: [change.text[0]], origin: change.origin};
    }

    change.removed = getBetween(doc, change.from, change.to);

    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }
    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }
    else { updateDoc(doc, change, spans); }
    setSelectionNoUndo(doc, selAfter, sel_dontScroll);

    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))
      { doc.cantEdit = false; }
  }

  function makeChangeSingleDocInEditor(cm, change, spans) {
    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;

    var recomputeMaxLength = false, checkWidthStart = from.line;
    if (!cm.options.lineWrapping) {
      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));
      doc.iter(checkWidthStart, to.line + 1, function (line) {
        if (line == display.maxLine) {
          recomputeMaxLength = true;
          return true
        }
      });
    }

    if (doc.sel.contains(change.from, change.to) > -1)
      { signalCursorActivity(cm); }

    updateDoc(doc, change, spans, estimateHeight(cm));

    if (!cm.options.lineWrapping) {
      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {
        var len = lineLength(line);
        if (len > display.maxLineLength) {
          display.maxLine = line;
          display.maxLineLength = len;
          display.maxLineChanged = true;
          recomputeMaxLength = false;
        }
      });
      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }
    }

    retreatFrontier(doc, from.line);
    startWorker(cm, 400);

    var lendiff = change.text.length - (to.line - from.line) - 1;
    if (change.full)
      { regChange(cm); }
    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))
      { regLineChange(cm, from.line, "text"); }
    else
      { regChange(cm, from.line, to.line + 1, lendiff); }

    var changesHandler = hasHandler(cm, "changes"), changeHandler = hasHandler(cm, "change");
    if (changeHandler || changesHandler) {
      var obj = {
        from: from, to: to,
        text: change.text,
        removed: change.removed,
        origin: change.origin
      };
      if (changeHandler) { signalLater(cm, "change", cm, obj); }
      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }
    }
    cm.display.selForContextMenu = null;
  }

  function replaceRange(doc, code, from, to, origin) {
    var assign;

    if (!to) { to = from; }
    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }
    if (typeof code == "string") { code = doc.splitLines(code); }
    makeChange(doc, {from: from, to: to, text: code, origin: origin});
  }


  function rebaseHistSelSingle(pos, from, to, diff) {
    if (to < pos.line) {
      pos.line += diff;
    } else if (from < pos.line) {
      pos.line = from;
      pos.ch = 0;
    }
  }

  function rebaseHistArray(array, from, to, diff) {
    for (var i = 0; i < array.length; ++i) {
      var sub = array[i], ok = true;
      if (sub.ranges) {
        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }
        for (var j = 0; j < sub.ranges.length; j++) {
          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);
          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);
        }
        continue
      }
      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {
        var cur = sub.changes[j$1];
        if (to < cur.from.line) {
          cur.from = Pos(cur.from.line + diff, cur.from.ch);
          cur.to = Pos(cur.to.line + diff, cur.to.ch);
        } else if (from <= cur.to.line) {
          ok = false;
          break
        }
      }
      if (!ok) {
        array.splice(0, i + 1);
        i = 0;
      }
    }
  }

  function rebaseHist(hist, change) {
    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;
    rebaseHistArray(hist.done, from, to, diff);
    rebaseHistArray(hist.undone, from, to, diff);
  }

  function changeLine(doc, handle, changeType, op) {
    var no = handle, line = handle;
    if (typeof handle == "number") { line = getLine(doc, clipLine(doc, handle)); }
    else { no = lineNo(handle); }
    if (no == null) { return null }
    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }
    return line
  }


  function LeafChunk(lines) {
    this.lines = lines;
    this.parent = null;
    var height = 0;
    for (var i = 0; i < lines.length; ++i) {
      lines[i].parent = this;
      height += lines[i].height;
    }
    this.height = height;
  }

  LeafChunk.prototype = {
    chunkSize: function() { return this.lines.length },

    removeInner: function(at, n) {
      for (var i = at, e = at + n; i < e; ++i) {
        var line = this.lines[i];
        this.height -= line.height;
        cleanUpLine(line);
        signalLater(line, "delete");
      }
      this.lines.splice(at, n);
    },

    collapse: function(lines) {
      lines.push.apply(lines, this.lines);
    },

    insertInner: function(at, lines, height) {
      this.height += height;
      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));
      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this; }
    },

    iterN: function(at, n, op) {
      for (var e = at + n; at < e; ++at)
        { if (op(this.lines[at])) { return true } }
    }
  };

  function BranchChunk(children) {
    this.children = children;
    var size = 0, height = 0;
    for (var i = 0; i < children.length; ++i) {
      var ch = children[i];
      size += ch.chunkSize(); height += ch.height;
      ch.parent = this;
    }
    this.size = size;
    this.height = height;
    this.parent = null;
  }

  BranchChunk.prototype = {
    chunkSize: function() { return this.size },

    removeInner: function(at, n) {
      this.size -= n;
      for (var i = 0; i < this.children.length; ++i) {
        var child = this.children[i], sz = child.chunkSize();
        if (at < sz) {
          var rm = Math.min(n, sz - at), oldHeight = child.height;
          child.removeInner(at, rm);
          this.height -= oldHeight - child.height;
          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }
          if ((n -= rm) == 0) { break }
          at = 0;
        } else { at -= sz; }
      }
      if (this.size - n < 25 &&
          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {
        var lines = [];
        this.collapse(lines);
        this.children = [new LeafChunk(lines)];
        this.children[0].parent = this;
      }
    },

    collapse: function(lines) {
      for (var i = 0; i < this.children.length; ++i) { this.children[i].collapse(lines); }
    },

    insertInner: function(at, lines, height) {
      this.size += lines.length;
      this.height += height;
      for (var i = 0; i < this.children.length; ++i) {
        var child = this.children[i], sz = child.chunkSize();
        if (at <= sz) {
          child.insertInner(at, lines, height);
          if (child.lines && child.lines.length > 50) {
            var remaining = child.lines.length % 25 + 25;
            for (var pos = remaining; pos < child.lines.length;) {
              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));
              child.height -= leaf.height;
              this.children.splice(++i, 0, leaf);
              leaf.parent = this;
            }
            child.lines = child.lines.slice(0, remaining);
            this.maybeSpill();
          }
          break
        }
        at -= sz;
      }
    },

    maybeSpill: function() {
      if (this.children.length <= 10) { return }
      var me = this;
      do {
        var spilled = me.children.splice(me.children.length - 5, 5);
        var sibling = new BranchChunk(spilled);
        if (!me.parent) { 
          var copy = new BranchChunk(me.children);
          copy.parent = me;
          me.children = [copy, sibling];
          me = copy;
       } else {
          me.size -= sibling.size;
          me.height -= sibling.height;
          var myIndex = indexOf(me.parent.children, me);
          me.parent.children.splice(myIndex + 1, 0, sibling);
        }
        sibling.parent = me.parent;
      } while (me.children.length > 10)
      me.parent.maybeSpill();
    },

    iterN: function(at, n, op) {
      for (var i = 0; i < this.children.length; ++i) {
        var child = this.children[i], sz = child.chunkSize();
        if (at < sz) {
          var used = Math.min(n, sz - at);
          if (child.iterN(at, used, op)) { return true }
          if ((n -= used) == 0) { break }
          at = 0;
        } else { at -= sz; }
      }
    }
  };


  var LineWidget = function(doc, node, options) {
    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))
      { this[opt] = options[opt]; } } }
    this.doc = doc;
    this.node = node;
  };

  LineWidget.prototype.clear = function () {
    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);
    if (no == null || !ws) { return }
    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this) { ws.splice(i--, 1); } }
    if (!ws.length) { line.widgets = null; }
    var height = widgetHeight(this);
    updateLineHeight(line, Math.max(0, line.height - height));
    if (cm) {
      runInOp(cm, function () {
        adjustScrollWhenAboveVisible(cm, line, -height);
        regLineChange(cm, no, "widget");
      });
      signalLater(cm, "lineWidgetCleared", cm, this, no);
    }
  };

  LineWidget.prototype.changed = function () {
      var this$1 = this;

    var oldH = this.height, cm = this.doc.cm, line = this.line;
    this.height = null;
    var diff = widgetHeight(this) - oldH;
    if (!diff) { return }
    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }
    if (cm) {
      runInOp(cm, function () {
        cm.curOp.forceUpdate = true;
        adjustScrollWhenAboveVisible(cm, line, diff);
        signalLater(cm, "lineWidgetChanged", cm, this$1, lineNo(line));
      });
    }
  };
  eventMixin(LineWidget);

  function adjustScrollWhenAboveVisible(cm, line, diff) {
    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))
      { addToScrollTop(cm, diff); }
  }

  function addLineWidget(doc, handle, node, options) {
    var widget = new LineWidget(doc, node, options);
    var cm = doc.cm;
    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }
    changeLine(doc, handle, "widget", function (line) {
      var widgets = line.widgets || (line.widgets = []);
      if (widget.insertAt == null) { widgets.push(widget); }
      else { widgets.splice(Math.min(widgets.length, Math.max(0, widget.insertAt)), 0, widget); }
      widget.line = line;
      if (cm && !lineIsHidden(doc, line)) {
        var aboveVisible = heightAtLine(line) < doc.scrollTop;
        updateLineHeight(line, line.height + widgetHeight(widget));
        if (aboveVisible) { addToScrollTop(cm, widget.height); }
        cm.curOp.forceUpdate = true;
      }
      return true
    });
    if (cm) { signalLater(cm, "lineWidgetAdded", cm, widget, typeof handle == "number" ? handle : lineNo(handle)); }
    return widget
  }



  var nextMarkerId = 0;

  var TextMarker = function(doc, type) {
    this.lines = [];
    this.type = type;
    this.doc = doc;
    this.id = ++nextMarkerId;
  };

  TextMarker.prototype.clear = function () {
    if (this.explicitlyCleared) { return }
    var cm = this.doc.cm, withOp = cm && !cm.curOp;
    if (withOp) { startOperation(cm); }
    if (hasHandler(this, "clear")) {
      var found = this.find();
      if (found) { signalLater(this, "clear", found.from, found.to); }
    }
    var min = null, max = null;
    for (var i = 0; i < this.lines.length; ++i) {
      var line = this.lines[i];
      var span = getMarkedSpanFor(line.markedSpans, this);
      if (cm && !this.collapsed) { regLineChange(cm, lineNo(line), "text"); }
      else if (cm) {
        if (span.to != null) { max = lineNo(line); }
        if (span.from != null) { min = lineNo(line); }
      }
      line.markedSpans = removeMarkedSpan(line.markedSpans, span);
      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)
        { updateLineHeight(line, textHeight(cm.display)); }
    }
    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {
      var visual = visualLine(this.lines[i$1]), len = lineLength(visual);
      if (len > cm.display.maxLineLength) {
        cm.display.maxLine = visual;
        cm.display.maxLineLength = len;
        cm.display.maxLineChanged = true;
      }
    } }

    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }
    this.lines.length = 0;
    this.explicitlyCleared = true;
    if (this.atomic && this.doc.cantEdit) {
      this.doc.cantEdit = false;
      if (cm) { reCheckSelection(cm.doc); }
    }
    if (cm) { signalLater(cm, "markerCleared", cm, this, min, max); }
    if (withOp) { endOperation(cm); }
    if (this.parent) { this.parent.clear(); }
  };

  TextMarker.prototype.find = function (side, lineObj) {
    if (side == null && this.type == "bookmark") { side = 1; }
    var from, to;
    for (var i = 0; i < this.lines.length; ++i) {
      var line = this.lines[i];
      var span = getMarkedSpanFor(line.markedSpans, this);
      if (span.from != null) {
        from = Pos(lineObj ? line : lineNo(line), span.from);
        if (side == -1) { return from }
      }
      if (span.to != null) {
        to = Pos(lineObj ? line : lineNo(line), span.to);
        if (side == 1) { return to }
      }
    }
    return from && {from: from, to: to}
  };

  TextMarker.prototype.changed = function () {
      var this$1 = this;

    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;
    if (!pos || !cm) { return }
    runInOp(cm, function () {
      var line = pos.line, lineN = lineNo(pos.line);
      var view = findViewForLine(cm, lineN);
      if (view) {
        clearLineMeasurementCacheFor(view);
        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;
      }
      cm.curOp.updateMaxLine = true;
      if (!lineIsHidden(widget.doc, line) && widget.height != null) {
        var oldHeight = widget.height;
        widget.height = null;
        var dHeight = widgetHeight(widget) - oldHeight;
        if (dHeight)
          { updateLineHeight(line, line.height + dHeight); }
      }
      signalLater(cm, "markerChanged", cm, this$1);
    });
  };

  TextMarker.prototype.attachLine = function (line) {
    if (!this.lines.length && this.doc.cm) {
      var op = this.doc.cm.curOp;
      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)
        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }
    }
    this.lines.push(line);
  };

  TextMarker.prototype.detachLine = function (line) {
    this.lines.splice(indexOf(this.lines, line), 1);
    if (!this.lines.length && this.doc.cm) {
      var op = this.doc.cm.curOp
      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);
    }
  };
  eventMixin(TextMarker);

  function markText(doc, from, to, options, type) {
    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }
    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }

    var marker = new TextMarker(doc, type), diff = cmp(from, to);
    if (options) { copyObj(options, marker, false); }
    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)
      { return marker }
    if (marker.replacedWith) {
      marker.collapsed = true;
      marker.widgetNode = eltP("span", [marker.replacedWith], "CodeMirror-widget");
      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute("cm-ignore-events", "true"); }
      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }
    }
    if (marker.collapsed) {
      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||
          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))
        { throw new Error("Inserting collapsed marker partially overlapping an existing one") }
      seeCollapsedSpans();
    }

    if (marker.addToHistory)
      { addChangeToHistory(doc, {from: from, to: to, origin: "markText"}, doc.sel, NaN); }

    var curLine = from.line, cm = doc.cm, updateMaxLine;
    doc.iter(curLine, to.line + 1, function (line) {
      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)
        { updateMaxLine = true; }
      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }
      addMarkedSpan(line, new MarkedSpan(marker,
                                         curLine == from.line ? from.ch : null,
                                         curLine == to.line ? to.ch : null), doc.cm && doc.cm.curOp);
      ++curLine;
    });
    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {
      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }
    }); }

    if (marker.clearOnEnter) { on(marker, "beforeCursorEnter", function () { return marker.clear(); }); }

    if (marker.readOnly) {
      seeReadOnlySpans();
      if (doc.history.done.length || doc.history.undone.length)
        { doc.clearHistory(); }
    }
    if (marker.collapsed) {
      marker.id = ++nextMarkerId;
      marker.atomic = true;
    }
    if (cm) {
      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }
      if (marker.collapsed)
        { regChange(cm, from.line, to.line + 1); }
      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||
               marker.attributes || marker.title)
        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, "text"); } }
      if (marker.atomic) { reCheckSelection(cm.doc); }
      signalLater(cm, "markerAdded", cm, marker);
    }
    return marker
  }


  var SharedTextMarker = function(markers, primary) {
    this.markers = markers;
    this.primary = primary;
    for (var i = 0; i < markers.length; ++i)
      { markers[i].parent = this; }
  };

  SharedTextMarker.prototype.clear = function () {
    if (this.explicitlyCleared) { return }
    this.explicitlyCleared = true;
    for (var i = 0; i < this.markers.length; ++i)
      { this.markers[i].clear(); }
    signalLater(this, "clear");
  };

  SharedTextMarker.prototype.find = function (side, lineObj) {
    return this.primary.find(side, lineObj)
  };
  eventMixin(SharedTextMarker);

  function markTextShared(doc, from, to, options, type) {
    options = copyObj(options);
    options.shared = false;
    var markers = [markText(doc, from, to, options, type)], primary = markers[0];
    var widget = options.widgetNode;
    linkedDocs(doc, function (doc) {
      if (widget) { options.widgetNode = widget.cloneNode(true); }
      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));
      for (var i = 0; i < doc.linked.length; ++i)
        { if (doc.linked[i].isParent) { return } }
      primary = lst(markers);
    });
    return new SharedTextMarker(markers, primary)
  }

  function findSharedMarkers(doc) {
    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })
  }

  function copySharedMarkers(doc, markers) {
    for (var i = 0; i < markers.length; i++) {
      var marker = markers[i], pos = marker.find();
      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);
      if (cmp(mFrom, mTo)) {
        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);
        marker.markers.push(subMark);
        subMark.parent = marker;
      }
    }
  }

  function detachSharedMarkers(markers) {
    var loop = function ( i ) {
      var marker = markers[i], linked = [marker.primary.doc];
      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });
      for (var j = 0; j < marker.markers.length; j++) {
        var subMarker = marker.markers[j];
        if (indexOf(linked, subMarker.doc) == -1) {
          subMarker.parent = null;
          marker.markers.splice(j--, 1);
        }
      }
    };

    for (var i = 0; i < markers.length; i++) loop( i );
  }

  var nextDocId = 0;
  var Doc = function(text, mode, firstLine, lineSep, direction) {
    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }
    if (firstLine == null) { firstLine = 0; }

    BranchChunk.call(this, [new LeafChunk([new Line("", null)])]);
    this.first = firstLine;
    this.scrollTop = this.scrollLeft = 0;
    this.cantEdit = false;
    this.cleanGeneration = 1;
    this.modeFrontier = this.highlightFrontier = firstLine;
    var start = Pos(firstLine, 0);
    this.sel = simpleSelection(start);
    this.history = new History(null);
    this.id = ++nextDocId;
    this.modeOption = mode;
    this.lineSep = lineSep;
    this.direction = (direction == "rtl") ? "rtl" : "ltr";
    this.extend = false;

    if (typeof text == "string") { text = this.splitLines(text); }
    updateDoc(this, {from: start, to: start, text: text});
    setSelection(this, simpleSelection(start), sel_dontScroll);
  };

  Doc.prototype = createObj(BranchChunk.prototype, {
    constructor: Doc,
    iter: function(from, to, op) {
      if (op) { this.iterN(from - this.first, to - from, op); }
      else { this.iterN(this.first, this.first + this.size, from); }
    },

    insert: function(at, lines) {
      var height = 0;
      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }
      this.insertInner(at - this.first, lines, height);
    },
    remove: function(at, n) { this.removeInner(at - this.first, n); },


    getValue: function(lineSep) {
      var lines = getLines(this, this.first, this.first + this.size);
      if (lineSep === false) { return lines }
      return lines.join(lineSep || this.lineSeparator())
    },
    setValue: docMethodOp(function(code) {
      var top = Pos(this.first, 0), last = this.first + this.size - 1;
      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),
                        text: this.splitLines(code), origin: "setValue", full: true}, true);
      if (this.cm) { scrollToCoords(this.cm, 0, 0); }
      setSelection(this, simpleSelection(top), sel_dontScroll);
    }),
    replaceRange: function(code, from, to, origin) {
      from = clipPos(this, from);
      to = to ? clipPos(this, to) : from;
      replaceRange(this, code, from, to, origin);
    },
    getRange: function(from, to, lineSep) {
      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));
      if (lineSep === false) { return lines }
      if (lineSep === '') { return lines.join('') }
      return lines.join(lineSep || this.lineSeparator())
    },

    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},

    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},
    getLineNumber: function(line) {return lineNo(line)},

    getLineHandleVisualStart: function(line) {
      if (typeof line == "number") { line = getLine(this, line); }
      return visualLine(line)
    },

    lineCount: function() {return this.size},
    firstLine: function() {return this.first},
    lastLine: function() {return this.first + this.size - 1},

    clipPos: function(pos) {return clipPos(this, pos)},

    getCursor: function(start) {
      var range = this.sel.primary(), pos;
      if (start == null || start == "head") { pos = range.head; }
      else if (start == "anchor") { pos = range.anchor; }
      else if (start == "end" || start == "to" || start === false) { pos = range.to(); }
      else { pos = range.from(); }
      return pos
    },
    listSelections: function() { return this.sel.ranges },
    somethingSelected: function() {return this.sel.somethingSelected()},

    setCursor: docMethodOp(function(line, ch, options) {
      setSimpleSelection(this, clipPos(this, typeof line == "number" ? Pos(line, ch || 0) : line), null, options);
    }),
    setSelection: docMethodOp(function(anchor, head, options) {
      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);
    }),
    extendSelection: docMethodOp(function(head, other, options) {
      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);
    }),
    extendSelections: docMethodOp(function(heads, options) {
      extendSelections(this, clipPosArray(this, heads), options);
    }),
    extendSelectionsBy: docMethodOp(function(f, options) {
      var heads = map(this.sel.ranges, f);
      extendSelections(this, clipPosArray(this, heads), options);
    }),
    setSelections: docMethodOp(function(ranges, primary, options) {
      if (!ranges.length) { return }
      var out = [];
      for (var i = 0; i < ranges.length; i++)
        { out[i] = new Range(clipPos(this, ranges[i].anchor),
                           clipPos(this, ranges[i].head || ranges[i].anchor)); }
      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }
      setSelection(this, normalizeSelection(this.cm, out, primary), options);
    }),
    addSelection: docMethodOp(function(anchor, head, options) {
      var ranges = this.sel.ranges.slice(0);
      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));
      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);
    }),

    getSelection: function(lineSep) {
      var ranges = this.sel.ranges, lines;
      for (var i = 0; i < ranges.length; i++) {
        var sel = getBetween(this, ranges[i].from(), ranges[i].to());
        lines = lines ? lines.concat(sel) : sel;
      }
      if (lineSep === false) { return lines }
      else { return lines.join(lineSep || this.lineSeparator()) }
    },
    getSelections: function(lineSep) {
      var parts = [], ranges = this.sel.ranges;
      for (var i = 0; i < ranges.length; i++) {
        var sel = getBetween(this, ranges[i].from(), ranges[i].to());
        if (lineSep !== false) { sel = sel.join(lineSep || this.lineSeparator()); }
        parts[i] = sel;
      }
      return parts
    },
    replaceSelection: function(code, collapse, origin) {
      var dup = [];
      for (var i = 0; i < this.sel.ranges.length; i++)
        { dup[i] = code; }
      this.replaceSelections(dup, collapse, origin || "+input");
    },
    replaceSelections: docMethodOp(function(code, collapse, origin) {
      var changes = [], sel = this.sel;
      for (var i = 0; i < sel.ranges.length; i++) {
        var range = sel.ranges[i];
        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};
      }
      var newSel = collapse && collapse != "end" && computeReplacedSel(this, changes, collapse);
      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)
        { makeChange(this, changes[i$1]); }
      if (newSel) { setSelectionReplaceHistory(this, newSel); }
      else if (this.cm) { ensureCursorVisible(this.cm); }
    }),
    undo: docMethodOp(function() {makeChangeFromHistory(this, "undo");}),
    redo: docMethodOp(function() {makeChangeFromHistory(this, "redo");}),
    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, "undo", true);}),
    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, "redo", true);}),

    setExtending: function(val) {this.extend = val;},
    getExtending: function() {return this.extend},

    historySize: function() {
      var hist = this.history, done = 0, undone = 0;
      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }
      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }
      return {undo: done, redo: undone}
    },
    clearHistory: function() {
      var this$1 = this;

      this.history = new History(this.history);
      linkedDocs(this, function (doc) { return doc.history = this$1.history; }, true);
    },

    markClean: function() {
      this.cleanGeneration = this.changeGeneration(true);
    },
    changeGeneration: function(forceSplit) {
      if (forceSplit)
        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }
      return this.history.generation
    },
    isClean: function (gen) {
      return this.history.generation == (gen || this.cleanGeneration)
    },

    getHistory: function() {
      return {done: copyHistoryArray(this.history.done),
              undone: copyHistoryArray(this.history.undone)}
    },
    setHistory: function(histData) {
      var hist = this.history = new History(this.history);
      hist.done = copyHistoryArray(histData.done.slice(0), null, true);
      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);
    },

    setGutterMarker: docMethodOp(function(line, gutterID, value) {
      return changeLine(this, line, "gutter", function (line) {
        var markers = line.gutterMarkers || (line.gutterMarkers = {});
        markers[gutterID] = value;
        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }
        return true
      })
    }),

    clearGutter: docMethodOp(function(gutterID) {
      var this$1 = this;

      this.iter(function (line) {
        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {
          changeLine(this$1, line, "gutter", function () {
            line.gutterMarkers[gutterID] = null;
            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }
            return true
          });
        }
      });
    }),

    lineInfo: function(line) {
      var n;
      if (typeof line == "number") {
        if (!isLine(this, line)) { return null }
        n = line;
        line = getLine(this, line);
        if (!line) { return null }
      } else {
        n = lineNo(line);
        if (n == null) { return null }
      }
      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,
              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,
              widgets: line.widgets}
    },

    addLineClass: docMethodOp(function(handle, where, cls) {
      return changeLine(this, handle, where == "gutter" ? "gutter" : "class", function (line) {
        var prop = where == "text" ? "textClass"
                 : where == "background" ? "bgClass"
                 : where == "gutter" ? "gutterClass" : "wrapClass";
        if (!line[prop]) { line[prop] = cls; }
        else if (classTest(cls).test(line[prop])) { return false }
        else { line[prop] += " " + cls; }
        return true
      })
    }),
    removeLineClass: docMethodOp(function(handle, where, cls) {
      return changeLine(this, handle, where == "gutter" ? "gutter" : "class", function (line) {
        var prop = where == "text" ? "textClass"
                 : where == "background" ? "bgClass"
                 : where == "gutter" ? "gutterClass" : "wrapClass";
        var cur = line[prop];
        if (!cur) { return false }
        else if (cls == null) { line[prop] = null; }
        else {
          var found = cur.match(classTest(cls));
          if (!found) { return false }
          var end = found.index + found[0].length;
          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? "" : " ") + cur.slice(end) || null;
        }
        return true
      })
    }),

    addLineWidget: docMethodOp(function(handle, node, options) {
      return addLineWidget(this, handle, node, options)
    }),
    removeLineWidget: function(widget) { widget.clear(); },

    markText: function(from, to, options) {
      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || "range")
    },
    setBookmark: function(pos, options) {
      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),
                      insertLeft: options && options.insertLeft,
                      clearWhenEmpty: false, shared: options && options.shared,
                      handleMouseEvents: options && options.handleMouseEvents};
      pos = clipPos(this, pos);
      return markText(this, pos, pos, realOpts, "bookmark")
    },
    findMarksAt: function(pos) {
      pos = clipPos(this, pos);
      var markers = [], spans = getLine(this, pos.line).markedSpans;
      if (spans) { for (var i = 0; i < spans.length; ++i) {
        var span = spans[i];
        if ((span.from == null || span.from <= pos.ch) &&
            (span.to == null || span.to >= pos.ch))
          { markers.push(span.marker.parent || span.marker); }
      } }
      return markers
    },
    findMarks: function(from, to, filter) {
      from = clipPos(this, from); to = clipPos(this, to);
      var found = [], lineNo = from.line;
      this.iter(from.line, to.line + 1, function (line) {
        var spans = line.markedSpans;
        if (spans) { for (var i = 0; i < spans.length; i++) {
          var span = spans[i];
          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||
                span.from == null && lineNo != from.line ||
                span.from != null && lineNo == to.line && span.from >= to.ch) &&
              (!filter || filter(span.marker)))
            { found.push(span.marker.parent || span.marker); }
        } }
        ++lineNo;
      });
      return found
    },
    getAllMarks: function() {
      var markers = [];
      this.iter(function (line) {
        var sps = line.markedSpans;
        if (sps) { for (var i = 0; i < sps.length; ++i)
          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }
      });
      return markers
    },

    posFromIndex: function(off) {
      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;
      this.iter(function (line) {
        var sz = line.text.length + sepSize;
        if (sz > off) { ch = off; return true }
        off -= sz;
        ++lineNo;
      });
      return clipPos(this, Pos(lineNo, ch))
    },
    indexFromPos: function (coords) {
      coords = clipPos(this, coords);
      var index = coords.ch;
      if (coords.line < this.first || coords.ch < 0) { return 0 }
      var sepSize = this.lineSeparator().length;
      this.iter(this.first, coords.line, function (line) { 
        index += line.text.length + sepSize;
      });
      return index
    },

    copy: function(copyHistory) {
      var doc = new Doc(getLines(this, this.first, this.first + this.size),
                        this.modeOption, this.first, this.lineSep, this.direction);
      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;
      doc.sel = this.sel;
      doc.extend = false;
      if (copyHistory) {
        doc.history.undoDepth = this.history.undoDepth;
        doc.setHistory(this.getHistory());
      }
      return doc
    },

    linkedDoc: function(options) {
      if (!options) { options = {}; }
      var from = this.first, to = this.first + this.size;
      if (options.from != null && options.from > from) { from = options.from; }
      if (options.to != null && options.to < to) { to = options.to; }
      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);
      if (options.sharedHist) { copy.history = this.history
      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});
      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];
      copySharedMarkers(copy, findSharedMarkers(this));
      return copy
    },
    unlinkDoc: function(other) {
      if (other instanceof CodeMirror) { other = other.doc; }
      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {
        var link = this.linked[i];
        if (link.doc != other) { continue }
        this.linked.splice(i, 1);
        other.unlinkDoc(this);
        detachSharedMarkers(findSharedMarkers(this));
        break
      } }
      if (other.history == this.history) {
        var splitIds = [other.id];
        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);
        other.history = new History(null);
        other.history.done = copyHistoryArray(this.history.done, splitIds);
        other.history.undone = copyHistoryArray(this.history.undone, splitIds);
      }
    },
    iterLinkedDocs: function(f) {linkedDocs(this, f);},

    getMode: function() {return this.mode},
    getEditor: function() {return this.cm},

    splitLines: function(str) {
      if (this.lineSep) { return str.split(this.lineSep) }
      return splitLinesAuto(str)
    },
    lineSeparator: function() { return this.lineSep || "\n" },

    setDirection: docMethodOp(function (dir) {
      if (dir != "rtl") { dir = "ltr"; }
      if (dir == this.direction) { return }
      this.direction = dir;
      this.iter(function (line) { return line.order = null; });
      if (this.cm) { directionChanged(this.cm); }
    })
  });

  Doc.prototype.eachLine = Doc.prototype.iter;

  var lastDrop = 0;

  function onDrop(e) {
    var cm = this;
    clearDragCursor(cm);
    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))
      { return }
    e_preventDefault(e);
    if (ie) { lastDrop = +new Date; }
    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;
    if (!pos || cm.isReadOnly()) { return }
    if (files && files.length && window.FileReader && window.File) {
      var n = files.length, text = Array(n), read = 0;
      var markAsReadAndPasteIfAllFilesAreRead = function () {
        if (++read == n) {
          operation(cm, function () {
            pos = clipPos(cm.doc, pos);
            var change = {from: pos, to: pos,
                          text: cm.doc.splitLines(
                              text.filter(function (t) { return t != null; }).join(cm.doc.lineSeparator())),
                          origin: "paste"};
            makeChange(cm.doc, change);
            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));
          })();
        }
      };
      var readTextFromFile = function (file, i) {
        if (cm.options.allowDropFileTypes &&
            indexOf(cm.options.allowDropFileTypes, file.type) == -1) {
          markAsReadAndPasteIfAllFilesAreRead();
          return
        }
        var reader = new FileReader;
        reader.onerror = function () { return markAsReadAndPasteIfAllFilesAreRead(); };
        reader.onload = function () {
          var content = reader.result;
          if (/[\x00-\x08\x0e-\x1f]{2}/.test(content)) {
            markAsReadAndPasteIfAllFilesAreRead();
            return
          }
          text[i] = content;
          markAsReadAndPasteIfAllFilesAreRead();
        };
        reader.readAsText(file);
      };
      for (var i = 0; i < files.length; i++) { readTextFromFile(files[i], i); }
    } else { 
      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {
        cm.state.draggingText(e);
        setTimeout(function () { return cm.display.input.focus(); }, 20);
        return
      }
      try {
        var text$1 = e.dataTransfer.getData("Text");
        if (text$1) {
          var selected;
          if (cm.state.draggingText && !cm.state.draggingText.copy)
            { selected = cm.listSelections(); }
          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));
          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)
            { replaceRange(cm.doc, "", selected[i$1].anchor, selected[i$1].head, "drag"); } }
          cm.replaceSelection(text$1, "around", "paste");
          cm.display.input.focus();
        }
      }
      catch(e$1){}
    }
  }

  function onDragStart(cm, e) {
    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }
    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }

    e.dataTransfer.setData("Text", cm.getSelection());
    e.dataTransfer.effectAllowed = "copyMove";

    if (e.dataTransfer.setDragImage && !safari) {
      var img = elt("img", null, null, "position: fixed; left: 0; top: 0;");
      img.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";
      if (presto) {
        img.width = img.height = 1;
        cm.display.wrapper.appendChild(img);
        img._top = img.offsetTop;
      }
      e.dataTransfer.setDragImage(img, 0, 0);
      if (presto) { img.parentNode.removeChild(img); }
    }
  }

  function onDragOver(cm, e) {
    var pos = posFromMouse(cm, e);
    if (!pos) { return }
    var frag = document.createDocumentFragment();
    drawSelectionCursor(cm, pos, frag);
    if (!cm.display.dragCursor) {
      cm.display.dragCursor = elt("div", null, "CodeMirror-cursors CodeMirror-dragcursors");
      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);
    }
    removeChildrenAndAdd(cm.display.dragCursor, frag);
  }

  function clearDragCursor(cm) {
    if (cm.display.dragCursor) {
      cm.display.lineSpace.removeChild(cm.display.dragCursor);
      cm.display.dragCursor = null;
    }
  }


  function forEachCodeMirror(f) {
    if (!document.getElementsByClassName) { return }
    var byClass = document.getElementsByClassName("CodeMirror"), editors = [];
    for (var i = 0; i < byClass.length; i++) {
      var cm = byClass[i].CodeMirror;
      if (cm) { editors.push(cm); }
    }
    if (editors.length) { editors[0].operation(function () {
      for (var i = 0; i < editors.length; i++) { f(editors[i]); }
    }); }
  }

  var globalsRegistered = false;
  function ensureGlobalHandlers() {
    if (globalsRegistered) { return }
    registerGlobalHandlers();
    globalsRegistered = true;
  }
  function registerGlobalHandlers() {
    var resizeTimer;
    on(window, "resize", function () {
      if (resizeTimer == null) { resizeTimer = setTimeout(function () {
        resizeTimer = null;
        forEachCodeMirror(onResize);
      }, 100); }
    });
    on(window, "blur", function () { return forEachCodeMirror(onBlur); });
  }
  function onResize(cm) {
    var d = cm.display;
    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;
    d.scrollbarsClipped = false;
    cm.setSize();
  }

  var keyNames = {
    3: "Pause", 8: "Backspace", 9: "Tab", 13: "Enter", 16: "Shift", 17: "Ctrl", 18: "Alt",
    19: "Pause", 20: "CapsLock", 27: "Esc", 32: "Space", 33: "PageUp", 34: "PageDown", 35: "End",
    36: "Home", 37: "Left", 38: "Up", 39: "Right", 40: "Down", 44: "PrintScrn", 45: "Insert",
    46: "Delete", 59: ";", 61: "=", 91: "Mod", 92: "Mod", 93: "Mod",
    106: "*", 107: "=", 109: "-", 110: ".", 111: "/", 145: "ScrollLock",
    173: "-", 186: ";", 187: "=", 188: ",", 189: "-", 190: ".", 191: "/", 192: "`", 219: "[", 220: "\\",
    221: "]", 222: "'", 224: "Mod", 63232: "Up", 63233: "Down", 63234: "Left", 63235: "Right", 63272: "Delete",
    63273: "Home", 63275: "End", 63276: "PageUp", 63277: "PageDown", 63302: "Insert"
  };

  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }
  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }
  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = "F" + i$2; }

  var keyMap = {};

  keyMap.basic = {
    "Left": "goCharLeft", "Right": "goCharRight", "Up": "goLineUp", "Down": "goLineDown",
    "End": "goLineEnd", "Home": "goLineStartSmart", "PageUp": "goPageUp", "PageDown": "goPageDown",
    "Delete": "delCharAfter", "Backspace": "delCharBefore", "Shift-Backspace": "delCharBefore",
    "Tab": "defaultTab", "Shift-Tab": "indentAuto",
    "Enter": "newlineAndIndent", "Insert": "toggleOverwrite",
    "Esc": "singleSelection"
  };
  keyMap.pcDefault = {
    "Ctrl-A": "selectAll", "Ctrl-D": "deleteLine", "Ctrl-Z": "undo", "Shift-Ctrl-Z": "redo", "Ctrl-Y": "redo",
    "Ctrl-Home": "goDocStart", "Ctrl-End": "goDocEnd", "Ctrl-Up": "goLineUp", "Ctrl-Down": "goLineDown",
    "Ctrl-Left": "goGroupLeft", "Ctrl-Right": "goGroupRight", "Alt-Left": "goLineStart", "Alt-Right": "goLineEnd",
    "Ctrl-Backspace": "delGroupBefore", "Ctrl-Delete": "delGroupAfter", "Ctrl-S": "save", "Ctrl-F": "find",
    "Ctrl-G": "findNext", "Shift-Ctrl-G": "findPrev", "Shift-Ctrl-F": "replace", "Shift-Ctrl-R": "replaceAll",
    "Ctrl-[": "indentLess", "Ctrl-]": "indentMore",
    "Ctrl-U": "undoSelection", "Shift-Ctrl-U": "redoSelection", "Alt-U": "redoSelection",
    "fallthrough": "basic"
  };
  keyMap.emacsy = {
    "Ctrl-F": "goCharRight", "Ctrl-B": "goCharLeft", "Ctrl-P": "goLineUp", "Ctrl-N": "goLineDown",
    "Ctrl-A": "goLineStart", "Ctrl-E": "goLineEnd", "Ctrl-V": "goPageDown", "Shift-Ctrl-V": "goPageUp",
    "Ctrl-D": "delCharAfter", "Ctrl-H": "delCharBefore", "Alt-Backspace": "delWordBefore", "Ctrl-K": "killLine",
    "Ctrl-T": "transposeChars", "Ctrl-O": "openLine"
  };
  keyMap.macDefault = {
    "Cmd-A": "selectAll", "Cmd-D": "deleteLine", "Cmd-Z": "undo", "Shift-Cmd-Z": "redo", "Cmd-Y": "redo",
    "Cmd-Home": "goDocStart", "Cmd-Up": "goDocStart", "Cmd-End": "goDocEnd", "Cmd-Down": "goDocEnd", "Alt-Left": "goGroupLeft",
    "Alt-Right": "goGroupRight", "Cmd-Left": "goLineLeft", "Cmd-Right": "goLineRight", "Alt-Backspace": "delGroupBefore",
    "Ctrl-Alt-Backspace": "delGroupAfter", "Alt-Delete": "delGroupAfter", "Cmd-S": "save", "Cmd-F": "find",
    "Cmd-G": "findNext", "Shift-Cmd-G": "findPrev", "Cmd-Alt-F": "replace", "Shift-Cmd-Alt-F": "replaceAll",
    "Cmd-[": "indentLess", "Cmd-]": "indentMore", "Cmd-Backspace": "delWrappedLineLeft", "Cmd-Delete": "delWrappedLineRight",
    "Cmd-U": "undoSelection", "Shift-Cmd-U": "redoSelection", "Ctrl-Up": "goDocStart", "Ctrl-Down": "goDocEnd",
    "fallthrough": ["basic", "emacsy"]
  };
  keyMap["default"] = mac ? keyMap.macDefault : keyMap.pcDefault;


  function normalizeKeyName(name) {
    var parts = name.split(/-(?!$)/);
    name = parts[parts.length - 1];
    var alt, ctrl, shift, cmd;
    for (var i = 0; i < parts.length - 1; i++) {
      var mod = parts[i];
      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }
      else if (/^a(lt)?$/i.test(mod)) { alt = true; }
      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }
      else if (/^s(hift)?$/i.test(mod)) { shift = true; }
      else { throw new Error("Unrecognized modifier name: " + mod) }
    }
    if (alt) { name = "Alt-" + name; }
    if (ctrl) { name = "Ctrl-" + name; }
    if (cmd) { name = "Cmd-" + name; }
    if (shift) { name = "Shift-" + name; }
    return name
  }

  function normalizeKeyMap(keymap) {
    var copy = {};
    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {
      var value = keymap[keyname];
      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }
      if (value == "...") { delete keymap[keyname]; continue }

      var keys = map(keyname.split(" "), normalizeKeyName);
      for (var i = 0; i < keys.length; i++) {
        var val = (void 0), name = (void 0);
        if (i == keys.length - 1) {
          name = keys.join(" ");
          val = value;
        } else {
          name = keys.slice(0, i + 1).join(" ");
          val = "...";
        }
        var prev = copy[name];
        if (!prev) { copy[name] = val; }
        else if (prev != val) { throw new Error("Inconsistent bindings for " + name) }
      }
      delete keymap[keyname];
    } }
    for (var prop in copy) { keymap[prop] = copy[prop]; }
    return keymap
  }

  function lookupKey(key, map, handle, context) {
    map = getKeyMap(map);
    var found = map.call ? map.call(key, context) : map[key];
    if (found === false) { return "nothing" }
    if (found === "...") { return "multi" }
    if (found != null && handle(found)) { return "handled" }

    if (map.fallthrough) {
      if (Object.prototype.toString.call(map.fallthrough) != "[object Array]")
        { return lookupKey(key, map.fallthrough, handle, context) }
      for (var i = 0; i < map.fallthrough.length; i++) {
        var result = lookupKey(key, map.fallthrough[i], handle, context);
        if (result) { return result }
      }
    }
  }

  function isModifierKey(value) {
    var name = typeof value == "string" ? value : keyNames[value.keyCode];
    return name == "Ctrl" || name == "Alt" || name == "Shift" || name == "Mod"
  }

  function addModifierNames(name, event, noShift) {
    var base = name;
    if (event.altKey && base != "Alt") { name = "Alt-" + name; }
    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != "Ctrl") { name = "Ctrl-" + name; }
    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != "Mod") { name = "Cmd-" + name; }
    if (!noShift && event.shiftKey && base != "Shift") { name = "Shift-" + name; }
    return name
  }

  function keyName(event, noShift) {
    if (presto && event.keyCode == 34 && event["char"]) { return false }
    var name = keyNames[event.keyCode];
    if (name == null || event.altGraphKey) { return false }
    if (event.keyCode == 3 && event.code) { name = event.code; }
    return addModifierNames(name, event, noShift)
  }

  function getKeyMap(val) {
    return typeof val == "string" ? keyMap[val] : val
  }

  function deleteNearSelection(cm, compute) {
    var ranges = cm.doc.sel.ranges, kill = [];
    for (var i = 0; i < ranges.length; i++) {
      var toKill = compute(ranges[i]);
      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {
        var replaced = kill.pop();
        if (cmp(replaced.from, toKill.from) < 0) {
          toKill.from = replaced.from;
          break
        }
      }
      kill.push(toKill);
    }
    runInOp(cm, function () {
      for (var i = kill.length - 1; i >= 0; i--)
        { replaceRange(cm.doc, "", kill[i].from, kill[i].to, "+delete"); }
      ensureCursorVisible(cm);
    });
  }

  function moveCharLogically(line, ch, dir) {
    var target = skipExtendingChars(line.text, ch + dir, dir);
    return target < 0 || target > line.text.length ? null : target
  }

  function moveLogically(line, start, dir) {
    var ch = moveCharLogically(line, start.ch, dir);
    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? "after" : "before")
  }

  function endOfLine(visually, cm, lineObj, lineNo, dir) {
    if (visually) {
      if (cm.doc.direction == "rtl") { dir = -dir; }
      var order = getOrder(lineObj, cm.doc.direction);
      if (order) {
        var part = dir < 0 ? lst(order) : order[0];
        var moveInStorageOrder = (dir < 0) == (part.level == 1);
        var sticky = moveInStorageOrder ? "after" : "before";
        var ch;
        if (part.level > 0 || cm.doc.direction == "rtl") {
          var prep = prepareMeasureForLine(cm, lineObj);
          ch = dir < 0 ? lineObj.text.length - 1 : 0;
          var targetTop = measureCharPrepared(cm, prep, ch).top;
          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);
          if (sticky == "before") { ch = moveCharLogically(lineObj, ch, 1); }
        } else { ch = dir < 0 ? part.to : part.from; }
        return new Pos(lineNo, ch, sticky)
      }
    }
    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? "before" : "after")
  }

  function moveVisually(cm, line, start, dir) {
    var bidi = getOrder(line, cm.doc.direction);
    if (!bidi) { return moveLogically(line, start, dir) }
    if (start.ch >= line.text.length) {
      start.ch = line.text.length;
      start.sticky = "before";
    } else if (start.ch <= 0) {
      start.ch = 0;
      start.sticky = "after";
    }
    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];
    if (cm.doc.direction == "ltr" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {
      return moveLogically(line, start, dir)
    }

    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };
    var prep;
    var getWrappedLineExtent = function (ch) {
      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }
      prep = prep || prepareMeasureForLine(cm, line);
      return wrappedLineExtentChar(cm, line, prep, ch)
    };
    var wrappedLineExtent = getWrappedLineExtent(start.sticky == "before" ? mv(start, -1) : start.ch);

    if (cm.doc.direction == "rtl" || part.level == 1) {
      var moveInStorageOrder = (part.level == 1) == (dir < 0);
      var ch = mv(start, moveInStorageOrder ? 1 : -1);
      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {
        var sticky = moveInStorageOrder ? "before" : "after";
        return new Pos(start.line, ch, sticky)
      }
    }


    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {
      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder
        ? new Pos(start.line, mv(ch, 1), "before")
        : new Pos(start.line, ch, "after"); };

      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {
        var part = bidi[partPos];
        var moveInStorageOrder = (dir > 0) == (part.level != 1);
        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);
        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }
        ch = moveInStorageOrder ? part.from : mv(part.to, -1);
        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }
      }
    };

    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);
    if (res) { return res }

    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);
    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {
      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));
      if (res) { return res }
    }

    return null
  }

  var commands = {
    selectAll: selectAll,
    singleSelection: function (cm) { return cm.setSelection(cm.getCursor("anchor"), cm.getCursor("head"), sel_dontScroll); },
    killLine: function (cm) { return deleteNearSelection(cm, function (range) {
      if (range.empty()) {
        var len = getLine(cm.doc, range.head.line).text.length;
        if (range.head.ch == len && range.head.line < cm.lastLine())
          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }
        else
          { return {from: range.head, to: Pos(range.head.line, len)} }
      } else {
        return {from: range.from(), to: range.to()}
      }
    }); },
    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({
      from: Pos(range.from().line, 0),
      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))
    }); }); },
    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({
      from: Pos(range.from().line, 0), to: range.from()
    }); }); },
    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {
      var top = cm.charCoords(range.head, "div").top + 5;
      var leftPos = cm.coordsChar({left: 0, top: top}, "div");
      return {from: leftPos, to: range.from()}
    }); },
    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {
      var top = cm.charCoords(range.head, "div").top + 5;
      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, "div");
      return {from: range.from(), to: rightPos }
    }); },
    undo: function (cm) { return cm.undo(); },
    redo: function (cm) { return cm.redo(); },
    undoSelection: function (cm) { return cm.undoSelection(); },
    redoSelection: function (cm) { return cm.redoSelection(); },
    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },
    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },
    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },
      {origin: "+move", bias: 1}
    ); },
    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },
      {origin: "+move", bias: 1}
    ); },
    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },
      {origin: "+move", bias: -1}
    ); },
    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {
      var top = cm.cursorCoords(range.head, "div").top + 5;
      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, "div")
    }, sel_move); },
    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {
      var top = cm.cursorCoords(range.head, "div").top + 5;
      return cm.coordsChar({left: 0, top: top}, "div")
    }, sel_move); },
    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {
      var top = cm.cursorCoords(range.head, "div").top + 5;
      var pos = cm.coordsChar({left: 0, top: top}, "div");
      if (pos.ch < cm.getLine(pos.line).search(/\S/)) { return lineStartSmart(cm, range.head) }
      return pos
    }, sel_move); },
    goLineUp: function (cm) { return cm.moveV(-1, "line"); },
    goLineDown: function (cm) { return cm.moveV(1, "line"); },
    goPageUp: function (cm) { return cm.moveV(-1, "page"); },
    goPageDown: function (cm) { return cm.moveV(1, "page"); },
    goCharLeft: function (cm) { return cm.moveH(-1, "char"); },
    goCharRight: function (cm) { return cm.moveH(1, "char"); },
    goColumnLeft: function (cm) { return cm.moveH(-1, "column"); },
    goColumnRight: function (cm) { return cm.moveH(1, "column"); },
    goWordLeft: function (cm) { return cm.moveH(-1, "word"); },
    goGroupRight: function (cm) { return cm.moveH(1, "group"); },
    goGroupLeft: function (cm) { return cm.moveH(-1, "group"); },
    goWordRight: function (cm) { return cm.moveH(1, "word"); },
    delCharBefore: function (cm) { return cm.deleteH(-1, "codepoint"); },
    delCharAfter: function (cm) { return cm.deleteH(1, "char"); },
    delWordBefore: function (cm) { return cm.deleteH(-1, "word"); },
    delWordAfter: function (cm) { return cm.deleteH(1, "word"); },
    delGroupBefore: function (cm) { return cm.deleteH(-1, "group"); },
    delGroupAfter: function (cm) { return cm.deleteH(1, "group"); },
    indentAuto: function (cm) { return cm.indentSelection("smart"); },
    indentMore: function (cm) { return cm.indentSelection("add"); },
    indentLess: function (cm) { return cm.indentSelection("subtract"); },
    insertTab: function (cm) { return cm.replaceSelection("\t"); },
    insertSoftTab: function (cm) {
      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;
      for (var i = 0; i < ranges.length; i++) {
        var pos = ranges[i].from();
        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);
        spaces.push(spaceStr(tabSize - col % tabSize));
      }
      cm.replaceSelections(spaces);
    },
    defaultTab: function (cm) {
      if (cm.somethingSelected()) { cm.indentSelection("add"); }
      else { cm.execCommand("insertTab"); }
    },
    transposeChars: function (cm) { return runInOp(cm, function () {
      var ranges = cm.listSelections(), newSel = [];
      for (var i = 0; i < ranges.length; i++) {
        if (!ranges[i].empty()) { continue }
        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;
        if (line) {
          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }
          if (cur.ch > 0) {
            cur = new Pos(cur.line, cur.ch + 1);
            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),
                            Pos(cur.line, cur.ch - 2), cur, "+transpose");
          } else if (cur.line > cm.doc.first) {
            var prev = getLine(cm.doc, cur.line - 1).text;
            if (prev) {
              cur = new Pos(cur.line, 1);
              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +
                              prev.charAt(prev.length - 1),
                              Pos(cur.line - 1, prev.length - 1), cur, "+transpose");
            }
          }
        }
        newSel.push(new Range(cur, cur));
      }
      cm.setSelections(newSel);
    }); },
    newlineAndIndent: function (cm) { return runInOp(cm, function () {
      var sels = cm.listSelections();
      for (var i = sels.length - 1; i >= 0; i--)
        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, "+input"); }
      sels = cm.listSelections();
      for (var i$1 = 0; i$1 < sels.length; i$1++)
        { cm.indentLine(sels[i$1].from().line, null, true); }
      ensureCursorVisible(cm);
    }); },
    openLine: function (cm) { return cm.replaceSelection("\n", "start"); },
    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }
  };


  function lineStart(cm, lineN) {
    var line = getLine(cm.doc, lineN);
    var visual = visualLine(line);
    if (visual != line) { lineN = lineNo(visual); }
    return endOfLine(true, cm, visual, lineN, 1)
  }
  function lineEnd(cm, lineN) {
    var line = getLine(cm.doc, lineN);
    var visual = visualLineEnd(line);
    if (visual != line) { lineN = lineNo(visual); }
    return endOfLine(true, cm, line, lineN, -1)
  }
  function lineStartSmart(cm, pos) {
    var start = lineStart(cm, pos.line);
    var line = getLine(cm.doc, start.line);
    var order = getOrder(line, cm.doc.direction);
    if (!order || order[0].level == 0) {
      var firstNonWS = Math.max(start.ch, line.text.search(/\S/));
      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;
      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)
    }
    return start
  }

  function doHandleBinding(cm, bound, dropShift) {
    if (typeof bound == "string") {
      bound = commands[bound];
      if (!bound) { return false }
    }
    cm.display.input.ensurePolled();
    var prevShift = cm.display.shift, done = false;
    try {
      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }
      if (dropShift) { cm.display.shift = false; }
      done = bound(cm) != Pass;
    } finally {
      cm.display.shift = prevShift;
      cm.state.suppressEdits = false;
    }
    return done
  }

  function lookupKeyForEditor(cm, name, handle) {
    for (var i = 0; i < cm.state.keyMaps.length; i++) {
      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);
      if (result) { return result }
    }
    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))
      || lookupKey(name, cm.options.keyMap, handle, cm)
  }


  var stopSeq = new Delayed;

  function dispatchKey(cm, name, e, handle) {
    var seq = cm.state.keySeq;
    if (seq) {
      if (isModifierKey(name)) { return "handled" }
      if (/\'$/.test(name))
        { cm.state.keySeq = null; }
      else
        { stopSeq.set(50, function () {
          if (cm.state.keySeq == seq) {
            cm.state.keySeq = null;
            cm.display.input.reset();
          }
        }); }
      if (dispatchKeyInner(cm, seq + " " + name, e, handle)) { return true }
    }
    return dispatchKeyInner(cm, name, e, handle)
  }

  function dispatchKeyInner(cm, name, e, handle) {
    var result = lookupKeyForEditor(cm, name, handle);

    if (result == "multi")
      { cm.state.keySeq = name; }
    if (result == "handled")
      { signalLater(cm, "keyHandled", cm, name, e); }

    if (result == "handled" || result == "multi") {
      e_preventDefault(e);
      restartBlink(cm);
    }

    return !!result
  }

  function handleKeyBinding(cm, e) {
    var name = keyName(e, true);
    if (!name) { return false }

    if (e.shiftKey && !cm.state.keySeq) {
      return dispatchKey(cm, "Shift-" + name, e, function (b) { return doHandleBinding(cm, b, true); })
          || dispatchKey(cm, name, e, function (b) {
               if (typeof b == "string" ? /^go[A-Z]/.test(b) : b.motion)
                 { return doHandleBinding(cm, b) }
             })
    } else {
      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })
    }
  }

  function handleCharBinding(cm, e, ch) {
    return dispatchKey(cm, "'" + ch + "'", e, function (b) { return doHandleBinding(cm, b, true); })
  }

  var lastStoppedKey = null;
  function onKeyDown(e) {
    var cm = this;
    if (e.target && e.target != cm.display.input.getField()) { return }
    cm.curOp.focus = activeElt(doc(cm));
    if (signalDOMEvent(cm, e)) { return }
    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }
    var code = e.keyCode;
    cm.display.shift = code == 16 || e.shiftKey;
    var handled = handleKeyBinding(cm, e);
    if (presto) {
      lastStoppedKey = handled ? code : null;
      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))
        { cm.replaceSelection("", null, "cut"); }
    }
    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand)
      { document.execCommand("cut"); }

    if (code == 18 && !/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className))
      { showCrossHair(cm); }
  }

  function showCrossHair(cm) {
    var lineDiv = cm.display.lineDiv;
    addClass(lineDiv, "CodeMirror-crosshair");

    function up(e) {
      if (e.keyCode == 18 || !e.altKey) {
        rmClass(lineDiv, "CodeMirror-crosshair");
        off(document, "keyup", up);
        off(document, "mouseover", up);
      }
    }
    on(document, "keyup", up);
    on(document, "mouseover", up);
  }

  function onKeyUp(e) {
    if (e.keyCode == 16) { this.doc.sel.shift = false; }
    signalDOMEvent(this, e);
  }

  function onKeyPress(e) {
    var cm = this;
    if (e.target && e.target != cm.display.input.getField()) { return }
    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }
    var keyCode = e.keyCode, charCode = e.charCode;
    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}
    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }
    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);
    if (ch == "\x08") { return }
    if (handleCharBinding(cm, e, ch)) { return }
    cm.display.input.onKeyPress(e);
  }

  var DOUBLECLICK_DELAY = 400;

  var PastClick = function(time, pos, button) {
    this.time = time;
    this.pos = pos;
    this.button = button;
  };

  PastClick.prototype.compare = function (time, pos, button) {
    return this.time + DOUBLECLICK_DELAY > time &&
      cmp(pos, this.pos) == 0 && button == this.button
  };

  var lastClick, lastDoubleClick;
  function clickRepeat(pos, button) {
    var now = +new Date;
    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {
      lastClick = lastDoubleClick = null;
      return "triple"
    } else if (lastClick && lastClick.compare(now, pos, button)) {
      lastDoubleClick = new PastClick(now, pos, button);
      lastClick = null;
      return "double"
    } else {
      lastClick = new PastClick(now, pos, button);
      lastDoubleClick = null;
      return "single"
    }
  }

  function onMouseDown(e) {
    var cm = this, display = cm.display;
    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }
    display.input.ensurePolled();
    display.shift = e.shiftKey;

    if (eventInWidget(display, e)) {
      if (!webkit) {
        display.scroller.draggable = false;
        setTimeout(function () { return display.scroller.draggable = true; }, 100);
      }
      return
    }
    if (clickInGutter(cm, e)) { return }
    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : "single";
    win(cm).focus();

    if (button == 1 && cm.state.selectingText)
      { cm.state.selectingText(e); }

    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }

    if (button == 1) {
      if (pos) { leftButtonDown(cm, pos, repeat, e); }
      else if (e_target(e) == display.scroller) { e_preventDefault(e); }
    } else if (button == 2) {
      if (pos) { extendSelection(cm.doc, pos); }
      setTimeout(function () { return display.input.focus(); }, 20);
    } else if (button == 3) {
      if (captureRightClick) { cm.display.input.onContextMenu(e); }
      else { delayBlurEvent(cm); }
    }
  }

  function handleMappedButton(cm, button, pos, repeat, event) {
    var name = "Click";
    if (repeat == "double") { name = "Double" + name; }
    else if (repeat == "triple") { name = "Triple" + name; }
    name = (button == 1 ? "Left" : button == 2 ? "Middle" : "Right") + name;

    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {
      if (typeof bound == "string") { bound = commands[bound]; }
      if (!bound) { return false }
      var done = false;
      try {
        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }
        done = bound(cm, pos) != Pass;
      } finally {
        cm.state.suppressEdits = false;
      }
      return done
    })
  }

  function configureMouse(cm, repeat, event) {
    var option = cm.getOption("configureMouse");
    var value = option ? option(cm, repeat, event) : {};
    if (value.unit == null) {
      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;
      value.unit = rect ? "rectangle" : repeat == "single" ? "char" : repeat == "double" ? "word" : "line";
    }
    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }
    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }
    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }
    return value
  }

  function leftButtonDown(cm, pos, repeat, event) {
    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }
    else { cm.curOp.focus = activeElt(doc(cm)); }

    var behavior = configureMouse(cm, repeat, event);

    var sel = cm.doc.sel, contained;
    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&
        repeat == "single" && (contained = sel.contains(pos)) > -1 &&
        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&
        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))
      { leftButtonStartDrag(cm, event, pos, behavior); }
    else
      { leftButtonSelect(cm, event, pos, behavior); }
  }

  function leftButtonStartDrag(cm, event, pos, behavior) {
    var display = cm.display, moved = false;
    var dragEnd = operation(cm, function (e) {
      if (webkit) { display.scroller.draggable = false; }
      cm.state.draggingText = false;
      if (cm.state.delayingBlurEvent) {
        if (cm.hasFocus()) { cm.state.delayingBlurEvent = false; }
        else { delayBlurEvent(cm); }
      }
      off(display.wrapper.ownerDocument, "mouseup", dragEnd);
      off(display.wrapper.ownerDocument, "mousemove", mouseMove);
      off(display.scroller, "dragstart", dragStart);
      off(display.scroller, "drop", dragEnd);
      if (!moved) {
        e_preventDefault(e);
        if (!behavior.addNew)
          { extendSelection(cm.doc, pos, null, null, behavior.extend); }
        if ((webkit && !safari) || ie && ie_version == 9)
          { setTimeout(function () {display.wrapper.ownerDocument.body.focus({preventScroll: true}); display.input.focus();}, 20); }
        else
          { display.input.focus(); }
      }
    });
    var mouseMove = function(e2) {
      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;
    };
    var dragStart = function () { return moved = true; };
    if (webkit) { display.scroller.draggable = true; }
    cm.state.draggingText = dragEnd;
    dragEnd.copy = !behavior.moveOnDrag;
    on(display.wrapper.ownerDocument, "mouseup", dragEnd);
    on(display.wrapper.ownerDocument, "mousemove", mouseMove);
    on(display.scroller, "dragstart", dragStart);
    on(display.scroller, "drop", dragEnd);

    cm.state.delayingBlurEvent = true;
    setTimeout(function () { return display.input.focus(); }, 20);
    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }
  }

  function rangeForUnit(cm, pos, unit) {
    if (unit == "char") { return new Range(pos, pos) }
    if (unit == "word") { return cm.findWordAt(pos) }
    if (unit == "line") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }
    var result = unit(cm, pos);
    return new Range(result.from, result.to)
  }

  function leftButtonSelect(cm, event, start, behavior) {
    if (ie) { delayBlurEvent(cm); }
    var display = cm.display, doc$1 = cm.doc;
    e_preventDefault(event);

    var ourRange, ourIndex, startSel = doc$1.sel, ranges = startSel.ranges;
    if (behavior.addNew && !behavior.extend) {
      ourIndex = doc$1.sel.contains(start);
      if (ourIndex > -1)
        { ourRange = ranges[ourIndex]; }
      else
        { ourRange = new Range(start, start); }
    } else {
      ourRange = doc$1.sel.primary();
      ourIndex = doc$1.sel.primIndex;
    }

    if (behavior.unit == "rectangle") {
      if (!behavior.addNew) { ourRange = new Range(start, start); }
      start = posFromMouse(cm, event, true, true);
      ourIndex = -1;
    } else {
      var range = rangeForUnit(cm, start, behavior.unit);
      if (behavior.extend)
        { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend); }
      else
        { ourRange = range; }
    }

    if (!behavior.addNew) {
      ourIndex = 0;
      setSelection(doc$1, new Selection([ourRange], 0), sel_mouse);
      startSel = doc$1.sel;
    } else if (ourIndex == -1) {
      ourIndex = ranges.length;
      setSelection(doc$1, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),
                   {scroll: false, origin: "*mouse"});
    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == "char" && !behavior.extend) {
      setSelection(doc$1, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),
                   {scroll: false, origin: "*mouse"});
      startSel = doc$1.sel;
    } else {
      replaceOneSelection(doc$1, ourIndex, ourRange, sel_mouse);
    }

    var lastPos = start;
    function extendTo(pos) {
      if (cmp(lastPos, pos) == 0) { return }
      lastPos = pos;

      if (behavior.unit == "rectangle") {
        var ranges = [], tabSize = cm.options.tabSize;
        var startCol = countColumn(getLine(doc$1, start.line).text, start.ch, tabSize);
        var posCol = countColumn(getLine(doc$1, pos.line).text, pos.ch, tabSize);
        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);
        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));
             line <= end; line++) {
          var text = getLine(doc$1, line).text, leftPos = findColumn(text, left, tabSize);
          if (left == right)
            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }
          else if (text.length > leftPos)
            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }
        }
        if (!ranges.length) { ranges.push(new Range(start, start)); }
        setSelection(doc$1, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),
                     {origin: "*mouse", scroll: false});
        cm.scrollIntoView(pos);
      } else {
        var oldRange = ourRange;
        var range = rangeForUnit(cm, pos, behavior.unit);
        var anchor = oldRange.anchor, head;
        if (cmp(range.anchor, anchor) > 0) {
          head = range.head;
          anchor = minPos(oldRange.from(), range.anchor);
        } else {
          head = range.anchor;
          anchor = maxPos(oldRange.to(), range.head);
        }
        var ranges$1 = startSel.ranges.slice(0);
        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc$1, anchor), head));
        setSelection(doc$1, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);
      }
    }

    var editorSize = display.wrapper.getBoundingClientRect();
    var counter = 0;

    function extend(e) {
      var curCount = ++counter;
      var cur = posFromMouse(cm, e, true, behavior.unit == "rectangle");
      if (!cur) { return }
      if (cmp(cur, lastPos) != 0) {
        cm.curOp.focus = activeElt(doc(cm));
        extendTo(cur);
        var visible = visibleLines(display, doc$1);
        if (cur.line >= visible.to || cur.line < visible.from)
          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }
      } else {
        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;
        if (outside) { setTimeout(operation(cm, function () {
          if (counter != curCount) { return }
          display.scroller.scrollTop += outside;
          extend(e);
        }), 50); }
      }
    }

    function done(e) {
      cm.state.selectingText = false;
      counter = Infinity;
      if (e) {
        e_preventDefault(e);
        display.input.focus();
      }
      off(display.wrapper.ownerDocument, "mousemove", move);
      off(display.wrapper.ownerDocument, "mouseup", up);
      doc$1.history.lastSelOrigin = null;
    }

    var move = operation(cm, function (e) {
      if (e.buttons === 0 || !e_button(e)) { done(e); }
      else { extend(e); }
    });
    var up = operation(cm, done);
    cm.state.selectingText = up;
    on(display.wrapper.ownerDocument, "mousemove", move);
    on(display.wrapper.ownerDocument, "mouseup", up);
  }

  function bidiSimplify(cm, range) {
    var anchor = range.anchor;
    var head = range.head;
    var anchorLine = getLine(cm.doc, anchor.line);
    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }
    var order = getOrder(anchorLine);
    if (!order) { return range }
    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];
    if (part.from != anchor.ch && part.to != anchor.ch) { return range }
    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);
    if (boundary == 0 || boundary == order.length) { return range }

    var leftSide;
    if (head.line != anchor.line) {
      leftSide = (head.line - anchor.line) * (cm.doc.direction == "ltr" ? 1 : -1) > 0;
    } else {
      var headIndex = getBidiPartAt(order, head.ch, head.sticky);
      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);
      if (headIndex == boundary - 1 || headIndex == boundary)
        { leftSide = dir < 0; }
      else
        { leftSide = dir > 0; }
    }

    var usePart = order[boundary + (leftSide ? -1 : 0)];
    var from = leftSide == (usePart.level == 1);
    var ch = from ? usePart.from : usePart.to, sticky = from ? "after" : "before";
    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)
  }


  function gutterEvent(cm, e, type, prevent) {
    var mX, mY;
    if (e.touches) {
      mX = e.touches[0].clientX;
      mY = e.touches[0].clientY;
    } else {
      try { mX = e.clientX; mY = e.clientY; }
      catch(e$1) { return false }
    }
    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }
    if (prevent) { e_preventDefault(e); }

    var display = cm.display;
    var lineBox = display.lineDiv.getBoundingClientRect();

    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }
    mY -= lineBox.top - display.viewOffset;

    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {
      var g = display.gutters.childNodes[i];
      if (g && g.getBoundingClientRect().right >= mX) {
        var line = lineAtHeight(cm.doc, mY);
        var gutter = cm.display.gutterSpecs[i];
        signal(cm, type, cm, line, gutter.className, e);
        return e_defaultPrevented(e)
      }
    }
  }

  function clickInGutter(cm, e) {
    return gutterEvent(cm, e, "gutterClick", true)
  }


  function onContextMenu(cm, e) {
    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }
    if (signalDOMEvent(cm, e, "contextmenu")) { return }
    if (!captureRightClick) { cm.display.input.onContextMenu(e); }
  }

  function contextMenuInGutter(cm, e) {
    if (!hasHandler(cm, "gutterContextMenu")) { return false }
    return gutterEvent(cm, e, "gutterContextMenu", false)
  }

  function themeChanged(cm) {
    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\s*cm-s-\S+/g, "") +
      cm.options.theme.replace(/(^|\s)\s*/g, " cm-s-");
    clearCaches(cm);
  }

  var Init = {toString: function(){return "CodeMirror.Init"}};

  var defaults = {};
  var optionHandlers = {};

  function defineOptions(CodeMirror) {
    var optionHandlers = CodeMirror.optionHandlers;

    function option(name, deflt, handle, notOnInit) {
      CodeMirror.defaults[name] = deflt;
      if (handle) { optionHandlers[name] =
        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }
    }

    CodeMirror.defineOption = option;

    CodeMirror.Init = Init;

    option("value", "", function (cm, val) { return cm.setValue(val); }, true);
    option("mode", null, function (cm, val) {
      cm.doc.modeOption = val;
      loadMode(cm);
    }, true);

    option("indentUnit", 2, loadMode, true);
    option("indentWithTabs", false);
    option("smartIndent", true);
    option("tabSize", 4, function (cm) {
      resetModeState(cm);
      clearCaches(cm);
      regChange(cm);
    }, true);

    option("lineSeparator", null, function (cm, val) {
      cm.doc.lineSep = val;
      if (!val) { return }
      var newBreaks = [], lineNo = cm.doc.first;
      cm.doc.iter(function (line) {
        for (var pos = 0;;) {
          var found = line.text.indexOf(val, pos);
          if (found == -1) { break }
          pos = found + val.length;
          newBreaks.push(Pos(lineNo, found));
        }
        lineNo++;
      });
      for (var i = newBreaks.length - 1; i >= 0; i--)
        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }
    });
    option("specialChars", /[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g, function (cm, val, old) {
      cm.state.specialChars = new RegExp(val.source + (val.test("\t") ? "" : "|\t"), "g");
      if (old != Init) { cm.refresh(); }
    });
    option("specialCharPlaceholder", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);
    option("electricChars", true);
    option("inputStyle", mobile ? "contenteditable" : "textarea", function () {
      throw new Error("inputStyle can not (yet) be changed in a running editor") 
    }, true);
    option("spellcheck", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);
    option("autocorrect", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);
    option("autocapitalize", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);
    option("rtlMoveVisually", !windows);
    option("wholeLineUpdateBefore", true);

    option("theme", "default", function (cm) {
      themeChanged(cm);
      updateGutters(cm);
    }, true);
    option("keyMap", "default", function (cm, val, old) {
      var next = getKeyMap(val);
      var prev = old != Init && getKeyMap(old);
      if (prev && prev.detach) { prev.detach(cm, next); }
      if (next.attach) { next.attach(cm, prev || null); }
    });
    option("extraKeys", null);
    option("configureMouse", null);

    option("lineWrapping", false, wrappingChanged, true);
    option("gutters", [], function (cm, val) {
      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);
      updateGutters(cm);
    }, true);
    option("fixedGutter", true, function (cm, val) {
      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + "px" : "0";
      cm.refresh();
    }, true);
    option("coverGutterNextToScrollbar", false, function (cm) { return updateScrollbars(cm); }, true);
    option("scrollbarStyle", "native", function (cm) {
      initScrollbars(cm);
      updateScrollbars(cm);
      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);
      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);
    }, true);
    option("lineNumbers", false, function (cm, val) {
      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);
      updateGutters(cm);
    }, true);
    option("firstLineNumber", 1, updateGutters, true);
    option("lineNumberFormatter", function (integer) { return integer; }, updateGutters, true);
    option("showCursorWhenSelecting", false, updateSelection, true);

    option("resetSelectionOnContextMenu", true);
    option("lineWiseCopyCut", true);
    option("pasteLinesPerSelection", true);
    option("selectionsMayTouch", false);

    option("readOnly", false, function (cm, val) {
      if (val == "nocursor") {
        onBlur(cm);
        cm.display.input.blur();
      }
      cm.display.input.readOnlyChanged(val);
    });

    option("screenReaderLabel", null, function (cm, val) {
      val = (val === '') ? null : val;
      cm.display.input.screenReaderLabelChanged(val);
    });

    option("disableInput", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);
    option("dragDrop", true, dragDropChanged);
    option("allowDropFileTypes", null);

    option("cursorBlinkRate", 530);
    option("cursorScrollMargin", 0);
    option("cursorHeight", 1, updateSelection, true);
    option("singleCursorHeightPerLine", true, updateSelection, true);
    option("workTime", 100);
    option("workDelay", 100);
    option("flattenSpans", true, resetModeState, true);
    option("addModeClass", false, resetModeState, true);
    option("pollInterval", 100);
    option("undoDepth", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });
    option("historyEventDelay", 1250);
    option("viewportMargin", 10, function (cm) { return cm.refresh(); }, true);
    option("maxHighlightLength", 10000, resetModeState, true);
    option("moveInputWithCursor", true, function (cm, val) {
      if (!val) { cm.display.input.resetPosition(); }
    });

    option("tabindex", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || ""; });
    option("autofocus", null);
    option("direction", "ltr", function (cm, val) { return cm.doc.setDirection(val); }, true);
    option("phrases", null);
  }

  function dragDropChanged(cm, value, old) {
    var wasOn = old && old != Init;
    if (!value != !wasOn) {
      var funcs = cm.display.dragFunctions;
      var toggle = value ? on : off;
      toggle(cm.display.scroller, "dragstart", funcs.start);
      toggle(cm.display.scroller, "dragenter", funcs.enter);
      toggle(cm.display.scroller, "dragover", funcs.over);
      toggle(cm.display.scroller, "dragleave", funcs.leave);
      toggle(cm.display.scroller, "drop", funcs.drop);
    }
  }

  function wrappingChanged(cm) {
    if (cm.options.lineWrapping) {
      addClass(cm.display.wrapper, "CodeMirror-wrap");
      cm.display.sizer.style.minWidth = "";
      cm.display.sizerWidth = null;
    } else {
      rmClass(cm.display.wrapper, "CodeMirror-wrap");
      findMaxLine(cm);
    }
    estimateLineHeights(cm);
    regChange(cm);
    clearCaches(cm);
    setTimeout(function () { return updateScrollbars(cm); }, 100);
  }


  function CodeMirror(place, options) {
    var this$1 = this;

    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }

    this.options = options = options ? copyObj(options) : {};
    copyObj(defaults, options, false);

    var doc = options.value;
    if (typeof doc == "string") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }
    else if (options.mode) { doc.modeOption = options.mode; }
    this.doc = doc;

    var input = new CodeMirror.inputStyles[options.inputStyle](this);
    var display = this.display = new Display(place, doc, input, options);
    display.wrapper.CodeMirror = this;
    themeChanged(this);
    if (options.lineWrapping)
      { this.display.wrapper.className += " CodeMirror-wrap"; }
    initScrollbars(this);

    this.state = {
      keyMaps: [],  
      overlays: [], 
      modeGen: 0,   
      overwrite: false,
      delayingBlurEvent: false,
      focused: false,
      suppressEdits: false, 
      pasteIncoming: -1, cutIncoming: -1, 
      selectingText: false,
      draggingText: false,
      highlight: new Delayed(), 
      keySeq: null,  
      specialChars: null
    };

    if (options.autofocus && !mobile) { display.input.focus(); }

    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }

    registerEventHandlers(this);
    ensureGlobalHandlers();

    startOperation(this);
    this.curOp.forceUpdate = true;
    attachDoc(this, doc);

    if ((options.autofocus && !mobile) || this.hasFocus())
      { setTimeout(function () {
        if (this$1.hasFocus() && !this$1.state.focused) { onFocus(this$1); }
      }, 20); }
    else
      { onBlur(this); }

    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))
      { optionHandlers[opt](this, options[opt], Init); } }
    maybeUpdateLineNumberWidth(this);
    if (options.finishInit) { options.finishInit(this); }
    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this); }
    endOperation(this);
    if (webkit && options.lineWrapping &&
        getComputedStyle(display.lineDiv).textRendering == "optimizelegibility")
      { display.lineDiv.style.textRendering = "auto"; }
  }

  CodeMirror.defaults = defaults;
  CodeMirror.optionHandlers = optionHandlers;

  function registerEventHandlers(cm) {
    var d = cm.display;
    on(d.scroller, "mousedown", operation(cm, onMouseDown));
    if (ie && ie_version < 11)
      { on(d.scroller, "dblclick", operation(cm, function (e) {
        if (signalDOMEvent(cm, e)) { return }
        var pos = posFromMouse(cm, e);
        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }
        e_preventDefault(e);
        var word = cm.findWordAt(pos);
        extendSelection(cm.doc, word.anchor, word.head);
      })); }
    else
      { on(d.scroller, "dblclick", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }
    on(d.scroller, "contextmenu", function (e) { return onContextMenu(cm, e); });
    on(d.input.getField(), "contextmenu", function (e) {
      if (!d.scroller.contains(e.target)) { onContextMenu(cm, e); }
    });

    var touchFinished, prevTouch = {end: 0};
    function finishTouch() {
      if (d.activeTouch) {
        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);
        prevTouch = d.activeTouch;
        prevTouch.end = +new Date;
      }
    }
    function isMouseLikeTouchEvent(e) {
      if (e.touches.length != 1) { return false }
      var touch = e.touches[0];
      return touch.radiusX <= 1 && touch.radiusY <= 1
    }
    function farAway(touch, other) {
      if (other.left == null) { return true }
      var dx = other.left - touch.left, dy = other.top - touch.top;
      return dx * dx + dy * dy > 20 * 20
    }
    on(d.scroller, "touchstart", function (e) {
      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {
        d.input.ensurePolled();
        clearTimeout(touchFinished);
        var now = +new Date;
        d.activeTouch = {start: now, moved: false,
                         prev: now - prevTouch.end <= 300 ? prevTouch : null};
        if (e.touches.length == 1) {
          d.activeTouch.left = e.touches[0].pageX;
          d.activeTouch.top = e.touches[0].pageY;
        }
      }
    });
    on(d.scroller, "touchmove", function () {
      if (d.activeTouch) { d.activeTouch.moved = true; }
    });
    on(d.scroller, "touchend", function (e) {
      var touch = d.activeTouch;
      if (touch && !eventInWidget(d, e) && touch.left != null &&
          !touch.moved && new Date - touch.start < 300) {
        var pos = cm.coordsChar(d.activeTouch, "page"), range;
        if (!touch.prev || farAway(touch, touch.prev)) 
          { range = new Range(pos, pos); }
        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) 
          { range = cm.findWordAt(pos); }
        else 
          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }
        cm.setSelection(range.anchor, range.head);
        cm.focus();
        e_preventDefault(e);
      }
      finishTouch();
    });
    on(d.scroller, "touchcancel", finishTouch);

    on(d.scroller, "scroll", function () {
      if (d.scroller.clientHeight) {
        updateScrollTop(cm, d.scroller.scrollTop);
        setScrollLeft(cm, d.scroller.scrollLeft, true);
        signal(cm, "scroll", cm);
      }
    });

    on(d.scroller, "mousewheel", function (e) { return onScrollWheel(cm, e); });
    on(d.scroller, "DOMMouseScroll", function (e) { return onScrollWheel(cm, e); });

    on(d.wrapper, "scroll", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });

    d.dragFunctions = {
      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},
      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},
      start: function (e) { return onDragStart(cm, e); },
      drop: operation(cm, onDrop),
      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}
    };

    var inp = d.input.getField();
    on(inp, "keyup", function (e) { return onKeyUp.call(cm, e); });
    on(inp, "keydown", operation(cm, onKeyDown));
    on(inp, "keypress", operation(cm, onKeyPress));
    on(inp, "focus", function (e) { return onFocus(cm, e); });
    on(inp, "blur", function (e) { return onBlur(cm, e); });
  }

  var initHooks = [];
  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };

  function indentLine(cm, n, how, aggressive) {
    var doc = cm.doc, state;
    if (how == null) { how = "add"; }
    if (how == "smart") {
      if (!doc.mode.indent) { how = "prev"; }
      else { state = getContextBefore(cm, n).state; }
    }

    var tabSize = cm.options.tabSize;
    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);
    if (line.stateAfter) { line.stateAfter = null; }
    var curSpaceString = line.text.match(/^\s*/)[0], indentation;
    if (!aggressive && !/\S/.test(line.text)) {
      indentation = 0;
      how = "not";
    } else if (how == "smart") {
      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);
      if (indentation == Pass || indentation > 150) {
        if (!aggressive) { return }
        how = "prev";
      }
    }
    if (how == "prev") {
      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }
      else { indentation = 0; }
    } else if (how == "add") {
      indentation = curSpace + cm.options.indentUnit;
    } else if (how == "subtract") {
      indentation = curSpace - cm.options.indentUnit;
    } else if (typeof how == "number") {
      indentation = curSpace + how;
    }
    indentation = Math.max(0, indentation);

    var indentString = "", pos = 0;
    if (cm.options.indentWithTabs)
      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += "\t";} }
    if (pos < indentation) { indentString += spaceStr(indentation - pos); }

    if (indentString != curSpaceString) {
      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), "+input");
      line.stateAfter = null;
      return true
    } else {
      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {
        var range = doc.sel.ranges[i$1];
        if (range.head.line == n && range.head.ch < curSpaceString.length) {
          var pos$1 = Pos(n, curSpaceString.length);
          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));
          break
        }
      }
    }
  }

  var lastCopied = null;

  function setLastCopied(newLastCopied) {
    lastCopied = newLastCopied;
  }

  function applyTextInput(cm, inserted, deleted, sel, origin) {
    var doc = cm.doc;
    cm.display.shift = false;
    if (!sel) { sel = doc.sel; }

    var recent = +new Date - 200;
    var paste = origin == "paste" || cm.state.pasteIncoming > recent;
    var textLines = splitLinesAuto(inserted), multiPaste = null;
    if (paste && sel.ranges.length > 1) {
      if (lastCopied && lastCopied.text.join("\n") == inserted) {
        if (sel.ranges.length % lastCopied.text.length == 0) {
          multiPaste = [];
          for (var i = 0; i < lastCopied.text.length; i++)
            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }
        }
      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {
        multiPaste = map(textLines, function (l) { return [l]; });
      }
    }

    var updateInput = cm.curOp.updateInput;
    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {
      var range = sel.ranges[i$1];
      var from = range.from(), to = range.to();
      if (range.empty()) {
        if (deleted && deleted > 0) 
          { from = Pos(from.line, from.ch - deleted); }
        else if (cm.state.overwrite && !paste) 
          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }
        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join("\n") == textLines.join("\n"))
          { from = to = Pos(from.line, 0); }
      }
      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,
                         origin: origin || (paste ? "paste" : cm.state.cutIncoming > recent ? "cut" : "+input")};
      makeChange(cm.doc, changeEvent);
      signalLater(cm, "inputRead", cm, changeEvent);
    }
    if (inserted && !paste)
      { triggerElectric(cm, inserted); }

    ensureCursorVisible(cm);
    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }
    cm.curOp.typing = true;
    cm.state.pasteIncoming = cm.state.cutIncoming = -1;
  }

  function handlePaste(e, cm) {
    var pasted = e.clipboardData && e.clipboardData.getData("Text");
    if (pasted) {
      e.preventDefault();
      if (!cm.isReadOnly() && !cm.options.disableInput && cm.hasFocus())
        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, "paste"); }); }
      return true
    }
  }

  function triggerElectric(cm, inserted) {
    if (!cm.options.electricChars || !cm.options.smartIndent) { return }
    var sel = cm.doc.sel;

    for (var i = sel.ranges.length - 1; i >= 0; i--) {
      var range = sel.ranges[i];
      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }
      var mode = cm.getModeAt(range.head);
      var indented = false;
      if (mode.electricChars) {
        for (var j = 0; j < mode.electricChars.length; j++)
          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {
            indented = indentLine(cm, range.head.line, "smart");
            break
          } }
      } else if (mode.electricInput) {
        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))
          { indented = indentLine(cm, range.head.line, "smart"); }
      }
      if (indented) { signalLater(cm, "electricInput", cm, range.head.line); }
    }
  }

  function copyableRanges(cm) {
    var text = [], ranges = [];
    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {
      var line = cm.doc.sel.ranges[i].head.line;
      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};
      ranges.push(lineRange);
      text.push(cm.getRange(lineRange.anchor, lineRange.head));
    }
    return {text: text, ranges: ranges}
  }

  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {
    field.setAttribute("autocorrect", autocorrect ? "" : "off");
    field.setAttribute("autocapitalize", autocapitalize ? "" : "off");
    field.setAttribute("spellcheck", !!spellcheck);
  }

  function hiddenTextarea() {
    var te = elt("textarea", null, null, "position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none");
    var div = elt("div", [te], null, "overflow: hidden; position: relative; width: 3px; height: 0px;");
    if (webkit) { te.style.width = "1000px"; }
    else { te.setAttribute("wrap", "off"); }
    if (ios) { te.style.border = "1px solid black"; }
    disableBrowserMagic(te);
    return div
  }



  function addEditorMethods(CodeMirror) {
    var optionHandlers = CodeMirror.optionHandlers;

    var helpers = CodeMirror.helpers = {};

    CodeMirror.prototype = {
      constructor: CodeMirror,
      focus: function(){win(this).focus(); this.display.input.focus();},

      setOption: function(option, value) {
        var options = this.options, old = options[option];
        if (options[option] == value && option != "mode") { return }
        options[option] = value;
        if (optionHandlers.hasOwnProperty(option))
          { operation(this, optionHandlers[option])(this, value, old); }
        signal(this, "optionChange", this, option);
      },

      getOption: function(option) {return this.options[option]},
      getDoc: function() {return this.doc},

      addKeyMap: function(map, bottom) {
        this.state.keyMaps[bottom ? "push" : "unshift"](getKeyMap(map));
      },
      removeKeyMap: function(map) {
        var maps = this.state.keyMaps;
        for (var i = 0; i < maps.length; ++i)
          { if (maps[i] == map || maps[i].name == map) {
            maps.splice(i, 1);
            return true
          } }
      },

      addOverlay: methodOp(function(spec, options) {
        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);
        if (mode.startState) { throw new Error("Overlays may not be stateful.") }
        insertSorted(this.state.overlays,
                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,
                      priority: (options && options.priority) || 0},
                     function (overlay) { return overlay.priority; });
        this.state.modeGen++;
        regChange(this);
      }),
      removeOverlay: methodOp(function(spec) {
        var overlays = this.state.overlays;
        for (var i = 0; i < overlays.length; ++i) {
          var cur = overlays[i].modeSpec;
          if (cur == spec || typeof spec == "string" && cur.name == spec) {
            overlays.splice(i, 1);
            this.state.modeGen++;
            regChange(this);
            return
          }
        }
      }),

      indentLine: methodOp(function(n, dir, aggressive) {
        if (typeof dir != "string" && typeof dir != "number") {
          if (dir == null) { dir = this.options.smartIndent ? "smart" : "prev"; }
          else { dir = dir ? "add" : "subtract"; }
        }
        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }
      }),
      indentSelection: methodOp(function(how) {
        var ranges = this.doc.sel.ranges, end = -1;
        for (var i = 0; i < ranges.length; i++) {
          var range = ranges[i];
          if (!range.empty()) {
            var from = range.from(), to = range.to();
            var start = Math.max(end, from.line);
            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;
            for (var j = start; j < end; ++j)
              { indentLine(this, j, how); }
            var newRanges = this.doc.sel.ranges;
            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)
              { replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }
          } else if (range.head.line > end) {
            indentLine(this, range.head.line, how, true);
            end = range.head.line;
            if (i == this.doc.sel.primIndex) { ensureCursorVisible(this); }
          }
        }
      }),

      getTokenAt: function(pos, precise) {
        return takeToken(this, pos, precise)
      },

      getLineTokens: function(line, precise) {
        return takeToken(this, Pos(line), precise, true)
      },

      getTokenTypeAt: function(pos) {
        pos = clipPos(this.doc, pos);
        var styles = getLineStyles(this, getLine(this.doc, pos.line));
        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;
        var type;
        if (ch == 0) { type = styles[2]; }
        else { for (;;) {
          var mid = (before + after) >> 1;
          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }
          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }
          else { type = styles[mid * 2 + 2]; break }
        } }
        var cut = type ? type.indexOf("overlay ") : -1;
        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)
      },

      getModeAt: function(pos) {
        var mode = this.doc.mode;
        if (!mode.innerMode) { return mode }
        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode
      },

      getHelper: function(pos, type) {
        return this.getHelpers(pos, type)[0]
      },

      getHelpers: function(pos, type) {
        var found = [];
        if (!helpers.hasOwnProperty(type)) { return found }
        var help = helpers[type], mode = this.getModeAt(pos);
        if (typeof mode[type] == "string") {
          if (help[mode[type]]) { found.push(help[mode[type]]); }
        } else if (mode[type]) {
          for (var i = 0; i < mode[type].length; i++) {
            var val = help[mode[type][i]];
            if (val) { found.push(val); }
          }
        } else if (mode.helperType && help[mode.helperType]) {
          found.push(help[mode.helperType]);
        } else if (help[mode.name]) {
          found.push(help[mode.name]);
        }
        for (var i$1 = 0; i$1 < help._global.length; i$1++) {
          var cur = help._global[i$1];
          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)
            { found.push(cur.val); }
        }
        return found
      },

      getStateAfter: function(line, precise) {
        var doc = this.doc;
        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);
        return getContextBefore(this, line + 1, precise).state
      },

      cursorCoords: function(start, mode) {
        var pos, range = this.doc.sel.primary();
        if (start == null) { pos = range.head; }
        else if (typeof start == "object") { pos = clipPos(this.doc, start); }
        else { pos = start ? range.from() : range.to(); }
        return cursorCoords(this, pos, mode || "page")
      },

      charCoords: function(pos, mode) {
        return charCoords(this, clipPos(this.doc, pos), mode || "page")
      },

      coordsChar: function(coords, mode) {
        coords = fromCoordSystem(this, coords, mode || "page");
        return coordsChar(this, coords.left, coords.top)
      },

      lineAtHeight: function(height, mode) {
        height = fromCoordSystem(this, {top: height, left: 0}, mode || "page").top;
        return lineAtHeight(this.doc, height + this.display.viewOffset)
      },
      heightAtLine: function(line, mode, includeWidgets) {
        var end = false, lineObj;
        if (typeof line == "number") {
          var last = this.doc.first + this.doc.size - 1;
          if (line < this.doc.first) { line = this.doc.first; }
          else if (line > last) { line = last; end = true; }
          lineObj = getLine(this.doc, line);
        } else {
          lineObj = line;
        }
        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || "page", includeWidgets || end).top +
          (end ? this.doc.height - heightAtLine(lineObj) : 0)
      },

      defaultTextHeight: function() { return textHeight(this.display) },
      defaultCharWidth: function() { return charWidth(this.display) },

      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},

      addWidget: function(pos, node, scroll, vert, horiz) {
        var display = this.display;
        pos = cursorCoords(this, clipPos(this.doc, pos));
        var top = pos.bottom, left = pos.left;
        node.style.position = "absolute";
        node.setAttribute("cm-ignore-events", "true");
        this.display.input.setUneditable(node);
        display.sizer.appendChild(node);
        if (vert == "over") {
          top = pos.top;
        } else if (vert == "above" || vert == "near") {
          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),
          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);
          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)
            { top = pos.top - node.offsetHeight; }
          else if (pos.bottom + node.offsetHeight <= vspace)
            { top = pos.bottom; }
          if (left + node.offsetWidth > hspace)
            { left = hspace - node.offsetWidth; }
        }
        node.style.top = top + "px";
        node.style.left = node.style.right = "";
        if (horiz == "right") {
          left = display.sizer.clientWidth - node.offsetWidth;
          node.style.right = "0px";
        } else {
          if (horiz == "left") { left = 0; }
          else if (horiz == "middle") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }
          node.style.left = left + "px";
        }
        if (scroll)
          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }
      },

      triggerOnKeyDown: methodOp(onKeyDown),
      triggerOnKeyPress: methodOp(onKeyPress),
      triggerOnKeyUp: onKeyUp,
      triggerOnMouseDown: methodOp(onMouseDown),

      execCommand: function(cmd) {
        if (commands.hasOwnProperty(cmd))
          { return commands[cmd].call(null, this) }
      },

      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),

      findPosH: function(from, amount, unit, visually) {
        var dir = 1;
        if (amount < 0) { dir = -1; amount = -amount; }
        var cur = clipPos(this.doc, from);
        for (var i = 0; i < amount; ++i) {
          cur = findPosH(this.doc, cur, dir, unit, visually);
          if (cur.hitSide) { break }
        }
        return cur
      },

      moveH: methodOp(function(dir, unit) {
        var this$1 = this;

        this.extendSelectionsBy(function (range) {
          if (this$1.display.shift || this$1.doc.extend || range.empty())
            { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }
          else
            { return dir < 0 ? range.from() : range.to() }
        }, sel_move);
      }),

      deleteH: methodOp(function(dir, unit) {
        var sel = this.doc.sel, doc = this.doc;
        if (sel.somethingSelected())
          { doc.replaceSelection("", null, "+delete"); }
        else
          { deleteNearSelection(this, function (range) {
            var other = findPosH(doc, range.head, dir, unit, false);
            return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}
          }); }
      }),

      findPosV: function(from, amount, unit, goalColumn) {
        var dir = 1, x = goalColumn;
        if (amount < 0) { dir = -1; amount = -amount; }
        var cur = clipPos(this.doc, from);
        for (var i = 0; i < amount; ++i) {
          var coords = cursorCoords(this, cur, "div");
          if (x == null) { x = coords.left; }
          else { coords.left = x; }
          cur = findPosV(this, coords, dir, unit);
          if (cur.hitSide) { break }
        }
        return cur
      },

      moveV: methodOp(function(dir, unit) {
        var this$1 = this;

        var doc = this.doc, goals = [];
        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();
        doc.extendSelectionsBy(function (range) {
          if (collapse)
            { return dir < 0 ? range.from() : range.to() }
          var headPos = cursorCoords(this$1, range.head, "div");
          if (range.goalColumn != null) { headPos.left = range.goalColumn; }
          goals.push(headPos.left);
          var pos = findPosV(this$1, headPos, dir, unit);
          if (unit == "page" && range == doc.sel.primary())
            { addToScrollTop(this$1, charCoords(this$1, pos, "div").top - headPos.top); }
          return pos
        }, sel_move);
        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)
          { doc.sel.ranges[i].goalColumn = goals[i]; } }
      }),

      findWordAt: function(pos) {
        var doc = this.doc, line = getLine(doc, pos.line).text;
        var start = pos.ch, end = pos.ch;
        if (line) {
          var helper = this.getHelper(pos, "wordChars");
          if ((pos.sticky == "before" || end == line.length) && start) { --start; } else { ++end; }
          var startChar = line.charAt(start);
          var check = isWordChar(startChar, helper)
            ? function (ch) { return isWordChar(ch, helper); }
            : /\s/.test(startChar) ? function (ch) { return /\s/.test(ch); }
            : function (ch) { return (!/\s/.test(ch) && !isWordChar(ch)); };
          while (start > 0 && check(line.charAt(start - 1))) { --start; }
          while (end < line.length && check(line.charAt(end))) { ++end; }
        }
        return new Range(Pos(pos.line, start), Pos(pos.line, end))
      },

      toggleOverwrite: function(value) {
        if (value != null && value == this.state.overwrite) { return }
        if (this.state.overwrite = !this.state.overwrite)
          { addClass(this.display.cursorDiv, "CodeMirror-overwrite"); }
        else
          { rmClass(this.display.cursorDiv, "CodeMirror-overwrite"); }

        signal(this, "overwriteToggle", this, this.state.overwrite);
      },
      hasFocus: function() { return this.display.input.getField() == activeElt(doc(this)) },
      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },

      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),
      getScrollInfo: function() {
        var scroller = this.display.scroller;
        return {left: scroller.scrollLeft, top: scroller.scrollTop,
                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,
                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,
                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}
      },

      scrollIntoView: methodOp(function(range, margin) {
        if (range == null) {
          range = {from: this.doc.sel.primary().head, to: null};
          if (margin == null) { margin = this.options.cursorScrollMargin; }
        } else if (typeof range == "number") {
          range = {from: Pos(range, 0), to: null};
        } else if (range.from == null) {
          range = {from: range, to: null};
        }
        if (!range.to) { range.to = range.from; }
        range.margin = margin || 0;

        if (range.from.line != null) {
          scrollToRange(this, range);
        } else {
          scrollToCoordsRange(this, range.from, range.to, range.margin);
        }
      }),

      setSize: methodOp(function(width, height) {
        var this$1 = this;

        var interpret = function (val) { return typeof val == "number" || /^\d+$/.test(String(val)) ? val + "px" : val; };
        if (width != null) { this.display.wrapper.style.width = interpret(width); }
        if (height != null) { this.display.wrapper.style.height = interpret(height); }
        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }
        var lineNo = this.display.viewFrom;
        this.doc.iter(lineNo, this.display.viewTo, function (line) {
          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)
            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, "widget"); break } } }
          ++lineNo;
        });
        this.curOp.forceUpdate = true;
        signal(this, "refresh", this);
      }),

      operation: function(f){return runInOp(this, f)},
      startOperation: function(){return startOperation(this)},
      endOperation: function(){return endOperation(this)},

      refresh: methodOp(function() {
        var oldHeight = this.display.cachedTextHeight;
        regChange(this);
        this.curOp.forceUpdate = true;
        clearCaches(this);
        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);
        updateGutterSpace(this.display);
        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping)
          { estimateLineHeights(this); }
        signal(this, "refresh", this);
      }),

      swapDoc: methodOp(function(doc) {
        var old = this.doc;
        old.cm = null;
        if (this.state.selectingText) { this.state.selectingText(); }
        attachDoc(this, doc);
        clearCaches(this);
        this.display.input.reset();
        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);
        this.curOp.forceScroll = true;
        signalLater(this, "swapDoc", this, old);
        return old
      }),

      phrase: function(phraseText) {
        var phrases = this.options.phrases;
        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText
      },

      getInputField: function(){return this.display.input.getField()},
      getWrapperElement: function(){return this.display.wrapper},
      getScrollerElement: function(){return this.display.scroller},
      getGutterElement: function(){return this.display.gutters}
    };
    eventMixin(CodeMirror);

    CodeMirror.registerHelper = function(type, name, value) {
      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }
      helpers[type][name] = value;
    };
    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {
      CodeMirror.registerHelper(type, name, value);
      helpers[type]._global.push({pred: predicate, val: value});
    };
  }

  function findPosH(doc, pos, dir, unit, visually) {
    var oldPos = pos;
    var origDir = dir;
    var lineObj = getLine(doc, pos.line);
    var lineDir = visually && doc.direction == "rtl" ? -dir : dir;
    function findNextLine() {
      var l = pos.line + lineDir;
      if (l < doc.first || l >= doc.first + doc.size) { return false }
      pos = new Pos(l, pos.ch, pos.sticky);
      return lineObj = getLine(doc, l)
    }
    function moveOnce(boundToLine) {
      var next;
      if (unit == "codepoint") {
        var ch = lineObj.text.charCodeAt(pos.ch + (dir > 0 ? 0 : -1));
        if (isNaN(ch)) {
          next = null;
        } else {
          var astral = dir > 0 ? ch >= 0xD800 && ch < 0xDC00 : ch >= 0xDC00 && ch < 0xDFFF;
          next = new Pos(pos.line, Math.max(0, Math.min(lineObj.text.length, pos.ch + dir * (astral ? 2 : 1))), -dir);
        }
      } else if (visually) {
        next = moveVisually(doc.cm, lineObj, pos, dir);
      } else {
        next = moveLogically(lineObj, pos, dir);
      }
      if (next == null) {
        if (!boundToLine && findNextLine())
          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir); }
        else
          { return false }
      } else {
        pos = next;
      }
      return true
    }

    if (unit == "char" || unit == "codepoint") {
      moveOnce();
    } else if (unit == "column") {
      moveOnce(true);
    } else if (unit == "word" || unit == "group") {
      var sawType = null, group = unit == "group";
      var helper = doc.cm && doc.cm.getHelper(pos, "wordChars");
      for (var first = true;; first = false) {
        if (dir < 0 && !moveOnce(!first)) { break }
        var cur = lineObj.text.charAt(pos.ch) || "\n";
        var type = isWordChar(cur, helper) ? "w"
          : group && cur == "\n" ? "n"
          : !group || /\s/.test(cur) ? null
          : "p";
        if (group && !first && !type) { type = "s"; }
        if (sawType && sawType != type) {
          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = "after";}
          break
        }

        if (type) { sawType = type; }
        if (dir > 0 && !moveOnce(!first)) { break }
      }
    }
    var result = skipAtomic(doc, pos, oldPos, origDir, true);
    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }
    return result
  }

  function findPosV(cm, pos, dir, unit) {
    var doc = cm.doc, x = pos.left, y;
    if (unit == "page") {
      var pageSize = Math.min(cm.display.wrapper.clientHeight, win(cm).innerHeight || doc(cm).documentElement.clientHeight);
      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);
      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;

    } else if (unit == "line") {
      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;
    }
    var target;
    for (;;) {
      target = coordsChar(cm, x, y);
      if (!target.outside) { break }
      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }
      y += dir * 5;
    }
    return target
  }


  var ContentEditableInput = function(cm) {
    this.cm = cm;
    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;
    this.polling = new Delayed();
    this.composing = null;
    this.gracePeriod = false;
    this.readDOMTimeout = null;
  };

  ContentEditableInput.prototype.init = function (display) {
      var this$1 = this;

    var input = this, cm = input.cm;
    var div = input.div = display.lineDiv;
    div.contentEditable = true;
    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);

    function belongsToInput(e) {
      for (var t = e.target; t; t = t.parentNode) {
        if (t == div) { return true }
        if (/\bCodeMirror-(?:line)?widget\b/.test(t.className)) { break }
      }
      return false
    }

    on(div, "paste", function (e) {
      if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }
      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }
    });

    on(div, "compositionstart", function (e) {
      this$1.composing = {data: e.data, done: false};
    });
    on(div, "compositionupdate", function (e) {
      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }
    });
    on(div, "compositionend", function (e) {
      if (this$1.composing) {
        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }
        this$1.composing.done = true;
      }
    });

    on(div, "touchstart", function () { return input.forceCompositionEnd(); });

    on(div, "input", function () {
      if (!this$1.composing) { this$1.readFromDOMSoon(); }
    });

    function onCopyCut(e) {
      if (!belongsToInput(e) || signalDOMEvent(cm, e)) { return }
      if (cm.somethingSelected()) {
        setLastCopied({lineWise: false, text: cm.getSelections()});
        if (e.type == "cut") { cm.replaceSelection("", null, "cut"); }
      } else if (!cm.options.lineWiseCopyCut) {
        return
      } else {
        var ranges = copyableRanges(cm);
        setLastCopied({lineWise: true, text: ranges.text});
        if (e.type == "cut") {
          cm.operation(function () {
            cm.setSelections(ranges.ranges, 0, sel_dontScroll);
            cm.replaceSelection("", null, "cut");
          });
        }
      }
      if (e.clipboardData) {
        e.clipboardData.clearData();
        var content = lastCopied.text.join("\n");
        e.clipboardData.setData("Text", content);
        if (e.clipboardData.getData("Text") == content) {
          e.preventDefault();
          return
        }
      }
      var kludge = hiddenTextarea(), te = kludge.firstChild;
      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);
      te.value = lastCopied.text.join("\n");
      var hadFocus = activeElt(div.ownerDocument);
      selectInput(te);
      setTimeout(function () {
        cm.display.lineSpace.removeChild(kludge);
        hadFocus.focus();
        if (hadFocus == div) { input.showPrimarySelection(); }
      }, 50);
    }
    on(div, "copy", onCopyCut);
    on(div, "cut", onCopyCut);
  };

  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {
    if(label) {
      this.div.setAttribute('aria-label', label);
    } else {
      this.div.removeAttribute('aria-label');
    }
  };

  ContentEditableInput.prototype.prepareSelection = function () {
    var result = prepareSelection(this.cm, false);
    result.focus = activeElt(this.div.ownerDocument) == this.div;
    return result
  };

  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {
    if (!info || !this.cm.display.view.length) { return }
    if (info.focus || takeFocus) { this.showPrimarySelection(); }
    this.showMultipleSelections(info);
  };

  ContentEditableInput.prototype.getSelection = function () {
    return this.cm.display.wrapper.ownerDocument.getSelection()
  };

  ContentEditableInput.prototype.showPrimarySelection = function () {
    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();
    var from = prim.from(), to = prim.to();

    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {
      sel.removeAllRanges();
      return
    }

    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);
    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);
    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&
        cmp(minPos(curAnchor, curFocus), from) == 0 &&
        cmp(maxPos(curAnchor, curFocus), to) == 0)
      { return }

    var view = cm.display.view;
    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||
        {node: view[0].measure.map[2], offset: 0};
    var end = to.line < cm.display.viewTo && posToDOM(cm, to);
    if (!end) {
      var measure = view[view.length - 1].measure;
      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;
      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};
    }

    if (!start || !end) {
      sel.removeAllRanges();
      return
    }

    var old = sel.rangeCount && sel.getRangeAt(0), rng;
    try { rng = range(start.node, start.offset, end.offset, end.node); }
    catch(e) {} 
    if (rng) {
      if (!gecko && cm.state.focused) {
        sel.collapse(start.node, start.offset);
        if (!rng.collapsed) {
          sel.removeAllRanges();
          sel.addRange(rng);
        }
      } else {
        sel.removeAllRanges();
        sel.addRange(rng);
      }
      if (old && sel.anchorNode == null) { sel.addRange(old); }
      else if (gecko) { this.startGracePeriod(); }
    }
    this.rememberSelection();
  };

  ContentEditableInput.prototype.startGracePeriod = function () {
      var this$1 = this;

    clearTimeout(this.gracePeriod);
    this.gracePeriod = setTimeout(function () {
      this$1.gracePeriod = false;
      if (this$1.selectionChanged())
        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }
    }, 20);
  };

  ContentEditableInput.prototype.showMultipleSelections = function (info) {
    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);
    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);
  };

  ContentEditableInput.prototype.rememberSelection = function () {
    var sel = this.getSelection();
    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;
    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;
  };

  ContentEditableInput.prototype.selectionInEditor = function () {
    var sel = this.getSelection();
    if (!sel.rangeCount) { return false }
    var node = sel.getRangeAt(0).commonAncestorContainer;
    return contains(this.div, node)
  };

  ContentEditableInput.prototype.focus = function () {
    if (this.cm.options.readOnly != "nocursor") {
      if (!this.selectionInEditor() || activeElt(this.div.ownerDocument) != this.div)
        { this.showSelection(this.prepareSelection(), true); }
      this.div.focus();
    }
  };
  ContentEditableInput.prototype.blur = function () { this.div.blur(); };
  ContentEditableInput.prototype.getField = function () { return this.div };

  ContentEditableInput.prototype.supportsTouch = function () { return true };

  ContentEditableInput.prototype.receivedFocus = function () {
      var this$1 = this;

    var input = this;
    if (this.selectionInEditor())
      { setTimeout(function () { return this$1.pollSelection(); }, 20); }
    else
      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }

    function poll() {
      if (input.cm.state.focused) {
        input.pollSelection();
        input.polling.set(input.cm.options.pollInterval, poll);
      }
    }
    this.polling.set(this.cm.options.pollInterval, poll);
  };

  ContentEditableInput.prototype.selectionChanged = function () {
    var sel = this.getSelection();
    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||
      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset
  };

  ContentEditableInput.prototype.pollSelection = function () {
    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }
    var sel = this.getSelection(), cm = this.cm;
    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {
      this.cm.triggerOnKeyDown({type: "keydown", keyCode: 8, preventDefault: Math.abs});
      this.blur();
      this.focus();
      return
    }
    if (this.composing) { return }
    this.rememberSelection();
    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);
    var head = domToPos(cm, sel.focusNode, sel.focusOffset);
    if (anchor && head) { runInOp(cm, function () {
      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);
      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }
    }); }
  };

  ContentEditableInput.prototype.pollContent = function () {
    if (this.readDOMTimeout != null) {
      clearTimeout(this.readDOMTimeout);
      this.readDOMTimeout = null;
    }

    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();
    var from = sel.from(), to = sel.to();
    if (from.ch == 0 && from.line > cm.firstLine())
      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }
    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())
      { to = Pos(to.line + 1, 0); }
    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }

    var fromIndex, fromLine, fromNode;
    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {
      fromLine = lineNo(display.view[0].line);
      fromNode = display.view[0].node;
    } else {
      fromLine = lineNo(display.view[fromIndex].line);
      fromNode = display.view[fromIndex - 1].node.nextSibling;
    }
    var toIndex = findViewIndex(cm, to.line);
    var toLine, toNode;
    if (toIndex == display.view.length - 1) {
      toLine = display.viewTo - 1;
      toNode = display.lineDiv.lastChild;
    } else {
      toLine = lineNo(display.view[toIndex + 1].line) - 1;
      toNode = display.view[toIndex + 1].node.previousSibling;
    }

    if (!fromNode) { return false }
    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));
    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));
    while (newText.length > 1 && oldText.length > 1) {
      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }
      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }
      else { break }
    }

    var cutFront = 0, cutEnd = 0;
    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);
    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))
      { ++cutFront; }
    var newBot = lst(newText), oldBot = lst(oldText);
    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),
                             oldBot.length - (oldText.length == 1 ? cutFront : 0));
    while (cutEnd < maxCutEnd &&
           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))
      { ++cutEnd; }
    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {
      while (cutFront && cutFront > from.ch &&
             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {
        cutFront--;
        cutEnd++;
      }
    }

    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\u200b+/, "");
    newText[0] = newText[0].slice(cutFront).replace(/\u200b+$/, "");

    var chFrom = Pos(fromLine, cutFront);
    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);
    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {
      replaceRange(cm.doc, newText, chFrom, chTo, "+input");
      return true
    }
  };

  ContentEditableInput.prototype.ensurePolled = function () {
    this.forceCompositionEnd();
  };
  ContentEditableInput.prototype.reset = function () {
    this.forceCompositionEnd();
  };
  ContentEditableInput.prototype.forceCompositionEnd = function () {
    if (!this.composing) { return }
    clearTimeout(this.readDOMTimeout);
    this.composing = null;
    this.updateFromDOM();
    this.div.blur();
    this.div.focus();
  };
  ContentEditableInput.prototype.readFromDOMSoon = function () {
      var this$1 = this;

    if (this.readDOMTimeout != null) { return }
    this.readDOMTimeout = setTimeout(function () {
      this$1.readDOMTimeout = null;
      if (this$1.composing) {
        if (this$1.composing.done) { this$1.composing = null; }
        else { return }
      }
      this$1.updateFromDOM();
    }, 80);
  };

  ContentEditableInput.prototype.updateFromDOM = function () {
      var this$1 = this;

    if (this.cm.isReadOnly() || !this.pollContent())
      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }
  };

  ContentEditableInput.prototype.setUneditable = function (node) {
    node.contentEditable = "false";
  };

  ContentEditableInput.prototype.onKeyPress = function (e) {
    if (e.charCode == 0 || this.composing) { return }
    e.preventDefault();
    if (!this.cm.isReadOnly())
      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }
  };

  ContentEditableInput.prototype.readOnlyChanged = function (val) {
    this.div.contentEditable = String(val != "nocursor");
  };

  ContentEditableInput.prototype.onContextMenu = function () {};
  ContentEditableInput.prototype.resetPosition = function () {};

  ContentEditableInput.prototype.needsContentAttribute = true;

  function posToDOM(cm, pos) {
    var view = findViewForLine(cm, pos.line);
    if (!view || view.hidden) { return null }
    var line = getLine(cm.doc, pos.line);
    var info = mapFromLineView(view, line, pos.line);

    var order = getOrder(line, cm.doc.direction), side = "left";
    if (order) {
      var partPos = getBidiPartAt(order, pos.ch);
      side = partPos % 2 ? "right" : "left";
    }
    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);
    result.offset = result.collapse == "right" ? result.end : result.start;
    return result
  }

  function isInGutter(node) {
    for (var scan = node; scan; scan = scan.parentNode)
      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }
    return false
  }

  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }

  function domTextBetween(cm, from, to, fromLine, toLine) {
    var text = "", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;
    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }
    function close() {
      if (closing) {
        text += lineSep;
        if (extraLinebreak) { text += lineSep; }
        closing = extraLinebreak = false;
      }
    }
    function addText(str) {
      if (str) {
        close();
        text += str;
      }
    }
    function walk(node) {
      if (node.nodeType == 1) {
        var cmText = node.getAttribute("cm-text");
        if (cmText) {
          addText(cmText);
          return
        }
        var markerID = node.getAttribute("cm-marker"), range;
        if (markerID) {
          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));
          if (found.length && (range = found[0].find(0)))
            { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)); }
          return
        }
        if (node.getAttribute("contenteditable") == "false") { return }
        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);
        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }

        if (isBlock) { close(); }
        for (var i = 0; i < node.childNodes.length; i++)
          { walk(node.childNodes[i]); }

        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }
        if (isBlock) { closing = true; }
      } else if (node.nodeType == 3) {
        addText(node.nodeValue.replace(/\u200b/g, "").replace(/\u00a0/g, " "));
      }
    }
    for (;;) {
      walk(from);
      if (from == to) { break }
      from = from.nextSibling;
      extraLinebreak = false;
    }
    return text
  }

  function domToPos(cm, node, offset) {
    var lineNode;
    if (node == cm.display.lineDiv) {
      lineNode = cm.display.lineDiv.childNodes[offset];
      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }
      node = null; offset = 0;
    } else {
      for (lineNode = node;; lineNode = lineNode.parentNode) {
        if (!lineNode || lineNode == cm.display.lineDiv) { return null }
        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }
      }
    }
    for (var i = 0; i < cm.display.view.length; i++) {
      var lineView = cm.display.view[i];
      if (lineView.node == lineNode)
        { return locateNodeInLineView(lineView, node, offset) }
    }
  }

  function locateNodeInLineView(lineView, node, offset) {
    var wrapper = lineView.text.firstChild, bad = false;
    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }
    if (node == wrapper) {
      bad = true;
      node = wrapper.childNodes[offset];
      offset = 0;
      if (!node) {
        var line = lineView.rest ? lst(lineView.rest) : lineView.line;
        return badPos(Pos(lineNo(line), line.text.length), bad)
      }
    }

    var textNode = node.nodeType == 3 ? node : null, topNode = node;
    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {
      textNode = node.firstChild;
      if (offset) { offset = textNode.nodeValue.length; }
    }
    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }
    var measure = lineView.measure, maps = measure.maps;

    function find(textNode, topNode, offset) {
      for (var i = -1; i < (maps ? maps.length : 0); i++) {
        var map = i < 0 ? measure.map : maps[i];
        for (var j = 0; j < map.length; j += 3) {
          var curNode = map[j + 2];
          if (curNode == textNode || curNode == topNode) {
            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);
            var ch = map[j] + offset;
            if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)]; }
            return Pos(line, ch)
          }
        }
      }
    }
    var found = find(textNode, topNode, offset);
    if (found) { return badPos(found, bad) }

    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {
      found = find(after, after.firstChild, 0);
      if (found)
        { return badPos(Pos(found.line, found.ch - dist), bad) }
      else
        { dist += after.textContent.length; }
    }
    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {
      found = find(before, before.firstChild, -1);
      if (found)
        { return badPos(Pos(found.line, found.ch + dist$1), bad) }
      else
        { dist$1 += before.textContent.length; }
    }
  }


  var TextareaInput = function(cm) {
    this.cm = cm;
    this.prevInput = "";

    this.pollingFast = false;
    this.polling = new Delayed();
    this.hasSelection = false;
    this.composing = null;
  };

  TextareaInput.prototype.init = function (display) {
      var this$1 = this;

    var input = this, cm = this.cm;
    this.createField(display);
    var te = this.textarea;

    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);

    if (ios) { te.style.width = "0px"; }

    on(te, "input", function () {
      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }
      input.poll();
    });

    on(te, "paste", function (e) {
      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }

      cm.state.pasteIncoming = +new Date;
      input.fastPoll();
    });

    function prepareCopyCut(e) {
      if (signalDOMEvent(cm, e)) { return }
      if (cm.somethingSelected()) {
        setLastCopied({lineWise: false, text: cm.getSelections()});
      } else if (!cm.options.lineWiseCopyCut) {
        return
      } else {
        var ranges = copyableRanges(cm);
        setLastCopied({lineWise: true, text: ranges.text});
        if (e.type == "cut") {
          cm.setSelections(ranges.ranges, null, sel_dontScroll);
        } else {
          input.prevInput = "";
          te.value = ranges.text.join("\n");
          selectInput(te);
        }
      }
      if (e.type == "cut") { cm.state.cutIncoming = +new Date; }
    }
    on(te, "cut", prepareCopyCut);
    on(te, "copy", prepareCopyCut);

    on(display.scroller, "paste", function (e) {
      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }
      if (!te.dispatchEvent) {
        cm.state.pasteIncoming = +new Date;
        input.focus();
        return
      }

      var event = new Event("paste");
      event.clipboardData = e.clipboardData;
      te.dispatchEvent(event);
    });

    on(display.lineSpace, "selectstart", function (e) {
      if (!eventInWidget(display, e)) { e_preventDefault(e); }
    });

    on(te, "compositionstart", function () {
      var start = cm.getCursor("from");
      if (input.composing) { input.composing.range.clear(); }
      input.composing = {
        start: start,
        range: cm.markText(start, cm.getCursor("to"), {className: "CodeMirror-composing"})
      };
    });
    on(te, "compositionend", function () {
      if (input.composing) {
        input.poll();
        input.composing.range.clear();
        input.composing = null;
      }
    });
  };

  TextareaInput.prototype.createField = function (_display) {
    this.wrapper = hiddenTextarea();
    this.textarea = this.wrapper.firstChild;
  };

  TextareaInput.prototype.screenReaderLabelChanged = function (label) {
    if(label) {
      this.textarea.setAttribute('aria-label', label);
    } else {
      this.textarea.removeAttribute('aria-label');
    }
  };

  TextareaInput.prototype.prepareSelection = function () {
    var cm = this.cm, display = cm.display, doc = cm.doc;
    var result = prepareSelection(cm);

    if (cm.options.moveInputWithCursor) {
      var headPos = cursorCoords(cm, doc.sel.primary().head, "div");
      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();
      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,
                                          headPos.top + lineOff.top - wrapOff.top));
      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,
                                           headPos.left + lineOff.left - wrapOff.left));
    }

    return result
  };

  TextareaInput.prototype.showSelection = function (drawn) {
    var cm = this.cm, display = cm.display;
    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);
    removeChildrenAndAdd(display.selectionDiv, drawn.selection);
    if (drawn.teTop != null) {
      this.wrapper.style.top = drawn.teTop + "px";
      this.wrapper.style.left = drawn.teLeft + "px";
    }
  };

  TextareaInput.prototype.reset = function (typing) {
    if (this.contextMenuPending || this.composing) { return }
    var cm = this.cm;
    if (cm.somethingSelected()) {
      this.prevInput = "";
      var content = cm.getSelection();
      this.textarea.value = content;
      if (cm.state.focused) { selectInput(this.textarea); }
      if (ie && ie_version >= 9) { this.hasSelection = content; }
    } else if (!typing) {
      this.prevInput = this.textarea.value = "";
      if (ie && ie_version >= 9) { this.hasSelection = null; }
    }
  };

  TextareaInput.prototype.getField = function () { return this.textarea };

  TextareaInput.prototype.supportsTouch = function () { return false };

  TextareaInput.prototype.focus = function () {
    if (this.cm.options.readOnly != "nocursor" && (!mobile || activeElt(this.textarea.ownerDocument) != this.textarea)) {
      try { this.textarea.focus(); }
      catch (e) {} 
    }
  };

  TextareaInput.prototype.blur = function () { this.textarea.blur(); };

  TextareaInput.prototype.resetPosition = function () {
    this.wrapper.style.top = this.wrapper.style.left = 0;
  };

  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };

  TextareaInput.prototype.slowPoll = function () {
      var this$1 = this;

    if (this.pollingFast) { return }
    this.polling.set(this.cm.options.pollInterval, function () {
      this$1.poll();
      if (this$1.cm.state.focused) { this$1.slowPoll(); }
    });
  };

  TextareaInput.prototype.fastPoll = function () {
    var missed = false, input = this;
    input.pollingFast = true;
    function p() {
      var changed = input.poll();
      if (!changed && !missed) {missed = true; input.polling.set(60, p);}
      else {input.pollingFast = false; input.slowPoll();}
    }
    input.polling.set(20, p);
  };

  TextareaInput.prototype.poll = function () {
      var this$1 = this;

    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;
    if (this.contextMenuPending || !cm.state.focused ||
        (hasSelection(input) && !prevInput && !this.composing) ||
        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)
      { return false }

    var text = input.value;
    if (text == prevInput && !cm.somethingSelected()) { return false }
    if (ie && ie_version >= 9 && this.hasSelection === text ||
        mac && /[\uf700-\uf7ff]/.test(text)) {
      cm.display.input.reset();
      return false
    }

    if (cm.doc.sel == cm.display.selForContextMenu) {
      var first = text.charCodeAt(0);
      if (first == 0x200b && !prevInput) { prevInput = "\u200b"; }
      if (first == 0x21da) { this.reset(); return this.cm.execCommand("undo") }
    }
    var same = 0, l = Math.min(prevInput.length, text.length);
    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }

    runInOp(cm, function () {
      applyTextInput(cm, text.slice(same), prevInput.length - same,
                     null, this$1.composing ? "*compose" : null);

      if (text.length > 1000 || text.indexOf("\n") > -1) { input.value = this$1.prevInput = ""; }
      else { this$1.prevInput = text; }

      if (this$1.composing) {
        this$1.composing.range.clear();
        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor("to"),
                                           {className: "CodeMirror-composing"});
      }
    });
    return true
  };

  TextareaInput.prototype.ensurePolled = function () {
    if (this.pollingFast && this.poll()) { this.pollingFast = false; }
  };

  TextareaInput.prototype.onKeyPress = function () {
    if (ie && ie_version >= 9) { this.hasSelection = null; }
    this.fastPoll();
  };

  TextareaInput.prototype.onContextMenu = function (e) {
    var input = this, cm = input.cm, display = cm.display, te = input.textarea;
    if (input.contextMenuPending) { input.contextMenuPending(); }
    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;
    if (!pos || presto) { return } 

    var reset = cm.options.resetSelectionOnContextMenu;
    if (reset && cm.doc.sel.contains(pos) == -1)
      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }

    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;
    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();
    input.wrapper.style.cssText = "position: static";
    te.style.cssText = "position: absolute; width: 30px; height: 30px;\n      top: " + (e.clientY - wrapperBox.top - 5) + "px; left: " + (e.clientX - wrapperBox.left - 5) + "px;\n      z-index: 1000; background: " + (ie ? "rgba(255, 255, 255, .05)" : "transparent") + ";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";
    var oldScrollY;
    if (webkit) { oldScrollY = te.ownerDocument.defaultView.scrollY; } 
    display.input.focus();
    if (webkit) { te.ownerDocument.defaultView.scrollTo(null, oldScrollY); }
    display.input.reset();
    if (!cm.somethingSelected()) { te.value = input.prevInput = " "; }
    input.contextMenuPending = rehide;
    display.selForContextMenu = cm.doc.sel;
    clearTimeout(display.detectingSelectAll);

    function prepareSelectAllHack() {
      if (te.selectionStart != null) {
        var selected = cm.somethingSelected();
        var extval = "\u200b" + (selected ? te.value : "");
        te.value = "\u21da"; 
        te.value = extval;
        input.prevInput = selected ? "" : "\u200b";
        te.selectionStart = 1; te.selectionEnd = extval.length;
        display.selForContextMenu = cm.doc.sel;
      }
    }
    function rehide() {
      if (input.contextMenuPending != rehide) { return }
      input.contextMenuPending = false;
      input.wrapper.style.cssText = oldWrapperCSS;
      te.style.cssText = oldCSS;
      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }

      if (te.selectionStart != null) {
        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }
        var i = 0, poll = function () {
          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&
              te.selectionEnd > 0 && input.prevInput == "\u200b") {
            operation(cm, selectAll)(cm);
          } else if (i++ < 10) {
            display.detectingSelectAll = setTimeout(poll, 500);
          } else {
            display.selForContextMenu = null;
            display.input.reset();
          }
        };
        display.detectingSelectAll = setTimeout(poll, 200);
      }
    }

    if (ie && ie_version >= 9) { prepareSelectAllHack(); }
    if (captureRightClick) {
      e_stop(e);
      var mouseup = function () {
        off(window, "mouseup", mouseup);
        setTimeout(rehide, 20);
      };
      on(window, "mouseup", mouseup);
    } else {
      setTimeout(rehide, 50);
    }
  };

  TextareaInput.prototype.readOnlyChanged = function (val) {
    if (!val) { this.reset(); }
    this.textarea.disabled = val == "nocursor";
    this.textarea.readOnly = !!val;
  };

  TextareaInput.prototype.setUneditable = function () {};

  TextareaInput.prototype.needsContentAttribute = false;

  function fromTextArea(textarea, options) {
    options = options ? copyObj(options) : {};
    options.value = textarea.value;
    if (!options.tabindex && textarea.tabIndex)
      { options.tabindex = textarea.tabIndex; }
    if (!options.placeholder && textarea.placeholder)
      { options.placeholder = textarea.placeholder; }
    if (options.autofocus == null) {
      var hasFocus = activeElt(textarea.ownerDocument);
      options.autofocus = hasFocus == textarea ||
        textarea.getAttribute("autofocus") != null && hasFocus == document.body;
    }

    function save() {textarea.value = cm.getValue();}

    var realSubmit;
    if (textarea.form) {
      on(textarea.form, "submit", save);
      if (!options.leaveSubmitMethodAlone) {
        var form = textarea.form;
        realSubmit = form.submit;
        try {
          var wrappedSubmit = form.submit = function () {
            save();
            form.submit = realSubmit;
            form.submit();
            form.submit = wrappedSubmit;
          };
        } catch(e) {}
      }
    }

    options.finishInit = function (cm) {
      cm.save = save;
      cm.getTextArea = function () { return textarea; };
      cm.toTextArea = function () {
        cm.toTextArea = isNaN; 
        save();
        textarea.parentNode.removeChild(cm.getWrapperElement());
        textarea.style.display = "";
        if (textarea.form) {
          off(textarea.form, "submit", save);
          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == "function")
            { textarea.form.submit = realSubmit; }
        }
      };
    };

    textarea.style.display = "none";
    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },
      options);
    return cm
  }

  function addLegacyProps(CodeMirror) {
    CodeMirror.off = off;
    CodeMirror.on = on;
    CodeMirror.wheelEventPixels = wheelEventPixels;
    CodeMirror.Doc = Doc;
    CodeMirror.splitLines = splitLinesAuto;
    CodeMirror.countColumn = countColumn;
    CodeMirror.findColumn = findColumn;
    CodeMirror.isWordChar = isWordCharBasic;
    CodeMirror.Pass = Pass;
    CodeMirror.signal = signal;
    CodeMirror.Line = Line;
    CodeMirror.changeEnd = changeEnd;
    CodeMirror.scrollbarModel = scrollbarModel;
    CodeMirror.Pos = Pos;
    CodeMirror.cmpPos = cmp;
    CodeMirror.modes = modes;
    CodeMirror.mimeModes = mimeModes;
    CodeMirror.resolveMode = resolveMode;
    CodeMirror.getMode = getMode;
    CodeMirror.modeExtensions = modeExtensions;
    CodeMirror.extendMode = extendMode;
    CodeMirror.copyState = copyState;
    CodeMirror.startState = startState;
    CodeMirror.innerMode = innerMode;
    CodeMirror.commands = commands;
    CodeMirror.keyMap = keyMap;
    CodeMirror.keyName = keyName;
    CodeMirror.isModifierKey = isModifierKey;
    CodeMirror.lookupKey = lookupKey;
    CodeMirror.normalizeKeyMap = normalizeKeyMap;
    CodeMirror.StringStream = StringStream;
    CodeMirror.SharedTextMarker = SharedTextMarker;
    CodeMirror.TextMarker = TextMarker;
    CodeMirror.LineWidget = LineWidget;
    CodeMirror.e_preventDefault = e_preventDefault;
    CodeMirror.e_stopPropagation = e_stopPropagation;
    CodeMirror.e_stop = e_stop;
    CodeMirror.addClass = addClass;
    CodeMirror.contains = contains;
    CodeMirror.rmClass = rmClass;
    CodeMirror.keyNames = keyNames;
  }


  defineOptions(CodeMirror);

  addEditorMethods(CodeMirror);

  var dontDelegate = "iter insert remove copy getEditor constructor".split(" ");
  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)
    { CodeMirror.prototype[prop] = (function(method) {
      return function() {return method.apply(this.doc, arguments)}
    })(Doc.prototype[prop]); } }

  eventMixin(Doc);
  CodeMirror.inputStyles = {"textarea": TextareaInput, "contenteditable": ContentEditableInput};

  CodeMirror.defineMode = function(name) {
    if (!CodeMirror.defaults.mode && name != "null") { CodeMirror.defaults.mode = name; }
    defineMode.apply(this, arguments);
  };

  CodeMirror.defineMIME = defineMIME;

  CodeMirror.defineMode("null", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });
  CodeMirror.defineMIME("text/plain", "null");


  CodeMirror.defineExtension = function (name, func) {
    CodeMirror.prototype[name] = func;
  };
  CodeMirror.defineDocExtension = function (name, func) {
    Doc.prototype[name] = func;
  };

  CodeMirror.fromTextArea = fromTextArea;

  addLegacyProps(CodeMirror);

  CodeMirror.version = "6.65.7";

  return CodeMirror;

})));


;(function(root, factory) {
    if (typeof define === "function" && define.amd) {
        define(function () {
            return factory(root);
        });
    } else if (typeof module === "object" && module.exports) {
        module.exports = factory(root);
    } else {
        if (typeof root.tail === "undefined") {
            root.tail = {};
        }
        root.tail.select = factory(root);

        if (typeof jQuery !== "undefined") {
            jQuery.fn.tailselect = function (o) {
                var r = [], i;
                this.each(function () {
                    if ((i = tail.select(this, o)) !== false) {
                        r.push(i);
                    }
                });
                return (r.length === 1) ? r[0] : (r.length === 0) ? false : r;
            };
        }

        if (typeof(MooTools) != "undefined") {
            Element.implement({
                tailselect: function (o) {
                    return new tail.select(this, o);
                }
            });
        }
    }
}(window, function (root) {
    "use strict";
    var w = root, d = root.document;

    function cHAS(el, name) {
        return (el && "classList" in el) ? el.classList.contains(name) : false;
    }
    function cADD(el, name) {
        return (el && "classList" in el) ? el.classList.add(name) : undefined;
    }
    function cREM(el, name) {
        return (el && "classList" in el) ? el.classList.remove(name) : undefined;
    }
    function trigger(el, event, opt) {
        if (CustomEvent && CustomEvent.name) {
            var ev = new CustomEvent(event, opt);
        } else {
            var ev = d.createEvent("CustomEvent");
            ev.initCustomEvent(event, !!opt.bubbles, !!opt.cancelable, opt.detail);
        }
        return el.dispatchEvent(ev);
    }
    function clone(obj, rep) {
        if (typeof Object.assign === "function") {
            return Object.assign({}, obj, rep || {});
        }
        var clone = Object.constructor();
        for (var key in obj) {
            clone[key] = (key in rep) ? rep[key] : obj[key];
        }
        return clone;
    }
    function create(tag, classes) {
        var r = d.createElement(tag);
            r.className = (classes && classes.join) ? classes.join(" ") : classes || "";
        return r;
    }


    var select = function(el, config) {
        el = (typeof(el) == "string") ? d.querySelectorAll(el) : el;
        if (el instanceof NodeList || el instanceof HTMLCollection || el instanceof Array) {
            for (var _r = [], l = el.length, i = 0; i < l; i++) {
                _r.push(new select(el[i], clone(config, {})));
            }
            return (_r.length === 1) ? _r[0] : ((_r.length === 0) ? false : _r);
        }
        if (!(el instanceof Element) || !(this instanceof select)) {
            return !(el instanceof Element) ? false : new select(el, config);
        }

        if (select.inst[el.getAttribute("data-tail-select")]) {
            return select.inst[el.getAttribute("data-tail-select")];
        }
        if (el.getAttribute("data-select")) {
            var test = JSON.parse(el.getAttribute("data-select").replace(/\'/g, '"'));
            if (test instanceof Object) {
                config = clone(config, test); 
            }
        }

        var placeholder = el.getAttribute("placeholder") || el.getAttribute("data-placeholder"),
            fb1 = "bindSourceSelect", fb2 = "sourceHide"; 
        config = (typeof(config) == "object") ? config : {};
        config.multiple = ("multiple" in config) ? config.multiple : el.multiple;
        config.disabled = ("disabled" in config) ? config.disabled : el.disabled;
        config.placeholder = placeholder || config.placeholder || null;
        config.width = (config.width === "auto") ? el.offsetWidth + 50 : config.width;
        config.sourceBind = (fb1 in config) ? config[fb1] : config.sourceBind || false;
        config.sourceHide = (fb2 in config) ? config[fb2] : config.sourceHide || true;
        config.multiLimit = (config.multiLimit >= 0) ? config.multiLimit : Infinity;

        this.e = el;
        this.id = ++select.count;
        this.con = clone(select.defaults, config);
        this.events = {};
        select.inst["tail-" + this.id] = this;

        var ret = this.init().bind();

        return ret;
    }, options;
    select.count = 0;
    select.inst = {};


    select.defaults = {
        animate: true,              
        classNames: null,           
        csvOutput: false,           
        csvSeparator: ",",          
        descriptions: false,        
        deselect: false,            
        disabled: false,            
        height: 350,                
        hideDisabled: false,        
        hideSelected: false,        
        items: {},                  
        locale: "en",               
        linguisticRules: {          
            "": "",
            "a": "",
            "o": "",
            "u": "",
            "ss": ""
        },
        multiple: false,            
        multiLimit: Infinity,       
        multiPinSelected: false,    
        multiContainer: false,      
        multiShowCount: true,       
        multiShowLimit: false,      
        multiSelectAll: false,      
        multiSelectGroup: true,     
        openAbove: null,            
        placeholder: null,          
        search: false,              
        searchConfig: [             
            "text", "value"
        ],
        searchFocus: true,          
        searchMarked: true,         
        searchMinLength: 1,         
        searchDisabled: true,       
        sortItems: false,           
        sortGroups: false,          
        sourceBind: false,          
        sourceHide: true,           
        startOpen: false,           
        stayOpen: false,            
        width: null,                
        cbComplete: undefined,      
        cbEmpty: undefined,         
        cbLoopItem: undefined,      
        cbLoopGroup: undefined      
    };


    select.strings = {
        en: {
            all: "All",
            none: "None",
            empty: "No Options available",
            emptySearch: "No Options found",
            limit: "You can't select more Options",
            placeholder: "Select an Option...",
            placeholderMulti: "Select up to :limit Options...",
            search: "Type in to search...",
            disabled: "This Field is disabled"
        },
        modify: function(locale, id, string) {
            if (!(locale in this)) {
                return false;
            }
            if ((id instanceof Object)) {
                for (var key in id) {
                    this.modify(locale, key, id[key]);
                }
            } else {
                this[locale][id] = (typeof(string) == "string") ? string : this[locale][id];
            }
            return true;
        },
        register: function(locale, object) {
            if (typeof(locale) != "string" || !(object instanceof Object)) {
                return false;
            }
            this[locale] = object;
            return true;
        }
    };


    select.prototype = {

        _e: function(string, replace, def) {
            if (!(string in this.__)) {
                return (!def)? string: def;
            }

            var string = this.__[string];
            if (typeof(string) === "function") {
                string = string.call(this, replace);
            }
            if (typeof(replace) === "object") {
                for (var key in replace) {
                    string = string.replace(key, replace[key]);
                }
            }
            return string;
        },


        init: function() {
            var self = this, classes = ["tail-select"], con = this.con,
                regexp = /^[0-9.]+(?:cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|\%)$/i;

            var c = (con.classNames === true) ? this.e.className : con.classNames;
            classes.push((c && c.push) ? c.join(" ") : (c && c.split) ? c : "no-classes");
            if(con.hideSelected){    classes.push("hide-selected"); }
            if(con.hideDisabled){    classes.push("hide-disabled"); }
            if(con.multiLimit == 0){ classes.push("disabled");      }
            if(con.multiple){        classes.push("multiple");      }
            if(con.deselect){        classes.push("deselect");      }
            if(con.disabled){        classes.push("disabled");      }

            this.__ = clone(select.strings.en, select.strings[con.locale] || {});
            this._init = true;
            this._query = false;
            this.select = create("DIV", classes);
            this.label = create("DIV", "select-label");
            this.dropdown = create("DIV", "select-dropdown");
            this.search = create("DIV", "dropdown-search");
            this.csvInput = create("INPUT", "select-search");

            if(this.e.getAttribute("tabindex") !== null){
                this.select.setAttribute("tabindex", this.e.getAttribute("tabindex"));
            } else {
                this.select.setAttribute("tabindex", 0);
            }
            if(con.width && regexp.test(con.width)){
                this.select.style.width = con.width;
            } else if(con.width && !isNaN(parseFloat(con.width, 10))){
                this.select.style.width = con.width + "px";
            }

            this.label.addEventListener("click", function(event){
                self.toggle.call(self, self.con.animate);
            });
            this.select.appendChild(this.label);

            if(!isNaN(parseInt(con.height, 10))){
                this.dropdown.style.maxHeight = parseInt(con.height, 10) + "px";
            }
            if(con.search){
                this.search.innerHTML = '<input type="text" class="search-input" />';
                this.search.children[0].placeholder = this._e("search");
                this.search.children[0].addEventListener("input", function(event){
                    self.query.call(self, (this.value.length > con.searchMinLength)? this.value: undefined);
                });
                this.dropdown.appendChild(this.search);
            }
            this.select.appendChild(this.dropdown);

            this.csvInput.type = "hidden";
            if(con.csvOutput){
                this.csvInput.name = this.e.name;
                this.e.removeAttribute("name");
                this.select.appendChild(this.csvInput);
            }

            if(con.multiple && con.multiContainer){
                if(d.querySelector(con.multiContainer)){
                    this.container = d.querySelector(con.multiContainer);
                    this.container.className += " tail-select-container";
                } else if(con.multiContainer === true){
                    this.container = this.label;
                    this.container.className += " tail-select-container";
                }
            }

            this.options = new options(this.e, this);
            for(var l = this.e.options.length, i = 0; i < l; i++){
                this.options.set(this.e.options[i], false);
            }
            for(var key in con.items){
                if(typeof(con.items[key]) == "string"){
                    con.items[key] = {value: con.items[key]};
                }
                this.options.add(con.items[key].key || key, con.items[key].value,
                    con.items[key].group, con.items[key].selected,
                    con.items[key].disabled, con.items[key].description);
            }
            this.query();

            if(this.e.nextElementSibling){
                this.e.parentElement.insertBefore(this.select, this.e.nextElementSibling);
            } else {
                this.e.parentElement.appendChild(this.select);
            }
            if(con.sourceHide){
                if(this.e.style.display == "none"){
                    this.select.style.display = "none";
                    this.e.setAttribute("data-select-hidden", "display");
                } else if(this.e.style.visibility == "hidden"){
                    this.select.style.visibiltiy = "hidden";
                    this.e.setAttribute("data-select-hidden", "visibility");
                } else {
                    this.e.style.display = "none";
                    this.e.setAttribute("data-select-hidden", "0");
                }
            }
            this.e.setAttribute("data-tail-select", "tail-" + this.id);
            if(self.con.startOpen){
                this.open(con.animate);
            }
            (con.cbComplete || function(){ }).call(this, this.select);

            return (this._init = false)? this: this;
        },


        bind: function(){
            var self = this;


            if (typeof this.options_initial === 'undefined') {
                var init_selected = [];

                for (var idx = 0; idx < this.options.selected.length; ++idx) {
                    init_selected.push(this.options.selected[idx]);
                }

                this.options_initial = {
                    selected: init_selected
                }
            }

            d.addEventListener("keydown", function(event){
                var key = (event.keyCode || event.which), opt, inner, e, temp, tmp;
                var space = (key == 32 && self.select === document.activeElement);
                if(!space && (!cHAS(self.select, "active") || [13, 27, 38, 40].indexOf(key) < 0)){
                    return false;
                }
                event.preventDefault();
                event.stopPropagation();

                if(key === 32){
                    return self.open(self.con.animate);
                }

                if(key == 13){
                    if((opt = self.dropdown.querySelector(".dropdown-option.hover:not(.disabled)"))){
                        if (opt.classList.contains("selected")) {
                            self.options.unselect.call(self.options, opt);
                        } else {
                            self.options.select.call(self.options, opt);
                        }
                    }
                }
                if(key == 27 || key == 13){
                    return self.close(self.con.animate);
                }

                if((opt = self.dropdown.querySelector(".dropdown-option.hover:not(.disabled)"))){
                    cREM(opt, "hover"); e = [((key == 40)? "next": "previous") + "ElementSibling"];
                    do {
                        if((temp = opt[e]) !== null && opt.tagName == "LI"){
                            opt = temp;
                        } else if((temp = opt.parentElement[e]) !== null && temp.children.length > 0 && temp.tagName == "UL"){
                            opt = temp.children[(key == 40)? 0: temp.children.length-1];
                        } else {
                            opt = false;
                        }
                        if(opt && (!cHAS(opt, "dropdown-option") || cHAS(opt, "disabled"))){
                            continue;
                        }
                        break;
                    } while(true);
                }
                if(!opt && key == 40){
                    opt = self.dropdown.querySelector(".dropdown-option:not(.disabled)");
                } else if(!opt && key == 38){
                    tmp = self.dropdown.querySelectorAll(".dropdown-option:not(.disabled)");
                    opt = tmp[tmp.length - 1];
                }
                if(opt && (inner = self.dropdown.querySelector(".dropdown-inner"))){
                    var pos = (function(el){
                        var _r = {top: el.offsetTop, height: el.offsetHeight};
                        while((el = el.parentElement) != inner){
                            _r.top += el.offsetTop;
                        }
                        return _r;
                    })(opt);
                    cADD(opt, "hover");
                    inner.scrollTop = Math.max(0, pos.top - (pos.height * 2));
                }
                return true;
            });

            d.addEventListener("click", function(ev){
                if(!cHAS(self.select, "active") || cHAS(self.select, "idle")){ return false; }
                if(self.con.stayOpen === true){ return false; }

                var targets = [self.e, self.select, self.container];
                for(var l = targets.length, i = 0; i < l; i++){
                    if(targets[i] && (targets[i].contains(ev.target) || targets[i] == ev.target)){
                        return false;
                    }
                    if(!ev.target.parentElement){ return false; }
                }
                return self.close.call(self, self.con.animate);
            });

            if(!this.con.sourceBind){
                return true;
            }
            this.e.addEventListener("change", function(event){
                if(event.detail != undefined){
                    return false;
                }
                event.preventDefault();
                event.stopPropagation();
                if(!this.multiple && this.selectedIndex){
                    self.options.select.call(self.options, this.options[this.selectedIndex]);
                } else {
                    var u = [].concat(self.options.selected);
                    var s = [].filter.call(this.querySelectorAll("option:checked"), function(item){
                        if(u.indexOf(item) >= 0){
                            u.splice(u.indexOf(item), 1);
                            return false;
                        }
                        return true;
                    });
                    self.options.walk.call(self.options, "unselect", u);
                    self.options.walk.call(self.options, "select", s);
                }
            });
            return true;
        },


        callback: function(item, state, _force){
            var rkey = item.key.replace(/('|\\)/g, "\\$1"),
                rgrp = item.group.replace(/('|\\)/g, "\\$1"),
                rsel = "[data-key='" + rkey + "'][data-group='" + rgrp + "']";
            if(state == "rebuild"){ return this.query(); }

            var element = this.dropdown.querySelector(rsel);
            if(element && ["select", "disable"].indexOf(state) >= 0){
                cADD(element, (state == "select"? "selected": "disabled"));
            } else if(element && ["unselect", "enable"].indexOf(state) >= 0){
                cREM(element, (state == "unselect"? "selected": "disabled"));
            }

            this.update(item);
            return (_force === true)? true: this.trigger("change", item, state);
        },


        trigger: function(event){
            if(this._init){ return false; }
            var obj = {bubbles: false, cancelable: true, detail: {args: arguments, self: this}};
            if(event == "change" && arguments[2] && arguments[2].indexOf("select") >= 0){
                trigger(this.e, "input", obj);
                trigger(this.e, "change", obj);
            }
            trigger(this.select, "tail::" + event, obj);

            var args = [], pass;
            Array.prototype.map.call(arguments, function(item, i){
                if(i > 0){ args.push(item); }
            });
            (this.events[event] || []).forEach(function(item){
                pass = [].concat(args);
                pass.push(item.args || null);
                (item.cb || function(){ }).apply(obj.detail.self, pass);
            });
            return true;
        },


        calc: function(){
            var clone = this.dropdown.cloneNode(true), height = this.con.height, search = 0,
                inner = this.dropdown.querySelector(".dropdown-inner");

            clone = this.dropdown.cloneNode(true);
            clone.style.cssText = "height:auto;min-height:auto;max-height:none;opacity:0;display:block;visibility:hidden;";
            clone.style.maxHeight = this.con.height + "px";
            clone.className += " cloned";
            this.dropdown.parentElement.appendChild(clone);
            height = (height > clone.clientHeight)? clone.clientHeight: height;
            if(this.con.search){
                search = clone.querySelector(".dropdown-search").clientHeight;
            }
            this.dropdown.parentElement.removeChild(clone);

            var pos = this.select.getBoundingClientRect(),
                bottom = w.innerHeight-(pos.top+pos.height),
                view = ((height+search) > bottom)? pos.top > bottom: false;
            if(this.con.openAbove === true || (this.con.openAbove !== false && view)){
                view = true, height = Math.min((height), pos.top-10);
                cADD(this.select, "open-top");
            } else {
                view = false, height = Math.min((height), bottom-10);
                cREM(this.select, "open-top");
            }
            if(inner){
                this.dropdown.style.maxHeight = height + "px";
                inner.style.maxHeight = (height-search) + "px";
            }
            return this;
        },


        query: function(search, conf){
            var item, tp, ul, li, a1, a2;                           
            var self = this, con = this.con, g = "getAttribute";    
            var root = create("DIV", "dropdown-inner"),             
                func = (!search)? "walker": "finder",
                args = (!search)? [con.sortItems, con.sortGroups]: [search, conf];

            this._query = (typeof(search) == "string")? search: false;
            while(item = this.options[func].apply(this.options, args)){
                if(!ul || (ul && ul[g]("data-group") !== item.group)){
                    tp = (con.cbLoopGroup || this.cbGroup).call(this, item.group, search, root);
                    if(tp instanceof Element){
                        ul = tp;
                        ul.setAttribute("data-group", item.group);
                        root.appendChild(ul);
                    } else { break; }
                }

                if((li = (con.cbLoopItem || this.cbItem).call(this, item, ul, search, root)) === null){
                    continue;
                }
                if(li === false){ break; }
                li.setAttribute("data-key", item.key);
                li.setAttribute("data-group", item.group);
                li.addEventListener("click", function(event){
                    if(!this.hasAttribute("data-key")){ return false; }
                    var key = this[g]("data-key"), group = this[g]("data-group") || "#";
                    if(self.options.toggle.call(self.options, key, group)){
                        if(self.con.stayOpen === false && !self.con.multiple){
                            self.close.call(self, self.con.animate);
                        }
                    }
                });
                ul.appendChild(li);
            }

            var count = root.querySelectorAll("*[data-key]").length;
            if(count == 0){
                (this.con.cbEmpty || function(element){
                    var li = create("SPAN", "dropdown-empty");
                    li.innerText = this._e("empty");
                    element.appendChild(li);
                }).call(this, root, search);
            }

            if(count > 0 && con.multiple && con.multiLimit == Infinity && con.multiSelectAll){
                a1 = create("BUTTON", "tail-all"), a2 = create("BUTTON", "tail-none");
                a1.innerText = this._e("all");
                a1.addEventListener("click", function(event){
                    event.preventDefault();
                    var options = self.dropdown.querySelectorAll(".dropdown-inner .dropdown-option");
                    self.options.walk.call(self.options, "select", options);
                })
                a2.innerText = this._e("none");
                a2.addEventListener("click", function(event){
                    event.preventDefault();
                    var options = self.dropdown.querySelectorAll(".dropdown-inner .dropdown-option");
                    self.options.walk.call(self.options, "unselect", options);
                })

                li = create("SPAN", "dropdown-action");
                li.appendChild(a1);
                li.appendChild(a2);
                root.insertBefore(li, root.children[0]);
            }

            var data = this.dropdown.querySelector(".dropdown-inner");
            this.dropdown[(data? "replace": "append") + "Child"](root, data);
            if(cHAS(this.select, "active")){
                this.calc();
            }
            return this.updateCSV().updateLabel();
        },


        cbGroup: function(group, search){
            var ul = create("UL", "dropdown-optgroup"), self = this, a1, a2;
            if(group == "#"){ return ul; }
            ul.innerHTML = '<li class="optgroup-title"><b>' + group + '</b></li>';
            if(this.con.multiple && this.con.multiLimit == Infinity && this.con.multiSelectAll){
                a1 = create("BUTTON", "tail-none"), a2 = create("BUTTON", "tail-all");
                a1.innerText = this._e("none");
                a1.addEventListener("click", function(event){
                    event.preventDefault();
                    var grp = this.parentElement.parentElement.getAttribute("data-group");
                    self.options.all.call(self.options, "unselect", grp);
                });
                a2.innerText = this._e("all");
                a2.addEventListener("click", function(event){
                    event.preventDefault();
                    var grp = this.parentElement.parentElement.getAttribute("data-group");
                    self.options.all.call(self.options, "select", grp);
                });
                ul.children[0].appendChild(a1);
                ul.children[0].appendChild(a2);
            }
            return ul;
        },


        cbItem: function(item, optgroup, search){
            var li = create("LI", "dropdown-option" + (item.selected? " selected": "") + (item.disabled? " disabled": ""));
            li.title = item.option.title;

            if(search && search.length > 0 && this.con.searchMarked){
                search = this.options.applyLinguisticRules(search);
                li.innerHTML = item.value.replace(new RegExp("(" + search + ")", "i"), "<mark>$1</mark>");
            } else {
                li.innerText = item.value;
            }

            if(this.con.descriptions && item.description){
                li.innerHTML += '<span class="option-description">' + item.description + '</span>';
            }
            return li;
        },


        update: function(item){
            return this.updateLabel().updateContainer(item).updatePin(item).updateCSV(item);
        },


        updateLabel: function(label){
            if(this.container == this.label && this.options.selected.length > 0){
                if(this.label.querySelector(".label-inner")){
                    this.label.removeChild(this.label.querySelector(".label-inner"));
                }
                if(this.label.querySelector(".label-count")){
                    this.label.removeChild(this.label.querySelector(".label-count"));
                }
                return this;
            }
            var c = this.con, len = this.options.selected.length, limit;
            if(typeof(label) != "string"){
                if(c.disabled){
                    label = "disabled";
                } else if(this.dropdown.querySelectorAll("*[data-key]").length == 0){
                    label = "empty" + (cHAS(this.select, "in-search")? "Search": "");
                } else if(c.multiLimit <= len){
                    label = "limit";
                } else if(!c.multiple && this.options.selected.length > 0){
                    label = this.options.selected[0].innerText;
                } else if(typeof(c.placeholder) == "string"){
                    label = c.placeholder;
                } else {
                    label = "placeholder" + (c.multiple && c.multiLimit < Infinity? "Multi": "");
                }
            }

            label = this._e(label, {":limit": c.multiLimit}, label);
            label = '<span class="label-inner">' + label + '</span>',
            limit = (c.multiShowLimit && c.multiLimit < Infinity);
            if(c.multiple && c.multiShowCount){
                var selected_class = (len) ? 'label-count--selected' : '';

                label = '<span class="label-count ' + selected_class + '">:c</span>' + label;
                label = label.replace(":c", len + (limit? (" / " + c.multiLimit): ""));
            }
            this.label.innerHTML = label;
            return this;
        },


        updateContainer: function(item){
            if(!this.container || !this.con.multiContainer){
                return this;
            }
            var s = "[data-group='" + item.group + "'][data-key='" + item.key + "']";
            if(this.container.querySelector(s)){
                if(!item.selected){
                    this.container.removeChild(this.container.querySelector(s));
                }
                return this;
            }

            if(item.selected){
                var self = this, hndl = create("DIV", "select-handle");
                hndl.innerText = item.value;
                hndl.setAttribute("data-key", item.key);
                hndl.setAttribute("data-group", item.group);
                hndl.addEventListener("click", function(event){
                    event.preventDefault();
                    event.stopPropagation();
                    var key = this.getAttribute("data-key"), grp = this.getAttribute("data-group");
                    self.options.unselect.call(self.options, key, grp);
                });
                this.container.appendChild(hndl);
            }
            return this;
        },


        updatePin: function(item){
            var inner = this.dropdown.querySelector(".dropdown-inner ul"),
                option = "li[data-key='" + item.key + "'][data-group='" + item.group + "']";
            if(!this.con.multiPinSelected || !inner || this._query !== false){
                return this;
            }

            option = this.dropdown.querySelector(option);
            if(item.selected){
                inner.insertBefore(option, inner.children[0]);
            } else {
                var grp = this.dropdown.querySelector("ul[data-group='" + item.group + "']"),
                    prev = this.options[item.index-1], found = false;
                while(prev && prev.group == item.group){
                    if(found = grp.querySelector("li[data-key='" + prev.key + "']")){
                        break;
                    }
                    prev = this.options[prev.index-1];
                }
                if(found && found.nextElementSibling){
                    grp.insertBefore(option, found.nextElementSibling);
                } else {
                    grp.appendChild(option);
                }
            }
            return this;
        },


        updateCSV: function(item){
            if(!this.csvInput || !this.con.csvOutput){
                return this;
            }
            for(var selected = [], l = this.options.selected.length, i = 0; i < l; i++){
                selected.push(this.options.selected[i].value);
            }
            this.csvInput.value = selected.join(this.con.csvSeparator || ",");
            return this;
        },


        open: function(animate){
            if(cHAS(this.select, "active") || cHAS(this.select, "idle") || this.con.disabled){
                return false;
            }
            this.calc();

            var final = function(){
                cADD(self.select, "active");
                cREM(self.select, "idle");
                this.dropdown.style.height = "auto";
                this.dropdown.style.overflow = "visible";
                this.label.removeAttribute("style");
                if(this.con.search && this.con.searchFocus){
                    this.dropdown.querySelector("input").focus();
                }
                this.trigger.call(this, "open");
            }, self = this, e = this.dropdown.style;

            if(animate !== false){
                this.label.style.zIndex = 25;
                this.dropdown.style.cssText += "height:0;display:block;overflow:hidden;";
                cADD(self.select, "idle");
                (function animate(){
                    var h = parseInt(e.height, 10), m = parseInt(e.maxHeight, 10);
                    if(h >= m){
                        return final.call(self);
                    }
                    e.height = ((h+50 > m)? m: h+50) + "px";
                    setTimeout(animate, 20);
                })();
            } else {
                e.cssText = "height:" + e.maxHeight + ";display:block;overflow:hidden;";
                final.call(this);
            }
            return this;
        },


        close: function(animate){
            if(!cHAS(this.select, "active") || cHAS(this.select, "idle")){
                return false;
            }
            var final = function(){
                cREM(this.select, "active");
                cREM(this.select, "idle");
                this.dropdown.removeAttribute("style");
                this.dropdown.querySelector(".dropdown-inner").removeAttribute("style");
                this.trigger.call(this, "close");
            }, self = this, e = this.dropdown;

            if(animate !== false){
                cADD(this.select, "idle");
                this.dropdown.style.overflow = "hidden";
                (function animate(){
                    if((parseInt(e.offsetHeight, 10)-50) <= 0){
                        return final.call(self);
                    }
                    e.style.height = (parseInt(e.offsetHeight, 10)-50) + "px";
                    setTimeout(animate, 20);
                })();
            } else {
                final.call(this);
            }
            return this;
        },


        toggle: function(animate){
            if(cHAS(this.select, "active")){
                return this.close(animate);
            }
            return !cHAS(this.select, "idle")? this.open(animate): this;
        },


        remove: function(){
            this.e.removeAttribute("data-tail-select");
            if(this.e.hasAttribute("data-select-hidden")){
                if(this.e.getAttribute("data-select-hidden") == "0"){
                    this.e.style.removeProperty("display");
                }
                this.e.removeAttribute("data-select-hidden");
            }
            Array.prototype.map.call(this.e.querySelectorAll("[data-select-option='add']"), function(item){
                item.parentElement.removeChild(item);
            })
            Array.prototype.map.call(this.e.querySelectorAll("[data-select-optgroup='add']"), function(item){
                item.parentElement.removeChild(item);
            })
            this.e.name = (this.csvInput.hasAttribute("name"))? this.csvInput.name: this.e.name;
            if(this.select.parentElement){
                this.select.parentElement.removeChild(this.select);
            }
            if(this.container){
                var handles = this.container.querySelectorAll(".select-handle");
                for(var l = handles.length, i = 0; i < l; i++){
                    this.container.removeChild(handles[i]);
                }
            }
            return this;
        },


        reload: function(){
            return this.remove().init();
        },


        reset: function(){

            for(var idx = 0; idx < this.options.element.length; ++idx){
                this.options.element[idx].selected = false;
                this.options.unselect(this.options.element[idx].value, "#", true);
            }


            for(var idx = 0; idx < this.options_initial.selected.length; ++idx){
                this.options_initial.selected[idx].selected = true;
                this.options.select(this.options_initial.selected[idx].value, "#", true);
            }


            this.dropdown.querySelector('input').value = '';
            this.query.call(this, '');
        },


        config: function(key, value, rebuild){
            if(key instanceof Object){
                for(var k in key){ this.config(k, key[k], false); }
                return this.reload()? this.con: this.con;
            }
            if(typeof(key) == "undefined"){
                return this.con;
            } else if(!(key in this.con)){
                return false;
            }

            if(typeof(value) == "undefined"){
                return this.con[key];
            }
            this.con[key] = value;
            if(rebuild !== false){
                this.reload();
            }
            return this;
        },
        enable: function(update){
            cREM(this.select, "disabled");
            this.e.disabled = false;
            this.con.disabled = false;
            return (update === false)? this: this.reload();
        },
        disable: function(update){
            cADD(this.select, "disabled");
            this.e.disabled = true;
            this.con.disabled = true;
            return (update === false)? this: this.reload();
        },


        on: function(event, callback, args){
            if(["open", "close", "change"].indexOf(event) < 0 || typeof(callback) != "function"){
                return false;
            }
            if(!(event in this.events)){
                this.events[event] = [];
            }
            this.events[event].push({cb: callback, args: (args instanceof Array)? args: []});
            return this;
        },


        value: function(){
            if(this.options.selected.length == 0){
                return null;
            }
            if(this.con.multiple){
                return this.options.selected.map(function(opt){
                    return opt.value;
                });
            }
            return this.options.selected[0].value;
        }
    };


    options = select.options = function(select, parent){
        if(!(this instanceof options)){
            return new options(select, parent);
        }
        this.self = parent;
        this.element = select;
        this.length = 0;
        this.selected = [];
        this.disabled = [];
        this.items = {"#": {}};
        this.groups = {};
        return this;
    }


    options.prototype = {

        _r: function(state){
            return state.replace("disabled", "disable").replace("enabled", "enable")
                        .replace("selected", "select").replace("unselected", "unselect");
        },


        get: function(key, grp){
            var g = "getAttribute";
            if(typeof(key) == "object" && key.key && key.group){
                grp = key.group || grp;
                key = key.key;
            } else if(key instanceof Element){
                if(key.tagName == "OPTION"){
                    grp = key.parentElement.label || "#";
                    key = key.value || key.innerText;
                } else if(key.hasAttribute("data-key")){
                    grp = key[g]("data-group") || key.parentElement[g]("data-group") || "#";
                    key = key[g]("data-key");
                }
            } else if(typeof(key) != "string"){
                return false;
            }
            key = (/^[0-9]+$/.test(key))? "_" + key: key;
            return (grp in this.items)? this.items[grp][key]: false;
        },


        set: function(opt, rebuild){
            var key = opt.value || opt.innerText, grp = opt.parentElement.label || "#";
            if(!(grp in this.items)){
                this.items[grp] = {};
                this.groups[grp] = opt.parentElement;
            }
            if(key in this.items[grp]){
                return false;
            }
            var id = (/^[0-9]+$/.test(key))? "_" + key: key;

            var con = this.self.con;
            if(con.multiple && this.selected.length >= con.multiLimit){
                opt.selected = false;
            }
            if(opt.selected && con.deselect && (!opt.hasAttribute("selected") || con.multiLimit == 0)){
                opt.selected = false;
                opt.parentElement.selectedIndex = -1;
            }

            if(opt.hasAttribute("data-description")){
                var span = create("SPAN");
                    span.innerHTML = opt.getAttribute("data-description");
                opt.setAttribute("data-description", span.innerHTML);
            }

            this.items[grp][id] = {
                key: key,
                value: opt.text,
                description: opt.getAttribute("data-description") || null,
                group: grp,
                option: opt,
                optgroup: (grp != "#")? this.groups[grp]: undefined,
                selected: opt.selected,
                disabled: opt.disabled,
                hidden: opt.hidden || false
            };
            this.length++;
            if(opt.selected){ this.select(this.items[grp][id]); }
            if(opt.disabled){ this.disable(this.items[grp][id]); }
            return (rebuild)? this.self.callback(this.items[grp][key], "rebuild"): true;
        },


        add: function(key, value, group, selected, disabled, description, rebuild){
            if(key instanceof Object){
                for(var k in key){
                    this.add(key[k].key || k, key[k].value, key[k].group, key[k].selected, key[k].disabled, key[k].description, false);
                }
                return this.self.query();
            }
            if(this.get(key, group)){
                return false;
            }

            group = (typeof(group) == "string")? group: "#";
            if(group !== "#" && !(group in this.groups)){
                var optgroup = create("OPTGROUP");
                optgroup.label = group;
                optgroup.setAttribute("data-select-optgroup", "add");
                this.element.appendChild(optgroup);
                this.items[group] = {};
                this.groups[group] = optgroup;
            }

            if(this.self.con.multiple && this.selected.length >= this.self.con.multiLimit){
                selected = false;
            }
            disabled = !!disabled;

            var option = d.createElement("OPTION");
            option.value = key;
            option.selected = selected;
            option.disabled = disabled;
            option.innerText = value;
            option.setAttribute("data-select-option", "add");
            if(description && description.length > 0){
                option.setAttribute("data-description", description);
            }

            ((group == "#")? this.element: this.groups[group]).appendChild(option);
            return this.set(option, rebuild);
        },


        move: function(item, group, new_group, rebuild){
            if(!(item = this.get(item, group))){ return false; }

            if(new_group !== "#" && !(new_group in this.groups)){
                var optgroup = create("OPTGROUP");
                optgroup.label = new_group;
                this.element.appendChild(optgroup);
                this.items[new_group] = {};
                this.groups[new_group] = optgroup;
                this.groups[new_group].appendChild(item.option);
            }

            delete this.items[item.group][item.key];
            item.group = new_group;
            item.optgroup = this.groups[new_group] || undefined;
            this.items[new_group][item.key] = item;
            return (rebuild)? this.self.query(): true;
        },


        remove: function(item, group, rebuild){
            if(!(item = this.get(item, group))){ return false; }
            if(item.selected){ this.unselect(item); }
            if(item.disabled){ this.enable(item); }

            item.option.parentElement.removeChild(item.option);
            var id = (/^[0-9]+$/.test(item.key))? "_" + item.key: item.key;
            delete this.items[item.group][id];
            this.length--;

            if(Object.keys(this.items[item.group]).length === 0){
                delete this.items[item.group];
                delete this.groups[item.group];
            }
            return (rebuild)? this.self.query(): true;
        },


        is: function(state, key, group){
            var state = this._r(state), item = this.get(key, group);
            if(!item || ["select", "unselect", "disable", "enable"].indexOf(state) < 0){
                return null;
            }
            if(state == "disable" || state == "enable"){
                return (state == "disable")? item.disabled: !item.disabled;
            } else if(state == "select" || state == "unselect"){
                return (state == "select")? item.selected: !item.selected;
            }
            return false;
        },


        handle: function(state, key, group, _force){
            var item = this.get(key, group), state = this._r(state);
            if(!item || ["select", "unselect", "disable", "enable"].indexOf(state) < 0){
                return null;
            }

            if(state == "disable" || state == "enable"){
                if(!(item.option in this.disabled) && state == "disable"){
                    this.disabled.push(item.option);
                } else if((item.option in this.disabled) && state == "enable"){
                    this.disabled.splice(this.disabled.indexOf(item.option), 1);
                }
                item.disabled = (state == "disable");
                item.option.disabled = (state == "disable");
                return this.self.callback.call(this.self, item, state);
            }

            var dis = (cHAS(this.self.select, "disabled") || item.disabled || item.option.disabled),
                lmt = (this.self.con.multiple && this.self.con.multiLimit <= this.selected.length),
                sgl = (!this.self.con.multiple && this.selected.indexOf(item.option) > 0),
                del = (this.self.con.multiLimit == 0 && this.self.con.deselect == true),
                uns = (!this.self.con.multiple && !this.self.con.deselect && _force !== true);
            if(state == "select"){
                if(dis || lmt || del || sgl){
                    return false;
                }
                if(!this.self.con.multiple){
                    for(var i in this.selected){
                        this.unselect(this.selected[i], undefined, true);
                    }
                }
                if(this.selected.indexOf(item.option) < 0){
                    this.selected.push(item.option);
                }
            } else if(state == "unselect"){
                if(dis || uns){
                    return false;
                }
                this.selected.splice(this.selected.indexOf(item.option), 1);
            }
            item.selected = (state == "select");
            item.option.selected = (state == "select");
            item.option[(state.length > 6? "remove": "set") + "Attribute"]("selected", "selected");
            return this.self.callback.call(this.self, item, state, _force);
        },
        enable: function(key, group){
            return this.handle("enable", key, group, false);
        },
        disable: function(key, group){
            return this.handle("disable", key, group, false);
        },
        select: function(key, group){
            return this.handle("select", key, group, false);
        },
        unselect: function(key, group, _force){
            return this.handle("unselect", key, group, _force);
        },
        toggle: function(item, group){
            if(!(item = this.get(item, group))){ return false; }
            return this.handle((item.selected? "unselect": "select"), item, group, false);
        },


        invert: function(state){
            state = this._r(state);
            if(["enable", "disable"].indexOf(state) >= 0){
                var invert = this.disabled, action = (state == "enable")? "disable": "enable";
            } else if(["select", "unselect"].indexOf(state) >= 0){
                var invert = this.selected, action = (state == "select")? "unselect": "select";
            }
            var convert = Array.prototype.filter.call(this, function(element){
                return !(element in invert);
            }), self = this;

            [].concat(invert).forEach(function(item){
                self.handle.call(self, action, item);
            });
            [].concat(convert).forEach(function(item){
                self.handle.call(self, state, item);
            });
            return true;
        },


        all: function(state, group){
            var self = this, list = this;
            if(group in this.items){
                list = Object.keys(this.items[group]);
            } else if(["unselect", "enable"].indexOf(state) >= 0){
                list = [].concat((state == "unselect")? this.selected: this.disabled);
            }
            Array.prototype.forEach.call(list, function(item){
                self.handle.call(self, state, item, group, false);
            });
            return true;
        },


        walk: function(state, items, args){
            if(items instanceof Array || items.length){
                for(var l = items.length, i = 0; i < l; i++){
                    this.handle.apply(this, [state, items[i], null].concat(args));
                }
            } else if(items instanceof Object){
                var self = this;
                if(items.forEach){
                    items.forEach(function(value){
                        self.handle.apply(self, [state, value, null].concat(args));
                    });
                } else {
                    for(var key in items){
                        if(typeof(items[key]) != "string" && typeof(items[key]) != "number" && !(items[key] instanceof Element)){
                            continue;
                        }
                        this.handle.apply(this, [state, items[key], (key in this.items? key: null)]).concat(args);
                    }
                }
            }
            return this;
        },


        applyLinguisticRules: function(search, casesensitive){
            var rules = this.self.con.linguisticRules, values = [];

            Object.keys(rules).forEach(function(key){ 
                values.push("(" + key + "|[" + rules[key] + "])");
            });
            if(casesensitive){
                values = values.concat(values.map(function(s){ return s.toUpperCase(); })); 
            }

            return search.replace(new RegExp(values.join("|"), (casesensitive)? "g": "ig"), function(m){
                return values[[].indexOf.call(arguments, m, 1) - 1];
            });
        },



        find: function(search, config){
            var self = this, matches, has = {};

            if(!config){
                config = this.self.con.searchConfig;
            }

            if(typeof config === "function"){
                matches = config.bind(this, search);
            }

            else {
                config = (config instanceof Array)? config: [config];
                config.forEach(function(c){
                    if(typeof(c) === "string"){ has[c] = true; }
                });
                has.any = (!has.any)? has.attributes && has.value: has.any;

                if(!has.regex || has.text){
                    search = search.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
                }
                if(!has.exactglyphes){
                    search = this.self.options.applyLinguisticRules(search, has.case);
                }
                if(has.word){
                    search = '\\b' + search + '\\b';
                }

                var regex = new RegExp(search, (!has.case)? "mi": "m"),
                    sfunc = function(opt){ return regex.test(opt.text || opt.value); };

                if(has.any){
                    matches = function(opt){ return sfunc(opt) || [].some.call(opt.attributes, sfunc); };
                } else if(has.attributes){
                    matches = function(opt){ return [].some.call(opt.attributes, sfunc); };
                } else {
                    matches = sfunc;
                }

                if(!this.self.con.searchDisabled){
                    var temp = matches;
                    matches = function(opt){ return !opt.disabled && temp(opt); };
                }
            }

            return [].filter.call(this.self.e.options, matches).map(function(opt){
                return opt.hidden? false: self.get(opt) 
            });
        },


        finder: function(search, config){
            if(this._finderLoop === undefined){
                this._finderLoop = this.find(search, config);
            }
            var item;
            while((item = this._finderLoop.shift()) !== undefined){
                return item;
            }
            delete this._finderLoop;
            return false;
        },


        walker: function(orderi, orderg){
            if(typeof(this._inLoop) != "undefined" && this._inLoop){
                if(this._inItems.length > 0){
                    do {
                        var temp = this.items[this._inGroup][this._inItems.shift()];
                    } while(temp.hidden === true);
                    return temp;
                }

                if(this._inGroups.length > 0){
                    while(this._inGroups.length > 0){
                        var group = this._inGroups.shift();
                        if(!(group in this.items)){
                            return false;
                        }

                        var keys = Object.keys(this.items[group]);
                        if(keys.length > 0){
                            break;
                        }
                    }
                    if(orderi == "ASC"){
                        keys.sort();
                    } else if(orderi == "DESC"){
                        keys.sort().reverse();
                    } else if(typeof(orderi) == "function"){
                        keys = orderi.call(this, keys);
                    }
                    this._inItems = keys;
                    this._inGroup = group;
                    return this.walker(null, null);
                }

                delete this._inLoop;
                delete this._inItems;
                delete this._inGroup;
                delete this._inGroups;
                return false;
            }

            var groups = Object.keys(this.groups) || [];
            if(orderg == "ASC"){
                groups.sort();
            } else if(orderg == "DESC"){
                groups.sort().reverse();
            } else if(typeof(orderg) == "function"){
                groups = orderg.call(this, groups);
            }
            groups.unshift("#");

            this._inLoop = true;
            this._inItems = [];
            this._inGroups = groups;
            return this.walker(orderi, null);
        }
    };

    return select;
}));

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Chart=e()}(this,(function(){"use strict";var t=Object.freeze({__proto__:null,get Colors(){return Go},get Decimation(){return Qo},get Filler(){return ma},get Legend(){return ya},get SubTitle(){return ka},get Title(){return Ma},get Tooltip(){return Ba}});function e(){}const i=(()=>{let t=0;return()=>t++})();function s(t){return null==t}function n(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function o(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function r(t,e){return a(t)?t:e}function l(t,e){return void 0===t?e:t}const h=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/e,c=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function d(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)}function u(t,e,i,s){let a,r,l;if(n(t))if(r=t.length,s)for(a=r-1;a>=0;a--)e.call(i,t[a],a);else for(a=0;a<r;a++)e.call(i,t[a],a);else if(o(t))for(l=Object.keys(t),r=l.length,a=0;a<r;a++)e.call(i,t[l[a]],l[a])}function f(t,e){let i,s,n,o;if(!t||!e||t.length!==e.length)return!1;for(i=0,s=t.length;i<s;++i)if(n=t[i],o=e[i],n.datasetIndex!==o.datasetIndex||n.index!==o.index)return!1;return!0}function g(t){if(n(t))return t.map(g);if(o(t)){const e=Object.create(null),i=Object.keys(t),s=i.length;let n=0;for(;n<s;++n)e[i[n]]=g(t[i[n]]);return e}return t}function p(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function m(t,e,i,s){if(!p(t))return;const n=e[t],a=i[t];o(n)&&o(a)?b(n,a,s):e[t]=g(a)}function b(t,e,i){const s=n(e)?e:[e],a=s.length;if(!o(t))return t;const r=(i=i||{}).merger||m;let l;for(let e=0;e<a;++e){if(l=s[e],!o(l))continue;const n=Object.keys(l);for(let e=0,s=n.length;e<s;++e)r(n[e],t,l,i)}return t}function x(t,e){return b(t,e,{merger:_})}function _(t,e,i){if(!p(t))return;const s=e[t],n=i[t];o(s)&&o(n)?x(s,n):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=g(n))}const y={"":t=>t,x:t=>t.x,y:t=>t.y};function v(t){const e=t.split("."),i=[];let s="";for(const t of e)s+=t,s.endsWith("\\")?s=s.slice(0,-1)+".":(i.push(s),s="");return i}function M(t,e){const i=y[e]||(y[e]=function(t){const e=v(t);return t=>{for(const i of e){if(""===i)break;t=t&&t[i]}return t}}(e));return i(t)}function w(t){return t.charAt(0).toUpperCase()+t.slice(1)}const k=t=>void 0!==t,S=t=>"function"==typeof t,P=(t,e)=>{if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0};function D(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}const C=Math.PI,O=2*C,A=O+C,T=Number.POSITIVE_INFINITY,L=C/180,E=C/2,R=C/4,I=2*C/3,z=Math.log10,F=Math.sign;function V(t,e,i){return Math.abs(t-e)<i}function B(t){const e=Math.round(t);t=V(t,e,t/1e3)?e:t;const i=Math.pow(10,Math.floor(z(t))),s=t/i;return(s<=1?1:s<=2?2:s<=5?5:10)*i}function W(t){const e=[],i=Math.sqrt(t);let s;for(s=1;s<i;s++)t%s==0&&(e.push(s),e.push(t/s));return i===(0|i)&&e.push(i),e.sort(((t,e)=>t-e)).pop(),e}function N(t){return!isNaN(parseFloat(t))&&isFinite(t)}function H(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}function j(t,e,i){let s,n,o;for(s=0,n=t.length;s<n;s++)o=t[s][i],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function $(t){return t*(C/180)}function Y(t){return t*(180/C)}function U(t){if(!a(t))return;let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i++;return i}function X(t,e){const i=e.x-t.x,s=e.y-t.y,n=Math.sqrt(i*i+s*s);let o=Math.atan2(s,i);return o<-.5*C&&(o+=O),{angle:o,distance:n}}function q(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function K(t,e){return(t-e+A)%O-C}function G(t){return(t%O+O)%O}function Z(t,e,i,s){const n=G(t),o=G(e),a=G(i),r=G(o-n),l=G(a-n),h=G(n-o),c=G(n-a);return n===o||n===a||s&&o===a||r>l&&h<c}function J(t,e,i){return Math.max(e,Math.min(i,t))}function Q(t){return J(t,-32768,32767)}function tt(t,e,i,s=1e-6){return t>=Math.min(e,i)-s&&t<=Math.max(e,i)+s}function et(t,e,i){i=i||(i=>t[i]<e);let s,n=t.length-1,o=0;for(;n-o>1;)s=o+n>>1,i(s)?o=s:n=s;return{lo:o,hi:n}}const it=(t,e,i,s)=>et(t,i,s?s=>{const n=t[s][e];return n<i||n===i&&t[s+1][e]===i}:s=>t[s][e]<i),st=(t,e,i)=>et(t,i,(s=>t[s][e]>=i));function nt(t,e,i){let s=0,n=t.length;for(;s<n&&t[s]<e;)s++;for(;n>s&&t[n-1]>i;)n--;return s>0||n<t.length?t.slice(s,n):t}const ot=["push","pop","shift","splice","unshift"];function at(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ot.forEach((e=>{const i="_onData"+w(e),s=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){const n=s.apply(this,e);return t._chartjs.listeners.forEach((t=>{"function"==typeof t[i]&&t[i](...e)})),n}})})))}function rt(t,e){const i=t._chartjs;if(!i)return;const s=i.listeners,n=s.indexOf(e);-1!==n&&s.splice(n,1),s.length>0||(ot.forEach((e=>{delete t[e]})),delete t._chartjs)}function lt(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const ht="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function ct(t,e){let i=[],s=!1;return function(...n){i=n,s||(s=!0,ht.call(window,(()=>{s=!1,t.apply(e,i)})))}}function dt(t,e){let i;return function(...s){return e?(clearTimeout(i),i=setTimeout(t,e,s)):t.apply(this,s),e}}const ut=t=>"start"===t?"left":"end"===t?"right":"center",ft=(t,e,i)=>"start"===t?e:"end"===t?i:(e+i)/2,gt=(t,e,i,s)=>t===(s?"left":"right")?i:"center"===t?(e+i)/2:e;function pt(t,e,i){const s=e.length;let n=0,o=s;if(t._sorted){const{iScale:a,_parsed:r}=t,l=a.axis,{min:h,max:c,minDefined:d,maxDefined:u}=a.getUserBounds();d&&(n=J(Math.min(it(r,l,h).lo,i?s:it(e,l,a.getPixelForValue(h)).lo),0,s-1)),o=u?J(Math.max(it(r,a.axis,c,!0).hi+1,i?0:it(e,l,a.getPixelForValue(c),!0).hi+1),n,s)-n:s-n}return{start:n,count:o}}function mt(t){const{xScale:e,yScale:i,_scaleRanges:s}=t,n={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!s)return t._scaleRanges=n,!0;const o=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==i.min||s.ymax!==i.max;return Object.assign(s,n),o}class bt{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const n=e.listeners[s],o=e.duration;n.forEach((s=>s({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=ht.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((i,s)=>{if(!i.running||!i.items.length)return;const n=i.items;let o,a=n.length-1,r=!1;for(;a>=0;--a)o=n[a],o._active?(o._total>i.duration&&(i.duration=o._total),o.tick(t),r=!0):(n[a]=n[n.length-1],n.pop());r&&(s.draw(),this._notify(s,i,t,"progress")),n.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=n.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var xt=new bt;
function _t(t){return t+.5|0}const yt=(t,e,i)=>Math.max(Math.min(t,i),e);function vt(t){return yt(_t(2.55*t),0,255)}function Mt(t){return yt(_t(255*t),0,255)}function wt(t){return yt(_t(t/2.55)/100,0,1)}function kt(t){return yt(_t(100*t),0,100)}const St={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Pt=[..."0123456789ABCDEF"],Dt=t=>Pt[15&t],Ct=t=>Pt[(240&t)>>4]+Pt[15&t],Ot=t=>(240&t)>>4==(15&t);function At(t){var e=(t=>Ot(t.r)&&Ot(t.g)&&Ot(t.b)&&Ot(t.a))(t)?Dt:Ct;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const Tt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Lt(t,e,i){const s=e*Math.min(i,1-i),n=(e,n=(e+t/30)%12)=>i-s*Math.max(Math.min(n-3,9-n,1),-1);return[n(0),n(8),n(4)]}function Et(t,e,i){const s=(s,n=(s+t/60)%6)=>i-i*e*Math.max(Math.min(n,4-n,1),0);return[s(5),s(3),s(1)]}function Rt(t,e,i){const s=Lt(t,1,.5);let n;for(e+i>1&&(n=1/(e+i),e*=n,i*=n),n=0;n<3;n++)s[n]*=1-e-i,s[n]+=e;return s}function It(t){const e=t.r/255,i=t.g/255,s=t.b/255,n=Math.max(e,i,s),o=Math.min(e,i,s),a=(n+o)/2;let r,l,h;return n!==o&&(h=n-o,l=a>.5?h/(2-n-o):h/(n+o),r=function(t,e,i,s,n){return t===n?(e-i)/s+(e<i?6:0):e===n?(i-t)/s+2:(t-e)/s+4}(e,i,s,h,n),r=60*r+.5),[0|r,l||0,a]}function zt(t,e,i,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,s)).map(Mt)}function Ft(t,e,i){return zt(Lt,t,e,i)}function Vt(t){return(t%360+360)%360}function Bt(t){const e=Tt.exec(t);let i,s=255;if(!e)return;e[5]!==i&&(s=e[6]?vt(+e[5]):Mt(+e[5]));const n=Vt(+e[2]),o=+e[3]/100,a=+e[4]/100;return i="hwb"===e[1]?function(t,e,i){return zt(Rt,t,e,i)}(n,o,a):"hsv"===e[1]?function(t,e,i){return zt(Et,t,e,i)}(n,o,a):Ft(n,o,a),{r:i[0],g:i[1],b:i[2],a:s}}const Wt={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Nt={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ht;function jt(t){Ht||(Ht=function(){const t={},e=Object.keys(Nt),i=Object.keys(Wt);let s,n,o,a,r;for(s=0;s<e.length;s++){for(a=r=e[s],n=0;n<i.length;n++)o=i[n],r=r.replace(o,Wt[o]);o=parseInt(Nt[a],16),t[r]=[o>>16&255,o>>8&255,255&o]}return t}(),Ht.transparent=[0,0,0,0]);const e=Ht[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const $t=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Yt=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Ut=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Xt(t,e,i){if(t){let s=It(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*i,0===e?360:1)),s=Ft(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function qt(t,e){return t?Object.assign(e||{},t):t}function Kt(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Mt(t[3]))):(e=qt(t,{r:0,g:0,b:0,a:1})).a=Mt(e.a),e}function Gt(t){return"r"===t.charAt(0)?function(t){const e=$t.exec(t);let i,s,n,o=255;if(e){if(e[7]!==i){const t=+e[7];o=e[8]?vt(t):yt(255*t,0,255)}return i=+e[1],s=+e[3],n=+e[5],i=255&(e[2]?vt(i):yt(i,0,255)),s=255&(e[4]?vt(s):yt(s,0,255)),n=255&(e[6]?vt(n):yt(n,0,255)),{r:i,g:s,b:n,a:o}}}(t):Bt(t)}class Zt{constructor(t){if(t instanceof Zt)return t;const e=typeof t;let i;var s,n,o;"object"===e?i=Kt(t):"string"===e&&(o=(s=t).length,"#"===s[0]&&(4===o||5===o?n={r:255&17*St[s[1]],g:255&17*St[s[2]],b:255&17*St[s[3]],a:5===o?17*St[s[4]]:255}:7!==o&&9!==o||(n={r:St[s[1]]<<4|St[s[2]],g:St[s[3]]<<4|St[s[4]],b:St[s[5]]<<4|St[s[6]],a:9===o?St[s[7]]<<4|St[s[8]]:255})),i=n||jt(t)||Gt(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=qt(this._rgb);return t&&(t.a=wt(t.a)),t}set rgb(t){this._rgb=Kt(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${wt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0;var t}hexString(){return this._valid?At(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=It(t),i=e[0],s=kt(e[1]),n=kt(e[2]);return t.a<255?`hsla(${i}, ${s}%, ${n}%, ${wt(t.a)})`:`hsl(${i}, ${s}%, ${n}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let n;const o=e===n?.5:e,a=2*o-1,r=i.a-s.a,l=((a*r==-1?a:(a+r)/(1+a*r))+1)/2;n=1-l,i.r=255&l*i.r+n*s.r+.5,i.g=255&l*i.g+n*s.g+.5,i.b=255&l*i.b+n*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,i){const s=Ut(wt(t.r)),n=Ut(wt(t.g)),o=Ut(wt(t.b));return{r:Mt(Yt(s+i*(Ut(wt(e.r))-s))),g:Mt(Yt(n+i*(Ut(wt(e.g))-n))),b:Mt(Yt(o+i*(Ut(wt(e.b))-o))),a:t.a+i*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new Zt(this.rgb)}alpha(t){return this._rgb.a=Mt(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=_t(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Xt(this._rgb,2,t),this}darken(t){return Xt(this._rgb,2,-t),this}saturate(t){return Xt(this._rgb,1,t),this}desaturate(t){return Xt(this._rgb,1,-t),this}rotate(t){return function(t,e){var i=It(t);i[0]=Vt(i[0]+e),i=Ft(i),t.r=i[0],t.g=i[1],t.b=i[2]}(this._rgb,t),this}}function Jt(t){if(t&&"object"==typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Qt(t){return Jt(t)?t:new Zt(t)}function te(t){return Jt(t)?t:new Zt(t).saturate(.5).darken(.1).hexString()}const ee=["x","y","borderWidth","radius","tension"],ie=["color","borderColor","backgroundColor"];const se=new Map;function ne(t,e,i){return function(t,e){e=e||{};const i=t+JSON.stringify(e);let s=se.get(i);return s||(s=new Intl.NumberFormat(t,e),se.set(i,s)),s}(e,i).format(t)}const oe={values:t=>n(t)?t:""+t,numeric(t,e,i){if(0===t)return"0";const s=this.chart.options.locale;let n,o=t;if(i.length>1){const e=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(e<1e-4||e>1e15)&&(n="scientific"),o=function(t,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t));return i}(t,i)}const a=z(Math.abs(o)),r=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:n,minimumFractionDigits:r,maximumFractionDigits:r};return Object.assign(l,this.options.ticks.format),ne(t,s,l)},logarithmic(t,e,i){if(0===t)return"0";const s=i[e].significand||t/Math.pow(10,Math.floor(z(t)));return[1,2,3,5,10,15].includes(s)||e>.8*i.length?oe.numeric.call(this,t,e,i):""}};var ae={formatters:oe};const re=Object.create(null),le=Object.create(null);function he(t,e){if(!e)return t;const i=e.split(".");for(let e=0,s=i.length;e<s;++e){const s=i[e];t=t[s]||(t[s]=Object.create(null))}return t}function ce(t,e,i){return"string"==typeof e?b(he(t,e),i):b(he(t,""),e)}class de{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>te(e.backgroundColor),this.hoverBorderColor=(t,e)=>te(e.borderColor),this.hoverColor=(t,e)=>te(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return ce(this,t,e)}get(t){return he(this,t)}describe(t,e){return ce(le,t,e)}override(t,e){return ce(re,t,e)}route(t,e,i,s){const n=he(this,t),a=he(this,i),r="_"+e;Object.defineProperties(n,{[r]:{value:n[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[r],e=a[s];return o(t)?Object.assign({},e,t):l(t,e)},set(t){this[r]=t}}})}apply(t){t.forEach((t=>t(this)))}}var ue=new de({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:ie},numbers:{type:"number",properties:ee}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ae.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function fe(){return"undefined"!=typeof window&&"undefined"!=typeof document}function ge(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function pe(t,e,i){let s;return"string"==typeof t?(s=parseInt(t,10),-1!==t.indexOf("%")&&(s=s/100*e.parentNode[i])):s=t,s}const me=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function be(t,e){return me(t).getPropertyValue(e)}const xe=["top","right","bottom","left"];function _e(t,e,i){const s={};i=i?"-"+i:"";for(let n=0;n<4;n++){const o=xe[n];s[o]=parseFloat(t[e+"-"+o+i])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const ye=(t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot);function ve(t,e){if("native"in t)return t;const{canvas:i,currentDevicePixelRatio:s}=e,n=me(i),o="border-box"===n.boxSizing,a=_e(n,"padding"),r=_e(n,"border","width"),{x:l,y:h,box:c}=function(t,e){const i=t.touches,s=i&&i.length?i[0]:t,{offsetX:n,offsetY:o}=s;let a,r,l=!1;if(ye(n,o,t.target))a=n,r=o;else{const t=e.getBoundingClientRect();a=s.clientX-t.left,r=s.clientY-t.top,l=!0}return{x:a,y:r,box:l}}(t,i),d=a.left+(c&&r.left),u=a.top+(c&&r.top);let{width:f,height:g}=e;return o&&(f-=a.width+r.width,g-=a.height+r.height),{x:Math.round((l-d)/f*i.width/s),y:Math.round((h-u)/g*i.height/s)}}const Me=t=>Math.round(10*t)/10;function we(t,e,i,s){const n=me(t),o=_e(n,"margin"),a=pe(n.maxWidth,t,"clientWidth")||T,r=pe(n.maxHeight,t,"clientHeight")||T,l=function(t,e,i){let s,n;if(void 0===e||void 0===i){const o=ge(t);if(o){const t=o.getBoundingClientRect(),a=me(o),r=_e(a,"border","width"),l=_e(a,"padding");e=t.width-l.width-r.width,i=t.height-l.height-r.height,s=pe(a.maxWidth,o,"clientWidth"),n=pe(a.maxHeight,o,"clientHeight")}else e=t.clientWidth,i=t.clientHeight}return{width:e,height:i,maxWidth:s||T,maxHeight:n||T}}(t,e,i);let{width:h,height:c}=l;if("content-box"===n.boxSizing){const t=_e(n,"border","width"),e=_e(n,"padding");h-=e.width+t.width,c-=e.height+t.height}h=Math.max(0,h-o.width),c=Math.max(0,s?h/s:c-o.height),h=Me(Math.min(h,a,l.maxWidth)),c=Me(Math.min(c,r,l.maxHeight)),h&&!c&&(c=Me(h/2));return(void 0!==e||void 0!==i)&&s&&l.height&&c>l.height&&(c=l.height,h=Me(Math.floor(c*s))),{width:h,height:c}}function ke(t,e,i){const s=e||1,n=Math.floor(t.height*s),o=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(i||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==s||a.height!==n||a.width!==o)&&(t.currentDevicePixelRatio=s,a.height=n,a.width=o,t.ctx.setTransform(s,0,0,s,0,0),!0)}const Se=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};fe()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(t){}return t}();function Pe(t,e){const i=be(t,e),s=i&&i.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function De(t){return!t||s(t.size)||s(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ce(t,e,i,s,n){let o=e[n];return o||(o=e[n]=t.measureText(n).width,i.push(n)),o>s&&(s=o),s}function Oe(t,e,i,s){let o=(s=s||{}).data=s.data||{},a=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(o=s.data={},a=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let r=0;const l=i.length;let h,c,d,u,f;for(h=0;h<l;h++)if(u=i[h],null==u||n(u)){if(n(u))for(c=0,d=u.length;c<d;c++)f=u[c],null==f||n(f)||(r=Ce(t,o,a,r,f))}else r=Ce(t,o,a,r,u);t.restore();const g=a.length/2;if(g>i.length){for(h=0;h<g;h++)delete o[a[h]];a.splice(0,g)}return r}function Ae(t,e,i){const s=t.currentDevicePixelRatio,n=0!==i?Math.max(i/2,.5):0;return Math.round((e-n)*s)/s+n}function Te(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Le(t,e,i,s){Ee(t,e,i,s,null)}function Ee(t,e,i,s,n){let o,a,r,l,h,c,d,u;const f=e.pointStyle,g=e.rotation,p=e.radius;let m=(g||0)*L;if(f&&"object"==typeof f&&(o=f.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(i,s),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(p)||p<=0)){switch(t.beginPath(),f){default:n?t.ellipse(i,s,n/2,p,0,0,O):t.arc(i,s,p,0,O),t.closePath();break;case"triangle":c=n?n/2:p,t.moveTo(i+Math.sin(m)*c,s-Math.cos(m)*p),m+=I,t.lineTo(i+Math.sin(m)*c,s-Math.cos(m)*p),m+=I,t.lineTo(i+Math.sin(m)*c,s-Math.cos(m)*p),t.closePath();break;case"rectRounded":h=.516*p,l=p-h,a=Math.cos(m+R)*l,d=Math.cos(m+R)*(n?n/2-h:l),r=Math.sin(m+R)*l,u=Math.sin(m+R)*(n?n/2-h:l),t.arc(i-d,s-r,h,m-C,m-E),t.arc(i+u,s-a,h,m-E,m),t.arc(i+d,s+r,h,m,m+E),t.arc(i-u,s+a,h,m+E,m+C),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*p,c=n?n/2:l,t.rect(i-c,s-l,2*c,2*l);break}m+=R;case"rectRot":d=Math.cos(m)*(n?n/2:p),a=Math.cos(m)*p,r=Math.sin(m)*p,u=Math.sin(m)*(n?n/2:p),t.moveTo(i-d,s-r),t.lineTo(i+u,s-a),t.lineTo(i+d,s+r),t.lineTo(i-u,s+a),t.closePath();break;case"crossRot":m+=R;case"cross":d=Math.cos(m)*(n?n/2:p),a=Math.cos(m)*p,r=Math.sin(m)*p,u=Math.sin(m)*(n?n/2:p),t.moveTo(i-d,s-r),t.lineTo(i+d,s+r),t.moveTo(i+u,s-a),t.lineTo(i-u,s+a);break;case"star":d=Math.cos(m)*(n?n/2:p),a=Math.cos(m)*p,r=Math.sin(m)*p,u=Math.sin(m)*(n?n/2:p),t.moveTo(i-d,s-r),t.lineTo(i+d,s+r),t.moveTo(i+u,s-a),t.lineTo(i-u,s+a),m+=R,d=Math.cos(m)*(n?n/2:p),a=Math.cos(m)*p,r=Math.sin(m)*p,u=Math.sin(m)*(n?n/2:p),t.moveTo(i-d,s-r),t.lineTo(i+d,s+r),t.moveTo(i+u,s-a),t.lineTo(i-u,s+a);break;case"line":a=n?n/2:Math.cos(m)*p,r=Math.sin(m)*p,t.moveTo(i-a,s-r),t.lineTo(i+a,s+r);break;case"dash":t.moveTo(i,s),t.lineTo(i+Math.cos(m)*(n?n/2:p),s+Math.sin(m)*p);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function Re(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function Ie(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ze(t){t.restore()}function Fe(t,e,i,s,n){if(!e)return t.lineTo(i.x,i.y);if("middle"===n){const s=(e.x+i.x)/2;t.lineTo(s,e.y),t.lineTo(s,i.y)}else"after"===n!=!!s?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function Ve(t,e,i,s){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?i.cp2x:i.cp1x,s?i.cp2y:i.cp1y,i.x,i.y)}function Be(t,e,i,s,n){if(n.strikethrough||n.underline){const o=t.measureText(s),a=e-o.actualBoundingBoxLeft,r=e+o.actualBoundingBoxRight,l=i-o.actualBoundingBoxAscent,h=i+o.actualBoundingBoxDescent,c=n.strikethrough?(l+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(a,c),t.lineTo(r,c),t.stroke()}}function We(t,e){const i=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=i}function Ne(t,e,i,o,a,r={}){const l=n(e)?e:[e],h=r.strokeWidth>0&&""!==r.strokeColor;let c,d;for(t.save(),t.font=a.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),s(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,r),c=0;c<l.length;++c)d=l[c],r.backdrop&&We(t,r.backdrop),h&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),s(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(d,i,o,r.maxWidth)),t.fillText(d,i,o,r.maxWidth),Be(t,i,o,d,r),o+=Number(a.lineHeight);t.restore()}function He(t,e){const{x:i,y:s,w:n,h:o,radius:a}=e;t.arc(i+a.topLeft,s+a.topLeft,a.topLeft,1.5*C,C,!0),t.lineTo(i,s+o-a.bottomLeft),t.arc(i+a.bottomLeft,s+o-a.bottomLeft,a.bottomLeft,C,E,!0),t.lineTo(i+n-a.bottomRight,s+o),t.arc(i+n-a.bottomRight,s+o-a.bottomRight,a.bottomRight,E,0,!0),t.lineTo(i+n,s+a.topRight),t.arc(i+n-a.topRight,s+a.topRight,a.topRight,0,-E,!0),t.lineTo(i+a.topLeft,s)}function je(t,e=[""],i,s,n=(()=>t[0])){const o=i||t;void 0===s&&(s=ti("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:s,_getTarget:n,override:i=>je([i,...t],e,o,s)};return new Proxy(a,{deleteProperty:(e,i)=>(delete e[i],delete e._keys,delete t[0][i],!0),get:(i,s)=>qe(i,s,(()=>function(t,e,i,s){let n;for(const o of e)if(n=ti(Ue(o,t),i),void 0!==n)return Xe(t,n)?Je(i,s,t,n):n}(s,e,t,i))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>ei(t).includes(e),ownKeys:t=>ei(t),set(t,e,i){const s=t._storage||(t._storage=n());return t[e]=s[e]=i,delete t._keys,!0}})}function $e(t,e,i,s){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:Ye(t,s),setContext:e=>$e(t,e,i,s),override:n=>$e(t.override(n),e,i,s)};return new Proxy(a,{deleteProperty:(e,i)=>(delete e[i],delete t[i],!0),get:(t,e,i)=>qe(t,e,(()=>function(t,e,i){const{_proxy:s,_context:a,_subProxy:r,_descriptors:l}=t;let h=s[e];S(h)&&l.isScriptable(e)&&(h=function(t,e,i,s){const{_proxy:n,_context:o,_subProxy:a,_stack:r}=i;if(r.has(t))throw new Error("Recursion detected: "+Array.from(r).join("->")+"->"+t);r.add(t);let l=e(o,a||s);r.delete(t),Xe(t,l)&&(l=Je(n._scopes,n,t,l));return l}(e,h,t,i));n(h)&&h.length&&(h=function(t,e,i,s){const{_proxy:n,_context:a,_subProxy:r,_descriptors:l}=i;if(void 0!==a.index&&s(t))return e[a.index%e.length];if(o(e[0])){const i=e,s=n._scopes.filter((t=>t!==i));e=[];for(const o of i){const i=Je(s,n,t,o);e.push($e(i,a,r&&r[t],l))}}return e}(e,h,t,l.isIndexable));Xe(e,h)&&(h=$e(h,a,r&&r[e],l));return h}(t,e,i))),getOwnPropertyDescriptor:(e,i)=>e._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,i)=>Reflect.has(t,i),ownKeys:()=>Reflect.ownKeys(t),set:(e,i,s)=>(t[i]=s,delete e[i],!0)})}function Ye(t,e={scriptable:!0,indexable:!0}){const{_scriptable:i=e.scriptable,_indexable:s=e.indexable,_allKeys:n=e.allKeys}=t;return{allKeys:n,scriptable:i,indexable:s,isScriptable:S(i)?i:()=>i,isIndexable:S(s)?s:()=>s}}const Ue=(t,e)=>t?t+w(e):e,Xe=(t,e)=>o(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function qe(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const s=i();return t[e]=s,s}function Ke(t,e,i){return S(t)?t(e,i):t}const Ge=(t,e)=>!0===t?e:"string"==typeof t?M(e,t):void 0;function Ze(t,e,i,s,n){for(const o of e){const e=Ge(i,o);if(e){t.add(e);const o=Ke(e._fallback,i,n);if(void 0!==o&&o!==i&&o!==s)return o}else if(!1===e&&void 0!==s&&i!==s)return null}return!1}function Je(t,e,i,s){const a=e._rootScopes,r=Ke(e._fallback,i,s),l=[...t,...a],h=new Set;h.add(s);let c=Qe(h,l,i,r||i,s);return null!==c&&((void 0===r||r===i||(c=Qe(h,l,r,c,s),null!==c))&&je(Array.from(h),[""],a,r,(()=>function(t,e,i){const s=t._getTarget();e in s||(s[e]={});const a=s[e];if(n(a)&&o(i))return i;return a||{}}(e,i,s))))}function Qe(t,e,i,s,n){for(;i;)i=Ze(t,e,i,s,n);return i}function ti(t,e){for(const i of e){if(!i)continue;const e=i[t];if(void 0!==e)return e}}function ei(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const i of t)for(const t of Object.keys(i).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function ii(t,e,i,s){const{iScale:n}=t,{key:o="r"}=this._parsing,a=new Array(s);let r,l,h,c;for(r=0,l=s;r<l;++r)h=r+i,c=e[h],a[r]={r:n.parse(M(c,o),h)};return a}const si=Number.EPSILON||1e-14,ni=(t,e)=>e<t.length&&!t[e].skip&&t[e],oi=t=>"x"===t?"y":"x";function ai(t,e,i,s){const n=t.skip?e:t,o=e,a=i.skip?e:i,r=q(o,n),l=q(a,o);let h=r/(r+l),c=l/(r+l);h=isNaN(h)?0:h,c=isNaN(c)?0:c;const d=s*h,u=s*c;return{previous:{x:o.x-d*(a.x-n.x),y:o.y-d*(a.y-n.y)},next:{x:o.x+u*(a.x-n.x),y:o.y+u*(a.y-n.y)}}}function ri(t,e="x"){const i=oi(e),s=t.length,n=Array(s).fill(0),o=Array(s);let a,r,l,h=ni(t,0);for(a=0;a<s;++a)if(r=l,l=h,h=ni(t,a+1),l){if(h){const t=h[e]-l[e];n[a]=0!==t?(h[i]-l[i])/t:0}o[a]=r?h?F(n[a-1])!==F(n[a])?0:(n[a-1]+n[a])/2:n[a-1]:n[a]}!function(t,e,i){const s=t.length;let n,o,a,r,l,h=ni(t,0);for(let c=0;c<s-1;++c)l=h,h=ni(t,c+1),l&&h&&(V(e[c],0,si)?i[c]=i[c+1]=0:(n=i[c]/e[c],o=i[c+1]/e[c],r=Math.pow(n,2)+Math.pow(o,2),r<=9||(a=3/Math.sqrt(r),i[c]=n*a*e[c],i[c+1]=o*a*e[c])))}(t,n,o),function(t,e,i="x"){const s=oi(i),n=t.length;let o,a,r,l=ni(t,0);for(let h=0;h<n;++h){if(a=r,r=l,l=ni(t,h+1),!r)continue;const n=r[i],c=r[s];a&&(o=(n-a[i])/3,r[`cp1${i}`]=n-o,r[`cp1${s}`]=c-o*e[h]),l&&(o=(l[i]-n)/3,r[`cp2${i}`]=n+o,r[`cp2${s}`]=c+o*e[h])}}(t,o,e)}function li(t,e,i){return Math.max(Math.min(t,i),e)}function hi(t,e,i,s,n){let o,a,r,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)ri(t,n);else{let i=s?t[t.length-1]:t[0];for(o=0,a=t.length;o<a;++o)r=t[o],l=ai(i,r,t[Math.min(o+1,a-(s?0:1))%a],e.tension),r.cp1x=l.previous.x,r.cp1y=l.previous.y,r.cp2x=l.next.x,r.cp2y=l.next.y,i=r}e.capBezierPoints&&function(t,e){let i,s,n,o,a,r=Re(t[0],e);for(i=0,s=t.length;i<s;++i)a=o,o=r,r=i<s-1&&Re(t[i+1],e),o&&(n=t[i],a&&(n.cp1x=li(n.cp1x,e.left,e.right),n.cp1y=li(n.cp1y,e.top,e.bottom)),r&&(n.cp2x=li(n.cp2x,e.left,e.right),n.cp2y=li(n.cp2y,e.top,e.bottom)))}(t,i)}const ci=t=>0===t||1===t,di=(t,e,i)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*O/i),ui=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*O/i)+1,fi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*E),easeOutSine:t=>Math.sin(t*E),easeInOutSine:t=>-.5*(Math.cos(C*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>ci(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ci(t)?t:di(t,.075,.3),easeOutElastic:t=>ci(t)?t:ui(t,.075,.3),easeInOutElastic(t){const e=.1125;return ci(t)?t:t<.5?.5*di(2*t,e,.45):.5+.5*ui(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-fi.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},easeInOutBounce:t=>t<.5?.5*fi.easeInBounce(2*t):.5*fi.easeOutBounce(2*t-1)+.5};function gi(t,e,i,s){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function pi(t,e,i,s){return{x:t.x+i*(e.x-t.x),y:"middle"===s?i<.5?t.y:e.y:"after"===s?i<1?t.y:e.y:i>0?e.y:t.y}}function mi(t,e,i,s){const n={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=gi(t,n,i),r=gi(n,o,i),l=gi(o,e,i),h=gi(a,r,i),c=gi(r,l,i);return gi(h,c,i)}const bi=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,xi=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _i(t,e){const i=(""+t).match(bi);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t}const yi=t=>+t||0;function vi(t,e){const i={},s=o(e),n=s?Object.keys(e):e,a=o(t)?s?i=>l(t[i],t[e[i]]):e=>t[e]:()=>t;for(const t of n)i[t]=yi(a(t));return i}function Mi(t){return vi(t,{top:"y",right:"x",bottom:"y",left:"x"})}function wi(t){return vi(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ki(t){const e=Mi(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Si(t,e){t=t||{},e=e||ue.font;let i=l(t.size,e.size);"string"==typeof i&&(i=parseInt(i,10));let s=l(t.style,e.style);s&&!(""+s).match(xi)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const n={family:l(t.family,e.family),lineHeight:_i(l(t.lineHeight,e.lineHeight),i),size:i,style:s,weight:l(t.weight,e.weight),string:""};return n.string=De(n),n}function Pi(t,e,i,s){let o,a,r,l=!0;for(o=0,a=t.length;o<a;++o)if(r=t[o],void 0!==r&&(void 0!==e&&"function"==typeof r&&(r=r(e),l=!1),void 0!==i&&n(r)&&(r=r[i%r.length],l=!1),void 0!==r))return s&&!l&&(s.cacheable=!1),r}function Di(t,e,i){const{min:s,max:n}=t,o=c(e,(n-s)/2),a=(t,e)=>i&&0===t?0:t+e;return{min:a(s,-Math.abs(o)),max:a(n,o)}}function Ci(t,e){return Object.assign(Object.create(t),e)}function Oi(t,e,i){return t?function(t,e){return{x:i=>t+t+e-i,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,i):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function Ai(t,e){let i,s;"ltr"!==e&&"rtl"!==e||(i=t.canvas.style,s=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=s)}function Ti(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Li(t){return"angle"===t?{between:Z,compare:K,normalize:G}:{between:tt,compare:(t,e)=>t-e,normalize:t=>t}}function Ei({start:t,end:e,count:i,loop:s,style:n}){return{start:t%i,end:e%i,loop:s&&(e-t+1)%i==0,style:n}}function Ri(t,e,i){if(!i)return[t];const{property:s,start:n,end:o}=i,a=e.length,{compare:r,between:l,normalize:h}=Li(s),{start:c,end:d,loop:u,style:f}=function(t,e,i){const{property:s,start:n,end:o}=i,{between:a,normalize:r}=Li(s),l=e.length;let h,c,{start:d,end:u,loop:f}=t;if(f){for(d+=l,u+=l,h=0,c=l;h<c&&a(r(e[d%l][s]),n,o);++h)d--,u--;d%=l,u%=l}return u<d&&(u+=l),{start:d,end:u,loop:f,style:t.style}}(t,e,i),g=[];let p,m,b,x=!1,_=null;const y=()=>x||l(n,b,p)&&0!==r(n,b),v=()=>!x||0===r(o,p)||l(o,b,p);for(let t=c,i=c;t<=d;++t)m=e[t%a],m.skip||(p=h(m[s]),p!==b&&(x=l(p,n,o),null===_&&y()&&(_=0===r(p,n)?t:i),null!==_&&v()&&(g.push(Ei({start:_,end:t,loop:u,count:a,style:f})),_=null),i=t,b=p));return null!==_&&g.push(Ei({start:_,end:d,loop:u,count:a,style:f})),g}function Ii(t,e){const i=[],s=t.segments;for(let n=0;n<s.length;n++){const o=Ri(s[n],t.points,e);o.length&&i.push(...o)}return i}function zi(t,e){const i=t.points,s=t.options.spanGaps,n=i.length;if(!n)return[];const o=!!t._loop,{start:a,end:r}=function(t,e,i,s){let n=0,o=e-1;if(i&&!s)for(;n<e&&!t[n].skip;)n++;for(;n<e&&t[n].skip;)n++;for(n%=e,i&&(o+=n);o>n&&t[o%e].skip;)o--;return o%=e,{start:n,end:o}}(i,n,o,s);if(!0===s)return Fi(t,[{start:a,end:r,loop:o}],i,e);return Fi(t,function(t,e,i,s){const n=t.length,o=[];let a,r=e,l=t[e];for(a=e+1;a<=i;++a){const i=t[a%n];i.skip||i.stop?l.skip||(s=!1,o.push({start:e%n,end:(a-1)%n,loop:s}),e=r=i.stop?a:null):(r=a,l.skip&&(e=a)),l=i}return null!==r&&o.push({start:e%n,end:r%n,loop:s}),o}(i,a,r<a?r+n:r,!!t._fullLoop&&0===a&&r===n-1),i,e)}function Fi(t,e,i,s){return s&&s.setContext&&i?function(t,e,i,s){const n=t._chart.getContext(),o=Vi(t.options),{_datasetIndex:a,options:{spanGaps:r}}=t,l=i.length,h=[];let c=o,d=e[0].start,u=d;function f(t,e,s,n){const o=r?-1:1;if(t!==e){for(t+=l;i[t%l].skip;)t-=o;for(;i[e%l].skip;)e+=o;t%l!=e%l&&(h.push({start:t%l,end:e%l,loop:s,style:n}),c=n,d=e%l)}}for(const t of e){d=r?d:t.start;let e,o=i[d%l];for(u=d+1;u<=t.end;u++){const r=i[u%l];e=Vi(s.setContext(Ci(n,{type:"segment",p0:o,p1:r,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:a}))),Bi(e,c)&&f(d,u-1,t.loop,c),o=r,c=e}d<u-1&&f(d,u-1,t.loop,c)}return h}(t,e,i,s):e}function Vi(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Bi(t,e){if(!e)return!1;const i=[],s=function(t,e){return Jt(e)?(i.includes(e)||i.push(e),i.indexOf(e)):e};return JSON.stringify(t,s)!==JSON.stringify(e,s)}var Wi=Object.freeze({__proto__:null,HALF_PI:E,INFINITY:T,PI:C,PITAU:A,QUARTER_PI:R,RAD_PER_DEG:L,TAU:O,TWO_THIRDS_PI:I,_addGrace:Di,_alignPixel:Ae,_alignStartEnd:ft,_angleBetween:Z,_angleDiff:K,_arrayUnique:lt,_attachContext:$e,_bezierCurveTo:Ve,_bezierInterpolation:mi,_boundSegment:Ri,_boundSegments:Ii,_capitalize:w,_computeSegments:zi,_createResolver:je,_decimalPlaces:U,_deprecated:function(t,e,i,s){void 0!==e&&console.warn(t+': "'+i+'" is deprecated. Please use "'+s+'" instead')},_descriptors:Ye,_elementsEqual:f,_factorize:W,_filterBetween:nt,_getParentNode:ge,_getStartAndCountOfVisiblePoints:pt,_int16Range:Q,_isBetween:tt,_isClickEvent:D,_isDomSupported:fe,_isPointInArea:Re,_limitValue:J,_longestText:Oe,_lookup:et,_lookupByKey:it,_measureText:Ce,_merger:m,_mergerIf:_,_normalizeAngle:G,_parseObjectDataRadialScale:ii,_pointInLine:gi,_readValueToProps:vi,_rlookupByKey:st,_scaleRangesChanged:mt,_setMinAndMaxByKey:j,_splitKey:v,_steppedInterpolation:pi,_steppedLineTo:Fe,_textX:gt,_toLeftRightCenter:ut,_updateBezierControlPoints:hi,addRoundedRectPath:He,almostEquals:V,almostWhole:H,callback:d,clearCanvas:Te,clipArea:Ie,clone:g,color:Qt,createContext:Ci,debounce:dt,defined:k,distanceBetweenPoints:q,drawPoint:Le,drawPointLegend:Ee,each:u,easingEffects:fi,finiteOrDefault:r,fontString:function(t,e,i){return e+" "+t+"px "+i},formatNumber:ne,getAngleFromPoint:X,getHoverColor:te,getMaximumSize:we,getRelativePosition:ve,getRtlAdapter:Oi,getStyle:be,isArray:n,isFinite:a,isFunction:S,isNullOrUndef:s,isNumber:N,isObject:o,isPatternOrGradient:Jt,listenArrayEvents:at,log10:z,merge:b,mergeIf:x,niceNum:B,noop:e,overrideTextDirection:Ai,readUsedSize:Pe,renderText:Ne,requestAnimFrame:ht,resolve:Pi,resolveObjectKey:M,restoreTextDirection:Ti,retinaScale:ke,setsEqual:P,sign:F,splineCurve:ai,splineCurveMonotone:ri,supportsEventListenerOptions:Se,throttled:ct,toDegrees:Y,toDimension:c,toFont:Si,toFontString:De,toLineHeight:_i,toPadding:ki,toPercentage:h,toRadians:$,toTRBL:Mi,toTRBLCorners:wi,uid:i,unclipArea:ze,unlistenArrayEvents:rt,valueOrDefault:l});function Ni(t,e,i,s){const{controller:n,data:o,_sorted:a}=t,r=n._cachedMeta.iScale;if(r&&e===r.axis&&"r"!==e&&a&&o.length){const t=r._reversePixels?st:it;if(!s)return t(o,e,i);if(n._sharedOptions){const s=o[0],n="function"==typeof s.getRange&&s.getRange(e);if(n){const s=t(o,e,i-n),a=t(o,e,i+n);return{lo:s.lo,hi:a.hi}}}}return{lo:0,hi:o.length-1}}function Hi(t,e,i,s,n){const o=t.getSortedVisibleDatasetMetas(),a=i[e];for(let t=0,i=o.length;t<i;++t){const{index:i,data:r}=o[t],{lo:l,hi:h}=Ni(o[t],e,a,n);for(let t=l;t<=h;++t){const e=r[t];e.skip||s(e,i,t)}}}function ji(t,e,i,s,n){const o=[];if(!n&&!t.isPointInArea(e))return o;return Hi(t,i,e,(function(i,a,r){(n||Re(i,t.chartArea,0))&&i.inRange(e.x,e.y,s)&&o.push({element:i,datasetIndex:a,index:r})}),!0),o}function $i(t,e,i,s,n,o){let a=[];const r=function(t){const e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,s){const n=e?Math.abs(t.x-s.x):0,o=i?Math.abs(t.y-s.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(o,2))}}(i);let l=Number.POSITIVE_INFINITY;return Hi(t,i,e,(function(i,h,c){const d=i.inRange(e.x,e.y,n);if(s&&!d)return;const u=i.getCenterPoint(n);if(!(!!o||t.isPointInArea(u))&&!d)return;const f=r(e,u);f<l?(a=[{element:i,datasetIndex:h,index:c}],l=f):f===l&&a.push({element:i,datasetIndex:h,index:c})})),a}function Yi(t,e,i,s,n,o){return o||t.isPointInArea(e)?"r"!==i||s?$i(t,e,i,s,n,o):function(t,e,i,s){let n=[];return Hi(t,i,e,(function(t,i,o){const{startAngle:a,endAngle:r}=t.getProps(["startAngle","endAngle"],s),{angle:l}=X(t,{x:e.x,y:e.y});Z(l,a,r)&&n.push({element:t,datasetIndex:i,index:o})})),n}(t,e,i,n):[]}function Ui(t,e,i,s,n){const o=[],a="x"===i?"inXRange":"inYRange";let r=!1;return Hi(t,i,e,((t,s,l)=>{t[a](e[i],n)&&(o.push({element:t,datasetIndex:s,index:l}),r=r||t.inRange(e.x,e.y,n))})),s&&!r?[]:o}var Xi={evaluateInteractionItems:Hi,modes:{index(t,e,i,s){const n=ve(e,t),o=i.axis||"x",a=i.includeInvisible||!1,r=i.intersect?ji(t,n,o,s,a):Yi(t,n,o,!1,s,a),l=[];return r.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=r[0].index,i=t.data[e];i&&!i.skip&&l.push({element:i,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,i,s){const n=ve(e,t),o=i.axis||"xy",a=i.includeInvisible||!1;let r=i.intersect?ji(t,n,o,s,a):Yi(t,n,o,!1,s,a);if(r.length>0){const e=r[0].datasetIndex,i=t.getDatasetMeta(e).data;r=[];for(let t=0;t<i.length;++t)r.push({element:i[t],datasetIndex:e,index:t})}return r},point:(t,e,i,s)=>ji(t,ve(e,t),i.axis||"xy",s,i.includeInvisible||!1),nearest(t,e,i,s){const n=ve(e,t),o=i.axis||"xy",a=i.includeInvisible||!1;return Yi(t,n,o,i.intersect,s,a)},x:(t,e,i,s)=>Ui(t,ve(e,t),"x",i.intersect,s),y:(t,e,i,s)=>Ui(t,ve(e,t),"y",i.intersect,s)}};const qi=["left","top","right","bottom"];function Ki(t,e){return t.filter((t=>t.pos===e))}function Gi(t,e){return t.filter((t=>-1===qi.indexOf(t.pos)&&t.box.axis===e))}function Zi(t,e){return t.sort(((t,i)=>{const s=e?i:t,n=e?t:i;return s.weight===n.weight?s.index-n.index:s.weight-n.weight}))}function Ji(t,e){const i=function(t){const e={};for(const i of t){const{stack:t,pos:s,stackWeight:n}=i;if(!t||!qi.includes(s))continue;const o=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=n}return e}(t),{vBoxMaxWidth:s,hBoxMaxHeight:n}=e;let o,a,r;for(o=0,a=t.length;o<a;++o){r=t[o];const{fullSize:a}=r.box,l=i[r.stack],h=l&&r.stackWeight/l.weight;r.horizontal?(r.width=h?h*s:a&&e.availableWidth,r.height=n):(r.width=s,r.height=h?h*n:a&&e.availableHeight)}return i}function Qi(t,e,i,s){return Math.max(t[i],e[i])+Math.max(t[s],e[s])}function ts(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function es(t,e,i,s){const{pos:n,box:a}=i,r=t.maxPadding;if(!o(n)){i.size&&(t[n]-=i.size);const e=s[i.stack]||{size:0,count:1};e.size=Math.max(e.size,i.horizontal?a.height:a.width),i.size=e.size/e.count,t[n]+=i.size}a.getPadding&&ts(r,a.getPadding());const l=Math.max(0,e.outerWidth-Qi(r,t,"left","right")),h=Math.max(0,e.outerHeight-Qi(r,t,"top","bottom")),c=l!==t.w,d=h!==t.h;return t.w=l,t.h=h,i.horizontal?{same:c,other:d}:{same:d,other:c}}function is(t,e){const i=e.maxPadding;function s(t){const s={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{s[t]=Math.max(e[t],i[t])})),s}return s(t?["left","right"]:["top","bottom"])}function ss(t,e,i,s){const n=[];let o,a,r,l,h,c;for(o=0,a=t.length,h=0;o<a;++o){r=t[o],l=r.box,l.update(r.width||e.w,r.height||e.h,is(r.horizontal,e));const{same:a,other:d}=es(e,i,r,s);h|=a&&n.length,c=c||d,l.fullSize||n.push(r)}return h&&ss(n,e,i,s)||c}function ns(t,e,i,s,n){t.top=i,t.left=e,t.right=e+s,t.bottom=i+n,t.width=s,t.height=n}function os(t,e,i,s){const n=i.padding;let{x:o,y:a}=e;for(const r of t){const t=r.box,l=s[r.stack]||{count:1,placed:0,weight:1},h=r.stackWeight/l.weight||1;if(r.horizontal){const s=e.w*h,o=l.size||t.height;k(l.start)&&(a=l.start),t.fullSize?ns(t,n.left,a,i.outerWidth-n.right-n.left,o):ns(t,e.left+l.placed,a,s,o),l.start=a,l.placed+=s,a=t.bottom}else{const s=e.h*h,a=l.size||t.width;k(l.start)&&(o=l.start),t.fullSize?ns(t,o,n.top,a,i.outerHeight-n.bottom-n.top):ns(t,o,e.top+l.placed,a,s),l.start=o,l.placed+=s,o=t.right}}e.x=o,e.y=a}var as={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,s){if(!t)return;const n=ki(t.options.layout.padding),o=Math.max(e-n.width,0),a=Math.max(i-n.height,0),r=function(t){const e=function(t){const e=[];let i,s,n,o,a,r;for(i=0,s=(t||[]).length;i<s;++i)n=t[i],({position:o,options:{stack:a,stackWeight:r=1}}=n),e.push({index:i,box:n,pos:o,horizontal:n.isHorizontal(),weight:n.weight,stack:a&&o+a,stackWeight:r});return e}(t),i=Zi(e.filter((t=>t.box.fullSize)),!0),s=Zi(Ki(e,"left"),!0),n=Zi(Ki(e,"right")),o=Zi(Ki(e,"top"),!0),a=Zi(Ki(e,"bottom")),r=Gi(e,"x"),l=Gi(e,"y");return{fullSize:i,leftAndTop:s.concat(o),rightAndBottom:n.concat(l).concat(a).concat(r),chartArea:Ki(e,"chartArea"),vertical:s.concat(n).concat(l),horizontal:o.concat(a).concat(r)}}(t.boxes),l=r.vertical,h=r.horizontal;u(t.boxes,(t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()}));const c=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,d=Object.freeze({outerWidth:e,outerHeight:i,padding:n,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/c,hBoxMaxHeight:a/2}),f=Object.assign({},n);ts(f,ki(s));const g=Object.assign({maxPadding:f,w:o,h:a,x:n.left,y:n.top},n),p=Ji(l.concat(h),d);ss(r.fullSize,g,d,p),ss(l,g,d,p),ss(h,g,d,p)&&ss(l,g,d,p),function(t){const e=t.maxPadding;function i(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}(g),os(r.leftAndTop,g,d,p),g.x+=g.w,g.y+=g.h,os(r.rightAndBottom,g,d,p),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},u(r.chartArea,(e=>{const i=e.box;Object.assign(i,t.chartArea),i.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})}))}};class rs{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class ls extends rs{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const hs="$chartjs",cs={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ds=t=>null===t||""===t;const us=!!Se&&{passive:!0};function fs(t,e,i){t.canvas.removeEventListener(e,i,us)}function gs(t,e){for(const i of t)if(i===e||i.contains(e))return!0}function ps(t,e,i){const s=t.canvas,n=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||gs(i.addedNodes,s),e=e&&!gs(i.removedNodes,s);e&&i()}));return n.observe(document,{childList:!0,subtree:!0}),n}function ms(t,e,i){const s=t.canvas,n=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||gs(i.removedNodes,s),e=e&&!gs(i.addedNodes,s);e&&i()}));return n.observe(document,{childList:!0,subtree:!0}),n}const bs=new Map;let xs=0;function _s(){const t=window.devicePixelRatio;t!==xs&&(xs=t,bs.forEach(((e,i)=>{i.currentDevicePixelRatio!==t&&e()})))}function ys(t,e,i){const s=t.canvas,n=s&&ge(s);if(!n)return;const o=ct(((t,e)=>{const s=n.clientWidth;i(t,e),s<n.clientWidth&&i()}),window),a=new ResizeObserver((t=>{const e=t[0],i=e.contentRect.width,s=e.contentRect.height;0===i&&0===s||o(i,s)}));return a.observe(n),function(t,e){bs.size||window.addEventListener("resize",_s),bs.set(t,e)}(t,o),a}function vs(t,e,i){i&&i.disconnect(),"resize"===e&&function(t){bs.delete(t),bs.size||window.removeEventListener("resize",_s)}(t)}function Ms(t,e,i){const s=t.canvas,n=ct((e=>{null!==t.ctx&&i(function(t,e){const i=cs[t.type]||t.type,{x:s,y:n}=ve(t,e);return{type:i,chart:e,native:t,x:void 0!==s?s:null,y:void 0!==n?n:null}}(e,t))}),t);return function(t,e,i){t.addEventListener(e,i,us)}(s,e,n),n}class ws extends rs{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function(t,e){const i=t.style,s=t.getAttribute("height"),n=t.getAttribute("width");if(t[hs]={initial:{height:s,width:n,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",ds(n)){const e=Pe(t,"width");void 0!==e&&(t.width=e)}if(ds(s))if(""===t.style.height)t.height=t.width/(e||2);else{const e=Pe(t,"height");void 0!==e&&(t.height=e)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[hs])return!1;const i=e[hs].initial;["height","width"].forEach((t=>{const n=i[t];s(n)?e.removeAttribute(t):e.setAttribute(t,n)}));const n=i.style||{};return Object.keys(n).forEach((t=>{e.style[t]=n[t]})),e.width=e.width,delete e[hs],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),n={attach:ps,detach:ms,resize:ys}[e]||Ms;s[e]=n(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:vs,detach:vs,resize:vs}[e]||fs)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return we(t,e,i,s)}isAttached(t){const e=ge(t);return!(!e||!e.isConnected)}}function ks(t){return!fe()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?ls:ws}var Ss=Object.freeze({__proto__:null,BasePlatform:rs,BasicPlatform:ls,DomPlatform:ws,_detectPlatform:ks});const Ps="transparent",Ds={boolean:(t,e,i)=>i>.5?e:t,color(t,e,i){const s=Qt(t||Ps),n=s.valid&&Qt(e||Ps);return n&&n.valid?n.mix(s,i).hexString():e},number:(t,e,i)=>t+(e-t)*i};class Cs{constructor(t,e,i,s){const n=e[i];s=Pi([t.to,s,n,t.from]);const o=Pi([t.from,n,s]);this._active=!0,this._fn=t.fn||Ds[t.type||typeof o],this._easing=fi[t.easing]||fi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],n=i-this._start,o=this._duration-n;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=n,this._loop=!!t.loop,this._to=Pi([t.to,e,s,t.from]),this._from=Pi([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,n=this._from,o=this._loop,a=this._to;let r;if(this._active=n!==a&&(o||e<i),!this._active)return this._target[s]=a,void this._notify(!0);e<0?this._target[s]=n:(r=e/i%2,r=o&&r>1?2-r:r,r=this._easing(Math.min(1,Math.max(0,r))),this._target[s]=this._fn(n,a,r))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,i)=>{t.push({res:e,rej:i})}))}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let t=0;t<i.length;t++)i[t][e]()}}class Os{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!o(t))return;const e=Object.keys(ue.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach((s=>{const a=t[s];if(!o(a))return;const r={};for(const t of e)r[t]=a[t];(n(a.properties)&&a.properties||[s]).forEach((t=>{t!==s&&i.has(t)||i.set(t,r)}))}))}_animateOptions(t,e){const i=e.options,s=function(t,e){if(!e)return;let i=t.options;if(!i)return void(t.options=e);i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}}));return i}(t,i);if(!s)return[];const n=this._createAnimations(s,i);return i.$shared&&function(t,e){const i=[],s=Object.keys(e);for(let e=0;e<s.length;e++){const n=t[s[e]];n&&n.active()&&i.push(n.wait())}return Promise.all(i)}(t.options.$animations,i).then((()=>{t.options=i}),(()=>{})),n}_createAnimations(t,e){const i=this._properties,s=[],n=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let r;for(r=o.length-1;r>=0;--r){const l=o[r];if("$"===l.charAt(0))continue;if("options"===l){s.push(...this._animateOptions(t,e));continue}const h=e[l];let c=n[l];const d=i.get(l);if(c){if(d&&c.active()){c.update(d,h,a);continue}c.cancel()}d&&d.duration?(n[l]=c=new Cs(d,t,l,h),s.push(c)):t[l]=h}return s}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(xt.add(this._chart,i),!0):void 0}}function As(t,e){const i=t&&t.options||{},s=i.reverse,n=void 0===i.min?e:0,o=void 0===i.max?e:0;return{start:s?o:n,end:s?n:o}}function Ts(t,e){const i=[],s=t._getSortedDatasetMetas(e);let n,o;for(n=0,o=s.length;n<o;++n)i.push(s[n].index);return i}function Ls(t,e,i,s={}){const n=t.keys,o="single"===s.mode;let r,l,h,c;if(null!==e){for(r=0,l=n.length;r<l;++r){if(h=+n[r],h===i){if(s.all)continue;break}c=t.values[h],a(c)&&(o||0===e||F(e)===F(c))&&(e+=c)}return e}}function Es(t,e){const i=t&&t.options.stacked;return i||void 0===i&&void 0!==e.stack}function Rs(t,e,i){const s=t[e]||(t[e]={});return s[i]||(s[i]={})}function Is(t,e,i,s){for(const n of e.getMatchingVisibleMetas(s).reverse()){const e=t[n.index];if(i&&e>0||!i&&e<0)return n.index}return null}function zs(t,e){const{chart:i,_cachedMeta:s}=t,n=i._stacks||(i._stacks={}),{iScale:o,vScale:a,index:r}=s,l=o.axis,h=a.axis,c=function(t,e,i){return`${t.id}.${e.id}.${i.stack||i.type}`}(o,a,s),d=e.length;let u;for(let t=0;t<d;++t){const i=e[t],{[l]:o,[h]:d}=i;u=(i._stacks||(i._stacks={}))[h]=Rs(n,c,o),u[r]=d,u._top=Is(u,a,!0,s.type),u._bottom=Is(u,a,!1,s.type);(u._visualValues||(u._visualValues={}))[r]=d}}function Fs(t,e){const i=t.scales;return Object.keys(i).filter((t=>i[t].axis===e)).shift()}function Vs(t,e){const i=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[s]||void 0===e[s][i])return;delete e[s][i],void 0!==e[s]._visualValues&&void 0!==e[s]._visualValues[i]&&delete e[s]._visualValues[i]}}}const Bs=t=>"reset"===t||"none"===t,Ws=(t,e)=>e?t:Object.assign({},t);class Ns{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Es(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Vs(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(t,e,i,s)=>"x"===t?e:"r"===t?s:i,n=e.xAxisID=l(i.xAxisID,Fs(t,"x")),o=e.yAxisID=l(i.yAxisID,Fs(t,"y")),a=e.rAxisID=l(i.rAxisID,Fs(t,"r")),r=e.indexAxis,h=e.iAxisID=s(r,n,o,a),c=e.vAxisID=s(r,o,n,a);e.xScale=this.getScaleForId(n),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(h),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&rt(this._data,this),t._stacked&&Vs(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(o(e))this._data=function(t){const e=Object.keys(t),i=new Array(e.length);let s,n,o;for(s=0,n=e.length;s<n;++s)o=e[s],i[s]={x:o,y:t[o]};return i}(e);else if(i!==e){if(i){rt(i,this);const t=this._cachedMeta;Vs(t),t._parsed=[]}e&&Object.isExtensible(e)&&at(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const n=e._stacked;e._stacked=Es(e.vScale,e),e.stack!==i.stack&&(s=!0,Vs(e),e.stack=i.stack),this._resyncElements(t),(s||n!==e._stacked)&&zs(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:r}=i,l=a.axis;let h,c,d,u=0===t&&e===s.length||i._sorted,f=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=s,i._sorted=!0,d=s;else{d=n(s[t])?this.parseArrayData(i,s,t,e):o(s[t])?this.parseObjectData(i,s,t,e):this.parsePrimitiveData(i,s,t,e);const a=()=>null===c[l]||f&&c[l]<f[l];for(h=0;h<e;++h)i._parsed[h+t]=c=d[h],u&&(a()&&(u=!1),f=c);i._sorted=u}r&&zs(this,d)}parsePrimitiveData(t,e,i,s){const{iScale:n,vScale:o}=t,a=n.axis,r=o.axis,l=n.getLabels(),h=n===o,c=new Array(s);let d,u,f;for(d=0,u=s;d<u;++d)f=d+i,c[d]={[a]:h||n.parse(l[f],f),[r]:o.parse(e[f],f)};return c}parseArrayData(t,e,i,s){const{xScale:n,yScale:o}=t,a=new Array(s);let r,l,h,c;for(r=0,l=s;r<l;++r)h=r+i,c=e[h],a[r]={x:n.parse(c[0],h),y:o.parse(c[1],h)};return a}parseObjectData(t,e,i,s){const{xScale:n,yScale:o}=t,{xAxisKey:a="x",yAxisKey:r="y"}=this._parsing,l=new Array(s);let h,c,d,u;for(h=0,c=s;h<c;++h)d=h+i,u=e[d],l[h]={x:n.parse(M(u,a),d),y:o.parse(M(u,r),d)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,n=this._cachedMeta,o=e[t.axis];return Ls({keys:Ts(s,!0),values:e._stacks[t.axis]._visualValues},o,n.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const n=i[e.axis];let o=null===n?NaN:n;const a=s&&i._stacks[e.axis];s&&a&&(s.values=a,o=Ls(s,n,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,n=i._sorted&&t===i.iScale,o=s.length,r=this._getOtherScale(t),l=((t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:Ts(i,!0),values:null})(e,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(t){const{min:e,max:i,minDefined:s,maxDefined:n}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:n?i:Number.POSITIVE_INFINITY}}(r);let u,f;function g(){f=s[u];const e=f[r.axis];return!a(f[t.axis])||c>e||d<e}for(u=0;u<o&&(g()||(this.updateRangeFromParsed(h,t,f,l),!n));++u);if(n)for(u=o-1;u>=0;--u)if(!g()){this.updateRangeFromParsed(h,t,f,l);break}return h}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,n,o;for(s=0,n=e.length;s<n;++s)o=e[s][t.axis],a(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,n=this.getParsed(t);return{label:i?""+i.getLabelForValue(n[i.axis]):"",value:s?""+s.getLabelForValue(n[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,i,s,n;return o(t)?(e=t.top,i=t.right,s=t.bottom,n=t.left):e=i=s=n=t,{top:e,right:i,bottom:s,left:n,disabled:!1===t}}(l(this.options.clip,function(t,e,i){if(!1===i)return!1;const s=As(t,i),n=As(e,i);return{top:n.end,right:s.end,bottom:n.start,left:s.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],n=e.chartArea,o=[],a=this._drawStart||0,r=this._drawCount||s.length-a,l=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(t,n,a,r),h=a;h<a+r;++h){const e=s[h];e.hidden||(e.active&&l?o.push(e):e.draw(t,n))}for(h=0;h<o.length;++h)o[h].draw(t,n)}getStyle(t,e){const i=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let n;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];n=e.$context||(e.$context=function(t,e,i){return Ci(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),n.parsed=this.getParsed(t),n.raw=s.data[t],n.index=n.dataIndex=t}else n=this.$context||(this.$context=function(t,e){return Ci(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),n.dataset=s,n.index=n.datasetIndex=this.index;return n.active=!!e,n.mode=i,n}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s="active"===e,n=this._cachedDataOpts,o=t+"-"+e,a=n[o],r=this.enableOptionSharing&&k(i);if(a)return Ws(a,r);const l=this.chart.config,h=l.datasetElementScopeKeys(this._type,t),c=s?[`${t}Hover`,"hover",t,""]:[t,""],d=l.getOptionScopes(this.getDataset(),h),u=Object.keys(ue.elements[t]),f=l.resolveNamedOptions(d,u,(()=>this.getContext(i,s,e)),c);return f.$shared&&(f.$shared=r,n[o]=Object.freeze(Ws(f,r))),f}_resolveAnimations(t,e,i){const s=this.chart,n=this._cachedDataOpts,o=`animation-${e}`,a=n[o];if(a)return a;let r;if(!1!==s.options.animation){const s=this.chart.config,n=s.datasetAnimationScopeKeys(this._type,e),o=s.getOptionScopes(this.getDataset(),n);r=s.createResolver(o,this.getContext(t,i,e))}const l=new Os(s,r&&r.animations);return r&&r._cacheable&&(n[o]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Bs(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,n=this.getSharedOptions(i),o=this.includeOptions(e,n)||n!==s;return this.updateSharedOptions(n,e,i),{sharedOptions:n,includeOptions:o}}updateElement(t,e,i,s){Bs(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!Bs(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const n=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(n)||n})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[t,e,i]of this._syncList)this[t](e,i);this._syncList=[];const s=i.length,n=e.length,o=Math.min(n,s);o&&this.parse(0,o),n>s?this._insertElements(s,n-s,t):n<s&&this._removeElements(n,s-n)}_insertElements(t,e,i=!0){const s=this._cachedMeta,n=s.data,o=t+e;let a;const r=t=>{for(t.length+=e,a=t.length-1;a>=o;a--)t[a]=t[a-e]};for(r(n),a=t;a<o;++a)n[a]=new this.dataElementType;this._parsing&&r(s._parsed),this.parse(t,e),i&&this.updateElements(n,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&Vs(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class Hs{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return N(this.x)&&N(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach((t=>{s[t]=i[t]&&i[t].active()?i[t]._to:this[t]})),s}}function js(t,e){const i=t.options.ticks,n=function(t){const e=t.options.offset,i=t._tickSize(),s=t._length/i+(e?0:1),n=t._maxLength/i;return Math.floor(Math.min(s,n))}(t),o=Math.min(i.maxTicksLimit||n,n),a=i.major.enabled?function(t){const e=[];let i,s;for(i=0,s=t.length;i<s;i++)t[i].major&&e.push(i);return e}(e):[],r=a.length,l=a[0],h=a[r-1],c=[];if(r>o)return function(t,e,i,s){let n,o=0,a=i[0];for(s=Math.ceil(s),n=0;n<t.length;n++)n===a&&(e.push(t[n]),o++,a=i[o*s])}(e,c,a,r/o),c;const d=function(t,e,i){const s=function(t){const e=t.length;let i,s;if(e<2)return!1;for(s=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==s)return!1;return s}(t),n=e.length/i;if(!s)return Math.max(n,1);const o=W(s);for(let t=0,e=o.length-1;t<e;t++){const e=o[t];if(e>n)return e}return Math.max(n,1)}(a,e,o);if(r>0){let t,i;const n=r>1?Math.round((h-l)/(r-1)):null;for($s(e,c,d,s(n)?0:l-n,l),t=0,i=r-1;t<i;t++)$s(e,c,d,a[t],a[t+1]);return $s(e,c,d,h,s(n)?e.length:h+n),c}return $s(e,c,d),c}function $s(t,e,i,s,n){const o=l(s,0),a=Math.min(l(n,t.length),t.length);let r,h,c,d=0;for(i=Math.ceil(i),n&&(r=n-s,i=r/Math.floor(r/i)),c=o;c<0;)d++,c=Math.round(o+d*i);for(h=Math.max(o,0);h<a;h++)h===c&&(e.push(t[h]),d++,c=Math.round(o+d*i))}const Ys=(t,e,i)=>"top"===e||"left"===e?t[e]+i:t[e]-i,Us=(t,e)=>Math.min(e||t,t);function Xs(t,e){const i=[],s=t.length/e,n=t.length;let o=0;for(;o<n;o+=s)i.push(t[Math.floor(o)]);return i}function qs(t,e,i){const s=t.ticks.length,n=Math.min(e,s-1),o=t._startPixel,a=t._endPixel,r=1e-6;let l,h=t.getPixelForTick(n);if(!(i&&(l=1===s?Math.max(h-o,a-h):0===e?(t.getPixelForTick(1)-h)/2:(h-t.getPixelForTick(n-1))/2,h+=n<e?l:-l,h<o-r||h>a+r)))return h}function Ks(t){return t.drawTicks?t.tickLength:0}function Gs(t,e){if(!t.display)return 0;const i=Si(t.font,e),s=ki(t.padding);return(n(t.text)?t.text.length:1)*i.lineHeight+s.height}function Zs(t,e,i){let s=ut(t);return(i&&"right"!==e||!i&&"right"===e)&&(s=(t=>"left"===t?"right":"right"===t?"left":t)(s)),s}class Js extends Hs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=r(t,Number.POSITIVE_INFINITY),e=r(e,Number.NEGATIVE_INFINITY),i=r(i,Number.POSITIVE_INFINITY),s=r(s,Number.NEGATIVE_INFINITY),{min:r(t,i),max:r(e,s),minDefined:a(t),maxDefined:a(e)}}getMinMax(t){let e,{min:i,max:s,minDefined:n,maxDefined:o}=this.getUserBounds();if(n&&o)return{min:i,max:s};const a=this.getMatchingVisibleMetas();for(let r=0,l=a.length;r<l;++r)e=a[r].controller.getMinMax(this,t),n||(i=Math.min(i,e.min)),o||(s=Math.max(s,e.max));return i=o&&i>s?s:i,s=n&&i>s?i:s,{min:r(i,r(s,i)),max:r(s,r(i,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){d(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:n,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Di(this,n,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const r=a<this.ticks.length;this._convertTicksToLabels(r?Xs(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=js(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),r&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,i=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,i=!i),this._startPixel=t,this._endPixel=e,this._reversePixels=i,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){d(this.options.afterUpdate,[this])}beforeSetDimensions(){d(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){d(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),d(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){d(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,n;for(i=0,s=t.length;i<s;i++)n=t[i],n.label=d(e.callback,[n.value,i,t],this)}afterTickToLabelConversion(){d(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){d(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Us(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,n=e.maxRotation;let o,a,r,l=s;if(!this._isVisible()||!e.display||s>=n||i<=1||!this.isHorizontal())return void(this.labelRotation=s);const h=this._getLabelSizes(),c=h.widest.width,d=h.highest.height,u=J(this.chart.width-c,0,this.maxWidth);o=t.offset?this.maxWidth/i:u/(i-1),c+6>o&&(o=u/(i-(t.offset?.5:1)),a=this.maxHeight-Ks(t.grid)-e.padding-Gs(t.title,this.chart.options.font),r=Math.sqrt(c*c+d*d),l=Y(Math.min(Math.asin(J((h.highest.height+6)/o,-1,1)),Math.asin(J(a/r,-1,1))-Math.asin(J(d/r,-1,1)))),l=Math.max(s,Math.min(n,l))),this.labelRotation=l}afterCalculateLabelRotation(){d(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){d(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:n}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const o=Gs(s,e.options.font);if(a?(t.width=this.maxWidth,t.height=Ks(n)+o):(t.height=this.maxHeight,t.width=Ks(n)+o),i.display&&this.ticks.length){const{first:e,last:s,widest:n,highest:o}=this._getLabelSizes(),r=2*i.padding,l=$(this.labelRotation),h=Math.cos(l),c=Math.sin(l);if(a){const e=i.mirror?0:c*n.width+h*o.height;t.height=Math.min(this.maxHeight,t.height+e+r)}else{const e=i.mirror?0:h*n.width+c*o.height;t.width=Math.min(this.maxWidth,t.width+e+r)}this._calculatePadding(e,s,c,h)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:n,padding:o},position:a}=this.options,r=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,d=0;r?l?(c=s*t.width,d=i*e.height):(c=i*t.height,d=s*e.width):"start"===n?d=e.width:"end"===n?c=t.width:"inner"!==n&&(c=t.width/2,d=e.width/2),this.paddingLeft=Math.max((c-a+o)*this.width/(this.width-a),0),this.paddingRight=Math.max((d-h+o)*this.width/(this.width-h),0)}else{let i=e.height/2,s=t.height/2;"start"===n?(i=0,s=t.height):"end"===n&&(i=e.height,s=0),this.paddingTop=i+o,this.paddingBottom=s+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){d(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)s(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Xs(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:o,_longestTextCache:a}=this,r=[],l=[],h=Math.floor(e/Us(e,i));let c,d,f,g,p,m,b,x,_,y,v,M=0,w=0;for(c=0;c<e;c+=h){if(g=t[c].label,p=this._resolveTickFontOptions(c),o.font=m=p.string,b=a[m]=a[m]||{data:{},gc:[]},x=p.lineHeight,_=y=0,s(g)||n(g)){if(n(g))for(d=0,f=g.length;d<f;++d)v=g[d],s(v)||n(v)||(_=Ce(o,b.data,b.gc,_,v),y+=x)}else _=Ce(o,b.data,b.gc,_,g),y=x;r.push(_),l.push(y),M=Math.max(_,M),w=Math.max(y,w)}!function(t,e){u(t,(t=>{const i=t.gc,s=i.length/2;let n;if(s>e){for(n=0;n<s;++n)delete t.data[i[n]];i.splice(0,s)}}))}(a,e);const k=r.indexOf(M),S=l.indexOf(w),P=t=>({width:r[t]||0,height:l[t]||0});return{first:P(0),last:P(e-1),widest:P(k),highest:P(S),widths:r,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Q(this._alignToPixels?Ae(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function(t,e,i){return Ci(t,{tick:i,index:e,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=Ci(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=$(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),n=this._getLabelSizes(),o=t.autoSkipPadding||0,a=n?n.widest.width+o:0,r=n?n.highest.height+o:0;return this.isHorizontal()?r*i>a*s?a/i:r/s:r*s<a*i?r/i:a/s}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:n,position:a,border:r}=s,h=n.offset,c=this.isHorizontal(),d=this.ticks.length+(h?1:0),u=Ks(n),f=[],g=r.setContext(this.getContext()),p=g.display?g.width:0,m=p/2,b=function(t){return Ae(i,t,p)};let x,_,y,v,M,w,k,S,P,D,C,O;if("top"===a)x=b(this.bottom),w=this.bottom-u,S=x-m,D=b(t.top)+m,O=t.bottom;else if("bottom"===a)x=b(this.top),D=t.top,O=b(t.bottom)-m,w=x+m,S=this.top+u;else if("left"===a)x=b(this.right),M=this.right-u,k=x-m,P=b(t.left)+m,C=t.right;else if("right"===a)x=b(this.left),P=t.left,C=b(t.right)-m,M=x+m,k=this.left+u;else if("x"===e){if("center"===a)x=b((t.top+t.bottom)/2+.5);else if(o(a)){const t=Object.keys(a)[0],e=a[t];x=b(this.chart.scales[t].getPixelForValue(e))}D=t.top,O=t.bottom,w=x+m,S=w+u}else if("y"===e){if("center"===a)x=b((t.left+t.right)/2);else if(o(a)){const t=Object.keys(a)[0],e=a[t];x=b(this.chart.scales[t].getPixelForValue(e))}M=x-m,k=M-u,P=t.left,C=t.right}const A=l(s.ticks.maxTicksLimit,d),T=Math.max(1,Math.ceil(d/A));for(_=0;_<d;_+=T){const t=this.getContext(_),e=n.setContext(t),s=r.setContext(t),o=e.lineWidth,a=e.color,l=s.dash||[],d=s.dashOffset,u=e.tickWidth,g=e.tickColor,p=e.tickBorderDash||[],m=e.tickBorderDashOffset;y=qs(this,_,h),void 0!==y&&(v=Ae(i,y,o),c?M=k=P=C=v:w=S=D=O=v,f.push({tx1:M,ty1:w,tx2:k,ty2:S,x1:P,y1:D,x2:C,y2:O,width:o,color:a,borderDash:l,borderDashOffset:d,tickWidth:u,tickColor:g,tickBorderDash:p,tickBorderDashOffset:m}))}return this._ticksLength=d,this._borderValue=x,f}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:a}=i,r=this.isHorizontal(),l=this.ticks,{align:h,crossAlign:c,padding:d,mirror:u}=a,f=Ks(i.grid),g=f+d,p=u?-d:g,m=-$(this.labelRotation),b=[];let x,_,y,v,M,w,k,S,P,D,C,O,A="middle";if("top"===s)w=this.bottom-p,k=this._getXAxisLabelAlignment();else if("bottom"===s)w=this.top+p,k=this._getXAxisLabelAlignment();else if("left"===s){const t=this._getYAxisLabelAlignment(f);k=t.textAlign,M=t.x}else if("right"===s){const t=this._getYAxisLabelAlignment(f);k=t.textAlign,M=t.x}else if("x"===e){if("center"===s)w=(t.top+t.bottom)/2+g;else if(o(s)){const t=Object.keys(s)[0],e=s[t];w=this.chart.scales[t].getPixelForValue(e)+g}k=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===s)M=(t.left+t.right)/2-g;else if(o(s)){const t=Object.keys(s)[0],e=s[t];M=this.chart.scales[t].getPixelForValue(e)}k=this._getYAxisLabelAlignment(f).textAlign}"y"===e&&("start"===h?A="top":"end"===h&&(A="bottom"));const T=this._getLabelSizes();for(x=0,_=l.length;x<_;++x){y=l[x],v=y.label;const t=a.setContext(this.getContext(x));S=this.getPixelForTick(x)+a.labelOffset,P=this._resolveTickFontOptions(x),D=P.lineHeight,C=n(v)?v.length:1;const e=C/2,i=t.color,o=t.textStrokeColor,h=t.textStrokeWidth;let d,f=k;if(r?(M=S,"inner"===k&&(f=x===_-1?this.options.reverse?"left":"right":0===x?this.options.reverse?"right":"left":"center"),O="top"===s?"near"===c||0!==m?-C*D+D/2:"center"===c?-T.highest.height/2-e*D+D:-T.highest.height+D/2:"near"===c||0!==m?D/2:"center"===c?T.highest.height/2-e*D:T.highest.height-C*D,u&&(O*=-1),0===m||t.showLabelBackdrop||(M+=D/2*Math.sin(m))):(w=S,O=(1-C)*D/2),t.showLabelBackdrop){const e=ki(t.backdropPadding),i=T.heights[x],s=T.widths[x];let n=O-e.top,o=0-e.left;switch(A){case"middle":n-=i/2;break;case"bottom":n-=i}switch(k){case"center":o-=s/2;break;case"right":o-=s;break;case"inner":x===_-1?o-=s:x>0&&(o-=s/2)}d={left:o,top:n,width:s+e.width,height:i+e.height,color:t.backdropColor}}b.push({label:v,font:P,textOffset:O,options:{rotation:m,color:i,strokeColor:o,strokeWidth:h,textAlign:f,textBaseline:A,translation:[M,w],backdrop:d}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-$(this.labelRotation))return"top"===t?"left":"right";let i="center";return"start"===e.align?i="left":"end"===e.align?i="right":"inner"===e.align&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:n}}=this.options,o=t+n,a=this._getLabelSizes().widest.width;let r,l;return"left"===e?s?(l=this.right+n,"near"===i?r="left":"center"===i?(r="center",l+=a/2):(r="right",l+=a)):(l=this.right-o,"near"===i?r="right":"center"===i?(r="center",l-=a/2):(r="left",l=this.left)):"right"===e?s?(l=this.left+n,"near"===i?r="right":"center"===i?(r="center",l-=a/2):(r="left",l-=a)):(l=this.left+o,"near"===i?r="left":"center"===i?(r="center",l+=a/2):(r="right",l=this.right)):r="right",{textAlign:r,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:n,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,n,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex((e=>e.value===t));if(i>=0){return e.setContext(this.getContext(i)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let n,o;const a=(t,e,s)=>{s.width&&s.color&&(i.save(),i.lineWidth=s.width,i.strokeStyle=s.color,i.setLineDash(s.borderDash||[]),i.lineDashOffset=s.borderDashOffset,i.beginPath(),i.moveTo(t.x,t.y),i.lineTo(e.x,e.y),i.stroke(),i.restore())};if(e.display)for(n=0,o=s.length;n<o;++n){const t=s[n];e.drawOnChartArea&&a({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&a({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,n=i.setContext(this.getContext()),o=i.display?n.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,r=this._borderValue;let l,h,c,d;this.isHorizontal()?(l=Ae(t,this.left,o)-o/2,h=Ae(t,this.right,a)+a/2,c=d=r):(c=Ae(t,this.top,o)-o/2,d=Ae(t,this.bottom,a)+a/2,l=h=r),e.save(),e.lineWidth=n.width,e.strokeStyle=n.color,e.beginPath(),e.moveTo(l,c),e.lineTo(h,d),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,i=this._computeLabelArea();i&&Ie(e,i);const s=this.getLabelItems(t);for(const t of s){const i=t.options,s=t.font;Ne(e,t.label,0,t.textOffset,s,i)}i&&ze(e)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const a=Si(i.font),r=ki(i.padding),l=i.align;let h=a.lineHeight/2;"bottom"===e||"center"===e||o(e)?(h+=r.bottom,n(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=r.top;const{titleX:c,titleY:d,maxWidth:u,rotation:f}=function(t,e,i,s){const{top:n,left:a,bottom:r,right:l,chart:h}=t,{chartArea:c,scales:d}=h;let u,f,g,p=0;const m=r-n,b=l-a;if(t.isHorizontal()){if(f=ft(s,a,l),o(i)){const t=Object.keys(i)[0],s=i[t];g=d[t].getPixelForValue(s)+m-e}else g="center"===i?(c.bottom+c.top)/2+m-e:Ys(t,i,e);u=l-a}else{if(o(i)){const t=Object.keys(i)[0],s=i[t];f=d[t].getPixelForValue(s)-b+e}else f="center"===i?(c.left+c.right)/2-b+e:Ys(t,i,e);g=ft(s,r,n),p="left"===i?-E:E}return{titleX:f,titleY:g,maxWidth:u,rotation:p}}(this,h,e,l);Ne(t,i.text,0,0,a,{color:i.color,maxWidth:u,rotation:f,textAlign:Zs(l,e,s),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=l(t.grid&&t.grid.z,-1),s=l(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Js.prototype.draw?[{z:i,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let n,o;for(n=0,o=e.length;n<o;++n){const o=e[n];o[i]!==this.id||t&&o.type!==t||s.push(o)}return s}_resolveTickFontOptions(t){return Si(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Qs{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function(t){return"id"in t&&"defaults"in t})(e)&&(i=this.register(e));const s=this.items,n=t.id,o=this.scope+"."+n;if(!n)throw new Error("class does not have id: "+t);return n in s||(s[n]=t,function(t,e,i){const s=b(Object.create(null),[i?ue.get(i):{},ue.get(e),t.defaults]);ue.set(e,s),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((i=>{const s=i.split("."),n=s.pop(),o=[t].concat(s).join("."),a=e[i].split("."),r=a.pop(),l=a.join(".");ue.route(o,n,l,r)}))}(e,t.defaultRoutes);t.descriptors&&ue.describe(e,t.descriptors)}(t,o,i),this.override&&ue.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in ue[s]&&(delete ue[s][i],this.override&&delete re[i])}}class tn{constructor(){this.controllers=new Qs(Ns,"datasets",!0),this.elements=new Qs(Hs,"elements"),this.plugins=new Qs(Object,"plugins"),this.scales=new Qs(Js,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach((e=>{const s=i||this._getRegistryForType(e);i||s.isForType(e)||s===this.plugins&&e.id?this._exec(t,s,e):u(e,(e=>{const s=i||this._getRegistryForType(e);this._exec(t,s,e)}))}))}_exec(t,e,i){const s=w(t);d(i["before"+s],[],i),e[t](i),d(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(void 0===s)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var en=new tn;class sn{constructor(){this._init=[]}notify(t,e,i,s){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const n=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(n,t,e,i);return"afterDestroy"===e&&(this._notify(n,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,s){s=s||{};for(const n of t){const t=n.plugin;if(!1===d(t[i],[e,s,n.options],t)&&s.cancelable)return!1}return!0}invalidate(){s(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=l(i.options&&i.options.plugins,{}),n=function(t){const e={},i=[],s=Object.keys(en.plugins.items);for(let t=0;t<s.length;t++)i.push(en.getPlugin(s[t]));const n=t.plugins||[];for(let t=0;t<n.length;t++){const s=n[t];-1===i.indexOf(s)&&(i.push(s),e[s.id]=!0)}return{plugins:i,localIds:e}}(i);return!1!==s||e?function(t,{plugins:e,localIds:i},s,n){const o=[],a=t.getContext();for(const r of e){const e=r.id,l=nn(s[e],n);null!==l&&o.push({plugin:r,options:on(t.config,{plugin:r,local:i[e]},l,a)})}return o}(t,n,s,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function nn(t,e){return e||!1!==t?!0===t?{}:t:null}function on(t,{plugin:e,local:i},s,n){const o=t.pluginScopeKeys(e),a=t.getOptionScopes(s,o);return i&&e.defaults&&a.push(e.defaults),t.createResolver(a,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function an(t,e){const i=ue.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function rn(t){if("x"===t||"y"===t||"r"===t)return t}function ln(t,...e){if(rn(t))return t;for(const s of e){const e=s.axis||("top"===(i=s.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||t.length>1&&rn(t[0].toLowerCase());if(e)return e}var i;throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function hn(t,e,i){if(i[e+"AxisID"]===t)return{axis:e}}function cn(t,e){const i=re[t.type]||{scales:{}},s=e.scales||{},n=an(t.type,e),a=Object.create(null);return Object.keys(s).forEach((e=>{const r=s[e];if(!o(r))return console.error(`Invalid scale configuration for scale: ${e}`);if(r._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const l=ln(e,r,function(t,e){if(e.data&&e.data.datasets){const i=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(i.length)return hn(t,"x",i[0])||hn(t,"y",i[0])}return{}}(e,t),ue.scales[r.type]),h=function(t,e){return t===e?"_index_":"_value_"}(l,n),c=i.scales||{};a[e]=x(Object.create(null),[{axis:l},r,c[l],c[h]])})),t.data.datasets.forEach((i=>{const n=i.type||t.type,o=i.indexAxis||an(n,e),r=(re[n]||{}).scales||{};Object.keys(r).forEach((t=>{const e=function(t,e){let i=t;return"_index_"===t?i=e:"_value_"===t&&(i="x"===e?"y":"x"),i}(t,o),n=i[e+"AxisID"]||e;a[n]=a[n]||Object.create(null),x(a[n],[{axis:e},s[n],r[t]])}))})),Object.keys(a).forEach((t=>{const e=a[t];x(e,[ue.scales[e.type],ue.scale])})),a}function dn(t){const e=t.options||(t.options={});e.plugins=l(e.plugins,{}),e.scales=cn(t,e)}function un(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const fn=new Map,gn=new Set;function pn(t,e){let i=fn.get(t);return i||(i=e(),fn.set(t,i),gn.add(i)),i}const mn=(t,e,i)=>{const s=M(e,i);void 0!==s&&t.add(s)};class bn{constructor(t){this._config=function(t){return(t=t||{}).data=un(t.data),dn(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=un(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),dn(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return pn(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return pn(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return pn(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id;return pn(`${this.type}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return s&&!e||(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:n}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;const r=new Set;e.forEach((e=>{t&&(r.add(t),e.forEach((e=>mn(r,t,e)))),e.forEach((t=>mn(r,s,t))),e.forEach((t=>mn(r,re[n]||{},t))),e.forEach((t=>mn(r,ue,t))),e.forEach((t=>mn(r,le,t)))}));const l=Array.from(r);return 0===l.length&&l.push(Object.create(null)),gn.has(e)&&o.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,re[e]||{},ue.datasets[e]||{},{type:e},ue,le]}resolveNamedOptions(t,e,i,s=[""]){const o={$shared:!0},{resolver:a,subPrefixes:r}=xn(this._resolverCache,t,s);let l=a;if(function(t,e){const{isScriptable:i,isIndexable:s}=Ye(t);for(const o of e){const e=i(o),a=s(o),r=(a||e)&&t[o];if(e&&(S(r)||_n(r))||a&&n(r))return!0}return!1}(a,e)){o.$shared=!1;l=$e(a,i=S(i)?i():i,this.createResolver(t,i,r))}for(const t of e)o[t]=l[t];return o}createResolver(t,e,i=[""],s){const{resolver:n}=xn(this._resolverCache,t,i);return o(e)?$e(n,e,void 0,s):n}}function xn(t,e,i){let s=t.get(e);s||(s=new Map,t.set(e,s));const n=i.join();let o=s.get(n);if(!o){o={resolver:je(e,i),subPrefixes:i.filter((t=>!t.toLowerCase().includes("hover")))},s.set(n,o)}return o}const _n=t=>o(t)&&Object.getOwnPropertyNames(t).some((e=>S(t[e])));const yn=["top","bottom","left","right","chartArea"];function vn(t,e){return"top"===t||"bottom"===t||-1===yn.indexOf(t)&&"x"===e}function Mn(t,e){return function(i,s){return i[t]===s[t]?i[e]-s[e]:i[t]-s[t]}}function wn(t){const e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),d(i&&i.onComplete,[t],e)}function kn(t){const e=t.chart,i=e.options.animation;d(i&&i.onProgress,[t],e)}function Sn(t){return fe()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Pn={},Dn=t=>{const e=Sn(t);return Object.values(Pn).filter((t=>t.canvas===e)).pop()};function Cn(t,e,i){const s=Object.keys(t);for(const n of s){const s=+n;if(s>=e){const o=t[n];delete t[n],(i>0||s>e)&&(t[s+i]=o)}}}function On(t,e,i){return t.options.clip?t[i]:e[i]}class An{static defaults=ue;static instances=Pn;static overrides=re;static registry=en;static version="4.4.1";static getChart=Dn;static register(...t){en.add(...t),Tn()}static unregister(...t){en.remove(...t),Tn()}constructor(t,e){const s=this.config=new bn(e),n=Sn(t),o=Dn(n);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||ks(n)),this.platform.updateConfig(s);const r=this.platform.acquireContext(n,a.aspectRatio),l=r&&r.canvas,h=l&&l.height,c=l&&l.width;this.id=i(),this.ctx=r,this.canvas=l,this.width=c,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sn,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=dt((t=>this.update(t)),a.resizeDelay||0),this._dataChanges=[],Pn[this.id]=this,r&&l?(xt.listen(this,"complete",wn),xt.listen(this,"progress",kn),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:n,_aspectRatio:o}=this;return s(t)?e&&o?o:n?i/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return en}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ke(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Te(this.canvas,this.ctx),this}stop(){return xt.stop(this),this}resize(t,e){xt.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,n=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,e,n),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),r=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,ke(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),d(i.onResize,[this,o],this),this.attached&&this._doResize(r)&&this.render())}ensureScalesHaveIDs(){u(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce(((t,e)=>(t[e]=!1,t)),{});let n=[];e&&(n=n.concat(Object.keys(e).map((t=>{const i=e[t],s=ln(t,i),n="r"===s,o="x"===s;return{options:i,dposition:n?"chartArea":o?"bottom":"left",dtype:n?"radialLinear":o?"category":"linear"}})))),u(n,(e=>{const n=e.options,o=n.id,a=ln(o,n),r=l(n.type,e.dtype);void 0!==n.position&&vn(n.position,a)===vn(e.dposition)||(n.position=e.dposition),s[o]=!0;let h=null;if(o in i&&i[o].type===r)h=i[o];else{h=new(en.getScale(r))({id:o,type:r,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(n,t)})),u(s,((t,e)=>{t||delete i[e]})),u(i,(t=>{as.configure(this,t,t.options),as.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort(((t,e)=>t.index-e.index)),i>e){for(let t=e;t<i;++t)this._destroyDatasetMeta(t);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Mn("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,i)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(i)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const s=e[i];let n=this.getDatasetMeta(i);const o=s.type||this.config.type;if(n.type&&n.type!==o&&(this._destroyDatasetMeta(i),n=this.getDatasetMeta(i)),n.type=o,n.indexAxis=s.indexAxis||an(o,this.options),n.order=s.order||0,n.index=i,n.label=""+s.label,n.visible=this.isDatasetVisible(i),n.controller)n.controller.updateIndex(i),n.controller.linkScales();else{const e=en.getController(o),{datasetElementType:s,dataElementType:a}=ue.datasets[o];Object.assign(e,{dataElementType:en.getElement(a),datasetElementType:s&&en.getElement(s)}),n.controller=new e(this,i),t.push(n.controller)}}return this._updateMetasets(),t}_resetElements(){u(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const n=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let t=0,e=this.data.datasets.length;t<e;t++){const{controller:e}=this.getDatasetMeta(t),i=!s&&-1===n.indexOf(e);e.buildOrUpdateElements(i),o=Math.max(+e.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||u(n,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Mn("z","_idx"));const{_active:a,_lastEvent:r}=this;r?this._eventHandler(r,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){u(this.scales,(t=>{as.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);P(e,i)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:n}of e){Cn(t,s,"_removeElements"===i?-n:n)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),s=i(0);for(let t=1;t<e;t++)if(!P(s,i(t)))return;return Array.from(s).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;as.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],u(this.boxes,(t=>{i&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,S(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(xt.has(this)?this.attached&&!xt.running(this)&&xt.start(this):(this.draw(),wn({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,n;for(s=0,n=e.length;s<n;++s){const n=e[s];t&&!n.visible||i.push(n)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,s=!i.disabled,n=function(t,e){const{xScale:i,yScale:s}=t;return i&&s?{left:On(i,e,"left"),right:On(i,e,"right"),top:On(s,e,"top"),bottom:On(s,e,"bottom")}:e}(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(s&&Ie(e,{left:!1===i.left?0:n.left-i.left,right:!1===i.right?this.width:n.right+i.right,top:!1===i.top?0:n.top-i.top,bottom:!1===i.bottom?this.height:n.bottom+i.bottom}),t.controller.draw(),s&&ze(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Re(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const n=Xi.modes[e];return"function"==typeof n?n(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter((t=>t&&t._dataset===e)).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Ci(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",n=this.getDatasetMeta(t),o=n.controller._resolveAnimations(void 0,s);k(e)?(n.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(n,{visible:i}),this.update((e=>e.datasetIndex===t?s:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),xt.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Te(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Pn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(i,s)=>{e.addEventListener(this,i,s),t[i]=s},s=(t,e,i)=>{t.offsetX=e,t.offsetY=i,this._eventHandler(t)};u(this.options.events,(t=>i(t,s)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(i,s)=>{e.addEventListener(this,i,s),t[i]=s},s=(i,s)=>{t[i]&&(e.removeEventListener(this,i,s),delete t[i])},n=(t,e)=>{this.canvas&&this.resize(t,e)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",n),i("detach",o)};o=()=>{this.attached=!1,s("resize",n),this._stop(),this._resize(0,0),i("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){u(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},u(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let n,o,a,r;for("dataset"===e&&(n=this.getDatasetMeta(t[0].datasetIndex),n.controller["_"+s+"DatasetHoverStyle"]()),a=0,r=t.length;a<r;++a){o=t[a];const e=o&&this.getDatasetMeta(o.datasetIndex).controller;e&&e[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map((({datasetIndex:t,index:e})=>{const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[e],index:e}}));!f(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,i){const s=this.options.hover,n=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),o=n(e,t),a=i?t:n(t,e);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,s))return;const n=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(n||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:n}=this,o=e,a=this._getActiveElements(t,s,i,o),r=D(t),l=function(t,e,i,s){return i&&"mouseout"!==t.type?s?e:t:null}(t,this._lastEvent,i,r);i&&(this._lastEvent=null,d(n.onHover,[t,a,this],this),r&&d(n.onClick,[t,a,this],this));const h=!f(a,s);return(h||e)&&(this._active=a,this._updateHoverStyles(a,s,e)),this._lastEvent=l,h}_getActiveElements(t,e,i,s){if("mouseout"===t.type)return[];if(!i)return e;const n=this.options.hover;return this.getElementsAtEventForMode(t,n.mode,n,s)}}function Tn(){return u(An.instances,(t=>t._plugins.invalidate()))}function Ln(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class En{static override(t){Object.assign(En.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ln()}parse(){return Ln()}format(){return Ln()}add(){return Ln()}diff(){return Ln()}startOf(){return Ln()}endOf(){return Ln()}}var Rn={_date:En};function In(t){const e=t.iScale,i=function(t,e){if(!t._cache.$bar){const i=t.getMatchingVisibleMetas(e);let s=[];for(let e=0,n=i.length;e<n;e++)s=s.concat(i[e].controller.getAllParsedValues(t));t._cache.$bar=lt(s.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let s,n,o,a,r=e._length;const l=()=>{32767!==o&&-32768!==o&&(k(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(s=0,n=i.length;s<n;++s)o=e.getPixelForValue(i[s]),l();for(a=void 0,s=0,n=e.ticks.length;s<n;++s)o=e.getPixelForTick(s),l();return r}function zn(t,e,i,s){return n(t)?function(t,e,i,s){const n=i.parse(t[0],s),o=i.parse(t[1],s),a=Math.min(n,o),r=Math.max(n,o);let l=a,h=r;Math.abs(a)>Math.abs(r)&&(l=r,h=a),e[i.axis]=h,e._custom={barStart:l,barEnd:h,start:n,end:o,min:a,max:r}}(t,e,i,s):e[i.axis]=i.parse(t,s),e}function Fn(t,e,i,s){const n=t.iScale,o=t.vScale,a=n.getLabels(),r=n===o,l=[];let h,c,d,u;for(h=i,c=i+s;h<c;++h)u=e[h],d={},d[n.axis]=r||n.parse(a[h],h),l.push(zn(u,d,o,h));return l}function Vn(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Bn(t,e,i,s){let n=e.borderSkipped;const o={};if(!n)return void(t.borderSkipped=o);if(!0===n)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:r,reverse:l,top:h,bottom:c}=function(t){let e,i,s,n,o;return t.horizontal?(e=t.base>t.x,i="left",s="right"):(e=t.base<t.y,i="bottom",s="top"),e?(n="end",o="start"):(n="start",o="end"),{start:i,end:s,reverse:e,top:n,bottom:o}}(t);"middle"===n&&i&&(t.enableBorderRadius=!0,(i._top||0)===s?n=h:(i._bottom||0)===s?n=c:(o[Wn(c,a,r,l)]=!0,n=h)),o[Wn(n,a,r,l)]=!0,t.borderSkipped=o}function Wn(t,e,i,s){var n,o,a;return s?(a=i,t=Nn(t=(n=t)===(o=e)?a:n===a?o:n,i,e)):t=Nn(t,e,i),t}function Nn(t,e,i){return"start"===t?e:"end"===t?i:t}function Hn(t,{inflateAmount:e},i){t.inflateAmount="auto"===e?1===i?.33:0:e}class jn extends Ns{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map(((e,n)=>{const o=t.getDatasetMeta(0).controller.getStyle(n);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:s,lineWidth:o.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(n),index:n}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=i;else{let n,a,r=t=>+i[t];if(o(i[t])){const{key:t="value"}=this._parsing;r=e=>+M(i[e],t)}for(n=t,a=t+e;n<a;++n)s._parsed[n]=r(n)}}_getRotation(){return $(this.options.rotation-90)}_getCircumference(){return $(this.options.circumference)}_getRotationExtents(){let t=O,e=-O;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,n=s._getRotation(),o=s._getCircumference();t=Math.min(t,n),e=Math.max(e,n+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,s=this._cachedMeta,n=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),r=Math.min(h(this.options.cutout,a),1),l=this._getRingWeight(this.index),{circumference:d,rotation:u}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:p,offsetY:m}=function(t,e,i){let s=1,n=1,o=0,a=0;if(e<O){const r=t,l=r+e,h=Math.cos(r),c=Math.sin(r),d=Math.cos(l),u=Math.sin(l),f=(t,e,s)=>Z(t,r,l,!0)?1:Math.max(e,e*i,s,s*i),g=(t,e,s)=>Z(t,r,l,!0)?-1:Math.min(e,e*i,s,s*i),p=f(0,h,d),m=f(E,c,u),b=g(C,h,d),x=g(C+E,c,u);s=(p-b)/2,n=(m-x)/2,o=-(p+b)/2,a=-(m+x)/2}return{ratioX:s,ratioY:n,offsetX:o,offsetY:a}}(u,d,r),b=(i.width-o)/f,x=(i.height-o)/g,_=Math.max(Math.min(b,x)/2,0),y=c(this.options.radius,_),v=(y-Math.max(y*r,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*y,this.offsetY=m*y,s.total=this.calculateTotal(),this.outerRadius=y-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*l,0),this.updateElements(n,0,n.length,t)}_circumference(t,e){const i=this.options,s=this._cachedMeta,n=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===s._parsed[t]||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*n/O)}updateElements(t,e,i,s){const n="reset"===s,o=this.chart,a=o.chartArea,r=o.options.animation,l=(a.left+a.right)/2,h=(a.top+a.bottom)/2,c=n&&r.animateScale,d=c?0:this.innerRadius,u=c?0:this.outerRadius,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(e,s);let p,m=this._getRotation();for(p=0;p<e;++p)m+=this._circumference(p,n);for(p=e;p<e+i;++p){const e=this._circumference(p,n),i=t[p],o={x:l+this.offsetX,y:h+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:u,innerRadius:d};g&&(o.options=f||this.resolveDataElementOptions(p,i.active?"active":s)),m+=e,this.updateElement(i,p,o,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i,s=0;for(i=0;i<e.length;i++){const n=t._parsed[i];null===n||isNaN(n)||!this.chart.getDataVisibility(i)||e[i].hidden||(s+=Math.abs(n))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?O*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],n=ne(e._parsed[t],i.options.locale);return{label:s[t]||"",value:n}}getMaxBorderWidth(t){let e=0;const i=this.chart;let s,n,o,a,r;if(!t)for(s=0,n=i.data.datasets.length;s<n;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),t=o.data,a=o.controller;break}if(!t)return 0;for(s=0,n=t.length;s<n;++s)r=a.resolveDataElementOptions(s),"inner"!==r.borderAlign&&(e=Math.max(e,r.borderWidth||0,r.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const t=this.resolveDataElementOptions(i);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(l(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class $n extends Ns{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map(((e,n)=>{const o=t.getDatasetMeta(0).controller.getStyle(n);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:s,lineWidth:o.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(n),index:n}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],n=ne(e._parsed[t].r,i.options.locale);return{label:s[t]||"",value:n}}parseObjectData(t,e,i,s){return ii.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<e.min&&(e.min=s),s>e.max&&(e.max=s))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),n=Math.max(s/2,0),o=(n-Math.max(i.cutoutPercentage?n/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=n-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,i,s){const n="reset"===s,o=this.chart,a=o.options.animation,r=this._cachedMeta.rScale,l=r.xCenter,h=r.yCenter,c=r.getIndexAngle(0)-.5*C;let d,u=c;const f=360/this.countVisibleElements();for(d=0;d<e;++d)u+=this._computeAngle(d,s,f);for(d=e;d<e+i;d++){const e=t[d];let i=u,g=u+this._computeAngle(d,s,f),p=o.getDataVisibility(d)?r.getDistanceFromCenterForValue(this.getParsed(d).r):0;u=g,n&&(a.animateScale&&(p=0),a.animateRotate&&(i=g=c));const m={x:l,y:h,innerRadius:0,outerRadius:p,startAngle:i,endAngle:g,options:this.resolveDataElementOptions(d,e.active?"active":s)};this.updateElement(e,d,m,s)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++})),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?$(this.resolveDataElementOptions(t,e).angle||i):0}}var Yn=Object.freeze({__proto__:null,BarController:class extends Ns{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,s){return Fn(t,e,i,s)}parseArrayData(t,e,i,s){return Fn(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:n,vScale:o}=t,{xAxisKey:a="x",yAxisKey:r="y"}=this._parsing,l="x"===n.axis?a:r,h="x"===o.axis?a:r,c=[];let d,u,f,g;for(d=i,u=i+s;d<u;++d)g=e[d],f={},f[n.axis]=n.parse(M(g,l),d),c.push(zn(M(g,h),f,o,d));return c}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const n=i._custom;n&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,n.min),t.max=Math.max(t.max,n.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,n=this.getParsed(t),o=n._custom,a=Vn(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(n[s.axis]);return{label:""+i.getLabelForValue(n[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,n){const o="reset"===n,{index:a,_cachedMeta:{vScale:r}}=this,l=r.getBasePixel(),h=r.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(e,n);for(let f=e;f<e+i;f++){const e=this.getParsed(f),i=o||s(e[r.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),g=this._calculateBarIndexPixels(f,c),p=(e._stacks||{})[r.axis],m={horizontal:h,base:i.base,enableBorderRadius:!p||Vn(e._custom)||a===p._top||a===p._bottom,x:h?i.head:g.center,y:h?g.center:i.head,height:h?g.size:Math.abs(i.size),width:h?Math.abs(i.size):g.size};u&&(m.options=d||this.resolveDataElementOptions(f,t[f].active?"active":n));const b=m.options||t[f].options;Bn(m,b,p,a),Hn(m,b,c.ratio),this.updateElement(t[f],f,m,n)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),o=i.options.stacked,a=[],r=t=>{const i=t.controller.getParsed(e),n=i&&i[t.vScale.axis];if(s(n)||isNaN(n))return!0};for(const i of n)if((void 0===e||!r(i))&&((!1===o||-1===a.indexOf(i.stack)||void 0===o&&void 0===i.stack)&&a.push(i.stack),i.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const s=this._getStacks(t,i),n=void 0!==e?s.indexOf(e):-1;return-1===n?s.length-1:n}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let n,o;for(n=0,o=e.data.length;n<o;++n)s.push(i.getPixelForValue(this.getParsed(n)[i.axis],n));const a=t.barThickness;return{min:a||In(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:n},options:{base:o,minBarLength:a}}=this,r=o||0,l=this.getParsed(t),h=l._custom,c=Vn(h);let d,u,f=l[e.axis],g=0,p=i?this.applyStack(e,l,i):f;p!==f&&(g=p-f,p=f),c&&(f=h.barStart,p=h.barEnd-h.barStart,0!==f&&F(f)!==F(h.barEnd)&&(g=0),g+=f);const m=s(o)||c?g:o;let b=e.getPixelForValue(m);if(d=this.chart.getDataVisibility(t)?e.getPixelForValue(g+p):b,u=d-b,Math.abs(u)<a){u=function(t,e,i){return 0!==t?F(t):(e.isHorizontal()?1:-1)*(e.min>=i?1:-1)}(u,e,r)*a,f===r&&(b-=u/2);const t=e.getPixelForDecimal(0),s=e.getPixelForDecimal(1),o=Math.min(t,s),h=Math.max(t,s);b=Math.max(Math.min(b,h),o),d=b+u,i&&!c&&(l._stacks[e.axis]._visualValues[n]=e.getValueForPixel(d)-e.getValueForPixel(b))}if(b===e.getPixelForValue(r)){const t=F(u)*e.getLineWidthForValue(r)/2;b+=t,u-=t}return{size:u,base:b,head:d,center:d+u/2}}_calculateBarIndexPixels(t,e){const i=e.scale,n=this.options,o=n.skipNull,a=l(n.maxBarThickness,1/0);let r,h;if(e.grouped){const i=o?this._getStackCount(t):e.stackCount,l="flex"===n.barThickness?function(t,e,i,s){const n=e.pixels,o=n[t];let a=t>0?n[t-1]:null,r=t<n.length-1?n[t+1]:null;const l=i.categoryPercentage;null===a&&(a=o-(null===r?e.end-e.start:r-o)),null===r&&(r=o+o-a);const h=o-(o-Math.min(a,r))/2*l;return{chunk:Math.abs(r-a)/2*l/s,ratio:i.barPercentage,start:h}}(t,e,n,i):function(t,e,i,n){const o=i.barThickness;let a,r;return s(o)?(a=e.min*i.categoryPercentage,r=i.barPercentage):(a=o*n,r=1),{chunk:a/n,ratio:r,start:e.pixels[t]-a/2}}(t,e,n,i),c=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);r=l.start+l.chunk*c+l.chunk/2,h=Math.min(a,l.chunk*l.ratio)}else r=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(a,e.min*e.ratio);return{base:r-h/2,head:r+h/2,center:r,size:h}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let n=0;for(;n<s;++n)null!==this.getParsed(n)[e.axis]&&i[n].draw(this._ctx)}},BubbleController:class extends Ns{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,s){const n=super.parsePrimitiveData(t,e,i,s);for(let t=0;t<n.length;t++)n[t]._custom=this.resolveDataElementOptions(t+i).radius;return n}parseArrayData(t,e,i,s){const n=super.parseArrayData(t,e,i,s);for(let t=0;t<n.length;t++){const s=e[i+t];n[t]._custom=l(s[2],this.resolveDataElementOptions(t+i).radius)}return n}parseObjectData(t,e,i,s){const n=super.parseObjectData(t,e,i,s);for(let t=0;t<n.length;t++){const s=e[i+t];n[t]._custom=l(s&&s.r&&+s.r,this.resolveDataElementOptions(t+i).radius)}return n}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:n}=e,o=this.getParsed(t),a=s.getLabelForValue(o.x),r=n.getLabelForValue(o.y),l=o._custom;return{label:i[t]||"",value:"("+a+", "+r+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,s){const n="reset"===s,{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:r,includeOptions:l}=this._getSharedOptions(e,s),h=o.axis,c=a.axis;for(let d=e;d<e+i;d++){const e=t[d],i=!n&&this.getParsed(d),u={},f=u[h]=n?o.getPixelForDecimal(.5):o.getPixelForValue(i[h]),g=u[c]=n?a.getBasePixel():a.getPixelForValue(i[c]);u.skip=isNaN(f)||isNaN(g),l&&(u.options=r||this.resolveDataElementOptions(d,e.active?"active":s),n&&(u.options.radius=0)),this.updateElement(e,d,u,s)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const n=s.radius;return"active"!==e&&(s.radius=0),s.radius+=l(i&&i._custom,n),s}},DoughnutController:jn,LineController:class extends Ns{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:n}=e,o=this.chart._animationsDisabled;let{start:a,count:r}=pt(e,s,o);this._drawStart=a,this._drawCount=r,mt(e)&&(a=0,r=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!n._decimated,i.points=s;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:l},t),this.updateElements(s,a,r,t)}updateElements(t,e,i,n){const o="reset"===n,{iScale:a,vScale:r,_stacked:l,_dataset:h}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(e,n),u=a.axis,f=r.axis,{spanGaps:g,segment:p}=this.options,m=N(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||o||"none"===n,x=e+i,_=t.length;let y=e>0&&this.getParsed(e-1);for(let i=0;i<_;++i){const g=t[i],_=b?g:{};if(i<e||i>=x){_.skip=!0;continue}const v=this.getParsed(i),M=s(v[f]),w=_[u]=a.getPixelForValue(v[u],i),k=_[f]=o||M?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,v,l):v[f],i);_.skip=isNaN(w)||isNaN(k)||M,_.stop=i>0&&Math.abs(v[u]-y[u])>m,p&&(_.parsed=v,_.raw=h.data[i]),d&&(_.options=c||this.resolveDataElementOptions(i,g.active?"active":n)),b||this.updateElement(g,i,_,n),y=v}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const n=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,n,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}},PieController:class extends jn{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},PolarAreaController:$n,RadarController:class extends Ns{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,s){return ii.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta,i=e.dataset,s=e.data||[],n=e.iScale.getLabels();if(i.points=s,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const o={_loop:!0,_fullLoop:n.length===s.length,options:e};this.updateElement(i,void 0,o,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,i,s){const n=this._cachedMeta.rScale,o="reset"===s;for(let a=e;a<e+i;a++){const e=t[a],i=this.resolveDataElementOptions(a,e.active?"active":s),r=n.getPointPositionForValue(a,this.getParsed(a).r),l=o?n.xCenter:r.x,h=o?n.yCenter:r.y,c={x:l,y:h,angle:r.angle,skip:isNaN(l)||isNaN(h),options:i};this.updateElement(e,a,c,s)}}},ScatterController:class extends Ns{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:n}=e,o=this.getParsed(t),a=s.getLabelForValue(o.x),r=n.getLabelForValue(o.y);return{label:i[t]||"",value:"("+a+", "+r+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,s=this.chart._animationsDisabled;let{start:n,count:o}=pt(e,i,s);if(this._drawStart=n,this._drawCount=o,mt(e)&&(n=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:n,_dataset:o}=e;n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=i;const a=this.resolveDatasetElementOptions(t);a.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:a},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,n,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,n){const o="reset"===n,{iScale:a,vScale:r,_stacked:l,_dataset:h}=this._cachedMeta,c=this.resolveDataElementOptions(e,n),d=this.getSharedOptions(c),u=this.includeOptions(n,d),f=a.axis,g=r.axis,{spanGaps:p,segment:m}=this.options,b=N(p)?p:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||o||"none"===n;let _=e>0&&this.getParsed(e-1);for(let c=e;c<e+i;++c){const e=t[c],i=this.getParsed(c),p=x?e:{},y=s(i[g]),v=p[f]=a.getPixelForValue(i[f],c),M=p[g]=o||y?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,i,l):i[g],c);p.skip=isNaN(v)||isNaN(M)||y,p.stop=c>0&&Math.abs(i[f]-_[f])>b,m&&(p.parsed=i,p.raw=h.data[c]),u&&(p.options=d||this.resolveDataElementOptions(c,e.active?"active":n)),x||this.updateElement(e,c,p,n),_=i}this.updateSharedOptions(d,n,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!e.length)return s;const n=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(s,n,o)/2}}});function Un(t,e,i,s){const n=vi(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const o=(i-e)/2,a=Math.min(o,s*e/2),r=t=>{const e=(i-Math.min(o,t))*s/2;return J(t,0,Math.min(o,e))};return{outerStart:r(n.outerStart),outerEnd:r(n.outerEnd),innerStart:J(n.innerStart,0,a),innerEnd:J(n.innerEnd,0,a)}}function Xn(t,e,i,s){return{x:i+t*Math.cos(e),y:s+t*Math.sin(e)}}function qn(t,e,i,s,n,o){const{x:a,y:r,startAngle:l,pixelMargin:h,innerRadius:c}=e,d=Math.max(e.outerRadius+s+i-h,0),u=c>0?c+s+i+h:0;let f=0;const g=n-l;if(s){const t=((c>0?c-s:0)+(d>0?d-s:0))/2;f=(g-(0!==t?g*t/(t+s):g))/2}const p=(g-Math.max(.001,g*d-i/C)/d)/2,m=l+p+f,b=n-p-f,{outerStart:x,outerEnd:_,innerStart:y,innerEnd:v}=Un(e,u,d,b-m),M=d-x,w=d-_,k=m+x/M,S=b-_/w,P=u+y,D=u+v,O=m+y/P,A=b-v/D;if(t.beginPath(),o){const e=(k+S)/2;if(t.arc(a,r,d,k,e),t.arc(a,r,d,e,S),_>0){const e=Xn(w,S,a,r);t.arc(e.x,e.y,_,S,b+E)}const i=Xn(D,b,a,r);if(t.lineTo(i.x,i.y),v>0){const e=Xn(D,A,a,r);t.arc(e.x,e.y,v,b+E,A+Math.PI)}const s=(b-v/u+(m+y/u))/2;if(t.arc(a,r,u,b-v/u,s,!0),t.arc(a,r,u,s,m+y/u,!0),y>0){const e=Xn(P,O,a,r);t.arc(e.x,e.y,y,O+Math.PI,m-E)}const n=Xn(M,m,a,r);if(t.lineTo(n.x,n.y),x>0){const e=Xn(M,k,a,r);t.arc(e.x,e.y,x,m-E,k)}}else{t.moveTo(a,r);const e=Math.cos(k)*d+a,i=Math.sin(k)*d+r;t.lineTo(e,i);const s=Math.cos(S)*d+a,n=Math.sin(S)*d+r;t.lineTo(s,n)}t.closePath()}function Kn(t,e,i,s,n){const{fullCircles:o,startAngle:a,circumference:r,options:l}=e,{borderWidth:h,borderJoinStyle:c,borderDash:d,borderDashOffset:u}=l,f="inner"===l.borderAlign;if(!h)return;t.setLineDash(d||[]),t.lineDashOffset=u,f?(t.lineWidth=2*h,t.lineJoin=c||"round"):(t.lineWidth=h,t.lineJoin=c||"bevel");let g=e.endAngle;if(o){qn(t,e,i,s,g,n);for(let e=0;e<o;++e)t.stroke();isNaN(r)||(g=a+(r%O||O))}f&&function(t,e,i){const{startAngle:s,pixelMargin:n,x:o,y:a,outerRadius:r,innerRadius:l}=e;let h=n/r;t.beginPath(),t.arc(o,a,r,s-h,i+h),l>n?(h=n/l,t.arc(o,a,l,i+h,s-h,!0)):t.arc(o,a,n,i+E,s-E),t.closePath(),t.clip()}(t,e,g),o||(qn(t,e,i,s,g,n),t.stroke())}function Gn(t,e,i=e){t.lineCap=l(i.borderCapStyle,e.borderCapStyle),t.setLineDash(l(i.borderDash,e.borderDash)),t.lineDashOffset=l(i.borderDashOffset,e.borderDashOffset),t.lineJoin=l(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=l(i.borderWidth,e.borderWidth),t.strokeStyle=l(i.borderColor,e.borderColor)}function Zn(t,e,i){t.lineTo(i.x,i.y)}function Jn(t,e,i={}){const s=t.length,{start:n=0,end:o=s-1}=i,{start:a,end:r}=e,l=Math.max(n,a),h=Math.min(o,r),c=n<a&&o<a||n>r&&o>r;return{count:s,start:l,loop:e.loop,ilen:h<l&&!c?s+h-l:h-l}}function Qn(t,e,i,s){const{points:n,options:o}=e,{count:a,start:r,loop:l,ilen:h}=Jn(n,i,s),c=function(t){return t.stepped?Fe:t.tension||"monotone"===t.cubicInterpolationMode?Ve:Zn}(o);let d,u,f,{move:g=!0,reverse:p}=s||{};for(d=0;d<=h;++d)u=n[(r+(p?h-d:d))%a],u.skip||(g?(t.moveTo(u.x,u.y),g=!1):c(t,f,u,p,o.stepped),f=u);return l&&(u=n[(r+(p?h:0))%a],c(t,f,u,p,o.stepped)),!!l}function to(t,e,i,s){const n=e.points,{count:o,start:a,ilen:r}=Jn(n,i,s),{move:l=!0,reverse:h}=s||{};let c,d,u,f,g,p,m=0,b=0;const x=t=>(a+(h?r-t:t))%o,_=()=>{f!==g&&(t.lineTo(m,g),t.lineTo(m,f),t.lineTo(m,p))};for(l&&(d=n[x(0)],t.moveTo(d.x,d.y)),c=0;c<=r;++c){if(d=n[x(c)],d.skip)continue;const e=d.x,i=d.y,s=0|e;s===u?(i<f?f=i:i>g&&(g=i),m=(b*m+e)/++b):(_(),t.lineTo(e,i),u=s,b=0,f=g=i),p=i}_()}function eo(t){const e=t.options,i=e.borderDash&&e.borderDash.length;return!(t._decimated||t._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||i)?to:Qn}const io="function"==typeof Path2D;function so(t,e,i,s){io&&!e.options.segment?function(t,e,i,s){let n=e._path;n||(n=e._path=new Path2D,e.path(n,i,s)&&n.closePath()),Gn(t,e.options),t.stroke(n)}(t,e,i,s):function(t,e,i,s){const{segments:n,options:o}=e,a=eo(e);for(const r of n)Gn(t,o,r.style),t.beginPath(),a(t,e,r,{start:i,end:i+s-1})&&t.closePath(),t.stroke()}(t,e,i,s)}class no extends Hs{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;hi(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=zi(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],n=this.points,o=Ii(this,{property:e,start:s,end:s});if(!o.length)return;const a=[],r=function(t){return t.stepped?pi:t.tension||"monotone"===t.cubicInterpolationMode?mi:gi}(i);let l,h;for(l=0,h=o.length;l<h;++l){const{start:h,end:c}=o[l],d=n[h],u=n[c];if(d===u){a.push(d);continue}const f=r(d,u,Math.abs((s-d[e])/(u[e]-d[e])),i.stepped);f[e]=t[e],a.push(f)}return 1===a.length?a[0]:a}pathSegment(t,e,i){return eo(this)(t,this,e,i)}path(t,e,i){const s=this.segments,n=eo(this);let o=this._loop;e=e||0,i=i||this.points.length-e;for(const a of s)o&=n(t,this,a,{start:e,end:e+i-1});return!!o}draw(t,e,i,s){const n=this.options||{};(this.points||[]).length&&n.borderWidth&&(t.save(),so(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function oo(t,e,i,s){const n=t.options,{[i]:o}=t.getProps([i],s);return Math.abs(e-o)<n.radius+n.hitRadius}function ao(t,e){const{x:i,y:s,base:n,width:o,height:a}=t.getProps(["x","y","base","width","height"],e);let r,l,h,c,d;return t.horizontal?(d=a/2,r=Math.min(i,n),l=Math.max(i,n),h=s-d,c=s+d):(d=o/2,r=i-d,l=i+d,h=Math.min(s,n),c=Math.max(s,n)),{left:r,top:h,right:l,bottom:c}}function ro(t,e,i,s){return t?0:J(e,i,s)}function lo(t){const e=ao(t),i=e.right-e.left,s=e.bottom-e.top,n=function(t,e,i){const s=t.options.borderWidth,n=t.borderSkipped,o=Mi(s);return{t:ro(n.top,o.top,0,i),r:ro(n.right,o.right,0,e),b:ro(n.bottom,o.bottom,0,i),l:ro(n.left,o.left,0,e)}}(t,i/2,s/2),a=function(t,e,i){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),n=t.options.borderRadius,a=wi(n),r=Math.min(e,i),l=t.borderSkipped,h=s||o(n);return{topLeft:ro(!h||l.top||l.left,a.topLeft,0,r),topRight:ro(!h||l.top||l.right,a.topRight,0,r),bottomLeft:ro(!h||l.bottom||l.left,a.bottomLeft,0,r),bottomRight:ro(!h||l.bottom||l.right,a.bottomRight,0,r)}}(t,i/2,s/2);return{outer:{x:e.left,y:e.top,w:i,h:s,radius:a},inner:{x:e.left+n.l,y:e.top+n.t,w:i-n.l-n.r,h:s-n.t-n.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,a.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(n.b,n.r))}}}}function ho(t,e,i,s){const n=null===e,o=null===i,a=t&&!(n&&o)&&ao(t,s);return a&&(n||tt(e,a.left,a.right))&&(o||tt(i,a.top,a.bottom))}function co(t,e){t.rect(e.x,e.y,e.w,e.h)}function uo(t,e,i={}){const s=t.x!==i.x?-e:0,n=t.y!==i.y?-e:0,o=(t.x+t.w!==i.x+i.w?e:0)-s,a=(t.y+t.h!==i.y+i.h?e:0)-n;return{x:t.x+s,y:t.y+n,w:t.w+o,h:t.h+a,radius:t.radius}}var fo=Object.freeze({__proto__:null,ArcElement:class extends Hs{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.getProps(["x","y"],i),{angle:n,distance:o}=X(s,{x:t,y:e}),{startAngle:a,endAngle:r,innerRadius:h,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),u=(this.options.spacing+this.options.borderWidth)/2,f=l(d,r-a)>=O||Z(n,a,r),g=tt(o,h+u,c+u);return f&&g}getCenterPoint(t){const{x:e,y:i,startAngle:s,endAngle:n,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:r,spacing:l}=this.options,h=(s+n)/2,c=(o+a+l+r)/2;return{x:e+Math.cos(h)*c,y:i+Math.sin(h)*c}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,s=(e.offset||0)/4,n=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>O?Math.floor(i/O):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*s,Math.sin(a)*s);const r=s*(1-Math.sin(Math.min(C,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,i,s,n){const{fullCircles:o,startAngle:a,circumference:r}=e;let l=e.endAngle;if(o){qn(t,e,i,s,l,n);for(let e=0;e<o;++e)t.fill();isNaN(r)||(l=a+(r%O||O))}qn(t,e,i,s,l,n),t.fill()}(t,this,r,n,o),Kn(t,this,r,n,o),t.restore()}},BarElement:class extends Hs{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:n,outer:o}=lo(this),a=(r=o.radius).topLeft||r.topRight||r.bottomLeft||r.bottomRight?He:co;var r;t.save(),o.w===n.w&&o.h===n.h||(t.beginPath(),a(t,uo(o,e,n)),t.clip(),a(t,uo(n,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,uo(n,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return ho(this,t,e,i)}inXRange(t,e){return ho(this,t,null,e)}inYRange(t,e){return ho(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:n}=this.getProps(["x","y","base","horizontal"],t);return{x:n?(e+s)/2:e,y:n?i:(i+s)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}},LineElement:no,PointElement:class extends Hs{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:n,y:o}=this.getProps(["x","y"],i);return Math.pow(t-n,2)+Math.pow(e-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return oo(this,t,"x",e)}inYRange(t,e){return oo(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Re(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Le(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}});function go(t,e,i,s){const n=t.indexOf(e);if(-1===n)return((t,e,i,s)=>("string"==typeof e?(i=t.push(e)-1,s.unshift({index:i,label:e})):isNaN(e)&&(i=null),i))(t,e,i,s);return n!==t.lastIndexOf(e)?i:n}function po(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}function mo(t,e,{horizontal:i,minRotation:s}){const n=$(s),o=(i?Math.sin(n):Math.cos(n))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}class bo extends Js{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return s(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:n}=this;const o=t=>s=e?s:t,a=t=>n=i?n:t;if(t){const t=F(s),e=F(n);t<0&&e<0?a(0):t>0&&e>0&&o(0)}if(s===n){let e=0===n?1:Math.abs(.05*n);a(n+e),t||o(s-e)}this.min=s,this.max=n}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:i,stepSize:s}=t;return s?(e=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),i=i||11),i&&(e=Math.min(i,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n=function(t,e){const i=[],{bounds:n,step:o,min:a,max:r,precision:l,count:h,maxTicks:c,maxDigits:d,includeBounds:u}=t,f=o||1,g=c-1,{min:p,max:m}=e,b=!s(a),x=!s(r),_=!s(h),y=(m-p)/(d+1);let v,M,w,k,S=B((m-p)/g/f)*f;if(S<1e-14&&!b&&!x)return[{value:p},{value:m}];k=Math.ceil(m/S)-Math.floor(p/S),k>g&&(S=B(k*S/g/f)*f),s(l)||(v=Math.pow(10,l),S=Math.ceil(S*v)/v),"ticks"===n?(M=Math.floor(p/S)*S,w=Math.ceil(m/S)*S):(M=p,w=m),b&&x&&o&&H((r-a)/o,S/1e3)?(k=Math.round(Math.min((r-a)/S,c)),S=(r-a)/k,M=a,w=r):_?(M=b?a:M,w=x?r:w,k=h-1,S=(w-M)/k):(k=(w-M)/S,k=V(k,Math.round(k),S/1e3)?Math.round(k):Math.ceil(k));const P=Math.max(U(S),U(M));v=Math.pow(10,s(l)?P:l),M=Math.round(M*v)/v,w=Math.round(w*v)/v;let D=0;for(b&&(u&&M!==a?(i.push({value:a}),M<a&&D++,V(Math.round((M+D*S)*v)/v,a,mo(a,y,t))&&D++):M<a&&D++);D<k;++D){const t=Math.round((M+D*S)*v)/v;if(x&&t>r)break;i.push({value:t})}return x&&u&&w!==r?i.length&&V(i[i.length-1].value,r,mo(r,y,t))?i[i.length-1].value=r:i.push({value:r}):x&&w!==r||i.push({value:w}),i}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&j(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return ne(t,this.chart.options.locale,this.options.ticks.format)}}class xo extends bo{static id="linear";static defaults={ticks:{callback:ae.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=a(t)?t:0,this.max=a(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=$(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,n=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,n.lineHeight/s))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const _o=t=>Math.floor(z(t)),yo=(t,e)=>Math.pow(10,_o(t)+e);function vo(t){return 1===t/Math.pow(10,_o(t))}function Mo(t,e,i){const s=Math.pow(10,i),n=Math.floor(t/s);return Math.ceil(e/s)-n}function wo(t,{min:e,max:i}){e=r(t.min,e);const s=[],n=_o(e);let o=function(t,e){let i=_o(e-t);for(;Mo(t,e,i)>10;)i++;for(;Mo(t,e,i)<10;)i--;return Math.min(i,_o(t))}(e,i),a=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),h=n>o?Math.pow(10,n):0,c=Math.round((e-h)*a)/a,d=Math.floor((e-h)/l/10)*l*10;let u=Math.floor((c-d)/Math.pow(10,o)),f=r(t.min,Math.round((h+d+u*Math.pow(10,o))*a)/a);for(;f<i;)s.push({value:f,major:vo(f),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(o++,u=2,a=o>=0?1:a),f=Math.round((h+d+u*Math.pow(10,o))*a)/a;const g=r(t.max,f);return s.push({value:g,major:vo(g),significand:u}),s}class ko extends Js{static id="logarithmic";static defaults={ticks:{callback:ae.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=bo.prototype.parse.apply(this,[t,e]);if(0!==i)return a(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=a(t)?Math.max(0,t):null,this.max=a(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!a(this._userMin)&&(this.min=t===yo(this.min,0)?yo(this.min,-1):yo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,s=this.max;const n=e=>i=t?i:e,o=t=>s=e?s:t;i===s&&(i<=0?(n(1),o(10)):(n(yo(i,-1)),o(yo(s,1)))),i<=0&&n(yo(s,-1)),s<=0&&o(yo(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,e=wo({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&j(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":ne(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=z(t),this._valueRange=z(this.max)-z(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(z(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function So(t){const e=t.ticks;if(e.display&&t.display){const t=ki(e.backdropPadding);return l(e.font&&e.font.size,ue.font.size)+t.height}return 0}function Po(t,e,i,s,n){return t===s||t===n?{start:e-i/2,end:e+i/2}:t<s||t>n?{start:e-i,end:e}:{start:e,end:e+i}}function Do(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},i=Object.assign({},e),s=[],o=[],a=t._pointLabels.length,r=t.options.pointLabels,l=r.centerPointLabels?C/a:0;for(let u=0;u<a;u++){const a=r.setContext(t.getPointLabelContext(u));o[u]=a.padding;const f=t.getPointPosition(u,t.drawingArea+o[u],l),g=Si(a.font),p=(h=t.ctx,c=g,d=n(d=t._pointLabels[u])?d:[d],{w:Oe(h,c.string,d),h:d.length*c.lineHeight});s[u]=p;const m=G(t.getIndexAngle(u)+l),b=Math.round(Y(m));Co(i,e,m,Po(b,f.x,p.w,0,180),Po(b,f.y,p.h,90,270))}var h,c,d;t.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),t._pointLabelItems=function(t,e,i){const s=[],n=t._pointLabels.length,o=t.options,{centerPointLabels:a,display:r}=o.pointLabels,l={extra:So(o)/2,additionalAngle:a?C/n:0};let h;for(let o=0;o<n;o++){l.padding=i[o],l.size=e[o];const n=Oo(t,o,l);s.push(n),"auto"===r&&(n.visible=Ao(n,h),n.visible&&(h=n))}return s}(t,s,o)}function Co(t,e,i,s,n){const o=Math.abs(Math.sin(i)),a=Math.abs(Math.cos(i));let r=0,l=0;s.start<e.l?(r=(e.l-s.start)/o,t.l=Math.min(t.l,e.l-r)):s.end>e.r&&(r=(s.end-e.r)/o,t.r=Math.max(t.r,e.r+r)),n.start<e.t?(l=(e.t-n.start)/a,t.t=Math.min(t.t,e.t-l)):n.end>e.b&&(l=(n.end-e.b)/a,t.b=Math.max(t.b,e.b+l))}function Oo(t,e,i){const s=t.drawingArea,{extra:n,additionalAngle:o,padding:a,size:r}=i,l=t.getPointPosition(e,s+n+a,o),h=Math.round(Y(G(l.angle+E))),c=function(t,e,i){90===i||270===i?t-=e/2:(i>270||i<90)&&(t-=e);return t}(l.y,r.h,h),d=function(t){if(0===t||180===t)return"center";if(t<180)return"left";return"right"}(h),u=function(t,e,i){"right"===i?t-=e:"center"===i&&(t-=e/2);return t}(l.x,r.w,d);return{visible:!0,x:l.x,y:c,textAlign:d,left:u,top:c,right:u+r.w,bottom:c+r.h}}function Ao(t,e){if(!e)return!0;const{left:i,top:s,right:n,bottom:o}=t;return!(Re({x:i,y:s},e)||Re({x:i,y:o},e)||Re({x:n,y:s},e)||Re({x:n,y:o},e))}function To(t,e,i){const{left:n,top:o,right:a,bottom:r}=i,{backdropColor:l}=e;if(!s(l)){const i=wi(e.borderRadius),s=ki(e.backdropPadding);t.fillStyle=l;const h=n-s.left,c=o-s.top,d=a-n+s.width,u=r-o+s.height;Object.values(i).some((t=>0!==t))?(t.beginPath(),He(t,{x:h,y:c,w:d,h:u,radius:i}),t.fill()):t.fillRect(h,c,d,u)}}function Lo(t,e,i,s){const{ctx:n}=t;if(i)n.arc(t.xCenter,t.yCenter,e,0,O);else{let i=t.getPointPosition(0,e);n.moveTo(i.x,i.y);for(let o=1;o<s;o++)i=t.getPointPosition(o,e),n.lineTo(i.x,i.y)}}class Eo extends bo{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ae.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ki(So(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=a(t)&&!isNaN(t)?t:0,this.max=a(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/So(this.options))}generateTickLabels(t){bo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const i=d(this.options.pointLabels.callback,[t,e],this);return i||0===i?i:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?Do(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){return G(t*(O/(this._pointLabels.length||1))+$(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(s(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(s(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function(t,e,i){return Ci(t,{label:i,index:e,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const s=this.getIndexAngle(t)-E+i;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:n}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:n}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),Lo(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:s,border:n}=e,o=this._pointLabels.length;let a,r,l;if(e.pointLabels.display&&function(t,e){const{ctx:i,options:{pointLabels:s}}=t;for(let n=e-1;n>=0;n--){const e=t._pointLabelItems[n];if(!e.visible)continue;const o=s.setContext(t.getPointLabelContext(n));To(i,o,e);const a=Si(o.font),{x:r,y:l,textAlign:h}=e;Ne(i,t._pointLabels[n],r,l+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}(this,o),s.display&&this.ticks.forEach(((t,e)=>{if(0!==e){r=this.getDistanceFromCenterForValue(t.value);const i=this.getContext(e),a=s.setContext(i),l=n.setContext(i);!function(t,e,i,s,n){const o=t.ctx,a=e.circular,{color:r,lineWidth:l}=e;!a&&!s||!r||!l||i<0||(o.save(),o.strokeStyle=r,o.lineWidth=l,o.setLineDash(n.dash),o.lineDashOffset=n.dashOffset,o.beginPath(),Lo(t,i,a,s),o.closePath(),o.stroke(),o.restore())}(this,a,r,o,l)}})),i.display){for(t.save(),a=o-1;a>=0;a--){const s=i.setContext(this.getPointLabelContext(a)),{color:n,lineWidth:o}=s;o&&n&&(t.lineWidth=o,t.strokeStyle=n,t.setLineDash(s.borderDash),t.lineDashOffset=s.borderDashOffset,r=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,r),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let n,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((s,a)=>{if(0===a&&!e.reverse)return;const r=i.setContext(this.getContext(a)),l=Si(r.font);if(n=this.getDistanceFromCenterForValue(this.ticks[a].value),r.showLabelBackdrop){t.font=l.string,o=t.measureText(s.label).width,t.fillStyle=r.backdropColor;const e=ki(r.backdropPadding);t.fillRect(-o/2-e.left,-n-l.size/2-e.top,o+e.width,l.size+e.height)}Ne(t,s.label,0,-n,l,{color:r.color,strokeColor:r.textStrokeColor,strokeWidth:r.textStrokeWidth})})),t.restore()}drawTitle(){}}const Ro={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Io=Object.keys(Ro);function zo(t,e){return t-e}function Fo(t,e){if(s(e))return null;const i=t._adapter,{parser:n,round:o,isoWeekday:r}=t._parseOpts;let l=e;return"function"==typeof n&&(l=n(l)),a(l)||(l="string"==typeof n?i.parse(l,n):i.parse(l)),null===l?null:(o&&(l="week"!==o||!N(r)&&!0!==r?i.startOf(l,o):i.startOf(l,"isoWeek",r)),+l)}function Vo(t,e,i,s){const n=Io.length;for(let o=Io.indexOf(t);o<n-1;++o){const t=Ro[Io[o]],n=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((i-e)/(n*t.size))<=s)return Io[o]}return Io[n-1]}function Bo(t,e,i){if(i){if(i.length){const{lo:s,hi:n}=et(i,e);t[i[s]>=e?i[s]:i[n]]=!0}}else t[e]=!0}function Wo(t,e,i){const s=[],n={},o=e.length;let a,r;for(a=0;a<o;++a)r=e[a],n[r]=a,s.push({value:r,major:!1});return 0!==o&&i?function(t,e,i,s){const n=t._adapter,o=+n.startOf(e[0].value,s),a=e[e.length-1].value;let r,l;for(r=o;r<=a;r=+n.add(r,1,s))l=i[r],l>=0&&(e[l].major=!0);return e}(t,s,n,i):s}class No extends Js{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new Rn._date(t.adapters.date);s.init(e),x(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:Fo(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:n,minDefined:o,maxDefined:r}=this.getUserBounds();function l(t){o||isNaN(t.min)||(s=Math.min(s,t.min)),r||isNaN(t.max)||(n=Math.max(n,t.max))}o&&r||(l(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||l(this.getMinMax(!1))),s=a(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),n=a(n)&&!isNaN(n)?n:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,n-1),this.max=Math.max(s+1,n)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const n=this.min,o=nt(s,n,this.max);return this._unit=e.unit||(i.autoSkip?Vo(e.minUnit,this.min,this.max,this._getLabelCapacity(n)):function(t,e,i,s,n){for(let o=Io.length-1;o>=Io.indexOf(i);o--){const i=Io[o];if(Ro[i].common&&t._adapter.diff(n,s,i)>=e-1)return i}return Io[i?Io.indexOf(i):0]}(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function(t){for(let e=Io.indexOf(t)+1,i=Io.length;e<i;++e)if(Ro[Io[e]].common)return Io[e]}(this._unit):void 0,this.initOffsets(s),t.reverse&&o.reverse(),Wo(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t=[]){let e,i,s=0,n=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),s=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,i=this.getDecimalForValue(t[t.length-1]),n=1===t.length?i:(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;s=J(s,0,o),n=J(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,n=s.time,o=n.unit||Vo(n.minUnit,e,i,this._getLabelCapacity(e)),a=l(s.ticks.stepSize,1),r="week"===o&&n.isoWeekday,h=N(r)||!0===r,c={};let d,u,f=e;if(h&&(f=+t.startOf(f,"isoWeek",r)),f=+t.startOf(f,h?"day":o),t.diff(i,e,o)>1e5*a)throw new Error(e+" and "+i+" are too far apart with stepSize of "+a+" "+o);const g="data"===s.ticks.source&&this.getDataTimestamps();for(d=f,u=0;d<i;d=+t.add(d,a,o),u++)Bo(c,d,g);return d!==i&&"ticks"!==s.bounds&&1!==u||Bo(c,d,g),Object.keys(c).sort(zo).map((t=>+t))}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const i=this.options.time.displayFormats,s=this._unit,n=e||i[s];return this._adapter.format(t,n)}_tickFormatFunction(t,e,i,s){const n=this.options,o=n.ticks.callback;if(o)return d(o,[t,e,i],this);const a=n.time.displayFormats,r=this._unit,l=this._majorUnit,h=r&&a[r],c=l&&a[l],u=i[e],f=l&&c&&u&&u.major;return this._adapter.format(t,s||(f?c:h))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=$(this.isHorizontal()?e.maxRotation:e.minRotation),n=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*n+a*o,h:i*o+a*n}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,n=this._tickFormatFunction(t,0,Wo(this,[t],this._majorUnit),s),o=this._getLabelSize(n),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t,e,i=this._cache.data||[];if(i.length)return i;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,e=s.length;t<e;++t)i=i.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(Fo(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return lt(t.sort(zo))}}function Ho(t,e,i){let s,n,o,a,r=0,l=t.length-1;i?(e>=t[r].pos&&e<=t[l].pos&&({lo:r,hi:l}=it(t,"pos",e)),({pos:s,time:o}=t[r]),({pos:n,time:a}=t[l])):(e>=t[r].time&&e<=t[l].time&&({lo:r,hi:l}=it(t,"time",e)),({time:s,pos:o}=t[r]),({time:n,pos:a}=t[l]));const h=n-s;return h?o+(a-o)*(e-s)/h:o}var jo=Object.freeze({__proto__:null,CategoryScale:class extends Js{static id="category";static defaults={ticks:{callback:po}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:i,label:s}of e)t[i]===s&&t.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(s(t))return null;const i=this.getLabels();return((t,e)=>null===t?null:J(Math.round(t),0,e))(e=isFinite(e)&&i[e]===t?e:go(i,t,l(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let n=this.getLabels();n=0===t&&e===n.length-1?n:n.slice(t,e+1),this._valueRange=Math.max(n.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let i=t;i<=e;i++)s.push({value:i});return s}getLabelForValue(t){return po.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}},LinearScale:xo,LogarithmicScale:ko,RadialLinearScale:Eo,TimeScale:No,TimeSeriesScale:class extends No{static id="timeseries";static defaults=No.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Ho(e,this.min),this._tableRange=Ho(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],n=[];let o,a,r,l,h;for(o=0,a=t.length;o<a;++o)l=t[o],l>=e&&l<=i&&s.push(l);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)h=s[o+1],r=s[o-1],l=s[o],Math.round((h+r)/2)!==l&&n.push({time:l,pos:o/(a-1)});return n}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return i.includes(t)&&i.length||i.splice(0,0,t),i.includes(e)&&1!==i.length||i.push(e),i.sort(((t,e)=>t-e))}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Ho(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Ho(this._table,i*this._tableRange+this._minPos,!0)}}});const $o=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Yo=$o.map((t=>t.replace("rgb(","rgba(").replace(")",", 0.5)")));function Uo(t){return $o[t%$o.length]}function Xo(t){return Yo[t%Yo.length]}function qo(t){let e=0;return(i,s)=>{const n=t.getDatasetMeta(s).controller;n instanceof jn?e=function(t,e){return t.backgroundColor=t.data.map((()=>Uo(e++))),e}(i,e):n instanceof $n?e=function(t,e){return t.backgroundColor=t.data.map((()=>Xo(e++))),e}(i,e):n&&(e=function(t,e){return t.borderColor=Uo(e),t.backgroundColor=Xo(e),++e}(i,e))}}function Ko(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}var Go={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,i){if(!i.enabled)return;const{data:{datasets:s},options:n}=t.config,{elements:o}=n;if(!i.forceOverride&&(Ko(s)||(a=n)&&(a.borderColor||a.backgroundColor)||o&&Ko(o)))return;var a;const r=qo(t);s.forEach(r)}};function Zo(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Jo(t){t.data.datasets.forEach((t=>{Zo(t)}))}var Qo={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,i)=>{if(!i.enabled)return void Jo(t);const n=t.width;t.data.datasets.forEach(((e,o)=>{const{_data:a,indexAxis:r}=e,l=t.getDatasetMeta(o),h=a||e.data;if("y"===Pi([r,t.options.indexAxis]))return;if(!l.controller.supportsDecimation)return;const c=t.scales[l.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(t.options.parsing)return;let{start:d,count:u}=function(t,e){const i=e.length;let s,n=0;const{iScale:o}=t,{min:a,max:r,minDefined:l,maxDefined:h}=o.getUserBounds();return l&&(n=J(it(e,o.axis,a).lo,0,i-1)),s=h?J(it(e,o.axis,r).hi+1,n,i)-n:i-n,{start:n,count:s}}(l,h);if(u<=(i.threshold||4*n))return void Zo(e);let f;switch(s(a)&&(e._data=h,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),i.algorithm){case"lttb":f=function(t,e,i,s,n){const o=n.samples||s;if(o>=i)return t.slice(e,e+i);const a=[],r=(i-2)/(o-2);let l=0;const h=e+i-1;let c,d,u,f,g,p=e;for(a[l++]=t[p],c=0;c<o-2;c++){let s,n=0,o=0;const h=Math.floor((c+1)*r)+1+e,m=Math.min(Math.floor((c+2)*r)+1,i)+e,b=m-h;for(s=h;s<m;s++)n+=t[s].x,o+=t[s].y;n/=b,o/=b;const x=Math.floor(c*r)+1+e,_=Math.min(Math.floor((c+1)*r)+1,i)+e,{x:y,y:v}=t[p];for(u=f=-1,s=x;s<_;s++)f=.5*Math.abs((y-n)*(t[s].y-v)-(y-t[s].x)*(o-v)),f>u&&(u=f,d=t[s],g=s);a[l++]=d,p=g}return a[l++]=t[h],a}(h,d,u,n,i);break;case"min-max":f=function(t,e,i,n){let o,a,r,l,h,c,d,u,f,g,p=0,m=0;const b=[],x=e+i-1,_=t[e].x,y=t[x].x-_;for(o=e;o<e+i;++o){a=t[o],r=(a.x-_)/y*n,l=a.y;const e=0|r;if(e===h)l<f?(f=l,c=o):l>g&&(g=l,d=o),p=(m*p+a.x)/++m;else{const i=o-1;if(!s(c)&&!s(d)){const e=Math.min(c,d),s=Math.max(c,d);e!==u&&e!==i&&b.push({...t[e],x:p}),s!==u&&s!==i&&b.push({...t[s],x:p})}o>0&&i!==u&&b.push(t[i]),b.push(a),h=e,m=0,f=g=l,c=d=u=o}}return b}(h,d,u,n);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}e._decimated=f}))},destroy(t){Jo(t)}};function ta(t,e,i,s){if(s)return;let n=e[t],o=i[t];return"angle"===t&&(n=G(n),o=G(o)),{property:t,start:n,end:o}}function ea(t,e,i){for(;e>t;e--){const t=i[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function ia(t,e,i,s){return t&&e?s(t[i],e[i]):t?t[i]:e?e[i]:0}function sa(t,e){let i=[],s=!1;return n(t)?(s=!0,i=t):i=function(t,e){const{x:i=null,y:s=null}=t||{},n=e.points,o=[];return e.segments.forEach((({start:t,end:e})=>{e=ea(t,e,n);const a=n[t],r=n[e];null!==s?(o.push({x:a.x,y:s}),o.push({x:r.x,y:s})):null!==i&&(o.push({x:i,y:a.y}),o.push({x:i,y:r.y}))})),o}(t,e),i.length?new no({points:i,options:{tension:0},_loop:s,_fullLoop:s}):null}function na(t){return t&&!1!==t.fill}function oa(t,e,i){let s=t[e].fill;const n=[e];let o;if(!i)return s;for(;!1!==s&&-1===n.indexOf(s);){if(!a(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;n.push(s),s=o.fill}return!1}function aa(t,e,i){const s=function(t){const e=t.options,i=e.fill;let s=l(i&&i.target,i);void 0===s&&(s=!!e.backgroundColor);if(!1===s||null===s)return!1;if(!0===s)return"origin";return s}(t);if(o(s))return!isNaN(s.value)&&s;let n=parseFloat(s);return a(n)&&Math.floor(n)===n?function(t,e,i,s){"-"!==t&&"+"!==t||(i=e+i);if(i===e||i<0||i>=s)return!1;return i}(s[0],e,n,i):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function ra(t,e,i){const s=[];for(let n=0;n<i.length;n++){const o=i[n],{first:a,last:r,point:l}=la(o,e,"x");if(!(!l||a&&r))if(a)s.unshift(l);else if(t.push(l),!r)break}t.push(...s)}function la(t,e,i){const s=t.interpolate(e,i);if(!s)return{};const n=s[i],o=t.segments,a=t.points;let r=!1,l=!1;for(let t=0;t<o.length;t++){const e=o[t],s=a[e.start][i],h=a[e.end][i];if(tt(n,s,h)){r=n===s,l=n===h;break}}return{first:r,last:l,point:s}}class ha{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:n,radius:o}=this;return e=e||{start:0,end:O},t.arc(s,n,o,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,n=t.angle;return{x:e+Math.cos(n)*s,y:i+Math.sin(n)*s,angle:n}}}function ca(t){const{chart:e,fill:i,line:s}=t;if(a(i))return function(t,e){const i=t.getDatasetMeta(e),s=i&&t.isDatasetVisible(e);return s?i.dataset:null}(e,i);if("stack"===i)return function(t){const{scale:e,index:i,line:s}=t,n=[],o=s.segments,a=s.points,r=function(t,e){const i=[],s=t.getMatchingVisibleMetas("line");for(let t=0;t<s.length;t++){const n=s[t];if(n.index===e)break;n.hidden||i.unshift(n.dataset)}return i}(e,i);r.push(sa({x:null,y:e.bottom},s));for(let t=0;t<o.length;t++){const e=o[t];for(let t=e.start;t<=e.end;t++)ra(n,a[t],r)}return new no({points:n,options:{}})}(t);if("shape"===i)return!0;const n=function(t){const e=t.scale||{};if(e.getPointPositionForValue)return function(t){const{scale:e,fill:i}=t,s=e.options,n=e.getLabels().length,a=s.reverse?e.max:e.min,r=function(t,e,i){let s;return s="start"===t?i:"end"===t?e.options.reverse?e.min:e.max:o(t)?t.value:e.getBaseValue(),s}(i,e,a),l=[];if(s.grid.circular){const t=e.getPointPositionForValue(0,a);return new ha({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(r)})}for(let t=0;t<n;++t)l.push(e.getPointPositionForValue(t,r));return l}(t);return function(t){const{scale:e={},fill:i}=t,s=function(t,e){let i=null;return"start"===t?i=e.bottom:"end"===t?i=e.top:o(t)?i=e.getPixelForValue(t.value):e.getBasePixel&&(i=e.getBasePixel()),i}(i,e);if(a(s)){const t=e.isHorizontal();return{x:t?s:null,y:t?null:s}}return null}(t)}(t);return n instanceof ha?n:sa(n,s)}function da(t,e,i){const s=ca(e),{line:n,scale:o,axis:a}=e,r=n.options,l=r.fill,h=r.backgroundColor,{above:c=h,below:d=h}=l||{};s&&n.points.length&&(Ie(t,i),function(t,e){const{line:i,target:s,above:n,below:o,area:a,scale:r}=e,l=i._loop?"angle":e.axis;t.save(),"x"===l&&o!==n&&(ua(t,s,a.top),fa(t,{line:i,target:s,color:n,scale:r,property:l}),t.restore(),t.save(),ua(t,s,a.bottom));fa(t,{line:i,target:s,color:o,scale:r,property:l}),t.restore()}(t,{line:n,target:s,above:c,below:d,area:i,scale:o,axis:a}),ze(t))}function ua(t,e,i){const{segments:s,points:n}=e;let o=!0,a=!1;t.beginPath();for(const r of s){const{start:s,end:l}=r,h=n[s],c=n[ea(s,l,n)];o?(t.moveTo(h.x,h.y),o=!1):(t.lineTo(h.x,i),t.lineTo(h.x,h.y)),a=!!e.pathSegment(t,r,{move:a}),a?t.closePath():t.lineTo(c.x,i)}t.lineTo(e.first().x,i),t.closePath(),t.clip()}function fa(t,e){const{line:i,target:s,property:n,color:o,scale:a}=e,r=function(t,e,i){const s=t.segments,n=t.points,o=e.points,a=[];for(const t of s){let{start:s,end:r}=t;r=ea(s,r,n);const l=ta(i,n[s],n[r],t.loop);if(!e.segments){a.push({source:t,target:l,start:n[s],end:n[r]});continue}const h=Ii(e,l);for(const e of h){const s=ta(i,o[e.start],o[e.end],e.loop),r=Ri(t,n,s);for(const t of r)a.push({source:t,target:e,start:{[i]:ia(l,s,"start",Math.max)},end:{[i]:ia(l,s,"end",Math.min)}})}}return a}(i,s,n);for(const{source:e,target:l,start:h,end:c}of r){const{style:{backgroundColor:r=o}={}}=e,d=!0!==s;t.save(),t.fillStyle=r,ga(t,a,d&&ta(n,h,c)),t.beginPath();const u=!!i.pathSegment(t,e);let f;if(d){u?t.closePath():pa(t,s,c,n);const e=!!s.pathSegment(t,l,{move:u,reverse:!0});f=u&&e,f||pa(t,s,h,n)}t.closePath(),t.fill(f?"evenodd":"nonzero"),t.restore()}}function ga(t,e,i){const{top:s,bottom:n}=e.chart.chartArea,{property:o,start:a,end:r}=i||{};"x"===o&&(t.beginPath(),t.rect(a,s,r-a,n-s),t.clip())}function pa(t,e,i,s){const n=e.interpolate(i,s);n&&t.lineTo(n.x,n.y)}var ma={id:"filler",afterDatasetsUpdate(t,e,i){const s=(t.data.datasets||[]).length,n=[];let o,a,r,l;for(a=0;a<s;++a)o=t.getDatasetMeta(a),r=o.dataset,l=null,r&&r.options&&r instanceof no&&(l={visible:t.isDatasetVisible(a),index:a,fill:aa(r,a,s),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:r}),o.$filler=l,n.push(l);for(a=0;a<s;++a)l=n[a],l&&!1!==l.fill&&(l.fill=oa(n,a,i.propagate))},beforeDraw(t,e,i){const s="beforeDraw"===i.drawTime,n=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let e=n.length-1;e>=0;--e){const i=n[e].$filler;i&&(i.line.updateControlPoints(o,i.axis),s&&i.fill&&da(t.ctx,i,o))}},beforeDatasetsDraw(t,e,i){if("beforeDatasetsDraw"!==i.drawTime)return;const s=t.getSortedVisibleDatasetMetas();for(let e=s.length-1;e>=0;--e){const i=s[e].$filler;na(i)&&da(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,i){const s=e.meta.$filler;na(s)&&"beforeDatasetDraw"===i.drawTime&&da(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ba=(t,e)=>{let{boxHeight:i=e,boxWidth:s=e}=t;return t.usePointStyle&&(i=Math.min(i,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:i,itemHeight:Math.max(e,i)}};class xa extends Hs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=d(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,i)=>t.sort(e,i,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,s=Si(i.font),n=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:r}=ba(i,n);let l,h;e.font=s.string,this.isHorizontal()?(l=this.maxWidth,h=this._fitRows(o,n,a,r)+10):(h=this.maxHeight,l=this._fitCols(o,s,a,r)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:n,maxWidth:o,options:{labels:{padding:a}}}=this,r=this.legendHitBoxes=[],l=this.lineWidths=[0],h=s+a;let c=t;n.textAlign="left",n.textBaseline="middle";let d=-1,u=-h;return this.legendItems.forEach(((t,f)=>{const g=i+e/2+n.measureText(t.text).width;(0===f||l[l.length-1]+g+2*a>o)&&(c+=h,l[l.length-(f>0?0:1)]=0,u+=h,d++),r[f]={left:0,top:u,row:d,width:g,height:s},l[l.length-1]+=g+a})),c}_fitCols(t,e,i,s){const{ctx:n,maxHeight:o,options:{labels:{padding:a}}}=this,r=this.legendHitBoxes=[],l=this.columnSizes=[],h=o-t;let c=a,d=0,u=0,f=0,g=0;return this.legendItems.forEach(((t,o)=>{const{itemWidth:p,itemHeight:m}=function(t,e,i,s,n){const o=function(t,e,i,s){let n=t.text;n&&"string"!=typeof n&&(n=n.reduce(((t,e)=>t.length>e.length?t:e)));return e+i.size/2+s.measureText(n).width}(s,t,e,i),a=function(t,e,i){let s=t;"string"!=typeof e.text&&(s=_a(e,i));return s}(n,s,e.lineHeight);return{itemWidth:o,itemHeight:a}}(i,e,n,t,s);o>0&&u+m+2*a>h&&(c+=d+a,l.push({width:d,height:u}),f+=d+a,g++,d=u=0),r[o]={left:f,top:u,col:g,width:p,height:m},d=Math.max(d,p),u+=m+a})),c+=d,l.push({width:d,height:u}),c}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:n}}=this,o=Oi(n,this.left,this.width);if(this.isHorizontal()){let n=0,a=ft(i,this.left+s,this.right-this.lineWidths[n]);for(const r of e)n!==r.row&&(n=r.row,a=ft(i,this.left+s,this.right-this.lineWidths[n])),r.top+=this.top+t+s,r.left=o.leftForLtr(o.x(a),r.width),a+=r.width+s}else{let n=0,a=ft(i,this.top+t+s,this.bottom-this.columnSizes[n].height);for(const r of e)r.col!==n&&(n=r.col,a=ft(i,this.top+t+s,this.bottom-this.columnSizes[n].height)),r.top=a,r.left+=this.left+s,r.left=o.leftForLtr(o.x(r.left),r.width),a+=r.height+s}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Ie(t,this),this._draw(),ze(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:n,labels:o}=t,a=ue.color,r=Oi(t.rtl,this.left,this.width),h=Si(o.font),{padding:c}=o,d=h.size,u=d/2;let f;this.drawTitle(),s.textAlign=r.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=h.string;const{boxWidth:g,boxHeight:p,itemHeight:m}=ba(o,d),b=this.isHorizontal(),x=this._computeTitleHeight();f=b?{x:ft(n,this.left+c,this.right-i[0]),y:this.top+c+x,line:0}:{x:this.left+c,y:ft(n,this.top+x+c,this.bottom-e[0].height),line:0},Ai(this.ctx,t.textDirection);const _=m+c;this.legendItems.forEach(((y,v)=>{s.strokeStyle=y.fontColor,s.fillStyle=y.fontColor;const M=s.measureText(y.text).width,w=r.textAlign(y.textAlign||(y.textAlign=o.textAlign)),k=g+u+M;let S=f.x,P=f.y;r.setWidth(this.width),b?v>0&&S+k+c>this.right&&(P=f.y+=_,f.line++,S=f.x=ft(n,this.left+c,this.right-i[f.line])):v>0&&P+_>this.bottom&&(S=f.x=S+e[f.line].width+c,f.line++,P=f.y=ft(n,this.top+x+c,this.bottom-e[f.line].height));if(function(t,e,i){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;s.save();const n=l(i.lineWidth,1);if(s.fillStyle=l(i.fillStyle,a),s.lineCap=l(i.lineCap,"butt"),s.lineDashOffset=l(i.lineDashOffset,0),s.lineJoin=l(i.lineJoin,"miter"),s.lineWidth=n,s.strokeStyle=l(i.strokeStyle,a),s.setLineDash(l(i.lineDash,[])),o.usePointStyle){const a={radius:p*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:n},l=r.xPlus(t,g/2);Ee(s,a,l,e+u,o.pointStyleWidth&&g)}else{const o=e+Math.max((d-p)/2,0),a=r.leftForLtr(t,g),l=wi(i.borderRadius);s.beginPath(),Object.values(l).some((t=>0!==t))?He(s,{x:a,y:o,w:g,h:p,radius:l}):s.rect(a,o,g,p),s.fill(),0!==n&&s.stroke()}s.restore()}(r.x(S),P,y),S=gt(w,S+g+u,b?S+k:this.right,t.rtl),function(t,e,i){Ne(s,i.text,t,e+m/2,h,{strikethrough:i.hidden,textAlign:r.textAlign(i.textAlign)})}(r.x(S),P,y),b)f.x+=k+c;else if("string"!=typeof y.text){const t=h.lineHeight;f.y+=_a(y,t)+c}else f.y+=_})),Ti(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Si(e.font),s=ki(e.padding);if(!e.display)return;const n=Oi(t.rtl,this.left,this.width),o=this.ctx,a=e.position,r=i.size/2,l=s.top+r;let h,c=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),h=this.top+l,c=ft(t.align,c,this.right-d);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);h=l+ft(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const u=ft(a,c,c+d);o.textAlign=n.textAlign(ut(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,Ne(o,e.text,u,h,i)}_computeTitleHeight(){const t=this.options.title,e=Si(t.font),i=ki(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,n;if(tt(t,this.left,this.right)&&tt(e,this.top,this.bottom))for(n=this.legendHitBoxes,i=0;i<n.length;++i)if(s=n[i],tt(t,s.left,s.left+s.width)&&tt(e,s.top,s.top+s.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const o=this._hoveredItem,a=(n=i,null!==(s=o)&&null!==n&&s.datasetIndex===n.datasetIndex&&s.index===n.index);o&&!a&&d(e.onLeave,[t,o,this],this),this._hoveredItem=i,i&&!a&&d(e.onHover,[t,i,this],this)}else i&&d(e.onClick,[t,i,this],this);var s,n}}function _a(t,e){return e*(t.text?t.text.length:0)}var ya={id:"legend",_element:xa,start(t,e,i){const s=t.legend=new xa({ctx:t.ctx,options:i,chart:t});as.configure(t,s,i),as.addBox(t,s)},stop(t){as.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){const s=t.legend;as.configure(t,s,i),s.options=i},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){const s=e.datasetIndex,n=i.chart;n.isDatasetVisible(s)?(n.hide(s),e.hidden=!0):(n.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:s,textAlign:n,color:o,useBorderRadius:a,borderRadius:r}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(i?0:void 0),h=ki(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:l.borderColor,pointStyle:s||l.pointStyle,rotation:l.rotation,textAlign:n||l.textAlign,borderRadius:a&&(r||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class va extends Hs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const s=n(i.text)?i.text.length:1;this._padding=ki(i.padding);const o=s*Si(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:s,right:n,options:o}=this,a=o.align;let r,l,h,c=0;return this.isHorizontal()?(l=ft(a,i,n),h=e+t,r=n-i):("left"===o.position?(l=i+t,h=ft(a,s,e),c=-.5*C):(l=n-t,h=ft(a,e,s),c=.5*C),r=s-e),{titleX:l,titleY:h,maxWidth:r,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Si(e.font),s=i.lineHeight/2+this._padding.top,{titleX:n,titleY:o,maxWidth:a,rotation:r}=this._drawArgs(s);Ne(t,e.text,0,0,i,{color:e.color,maxWidth:a,rotation:r,textAlign:ut(e.align),textBaseline:"middle",translation:[n,o]})}}var Ma={id:"title",_element:va,start(t,e,i){!function(t,e){const i=new va({ctx:t.ctx,options:e,chart:t});as.configure(t,i,e),as.addBox(t,i),t.titleBlock=i}(t,i)},stop(t){const e=t.titleBlock;as.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){const s=t.titleBlock;as.configure(t,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wa=new WeakMap;var ka={id:"subtitle",start(t,e,i){const s=new va({ctx:t.ctx,options:i,chart:t});as.configure(t,s,i),as.addBox(t,s),wa.set(t,s)},stop(t){as.removeBox(t,wa.get(t)),wa.delete(t)},beforeUpdate(t,e,i){const s=wa.get(t);as.configure(t,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sa={average(t){if(!t.length)return!1;let e,i,s=0,n=0,o=0;for(e=0,i=t.length;e<i;++e){const i=t[e].element;if(i&&i.hasValue()){const t=i.tooltipPosition();s+=t.x,n+=t.y,++o}}return{x:s/o,y:n/o}},nearest(t,e){if(!t.length)return!1;let i,s,n,o=e.x,a=e.y,r=Number.POSITIVE_INFINITY;for(i=0,s=t.length;i<s;++i){const s=t[i].element;if(s&&s.hasValue()){const t=q(e,s.getCenterPoint());t<r&&(r=t,n=s)}}if(n){const t=n.tooltipPosition();o=t.x,a=t.y}return{x:o,y:a}}};function Pa(t,e){return e&&(n(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Da(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Ca(t,e){const{element:i,datasetIndex:s,index:n}=e,o=t.getDatasetMeta(s).controller,{label:a,value:r}=o.getLabelAndValue(n);return{chart:t,label:a,parsed:o.getParsed(n),raw:t.data.datasets[s].data[n],formattedValue:r,dataset:o.getDataset(),dataIndex:n,datasetIndex:s,element:i}}function Oa(t,e){const i=t.chart.ctx,{body:s,footer:n,title:o}=t,{boxWidth:a,boxHeight:r}=e,l=Si(e.bodyFont),h=Si(e.titleFont),c=Si(e.footerFont),d=o.length,f=n.length,g=s.length,p=ki(e.padding);let m=p.height,b=0,x=s.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(x+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*h.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),x){m+=g*(e.displayColors?Math.max(r,l.lineHeight):l.lineHeight)+(x-g)*l.lineHeight+(x-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*c.lineHeight+(f-1)*e.footerSpacing);let _=0;const y=function(t){b=Math.max(b,i.measureText(t).width+_)};return i.save(),i.font=h.string,u(t.title,y),i.font=l.string,u(t.beforeBody.concat(t.afterBody),y),_=e.displayColors?a+2+e.boxPadding:0,u(s,(t=>{u(t.before,y),u(t.lines,y),u(t.after,y)})),_=0,i.font=c.string,u(t.footer,y),i.restore(),b+=p.width,{width:b,height:m}}function Aa(t,e,i,s){const{x:n,width:o}=i,{width:a,chartArea:{left:r,right:l}}=t;let h="center";return"center"===s?h=n<=(r+l)/2?"left":"right":n<=o/2?h="left":n>=a-o/2&&(h="right"),function(t,e,i,s){const{x:n,width:o}=s,a=i.caretSize+i.caretPadding;return"left"===t&&n+o+a>e.width||"right"===t&&n-o-a<0||void 0}(h,t,e,i)&&(h="center"),h}function Ta(t,e,i){const s=i.yAlign||e.yAlign||function(t,e){const{y:i,height:s}=e;return i<s/2?"top":i>t.height-s/2?"bottom":"center"}(t,i);return{xAlign:i.xAlign||e.xAlign||Aa(t,e,i,s),yAlign:s}}function La(t,e,i,s){const{caretSize:n,caretPadding:o,cornerRadius:a}=t,{xAlign:r,yAlign:l}=i,h=n+o,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=wi(a);let g=function(t,e){let{x:i,width:s}=t;return"right"===e?i-=s:"center"===e&&(i-=s/2),i}(e,r);const p=function(t,e,i){let{y:s,height:n}=t;return"top"===e?s+=i:s-="bottom"===e?n+i:n/2,s}(e,l,h);return"center"===l?"left"===r?g+=h:"right"===r&&(g-=h):"left"===r?g-=Math.max(c,u)+n:"right"===r&&(g+=Math.max(d,f)+n),{x:J(g,0,s.width-e.width),y:J(p,0,s.height-e.height)}}function Ea(t,e,i){const s=ki(i.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-s.right:t.x+s.left}function Ra(t){return Pa([],Da(t))}function Ia(t,e){const i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}const za={beforeTitle:e,title(t){if(t.length>0){const e=t[0],i=e.chart.data.labels,s=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return i[e.dataIndex]}return""},afterTitle:e,beforeBody:e,beforeLabel:e,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const i=t.formattedValue;return s(i)||(e+=i),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:e,afterBody:e,beforeFooter:e,footer:e,afterFooter:e};function Fa(t,e,i,s){const n=t[e].call(i,s);return void 0===n?za[e].call(i,s):n}class Va extends Hs{static positioners=Sa;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,n=new Os(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,i=this._tooltipItems,Ci(t,{tooltip:e,tooltipItems:i,type:"tooltip"})));var t,e,i}getTitle(t,e){const{callbacks:i}=e,s=Fa(i,"beforeTitle",this,t),n=Fa(i,"title",this,t),o=Fa(i,"afterTitle",this,t);let a=[];return a=Pa(a,Da(s)),a=Pa(a,Da(n)),a=Pa(a,Da(o)),a}getBeforeBody(t,e){return Ra(Fa(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return u(t,(t=>{const e={before:[],lines:[],after:[]},n=Ia(i,t);Pa(e.before,Da(Fa(n,"beforeLabel",this,t))),Pa(e.lines,Fa(n,"label",this,t)),Pa(e.after,Da(Fa(n,"afterLabel",this,t))),s.push(e)})),s}getAfterBody(t,e){return Ra(Fa(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=Fa(i,"beforeFooter",this,t),n=Fa(i,"footer",this,t),o=Fa(i,"afterFooter",this,t);let a=[];return a=Pa(a,Da(s)),a=Pa(a,Da(n)),a=Pa(a,Da(o)),a}_createItems(t){const e=this._active,i=this.chart.data,s=[],n=[],o=[];let a,r,l=[];for(a=0,r=e.length;a<r;++a)l.push(Ca(this.chart,e[a]));return t.filter&&(l=l.filter(((e,s,n)=>t.filter(e,s,n,i)))),t.itemSort&&(l=l.sort(((e,s)=>t.itemSort(e,s,i)))),u(l,(e=>{const i=Ia(t.callbacks,e);s.push(Fa(i,"labelColor",this,e)),n.push(Fa(i,"labelPointStyle",this,e)),o.push(Fa(i,"labelTextColor",this,e))})),this.labelColors=s,this.labelPointStyles=n,this.labelTextColors=o,this.dataPoints=l,l}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let n,o=[];if(s.length){const t=Sa[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const e=this._size=Oa(this,i),a=Object.assign({},t,e),r=Ta(this.chart,i,a),l=La(i,a,r,this.chart);this.xAlign=r.xAlign,this.yAlign=r.yAlign,n={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(n={opacity:0});this._tooltipItems=o,this.$context=void 0,n&&this._resolveAnimations().update(this,n),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const n=this.getCaretPosition(t,i,s);e.lineTo(n.x1,n.y1),e.lineTo(n.x2,n.y2),e.lineTo(n.x3,n.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:n}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:r,topRight:l,bottomLeft:h,bottomRight:c}=wi(a),{x:d,y:u}=t,{width:f,height:g}=e;let p,m,b,x,_,y;return"center"===n?(_=u+g/2,"left"===s?(p=d,m=p-o,x=_+o,y=_-o):(p=d+f,m=p+o,x=_-o,y=_+o),b=p):(m="left"===s?d+Math.max(r,h)+o:"right"===s?d+f-Math.max(l,c)-o:this.caretX,"top"===n?(x=u,_=x-o,p=m-o,b=m+o):(x=u+g,_=x+o,p=m+o,b=m-o),y=x),{x1:p,x2:m,x3:b,y1:x,y2:_,y3:y}}drawTitle(t,e,i){const s=this.title,n=s.length;let o,a,r;if(n){const l=Oi(i.rtl,this.x,this.width);for(t.x=Ea(this,i.titleAlign,i),e.textAlign=l.textAlign(i.titleAlign),e.textBaseline="middle",o=Si(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,r=0;r<n;++r)e.fillText(s[r],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,r+1===n&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,e,i,s,n){const a=this.labelColors[i],r=this.labelPointStyles[i],{boxHeight:l,boxWidth:h}=n,c=Si(n.bodyFont),d=Ea(this,"left",n),u=s.x(d),f=l<c.lineHeight?(c.lineHeight-l)/2:0,g=e.y+f;if(n.usePointStyle){const e={radius:Math.min(h,l)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},i=s.leftForLtr(u,h)+h/2,o=g+l/2;t.strokeStyle=n.multiKeyBackground,t.fillStyle=n.multiKeyBackground,Le(t,e,i,o),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Le(t,e,i,o)}else{t.lineWidth=o(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const e=s.leftForLtr(u,h),i=s.leftForLtr(s.xPlus(u,1),h-2),r=wi(a.borderRadius);Object.values(r).some((t=>0!==t))?(t.beginPath(),t.fillStyle=n.multiKeyBackground,He(t,{x:e,y:g,w:h,h:l,radius:r}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),He(t,{x:i,y:g+1,w:h-2,h:l-2,radius:r}),t.fill()):(t.fillStyle=n.multiKeyBackground,t.fillRect(e,g,h,l),t.strokeRect(e,g,h,l),t.fillStyle=a.backgroundColor,t.fillRect(i,g+1,h-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:n,bodyAlign:o,displayColors:a,boxHeight:r,boxWidth:l,boxPadding:h}=i,c=Si(i.bodyFont);let d=c.lineHeight,f=0;const g=Oi(i.rtl,this.x,this.width),p=function(i){e.fillText(i,g.x(t.x+f),t.y+d/2),t.y+=d+n},m=g.textAlign(o);let b,x,_,y,v,M,w;for(e.textAlign=o,e.textBaseline="middle",e.font=c.string,t.x=Ea(this,m,i),e.fillStyle=i.bodyColor,u(this.beforeBody,p),f=a&&"right"!==m?"center"===o?l/2+h:l+2+h:0,y=0,M=s.length;y<M;++y){for(b=s[y],x=this.labelTextColors[y],e.fillStyle=x,u(b.before,p),_=b.lines,a&&_.length&&(this._drawColorBox(e,t,y,g,i),d=Math.max(c.lineHeight,r)),v=0,w=_.length;v<w;++v)p(_[v]),d=c.lineHeight;u(b.after,p)}f=0,d=c.lineHeight,u(this.afterBody,p),t.y-=n}drawFooter(t,e,i){const s=this.footer,n=s.length;let o,a;if(n){const r=Oi(i.rtl,this.x,this.width);for(t.x=Ea(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=r.textAlign(i.footerAlign),e.textBaseline="middle",o=Si(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,a=0;a<n;++a)e.fillText(s[a],r.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:n,yAlign:o}=this,{x:a,y:r}=t,{width:l,height:h}=i,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=wi(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(a+c,r),"top"===o&&this.drawCaret(t,e,i,s),e.lineTo(a+l-d,r),e.quadraticCurveTo(a+l,r,a+l,r+d),"center"===o&&"right"===n&&this.drawCaret(t,e,i,s),e.lineTo(a+l,r+h-f),e.quadraticCurveTo(a+l,r+h,a+l-f,r+h),"bottom"===o&&this.drawCaret(t,e,i,s),e.lineTo(a+u,r+h),e.quadraticCurveTo(a,r+h,a,r+h-u),"center"===o&&"left"===n&&this.drawCaret(t,e,i,s),e.lineTo(a,r+c),e.quadraticCurveTo(a,r,a+c,r),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,n=i&&i.y;if(s||n){const i=Sa[t.position].call(this,this._active,this._eventPosition);if(!i)return;const o=this._size=Oa(this,t),a=Object.assign({},i,this._size),r=Ta(e,t,a),l=La(t,a,r,e);s._to===l.x&&n._to===l.y||(this.xAlign=r.xAlign,this.yAlign=r.yAlign,this.width=o.width,this.height=o.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},n={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=ki(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(n,t,s,e),Ai(t,e.textDirection),n.y+=o.top,this.drawTitle(n,t,e),this.drawBody(n,t,e),this.drawFooter(n,t,e),Ti(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map((({datasetIndex:t,index:e})=>{const i=this.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[e],index:e}})),n=!f(i,s),o=this._positionChanged(s,e);(n||o)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,n=this._active||[],o=this._getActiveElements(t,n,e,i),a=this._positionChanged(o,t),r=e||!f(o,n)||a;return r&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),r}_getActiveElements(t,e,i,s){const n=this.options;if("mouseout"===t.type)return[];if(!s)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const o=this.chart.getElementsAtEventForMode(t,n.mode,n,i);return n.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:i,caretY:s,options:n}=this,o=Sa[n.position].call(this,t,e);return!1!==o&&(i!==o.x||s!==o.y)}}var Ba={id:"tooltip",_element:Va,positioners:Sa,afterInit(t,e,i){i&&(t.tooltip=new Va({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const i={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i)}},afterEvent(t,e){if(t.tooltip){const i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:za},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};return An.register(Yn,jo,fo,t),An.helpers={...Wi},An._adapters=Rn,An.Animation=Cs,An.Animations=Os,An.animator=xt,An.controllers=en.controllers.items,An.DatasetController=Ns,An.Element=Hs,An.elements=fo,An.Interaction=Xi,An.layouts=as,An.platforms=Ss,An.Scale=Js,An.Ticks=ae,Object.assign(An,Yn,jo,fo,t,Ss),An.Chart=An,"undefined"!=typeof window&&(window.Chart=An),An}));



(function(win, doc, NS) {

    var instance = '__instance__',
        first = 'firstChild',
        delay = setTimeout;

    function is_set(x) {
        return typeof x !== "undefined";
    }

    function is_string(x) {
        return typeof x === "string";
    }

    function is_object(x) {
        return typeof x === "object";
    }

    function object_length(x) {
        return Object.keys(x).length;
    }

    function edge(a, b, c) {
        if (a < b) return b;
        if (a > c) return c;
        return a;
    }

    function num(i, j) {
        return parseInt(i, j || 10);
    }

    function round(i) {
        return Math.round(i);
    }

    function HSV2RGB(a) {
        var h = +a[0],
            s = +a[1],
            v = +a[2],
            r, g, b, i, f, p, q, t;
        i = Math.floor(h * 6);
        f = h * 6 - i;
        p = v * (1 - s);
        q = v * (1 - f * s);
        t = v * (1 - (1 - f) * s);
        i = i || 0;
        q = q || 0;
        t = t || 0;
        switch (i % 6) {
            case 0:
                r = v, g = t, b = p;
                break;
            case 1:
                r = q, g = v, b = p;
                break;
            case 2:
                r = p, g = v, b = t;
                break;
            case 3:
                r = p, g = q, b = v;
                break;
            case 4:
                r = t, g = p, b = v;
                break;
            case 5:
                r = v, g = p, b = q;
                break;
        }
        return [round(r * 255), round(g * 255), round(b * 255)];
    }

    function HSV2HEX(a) {
        return RGB2HEX(HSV2RGB(a));
    }

    function RGB2HSV(a) {
        var r = +a[0],
            g = +a[1],
            b = +a[2],
            max = Math.max(r, g, b),
            min = Math.min(r, g, b),
            d = max - min,
            h, s = (max === 0 ? 0 : d / max),
            v = max / 255;
        switch (max) {
            case min:
                h = 0;
                break;
            case r:
                h = (g - b) + d * (g < b ? 6 : 0);
                h /= 6 * d;
                break;
            case g:
                h = (b - r) + d * 2;
                h /= 6 * d;
                break;
            case b:
                h = (r - g) + d * 4;
                h /= 6 * d;
                break;
        }
        return [h, s, v];
    }

    function RGB2HEX(a) {
        var s = +a[2] | (+a[1] << 8) | (+a[0] << 16);
        s = '000000' + s.toString(16);
        return s.slice(-6);
    }

    function HEX2HSV(s) {
        return RGB2HSV(HEX2RGB(s));
    }

    function HEX2RGB(s) {
        if (s.length === 3) {
            s = s.replace(/./g, '$&$&');
        }
        return [num(s[0] + s[1], 16), num(s[2] + s[3], 16), num(s[4] + s[5], 16)];
    }

    function _2HSV_pri(a) {
        return [+a[0] / 360, +a[1] / 100, +a[2] / 100];
    }

    function _2HSV_pub(a) {
        return [round(+a[0] * 360), round(+a[1] * 100), round(+a[2] * 100)];
    }

    function _2RGB_pri(a) {
        return [+a[0] / 255, +a[1] / 255, +a[2] / 255];
    }

    function parse(x) {
        if (is_object(x)) return x;
        var rgb = /\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i.exec(x),
            hsv = /\s*hsv\s*\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)\s*$/i.exec(x),
            hex = x[0] === '#' && x.match(/^#([\da-f]{3}|[\da-f]{6})$/i);
        if (hex) {
            return HEX2HSV(x.slice(1));
        } else if (hsv) {
            return _2HSV_pri([+hsv[1], +hsv[2], +hsv[3]]);
        } else if (rgb) {
            return RGB2HSV([+rgb[1], +rgb[2], +rgb[3]]);
        }
        return [0, 1, 1]; 
    }

    (function($) {

        $.version = '1.4.2';

        $[instance] = {};

        $.each = function(fn, t) {
            return delay(function() {
                var ins = $[instance], i;
                for (i in ins) {
                    fn.call(ins[i], i, ins);
                }
            }, t === 0 ? 0 : (t || 1)), $;
        };

        $.parse = parse;
        $._HSV2RGB = HSV2RGB;
        $._HSV2HEX = HSV2HEX;
        $._RGB2HSV = RGB2HSV;
        $._HEX2HSV = HEX2HSV;
        $._HEX2RGB = function(a) {
            return _2RGB_pri(HEX2RGB(a));
        };
        $.HSV2RGB = function(a) {
            return HSV2RGB(_2HSV_pri(a));
        };
        $.HSV2HEX = function(a) {
            return HSV2HEX(_2HSV_pri(a));
        };
        $.RGB2HSV = function(a) {
            return _2HSV_pub(RGB2HSV(a));
        };
        $.RGB2HEX = RGB2HEX;
        $.HEX2HSV = function(s) {
            return _2HSV_pub(HEX2HSV(s));
        };
        $.HEX2RGB = HEX2RGB;

    })(win[NS] = function(source, events, parent) {

        var b = doc.body,
            h = doc.documentElement,
            $ = this,
            $$ = win[NS],
            _ = false,
            hooks = {},
            self = doc.createElement('div'),
            on_down = "touchstart mousedown",
            on_move = "touchmove mousemove",
            on_up = "touchend mouseup",
            on_resize = "orientationchange resize";

        if (!($ instanceof $$)) {
            return new $$(source, events);
        }

        $$[instance][source.id || source.name || object_length($$[instance])] = $;

        if (!is_set(events) || events === true) {
            events = on_down;
        }

        function on(ev, el, fn) {
            ev = ev.split(/\s+/);
            for (var i = 0, ien = ev.length; i < ien; ++i) {
                el.addEventListener(ev[i], fn, false);
            }
        }

        function off(ev, el, fn) {
            ev = ev.split(/\s+/);
            for (var i = 0, ien = ev.length; i < ien; ++i) {
                el.removeEventListener(ev[i], fn);
            }
        }

        function point(el, e) {
            var T = 'touches',
                X = 'clientX',
                Y = 'clientY',
                x = !!e[T] ? e[T][0][X] : e[X],
                y = !!e[T] ? e[T][0][Y] : e[Y],
                o = offset(el);
            return {
                x: x - o.l,
                y: y - o.t
            };
        }

        function offset(el) {
            var left, top, rect;
            if (el === win) {
                left = win.pageXOffset || h.scrollLeft;
                top = win.pageYOffset || h.scrollTop;
            } else {
                rect = el.getBoundingClientRect();
                left = rect.left;
                top = rect.top;
            }
            return {
                l: left,
                t: top
            };
        }

        function closest(a, b) {
            while ((a = a.parentElement) && a !== b);
            return a;
        }

        function prevent(e) {
            if (e) e.preventDefault();
        }

        function size(el) {
            return el === win ? {
                w: win.innerWidth,
                h: win.innerHeight
            } : {
                w: el.offsetWidth,
                h: el.offsetHeight
            };
        }

        function get_data(a) {
            return _ || (is_set(a) ? a : false);
        }

        function set_data(a) {
            _ = a;
        }

        function add(ev, fn, id) {
            if (!is_set(ev)) return hooks;
            if (!is_set(fn)) return hooks[ev];
            if (!is_set(hooks[ev])) hooks[ev] = {};
            if (!is_set(id)) id = object_length(hooks[ev]);
            return hooks[ev][id] = fn, $;
        }

        function remove(ev, id) {
            if (!is_set(ev)) return hooks = {}, $;
            if (!is_set(id)) return hooks[ev] = {}, $;
            return delete hooks[ev][id], $;
        }

        function trigger(ev, a, id) {
            if (!is_set(hooks[ev])) return $;
            if (!is_set(id)) {
                for (var i in hooks[ev]) {
                    hooks[ev][i].apply($, a);
                }
            } else {
                if (is_set(hooks[ev][id])) {
                    hooks[ev][id].apply($, a);
                }
            }
            return $;
        }

        set_data($$.parse(source.getAttribute('data-color') || source.value || [0, 1, 1]));

        self.className = 'color-picker';
        self.innerHTML = '<div class="color-picker-container"><span class="color-picker-h"><i></i></span><span class="color-picker-sv"><i></i></span></div>';
        var c = self[first].children,
            HSV = get_data([0, 1, 1]), 
            H = c[0],
            SV = c[1],
            H_point = H[first],
            SV_point = SV[first],
            start_H = 0,
            start_SV = 0,
            drag_H = 0,
            drag_SV = 0,
            left = 0,
            top = 0,
            P_W = 0,
            P_H = 0,
            v = [HSV2HEX(HSV)],
            set;

        function trigger_(k, x) {
            if (!k || k === "h") {
                trigger("change:h", x);
            }
            if (!k || k === "sv") {
                trigger("change:sv", x);
            }
            trigger("change", x);
        }

        function visible() {
            return self.parentNode;
        }

        function create(first, bucket) {
            if (!first) {
                (parent || bucket || b).appendChild(self), $.visible = true;
            }
            P_W = size(self).w;
            P_H = size(self).h;
            var SV_size = size(SV),
                SV_point_size = size(SV_point),
                H_H = size(H).h,
                SV_W = SV_size.w,
                SV_H = SV_size.h,
                H_point_H = size(H_point).h,
                SV_point_W = SV_point_size.w,
                SV_point_H = SV_point_size.h;
            if (first) {
                self.style.left = self.style.top = '-9999px';
                function click(e) {
                    var t = e.target,
                        is_source = t === source || closest(t, source) === source;
                    if (is_source) {
                        !visible() && (create(), trigger("enter"));
                    } else {
                        $.exit();
                    }
                }
                if (events !== false) {
                    on(events, source, click);
                }
                $.create = function() {
                    return create(1), trigger("create"), $;
                };
                $.destroy = function() {
                    if (events !== false) {
                        off(events, source, click);
                    }
                    $.exit(), set_data(false);
                    return trigger("destroy"), $;
                };
            } else {
                fit();
            }
            set = function() {
                HSV = get_data(HSV), color();
                H_point.style.top = (H_H - (H_point_H / 2) - (H_H * +HSV[0])) + 'px';
                SV_point.style.right = (SV_W - (SV_point_W / 2) - (SV_W * +HSV[1])) + 'px';
                SV_point.style.top = (SV_H - (SV_point_H / 2) - (SV_H * +HSV[2])) + 'px';
            };
            $.exit = function(e) {
                var exist = visible();
                if (exist) {
                    exist.removeChild(self);
                    $.visible = false;
                }
                off(on_down, H, down_H);
                off(on_down, SV, down_SV);
                off(on_move, doc, move);
                off(on_up, doc, stop);
                off(on_resize, win, fit);
                return trigger("exit"), $;
            };
            function color(e) {
                var a = HSV2RGB(HSV),
                    b = HSV2RGB([HSV[0], 1, 1]);
                SV.style.backgroundColor = 'rgb(' + b.join(',') + ')';
                set_data(HSV);
                prevent(e);
            };
            set();
            function do_H(e) {
                var y = edge(point(H, e).y, 0, H_H);
                HSV[0] = (H_H - y) / H_H;
                H_point.style.top = (y - (H_point_H / 2)) + 'px';
                color(e);
            }
            function do_SV(e) {
                var o = point(SV, e),
                    x = edge(o.x, 0, SV_W),
                    y = edge(o.y, 0, SV_H);
                HSV[1] = 1 - ((SV_W - x) / SV_W);
                HSV[2] = (SV_H - y) / SV_H;
                SV_point.style.right = (SV_W - x - (SV_point_W / 2)) + 'px';
                SV_point.style.top = (y - (SV_point_H / 2)) + 'px';
                color(e);
            }
            function move(e) {
                if (drag_H) {
                    do_H(e), v = [HSV2HEX(HSV)];
                    if (!start_H) {
                        trigger("drag:h", v);
                        trigger("drag", v);
                        trigger_("h", v);
                    }
                }
                if (drag_SV) {
                    do_SV(e), v = [HSV2HEX(HSV)];
                    if (!start_SV) {
                        trigger("drag:sv", v);
                        trigger("drag", v);
                        trigger_("sv", v);
                    }
                }
                start_H = 0,
                start_SV = 0;
            }
            function stop(e) {
                var t = e.target,
                    k = drag_H ? "h" : "sv",
                    a = [HSV2HEX(HSV), $],
                    is_source = t === source || closest(t, source) === source,
                    is_self = t === self || closest(t, self) === self;
                if (!is_source && !is_self) {
                    if (visible() && events !== false) $.exit(), trigger_(0, a);
                } else {
                    if (is_self) {
                        trigger("stop:" + k, a);
                        trigger("stop", a);
                        trigger_(k, a);
                    }
                }
                drag_H = 0,
                drag_SV = 0;
            }
            function down_H(e) {
                start_H = 1,
                drag_H = 1,
                move(e), prevent(e);
                trigger("start:h", v);
                trigger("start", v);
                trigger_("h", v);
            }
            function down_SV(e) {
                start_SV = 1,
                drag_SV = 1,
                move(e), prevent(e);
                trigger("start:sv", v);
                trigger("start", v);
                trigger_("sv", v);
            }
            if (!first) {
                on(on_down, H, down_H);
                on(on_down, SV, down_SV);
                on(on_move, doc, move);
                on(on_up, doc, stop);
                on(on_resize, win, fit);
            }
        } create(1);

        delay(function() {
            var a = [HSV2HEX(HSV)];
            trigger("create", a);
            trigger_(0, a);
        }, 0);

        $.fit = function(o) {
            var w = size(win),
                y = size(h),
                screen_w = w.w - y.w, 
                screen_h = w.h - h.clientHeight, 
                ww = offset(win),
                to = offset(source);
            left = to.l + ww.l;
            top = to.t + ww.t + size(source).h; 
            if (is_object(o)) {
                is_set(o[0]) && (left = o[0]);
                is_set(o[1]) && (top = o[1]);
            } else {
                var min_x = ww.l,
                    min_y = ww.t,
                    max_x = ww.l + w.w - P_W - screen_w,
                    max_y = ww.t + w.h - P_H - screen_h;
                left = edge(left, min_x, max_x) >> 0;
                top = edge(top, min_y, max_y) >> 0;
            }
            self.style.left = left + 'px';
            self.style.top = top + 'px';
            return trigger("fit"), $;
        };

        function fit() {
            return $.fit();
        }

        $.set = function(a) {
            if (!is_set(a)) return get_data();
            if (is_string(a)) {
                a = $$.parse(a);
            }
            return set_data(a), set(), $;
        };

        $.get = function(a) {
            return get_data(a);
        };

        $.source = source;
        $.self = self;
        $.visible = false;
        $.on = add;
        $.off = remove;
        $.fire = trigger;
        $.hooks = hooks;
        $.enter = function(bucket) {
            return create(0, bucket), trigger("enter"), $;
        };

        return $;

    });

})(window, document, 'CP');

;(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
    typeof define === 'function' && define.amd ? define(factory) :
    global.moment = factory()
}(this, (function () { 'use strict';

    var hookCallback;

    function hooks() {
        return hookCallback.apply(null, arguments);
    }

    function setHookCallback(callback) {
        hookCallback = callback;
    }

    function isArray(input) {
        return (
            input instanceof Array ||
            Object.prototype.toString.call(input) === '[object Array]'
        );
    }

    function isObject(input) {
        return (
            input != null &&
            Object.prototype.toString.call(input) === '[object Object]'
        );
    }

    function hasOwnProp(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b);
    }

    function isObjectEmpty(obj) {
        if (Object.getOwnPropertyNames) {
            return Object.getOwnPropertyNames(obj).length === 0;
        } else {
            var k;
            for (k in obj) {
                if (hasOwnProp(obj, k)) {
                    return false;
                }
            }
            return true;
        }
    }

    function isUndefined(input) {
        return input === void 0;
    }

    function isNumber(input) {
        return (
            typeof input === 'number' ||
            Object.prototype.toString.call(input) === '[object Number]'
        );
    }

    function isDate(input) {
        return (
            input instanceof Date ||
            Object.prototype.toString.call(input) === '[object Date]'
        );
    }

    function map(arr, fn) {
        var res = [],
            i,
            arrLen = arr.length;
        for (i = 0; i < arrLen; ++i) {
            res.push(fn(arr[i], i));
        }
        return res;
    }

    function extend(a, b) {
        for (var i in b) {
            if (hasOwnProp(b, i)) {
                a[i] = b[i];
            }
        }

        if (hasOwnProp(b, 'toString')) {
            a.toString = b.toString;
        }

        if (hasOwnProp(b, 'valueOf')) {
            a.valueOf = b.valueOf;
        }

        return a;
    }

    function createUTC(input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, true).utc();
    }

    function defaultParsingFlags() {
        return {
            empty: false,
            unusedTokens: [],
            unusedInput: [],
            overflow: -2,
            charsLeftOver: 0,
            nullInput: false,
            invalidEra: null,
            invalidMonth: null,
            invalidFormat: false,
            userInvalidated: false,
            iso: false,
            parsedDateParts: [],
            era: null,
            meridiem: null,
            rfc2822: false,
            weekdayMismatch: false,
        };
    }

    function getParsingFlags(m) {
        if (m._pf == null) {
            m._pf = defaultParsingFlags();
        }
        return m._pf;
    }

    var some;
    if (Array.prototype.some) {
        some = Array.prototype.some;
    } else {
        some = function (fun) {
            var t = Object(this),
                len = t.length >>> 0,
                i;

            for (i = 0; i < len; i++) {
                if (i in t && fun.call(this, t[i], i, t)) {
                    return true;
                }
            }

            return false;
        };
    }

    function isValid(m) {
        var flags = null,
            parsedParts = false,
            isNowValid = m._d && !isNaN(m._d.getTime());
        if (isNowValid) {
            flags = getParsingFlags(m);
            parsedParts = some.call(flags.parsedDateParts, function (i) {
                return i != null;
            });
            isNowValid =
                flags.overflow < 0 &&
                !flags.empty &&
                !flags.invalidEra &&
                !flags.invalidMonth &&
                !flags.invalidWeekday &&
                !flags.weekdayMismatch &&
                !flags.nullInput &&
                !flags.invalidFormat &&
                !flags.userInvalidated &&
                (!flags.meridiem || (flags.meridiem && parsedParts));
            if (m._strict) {
                isNowValid =
                    isNowValid &&
                    flags.charsLeftOver === 0 &&
                    flags.unusedTokens.length === 0 &&
                    flags.bigHour === undefined;
            }
        }
        if (Object.isFrozen == null || !Object.isFrozen(m)) {
            m._isValid = isNowValid;
        } else {
            return isNowValid;
        }
        return m._isValid;
    }

    function createInvalid(flags) {
        var m = createUTC(NaN);
        if (flags != null) {
            extend(getParsingFlags(m), flags);
        } else {
            getParsingFlags(m).userInvalidated = true;
        }

        return m;
    }

    var momentProperties = (hooks.momentProperties = []),
        updateInProgress = false;

    function copyConfig(to, from) {
        var i,
            prop,
            val,
            momentPropertiesLen = momentProperties.length;

        if (!isUndefined(from._isAMomentObject)) {
            to._isAMomentObject = from._isAMomentObject;
        }
        if (!isUndefined(from._i)) {
            to._i = from._i;
        }
        if (!isUndefined(from._f)) {
            to._f = from._f;
        }
        if (!isUndefined(from._l)) {
            to._l = from._l;
        }
        if (!isUndefined(from._strict)) {
            to._strict = from._strict;
        }
        if (!isUndefined(from._tzm)) {
            to._tzm = from._tzm;
        }
        if (!isUndefined(from._isUTC)) {
            to._isUTC = from._isUTC;
        }
        if (!isUndefined(from._offset)) {
            to._offset = from._offset;
        }
        if (!isUndefined(from._pf)) {
            to._pf = getParsingFlags(from);
        }
        if (!isUndefined(from._locale)) {
            to._locale = from._locale;
        }

        if (momentPropertiesLen > 0) {
            for (i = 0; i < momentPropertiesLen; i++) {
                prop = momentProperties[i];
                val = from[prop];
                if (!isUndefined(val)) {
                    to[prop] = val;
                }
            }
        }

        return to;
    }

    function Moment(config) {
        copyConfig(this, config);
        this._d = new Date(config._d != null ? config._d.getTime() : NaN);
        if (!this.isValid()) {
            this._d = new Date(NaN);
        }
        if (updateInProgress === false) {
            updateInProgress = true;
            hooks.updateOffset(this);
            updateInProgress = false;
        }
    }

    function isMoment(obj) {
        return (
            obj instanceof Moment || (obj != null && obj._isAMomentObject != null)
        );
    }

    function warn(msg) {
        if (
            hooks.suppressDeprecationWarnings === false &&
            typeof console !== 'undefined' &&
            console.warn
        ) {
            console.warn('Deprecation warning: ' + msg);
        }
    }

    function deprecate(msg, fn) {
        var firstTime = true;

        return extend(function () {
            if (hooks.deprecationHandler != null) {
                hooks.deprecationHandler(null, msg);
            }
            if (firstTime) {
                var args = [],
                    arg,
                    i,
                    key,
                    argLen = arguments.length;
                for (i = 0; i < argLen; i++) {
                    arg = '';
                    if (typeof arguments[i] === 'object') {
                        arg += '\n[' + i + '] ';
                        for (key in arguments[0]) {
                            if (hasOwnProp(arguments[0], key)) {
                                arg += key + ': ' + arguments[0][key] + ', ';
                            }
                        }
                        arg = arg.slice(0, -2); 
                    } else {
                        arg = arguments[i];
                    }
                    args.push(arg);
                }
                warn(
                    msg +
                        '\nArguments: ' +
                        Array.prototype.slice.call(args).join('') +
                        '\n' +
                        new Error().stack
                );
                firstTime = false;
            }
            return fn.apply(this, arguments);
        }, fn);
    }

    var deprecations = {};

    function deprecateSimple(name, msg) {
        if (hooks.deprecationHandler != null) {
            hooks.deprecationHandler(name, msg);
        }
        if (!deprecations[name]) {
            warn(msg);
            deprecations[name] = true;
        }
    }

    hooks.suppressDeprecationWarnings = false;
    hooks.deprecationHandler = null;

    function isFunction(input) {
        return (
            (typeof Function !== 'undefined' && input instanceof Function) ||
            Object.prototype.toString.call(input) === '[object Function]'
        );
    }

    function set(config) {
        var prop, i;
        for (i in config) {
            if (hasOwnProp(config, i)) {
                prop = config[i];
                if (isFunction(prop)) {
                    this[i] = prop;
                } else {
                    this['_' + i] = prop;
                }
            }
        }
        this._config = config;
        this._dayOfMonthOrdinalParseLenient = new RegExp(
            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +
                '|' +
                /\d{1,2}/.source
        );
    }

    function mergeConfigs(parentConfig, childConfig) {
        var res = extend({}, parentConfig),
            prop;
        for (prop in childConfig) {
            if (hasOwnProp(childConfig, prop)) {
                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {
                    res[prop] = {};
                    extend(res[prop], parentConfig[prop]);
                    extend(res[prop], childConfig[prop]);
                } else if (childConfig[prop] != null) {
                    res[prop] = childConfig[prop];
                } else {
                    delete res[prop];
                }
            }
        }
        for (prop in parentConfig) {
            if (
                hasOwnProp(parentConfig, prop) &&
                !hasOwnProp(childConfig, prop) &&
                isObject(parentConfig[prop])
            ) {
                res[prop] = extend({}, res[prop]);
            }
        }
        return res;
    }

    function Locale(config) {
        if (config != null) {
            this.set(config);
        }
    }

    var keys;

    if (Object.keys) {
        keys = Object.keys;
    } else {
        keys = function (obj) {
            var i,
                res = [];
            for (i in obj) {
                if (hasOwnProp(obj, i)) {
                    res.push(i);
                }
            }
            return res;
        };
    }

    var defaultCalendar = {
        sameDay: '[Today at] LT',
        nextDay: '[Tomorrow at] LT',
        nextWeek: 'dddd [at] LT',
        lastDay: '[Yesterday at] LT',
        lastWeek: '[Last] dddd [at] LT',
        sameElse: 'L',
    };

    function calendar(key, mom, now) {
        var output = this._calendar[key] || this._calendar['sameElse'];
        return isFunction(output) ? output.call(mom, now) : output;
    }

    function zeroFill(number, targetLength, forceSign) {
        var absNumber = '' + Math.abs(number),
            zerosToFill = targetLength - absNumber.length,
            sign = number >= 0;
        return (
            (sign ? (forceSign ? '+' : '') : '-') +
            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) +
            absNumber
        );
    }

    var formattingTokens =
            /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,
        localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,
        formatFunctions = {},
        formatTokenFunctions = {};

    function addFormatToken(token, padded, ordinal, callback) {
        var func = callback;
        if (typeof callback === 'string') {
            func = function () {
                return this[callback]();
            };
        }
        if (token) {
            formatTokenFunctions[token] = func;
        }
        if (padded) {
            formatTokenFunctions[padded[0]] = function () {
                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);
            };
        }
        if (ordinal) {
            formatTokenFunctions[ordinal] = function () {
                return this.localeData().ordinal(
                    func.apply(this, arguments),
                    token
                );
            };
        }
    }

    function removeFormattingTokens(input) {
        if (input.match(/\[[\s\S]/)) {
            return input.replace(/^\[|\]$/g, '');
        }
        return input.replace(/\\/g, '');
    }

    function makeFormatFunction(format) {
        var array = format.match(formattingTokens),
            i,
            length;

        for (i = 0, length = array.length; i < length; i++) {
            if (formatTokenFunctions[array[i]]) {
                array[i] = formatTokenFunctions[array[i]];
            } else {
                array[i] = removeFormattingTokens(array[i]);
            }
        }

        return function (mom) {
            var output = '',
                i;
            for (i = 0; i < length; i++) {
                output += isFunction(array[i])
                    ? array[i].call(mom, format)
                    : array[i];
            }
            return output;
        };
    }

    function formatMoment(m, format) {
        if (!m.isValid()) {
            return m.localeData().invalidDate();
        }

        format = expandFormat(format, m.localeData());
        formatFunctions[format] =
            formatFunctions[format] || makeFormatFunction(format);

        return formatFunctions[format](m);
    }

    function expandFormat(format, locale) {
        var i = 5;

        function replaceLongDateFormatTokens(input) {
            return locale.longDateFormat(input) || input;
        }

        localFormattingTokens.lastIndex = 0;
        while (i >= 0 && localFormattingTokens.test(format)) {
            format = format.replace(
                localFormattingTokens,
                replaceLongDateFormatTokens
            );
            localFormattingTokens.lastIndex = 0;
            i -= 1;
        }

        return format;
    }

    var defaultLongDateFormat = {
        LTS: 'h:mm:ss A',
        LT: 'h:mm A',
        L: 'MM/DD/YYYY',
        LL: 'MMMM D, YYYY',
        LLL: 'MMMM D, YYYY h:mm A',
        LLLL: 'dddd, MMMM D, YYYY h:mm A',
    };

    function longDateFormat(key) {
        var format = this._longDateFormat[key],
            formatUpper = this._longDateFormat[key.toUpperCase()];

        if (format || !formatUpper) {
            return format;
        }

        this._longDateFormat[key] = formatUpper
            .match(formattingTokens)
            .map(function (tok) {
                if (
                    tok === 'MMMM' ||
                    tok === 'MM' ||
                    tok === 'DD' ||
                    tok === 'dddd'
                ) {
                    return tok.slice(1);
                }
                return tok;
            })
            .join('');

        return this._longDateFormat[key];
    }

    var defaultInvalidDate = 'Invalid date';

    function invalidDate() {
        return this._invalidDate;
    }

    var defaultOrdinal = '%d',
        defaultDayOfMonthOrdinalParse = /\d{1,2}/;

    function ordinal(number) {
        return this._ordinal.replace('%d', number);
    }

    var defaultRelativeTime = {
        future: 'in %s',
        past: '%s ago',
        s: 'a few seconds',
        ss: '%d seconds',
        m: 'a minute',
        mm: '%d minutes',
        h: 'an hour',
        hh: '%d hours',
        d: 'a day',
        dd: '%d days',
        w: 'a week',
        ww: '%d weeks',
        M: 'a month',
        MM: '%d months',
        y: 'a year',
        yy: '%d years',
    };

    function relativeTime(number, withoutSuffix, string, isFuture) {
        var output = this._relativeTime[string];
        return isFunction(output)
            ? output(number, withoutSuffix, string, isFuture)
            : output.replace(/%d/i, number);
    }

    function pastFuture(diff, output) {
        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
        return isFunction(format) ? format(output) : format.replace(/%s/i, output);
    }

    var aliases = {
        D: 'date',
        dates: 'date',
        date: 'date',
        d: 'day',
        days: 'day',
        day: 'day',
        e: 'weekday',
        weekdays: 'weekday',
        weekday: 'weekday',
        E: 'isoWeekday',
        isoweekdays: 'isoWeekday',
        isoweekday: 'isoWeekday',
        DDD: 'dayOfYear',
        dayofyears: 'dayOfYear',
        dayofyear: 'dayOfYear',
        h: 'hour',
        hours: 'hour',
        hour: 'hour',
        ms: 'millisecond',
        milliseconds: 'millisecond',
        millisecond: 'millisecond',
        m: 'minute',
        minutes: 'minute',
        minute: 'minute',
        M: 'month',
        months: 'month',
        month: 'month',
        Q: 'quarter',
        quarters: 'quarter',
        quarter: 'quarter',
        s: 'second',
        seconds: 'second',
        second: 'second',
        gg: 'weekYear',
        weekyears: 'weekYear',
        weekyear: 'weekYear',
        GG: 'isoWeekYear',
        isoweekyears: 'isoWeekYear',
        isoweekyear: 'isoWeekYear',
        w: 'week',
        weeks: 'week',
        week: 'week',
        W: 'isoWeek',
        isoweeks: 'isoWeek',
        isoweek: 'isoWeek',
        y: 'year',
        years: 'year',
        year: 'year',
    };

    function normalizeUnits(units) {
        return typeof units === 'string'
            ? aliases[units] || aliases[units.toLowerCase()]
            : undefined;
    }

    function normalizeObjectUnits(inputObject) {
        var normalizedInput = {},
            normalizedProp,
            prop;

        for (prop in inputObject) {
            if (hasOwnProp(inputObject, prop)) {
                normalizedProp = normalizeUnits(prop);
                if (normalizedProp) {
                    normalizedInput[normalizedProp] = inputObject[prop];
                }
            }
        }

        return normalizedInput;
    }

    var priorities = {
        date: 9,
        day: 11,
        weekday: 11,
        isoWeekday: 11,
        dayOfYear: 4,
        hour: 13,
        millisecond: 16,
        minute: 14,
        month: 8,
        quarter: 7,
        second: 15,
        weekYear: 1,
        isoWeekYear: 1,
        week: 5,
        isoWeek: 5,
        year: 1,
    };

    function getPrioritizedUnits(unitsObj) {
        var units = [],
            u;
        for (u in unitsObj) {
            if (hasOwnProp(unitsObj, u)) {
                units.push({ unit: u, priority: priorities[u] });
            }
        }
        units.sort(function (a, b) {
            return a.priority - b.priority;
        });
        return units;
    }

    var match1 = /\d/, 
        match2 = /\d\d/, 
        match3 = /\d{3}/, 
        match4 = /\d{4}/, 
        match6 = /[+-]?\d{6}/, 
        match1to2 = /\d\d?/, 
        match3to4 = /\d\d\d\d?/, 
        match5to6 = /\d\d\d\d\d\d?/, 
        match1to3 = /\d{1,3}/, 
        match1to4 = /\d{1,4}/, 
        match1to6 = /[+-]?\d{1,6}/, 
        matchUnsigned = /\d+/, 
        matchSigned = /[+-]?\d+/, 
        matchOffset = /Z|[+-]\d\d:?\d\d/gi, 
        matchShortOffset = /Z|[+-]\d\d(?::?\d\d)?/gi, 
        matchTimestamp = /[+-]?\d+(\.\d{1,3})?/, 
        matchWord =
            /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,
        match1to2NoLeadingZero = /^[1-9]\d?/, 
        match1to2HasZero = /^([1-9]\d|\d)/, 
        regexes;

    regexes = {};

    function addRegexToken(token, regex, strictRegex) {
        regexes[token] = isFunction(regex)
            ? regex
            : function (isStrict, localeData) {
                  return isStrict && strictRegex ? strictRegex : regex;
              };
    }

    function getParseRegexForToken(token, config) {
        if (!hasOwnProp(regexes, token)) {
            return new RegExp(unescapeFormat(token));
        }

        return regexes[token](config._strict, config._locale);
    }

    function unescapeFormat(s) {
        return regexEscape(
            s
                .replace('\\', '')
                .replace(
                    /\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,
                    function (matched, p1, p2, p3, p4) {
                        return p1 || p2 || p3 || p4;
                    }
                )
        );
    }

    function regexEscape(s) {
        return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
    }

    function absFloor(number) {
        if (number < 0) {
            return Math.ceil(number) || 0;
        } else {
            return Math.floor(number);
        }
    }

    function toInt(argumentForCoercion) {
        var coercedNumber = +argumentForCoercion,
            value = 0;

        if (coercedNumber !== 0 && isFinite(coercedNumber)) {
            value = absFloor(coercedNumber);
        }

        return value;
    }

    var tokens = {};

    function addParseToken(token, callback) {
        var i,
            func = callback,
            tokenLen;
        if (typeof token === 'string') {
            token = [token];
        }
        if (isNumber(callback)) {
            func = function (input, array) {
                array[callback] = toInt(input);
            };
        }
        tokenLen = token.length;
        for (i = 0; i < tokenLen; i++) {
            tokens[token[i]] = func;
        }
    }

    function addWeekParseToken(token, callback) {
        addParseToken(token, function (input, array, config, token) {
            config._w = config._w || {};
            callback(input, config._w, config, token);
        });
    }

    function addTimeToArrayFromToken(token, input, config) {
        if (input != null && hasOwnProp(tokens, token)) {
            tokens[token](input, config._a, config, token);
        }
    }

    function isLeapYear(year) {
        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
    }

    var YEAR = 0,
        MONTH = 1,
        DATE = 2,
        HOUR = 3,
        MINUTE = 4,
        SECOND = 5,
        MILLISECOND = 6,
        WEEK = 7,
        WEEKDAY = 8;


    addFormatToken('Y', 0, 0, function () {
        var y = this.year();
        return y <= 9999 ? zeroFill(y, 4) : '+' + y;
    });

    addFormatToken(0, ['YY', 2], 0, function () {
        return this.year() % 100;
    });

    addFormatToken(0, ['YYYY', 4], 0, 'year');
    addFormatToken(0, ['YYYYY', 5], 0, 'year');
    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');


    addRegexToken('Y', matchSigned);
    addRegexToken('YY', match1to2, match2);
    addRegexToken('YYYY', match1to4, match4);
    addRegexToken('YYYYY', match1to6, match6);
    addRegexToken('YYYYYY', match1to6, match6);

    addParseToken(['YYYYY', 'YYYYYY'], YEAR);
    addParseToken('YYYY', function (input, array) {
        array[YEAR] =
            input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);
    });
    addParseToken('YY', function (input, array) {
        array[YEAR] = hooks.parseTwoDigitYear(input);
    });
    addParseToken('Y', function (input, array) {
        array[YEAR] = parseInt(input, 10);
    });


    function daysInYear(year) {
        return isLeapYear(year) ? 366 : 365;
    }


    hooks.parseTwoDigitYear = function (input) {
        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);
    };


    var getSetYear = makeGetSet('FullYear', true);

    function getIsLeapYear() {
        return isLeapYear(this.year());
    }

    function makeGetSet(unit, keepTime) {
        return function (value) {
            if (value != null) {
                set$1(this, unit, value);
                hooks.updateOffset(this, keepTime);
                return this;
            } else {
                return get(this, unit);
            }
        };
    }

    function get(mom, unit) {
        if (!mom.isValid()) {
            return NaN;
        }

        var d = mom._d,
            isUTC = mom._isUTC;

        switch (unit) {
            case 'Milliseconds':
                return isUTC ? d.getUTCMilliseconds() : d.getMilliseconds();
            case 'Seconds':
                return isUTC ? d.getUTCSeconds() : d.getSeconds();
            case 'Minutes':
                return isUTC ? d.getUTCMinutes() : d.getMinutes();
            case 'Hours':
                return isUTC ? d.getUTCHours() : d.getHours();
            case 'Date':
                return isUTC ? d.getUTCDate() : d.getDate();
            case 'Day':
                return isUTC ? d.getUTCDay() : d.getDay();
            case 'Month':
                return isUTC ? d.getUTCMonth() : d.getMonth();
            case 'FullYear':
                return isUTC ? d.getUTCFullYear() : d.getFullYear();
            default:
                return NaN; 
        }
    }

    function set$1(mom, unit, value) {
        var d, isUTC, year, month, date;

        if (!mom.isValid() || isNaN(value)) {
            return;
        }

        d = mom._d;
        isUTC = mom._isUTC;

        switch (unit) {
            case 'Milliseconds':
                return void (isUTC
                    ? d.setUTCMilliseconds(value)
                    : d.setMilliseconds(value));
            case 'Seconds':
                return void (isUTC ? d.setUTCSeconds(value) : d.setSeconds(value));
            case 'Minutes':
                return void (isUTC ? d.setUTCMinutes(value) : d.setMinutes(value));
            case 'Hours':
                return void (isUTC ? d.setUTCHours(value) : d.setHours(value));
            case 'Date':
                return void (isUTC ? d.setUTCDate(value) : d.setDate(value));
            case 'FullYear':
                break; 
            default:
                return; 
        }

        year = value;
        month = mom.month();
        date = mom.date();
        date = date === 29 && month === 1 && !isLeapYear(year) ? 28 : date;
        void (isUTC
            ? d.setUTCFullYear(year, month, date)
            : d.setFullYear(year, month, date));
    }


    function stringGet(units) {
        units = normalizeUnits(units);
        if (isFunction(this[units])) {
            return this[units]();
        }
        return this;
    }

    function stringSet(units, value) {
        if (typeof units === 'object') {
            units = normalizeObjectUnits(units);
            var prioritized = getPrioritizedUnits(units),
                i,
                prioritizedLen = prioritized.length;
            for (i = 0; i < prioritizedLen; i++) {
                this[prioritized[i].unit](units[prioritized[i].unit]);
            }
        } else {
            units = normalizeUnits(units);
            if (isFunction(this[units])) {
                return this[units](value);
            }
        }
        return this;
    }

    function mod(n, x) {
        return ((n % x) + x) % x;
    }

    var indexOf;

    if (Array.prototype.indexOf) {
        indexOf = Array.prototype.indexOf;
    } else {
        indexOf = function (o) {
            var i;
            for (i = 0; i < this.length; ++i) {
                if (this[i] === o) {
                    return i;
                }
            }
            return -1;
        };
    }

    function daysInMonth(year, month) {
        if (isNaN(year) || isNaN(month)) {
            return NaN;
        }
        var modMonth = mod(month, 12);
        year += (month - modMonth) / 12;
        return modMonth === 1
            ? isLeapYear(year)
                ? 29
                : 28
            : 31 - ((modMonth % 7) % 2);
    }


    addFormatToken('M', ['MM', 2], 'Mo', function () {
        return this.month() + 1;
    });

    addFormatToken('MMM', 0, 0, function (format) {
        return this.localeData().monthsShort(this, format);
    });

    addFormatToken('MMMM', 0, 0, function (format) {
        return this.localeData().months(this, format);
    });


    addRegexToken('M', match1to2, match1to2NoLeadingZero);
    addRegexToken('MM', match1to2, match2);
    addRegexToken('MMM', function (isStrict, locale) {
        return locale.monthsShortRegex(isStrict);
    });
    addRegexToken('MMMM', function (isStrict, locale) {
        return locale.monthsRegex(isStrict);
    });

    addParseToken(['M', 'MM'], function (input, array) {
        array[MONTH] = toInt(input) - 1;
    });

    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {
        var month = config._locale.monthsParse(input, token, config._strict);
        if (month != null) {
            array[MONTH] = month;
        } else {
            getParsingFlags(config).invalidMonth = input;
        }
    });


    var defaultLocaleMonths =
            'January_February_March_April_May_June_July_August_September_October_November_December'.split(
                '_'
            ),
        defaultLocaleMonthsShort =
            'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),
        MONTHS_IN_FORMAT = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,
        defaultMonthsShortRegex = matchWord,
        defaultMonthsRegex = matchWord;

    function localeMonths(m, format) {
        if (!m) {
            return isArray(this._months)
                ? this._months
                : this._months['standalone'];
        }
        return isArray(this._months)
            ? this._months[m.month()]
            : this._months[
                  (this._months.isFormat || MONTHS_IN_FORMAT).test(format)
                      ? 'format'
                      : 'standalone'
              ][m.month()];
    }

    function localeMonthsShort(m, format) {
        if (!m) {
            return isArray(this._monthsShort)
                ? this._monthsShort
                : this._monthsShort['standalone'];
        }
        return isArray(this._monthsShort)
            ? this._monthsShort[m.month()]
            : this._monthsShort[
                  MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'
              ][m.month()];
    }

    function handleStrictParse(monthName, format, strict) {
        var i,
            ii,
            mom,
            llc = monthName.toLocaleLowerCase();
        if (!this._monthsParse) {
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
            for (i = 0; i < 12; ++i) {
                mom = createUTC([2000, i]);
                this._shortMonthsParse[i] = this.monthsShort(
                    mom,
                    ''
                ).toLocaleLowerCase();
                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();
            }
        }

        if (strict) {
            if (format === 'MMM') {
                ii = indexOf.call(this._shortMonthsParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._longMonthsParse, llc);
                return ii !== -1 ? ii : null;
            }
        } else {
            if (format === 'MMM') {
                ii = indexOf.call(this._shortMonthsParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._longMonthsParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._longMonthsParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortMonthsParse, llc);
                return ii !== -1 ? ii : null;
            }
        }
    }

    function localeMonthsParse(monthName, format, strict) {
        var i, mom, regex;

        if (this._monthsParseExact) {
            return handleStrictParse.call(this, monthName, format, strict);
        }

        if (!this._monthsParse) {
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
        }

        for (i = 0; i < 12; i++) {
            mom = createUTC([2000, i]);
            if (strict && !this._longMonthsParse[i]) {
                this._longMonthsParse[i] = new RegExp(
                    '^' + this.months(mom, '').replace('.', '') + '$',
                    'i'
                );
                this._shortMonthsParse[i] = new RegExp(
                    '^' + this.monthsShort(mom, '').replace('.', '') + '$',
                    'i'
                );
            }
            if (!strict && !this._monthsParse[i]) {
                regex =
                    '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            if (
                strict &&
                format === 'MMMM' &&
                this._longMonthsParse[i].test(monthName)
            ) {
                return i;
            } else if (
                strict &&
                format === 'MMM' &&
                this._shortMonthsParse[i].test(monthName)
            ) {
                return i;
            } else if (!strict && this._monthsParse[i].test(monthName)) {
                return i;
            }
        }
    }


    function setMonth(mom, value) {
        if (!mom.isValid()) {
            return mom;
        }

        if (typeof value === 'string') {
            if (/^\d+$/.test(value)) {
                value = toInt(value);
            } else {
                value = mom.localeData().monthsParse(value);
                if (!isNumber(value)) {
                    return mom;
                }
            }
        }

        var month = value,
            date = mom.date();

        date = date < 29 ? date : Math.min(date, daysInMonth(mom.year(), month));
        void (mom._isUTC
            ? mom._d.setUTCMonth(month, date)
            : mom._d.setMonth(month, date));
        return mom;
    }

    function getSetMonth(value) {
        if (value != null) {
            setMonth(this, value);
            hooks.updateOffset(this, true);
            return this;
        } else {
            return get(this, 'Month');
        }
    }

    function getDaysInMonth() {
        return daysInMonth(this.year(), this.month());
    }

    function monthsShortRegex(isStrict) {
        if (this._monthsParseExact) {
            if (!hasOwnProp(this, '_monthsRegex')) {
                computeMonthsParse.call(this);
            }
            if (isStrict) {
                return this._monthsShortStrictRegex;
            } else {
                return this._monthsShortRegex;
            }
        } else {
            if (!hasOwnProp(this, '_monthsShortRegex')) {
                this._monthsShortRegex = defaultMonthsShortRegex;
            }
            return this._monthsShortStrictRegex && isStrict
                ? this._monthsShortStrictRegex
                : this._monthsShortRegex;
        }
    }

    function monthsRegex(isStrict) {
        if (this._monthsParseExact) {
            if (!hasOwnProp(this, '_monthsRegex')) {
                computeMonthsParse.call(this);
            }
            if (isStrict) {
                return this._monthsStrictRegex;
            } else {
                return this._monthsRegex;
            }
        } else {
            if (!hasOwnProp(this, '_monthsRegex')) {
                this._monthsRegex = defaultMonthsRegex;
            }
            return this._monthsStrictRegex && isStrict
                ? this._monthsStrictRegex
                : this._monthsRegex;
        }
    }

    function computeMonthsParse() {
        function cmpLenRev(a, b) {
            return b.length - a.length;
        }

        var shortPieces = [],
            longPieces = [],
            mixedPieces = [],
            i,
            mom,
            shortP,
            longP;
        for (i = 0; i < 12; i++) {
            mom = createUTC([2000, i]);
            shortP = regexEscape(this.monthsShort(mom, ''));
            longP = regexEscape(this.months(mom, ''));
            shortPieces.push(shortP);
            longPieces.push(longP);
            mixedPieces.push(longP);
            mixedPieces.push(shortP);
        }
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);

        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._monthsShortRegex = this._monthsRegex;
        this._monthsStrictRegex = new RegExp(
            '^(' + longPieces.join('|') + ')',
            'i'
        );
        this._monthsShortStrictRegex = new RegExp(
            '^(' + shortPieces.join('|') + ')',
            'i'
        );
    }

    function createDate(y, m, d, h, M, s, ms) {
        var date;
        if (y < 100 && y >= 0) {
            date = new Date(y + 400, m, d, h, M, s, ms);
            if (isFinite(date.getFullYear())) {
                date.setFullYear(y);
            }
        } else {
            date = new Date(y, m, d, h, M, s, ms);
        }

        return date;
    }

    function createUTCDate(y) {
        var date, args;
        if (y < 100 && y >= 0) {
            args = Array.prototype.slice.call(arguments);
            args[0] = y + 400;
            date = new Date(Date.UTC.apply(null, args));
            if (isFinite(date.getUTCFullYear())) {
                date.setUTCFullYear(y);
            }
        } else {
            date = new Date(Date.UTC.apply(null, arguments));
        }

        return date;
    }

    function firstWeekOffset(year, dow, doy) {
        var 
            fwd = 7 + dow - doy,
            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;

        return -fwdlw + fwd - 1;
    }

    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {
        var localWeekday = (7 + weekday - dow) % 7,
            weekOffset = firstWeekOffset(year, dow, doy),
            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,
            resYear,
            resDayOfYear;

        if (dayOfYear <= 0) {
            resYear = year - 1;
            resDayOfYear = daysInYear(resYear) + dayOfYear;
        } else if (dayOfYear > daysInYear(year)) {
            resYear = year + 1;
            resDayOfYear = dayOfYear - daysInYear(year);
        } else {
            resYear = year;
            resDayOfYear = dayOfYear;
        }

        return {
            year: resYear,
            dayOfYear: resDayOfYear,
        };
    }

    function weekOfYear(mom, dow, doy) {
        var weekOffset = firstWeekOffset(mom.year(), dow, doy),
            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,
            resWeek,
            resYear;

        if (week < 1) {
            resYear = mom.year() - 1;
            resWeek = week + weeksInYear(resYear, dow, doy);
        } else if (week > weeksInYear(mom.year(), dow, doy)) {
            resWeek = week - weeksInYear(mom.year(), dow, doy);
            resYear = mom.year() + 1;
        } else {
            resYear = mom.year();
            resWeek = week;
        }

        return {
            week: resWeek,
            year: resYear,
        };
    }

    function weeksInYear(year, dow, doy) {
        var weekOffset = firstWeekOffset(year, dow, doy),
            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);
        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;
    }


    addFormatToken('w', ['ww', 2], 'wo', 'week');
    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');


    addRegexToken('w', match1to2, match1to2NoLeadingZero);
    addRegexToken('ww', match1to2, match2);
    addRegexToken('W', match1to2, match1to2NoLeadingZero);
    addRegexToken('WW', match1to2, match2);

    addWeekParseToken(
        ['w', 'ww', 'W', 'WW'],
        function (input, week, config, token) {
            week[token.substr(0, 1)] = toInt(input);
        }
    );



    function localeWeek(mom) {
        return weekOfYear(mom, this._week.dow, this._week.doy).week;
    }

    var defaultLocaleWeek = {
        dow: 0, 
        doy: 6, 
    };

    function localeFirstDayOfWeek() {
        return this._week.dow;
    }

    function localeFirstDayOfYear() {
        return this._week.doy;
    }


    function getSetWeek(input) {
        var week = this.localeData().week(this);
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    function getSetISOWeek(input) {
        var week = weekOfYear(this, 1, 4).week;
        return input == null ? week : this.add((input - week) * 7, 'd');
    }


    addFormatToken('d', 0, 'do', 'day');

    addFormatToken('dd', 0, 0, function (format) {
        return this.localeData().weekdaysMin(this, format);
    });

    addFormatToken('ddd', 0, 0, function (format) {
        return this.localeData().weekdaysShort(this, format);
    });

    addFormatToken('dddd', 0, 0, function (format) {
        return this.localeData().weekdays(this, format);
    });

    addFormatToken('e', 0, 0, 'weekday');
    addFormatToken('E', 0, 0, 'isoWeekday');


    addRegexToken('d', match1to2);
    addRegexToken('e', match1to2);
    addRegexToken('E', match1to2);
    addRegexToken('dd', function (isStrict, locale) {
        return locale.weekdaysMinRegex(isStrict);
    });
    addRegexToken('ddd', function (isStrict, locale) {
        return locale.weekdaysShortRegex(isStrict);
    });
    addRegexToken('dddd', function (isStrict, locale) {
        return locale.weekdaysRegex(isStrict);
    });

    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {
        var weekday = config._locale.weekdaysParse(input, token, config._strict);
        if (weekday != null) {
            week.d = weekday;
        } else {
            getParsingFlags(config).invalidWeekday = input;
        }
    });

    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {
        week[token] = toInt(input);
    });


    function parseWeekday(input, locale) {
        if (typeof input !== 'string') {
            return input;
        }

        if (!isNaN(input)) {
            return parseInt(input, 10);
        }

        input = locale.weekdaysParse(input);
        if (typeof input === 'number') {
            return input;
        }

        return null;
    }

    function parseIsoWeekday(input, locale) {
        if (typeof input === 'string') {
            return locale.weekdaysParse(input) % 7 || 7;
        }
        return isNaN(input) ? null : input;
    }

    function shiftWeekdays(ws, n) {
        return ws.slice(n, 7).concat(ws.slice(0, n));
    }

    var defaultLocaleWeekdays =
            'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),
        defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),
        defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),
        defaultWeekdaysRegex = matchWord,
        defaultWeekdaysShortRegex = matchWord,
        defaultWeekdaysMinRegex = matchWord;

    function localeWeekdays(m, format) {
        var weekdays = isArray(this._weekdays)
            ? this._weekdays
            : this._weekdays[
                  m && m !== true && this._weekdays.isFormat.test(format)
                      ? 'format'
                      : 'standalone'
              ];
        return m === true
            ? shiftWeekdays(weekdays, this._week.dow)
            : m
              ? weekdays[m.day()]
              : weekdays;
    }

    function localeWeekdaysShort(m) {
        return m === true
            ? shiftWeekdays(this._weekdaysShort, this._week.dow)
            : m
              ? this._weekdaysShort[m.day()]
              : this._weekdaysShort;
    }

    function localeWeekdaysMin(m) {
        return m === true
            ? shiftWeekdays(this._weekdaysMin, this._week.dow)
            : m
              ? this._weekdaysMin[m.day()]
              : this._weekdaysMin;
    }

    function handleStrictParse$1(weekdayName, format, strict) {
        var i,
            ii,
            mom,
            llc = weekdayName.toLocaleLowerCase();
        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._minWeekdaysParse = [];

            for (i = 0; i < 7; ++i) {
                mom = createUTC([2000, 1]).day(i);
                this._minWeekdaysParse[i] = this.weekdaysMin(
                    mom,
                    ''
                ).toLocaleLowerCase();
                this._shortWeekdaysParse[i] = this.weekdaysShort(
                    mom,
                    ''
                ).toLocaleLowerCase();
                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();
            }
        }

        if (strict) {
            if (format === 'dddd') {
                ii = indexOf.call(this._weekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else if (format === 'ddd') {
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            }
        } else {
            if (format === 'dddd') {
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else if (format === 'ddd') {
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._minWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            }
        }
    }

    function localeWeekdaysParse(weekdayName, format, strict) {
        var i, mom, regex;

        if (this._weekdaysParseExact) {
            return handleStrictParse$1.call(this, weekdayName, format, strict);
        }

        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._minWeekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._fullWeekdaysParse = [];
        }

        for (i = 0; i < 7; i++) {

            mom = createUTC([2000, 1]).day(i);
            if (strict && !this._fullWeekdaysParse[i]) {
                this._fullWeekdaysParse[i] = new RegExp(
                    '^' + this.weekdays(mom, '').replace('.', '\\.?') + '$',
                    'i'
                );
                this._shortWeekdaysParse[i] = new RegExp(
                    '^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$',
                    'i'
                );
                this._minWeekdaysParse[i] = new RegExp(
                    '^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$',
                    'i'
                );
            }
            if (!this._weekdaysParse[i]) {
                regex =
                    '^' +
                    this.weekdays(mom, '') +
                    '|^' +
                    this.weekdaysShort(mom, '') +
                    '|^' +
                    this.weekdaysMin(mom, '');
                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            if (
                strict &&
                format === 'dddd' &&
                this._fullWeekdaysParse[i].test(weekdayName)
            ) {
                return i;
            } else if (
                strict &&
                format === 'ddd' &&
                this._shortWeekdaysParse[i].test(weekdayName)
            ) {
                return i;
            } else if (
                strict &&
                format === 'dd' &&
                this._minWeekdaysParse[i].test(weekdayName)
            ) {
                return i;
            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {
                return i;
            }
        }
    }


    function getSetDayOfWeek(input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }

        var day = get(this, 'Day');
        if (input != null) {
            input = parseWeekday(input, this.localeData());
            return this.add(input - day, 'd');
        } else {
            return day;
        }
    }

    function getSetLocaleDayOfWeek(input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return input == null ? weekday : this.add(input - weekday, 'd');
    }

    function getSetISODayOfWeek(input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }


        if (input != null) {
            var weekday = parseIsoWeekday(input, this.localeData());
            return this.day(this.day() % 7 ? weekday : weekday - 7);
        } else {
            return this.day() || 7;
        }
    }

    function weekdaysRegex(isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysStrictRegex;
            } else {
                return this._weekdaysRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                this._weekdaysRegex = defaultWeekdaysRegex;
            }
            return this._weekdaysStrictRegex && isStrict
                ? this._weekdaysStrictRegex
                : this._weekdaysRegex;
        }
    }

    function weekdaysShortRegex(isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysShortStrictRegex;
            } else {
                return this._weekdaysShortRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysShortRegex')) {
                this._weekdaysShortRegex = defaultWeekdaysShortRegex;
            }
            return this._weekdaysShortStrictRegex && isStrict
                ? this._weekdaysShortStrictRegex
                : this._weekdaysShortRegex;
        }
    }

    function weekdaysMinRegex(isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysMinStrictRegex;
            } else {
                return this._weekdaysMinRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysMinRegex')) {
                this._weekdaysMinRegex = defaultWeekdaysMinRegex;
            }
            return this._weekdaysMinStrictRegex && isStrict
                ? this._weekdaysMinStrictRegex
                : this._weekdaysMinRegex;
        }
    }

    function computeWeekdaysParse() {
        function cmpLenRev(a, b) {
            return b.length - a.length;
        }

        var minPieces = [],
            shortPieces = [],
            longPieces = [],
            mixedPieces = [],
            i,
            mom,
            minp,
            shortp,
            longp;
        for (i = 0; i < 7; i++) {
            mom = createUTC([2000, 1]).day(i);
            minp = regexEscape(this.weekdaysMin(mom, ''));
            shortp = regexEscape(this.weekdaysShort(mom, ''));
            longp = regexEscape(this.weekdays(mom, ''));
            minPieces.push(minp);
            shortPieces.push(shortp);
            longPieces.push(longp);
            mixedPieces.push(minp);
            mixedPieces.push(shortp);
            mixedPieces.push(longp);
        }
        minPieces.sort(cmpLenRev);
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);

        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._weekdaysShortRegex = this._weekdaysRegex;
        this._weekdaysMinRegex = this._weekdaysRegex;

        this._weekdaysStrictRegex = new RegExp(
            '^(' + longPieces.join('|') + ')',
            'i'
        );
        this._weekdaysShortStrictRegex = new RegExp(
            '^(' + shortPieces.join('|') + ')',
            'i'
        );
        this._weekdaysMinStrictRegex = new RegExp(
            '^(' + minPieces.join('|') + ')',
            'i'
        );
    }


    function hFormat() {
        return this.hours() % 12 || 12;
    }

    function kFormat() {
        return this.hours() || 24;
    }

    addFormatToken('H', ['HH', 2], 0, 'hour');
    addFormatToken('h', ['hh', 2], 0, hFormat);
    addFormatToken('k', ['kk', 2], 0, kFormat);

    addFormatToken('hmm', 0, 0, function () {
        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);
    });

    addFormatToken('hmmss', 0, 0, function () {
        return (
            '' +
            hFormat.apply(this) +
            zeroFill(this.minutes(), 2) +
            zeroFill(this.seconds(), 2)
        );
    });

    addFormatToken('Hmm', 0, 0, function () {
        return '' + this.hours() + zeroFill(this.minutes(), 2);
    });

    addFormatToken('Hmmss', 0, 0, function () {
        return (
            '' +
            this.hours() +
            zeroFill(this.minutes(), 2) +
            zeroFill(this.seconds(), 2)
        );
    });

    function meridiem(token, lowercase) {
        addFormatToken(token, 0, 0, function () {
            return this.localeData().meridiem(
                this.hours(),
                this.minutes(),
                lowercase
            );
        });
    }

    meridiem('a', true);
    meridiem('A', false);


    function matchMeridiem(isStrict, locale) {
        return locale._meridiemParse;
    }

    addRegexToken('a', matchMeridiem);
    addRegexToken('A', matchMeridiem);
    addRegexToken('H', match1to2, match1to2HasZero);
    addRegexToken('h', match1to2, match1to2NoLeadingZero);
    addRegexToken('k', match1to2, match1to2NoLeadingZero);
    addRegexToken('HH', match1to2, match2);
    addRegexToken('hh', match1to2, match2);
    addRegexToken('kk', match1to2, match2);

    addRegexToken('hmm', match3to4);
    addRegexToken('hmmss', match5to6);
    addRegexToken('Hmm', match3to4);
    addRegexToken('Hmmss', match5to6);

    addParseToken(['H', 'HH'], HOUR);
    addParseToken(['k', 'kk'], function (input, array, config) {
        var kInput = toInt(input);
        array[HOUR] = kInput === 24 ? 0 : kInput;
    });
    addParseToken(['a', 'A'], function (input, array, config) {
        config._isPm = config._locale.isPM(input);
        config._meridiem = input;
    });
    addParseToken(['h', 'hh'], function (input, array, config) {
        array[HOUR] = toInt(input);
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('hmm', function (input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('hmmss', function (input, array, config) {
        var pos1 = input.length - 4,
            pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('Hmm', function (input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
    });
    addParseToken('Hmmss', function (input, array, config) {
        var pos1 = input.length - 4,
            pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
    });


    function localeIsPM(input) {
        return (input + '').toLowerCase().charAt(0) === 'p';
    }

    var defaultLocaleMeridiemParse = /[ap]\.?m?\.?/i,
        getSetHour = makeGetSet('Hours', true);

    function localeMeridiem(hours, minutes, isLower) {
        if (hours > 11) {
            return isLower ? 'pm' : 'PM';
        } else {
            return isLower ? 'am' : 'AM';
        }
    }

    var baseConfig = {
        calendar: defaultCalendar,
        longDateFormat: defaultLongDateFormat,
        invalidDate: defaultInvalidDate,
        ordinal: defaultOrdinal,
        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,
        relativeTime: defaultRelativeTime,

        months: defaultLocaleMonths,
        monthsShort: defaultLocaleMonthsShort,

        week: defaultLocaleWeek,

        weekdays: defaultLocaleWeekdays,
        weekdaysMin: defaultLocaleWeekdaysMin,
        weekdaysShort: defaultLocaleWeekdaysShort,

        meridiemParse: defaultLocaleMeridiemParse,
    };

    var locales = {},
        localeFamilies = {},
        globalLocale;

    function commonPrefix(arr1, arr2) {
        var i,
            minl = Math.min(arr1.length, arr2.length);
        for (i = 0; i < minl; i += 1) {
            if (arr1[i] !== arr2[i]) {
                return i;
            }
        }
        return minl;
    }

    function normalizeLocale(key) {
        return key ? key.toLowerCase().replace('_', '-') : key;
    }

    function chooseLocale(names) {
        var i = 0,
            j,
            next,
            locale,
            split;

        while (i < names.length) {
            split = normalizeLocale(names[i]).split('-');
            j = split.length;
            next = normalizeLocale(names[i + 1]);
            next = next ? next.split('-') : null;
            while (j > 0) {
                locale = loadLocale(split.slice(0, j).join('-'));
                if (locale) {
                    return locale;
                }
                if (
                    next &&
                    next.length >= j &&
                    commonPrefix(split, next) >= j - 1
                ) {
                    break;
                }
                j--;
            }
            i++;
        }
        return globalLocale;
    }

    function isLocaleNameSane(name) {
        return !!(name && name.match('^[^/\\\\]*$'));
    }

    function loadLocale(name) {
        var oldLocale = null,
            aliasedRequire;
        if (
            locales[name] === undefined &&
            typeof module !== 'undefined' &&
            module &&
            module.exports &&
            isLocaleNameSane(name)
        ) {
            try {
                oldLocale = globalLocale._abbr;
                aliasedRequire = require;
                aliasedRequire('./locale/' + name);
                getSetGlobalLocale(oldLocale);
            } catch (e) {
                locales[name] = null; 
            }
        }
        return locales[name];
    }

    function getSetGlobalLocale(key, values) {
        var data;
        if (key) {
            if (isUndefined(values)) {
                data = getLocale(key);
            } else {
                data = defineLocale(key, values);
            }

            if (data) {
                globalLocale = data;
            } else {
                if (typeof console !== 'undefined' && console.warn) {
                    console.warn(
                        'Locale ' + key + ' not found. Did you forget to load it?'
                    );
                }
            }
        }

        return globalLocale._abbr;
    }

    function defineLocale(name, config) {
        if (config !== null) {
            var locale,
                parentConfig = baseConfig;
            config.abbr = name;
            if (locales[name] != null) {
                deprecateSimple(
                    'defineLocaleOverride',
                    'use moment.updateLocale(localeName, config) to change ' +
                        'an existing locale. moment.defineLocale(localeName, ' +
                        'config) should only be used for creating a new locale ' +
                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.'
                );
                parentConfig = locales[name]._config;
            } else if (config.parentLocale != null) {
                if (locales[config.parentLocale] != null) {
                    parentConfig = locales[config.parentLocale]._config;
                } else {
                    locale = loadLocale(config.parentLocale);
                    if (locale != null) {
                        parentConfig = locale._config;
                    } else {
                        if (!localeFamilies[config.parentLocale]) {
                            localeFamilies[config.parentLocale] = [];
                        }
                        localeFamilies[config.parentLocale].push({
                            name: name,
                            config: config,
                        });
                        return null;
                    }
                }
            }
            locales[name] = new Locale(mergeConfigs(parentConfig, config));

            if (localeFamilies[name]) {
                localeFamilies[name].forEach(function (x) {
                    defineLocale(x.name, x.config);
                });
            }

            getSetGlobalLocale(name);

            return locales[name];
        } else {
            delete locales[name];
            return null;
        }
    }

    function updateLocale(name, config) {
        if (config != null) {
            var locale,
                tmpLocale,
                parentConfig = baseConfig;

            if (locales[name] != null && locales[name].parentLocale != null) {
                locales[name].set(mergeConfigs(locales[name]._config, config));
            } else {
                tmpLocale = loadLocale(name);
                if (tmpLocale != null) {
                    parentConfig = tmpLocale._config;
                }
                config = mergeConfigs(parentConfig, config);
                if (tmpLocale == null) {
                    config.abbr = name;
                }
                locale = new Locale(config);
                locale.parentLocale = locales[name];
                locales[name] = locale;
            }

            getSetGlobalLocale(name);
        } else {
            if (locales[name] != null) {
                if (locales[name].parentLocale != null) {
                    locales[name] = locales[name].parentLocale;
                    if (name === getSetGlobalLocale()) {
                        getSetGlobalLocale(name);
                    }
                } else if (locales[name] != null) {
                    delete locales[name];
                }
            }
        }
        return locales[name];
    }

    function getLocale(key) {
        var locale;

        if (key && key._locale && key._locale._abbr) {
            key = key._locale._abbr;
        }

        if (!key) {
            return globalLocale;
        }

        if (!isArray(key)) {
            locale = loadLocale(key);
            if (locale) {
                return locale;
            }
            key = [key];
        }

        return chooseLocale(key);
    }

    function listLocales() {
        return keys(locales);
    }

    function checkOverflow(m) {
        var overflow,
            a = m._a;

        if (a && getParsingFlags(m).overflow === -2) {
            overflow =
                a[MONTH] < 0 || a[MONTH] > 11
                    ? MONTH
                    : a[DATE] < 1 || a[DATE] > daysInMonth(a[YEAR], a[MONTH])
                      ? DATE
                      : a[HOUR] < 0 ||
                          a[HOUR] > 24 ||
                          (a[HOUR] === 24 &&
                              (a[MINUTE] !== 0 ||
                                  a[SECOND] !== 0 ||
                                  a[MILLISECOND] !== 0))
                        ? HOUR
                        : a[MINUTE] < 0 || a[MINUTE] > 59
                          ? MINUTE
                          : a[SECOND] < 0 || a[SECOND] > 59
                            ? SECOND
                            : a[MILLISECOND] < 0 || a[MILLISECOND] > 999
                              ? MILLISECOND
                              : -1;

            if (
                getParsingFlags(m)._overflowDayOfYear &&
                (overflow < YEAR || overflow > DATE)
            ) {
                overflow = DATE;
            }
            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {
                overflow = WEEK;
            }
            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {
                overflow = WEEKDAY;
            }

            getParsingFlags(m).overflow = overflow;
        }

        return m;
    }

    var extendedIsoRegex =
            /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
        basicIsoRegex =
            /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
        tzRegex = /Z|[+-]\d\d(?::?\d\d)?/,
        isoDates = [
            ['YYYYYY-MM-DD', /[+-]\d{6}-\d\d-\d\d/],
            ['YYYY-MM-DD', /\d{4}-\d\d-\d\d/],
            ['GGGG-[W]WW-E', /\d{4}-W\d\d-\d/],
            ['GGGG-[W]WW', /\d{4}-W\d\d/, false],
            ['YYYY-DDD', /\d{4}-\d{3}/],
            ['YYYY-MM', /\d{4}-\d\d/, false],
            ['YYYYYYMMDD', /[+-]\d{10}/],
            ['YYYYMMDD', /\d{8}/],
            ['GGGG[W]WWE', /\d{4}W\d{3}/],
            ['GGGG[W]WW', /\d{4}W\d{2}/, false],
            ['YYYYDDD', /\d{7}/],
            ['YYYYMM', /\d{6}/, false],
            ['YYYY', /\d{4}/, false],
        ],
        isoTimes = [
            ['HH:mm:ss.SSSS', /\d\d:\d\d:\d\d\.\d+/],
            ['HH:mm:ss,SSSS', /\d\d:\d\d:\d\d,\d+/],
            ['HH:mm:ss', /\d\d:\d\d:\d\d/],
            ['HH:mm', /\d\d:\d\d/],
            ['HHmmss.SSSS', /\d\d\d\d\d\d\.\d+/],
            ['HHmmss,SSSS', /\d\d\d\d\d\d,\d+/],
            ['HHmmss', /\d\d\d\d\d\d/],
            ['HHmm', /\d\d\d\d/],
            ['HH', /\d\d/],
        ],
        aspNetJsonRegex = /^\/?Date\((-?\d+)/i,
        rfc2822 =
            /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,
        obsOffsets = {
            UT: 0,
            GMT: 0,
            EDT: -4 * 60,
            EST: -5 * 60,
            CDT: -5 * 60,
            CST: -6 * 60,
            MDT: -6 * 60,
            MST: -7 * 60,
            PDT: -7 * 60,
            PST: -8 * 60,
        };

    function configFromISO(config) {
        var i,
            l,
            string = config._i,
            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),
            allowTime,
            dateFormat,
            timeFormat,
            tzFormat,
            isoDatesLen = isoDates.length,
            isoTimesLen = isoTimes.length;

        if (match) {
            getParsingFlags(config).iso = true;
            for (i = 0, l = isoDatesLen; i < l; i++) {
                if (isoDates[i][1].exec(match[1])) {
                    dateFormat = isoDates[i][0];
                    allowTime = isoDates[i][2] !== false;
                    break;
                }
            }
            if (dateFormat == null) {
                config._isValid = false;
                return;
            }
            if (match[3]) {
                for (i = 0, l = isoTimesLen; i < l; i++) {
                    if (isoTimes[i][1].exec(match[3])) {
                        timeFormat = (match[2] || ' ') + isoTimes[i][0];
                        break;
                    }
                }
                if (timeFormat == null) {
                    config._isValid = false;
                    return;
                }
            }
            if (!allowTime && timeFormat != null) {
                config._isValid = false;
                return;
            }
            if (match[4]) {
                if (tzRegex.exec(match[4])) {
                    tzFormat = 'Z';
                } else {
                    config._isValid = false;
                    return;
                }
            }
            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');
            configFromStringAndFormat(config);
        } else {
            config._isValid = false;
        }
    }

    function extractFromRFC2822Strings(
        yearStr,
        monthStr,
        dayStr,
        hourStr,
        minuteStr,
        secondStr
    ) {
        var result = [
            untruncateYear(yearStr),
            defaultLocaleMonthsShort.indexOf(monthStr),
            parseInt(dayStr, 10),
            parseInt(hourStr, 10),
            parseInt(minuteStr, 10),
        ];

        if (secondStr) {
            result.push(parseInt(secondStr, 10));
        }

        return result;
    }

    function untruncateYear(yearStr) {
        var year = parseInt(yearStr, 10);
        if (year <= 49) {
            return 2000 + year;
        } else if (year <= 999) {
            return 1900 + year;
        }
        return year;
    }

    function preprocessRFC2822(s) {
        return s
            .replace(/\([^()]*\)|[\n\t]/g, ' ')
            .replace(/(\s\s+)/g, ' ')
            .replace(/^\s\s*/, '')
            .replace(/\s\s*$/, '');
    }

    function checkWeekday(weekdayStr, parsedInput, config) {
        if (weekdayStr) {
            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),
                weekdayActual = new Date(
                    parsedInput[0],
                    parsedInput[1],
                    parsedInput[2]
                ).getDay();
            if (weekdayProvided !== weekdayActual) {
                getParsingFlags(config).weekdayMismatch = true;
                config._isValid = false;
                return false;
            }
        }
        return true;
    }

    function calculateOffset(obsOffset, militaryOffset, numOffset) {
        if (obsOffset) {
            return obsOffsets[obsOffset];
        } else if (militaryOffset) {
            return 0;
        } else {
            var hm = parseInt(numOffset, 10),
                m = hm % 100,
                h = (hm - m) / 100;
            return h * 60 + m;
        }
    }

    function configFromRFC2822(config) {
        var match = rfc2822.exec(preprocessRFC2822(config._i)),
            parsedArray;
        if (match) {
            parsedArray = extractFromRFC2822Strings(
                match[4],
                match[3],
                match[2],
                match[5],
                match[6],
                match[7]
            );
            if (!checkWeekday(match[1], parsedArray, config)) {
                return;
            }

            config._a = parsedArray;
            config._tzm = calculateOffset(match[8], match[9], match[10]);

            config._d = createUTCDate.apply(null, config._a);
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);

            getParsingFlags(config).rfc2822 = true;
        } else {
            config._isValid = false;
        }
    }

    function configFromString(config) {
        var matched = aspNetJsonRegex.exec(config._i);
        if (matched !== null) {
            config._d = new Date(+matched[1]);
            return;
        }

        configFromISO(config);
        if (config._isValid === false) {
            delete config._isValid;
        } else {
            return;
        }

        configFromRFC2822(config);
        if (config._isValid === false) {
            delete config._isValid;
        } else {
            return;
        }

        if (config._strict) {
            config._isValid = false;
        } else {
            hooks.createFromInputFallback(config);
        }
    }

    hooks.createFromInputFallback = deprecate(
        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +
            'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +
            'discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.',
        function (config) {
            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));
        }
    );

    function defaults(a, b, c) {
        if (a != null) {
            return a;
        }
        if (b != null) {
            return b;
        }
        return c;
    }

    function currentDateArray(config) {
        var nowValue = new Date(hooks.now());
        if (config._useUTC) {
            return [
                nowValue.getUTCFullYear(),
                nowValue.getUTCMonth(),
                nowValue.getUTCDate(),
            ];
        }
        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];
    }

    function configFromArray(config) {
        var i,
            date,
            input = [],
            currentDate,
            expectedWeekday,
            yearToUse;

        if (config._d) {
            return;
        }

        currentDate = currentDateArray(config);

        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
            dayOfYearFromWeekInfo(config);
        }

        if (config._dayOfYear != null) {
            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);

            if (
                config._dayOfYear > daysInYear(yearToUse) ||
                config._dayOfYear === 0
            ) {
                getParsingFlags(config)._overflowDayOfYear = true;
            }

            date = createUTCDate(yearToUse, 0, config._dayOfYear);
            config._a[MONTH] = date.getUTCMonth();
            config._a[DATE] = date.getUTCDate();
        }

        for (i = 0; i < 3 && config._a[i] == null; ++i) {
            config._a[i] = input[i] = currentDate[i];
        }

        for (; i < 7; i++) {
            config._a[i] = input[i] =
                config._a[i] == null ? (i === 2 ? 1 : 0) : config._a[i];
        }

        if (
            config._a[HOUR] === 24 &&
            config._a[MINUTE] === 0 &&
            config._a[SECOND] === 0 &&
            config._a[MILLISECOND] === 0
        ) {
            config._nextDay = true;
            config._a[HOUR] = 0;
        }

        config._d = (config._useUTC ? createUTCDate : createDate).apply(
            null,
            input
        );
        expectedWeekday = config._useUTC
            ? config._d.getUTCDay()
            : config._d.getDay();

        if (config._tzm != null) {
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
        }

        if (config._nextDay) {
            config._a[HOUR] = 24;
        }

        if (
            config._w &&
            typeof config._w.d !== 'undefined' &&
            config._w.d !== expectedWeekday
        ) {
            getParsingFlags(config).weekdayMismatch = true;
        }
    }

    function dayOfYearFromWeekInfo(config) {
        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow, curWeek;

        w = config._w;
        if (w.GG != null || w.W != null || w.E != null) {
            dow = 1;
            doy = 4;

            weekYear = defaults(
                w.GG,
                config._a[YEAR],
                weekOfYear(createLocal(), 1, 4).year
            );
            week = defaults(w.W, 1);
            weekday = defaults(w.E, 1);
            if (weekday < 1 || weekday > 7) {
                weekdayOverflow = true;
            }
        } else {
            dow = config._locale._week.dow;
            doy = config._locale._week.doy;

            curWeek = weekOfYear(createLocal(), dow, doy);

            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);

            week = defaults(w.w, curWeek.week);

            if (w.d != null) {
                weekday = w.d;
                if (weekday < 0 || weekday > 6) {
                    weekdayOverflow = true;
                }
            } else if (w.e != null) {
                weekday = w.e + dow;
                if (w.e < 0 || w.e > 6) {
                    weekdayOverflow = true;
                }
            } else {
                weekday = dow;
            }
        }
        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {
            getParsingFlags(config)._overflowWeeks = true;
        } else if (weekdayOverflow != null) {
            getParsingFlags(config)._overflowWeekday = true;
        } else {
            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);
            config._a[YEAR] = temp.year;
            config._dayOfYear = temp.dayOfYear;
        }
    }

    hooks.ISO_8601 = function () {};

    hooks.RFC_2822 = function () {};

    function configFromStringAndFormat(config) {
        if (config._f === hooks.ISO_8601) {
            configFromISO(config);
            return;
        }
        if (config._f === hooks.RFC_2822) {
            configFromRFC2822(config);
            return;
        }
        config._a = [];
        getParsingFlags(config).empty = true;

        var string = '' + config._i,
            i,
            parsedInput,
            tokens,
            token,
            skipped,
            stringLength = string.length,
            totalParsedInputLength = 0,
            era,
            tokenLen;

        tokens =
            expandFormat(config._f, config._locale).match(formattingTokens) || [];
        tokenLen = tokens.length;
        for (i = 0; i < tokenLen; i++) {
            token = tokens[i];
            parsedInput = (string.match(getParseRegexForToken(token, config)) ||
                [])[0];
            if (parsedInput) {
                skipped = string.substr(0, string.indexOf(parsedInput));
                if (skipped.length > 0) {
                    getParsingFlags(config).unusedInput.push(skipped);
                }
                string = string.slice(
                    string.indexOf(parsedInput) + parsedInput.length
                );
                totalParsedInputLength += parsedInput.length;
            }
            if (formatTokenFunctions[token]) {
                if (parsedInput) {
                    getParsingFlags(config).empty = false;
                } else {
                    getParsingFlags(config).unusedTokens.push(token);
                }
                addTimeToArrayFromToken(token, parsedInput, config);
            } else if (config._strict && !parsedInput) {
                getParsingFlags(config).unusedTokens.push(token);
            }
        }

        getParsingFlags(config).charsLeftOver =
            stringLength - totalParsedInputLength;
        if (string.length > 0) {
            getParsingFlags(config).unusedInput.push(string);
        }

        if (
            config._a[HOUR] <= 12 &&
            getParsingFlags(config).bigHour === true &&
            config._a[HOUR] > 0
        ) {
            getParsingFlags(config).bigHour = undefined;
        }

        getParsingFlags(config).parsedDateParts = config._a.slice(0);
        getParsingFlags(config).meridiem = config._meridiem;
        config._a[HOUR] = meridiemFixWrap(
            config._locale,
            config._a[HOUR],
            config._meridiem
        );

        era = getParsingFlags(config).era;
        if (era !== null) {
            config._a[YEAR] = config._locale.erasConvertYear(era, config._a[YEAR]);
        }

        configFromArray(config);
        checkOverflow(config);
    }

    function meridiemFixWrap(locale, hour, meridiem) {
        var isPm;

        if (meridiem == null) {
            return hour;
        }
        if (locale.meridiemHour != null) {
            return locale.meridiemHour(hour, meridiem);
        } else if (locale.isPM != null) {
            isPm = locale.isPM(meridiem);
            if (isPm && hour < 12) {
                hour += 12;
            }
            if (!isPm && hour === 12) {
                hour = 0;
            }
            return hour;
        } else {
            return hour;
        }
    }

    function configFromStringAndArray(config) {
        var tempConfig,
            bestMoment,
            scoreToBeat,
            i,
            currentScore,
            validFormatFound,
            bestFormatIsValid = false,
            configfLen = config._f.length;

        if (configfLen === 0) {
            getParsingFlags(config).invalidFormat = true;
            config._d = new Date(NaN);
            return;
        }

        for (i = 0; i < configfLen; i++) {
            currentScore = 0;
            validFormatFound = false;
            tempConfig = copyConfig({}, config);
            if (config._useUTC != null) {
                tempConfig._useUTC = config._useUTC;
            }
            tempConfig._f = config._f[i];
            configFromStringAndFormat(tempConfig);

            if (isValid(tempConfig)) {
                validFormatFound = true;
            }

            currentScore += getParsingFlags(tempConfig).charsLeftOver;

            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;

            getParsingFlags(tempConfig).score = currentScore;

            if (!bestFormatIsValid) {
                if (
                    scoreToBeat == null ||
                    currentScore < scoreToBeat ||
                    validFormatFound
                ) {
                    scoreToBeat = currentScore;
                    bestMoment = tempConfig;
                    if (validFormatFound) {
                        bestFormatIsValid = true;
                    }
                }
            } else {
                if (currentScore < scoreToBeat) {
                    scoreToBeat = currentScore;
                    bestMoment = tempConfig;
                }
            }
        }

        extend(config, bestMoment || tempConfig);
    }

    function configFromObject(config) {
        if (config._d) {
            return;
        }

        var i = normalizeObjectUnits(config._i),
            dayOrDate = i.day === undefined ? i.date : i.day;
        config._a = map(
            [i.year, i.month, dayOrDate, i.hour, i.minute, i.second, i.millisecond],
            function (obj) {
                return obj && parseInt(obj, 10);
            }
        );

        configFromArray(config);
    }

    function createFromConfig(config) {
        var res = new Moment(checkOverflow(prepareConfig(config)));
        if (res._nextDay) {
            res.add(1, 'd');
            res._nextDay = undefined;
        }

        return res;
    }

    function prepareConfig(config) {
        var input = config._i,
            format = config._f;

        config._locale = config._locale || getLocale(config._l);

        if (input === null || (format === undefined && input === '')) {
            return createInvalid({ nullInput: true });
        }

        if (typeof input === 'string') {
            config._i = input = config._locale.preparse(input);
        }

        if (isMoment(input)) {
            return new Moment(checkOverflow(input));
        } else if (isDate(input)) {
            config._d = input;
        } else if (isArray(format)) {
            configFromStringAndArray(config);
        } else if (format) {
            configFromStringAndFormat(config);
        } else {
            configFromInput(config);
        }

        if (!isValid(config)) {
            config._d = null;
        }

        return config;
    }

    function configFromInput(config) {
        var input = config._i;
        if (isUndefined(input)) {
            config._d = new Date(hooks.now());
        } else if (isDate(input)) {
            config._d = new Date(input.valueOf());
        } else if (typeof input === 'string') {
            configFromString(config);
        } else if (isArray(input)) {
            config._a = map(input.slice(0), function (obj) {
                return parseInt(obj, 10);
            });
            configFromArray(config);
        } else if (isObject(input)) {
            configFromObject(config);
        } else if (isNumber(input)) {
            config._d = new Date(input);
        } else {
            hooks.createFromInputFallback(config);
        }
    }

    function createLocalOrUTC(input, format, locale, strict, isUTC) {
        var c = {};

        if (format === true || format === false) {
            strict = format;
            format = undefined;
        }

        if (locale === true || locale === false) {
            strict = locale;
            locale = undefined;
        }

        if (
            (isObject(input) && isObjectEmpty(input)) ||
            (isArray(input) && input.length === 0)
        ) {
            input = undefined;
        }
        c._isAMomentObject = true;
        c._useUTC = c._isUTC = isUTC;
        c._l = locale;
        c._i = input;
        c._f = format;
        c._strict = strict;

        return createFromConfig(c);
    }

    function createLocal(input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, false);
    }

    var prototypeMin = deprecate(
            'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',
            function () {
                var other = createLocal.apply(null, arguments);
                if (this.isValid() && other.isValid()) {
                    return other < this ? this : other;
                } else {
                    return createInvalid();
                }
            }
        ),
        prototypeMax = deprecate(
            'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',
            function () {
                var other = createLocal.apply(null, arguments);
                if (this.isValid() && other.isValid()) {
                    return other > this ? this : other;
                } else {
                    return createInvalid();
                }
            }
        );

    function pickBy(fn, moments) {
        var res, i;
        if (moments.length === 1 && isArray(moments[0])) {
            moments = moments[0];
        }
        if (!moments.length) {
            return createLocal();
        }
        res = moments[0];
        for (i = 1; i < moments.length; ++i) {
            if (!moments[i].isValid() || moments[i][fn](res)) {
                res = moments[i];
            }
        }
        return res;
    }

    function min() {
        var args = [].slice.call(arguments, 0);

        return pickBy('isBefore', args);
    }

    function max() {
        var args = [].slice.call(arguments, 0);

        return pickBy('isAfter', args);
    }

    var now = function () {
        return Date.now ? Date.now() : +new Date();
    };

    var ordering = [
        'year',
        'quarter',
        'month',
        'week',
        'day',
        'hour',
        'minute',
        'second',
        'millisecond',
    ];

    function isDurationValid(m) {
        var key,
            unitHasDecimal = false,
            i,
            orderLen = ordering.length;
        for (key in m) {
            if (
                hasOwnProp(m, key) &&
                !(
                    indexOf.call(ordering, key) !== -1 &&
                    (m[key] == null || !isNaN(m[key]))
                )
            ) {
                return false;
            }
        }

        for (i = 0; i < orderLen; ++i) {
            if (m[ordering[i]]) {
                if (unitHasDecimal) {
                    return false; 
                }
                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {
                    unitHasDecimal = true;
                }
            }
        }

        return true;
    }

    function isValid$1() {
        return this._isValid;
    }

    function createInvalid$1() {
        return createDuration(NaN);
    }

    function Duration(duration) {
        var normalizedInput = normalizeObjectUnits(duration),
            years = normalizedInput.year || 0,
            quarters = normalizedInput.quarter || 0,
            months = normalizedInput.month || 0,
            weeks = normalizedInput.week || normalizedInput.isoWeek || 0,
            days = normalizedInput.day || 0,
            hours = normalizedInput.hour || 0,
            minutes = normalizedInput.minute || 0,
            seconds = normalizedInput.second || 0,
            milliseconds = normalizedInput.millisecond || 0;

        this._isValid = isDurationValid(normalizedInput);

        this._milliseconds =
            +milliseconds +
            seconds * 1e3 + 
            minutes * 6e4 + 
            hours * 1000 * 60 * 60; 
        this._days = +days + weeks * 7;
        this._months = +months + quarters * 3 + years * 12;

        this._data = {};

        this._locale = getLocale();

        this._bubble();
    }

    function isDuration(obj) {
        return obj instanceof Duration;
    }

    function absRound(number) {
        if (number < 0) {
            return Math.round(-1 * number) * -1;
        } else {
            return Math.round(number);
        }
    }

    function compareArrays(array1, array2, dontConvert) {
        var len = Math.min(array1.length, array2.length),
            lengthDiff = Math.abs(array1.length - array2.length),
            diffs = 0,
            i;
        for (i = 0; i < len; i++) {
            if (
                (dontConvert && array1[i] !== array2[i]) ||
                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))
            ) {
                diffs++;
            }
        }
        return diffs + lengthDiff;
    }


    function offset(token, separator) {
        addFormatToken(token, 0, 0, function () {
            var offset = this.utcOffset(),
                sign = '+';
            if (offset < 0) {
                offset = -offset;
                sign = '-';
            }
            return (
                sign +
                zeroFill(~~(offset / 60), 2) +
                separator +
                zeroFill(~~offset % 60, 2)
            );
        });
    }

    offset('Z', ':');
    offset('ZZ', '');


    addRegexToken('Z', matchShortOffset);
    addRegexToken('ZZ', matchShortOffset);
    addParseToken(['Z', 'ZZ'], function (input, array, config) {
        config._useUTC = true;
        config._tzm = offsetFromString(matchShortOffset, input);
    });


    var chunkOffset = /([\+\-]|\d\d)/gi;

    function offsetFromString(matcher, string) {
        var matches = (string || '').match(matcher),
            chunk,
            parts,
            minutes;

        if (matches === null) {
            return null;
        }

        chunk = matches[matches.length - 1] || [];
        parts = (chunk + '').match(chunkOffset) || ['-', 0, 0];
        minutes = +(parts[1] * 60) + toInt(parts[2]);

        return minutes === 0 ? 0 : parts[0] === '+' ? minutes : -minutes;
    }

    function cloneWithOffset(input, model) {
        var res, diff;
        if (model._isUTC) {
            res = model.clone();
            diff =
                (isMoment(input) || isDate(input)
                    ? input.valueOf()
                    : createLocal(input).valueOf()) - res.valueOf();
            res._d.setTime(res._d.valueOf() + diff);
            hooks.updateOffset(res, false);
            return res;
        } else {
            return createLocal(input).local();
        }
    }

    function getDateOffset(m) {
        return -Math.round(m._d.getTimezoneOffset());
    }


    hooks.updateOffset = function () {};


    function getSetOffset(input, keepLocalTime, keepMinutes) {
        var offset = this._offset || 0,
            localAdjust;
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        if (input != null) {
            if (typeof input === 'string') {
                input = offsetFromString(matchShortOffset, input);
                if (input === null) {
                    return this;
                }
            } else if (Math.abs(input) < 16 && !keepMinutes) {
                input = input * 60;
            }
            if (!this._isUTC && keepLocalTime) {
                localAdjust = getDateOffset(this);
            }
            this._offset = input;
            this._isUTC = true;
            if (localAdjust != null) {
                this.add(localAdjust, 'm');
            }
            if (offset !== input) {
                if (!keepLocalTime || this._changeInProgress) {
                    addSubtract(
                        this,
                        createDuration(input - offset, 'm'),
                        1,
                        false
                    );
                } else if (!this._changeInProgress) {
                    this._changeInProgress = true;
                    hooks.updateOffset(this, true);
                    this._changeInProgress = null;
                }
            }
            return this;
        } else {
            return this._isUTC ? offset : getDateOffset(this);
        }
    }

    function getSetZone(input, keepLocalTime) {
        if (input != null) {
            if (typeof input !== 'string') {
                input = -input;
            }

            this.utcOffset(input, keepLocalTime);

            return this;
        } else {
            return -this.utcOffset();
        }
    }

    function setOffsetToUTC(keepLocalTime) {
        return this.utcOffset(0, keepLocalTime);
    }

    function setOffsetToLocal(keepLocalTime) {
        if (this._isUTC) {
            this.utcOffset(0, keepLocalTime);
            this._isUTC = false;

            if (keepLocalTime) {
                this.subtract(getDateOffset(this), 'm');
            }
        }
        return this;
    }

    function setOffsetToParsedOffset() {
        if (this._tzm != null) {
            this.utcOffset(this._tzm, false, true);
        } else if (typeof this._i === 'string') {
            var tZone = offsetFromString(matchOffset, this._i);
            if (tZone != null) {
                this.utcOffset(tZone);
            } else {
                this.utcOffset(0, true);
            }
        }
        return this;
    }

    function hasAlignedHourOffset(input) {
        if (!this.isValid()) {
            return false;
        }
        input = input ? createLocal(input).utcOffset() : 0;

        return (this.utcOffset() - input) % 60 === 0;
    }

    function isDaylightSavingTime() {
        return (
            this.utcOffset() > this.clone().month(0).utcOffset() ||
            this.utcOffset() > this.clone().month(5).utcOffset()
        );
    }

    function isDaylightSavingTimeShifted() {
        if (!isUndefined(this._isDSTShifted)) {
            return this._isDSTShifted;
        }

        var c = {},
            other;

        copyConfig(c, this);
        c = prepareConfig(c);

        if (c._a) {
            other = c._isUTC ? createUTC(c._a) : createLocal(c._a);
            this._isDSTShifted =
                this.isValid() && compareArrays(c._a, other.toArray()) > 0;
        } else {
            this._isDSTShifted = false;
        }

        return this._isDSTShifted;
    }

    function isLocal() {
        return this.isValid() ? !this._isUTC : false;
    }

    function isUtcOffset() {
        return this.isValid() ? this._isUTC : false;
    }

    function isUtc() {
        return this.isValid() ? this._isUTC && this._offset === 0 : false;
    }

    var aspNetRegex = /^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,
        isoRegex =
            /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;

    function createDuration(input, key) {
        var duration = input,
            match = null,
            sign,
            ret,
            diffRes;

        if (isDuration(input)) {
            duration = {
                ms: input._milliseconds,
                d: input._days,
                M: input._months,
            };
        } else if (isNumber(input) || !isNaN(+input)) {
            duration = {};
            if (key) {
                duration[key] = +input;
            } else {
                duration.milliseconds = +input;
            }
        } else if ((match = aspNetRegex.exec(input))) {
            sign = match[1] === '-' ? -1 : 1;
            duration = {
                y: 0,
                d: toInt(match[DATE]) * sign,
                h: toInt(match[HOUR]) * sign,
                m: toInt(match[MINUTE]) * sign,
                s: toInt(match[SECOND]) * sign,
                ms: toInt(absRound(match[MILLISECOND] * 1000)) * sign, 
            };
        } else if ((match = isoRegex.exec(input))) {
            sign = match[1] === '-' ? -1 : 1;
            duration = {
                y: parseIso(match[2], sign),
                M: parseIso(match[3], sign),
                w: parseIso(match[4], sign),
                d: parseIso(match[5], sign),
                h: parseIso(match[6], sign),
                m: parseIso(match[7], sign),
                s: parseIso(match[8], sign),
            };
        } else if (duration == null) {
            duration = {};
        } else if (
            typeof duration === 'object' &&
            ('from' in duration || 'to' in duration)
        ) {
            diffRes = momentsDifference(
                createLocal(duration.from),
                createLocal(duration.to)
            );

            duration = {};
            duration.ms = diffRes.milliseconds;
            duration.M = diffRes.months;
        }

        ret = new Duration(duration);

        if (isDuration(input) && hasOwnProp(input, '_locale')) {
            ret._locale = input._locale;
        }

        if (isDuration(input) && hasOwnProp(input, '_isValid')) {
            ret._isValid = input._isValid;
        }

        return ret;
    }

    createDuration.fn = Duration.prototype;
    createDuration.invalid = createInvalid$1;

    function parseIso(inp, sign) {
        var res = inp && parseFloat(inp.replace(',', '.'));
        return (isNaN(res) ? 0 : res) * sign;
    }

    function positiveMomentsDifference(base, other) {
        var res = {};

        res.months =
            other.month() - base.month() + (other.year() - base.year()) * 12;
        if (base.clone().add(res.months, 'M').isAfter(other)) {
            --res.months;
        }

        res.milliseconds = +other - +base.clone().add(res.months, 'M');

        return res;
    }

    function momentsDifference(base, other) {
        var res;
        if (!(base.isValid() && other.isValid())) {
            return { milliseconds: 0, months: 0 };
        }

        other = cloneWithOffset(other, base);
        if (base.isBefore(other)) {
            res = positiveMomentsDifference(base, other);
        } else {
            res = positiveMomentsDifference(other, base);
            res.milliseconds = -res.milliseconds;
            res.months = -res.months;
        }

        return res;
    }

    function createAdder(direction, name) {
        return function (val, period) {
            var dur, tmp;
            if (period !== null && !isNaN(+period)) {
                deprecateSimple(
                    name,
                    'moment().' +
                        name +
                        '(period, number) is deprecated. Please use moment().' +
                        name +
                        '(number, period). ' +
                        'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.'
                );
                tmp = val;
                val = period;
                period = tmp;
            }

            dur = createDuration(val, period);
            addSubtract(this, dur, direction);
            return this;
        };
    }

    function addSubtract(mom, duration, isAdding, updateOffset) {
        var milliseconds = duration._milliseconds,
            days = absRound(duration._days),
            months = absRound(duration._months);

        if (!mom.isValid()) {
            return;
        }

        updateOffset = updateOffset == null ? true : updateOffset;

        if (months) {
            setMonth(mom, get(mom, 'Month') + months * isAdding);
        }
        if (days) {
            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);
        }
        if (milliseconds) {
            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);
        }
        if (updateOffset) {
            hooks.updateOffset(mom, days || months);
        }
    }

    var add = createAdder(1, 'add'),
        subtract = createAdder(-1, 'subtract');

    function isString(input) {
        return typeof input === 'string' || input instanceof String;
    }

    function isMomentInput(input) {
        return (
            isMoment(input) ||
            isDate(input) ||
            isString(input) ||
            isNumber(input) ||
            isNumberOrStringArray(input) ||
            isMomentInputObject(input) ||
            input === null ||
            input === undefined
        );
    }

    function isMomentInputObject(input) {
        var objectTest = isObject(input) && !isObjectEmpty(input),
            propertyTest = false,
            properties = [
                'years',
                'year',
                'y',
                'months',
                'month',
                'M',
                'days',
                'day',
                'd',
                'dates',
                'date',
                'D',
                'hours',
                'hour',
                'h',
                'minutes',
                'minute',
                'm',
                'seconds',
                'second',
                's',
                'milliseconds',
                'millisecond',
                'ms',
            ],
            i,
            property,
            propertyLen = properties.length;

        for (i = 0; i < propertyLen; i += 1) {
            property = properties[i];
            propertyTest = propertyTest || hasOwnProp(input, property);
        }

        return objectTest && propertyTest;
    }

    function isNumberOrStringArray(input) {
        var arrayTest = isArray(input),
            dataTypeTest = false;
        if (arrayTest) {
            dataTypeTest =
                input.filter(function (item) {
                    return !isNumber(item) && isString(input);
                }).length === 0;
        }
        return arrayTest && dataTypeTest;
    }

    function isCalendarSpec(input) {
        var objectTest = isObject(input) && !isObjectEmpty(input),
            propertyTest = false,
            properties = [
                'sameDay',
                'nextDay',
                'lastDay',
                'nextWeek',
                'lastWeek',
                'sameElse',
            ],
            i,
            property;

        for (i = 0; i < properties.length; i += 1) {
            property = properties[i];
            propertyTest = propertyTest || hasOwnProp(input, property);
        }

        return objectTest && propertyTest;
    }

    function getCalendarFormat(myMoment, now) {
        var diff = myMoment.diff(now, 'days', true);
        return diff < -6
            ? 'sameElse'
            : diff < -1
              ? 'lastWeek'
              : diff < 0
                ? 'lastDay'
                : diff < 1
                  ? 'sameDay'
                  : diff < 2
                    ? 'nextDay'
                    : diff < 7
                      ? 'nextWeek'
                      : 'sameElse';
    }

    function calendar$1(time, formats) {
        if (arguments.length === 1) {
            if (!arguments[0]) {
                time = undefined;
                formats = undefined;
            } else if (isMomentInput(arguments[0])) {
                time = arguments[0];
                formats = undefined;
            } else if (isCalendarSpec(arguments[0])) {
                formats = arguments[0];
                time = undefined;
            }
        }
        var now = time || createLocal(),
            sod = cloneWithOffset(now, this).startOf('day'),
            format = hooks.calendarFormat(this, sod) || 'sameElse',
            output =
                formats &&
                (isFunction(formats[format])
                    ? formats[format].call(this, now)
                    : formats[format]);

        return this.format(
            output || this.localeData().calendar(format, this, createLocal(now))
        );
    }

    function clone() {
        return new Moment(this);
    }

    function isAfter(input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units) || 'millisecond';
        if (units === 'millisecond') {
            return this.valueOf() > localInput.valueOf();
        } else {
            return localInput.valueOf() < this.clone().startOf(units).valueOf();
        }
    }

    function isBefore(input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units) || 'millisecond';
        if (units === 'millisecond') {
            return this.valueOf() < localInput.valueOf();
        } else {
            return this.clone().endOf(units).valueOf() < localInput.valueOf();
        }
    }

    function isBetween(from, to, units, inclusivity) {
        var localFrom = isMoment(from) ? from : createLocal(from),
            localTo = isMoment(to) ? to : createLocal(to);
        if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {
            return false;
        }
        inclusivity = inclusivity || '()';
        return (
            (inclusivity[0] === '('
                ? this.isAfter(localFrom, units)
                : !this.isBefore(localFrom, units)) &&
            (inclusivity[1] === ')'
                ? this.isBefore(localTo, units)
                : !this.isAfter(localTo, units))
        );
    }

    function isSame(input, units) {
        var localInput = isMoment(input) ? input : createLocal(input),
            inputMs;
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units) || 'millisecond';
        if (units === 'millisecond') {
            return this.valueOf() === localInput.valueOf();
        } else {
            inputMs = localInput.valueOf();
            return (
                this.clone().startOf(units).valueOf() <= inputMs &&
                inputMs <= this.clone().endOf(units).valueOf()
            );
        }
    }

    function isSameOrAfter(input, units) {
        return this.isSame(input, units) || this.isAfter(input, units);
    }

    function isSameOrBefore(input, units) {
        return this.isSame(input, units) || this.isBefore(input, units);
    }

    function diff(input, units, asFloat) {
        var that, zoneDelta, output;

        if (!this.isValid()) {
            return NaN;
        }

        that = cloneWithOffset(input, this);

        if (!that.isValid()) {
            return NaN;
        }

        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;

        units = normalizeUnits(units);

        switch (units) {
            case 'year':
                output = monthDiff(this, that) / 12;
                break;
            case 'month':
                output = monthDiff(this, that);
                break;
            case 'quarter':
                output = monthDiff(this, that) / 3;
                break;
            case 'second':
                output = (this - that) / 1e3;
                break; 
            case 'minute':
                output = (this - that) / 6e4;
                break; 
            case 'hour':
                output = (this - that) / 36e5;
                break; 
            case 'day':
                output = (this - that - zoneDelta) / 864e5;
                break; 
            case 'week':
                output = (this - that - zoneDelta) / 6048e5;
                break; 
            default:
                output = this - that;
        }

        return asFloat ? output : absFloor(output);
    }

    function monthDiff(a, b) {
        if (a.date() < b.date()) {
            return -monthDiff(b, a);
        }
        var wholeMonthDiff = (b.year() - a.year()) * 12 + (b.month() - a.month()),
            anchor = a.clone().add(wholeMonthDiff, 'months'),
            anchor2,
            adjust;

        if (b - anchor < 0) {
            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');
            adjust = (b - anchor) / (anchor - anchor2);
        } else {
            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');
            adjust = (b - anchor) / (anchor2 - anchor);
        }

        return -(wholeMonthDiff + adjust) || 0;
    }

    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';
    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';

    function toString() {
        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');
    }

    function toISOString(keepOffset) {
        if (!this.isValid()) {
            return null;
        }
        var utc = keepOffset !== true,
            m = utc ? this.clone().utc() : this;
        if (m.year() < 0 || m.year() > 9999) {
            return formatMoment(
                m,
                utc
                    ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]'
                    : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ'
            );
        }
        if (isFunction(Date.prototype.toISOString)) {
            if (utc) {
                return this.toDate().toISOString();
            } else {
                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000)
                    .toISOString()
                    .replace('Z', formatMoment(m, 'Z'));
            }
        }
        return formatMoment(
            m,
            utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ'
        );
    }

    function inspect() {
        if (!this.isValid()) {
            return 'moment.invalid(/* ' + this._i + ' */)';
        }
        var func = 'moment',
            zone = '',
            prefix,
            year,
            datetime,
            suffix;
        if (!this.isLocal()) {
            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';
            zone = 'Z';
        }
        prefix = '[' + func + '("]';
        year = 0 <= this.year() && this.year() <= 9999 ? 'YYYY' : 'YYYYYY';
        datetime = '-MM-DD[T]HH:mm:ss.SSS';
        suffix = zone + '[")]';

        return this.format(prefix + year + datetime + suffix);
    }

    function format(inputString) {
        if (!inputString) {
            inputString = this.isUtc()
                ? hooks.defaultFormatUtc
                : hooks.defaultFormat;
        }
        var output = formatMoment(this, inputString);
        return this.localeData().postformat(output);
    }

    function from(time, withoutSuffix) {
        if (
            this.isValid() &&
            ((isMoment(time) && time.isValid()) || createLocal(time).isValid())
        ) {
            return createDuration({ to: this, from: time })
                .locale(this.locale())
                .humanize(!withoutSuffix);
        } else {
            return this.localeData().invalidDate();
        }
    }

    function fromNow(withoutSuffix) {
        return this.from(createLocal(), withoutSuffix);
    }

    function to(time, withoutSuffix) {
        if (
            this.isValid() &&
            ((isMoment(time) && time.isValid()) || createLocal(time).isValid())
        ) {
            return createDuration({ from: this, to: time })
                .locale(this.locale())
                .humanize(!withoutSuffix);
        } else {
            return this.localeData().invalidDate();
        }
    }

    function toNow(withoutSuffix) {
        return this.to(createLocal(), withoutSuffix);
    }

    function locale(key) {
        var newLocaleData;

        if (key === undefined) {
            return this._locale._abbr;
        } else {
            newLocaleData = getLocale(key);
            if (newLocaleData != null) {
                this._locale = newLocaleData;
            }
            return this;
        }
    }

    var lang = deprecate(
        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',
        function (key) {
            if (key === undefined) {
                return this.localeData();
            } else {
                return this.locale(key);
            }
        }
    );

    function localeData() {
        return this._locale;
    }

    var MS_PER_SECOND = 1000,
        MS_PER_MINUTE = 60 * MS_PER_SECOND,
        MS_PER_HOUR = 60 * MS_PER_MINUTE,
        MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;

    function mod$1(dividend, divisor) {
        return ((dividend % divisor) + divisor) % divisor;
    }

    function localStartOfDate(y, m, d) {
        if (y < 100 && y >= 0) {
            return new Date(y + 400, m, d) - MS_PER_400_YEARS;
        } else {
            return new Date(y, m, d).valueOf();
        }
    }

    function utcStartOfDate(y, m, d) {
        if (y < 100 && y >= 0) {
            return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;
        } else {
            return Date.UTC(y, m, d);
        }
    }

    function startOf(units) {
        var time, startOfDate;
        units = normalizeUnits(units);
        if (units === undefined || units === 'millisecond' || !this.isValid()) {
            return this;
        }

        startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;

        switch (units) {
            case 'year':
                time = startOfDate(this.year(), 0, 1);
                break;
            case 'quarter':
                time = startOfDate(
                    this.year(),
                    this.month() - (this.month() % 3),
                    1
                );
                break;
            case 'month':
                time = startOfDate(this.year(), this.month(), 1);
                break;
            case 'week':
                time = startOfDate(
                    this.year(),
                    this.month(),
                    this.date() - this.weekday()
                );
                break;
            case 'isoWeek':
                time = startOfDate(
                    this.year(),
                    this.month(),
                    this.date() - (this.isoWeekday() - 1)
                );
                break;
            case 'day':
            case 'date':
                time = startOfDate(this.year(), this.month(), this.date());
                break;
            case 'hour':
                time = this._d.valueOf();
                time -= mod$1(
                    time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),
                    MS_PER_HOUR
                );
                break;
            case 'minute':
                time = this._d.valueOf();
                time -= mod$1(time, MS_PER_MINUTE);
                break;
            case 'second':
                time = this._d.valueOf();
                time -= mod$1(time, MS_PER_SECOND);
                break;
        }

        this._d.setTime(time);
        hooks.updateOffset(this, true);
        return this;
    }

    function endOf(units) {
        var time, startOfDate;
        units = normalizeUnits(units);
        if (units === undefined || units === 'millisecond' || !this.isValid()) {
            return this;
        }

        startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;

        switch (units) {
            case 'year':
                time = startOfDate(this.year() + 1, 0, 1) - 1;
                break;
            case 'quarter':
                time =
                    startOfDate(
                        this.year(),
                        this.month() - (this.month() % 3) + 3,
                        1
                    ) - 1;
                break;
            case 'month':
                time = startOfDate(this.year(), this.month() + 1, 1) - 1;
                break;
            case 'week':
                time =
                    startOfDate(
                        this.year(),
                        this.month(),
                        this.date() - this.weekday() + 7
                    ) - 1;
                break;
            case 'isoWeek':
                time =
                    startOfDate(
                        this.year(),
                        this.month(),
                        this.date() - (this.isoWeekday() - 1) + 7
                    ) - 1;
                break;
            case 'day':
            case 'date':
                time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;
                break;
            case 'hour':
                time = this._d.valueOf();
                time +=
                    MS_PER_HOUR -
                    mod$1(
                        time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),
                        MS_PER_HOUR
                    ) -
                    1;
                break;
            case 'minute':
                time = this._d.valueOf();
                time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;
                break;
            case 'second':
                time = this._d.valueOf();
                time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;
                break;
        }

        this._d.setTime(time);
        hooks.updateOffset(this, true);
        return this;
    }

    function valueOf() {
        return this._d.valueOf() - (this._offset || 0) * 60000;
    }

    function unix() {
        return Math.floor(this.valueOf() / 1000);
    }

    function toDate() {
        return new Date(this.valueOf());
    }

    function toArray() {
        var m = this;
        return [
            m.year(),
            m.month(),
            m.date(),
            m.hour(),
            m.minute(),
            m.second(),
            m.millisecond(),
        ];
    }

    function toObject() {
        var m = this;
        return {
            years: m.year(),
            months: m.month(),
            date: m.date(),
            hours: m.hours(),
            minutes: m.minutes(),
            seconds: m.seconds(),
            milliseconds: m.milliseconds(),
        };
    }

    function toJSON() {
        return this.isValid() ? this.toISOString() : null;
    }

    function isValid$2() {
        return isValid(this);
    }

    function parsingFlags() {
        return extend({}, getParsingFlags(this));
    }

    function invalidAt() {
        return getParsingFlags(this).overflow;
    }

    function creationData() {
        return {
            input: this._i,
            format: this._f,
            locale: this._locale,
            isUTC: this._isUTC,
            strict: this._strict,
        };
    }

    addFormatToken('N', 0, 0, 'eraAbbr');
    addFormatToken('NN', 0, 0, 'eraAbbr');
    addFormatToken('NNN', 0, 0, 'eraAbbr');
    addFormatToken('NNNN', 0, 0, 'eraName');
    addFormatToken('NNNNN', 0, 0, 'eraNarrow');

    addFormatToken('y', ['y', 1], 'yo', 'eraYear');
    addFormatToken('y', ['yy', 2], 0, 'eraYear');
    addFormatToken('y', ['yyy', 3], 0, 'eraYear');
    addFormatToken('y', ['yyyy', 4], 0, 'eraYear');

    addRegexToken('N', matchEraAbbr);
    addRegexToken('NN', matchEraAbbr);
    addRegexToken('NNN', matchEraAbbr);
    addRegexToken('NNNN', matchEraName);
    addRegexToken('NNNNN', matchEraNarrow);

    addParseToken(
        ['N', 'NN', 'NNN', 'NNNN', 'NNNNN'],
        function (input, array, config, token) {
            var era = config._locale.erasParse(input, token, config._strict);
            if (era) {
                getParsingFlags(config).era = era;
            } else {
                getParsingFlags(config).invalidEra = input;
            }
        }
    );

    addRegexToken('y', matchUnsigned);
    addRegexToken('yy', matchUnsigned);
    addRegexToken('yyy', matchUnsigned);
    addRegexToken('yyyy', matchUnsigned);
    addRegexToken('yo', matchEraYearOrdinal);

    addParseToken(['y', 'yy', 'yyy', 'yyyy'], YEAR);
    addParseToken(['yo'], function (input, array, config, token) {
        var match;
        if (config._locale._eraYearOrdinalRegex) {
            match = input.match(config._locale._eraYearOrdinalRegex);
        }

        if (config._locale.eraYearOrdinalParse) {
            array[YEAR] = config._locale.eraYearOrdinalParse(input, match);
        } else {
            array[YEAR] = parseInt(input, 10);
        }
    });

    function localeEras(m, format) {
        var i,
            l,
            date,
            eras = this._eras || getLocale('en')._eras;
        for (i = 0, l = eras.length; i < l; ++i) {
            switch (typeof eras[i].since) {
                case 'string':
                    date = hooks(eras[i].since).startOf('day');
                    eras[i].since = date.valueOf();
                    break;
            }

            switch (typeof eras[i].until) {
                case 'undefined':
                    eras[i].until = +Infinity;
                    break;
                case 'string':
                    date = hooks(eras[i].until).startOf('day').valueOf();
                    eras[i].until = date.valueOf();
                    break;
            }
        }
        return eras;
    }

    function localeErasParse(eraName, format, strict) {
        var i,
            l,
            eras = this.eras(),
            name,
            abbr,
            narrow;
        eraName = eraName.toUpperCase();

        for (i = 0, l = eras.length; i < l; ++i) {
            name = eras[i].name.toUpperCase();
            abbr = eras[i].abbr.toUpperCase();
            narrow = eras[i].narrow.toUpperCase();

            if (strict) {
                switch (format) {
                    case 'N':
                    case 'NN':
                    case 'NNN':
                        if (abbr === eraName) {
                            return eras[i];
                        }
                        break;

                    case 'NNNN':
                        if (name === eraName) {
                            return eras[i];
                        }
                        break;

                    case 'NNNNN':
                        if (narrow === eraName) {
                            return eras[i];
                        }
                        break;
                }
            } else if ([name, abbr, narrow].indexOf(eraName) >= 0) {
                return eras[i];
            }
        }
    }

    function localeErasConvertYear(era, year) {
        var dir = era.since <= era.until ? +1 : -1;
        if (year === undefined) {
            return hooks(era.since).year();
        } else {
            return hooks(era.since).year() + (year - era.offset) * dir;
        }
    }

    function getEraName() {
        var i,
            l,
            val,
            eras = this.localeData().eras();
        for (i = 0, l = eras.length; i < l; ++i) {
            val = this.clone().startOf('day').valueOf();

            if (eras[i].since <= val && val <= eras[i].until) {
                return eras[i].name;
            }
            if (eras[i].until <= val && val <= eras[i].since) {
                return eras[i].name;
            }
        }

        return '';
    }

    function getEraNarrow() {
        var i,
            l,
            val,
            eras = this.localeData().eras();
        for (i = 0, l = eras.length; i < l; ++i) {
            val = this.clone().startOf('day').valueOf();

            if (eras[i].since <= val && val <= eras[i].until) {
                return eras[i].narrow;
            }
            if (eras[i].until <= val && val <= eras[i].since) {
                return eras[i].narrow;
            }
        }

        return '';
    }

    function getEraAbbr() {
        var i,
            l,
            val,
            eras = this.localeData().eras();
        for (i = 0, l = eras.length; i < l; ++i) {
            val = this.clone().startOf('day').valueOf();

            if (eras[i].since <= val && val <= eras[i].until) {
                return eras[i].abbr;
            }
            if (eras[i].until <= val && val <= eras[i].since) {
                return eras[i].abbr;
            }
        }

        return '';
    }

    function getEraYear() {
        var i,
            l,
            dir,
            val,
            eras = this.localeData().eras();
        for (i = 0, l = eras.length; i < l; ++i) {
            dir = eras[i].since <= eras[i].until ? +1 : -1;

            val = this.clone().startOf('day').valueOf();

            if (
                (eras[i].since <= val && val <= eras[i].until) ||
                (eras[i].until <= val && val <= eras[i].since)
            ) {
                return (
                    (this.year() - hooks(eras[i].since).year()) * dir +
                    eras[i].offset
                );
            }
        }

        return this.year();
    }

    function erasNameRegex(isStrict) {
        if (!hasOwnProp(this, '_erasNameRegex')) {
            computeErasParse.call(this);
        }
        return isStrict ? this._erasNameRegex : this._erasRegex;
    }

    function erasAbbrRegex(isStrict) {
        if (!hasOwnProp(this, '_erasAbbrRegex')) {
            computeErasParse.call(this);
        }
        return isStrict ? this._erasAbbrRegex : this._erasRegex;
    }

    function erasNarrowRegex(isStrict) {
        if (!hasOwnProp(this, '_erasNarrowRegex')) {
            computeErasParse.call(this);
        }
        return isStrict ? this._erasNarrowRegex : this._erasRegex;
    }

    function matchEraAbbr(isStrict, locale) {
        return locale.erasAbbrRegex(isStrict);
    }

    function matchEraName(isStrict, locale) {
        return locale.erasNameRegex(isStrict);
    }

    function matchEraNarrow(isStrict, locale) {
        return locale.erasNarrowRegex(isStrict);
    }

    function matchEraYearOrdinal(isStrict, locale) {
        return locale._eraYearOrdinalRegex || matchUnsigned;
    }

    function computeErasParse() {
        var abbrPieces = [],
            namePieces = [],
            narrowPieces = [],
            mixedPieces = [],
            i,
            l,
            erasName,
            erasAbbr,
            erasNarrow,
            eras = this.eras();

        for (i = 0, l = eras.length; i < l; ++i) {
            erasName = regexEscape(eras[i].name);
            erasAbbr = regexEscape(eras[i].abbr);
            erasNarrow = regexEscape(eras[i].narrow);

            namePieces.push(erasName);
            abbrPieces.push(erasAbbr);
            narrowPieces.push(erasNarrow);
            mixedPieces.push(erasName);
            mixedPieces.push(erasAbbr);
            mixedPieces.push(erasNarrow);
        }

        this._erasRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._erasNameRegex = new RegExp('^(' + namePieces.join('|') + ')', 'i');
        this._erasAbbrRegex = new RegExp('^(' + abbrPieces.join('|') + ')', 'i');
        this._erasNarrowRegex = new RegExp(
            '^(' + narrowPieces.join('|') + ')',
            'i'
        );
    }


    addFormatToken(0, ['gg', 2], 0, function () {
        return this.weekYear() % 100;
    });

    addFormatToken(0, ['GG', 2], 0, function () {
        return this.isoWeekYear() % 100;
    });

    function addWeekYearFormatToken(token, getter) {
        addFormatToken(0, [token, token.length], 0, getter);
    }

    addWeekYearFormatToken('gggg', 'weekYear');
    addWeekYearFormatToken('ggggg', 'weekYear');
    addWeekYearFormatToken('GGGG', 'isoWeekYear');
    addWeekYearFormatToken('GGGGG', 'isoWeekYear');



    addRegexToken('G', matchSigned);
    addRegexToken('g', matchSigned);
    addRegexToken('GG', match1to2, match2);
    addRegexToken('gg', match1to2, match2);
    addRegexToken('GGGG', match1to4, match4);
    addRegexToken('gggg', match1to4, match4);
    addRegexToken('GGGGG', match1to6, match6);
    addRegexToken('ggggg', match1to6, match6);

    addWeekParseToken(
        ['gggg', 'ggggg', 'GGGG', 'GGGGG'],
        function (input, week, config, token) {
            week[token.substr(0, 2)] = toInt(input);
        }
    );

    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {
        week[token] = hooks.parseTwoDigitYear(input);
    });


    function getSetWeekYear(input) {
        return getSetWeekYearHelper.call(
            this,
            input,
            this.week(),
            this.weekday() + this.localeData()._week.dow,
            this.localeData()._week.dow,
            this.localeData()._week.doy
        );
    }

    function getSetISOWeekYear(input) {
        return getSetWeekYearHelper.call(
            this,
            input,
            this.isoWeek(),
            this.isoWeekday(),
            1,
            4
        );
    }

    function getISOWeeksInYear() {
        return weeksInYear(this.year(), 1, 4);
    }

    function getISOWeeksInISOWeekYear() {
        return weeksInYear(this.isoWeekYear(), 1, 4);
    }

    function getWeeksInYear() {
        var weekInfo = this.localeData()._week;
        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
    }

    function getWeeksInWeekYear() {
        var weekInfo = this.localeData()._week;
        return weeksInYear(this.weekYear(), weekInfo.dow, weekInfo.doy);
    }

    function getSetWeekYearHelper(input, week, weekday, dow, doy) {
        var weeksTarget;
        if (input == null) {
            return weekOfYear(this, dow, doy).year;
        } else {
            weeksTarget = weeksInYear(input, dow, doy);
            if (week > weeksTarget) {
                week = weeksTarget;
            }
            return setWeekAll.call(this, input, week, weekday, dow, doy);
        }
    }

    function setWeekAll(weekYear, week, weekday, dow, doy) {
        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),
            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);

        this.year(date.getUTCFullYear());
        this.month(date.getUTCMonth());
        this.date(date.getUTCDate());
        return this;
    }


    addFormatToken('Q', 0, 'Qo', 'quarter');


    addRegexToken('Q', match1);
    addParseToken('Q', function (input, array) {
        array[MONTH] = (toInt(input) - 1) * 3;
    });


    function getSetQuarter(input) {
        return input == null
            ? Math.ceil((this.month() + 1) / 3)
            : this.month((input - 1) * 3 + (this.month() % 3));
    }


    addFormatToken('D', ['DD', 2], 'Do', 'date');


    addRegexToken('D', match1to2, match1to2NoLeadingZero);
    addRegexToken('DD', match1to2, match2);
    addRegexToken('Do', function (isStrict, locale) {
        return isStrict
            ? locale._dayOfMonthOrdinalParse || locale._ordinalParse
            : locale._dayOfMonthOrdinalParseLenient;
    });

    addParseToken(['D', 'DD'], DATE);
    addParseToken('Do', function (input, array) {
        array[DATE] = toInt(input.match(match1to2)[0]);
    });


    var getSetDayOfMonth = makeGetSet('Date', true);


    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');


    addRegexToken('DDD', match1to3);
    addRegexToken('DDDD', match3);
    addParseToken(['DDD', 'DDDD'], function (input, array, config) {
        config._dayOfYear = toInt(input);
    });



    function getSetDayOfYear(input) {
        var dayOfYear =
            Math.round(
                (this.clone().startOf('day') - this.clone().startOf('year')) / 864e5
            ) + 1;
        return input == null ? dayOfYear : this.add(input - dayOfYear, 'd');
    }


    addFormatToken('m', ['mm', 2], 0, 'minute');


    addRegexToken('m', match1to2, match1to2HasZero);
    addRegexToken('mm', match1to2, match2);
    addParseToken(['m', 'mm'], MINUTE);


    var getSetMinute = makeGetSet('Minutes', false);


    addFormatToken('s', ['ss', 2], 0, 'second');


    addRegexToken('s', match1to2, match1to2HasZero);
    addRegexToken('ss', match1to2, match2);
    addParseToken(['s', 'ss'], SECOND);


    var getSetSecond = makeGetSet('Seconds', false);


    addFormatToken('S', 0, 0, function () {
        return ~~(this.millisecond() / 100);
    });

    addFormatToken(0, ['SS', 2], 0, function () {
        return ~~(this.millisecond() / 10);
    });

    addFormatToken(0, ['SSS', 3], 0, 'millisecond');
    addFormatToken(0, ['SSSS', 4], 0, function () {
        return this.millisecond() * 10;
    });
    addFormatToken(0, ['SSSSS', 5], 0, function () {
        return this.millisecond() * 100;
    });
    addFormatToken(0, ['SSSSSS', 6], 0, function () {
        return this.millisecond() * 1000;
    });
    addFormatToken(0, ['SSSSSSS', 7], 0, function () {
        return this.millisecond() * 10000;
    });
    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {
        return this.millisecond() * 100000;
    });
    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {
        return this.millisecond() * 1000000;
    });


    addRegexToken('S', match1to3, match1);
    addRegexToken('SS', match1to3, match2);
    addRegexToken('SSS', match1to3, match3);

    var token, getSetMillisecond;
    for (token = 'SSSS'; token.length <= 9; token += 'S') {
        addRegexToken(token, matchUnsigned);
    }

    function parseMs(input, array) {
        array[MILLISECOND] = toInt(('0.' + input) * 1000);
    }

    for (token = 'S'; token.length <= 9; token += 'S') {
        addParseToken(token, parseMs);
    }

    getSetMillisecond = makeGetSet('Milliseconds', false);


    addFormatToken('z', 0, 0, 'zoneAbbr');
    addFormatToken('zz', 0, 0, 'zoneName');


    function getZoneAbbr() {
        return this._isUTC ? 'UTC' : '';
    }

    function getZoneName() {
        return this._isUTC ? 'Coordinated Universal Time' : '';
    }

    var proto = Moment.prototype;

    proto.add = add;
    proto.calendar = calendar$1;
    proto.clone = clone;
    proto.diff = diff;
    proto.endOf = endOf;
    proto.format = format;
    proto.from = from;
    proto.fromNow = fromNow;
    proto.to = to;
    proto.toNow = toNow;
    proto.get = stringGet;
    proto.invalidAt = invalidAt;
    proto.isAfter = isAfter;
    proto.isBefore = isBefore;
    proto.isBetween = isBetween;
    proto.isSame = isSame;
    proto.isSameOrAfter = isSameOrAfter;
    proto.isSameOrBefore = isSameOrBefore;
    proto.isValid = isValid$2;
    proto.lang = lang;
    proto.locale = locale;
    proto.localeData = localeData;
    proto.max = prototypeMax;
    proto.min = prototypeMin;
    proto.parsingFlags = parsingFlags;
    proto.set = stringSet;
    proto.startOf = startOf;
    proto.subtract = subtract;
    proto.toArray = toArray;
    proto.toObject = toObject;
    proto.toDate = toDate;
    proto.toISOString = toISOString;
    proto.inspect = inspect;
    if (typeof Symbol !== 'undefined' && Symbol.for != null) {
        proto[Symbol.for('nodejs.util.inspect.custom')] = function () {
            return 'Moment<' + this.format() + '>';
        };
    }
    proto.toJSON = toJSON;
    proto.toString = toString;
    proto.unix = unix;
    proto.valueOf = valueOf;
    proto.creationData = creationData;
    proto.eraName = getEraName;
    proto.eraNarrow = getEraNarrow;
    proto.eraAbbr = getEraAbbr;
    proto.eraYear = getEraYear;
    proto.year = getSetYear;
    proto.isLeapYear = getIsLeapYear;
    proto.weekYear = getSetWeekYear;
    proto.isoWeekYear = getSetISOWeekYear;
    proto.quarter = proto.quarters = getSetQuarter;
    proto.month = getSetMonth;
    proto.daysInMonth = getDaysInMonth;
    proto.week = proto.weeks = getSetWeek;
    proto.isoWeek = proto.isoWeeks = getSetISOWeek;
    proto.weeksInYear = getWeeksInYear;
    proto.weeksInWeekYear = getWeeksInWeekYear;
    proto.isoWeeksInYear = getISOWeeksInYear;
    proto.isoWeeksInISOWeekYear = getISOWeeksInISOWeekYear;
    proto.date = getSetDayOfMonth;
    proto.day = proto.days = getSetDayOfWeek;
    proto.weekday = getSetLocaleDayOfWeek;
    proto.isoWeekday = getSetISODayOfWeek;
    proto.dayOfYear = getSetDayOfYear;
    proto.hour = proto.hours = getSetHour;
    proto.minute = proto.minutes = getSetMinute;
    proto.second = proto.seconds = getSetSecond;
    proto.millisecond = proto.milliseconds = getSetMillisecond;
    proto.utcOffset = getSetOffset;
    proto.utc = setOffsetToUTC;
    proto.local = setOffsetToLocal;
    proto.parseZone = setOffsetToParsedOffset;
    proto.hasAlignedHourOffset = hasAlignedHourOffset;
    proto.isDST = isDaylightSavingTime;
    proto.isLocal = isLocal;
    proto.isUtcOffset = isUtcOffset;
    proto.isUtc = isUtc;
    proto.isUTC = isUtc;
    proto.zoneAbbr = getZoneAbbr;
    proto.zoneName = getZoneName;
    proto.dates = deprecate(
        'dates accessor is deprecated. Use date instead.',
        getSetDayOfMonth
    );
    proto.months = deprecate(
        'months accessor is deprecated. Use month instead',
        getSetMonth
    );
    proto.years = deprecate(
        'years accessor is deprecated. Use year instead',
        getSetYear
    );
    proto.zone = deprecate(
        'moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/',
        getSetZone
    );
    proto.isDSTShifted = deprecate(
        'isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information',
        isDaylightSavingTimeShifted
    );

    function createUnix(input) {
        return createLocal(input * 1000);
    }

    function createInZone() {
        return createLocal.apply(null, arguments).parseZone();
    }

    function preParsePostFormat(string) {
        return string;
    }

    var proto$1 = Locale.prototype;

    proto$1.calendar = calendar;
    proto$1.longDateFormat = longDateFormat;
    proto$1.invalidDate = invalidDate;
    proto$1.ordinal = ordinal;
    proto$1.preparse = preParsePostFormat;
    proto$1.postformat = preParsePostFormat;
    proto$1.relativeTime = relativeTime;
    proto$1.pastFuture = pastFuture;
    proto$1.set = set;
    proto$1.eras = localeEras;
    proto$1.erasParse = localeErasParse;
    proto$1.erasConvertYear = localeErasConvertYear;
    proto$1.erasAbbrRegex = erasAbbrRegex;
    proto$1.erasNameRegex = erasNameRegex;
    proto$1.erasNarrowRegex = erasNarrowRegex;

    proto$1.months = localeMonths;
    proto$1.monthsShort = localeMonthsShort;
    proto$1.monthsParse = localeMonthsParse;
    proto$1.monthsRegex = monthsRegex;
    proto$1.monthsShortRegex = monthsShortRegex;
    proto$1.week = localeWeek;
    proto$1.firstDayOfYear = localeFirstDayOfYear;
    proto$1.firstDayOfWeek = localeFirstDayOfWeek;

    proto$1.weekdays = localeWeekdays;
    proto$1.weekdaysMin = localeWeekdaysMin;
    proto$1.weekdaysShort = localeWeekdaysShort;
    proto$1.weekdaysParse = localeWeekdaysParse;

    proto$1.weekdaysRegex = weekdaysRegex;
    proto$1.weekdaysShortRegex = weekdaysShortRegex;
    proto$1.weekdaysMinRegex = weekdaysMinRegex;

    proto$1.isPM = localeIsPM;
    proto$1.meridiem = localeMeridiem;

    function get$1(format, index, field, setter) {
        var locale = getLocale(),
            utc = createUTC().set(setter, index);
        return locale[field](utc, format);
    }

    function listMonthsImpl(format, index, field) {
        if (isNumber(format)) {
            index = format;
            format = undefined;
        }

        format = format || '';

        if (index != null) {
            return get$1(format, index, field, 'month');
        }

        var i,
            out = [];
        for (i = 0; i < 12; i++) {
            out[i] = get$1(format, i, field, 'month');
        }
        return out;
    }

    function listWeekdaysImpl(localeSorted, format, index, field) {
        if (typeof localeSorted === 'boolean') {
            if (isNumber(format)) {
                index = format;
                format = undefined;
            }

            format = format || '';
        } else {
            format = localeSorted;
            index = format;
            localeSorted = false;

            if (isNumber(format)) {
                index = format;
                format = undefined;
            }

            format = format || '';
        }

        var locale = getLocale(),
            shift = localeSorted ? locale._week.dow : 0,
            i,
            out = [];

        if (index != null) {
            return get$1(format, (index + shift) % 7, field, 'day');
        }

        for (i = 0; i < 7; i++) {
            out[i] = get$1(format, (i + shift) % 7, field, 'day');
        }
        return out;
    }

    function listMonths(format, index) {
        return listMonthsImpl(format, index, 'months');
    }

    function listMonthsShort(format, index) {
        return listMonthsImpl(format, index, 'monthsShort');
    }

    function listWeekdays(localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');
    }

    function listWeekdaysShort(localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');
    }

    function listWeekdaysMin(localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');
    }

    getSetGlobalLocale('en', {
        eras: [
            {
                since: '0001-01-01',
                until: +Infinity,
                offset: 1,
                name: 'Anno Domini',
                narrow: 'AD',
                abbr: 'AD',
            },
            {
                since: '0000-12-31',
                until: -Infinity,
                offset: 1,
                name: 'Before Christ',
                narrow: 'BC',
                abbr: 'BC',
            },
        ],
        dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal: function (number) {
            var b = number % 10,
                output =
                    toInt((number % 100) / 10) === 1
                        ? 'th'
                        : b === 1
                          ? 'st'
                          : b === 2
                            ? 'nd'
                            : b === 3
                              ? 'rd'
                              : 'th';
            return number + output;
        },
    });


    hooks.lang = deprecate(
        'moment.lang is deprecated. Use moment.locale instead.',
        getSetGlobalLocale
    );
    hooks.langData = deprecate(
        'moment.langData is deprecated. Use moment.localeData instead.',
        getLocale
    );

    var mathAbs = Math.abs;

    function abs() {
        var data = this._data;

        this._milliseconds = mathAbs(this._milliseconds);
        this._days = mathAbs(this._days);
        this._months = mathAbs(this._months);

        data.milliseconds = mathAbs(data.milliseconds);
        data.seconds = mathAbs(data.seconds);
        data.minutes = mathAbs(data.minutes);
        data.hours = mathAbs(data.hours);
        data.months = mathAbs(data.months);
        data.years = mathAbs(data.years);

        return this;
    }

    function addSubtract$1(duration, input, value, direction) {
        var other = createDuration(input, value);

        duration._milliseconds += direction * other._milliseconds;
        duration._days += direction * other._days;
        duration._months += direction * other._months;

        return duration._bubble();
    }

    function add$1(input, value) {
        return addSubtract$1(this, input, value, 1);
    }

    function subtract$1(input, value) {
        return addSubtract$1(this, input, value, -1);
    }

    function absCeil(number) {
        if (number < 0) {
            return Math.floor(number);
        } else {
            return Math.ceil(number);
        }
    }

    function bubble() {
        var milliseconds = this._milliseconds,
            days = this._days,
            months = this._months,
            data = this._data,
            seconds,
            minutes,
            hours,
            years,
            monthsFromDays;

        if (
            !(
                (milliseconds >= 0 && days >= 0 && months >= 0) ||
                (milliseconds <= 0 && days <= 0 && months <= 0)
            )
        ) {
            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;
            days = 0;
            months = 0;
        }

        data.milliseconds = milliseconds % 1000;

        seconds = absFloor(milliseconds / 1000);
        data.seconds = seconds % 60;

        minutes = absFloor(seconds / 60);
        data.minutes = minutes % 60;

        hours = absFloor(minutes / 60);
        data.hours = hours % 24;

        days += absFloor(hours / 24);

        monthsFromDays = absFloor(daysToMonths(days));
        months += monthsFromDays;
        days -= absCeil(monthsToDays(monthsFromDays));

        years = absFloor(months / 12);
        months %= 12;

        data.days = days;
        data.months = months;
        data.years = years;

        return this;
    }

    function daysToMonths(days) {
        return (days * 4800) / 146097;
    }

    function monthsToDays(months) {
        return (months * 146097) / 4800;
    }

    function as(units) {
        if (!this.isValid()) {
            return NaN;
        }
        var days,
            months,
            milliseconds = this._milliseconds;

        units = normalizeUnits(units);

        if (units === 'month' || units === 'quarter' || units === 'year') {
            days = this._days + milliseconds / 864e5;
            months = this._months + daysToMonths(days);
            switch (units) {
                case 'month':
                    return months;
                case 'quarter':
                    return months / 3;
                case 'year':
                    return months / 12;
            }
        } else {
            days = this._days + Math.round(monthsToDays(this._months));
            switch (units) {
                case 'week':
                    return days / 7 + milliseconds / 6048e5;
                case 'day':
                    return days + milliseconds / 864e5;
                case 'hour':
                    return days * 24 + milliseconds / 36e5;
                case 'minute':
                    return days * 1440 + milliseconds / 6e4;
                case 'second':
                    return days * 86400 + milliseconds / 1000;
                case 'millisecond':
                    return Math.floor(days * 864e5) + milliseconds;
                default:
                    throw new Error('Unknown unit ' + units);
            }
        }
    }

    function makeAs(alias) {
        return function () {
            return this.as(alias);
        };
    }

    var asMilliseconds = makeAs('ms'),
        asSeconds = makeAs('s'),
        asMinutes = makeAs('m'),
        asHours = makeAs('h'),
        asDays = makeAs('d'),
        asWeeks = makeAs('w'),
        asMonths = makeAs('M'),
        asQuarters = makeAs('Q'),
        asYears = makeAs('y'),
        valueOf$1 = asMilliseconds;

    function clone$1() {
        return createDuration(this);
    }

    function get$2(units) {
        units = normalizeUnits(units);
        return this.isValid() ? this[units + 's']() : NaN;
    }

    function makeGetter(name) {
        return function () {
            return this.isValid() ? this._data[name] : NaN;
        };
    }

    var milliseconds = makeGetter('milliseconds'),
        seconds = makeGetter('seconds'),
        minutes = makeGetter('minutes'),
        hours = makeGetter('hours'),
        days = makeGetter('days'),
        months = makeGetter('months'),
        years = makeGetter('years');

    function weeks() {
        return absFloor(this.days() / 7);
    }

    var round = Math.round,
        thresholds = {
            ss: 44, 
            s: 45, 
            m: 45, 
            h: 22, 
            d: 26, 
            w: null, 
            M: 11, 
        };

    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {
        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
    }

    function relativeTime$1(posNegDuration, withoutSuffix, thresholds, locale) {
        var duration = createDuration(posNegDuration).abs(),
            seconds = round(duration.as('s')),
            minutes = round(duration.as('m')),
            hours = round(duration.as('h')),
            days = round(duration.as('d')),
            months = round(duration.as('M')),
            weeks = round(duration.as('w')),
            years = round(duration.as('y')),
            a =
                (seconds <= thresholds.ss && ['s', seconds]) ||
                (seconds < thresholds.s && ['ss', seconds]) ||
                (minutes <= 1 && ['m']) ||
                (minutes < thresholds.m && ['mm', minutes]) ||
                (hours <= 1 && ['h']) ||
                (hours < thresholds.h && ['hh', hours]) ||
                (days <= 1 && ['d']) ||
                (days < thresholds.d && ['dd', days]);

        if (thresholds.w != null) {
            a =
                a ||
                (weeks <= 1 && ['w']) ||
                (weeks < thresholds.w && ['ww', weeks]);
        }
        a = a ||
            (months <= 1 && ['M']) ||
            (months < thresholds.M && ['MM', months]) ||
            (years <= 1 && ['y']) || ['yy', years];

        a[2] = withoutSuffix;
        a[3] = +posNegDuration > 0;
        a[4] = locale;
        return substituteTimeAgo.apply(null, a);
    }

    function getSetRelativeTimeRounding(roundingFunction) {
        if (roundingFunction === undefined) {
            return round;
        }
        if (typeof roundingFunction === 'function') {
            round = roundingFunction;
            return true;
        }
        return false;
    }

    function getSetRelativeTimeThreshold(threshold, limit) {
        if (thresholds[threshold] === undefined) {
            return false;
        }
        if (limit === undefined) {
            return thresholds[threshold];
        }
        thresholds[threshold] = limit;
        if (threshold === 's') {
            thresholds.ss = limit - 1;
        }
        return true;
    }

    function humanize(argWithSuffix, argThresholds) {
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }

        var withSuffix = false,
            th = thresholds,
            locale,
            output;

        if (typeof argWithSuffix === 'object') {
            argThresholds = argWithSuffix;
            argWithSuffix = false;
        }
        if (typeof argWithSuffix === 'boolean') {
            withSuffix = argWithSuffix;
        }
        if (typeof argThresholds === 'object') {
            th = Object.assign({}, thresholds, argThresholds);
            if (argThresholds.s != null && argThresholds.ss == null) {
                th.ss = argThresholds.s - 1;
            }
        }

        locale = this.localeData();
        output = relativeTime$1(this, !withSuffix, th, locale);

        if (withSuffix) {
            output = locale.pastFuture(+this, output);
        }

        return locale.postformat(output);
    }

    var abs$1 = Math.abs;

    function sign(x) {
        return (x > 0) - (x < 0) || +x;
    }

    function toISOString$1() {
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }

        var seconds = abs$1(this._milliseconds) / 1000,
            days = abs$1(this._days),
            months = abs$1(this._months),
            minutes,
            hours,
            years,
            s,
            total = this.asSeconds(),
            totalSign,
            ymSign,
            daysSign,
            hmsSign;

        if (!total) {
            return 'P0D';
        }

        minutes = absFloor(seconds / 60);
        hours = absFloor(minutes / 60);
        seconds %= 60;
        minutes %= 60;

        years = absFloor(months / 12);
        months %= 12;

        s = seconds ? seconds.toFixed(3).replace(/\.?0+$/, '') : '';

        totalSign = total < 0 ? '-' : '';
        ymSign = sign(this._months) !== sign(total) ? '-' : '';
        daysSign = sign(this._days) !== sign(total) ? '-' : '';
        hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';

        return (
            totalSign +
            'P' +
            (years ? ymSign + years + 'Y' : '') +
            (months ? ymSign + months + 'M' : '') +
            (days ? daysSign + days + 'D' : '') +
            (hours || minutes || seconds ? 'T' : '') +
            (hours ? hmsSign + hours + 'H' : '') +
            (minutes ? hmsSign + minutes + 'M' : '') +
            (seconds ? hmsSign + s + 'S' : '')
        );
    }

    var proto$2 = Duration.prototype;

    proto$2.isValid = isValid$1;
    proto$2.abs = abs;
    proto$2.add = add$1;
    proto$2.subtract = subtract$1;
    proto$2.as = as;
    proto$2.asMilliseconds = asMilliseconds;
    proto$2.asSeconds = asSeconds;
    proto$2.asMinutes = asMinutes;
    proto$2.asHours = asHours;
    proto$2.asDays = asDays;
    proto$2.asWeeks = asWeeks;
    proto$2.asMonths = asMonths;
    proto$2.asQuarters = asQuarters;
    proto$2.asYears = asYears;
    proto$2.valueOf = valueOf$1;
    proto$2._bubble = bubble;
    proto$2.clone = clone$1;
    proto$2.get = get$2;
    proto$2.milliseconds = milliseconds;
    proto$2.seconds = seconds;
    proto$2.minutes = minutes;
    proto$2.hours = hours;
    proto$2.days = days;
    proto$2.weeks = weeks;
    proto$2.months = months;
    proto$2.years = years;
    proto$2.humanize = humanize;
    proto$2.toISOString = toISOString$1;
    proto$2.toString = toISOString$1;
    proto$2.toJSON = toISOString$1;
    proto$2.locale = locale;
    proto$2.localeData = localeData;

    proto$2.toIsoString = deprecate(
        'toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',
        toISOString$1
    );
    proto$2.lang = lang;


    addFormatToken('X', 0, 0, 'unix');
    addFormatToken('x', 0, 0, 'valueOf');


    addRegexToken('x', matchSigned);
    addRegexToken('X', matchTimestamp);
    addParseToken('X', function (input, array, config) {
        config._d = new Date(parseFloat(input) * 1000);
    });
    addParseToken('x', function (input, array, config) {
        config._d = new Date(toInt(input));
    });


    hooks.version = '2.30.1';

    setHookCallback(createLocal);

    hooks.fn = proto;
    hooks.min = min;
    hooks.max = max;
    hooks.now = now;
    hooks.utc = createUTC;
    hooks.unix = createUnix;
    hooks.months = listMonths;
    hooks.isDate = isDate;
    hooks.locale = getSetGlobalLocale;
    hooks.invalid = createInvalid;
    hooks.duration = createDuration;
    hooks.isMoment = isMoment;
    hooks.weekdays = listWeekdays;
    hooks.parseZone = createInZone;
    hooks.localeData = getLocale;
    hooks.isDuration = isDuration;
    hooks.monthsShort = listMonthsShort;
    hooks.weekdaysMin = listWeekdaysMin;
    hooks.defineLocale = defineLocale;
    hooks.updateLocale = updateLocale;
    hooks.locales = listLocales;
    hooks.weekdaysShort = listWeekdaysShort;
    hooks.normalizeUnits = normalizeUnits;
    hooks.relativeTimeRounding = getSetRelativeTimeRounding;
    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;
    hooks.calendarFormat = getCalendarFormat;
    hooks.prototype = proto;

    hooks.HTML5_FMT = {
        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm', 
        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss', 
        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS', 
        DATE: 'YYYY-MM-DD', 
        TIME: 'HH:mm', 
        TIME_SECONDS: 'HH:mm:ss', 
        TIME_MS: 'HH:mm:ss.SSS', 
        WEEK: 'GGGG-[W]WW', 
        MONTH: 'YYYY-MM', 
    };

    return hooks;

})));


(function (root, factory)
{
    'use strict';

    var moment;
    if (typeof exports === 'object') {
        try { moment = require('moment'); } catch (e) {}
        module.exports = factory(moment);
    } else if (typeof define === 'function' && define.amd) {
        define(function (req)
        {
            var id = 'moment';
            try { moment = req(id); } catch (e) {}
            return factory(moment);
        });
    } else {
        root.Pikaday = factory(root.moment);
    }
}(this, function (moment)
{
    'use strict';

    var hasMoment = typeof moment === 'function',

    hasEventListeners = !!window.addEventListener,

    document = window.document,

    sto = window.setTimeout,

    addEvent = function(el, e, callback, capture)
    {
        if (hasEventListeners) {
            el.addEventListener(e, callback, !!capture);
        } else {
            el.attachEvent('on' + e, callback);
        }
    },

    removeEvent = function(el, e, callback, capture)
    {
        if (hasEventListeners) {
            el.removeEventListener(e, callback, !!capture);
        } else {
            el.detachEvent('on' + e, callback);
        }
    },

    trim = function(str)
    {
        return str.trim ? str.trim() : str.replace(/^\s+|\s+$/g,'');
    },

    hasClass = function(el, cn)
    {
        return (' ' + el.className + ' ').indexOf(' ' + cn + ' ') !== -1;
    },

    addClass = function(el, cn)
    {
        if (!hasClass(el, cn)) {
            el.className = (el.className === '') ? cn : el.className + ' ' + cn;
        }
    },

    removeClass = function(el, cn)
    {
        el.className = trim((' ' + el.className + ' ').replace(' ' + cn + ' ', ' '));
    },

    isArray = function(obj)
    {
        return (/Array/).test(Object.prototype.toString.call(obj));
    },

    isDate = function(obj)
    {
        return (/Date/).test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());
    },

    isWeekend = function(date)
    {
        var day = date.getDay();
        return day === 0 || day === 6;
    },

    isLeapYear = function(year)
    {
        return ((year % 4 === 0 && year % 100 !== 0) || year % 400 === 0);
    },

    getDaysInMonth = function(year, month)
    {
        return [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];
    },

    setToStartOfDay = function(date)
    {
        if (isDate(date)) date.setHours(0,0,0,0);
    },

    compareDates = function(a,b)
    {
        return a.getTime() === b.getTime();
    },

    extend = function(to, from, overwrite)
    {
        var prop, hasProp;
        for (prop in from) {
            hasProp = to[prop] !== undefined;
            if (hasProp && typeof from[prop] === 'object' && from[prop] !== null && from[prop].nodeName === undefined) {
                if (isDate(from[prop])) {
                    if (overwrite) {
                        to[prop] = new Date(from[prop].getTime());
                    }
                }
                else if (isArray(from[prop])) {
                    if (overwrite) {
                        to[prop] = from[prop].slice(0);
                    }
                } else {
                    to[prop] = extend({}, from[prop], overwrite);
                }
            } else if (overwrite || !hasProp) {
                to[prop] = from[prop];
            }
        }
        return to;
    },

    fireEvent = function(el, eventName, data)
    {
        var ev;

        if (document.createEvent) {
            ev = document.createEvent('HTMLEvents');
            ev.initEvent(eventName, true, false);
            ev = extend(ev, data);
            el.dispatchEvent(ev);
        } else if (document.createEventObject) {
            ev = document.createEventObject();
            ev = extend(ev, data);
            el.fireEvent('on' + eventName, ev);
        }
    },

    adjustCalendar = function(calendar) {
        if (calendar.month < 0) {
            calendar.year -= Math.ceil(Math.abs(calendar.month)/12);
            calendar.month += 12;
        }
        if (calendar.month > 11) {
            calendar.year += Math.floor(Math.abs(calendar.month)/12);
            calendar.month -= 12;
        }
        return calendar;
    },

    defaults = {

        field: null,

        bound: undefined,

        ariaLabel: 'Use the arrow keys to pick a date',

        position: 'bottom left',

        reposition: true,

        format: 'YYYY-MM-DD',

        toString: null,

        parse: null,

        defaultDate: null,

        setDefaultDate: false,

        firstDay: 0,

        firstWeekOfYearMinDays: 4,

        formatStrict: false,

        minDate: null,
        maxDate: null,

        yearRange: 10,

        showWeekNumber: false,

        pickWholeWeek: false,

        minYear: 0,
        maxYear: 9999,
        minMonth: undefined,
        maxMonth: undefined,

        startRange: null,
        endRange: null,

        isRTL: false,

        yearSuffix: '',

        showMonthAfterYear: false,

        showDaysInNextAndPreviousMonths: false,

        enableSelectionDaysInNextAndPreviousMonths: false,

        numberOfMonths: 1,

        mainCalendar: 'left',

        container: undefined,

        blurFieldOnSelect : true,

        i18n: {
            previousMonth : 'Previous Month',
            nextMonth     : 'Next Month',
            months        : ['January','February','March','April','May','June','July','August','September','October','November','December'],
            weekdays      : ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],
            weekdaysShort : ['Sun','Mon','Tue','Wed','Thu','Fri','Sat']
        },

        theme: null,

        events: [],

        onSelect: null,
        onOpen: null,
        onClose: null,
        onDraw: null,

        keyboardInput: true
    },


    renderDayName = function(opts, day, abbr)
    {
        day += opts.firstDay;
        while (day >= 7) {
            day -= 7;
        }
        return abbr ? opts.i18n.weekdaysShort[day] : opts.i18n.weekdays[day];
    },

    renderDay = function(opts)
    {
        var arr = [];
        var ariaSelected = 'false';
        if (opts.isEmpty) {
            if (opts.showDaysInNextAndPreviousMonths) {
                arr.push('is-outside-current-month');

                if(!opts.enableSelectionDaysInNextAndPreviousMonths) {
                    arr.push('is-selection-disabled');
                }

            } else {
                return '<td class="is-empty"></td>';
            }
        }
        if (opts.isDisabled) {
            arr.push('is-disabled');
        }
        if (opts.isToday) {
            arr.push('is-today');
        }
        if (opts.isSelected) {
            arr.push('is-selected');
            ariaSelected = 'true';
        }
        if (opts.hasEvent) {
            arr.push('has-event');
        }
        if (opts.isInRange) {
            arr.push('is-inrange');
        }
        if (opts.isStartRange) {
            arr.push('is-startrange');
        }
        if (opts.isEndRange) {
            arr.push('is-endrange');
        }
        return '<td data-day="' + opts.day + '" class="' + arr.join(' ') + '" aria-selected="' + ariaSelected + '">' +
                 '<button class="pika-button pika-day" type="button" ' +
                    'data-pika-year="' + opts.year + '" data-pika-month="' + opts.month + '" data-pika-day="' + opts.day + '">' +
                        opts.day +
                 '</button>' +
               '</td>';
    },

    isoWeek = function(date, firstWeekOfYearMinDays) {
        date.setHours(0, 0, 0, 0);

        var yearDay        = date.getDate(),
            weekDay        = date.getDay(),
            dayInFirstWeek = firstWeekOfYearMinDays,
            dayShift       = dayInFirstWeek - 1, 
            daysPerWeek    = 7,
            prevWeekDay    = function(day) { return (day + daysPerWeek - 1) % daysPerWeek; };

        date.setDate(yearDay + dayShift - prevWeekDay(weekDay));

        var jan4th      = new Date(date.getFullYear(), 0, dayInFirstWeek),
            msPerDay    = 24 * 60 * 60 * 1000,
            daysBetween = (date.getTime() - jan4th.getTime()) / msPerDay,
            weekNum     = 1 + Math.round((daysBetween - dayShift + prevWeekDay(jan4th.getDay())) / daysPerWeek);

        return weekNum;
    },

    renderWeek = function (d, m, y, firstWeekOfYearMinDays) {
        var date = new Date(y, m, d),
            week = hasMoment ? moment(date).isoWeek() : isoWeek(date, firstWeekOfYearMinDays);

        return '<td class="pika-week">' + week + '</td>';
    },

    renderRow = function(days, isRTL, pickWholeWeek, isRowSelected)
    {
        return '<tr class="pika-row' + (pickWholeWeek ? ' pick-whole-week' : '') + (isRowSelected ? ' is-selected' : '') + '">' + (isRTL ? days.reverse() : days).join('') + '</tr>';
    },

    renderBody = function(rows)
    {
        return '<tbody>' + rows.join('') + '</tbody>';
    },

    renderHead = function(opts)
    {
        var i, arr = [];
        if (opts.showWeekNumber) {
            arr.push('<th></th>');
        }
        for (i = 0; i < 7; i++) {
            arr.push('<th scope="col"><abbr title="' + renderDayName(opts, i) + '">' + renderDayName(opts, i, true) + '</abbr></th>');
        }
        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';
    },

    renderTitle = function(instance, c, year, month, refYear, randId)
    {
        var i, j, arr,
            opts = instance._o,
            isMinYear = year === opts.minYear,
            isMaxYear = year === opts.maxYear,
            html = '<div id="' + randId + '" class="pika-title" role="heading" aria-live="assertive">',
            monthHtml,
            yearHtml,
            prev = true,
            next = true;

        for (arr = [], i = 0; i < 12; i++) {
            arr.push('<option value="' + (year === refYear ? i - c : 12 + i - c) + '"' +
                (i === month ? ' selected="selected"': '') +
                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth) ? ' disabled="disabled"' : '') + '>' +
                opts.i18n.months[i] + '</option>');
        }

        monthHtml = '<div class="pika-label">' + opts.i18n.months[month] + '<select class="pika-select pika-select-month" tabindex="-1">' + arr.join('') + '</select></div>';

        if (isArray(opts.yearRange)) {
            i = opts.yearRange[0];
            j = opts.yearRange[1] + 1;
        } else {
            i = year - opts.yearRange;
            j = 1 + year + opts.yearRange;
        }

        for (arr = []; i < j && i <= opts.maxYear; i++) {
            if (i >= opts.minYear) {
                arr.push('<option value="' + i + '"' + (i === year ? ' selected="selected"': '') + '>' + (i) + '</option>');
            }
        }
        yearHtml = '<div class="pika-label">' + year + opts.yearSuffix + '<select class="pika-select pika-select-year" tabindex="-1">' + arr.join('') + '</select></div>';

        if (opts.showMonthAfterYear) {
            html += yearHtml + monthHtml;
        } else {
            html += monthHtml + yearHtml;
        }

        if (isMinYear && (month === 0 || opts.minMonth >= month)) {
            prev = false;
        }

        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {
            next = false;
        }

        if (c === 0) {
            html += '<button class="pika-prev' + (prev ? '' : ' is-disabled') + '" type="button">' + opts.i18n.previousMonth + '</button>';
        }
        if (c === (instance._o.numberOfMonths - 1) ) {
            html += '<button class="pika-next' + (next ? '' : ' is-disabled') + '" type="button">' + opts.i18n.nextMonth + '</button>';
        }

        return html += '</div>';
    },

    renderTable = function(opts, data, randId)
    {
        return '<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="' + randId + '">' + renderHead(opts) + renderBody(data) + '</table>';
    },


    Pikaday = function(options)
    {
        var self = this,
            opts = self.config(options);

        self._onMouseDown = function(e)
        {
            if (!self._v) {
                return;
            }
            e = e || window.event;
            var target = e.target || e.srcElement;
            if (!target) {
                return;
            }

            if (!hasClass(target, 'is-disabled')) {
                if (hasClass(target, 'pika-button') && !hasClass(target, 'is-empty') && !hasClass(target.parentNode, 'is-disabled')) {
                    self.setDate(new Date(target.getAttribute('data-pika-year'), target.getAttribute('data-pika-month'), target.getAttribute('data-pika-day')));
                    if (opts.bound) {
                        sto(function() {
                            self.hide();
                            if (opts.blurFieldOnSelect && opts.field) {
                                opts.field.blur();
                            }
                        }, 100);
                    }
                }
                else if (hasClass(target, 'pika-prev')) {
                    self.prevMonth();
                }
                else if (hasClass(target, 'pika-next')) {
                    self.nextMonth();
                }
            }
            if (!hasClass(target, 'pika-select')) {
                if (e.preventDefault) {
                    e.preventDefault();
                } else {
                    e.returnValue = false;
                    return false;
                }
            } else {
                self._c = true;
            }
        };

        self._onChange = function(e)
        {
            e = e || window.event;
            var target = e.target || e.srcElement;
            if (!target) {
                return;
            }
            if (hasClass(target, 'pika-select-month')) {
                self.gotoMonth(target.value);
            }
            else if (hasClass(target, 'pika-select-year')) {
                self.gotoYear(target.value);
            }
        };

        self._onKeyChange = function(e)
        {
            e = e || window.event;

            if (self.isVisible()) {

                switch(e.keyCode){
                    case 13:
                    case 27:
                        if (opts.field) {
                            opts.field.blur();
                        }
                        break;
                    case 37:
                        self.adjustDate('subtract', 1);
                        break;
                    case 38:
                        self.adjustDate('subtract', 7);
                        break;
                    case 39:
                        self.adjustDate('add', 1);
                        break;
                    case 40:
                        self.adjustDate('add', 7);
                        break;
                    case 8:
                    case 46:
                        self.setDate(null);
                        break;
                }
            }
        };

        self._parseFieldValue = function()
        {
            if (opts.parse) {
                return opts.parse(opts.field.value, opts.format);
            } else if (hasMoment) {
                var date = moment(opts.field.value, opts.format, opts.formatStrict);
                return (date && date.isValid()) ? date.toDate() : null;
            } else {
                return new Date(Date.parse(opts.field.value));
            }
        };

        self._onInputChange = function(e)
        {
            var date;

            if (e.firedBy === self) {
                return;
            }
            date = self._parseFieldValue();
            if (isDate(date)) {
              self.setDate(date);
            }
            if (!self._v) {
                self.show();
            }
        };

        self._onInputFocus = function()
        {
            self.show();
        };

        self._onInputClick = function()
        {
            self.show();
        };

        self._onInputBlur = function()
        {
            var pEl = document.activeElement;
            do {
                if (hasClass(pEl, 'pika-single')) {
                    return;
                }
            }
            while ((pEl = pEl.parentNode));

            if (!self._c) {
                self._b = sto(function() {
                    self.hide();
                }, 50);
            }
            self._c = false;
        };

        self._onClick = function(e)
        {
            e = e || window.event;
            var target = e.target || e.srcElement,
                pEl = target;
            if (!target) {
                return;
            }
            if (!hasEventListeners && hasClass(target, 'pika-select')) {
                if (!target.onchange) {
                    target.setAttribute('onchange', 'return;');
                    addEvent(target, 'change', self._onChange);
                }
            }
            do {
                if (hasClass(pEl, 'pika-single') || pEl === opts.trigger) {
                    return;
                }
            }
            while ((pEl = pEl.parentNode));
            if (self._v && target !== opts.trigger && pEl !== opts.trigger) {
                self.hide();
            }
        };

        self.el = document.createElement('div');
        self.el.className = 'pika-single' + (opts.isRTL ? ' is-rtl' : '') + (opts.theme ? ' ' + opts.theme : '');

        addEvent(self.el, 'mousedown', self._onMouseDown, true);
        addEvent(self.el, 'touchend', self._onMouseDown, true);
        addEvent(self.el, 'change', self._onChange);

        if (opts.keyboardInput) {
            addEvent(document, 'keydown', self._onKeyChange);
        }

        if (opts.field) {
            if (opts.container) {
                opts.container.appendChild(self.el);
            } else if (opts.bound) {
                document.body.appendChild(self.el);
            } else {
                opts.field.parentNode.insertBefore(self.el, opts.field.nextSibling);
            }
            addEvent(opts.field, 'change', self._onInputChange);

            if (!opts.defaultDate) {
                opts.defaultDate = self._parseFieldValue();
                opts.setDefaultDate = true;
            }
        }

        var defDate = opts.defaultDate;

        if (isDate(defDate)) {
            if (opts.setDefaultDate) {
                self.setDate(defDate, true);
            } else {
                self.gotoDate(defDate);
            }
        } else {
            self.gotoDate(new Date());
        }

        if (opts.bound) {
            this.hide();
            self.el.className += ' is-bound';
            addEvent(opts.trigger, 'click', self._onInputClick);
            addEvent(opts.trigger, 'focus', self._onInputFocus);
            addEvent(opts.trigger, 'blur', self._onInputBlur);
        } else {
            this.show();
        }
    };


    Pikaday.prototype = {


        config: function(options)
        {
            if (!this._o) {
                this._o = extend({}, defaults, true);
            }

            var opts = extend(this._o, options, true);

            opts.isRTL = !!opts.isRTL;

            opts.field = (opts.field && opts.field.nodeName) ? opts.field : null;

            opts.theme = (typeof opts.theme) === 'string' && opts.theme ? opts.theme : null;

            opts.bound = !!(opts.bound !== undefined ? opts.field && opts.bound : opts.field);

            opts.trigger = (opts.trigger && opts.trigger.nodeName) ? opts.trigger : opts.field;

            opts.disableWeekends = !!opts.disableWeekends;

            opts.disableDayFn = (typeof opts.disableDayFn) === 'function' ? opts.disableDayFn : null;

            var nom = parseInt(opts.numberOfMonths, 10) || 1;
            opts.numberOfMonths = nom > 4 ? 4 : nom;

            if (!isDate(opts.minDate)) {
                opts.minDate = false;
            }
            if (!isDate(opts.maxDate)) {
                opts.maxDate = false;
            }
            if ((opts.minDate && opts.maxDate) && opts.maxDate < opts.minDate) {
                opts.maxDate = opts.minDate = false;
            }
            if (opts.minDate) {
                this.setMinDate(opts.minDate);
            }
            if (opts.maxDate) {
                this.setMaxDate(opts.maxDate);
            }

            if (isArray(opts.yearRange)) {
                var fallback = new Date().getFullYear() - 10;
                opts.yearRange[0] = parseInt(opts.yearRange[0], 10) || fallback;
                opts.yearRange[1] = parseInt(opts.yearRange[1], 10) || fallback;
            } else {
                opts.yearRange = Math.abs(parseInt(opts.yearRange, 10)) || defaults.yearRange;
                if (opts.yearRange > 100) {
                    opts.yearRange = 100;
                }
            }

            return opts;
        },

        toString: function(format)
        {
            format = format || this._o.format;
            if (!isDate(this._d)) {
                return '';
            }
            if (this._o.toString) {
              return this._o.toString(this._d, format);
            }
            if (hasMoment) {
              return moment(this._d).format(format);
            }
            return this._d.toDateString();
        },

        getMoment: function()
        {
            return hasMoment ? moment(this._d) : null;
        },

        setMoment: function(date, preventOnSelect)
        {
            if (hasMoment && moment.isMoment(date)) {
                this.setDate(date.toDate(), preventOnSelect);
            }
        },

        getDate: function()
        {
            return isDate(this._d) ? new Date(this._d.getTime()) : null;
        },

        setDate: function(date, preventOnSelect)
        {
            if (!date) {
                this._d = null;

                if (this._o.field) {
                    this._o.field.value = '';
                    fireEvent(this._o.field, 'change', { firedBy: this });
                }

                return this.draw();
            }
            if (typeof date === 'string') {
                date = new Date(Date.parse(date));
            }
            if (!isDate(date)) {
                return;
            }

            var min = this._o.minDate,
                max = this._o.maxDate;

            if (isDate(min) && date < min) {
                date = min;
            } else if (isDate(max) && date > max) {
                date = max;
            }

            this._d = new Date(date.getTime());
            setToStartOfDay(this._d);
            this.gotoDate(this._d);

            if (this._o.field) {
                this._o.field.value = this.toString();
                fireEvent(this._o.field, 'change', { firedBy: this });
            }
            if (!preventOnSelect && typeof this._o.onSelect === 'function') {
                this._o.onSelect.call(this, this.getDate());
            }
        },

        clear: function()
        {
            this.setDate(null);
        },

        gotoDate: function(date)
        {
            var newCalendar = true;

            if (!isDate(date)) {
                return;
            }

            if (this.calendars) {
                var firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1),
                    lastVisibleDate = new Date(this.calendars[this.calendars.length-1].year, this.calendars[this.calendars.length-1].month, 1),
                    visibleDate = date.getTime();
                lastVisibleDate.setMonth(lastVisibleDate.getMonth()+1);
                lastVisibleDate.setDate(lastVisibleDate.getDate()-1);
                newCalendar = (visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate);
            }

            if (newCalendar) {
                this.calendars = [{
                    month: date.getMonth(),
                    year: date.getFullYear()
                }];
                if (this._o.mainCalendar === 'right') {
                    this.calendars[0].month += 1 - this._o.numberOfMonths;
                }
            }

            this.adjustCalendars();
        },

        adjustDate: function(sign, days) {

            var day = this.getDate() || new Date();
            var difference = parseInt(days)*24*60*60*1000;

            var newDay;

            if (sign === 'add') {
                newDay = new Date(day.valueOf() + difference);
            } else if (sign === 'subtract') {
                newDay = new Date(day.valueOf() - difference);
            }

            this.setDate(newDay);
        },

        adjustCalendars: function() {
            this.calendars[0] = adjustCalendar(this.calendars[0]);
            for (var c = 1; c < this._o.numberOfMonths; c++) {
                this.calendars[c] = adjustCalendar({
                    month: this.calendars[0].month + c,
                    year: this.calendars[0].year
                });
            }
            this.draw();
        },

        gotoToday: function()
        {
            this.gotoDate(new Date());
        },

        gotoMonth: function(month)
        {
            if (!isNaN(month)) {
                this.calendars[0].month = parseInt(month, 10);
                this.adjustCalendars();
            }
        },

        nextMonth: function()
        {
            this.calendars[0].month++;
            this.adjustCalendars();
        },

        prevMonth: function()
        {
            this.calendars[0].month--;
            this.adjustCalendars();
        },

        gotoYear: function(year)
        {
            if (!isNaN(year)) {
                this.calendars[0].year = parseInt(year, 10);
                this.adjustCalendars();
            }
        },

        setMinDate: function(value)
        {
            if(value instanceof Date) {
                setToStartOfDay(value);
                this._o.minDate = value;
                this._o.minYear  = value.getFullYear();
                this._o.minMonth = value.getMonth();
            } else {
                this._o.minDate = defaults.minDate;
                this._o.minYear  = defaults.minYear;
                this._o.minMonth = defaults.minMonth;
                this._o.startRange = defaults.startRange;
            }

            this.draw();
        },

        setMaxDate: function(value)
        {
            if(value instanceof Date) {
                setToStartOfDay(value);
                this._o.maxDate = value;
                this._o.maxYear = value.getFullYear();
                this._o.maxMonth = value.getMonth();
            } else {
                this._o.maxDate = defaults.maxDate;
                this._o.maxYear = defaults.maxYear;
                this._o.maxMonth = defaults.maxMonth;
                this._o.endRange = defaults.endRange;
            }

            this.draw();
        },

        setStartRange: function(value)
        {
            this._o.startRange = value;
        },

        setEndRange: function(value)
        {
            this._o.endRange = value;
        },

        draw: function(force)
        {
            if (!this._v && !force) {
                return;
            }
            var opts = this._o,
                minYear = opts.minYear,
                maxYear = opts.maxYear,
                minMonth = opts.minMonth,
                maxMonth = opts.maxMonth,
                html = '',
                randId;

            if (this._y <= minYear) {
                this._y = minYear;
                if (!isNaN(minMonth) && this._m < minMonth) {
                    this._m = minMonth;
                }
            }
            if (this._y >= maxYear) {
                this._y = maxYear;
                if (!isNaN(maxMonth) && this._m > maxMonth) {
                    this._m = maxMonth;
                }
            }

            for (var c = 0; c < opts.numberOfMonths; c++) {
                randId = 'pika-title-' + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 2);
                html += '<div class="pika-lendar">' + renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId) + '</div>';
            }

            this.el.innerHTML = html;

            if (opts.bound) {
                if(opts.field.type !== 'hidden') {
                    sto(function() {
                        opts.trigger.focus();
                    }, 1);
                }
            }

            if (typeof this._o.onDraw === 'function') {
                this._o.onDraw(this);
            }

            if (opts.bound) {
                opts.field.setAttribute('aria-label', opts.ariaLabel);
            }
        },

        adjustPosition: function()
        {
            var field, pEl, width, height, viewportWidth, viewportHeight, scrollTop, left, top, clientRect, leftAligned, bottomAligned;

            if (this._o.container) return;

            this.el.style.position = 'absolute';

            field = this._o.trigger;
            pEl = field;
            width = this.el.offsetWidth;
            height = this.el.offsetHeight;
            viewportWidth = window.innerWidth || document.documentElement.clientWidth;
            viewportHeight = window.innerHeight || document.documentElement.clientHeight;
            scrollTop = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;
            leftAligned = true;
            bottomAligned = true;

            if (typeof field.getBoundingClientRect === 'function') {
                clientRect = field.getBoundingClientRect();
                left = clientRect.left + window.pageXOffset;
                top = clientRect.bottom + window.pageYOffset;
            } else {
                left = pEl.offsetLeft;
                top  = pEl.offsetTop + pEl.offsetHeight;
                while((pEl = pEl.offsetParent)) {
                    left += pEl.offsetLeft;
                    top  += pEl.offsetTop;
                }
            }

            if ((this._o.reposition && left + width > viewportWidth) ||
                (
                    this._o.position.indexOf('right') > -1 &&
                    left - width + field.offsetWidth > 0
                )
            ) {
                left = left - width + field.offsetWidth;
                leftAligned = false;
            }
            if ((this._o.reposition && top + height > viewportHeight + scrollTop) ||
                (
                    this._o.position.indexOf('top') > -1 &&
                    top - height - field.offsetHeight > 0
                )
            ) {
                top = top - height - field.offsetHeight;
                bottomAligned = false;
            }

            this.el.style.left = left + 'px';
            this.el.style.top = top + 'px';

            addClass(this.el, leftAligned ? 'left-aligned' : 'right-aligned');
            addClass(this.el, bottomAligned ? 'bottom-aligned' : 'top-aligned');
            removeClass(this.el, !leftAligned ? 'left-aligned' : 'right-aligned');
            removeClass(this.el, !bottomAligned ? 'bottom-aligned' : 'top-aligned');
        },

        render: function(year, month, randId)
        {
            var opts   = this._o,
                now    = new Date(),
                days   = getDaysInMonth(year, month),
                before = new Date(year, month, 1).getDay(),
                data   = [],
                row    = [];
            setToStartOfDay(now);
            if (opts.firstDay > 0) {
                before -= opts.firstDay;
                if (before < 0) {
                    before += 7;
                }
            }
            var previousMonth = month === 0 ? 11 : month - 1,
                nextMonth = month === 11 ? 0 : month + 1,
                yearOfPreviousMonth = month === 0 ? year - 1 : year,
                yearOfNextMonth = month === 11 ? year + 1 : year,
                daysInPreviousMonth = getDaysInMonth(yearOfPreviousMonth, previousMonth);
            var cells = days + before,
                after = cells;
            while(after > 7) {
                after -= 7;
            }
            cells += 7 - after;
            var isWeekSelected = false;
            for (var i = 0, r = 0; i < cells; i++)
            {
                var day = new Date(year, month, 1 + (i - before)),
                    isSelected = isDate(this._d) ? compareDates(day, this._d) : false,
                    isToday = compareDates(day, now),
                    hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false,
                    isEmpty = i < before || i >= (days + before),
                    dayNumber = 1 + (i - before),
                    monthNumber = month,
                    yearNumber = year,
                    isStartRange = opts.startRange && compareDates(opts.startRange, day),
                    isEndRange = opts.endRange && compareDates(opts.endRange, day),
                    isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange,
                    isDisabled = (opts.minDate && day < opts.minDate) ||
                                 (opts.maxDate && day > opts.maxDate) ||
                                 (opts.disableWeekends && isWeekend(day)) ||
                                 (opts.disableDayFn && opts.disableDayFn(day));

                if (isEmpty) {
                    if (i < before) {
                        dayNumber = daysInPreviousMonth + dayNumber;
                        monthNumber = previousMonth;
                        yearNumber = yearOfPreviousMonth;
                    } else {
                        dayNumber = dayNumber - days;
                        monthNumber = nextMonth;
                        yearNumber = yearOfNextMonth;
                    }
                }

                var dayConfig = {
                        day: dayNumber,
                        month: monthNumber,
                        year: yearNumber,
                        hasEvent: hasEvent,
                        isSelected: isSelected,
                        isToday: isToday,
                        isDisabled: isDisabled,
                        isEmpty: isEmpty,
                        isStartRange: isStartRange,
                        isEndRange: isEndRange,
                        isInRange: isInRange,
                        showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths,
                        enableSelectionDaysInNextAndPreviousMonths: opts.enableSelectionDaysInNextAndPreviousMonths
                    };

                if (opts.pickWholeWeek && isSelected) {
                    isWeekSelected = true;
                }

                row.push(renderDay(dayConfig));

                if (++r === 7) {
                    if (opts.showWeekNumber) {
                        row.unshift(renderWeek(i - before, month, year, opts.firstWeekOfYearMinDays));
                    }
                    data.push(renderRow(row, opts.isRTL, opts.pickWholeWeek, isWeekSelected));
                    row = [];
                    r = 0;
                    isWeekSelected = false;
                }
            }
            return renderTable(opts, data, randId);
        },

        isVisible: function()
        {
            return this._v;
        },

        show: function()
        {
            if (!this.isVisible()) {
                this._v = true;
                this.draw();
                removeClass(this.el, 'is-hidden');
                if (this._o.bound) {
                    addEvent(document, 'click', this._onClick);
                    this.adjustPosition();
                }
                if (typeof this._o.onOpen === 'function') {
                    this._o.onOpen.call(this);
                }
            }
        },

        hide: function()
        {
            var v = this._v;
            if (v !== false) {
                if (this._o.bound) {
                    removeEvent(document, 'click', this._onClick);
                }

                if (!this._o.container) {
                    this.el.style.position = 'static'; 
                    this.el.style.left = 'auto';
                    this.el.style.top = 'auto';
                }
                addClass(this.el, 'is-hidden');
                this._v = false;
                if (v !== undefined && typeof this._o.onClose === 'function') {
                    this._o.onClose.call(this);
                }
            }
        },

        destroy: function()
        {
            var opts = this._o;

            this.hide();
            removeEvent(this.el, 'mousedown', this._onMouseDown, true);
            removeEvent(this.el, 'touchend', this._onMouseDown, true);
            removeEvent(this.el, 'change', this._onChange);
            if (opts.keyboardInput) {
                removeEvent(document, 'keydown', this._onKeyChange);
            }
            if (opts.field) {
                removeEvent(opts.field, 'change', this._onInputChange);
                if (opts.bound) {
                    removeEvent(opts.trigger, 'click', this._onInputClick);
                    removeEvent(opts.trigger, 'focus', this._onInputFocus);
                    removeEvent(opts.trigger, 'blur', this._onInputBlur);
                }
            }
            if (this.el.parentNode) {
                this.el.parentNode.removeChild(this.el);
            }
        }

    };

    return Pikaday;
}));


(function( $ ) {

	$.ui = $.ui || {};

	var version = $.ui.version = "1.13.2";





	var widgetUuid = 0;
	var widgetHasOwnProperty = Array.prototype.hasOwnProperty;
	var widgetSlice = Array.prototype.slice;

	$.cleanData = ( function( orig ) {
		return function( elems ) {
			var events, elem, i;
			for ( i = 0; ( elem = elems[ i ] ) != null; i++ ) {

				events = $._data( elem, "events" );
				if ( events && events.remove ) {
					$( elem ).triggerHandler( "remove" );
				}
			}
			orig( elems );
		};
	} )( $.cleanData );

	$.widget = function( name, base, prototype ) {
		var existingConstructor, constructor, basePrototype;

		var proxiedPrototype = {};

		var namespace = name.split( "." )[ 0 ];
		name = name.split( "." )[ 1 ];
		var fullName = namespace + "-" + name;

		if ( !prototype ) {
			prototype = base;
			base = $.Widget;
		}

		if ( Array.isArray( prototype ) ) {
			prototype = $.extend.apply( null, [ {} ].concat( prototype ) );
		}

		$.expr.pseudos[ fullName.toLowerCase() ] = function( elem ) {
			return !!$.data( elem, fullName );
		};

		$[ namespace ] = $[ namespace ] || {};
		existingConstructor = $[ namespace ][ name ];
		constructor = $[ namespace ][ name ] = function( options, element ) {

			if ( !this || !this._createWidget ) {
				return new constructor( options, element );
			}

			if ( arguments.length ) {
				this._createWidget( options, element );
			}
		};

		$.extend( constructor, existingConstructor, {
			version: prototype.version,

			_proto: $.extend( {}, prototype ),

			_childConstructors: []
		} );

		basePrototype = new base();

		basePrototype.options = $.widget.extend( {}, basePrototype.options );
		$.each( prototype, function( prop, value ) {
			if ( typeof value !== "function" ) {
				proxiedPrototype[ prop ] = value;
				return;
			}
			proxiedPrototype[ prop ] = ( function() {
				function _super() {
					return base.prototype[ prop ].apply( this, arguments );
				}

				function _superApply( args ) {
					return base.prototype[ prop ].apply( this, args );
				}

				return function() {
					var __super = this._super;
					var __superApply = this._superApply;
					var returnValue;

					this._super = _super;
					this._superApply = _superApply;

					returnValue = value.apply( this, arguments );

					this._super = __super;
					this._superApply = __superApply;

					return returnValue;
				};
			} )();
		} );
		constructor.prototype = $.widget.extend( basePrototype, {

			widgetEventPrefix: existingConstructor ? ( basePrototype.widgetEventPrefix || name ) : name
		}, proxiedPrototype, {
			constructor: constructor,
			namespace: namespace,
			widgetName: name,
			widgetFullName: fullName
		} );

		if ( existingConstructor ) {
			$.each( existingConstructor._childConstructors, function( i, child ) {
				var childPrototype = child.prototype;

				$.widget( childPrototype.namespace + "." + childPrototype.widgetName, constructor,
					child._proto );
			} );

			delete existingConstructor._childConstructors;
		} else {
			base._childConstructors.push( constructor );
		}

		$.widget.bridge( name, constructor );

		return constructor;
	};

	$.widget.extend = function( target ) {
		var input = widgetSlice.call( arguments, 1 );
		var inputIndex = 0;
		var inputLength = input.length;
		var key;
		var value;

		for ( ; inputIndex < inputLength; inputIndex++ ) {
			for ( key in input[ inputIndex ] ) {
				value = input[ inputIndex ][ key ];
				if ( widgetHasOwnProperty.call( input[ inputIndex ], key ) && value !== undefined ) {

					if ( $.isPlainObject( value ) ) {
						target[ key ] = $.isPlainObject( target[ key ] ) ?
							$.widget.extend( {}, target[ key ], value ) :

							$.widget.extend( {}, value );

					} else {
						target[ key ] = value;
					}
				}
			}
		}
		return target;
	};

	$.widget.bridge = function( name, object ) {
		var fullName = object.prototype.widgetFullName || name;
		$.fn[ name ] = function( options ) {
			var isMethodCall = typeof options === "string";
			var args = widgetSlice.call( arguments, 1 );
			var returnValue = this;

			if ( isMethodCall ) {

				if ( !this.length && options === "instance" ) {
					returnValue = undefined;
				} else {
					this.each( function() {
						var methodValue;
						var instance = $.data( this, fullName );

						if ( options === "instance" ) {
							returnValue = instance;
							return false;
						}

						if ( !instance ) {
							return $.error( "cannot call methods on " + name +
								" prior to initialization; " +
								"attempted to call method '" + options + "'" );
						}

						if ( typeof instance[ options ] !== "function" ||
							options.charAt( 0 ) === "_" ) {
							return $.error( "no such method '" + options + "' for " + name +
								" widget instance" );
						}

						methodValue = instance[ options ].apply( instance, args );

						if ( methodValue !== instance && methodValue !== undefined ) {
							returnValue = methodValue && methodValue.jquery ?
								returnValue.pushStack( methodValue.get() ) :
								methodValue;
							return false;
						}
					} );
				}
			} else {

				if ( args.length ) {
					options = $.widget.extend.apply( null, [ options ].concat( args ) );
				}

				this.each( function() {
					var instance = $.data( this, fullName );
					if ( instance ) {
						instance.option( options || {} );
						if ( instance._init ) {
							instance._init();
						}
					} else {
						$.data( this, fullName, new object( options, this ) );
					}
				} );
			}

			return returnValue;
		};
	};

	$.Widget = function(  ) {};
	$.Widget._childConstructors = [];

	$.Widget.prototype = {
		widgetName: "widget",
		widgetEventPrefix: "",
		defaultElement: "<div>",

		options: {
			classes: {},
			disabled: false,

			create: null
		},

		_createWidget: function( options, element ) {
			element = $( element || this.defaultElement || this )[ 0 ];
			this.element = $( element );
			this.uuid = widgetUuid++;
			this.eventNamespace = "." + this.widgetName + this.uuid;

			this.bindings = $();
			this.hoverable = $();
			this.focusable = $();
			this.classesElementLookup = {};

			if ( element !== this ) {
				$.data( element, this.widgetFullName, this );
				this._on( true, this.element, {
					remove: function( event ) {
						if ( event.target === element ) {
							this.destroy();
						}
					}
				} );
				this.document = $( element.style ?

					element.ownerDocument :

					element.document || element );
				this.window = $( this.document[ 0 ].defaultView || this.document[ 0 ].parentWindow );
			}

			this.options = $.widget.extend( {},
				this.options,
				this._getCreateOptions(),
				options );

			this._create();

			if ( this.options.disabled ) {
				this._setOptionDisabled( this.options.disabled );
			}

			this._trigger( "create", null, this._getCreateEventData() );
			this._init();
		},

		_getCreateOptions: function() {
			return {};
		},

		_getCreateEventData: $.noop,

		_create: $.noop,

		_init: $.noop,

		destroy: function() {
			var that = this;

			this._destroy();
			$.each( this.classesElementLookup, function( key, value ) {
				that._removeClass( value, key );
			} );

			this.element
				.off( this.eventNamespace )
				.removeData( this.widgetFullName );
			this.widget()
				.off( this.eventNamespace )
				.removeAttr( "aria-disabled" );

			this.bindings.off( this.eventNamespace );
		},

		_destroy: $.noop,

		widget: function() {
			return this.element;
		},

		option: function( key, value ) {
			var options = key;
			var parts;
			var curOption;
			var i;

			if ( arguments.length === 0 ) {

				return $.widget.extend( {}, this.options );
			}

			if ( typeof key === "string" ) {

				options = {};
				parts = key.split( "." );
				key = parts.shift();
				if ( parts.length ) {
					curOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );
					for ( i = 0; i < parts.length - 1; i++ ) {
						curOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};
						curOption = curOption[ parts[ i ] ];
					}
					key = parts.pop();
					if ( arguments.length === 1 ) {
						return curOption[ key ] === undefined ? null : curOption[ key ];
					}
					curOption[ key ] = value;
				} else {
					if ( arguments.length === 1 ) {
						return this.options[ key ] === undefined ? null : this.options[ key ];
					}
					options[ key ] = value;
				}
			}

			this._setOptions( options );

			return this;
		},

		_setOptions: function( options ) {
			var key;

			for ( key in options ) {
				this._setOption( key, options[ key ] );
			}

			return this;
		},

		_setOption: function( key, value ) {
			if ( key === "classes" ) {
				this._setOptionClasses( value );
			}

			this.options[ key ] = value;

			if ( key === "disabled" ) {
				this._setOptionDisabled( value );
			}

			return this;
		},

		_setOptionClasses: function( value ) {
			var classKey, elements, currentElements;

			for ( classKey in value ) {
				currentElements = this.classesElementLookup[ classKey ];
				if ( value[ classKey ] === this.options.classes[ classKey ] ||
						!currentElements ||
						!currentElements.length ) {
					continue;
				}

				elements = $( currentElements.get() );
				this._removeClass( currentElements, classKey );

				elements.addClass( this._classes( {
					element: elements,
					keys: classKey,
					classes: value,
					add: true
				} ) );
			}
		},

		_setOptionDisabled: function( value ) {
			this._toggleClass( this.widget(), this.widgetFullName + "-disabled", null, !!value );

			if ( value ) {
				this._removeClass( this.hoverable, null, "ui-state-hover" );
				this._removeClass( this.focusable, null, "ui-state-focus" );
			}
		},

		enable: function() {
			return this._setOptions( { disabled: false } );
		},

		disable: function() {
			return this._setOptions( { disabled: true } );
		},

		_classes: function( options ) {
			var full = [];
			var that = this;

			options = $.extend( {
				element: this.element,
				classes: this.options.classes || {}
			}, options );

			function bindRemoveEvent() {
				var nodesToBind = [];

				options.element.each( function( _, element ) {
					var isTracked = $.map( that.classesElementLookup, function( elements ) {
						return elements;
					} )
						.some( function( elements ) {
							return elements.is( element );
						} );

					if ( !isTracked ) {
						nodesToBind.push( element );
					}
				} );

				that._on( $( nodesToBind ), {
					remove: "_untrackClassesElement"
				} );
			}

			function processClassString( classes, checkOption ) {
				var current, i;
				for ( i = 0; i < classes.length; i++ ) {
					current = that.classesElementLookup[ classes[ i ] ] || $();
					if ( options.add ) {
						bindRemoveEvent();
						current = $( $.uniqueSort( current.get().concat( options.element.get() ) ) );
					} else {
						current = $( current.not( options.element ).get() );
					}
					that.classesElementLookup[ classes[ i ] ] = current;
					full.push( classes[ i ] );
					if ( checkOption && options.classes[ classes[ i ] ] ) {
						full.push( options.classes[ classes[ i ] ] );
					}
				}
			}

			if ( options.keys ) {
				processClassString( options.keys.match( /\S+/g ) || [], true );
			}
			if ( options.extra ) {
				processClassString( options.extra.match( /\S+/g ) || [] );
			}

			return full.join( " " );
		},

		_untrackClassesElement: function( event ) {
			var that = this;
			$.each( that.classesElementLookup, function( key, value ) {
				if ( $.inArray( event.target, value ) !== -1 ) {
					that.classesElementLookup[ key ] = $( value.not( event.target ).get() );
				}
			} );

			this._off( $( event.target ) );
		},

		_removeClass: function( element, keys, extra ) {
			return this._toggleClass( element, keys, extra, false );
		},

		_addClass: function( element, keys, extra ) {
			return this._toggleClass( element, keys, extra, true );
		},

		_toggleClass: function( element, keys, extra, add ) {
			add = ( typeof add === "boolean" ) ? add : extra;
			var shift = ( typeof element === "string" || element === null ),
				options = {
					extra: shift ? keys : extra,
					keys: shift ? element : keys,
					element: shift ? this.element : element,
					add: add
				};
			options.element.toggleClass( this._classes( options ), add );
			return this;
		},

		_on: function( suppressDisabledCheck, element, handlers ) {
			var delegateElement;
			var instance = this;

			if ( typeof suppressDisabledCheck !== "boolean" ) {
				handlers = element;
				element = suppressDisabledCheck;
				suppressDisabledCheck = false;
			}

			if ( !handlers ) {
				handlers = element;
				element = this.element;
				delegateElement = this.widget();
			} else {
				element = delegateElement = $( element );
				this.bindings = this.bindings.add( element );
			}

			$.each( handlers, function( event, handler ) {
				function handlerProxy() {

					if ( !suppressDisabledCheck &&
							( instance.options.disabled === true ||
							$( this ).hasClass( "ui-state-disabled" ) ) ) {
						return;
					}
					return ( typeof handler === "string" ? instance[ handler ] : handler )
						.apply( instance, arguments );
				}

				if ( typeof handler !== "string" ) {
					handlerProxy.guid = handler.guid =
						handler.guid || handlerProxy.guid || $.guid++;
				}

				var match = event.match( /^([\w:-]*)\s*(.*)$/ );
				var eventName = match[ 1 ] + instance.eventNamespace;
				var selector = match[ 2 ];

				if ( selector ) {
					delegateElement.on( eventName, selector, handlerProxy );
				} else {
					element.on( eventName, handlerProxy );
				}
			} );
		},

		_off: function( element, eventName ) {
			eventName = ( eventName || "" ).split( " " ).join( this.eventNamespace + " " ) +
				this.eventNamespace;
			element.off( eventName );

			this.bindings = $( this.bindings.not( element ).get() );
			this.focusable = $( this.focusable.not( element ).get() );
			this.hoverable = $( this.hoverable.not( element ).get() );
		},

		_delay: function( handler, delay ) {
			function handlerProxy() {
				return ( typeof handler === "string" ? instance[ handler ] : handler )
					.apply( instance, arguments );
			}
			var instance = this;
			return setTimeout( handlerProxy, delay || 0 );
		},

		_hoverable: function( element ) {
			this.hoverable = this.hoverable.add( element );
			this._on( element, {
				mouseenter: function( event ) {
					this._addClass( $( event.currentTarget ), null, "ui-state-hover" );
				},
				mouseleave: function( event ) {
					this._removeClass( $( event.currentTarget ), null, "ui-state-hover" );
				}
			} );
		},

		_focusable: function( element ) {
			this.focusable = this.focusable.add( element );
			this._on( element, {
				focusin: function( event ) {
					this._addClass( $( event.currentTarget ), null, "ui-state-focus" );
				},
				focusout: function( event ) {
					this._removeClass( $( event.currentTarget ), null, "ui-state-focus" );
				}
			} );
		},

		_trigger: function( type, event, data ) {
			var prop, orig;
			var callback = this.options[ type ];

			data = data || {};
			event = $.Event( event );
			event.type = ( type === this.widgetEventPrefix ?
				type :
				this.widgetEventPrefix + type ).toLowerCase();

			event.target = this.element[ 0 ];

			orig = event.originalEvent;
			if ( orig ) {
				for ( prop in orig ) {
					if ( !( prop in event ) ) {
						event[ prop ] = orig[ prop ];
					}
				}
			}

			this.element.trigger( event, data );
			return !( typeof callback === "function" &&
				callback.apply( this.element[ 0 ], [ event ].concat( data ) ) === false ||
				event.isDefaultPrevented() );
		}
	};

	$.each( { show: "fadeIn", hide: "fadeOut" }, function( method, defaultEffect ) {
		$.Widget.prototype[ "_" + method ] = function( element, options, callback ) {
			if ( typeof options === "string" ) {
				options = { effect: options };
			}

			var hasOptions;
			var effectName = !options ?
				method :
				options === true || typeof options === "number" ?
					defaultEffect :
					options.effect || defaultEffect;

			options = options || {};
			if ( typeof options === "number" ) {
				options = { duration: options };
			} else if ( options === true ) {
				options = {};
			}

			hasOptions = !$.isEmptyObject( options );
			options.complete = callback;

			if ( options.delay ) {
				element.delay( options.delay );
			}

			if ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {
				element[ method ]( options );
			} else if ( effectName !== method && element[ effectName ] ) {
				element[ effectName ]( options.duration, options.easing, callback );
			} else {
				element.queue( function( next ) {
					$( this )[ method ]();
					if ( callback ) {
						callback.call( element[ 0 ] );
					}
					next();
				} );
			}
		};
	} );

	var widget = $.widget;





	( function() {
	var cachedScrollbarWidth,
		max = Math.max,
		abs = Math.abs,
		rhorizontal = /left|center|right/,
		rvertical = /top|center|bottom/,
		roffset = /[\+\-]\d+(\.[\d]+)?%?/,
		rposition = /^\w+/,
		rpercent = /%$/,
		_position = $.fn.position;

	function getOffsets( offsets, width, height ) {
		return [
			parseFloat( offsets[ 0 ] ) * ( rpercent.test( offsets[ 0 ] ) ? width / 100 : 1 ),
			parseFloat( offsets[ 1 ] ) * ( rpercent.test( offsets[ 1 ] ) ? height / 100 : 1 )
		];
	}

	function parseCss( element, property ) {
		return parseInt( $.css( element, property ), 10 ) || 0;
	}

	function isWindow( obj ) {
		return obj != null && obj === obj.window;
	}

	function getDimensions( elem ) {
		var raw = elem[ 0 ];
		if ( raw.nodeType === 9 ) {
			return {
				width: elem.width(),
				height: elem.height(),
				offset: { top: 0, left: 0 }
			};
		}
		if ( isWindow( raw ) ) {
			return {
				width: elem.width(),
				height: elem.height(),
				offset: { top: elem.scrollTop(), left: elem.scrollLeft() }
			};
		}
		if ( raw.preventDefault ) {
			return {
				width: 0,
				height: 0,
				offset: { top: raw.pageY, left: raw.pageX }
			};
		}
		return {
			width: elem.outerWidth(),
			height: elem.outerHeight(),
			offset: elem.offset()
		};
	}

	$.position = {
		scrollbarWidth: function() {
			if ( cachedScrollbarWidth !== undefined ) {
				return cachedScrollbarWidth;
			}
			var w1, w2,
				div = $( "<div style=" +
					"'display:block;position:absolute;width:200px;height:200px;overflow:hidden;'>" +
					"<div style='height:300px;width:auto;'></div></div>" ),
				innerDiv = div.children()[ 0 ];

			$( "body" ).append( div );
			w1 = innerDiv.offsetWidth;
			div.css( "overflow", "scroll" );

			w2 = innerDiv.offsetWidth;

			if ( w1 === w2 ) {
				w2 = div[ 0 ].clientWidth;
			}

			div.remove();

			return ( cachedScrollbarWidth = w1 - w2 );
		},
		getScrollInfo: function( within ) {
			var overflowX = within.isWindow || within.isDocument ? "" :
					within.element.css( "overflow-x" ),
				overflowY = within.isWindow || within.isDocument ? "" :
					within.element.css( "overflow-y" ),
				hasOverflowX = overflowX === "scroll" ||
					( overflowX === "auto" && within.width < within.element[ 0 ].scrollWidth ),
				hasOverflowY = overflowY === "scroll" ||
					( overflowY === "auto" && within.height < within.element[ 0 ].scrollHeight );
			return {
				width: hasOverflowY ? $.position.scrollbarWidth() : 0,
				height: hasOverflowX ? $.position.scrollbarWidth() : 0
			};
		},
		getWithinInfo: function( element ) {
			var withinElement = $( element || window ),
				isElemWindow = isWindow( withinElement[ 0 ] ),
				isDocument = !!withinElement[ 0 ] && withinElement[ 0 ].nodeType === 9,
				hasOffset = !isElemWindow && !isDocument;
			return {
				element: withinElement,
				isWindow: isElemWindow,
				isDocument: isDocument,
				offset: hasOffset ? $( element ).offset() : { left: 0, top: 0 },
				scrollLeft: withinElement.scrollLeft(),
				scrollTop: withinElement.scrollTop(),
				width: withinElement.outerWidth(),
				height: withinElement.outerHeight()
			};
		}
	};

	$.fn.position = function( options ) {
		if ( !options || !options.of ) {
			return _position.apply( this, arguments );
		}

		options = $.extend( {}, options );

		var atOffset, targetWidth, targetHeight, targetOffset, basePosition, dimensions,

			target = typeof options.of === "string" ?
				$( document ).find( options.of ) :
				$( options.of ),

			within = $.position.getWithinInfo( options.within ),
			scrollInfo = $.position.getScrollInfo( within ),
			collision = ( options.collision || "flip" ).split( " " ),
			offsets = {};

		dimensions = getDimensions( target );
		if ( target[ 0 ].preventDefault ) {

			options.at = "left top";
		}
		targetWidth = dimensions.width;
		targetHeight = dimensions.height;
		targetOffset = dimensions.offset;

		basePosition = $.extend( {}, targetOffset );

		$.each( [ "my", "at" ], function() {
			var pos = ( options[ this ] || "" ).split( " " ),
				horizontalOffset,
				verticalOffset;

			if ( pos.length === 1 ) {
				pos = rhorizontal.test( pos[ 0 ] ) ?
					pos.concat( [ "center" ] ) :
					rvertical.test( pos[ 0 ] ) ?
						[ "center" ].concat( pos ) :
						[ "center", "center" ];
			}
			pos[ 0 ] = rhorizontal.test( pos[ 0 ] ) ? pos[ 0 ] : "center";
			pos[ 1 ] = rvertical.test( pos[ 1 ] ) ? pos[ 1 ] : "center";

			horizontalOffset = roffset.exec( pos[ 0 ] );
			verticalOffset = roffset.exec( pos[ 1 ] );
			offsets[ this ] = [
				horizontalOffset ? horizontalOffset[ 0 ] : 0,
				verticalOffset ? verticalOffset[ 0 ] : 0
			];

			options[ this ] = [
				rposition.exec( pos[ 0 ] )[ 0 ],
				rposition.exec( pos[ 1 ] )[ 0 ]
			];
		} );

		if ( collision.length === 1 ) {
			collision[ 1 ] = collision[ 0 ];
		}

		if ( options.at[ 0 ] === "right" ) {
			basePosition.left += targetWidth;
		} else if ( options.at[ 0 ] === "center" ) {
			basePosition.left += targetWidth / 2;
		}

		if ( options.at[ 1 ] === "bottom" ) {
			basePosition.top += targetHeight;
		} else if ( options.at[ 1 ] === "center" ) {
			basePosition.top += targetHeight / 2;
		}

		atOffset = getOffsets( offsets.at, targetWidth, targetHeight );
		basePosition.left += atOffset[ 0 ];
		basePosition.top += atOffset[ 1 ];

		return this.each( function() {
			var collisionPosition, using,
				elem = $( this ),
				elemWidth = elem.outerWidth(),
				elemHeight = elem.outerHeight(),
				marginLeft = parseCss( this, "marginLeft" ),
				marginTop = parseCss( this, "marginTop" ),
				collisionWidth = elemWidth + marginLeft + parseCss( this, "marginRight" ) +
					scrollInfo.width,
				collisionHeight = elemHeight + marginTop + parseCss( this, "marginBottom" ) +
					scrollInfo.height,
				position = $.extend( {}, basePosition ),
				myOffset = getOffsets( offsets.my, elem.outerWidth(), elem.outerHeight() );

			if ( options.my[ 0 ] === "right" ) {
				position.left -= elemWidth;
			} else if ( options.my[ 0 ] === "center" ) {
				position.left -= elemWidth / 2;
			}

			if ( options.my[ 1 ] === "bottom" ) {
				position.top -= elemHeight;
			} else if ( options.my[ 1 ] === "center" ) {
				position.top -= elemHeight / 2;
			}

			position.left += myOffset[ 0 ];
			position.top += myOffset[ 1 ];

			collisionPosition = {
				marginLeft: marginLeft,
				marginTop: marginTop
			};

			$.each( [ "left", "top" ], function( i, dir ) {
				if ( $.ui.position[ collision[ i ] ] ) {
					$.ui.position[ collision[ i ] ][ dir ]( position, {
						targetWidth: targetWidth,
						targetHeight: targetHeight,
						elemWidth: elemWidth,
						elemHeight: elemHeight,
						collisionPosition: collisionPosition,
						collisionWidth: collisionWidth,
						collisionHeight: collisionHeight,
						offset: [ atOffset[ 0 ] + myOffset[ 0 ], atOffset [ 1 ] + myOffset[ 1 ] ],
						my: options.my,
						at: options.at,
						within: within,
						elem: elem
					} );
				}
			} );

			if ( options.using ) {

				using = function( props ) {
					var left = targetOffset.left - position.left,
						right = left + targetWidth - elemWidth,
						top = targetOffset.top - position.top,
						bottom = top + targetHeight - elemHeight,
						feedback = {
							target: {
								element: target,
								left: targetOffset.left,
								top: targetOffset.top,
								width: targetWidth,
								height: targetHeight
							},
							element: {
								element: elem,
								left: position.left,
								top: position.top,
								width: elemWidth,
								height: elemHeight
							},
							horizontal: right < 0 ? "left" : left > 0 ? "right" : "center",
							vertical: bottom < 0 ? "top" : top > 0 ? "bottom" : "middle"
						};
					if ( targetWidth < elemWidth && abs( left + right ) < targetWidth ) {
						feedback.horizontal = "center";
					}
					if ( targetHeight < elemHeight && abs( top + bottom ) < targetHeight ) {
						feedback.vertical = "middle";
					}
					if ( max( abs( left ), abs( right ) ) > max( abs( top ), abs( bottom ) ) ) {
						feedback.important = "horizontal";
					} else {
						feedback.important = "vertical";
					}
					options.using.call( this, props, feedback );
				};
			}

			elem.offset( $.extend( position, { using: using } ) );
		} );
	};

	$.ui.position = {
		fit: {
			left: function( position, data ) {
				var within = data.within,
					withinOffset = within.isWindow ? within.scrollLeft : within.offset.left,
					outerWidth = within.width,
					collisionPosLeft = position.left - data.collisionPosition.marginLeft,
					overLeft = withinOffset - collisionPosLeft,
					overRight = collisionPosLeft + data.collisionWidth - outerWidth - withinOffset,
					newOverRight;

				if ( data.collisionWidth > outerWidth ) {

					if ( overLeft > 0 && overRight <= 0 ) {
						newOverRight = position.left + overLeft + data.collisionWidth - outerWidth -
							withinOffset;
						position.left += overLeft - newOverRight;

					} else if ( overRight > 0 && overLeft <= 0 ) {
						position.left = withinOffset;

					} else {
						if ( overLeft > overRight ) {
							position.left = withinOffset + outerWidth - data.collisionWidth;
						} else {
							position.left = withinOffset;
						}
					}

				} else if ( overLeft > 0 ) {
					position.left += overLeft;

				} else if ( overRight > 0 ) {
					position.left -= overRight;

				} else {
					position.left = max( position.left - collisionPosLeft, position.left );
				}
			},
			top: function( position, data ) {
				var within = data.within,
					withinOffset = within.isWindow ? within.scrollTop : within.offset.top,
					outerHeight = data.within.height,
					collisionPosTop = position.top - data.collisionPosition.marginTop,
					overTop = withinOffset - collisionPosTop,
					overBottom = collisionPosTop + data.collisionHeight - outerHeight - withinOffset,
					newOverBottom;

				if ( data.collisionHeight > outerHeight ) {

					if ( overTop > 0 && overBottom <= 0 ) {
						newOverBottom = position.top + overTop + data.collisionHeight - outerHeight -
							withinOffset;
						position.top += overTop - newOverBottom;

					} else if ( overBottom > 0 && overTop <= 0 ) {
						position.top = withinOffset;

					} else {
						if ( overTop > overBottom ) {
							position.top = withinOffset + outerHeight - data.collisionHeight;
						} else {
							position.top = withinOffset;
						}
					}

				} else if ( overTop > 0 ) {
					position.top += overTop;

				} else if ( overBottom > 0 ) {
					position.top -= overBottom;

				} else {
					position.top = max( position.top - collisionPosTop, position.top );
				}
			}
		},
		flip: {
			left: function( position, data ) {
				var within = data.within,
					withinOffset = within.offset.left + within.scrollLeft,
					outerWidth = within.width,
					offsetLeft = within.isWindow ? within.scrollLeft : within.offset.left,
					collisionPosLeft = position.left - data.collisionPosition.marginLeft,
					overLeft = collisionPosLeft - offsetLeft,
					overRight = collisionPosLeft + data.collisionWidth - outerWidth - offsetLeft,
					myOffset = data.my[ 0 ] === "left" ?
						-data.elemWidth :
						data.my[ 0 ] === "right" ?
							data.elemWidth :
							0,
					atOffset = data.at[ 0 ] === "left" ?
						data.targetWidth :
						data.at[ 0 ] === "right" ?
							-data.targetWidth :
							0,
					offset = -2 * data.offset[ 0 ],
					newOverRight,
					newOverLeft;

				if ( overLeft < 0 ) {
					newOverRight = position.left + myOffset + atOffset + offset + data.collisionWidth -
						outerWidth - withinOffset;
					if ( newOverRight < 0 || newOverRight < abs( overLeft ) ) {
						position.left += myOffset + atOffset + offset;
					}
				} else if ( overRight > 0 ) {
					newOverLeft = position.left - data.collisionPosition.marginLeft + myOffset +
						atOffset + offset - offsetLeft;
					if ( newOverLeft > 0 || abs( newOverLeft ) < overRight ) {
						position.left += myOffset + atOffset + offset;
					}
				}
			},
			top: function( position, data ) {
				var within = data.within,
					withinOffset = within.offset.top + within.scrollTop,
					outerHeight = within.height,
					offsetTop = within.isWindow ? within.scrollTop : within.offset.top,
					collisionPosTop = position.top - data.collisionPosition.marginTop,
					overTop = collisionPosTop - offsetTop,
					overBottom = collisionPosTop + data.collisionHeight - outerHeight - offsetTop,
					top = data.my[ 1 ] === "top",
					myOffset = top ?
						-data.elemHeight :
						data.my[ 1 ] === "bottom" ?
							data.elemHeight :
							0,
					atOffset = data.at[ 1 ] === "top" ?
						data.targetHeight :
						data.at[ 1 ] === "bottom" ?
							-data.targetHeight :
							0,
					offset = -2 * data.offset[ 1 ],
					newOverTop,
					newOverBottom;
				if ( overTop < 0 ) {
					newOverBottom = position.top + myOffset + atOffset + offset + data.collisionHeight -
						outerHeight - withinOffset;
					if ( newOverBottom < 0 || newOverBottom < abs( overTop ) ) {
						position.top += myOffset + atOffset + offset;
					}
				} else if ( overBottom > 0 ) {
					newOverTop = position.top - data.collisionPosition.marginTop + myOffset + atOffset +
						offset - offsetTop;
					if ( newOverTop > 0 || abs( newOverTop ) < overBottom ) {
						position.top += myOffset + atOffset + offset;
					}
				}
			}
		},
		flipfit: {
			left: function() {
				$.ui.position.flip.left.apply( this, arguments );
				$.ui.position.fit.left.apply( this, arguments );
			},
			top: function() {
				$.ui.position.flip.top.apply( this, arguments );
				$.ui.position.fit.top.apply( this, arguments );
			}
		}
	};

	} )();

	var position = $.ui.position;





	if ( !$.expr.pseudos ) {
		$.expr.pseudos = $.expr[ ":" ];
	}

	if ( !$.uniqueSort ) {
		$.uniqueSort = $.unique;
	}

	if ( !$.escapeSelector ) {

		var rcssescape = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;

		var fcssescape = function( ch, asCodePoint ) {
			if ( asCodePoint ) {

				if ( ch === "\0" ) {
					return "\uFFFD";
				}

				return ch.slice( 0, -1 ) + "\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + " ";
			}

			return "\\" + ch;
		};

		$.escapeSelector = function( sel ) {
			return ( sel + "" ).replace( rcssescape, fcssescape );
		};
	}

	if ( !$.fn.even || !$.fn.odd ) {
		$.fn.extend( {
			even: function() {
				return this.filter( function( i ) {
					return i % 2 === 0;
				} );
			},
			odd: function() {
				return this.filter( function( i ) {
					return i % 2 === 1;
				} );
			}
		} );
	}

	;



	var keycode = $.ui.keyCode = {
		BACKSPACE: 8,
		COMMA: 188,
		DELETE: 46,
		DOWN: 40,
		END: 35,
		ENTER: 13,
		ESCAPE: 27,
		HOME: 36,
		LEFT: 37,
		PAGE_DOWN: 34,
		PAGE_UP: 33,
		PERIOD: 190,
		RIGHT: 39,
		SPACE: 32,
		TAB: 9,
		UP: 38
	};





	var scrollParent = $.fn.scrollParent = function( includeHidden ) {
		var position = this.css( "position" ),
			excludeStaticParent = position === "absolute",
			overflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,
			scrollParent = this.parents().filter( function() {
				var parent = $( this );
				if ( excludeStaticParent && parent.css( "position" ) === "static" ) {
					return false;
				}
				return overflowRegex.test( parent.css( "overflow" ) + parent.css( "overflow-y" ) +
					parent.css( "overflow-x" ) );
			} ).eq( 0 );

		return position === "fixed" || !scrollParent.length ?
			$( this[ 0 ].ownerDocument || document ) :
			scrollParent;
	}; 





	var uniqueId = $.fn.extend( {
		uniqueId: ( function() {
			var uuid = 0;

			return function() {
				return this.each( function() {
					if ( !this.id ) {
						this.id = "ui-id-" + ( ++uuid );
					}
				} );
			};
		} )(),

		removeUniqueId: function() {
			return this.each( function() {
				if ( /^ui-id-\d+$/.test( this.id ) ) {
					$( this ).removeAttr( "id" );
				}
			} );
		}
	} );




})(jQuery);

(function( factory ) {
	if ( typeof define === "function" && define.amd ) {
		define( [ "jquery" ], factory );
	} else if ( typeof module === "object" && module.exports ) {
		module.exports = factory(require("jquery"));
	} else {
		factory( jQuery );
	}
}(function( $ ) {




(function (factory) {
	if (typeof define === "function" && define.amd) {
		define(["jquery", "./jquery.fancytree.ui-deps"], factory);
	} else if (typeof module === "object" && module.exports) {
		require("./jquery.fancytree.ui-deps");
		module.exports = factory(require("jquery"));
	} else {
		factory(jQuery);
	}
})(function ($) {
	"use strict";

	if ($.ui && $.ui.fancytree) {
		$.ui.fancytree.warn("Fancytree: ignored duplicate include");
		return;
	}


	var i,
		attr,
		FT = null, 
		TEST_IMG = new RegExp(/\.|\//), 
		REX_HTML = /[&<>"'/]/g, 
		REX_TOOLTIP = /[<>"'/]/g, 
		RECURSIVE_REQUEST_ERROR = "$recursive_request",
		INVALID_REQUEST_TARGET_ERROR = "$request_target_invalid",
		ENTITY_MAP = {
			"&": "&amp;",
			"<": "&lt;",
			">": "&gt;",
			'"': "&quot;",
			"'": "&#39;",
			"/": "&#x2F;",
		},
		IGNORE_KEYCODES = { 16: true, 17: true, 18: true },
		SPECIAL_KEYCODES = {
			8: "backspace",
			9: "tab",
			10: "return",
			13: "return",
			19: "pause",
			20: "capslock",
			27: "esc",
			32: "space",
			33: "pageup",
			34: "pagedown",
			35: "end",
			36: "home",
			37: "left",
			38: "up",
			39: "right",
			40: "down",
			45: "insert",
			46: "del",
			59: ";",
			61: "=",
			96: "0",
			97: "1",
			98: "2",
			99: "3",
			100: "4",
			101: "5",
			102: "6",
			103: "7",
			104: "8",
			105: "9",
			106: "*",
			107: "+",
			109: "-",
			110: ".",
			111: "/",
			112: "f1",
			113: "f2",
			114: "f3",
			115: "f4",
			116: "f5",
			117: "f6",
			118: "f7",
			119: "f8",
			120: "f9",
			121: "f10",
			122: "f11",
			123: "f12",
			144: "numlock",
			145: "scroll",
			173: "-",
			186: ";",
			187: "=",
			188: ",",
			189: "-",
			190: ".",
			191: "/",
			192: "`",
			219: "[",
			220: "\\",
			221: "]",
			222: "'",
		},
		MODIFIERS = {
			16: "shift",
			17: "ctrl",
			18: "alt",
			91: "meta",
			93: "meta",
		},
		MOUSE_BUTTONS = { 0: "", 1: "left", 2: "middle", 3: "right" },
		CLASS_ATTRS =
			"active expanded focus folder lazy radiogroup selected unselectable unselectableIgnore".split(
				" "
			),
		CLASS_ATTR_MAP = {},
		TREE_ATTRS = "columns types".split(" "),
		NODE_ATTRS =
			"checkbox expanded extraClasses folder icon iconTooltip key lazy partsel radiogroup refKey selected statusNodeType title tooltip type unselectable unselectableIgnore unselectableStatus".split(
				" "
			),
		NODE_ATTR_MAP = {},
		NODE_ATTR_LOWERCASE_MAP = {},
		NONE_NODE_DATA_MAP = {
			active: true,
			children: true,
			data: true,
			focus: true,
		};

	for (i = 0; i < CLASS_ATTRS.length; i++) {
		CLASS_ATTR_MAP[CLASS_ATTRS[i]] = true;
	}
	for (i = 0; i < NODE_ATTRS.length; i++) {
		attr = NODE_ATTRS[i];
		NODE_ATTR_MAP[attr] = true;
		if (attr !== attr.toLowerCase()) {
			NODE_ATTR_LOWERCASE_MAP[attr.toLowerCase()] = attr;
		}
	}

	function _assert(cond, msg) {
		if (!cond) {
			msg = msg ? ": " + msg : "";
			msg = "Fancytree assertion failed" + msg;


			$.ui.fancytree.error(msg);

			$.error(msg);
		}
	}

	function _hasProp(object, property) {
		return Object.prototype.hasOwnProperty.call(object, property);
	}

	function _isFunction(obj) {
		return typeof obj === "function";
	}

	function _trim(text) {
		return text == null ? "" : text.trim();
	}

	var _isArray = Array.isArray;

	_assert($.ui, "Fancytree requires jQuery UI (http://jqueryui.com)");

	function consoleApply(method, args) {
		var i,
			s,
			fn = window.console ? window.console[method] : null;

		if (fn) {
			try {
				fn.apply(window.console, args);
			} catch (e) {
				s = "";
				for (i = 0; i < args.length; i++) {
					s += args[i];
				}
				fn(s);
			}
		}
	}

	if (!Date.now) {
		Date.now = function now() {
			return new Date().getTime();
		};
	}

	function _isNode(x) {
		return !!(x.tree && x.statusNodeType !== undefined);
	}

	function isVersionAtLeast(dottedVersion, major, minor, patch) {
		var i,
			v,
			t,
			verParts = $.map(_trim(dottedVersion).split("."), function (e) {
				return parseInt(e, 10);
			}),
			testParts = $.map(
				Array.prototype.slice.call(arguments, 1),
				function (e) {
					return parseInt(e, 10);
				}
			);

		for (i = 0; i < testParts.length; i++) {
			v = verParts[i] || 0;
			t = testParts[i] || 0;
			if (v !== t) {
				return v > t;
			}
		}
		return true;
	}

	function _simpleDeepMerge() {
		var options,
			name,
			src,
			copy,
			clone,
			target = arguments[0] || {},
			i = 1,
			length = arguments.length;

		if (typeof target !== "object" && !_isFunction(target)) {
			target = {};
		}
		if (i === length) {
			throw Error("need at least two args");
		}
		for (; i < length; i++) {
			if ((options = arguments[i]) != null) {
				for (name in options) {
					if (_hasProp(options, name)) {
						src = target[name];
						copy = options[name];
						if (target === copy) {
							continue;
						}
						if (copy && $.isPlainObject(copy)) {
							clone = src && $.isPlainObject(src) ? src : {};
							target[name] = _simpleDeepMerge(clone, copy);
						} else if (copy !== undefined) {
							target[name] = copy;
						}
					}
				}
			}
		}
		return target;
	}

	function _makeVirtualFunction(methodName, tree, base, extension, extName) {
		var proxy = (function () {
			var prevFunc = tree[methodName], 
				baseFunc = extension[methodName], 
				_local = tree.ext[extName],
				_super = function () {
					return prevFunc.apply(tree, arguments);
				},
				_superApply = function (args) {
					return prevFunc.apply(tree, args);
				};

			return function () {
				var prevLocal = tree._local,
					prevSuper = tree._super,
					prevSuperApply = tree._superApply;

				try {
					tree._local = _local;
					tree._super = _super;
					tree._superApply = _superApply;
					return baseFunc.apply(tree, arguments);
				} finally {
					tree._local = prevLocal;
					tree._super = prevSuper;
					tree._superApply = prevSuperApply;
				}
			};
		})(); 
		return proxy;
	}

	function _subclassObject(tree, base, extension, extName) {
		for (var attrName in extension) {
			if (typeof extension[attrName] === "function") {
				if (typeof tree[attrName] === "function") {
					tree[attrName] = _makeVirtualFunction(
						attrName,
						tree,
						base,
						extension,
						extName
					);
				} else if (attrName.charAt(0) === "_") {
					tree.ext[extName][attrName] = _makeVirtualFunction(
						attrName,
						tree,
						base,
						extension,
						extName
					);
				} else {
					$.error(
						"Could not override tree." +
							attrName +
							". Use prefix '_' to create tree." +
							extName +
							"._" +
							attrName
					);
				}
			} else {
				if (attrName !== "options") {
					tree.ext[extName][attrName] = extension[attrName];
				}
			}
		}
	}

	function _getResolvedPromise(context, argArray) {
		if (context === undefined) {
			return $.Deferred(function () {
				this.resolve();
			}).promise();
		}
		return $.Deferred(function () {
			this.resolveWith(context, argArray);
		}).promise();
	}

	function _getRejectedPromise(context, argArray) {
		if (context === undefined) {
			return $.Deferred(function () {
				this.reject();
			}).promise();
		}
		return $.Deferred(function () {
			this.rejectWith(context, argArray);
		}).promise();
	}

	function _makeResolveFunc(deferred, context) {
		return function () {
			deferred.resolveWith(context);
		};
	}

	function _getElementDataAsDict($el) {
		var d = $.extend({}, $el.data()),
			json = d.json;

		delete d.fancytree; 
		delete d.uiFancytree; 

		if (json) {
			delete d.json;
			d = $.extend(d, json);
		}
		return d;
	}

	function _escapeTooltip(s) {
		return ("" + s).replace(REX_TOOLTIP, function (s) {
			return ENTITY_MAP[s];
		});
	}

	function _makeNodeTitleMatcher(s) {
		s = s.toLowerCase();
		return function (node) {
			return node.title.toLowerCase().indexOf(s) >= 0;
		};
	}

	function _makeNodeTitleStartMatcher(s) {
		var reMatch = new RegExp("^" + s, "i");
		return function (node) {
			return reMatch.test(node.title);
		};
	}


	function FancytreeNode(parent, obj) {
		var i, l, name, cl;

		this.parent = parent;
		this.tree = parent.tree;
		this.ul = null;
		this.li = null; 
		this.statusNodeType = null; 
		this._isLoading = false; 
		this._error = null; 
		this.data = {};

		for (i = 0, l = NODE_ATTRS.length; i < l; i++) {
			name = NODE_ATTRS[i];
			this[name] = obj[name];
		}
		if (
			this.unselectableIgnore != null ||
			this.unselectableStatus != null
		) {
			this.unselectable = true;
		}
		if (obj.hideCheckbox) {
			$.error(
				"'hideCheckbox' node option was removed in v2.23.0: use 'checkbox: false'"
			);
		}
		if (obj.data) {
			$.extend(this.data, obj.data);
		}
		for (name in obj) {
			if (
				!NODE_ATTR_MAP[name] &&
				(this.tree.options.copyFunctionsToData ||
					!_isFunction(obj[name])) &&
				!NONE_NODE_DATA_MAP[name]
			) {
				this.data[name] = obj[name];
			}
		}

		if (this.key == null) {
			if (this.tree.options.defaultKey) {
				this.key = "" + this.tree.options.defaultKey(this);
				_assert(this.key, "defaultKey() must return a unique key");
			} else {
				this.key = "_" + FT._nextNodeKey++;
			}
		} else {
			this.key = "" + this.key; 
		}

		if (obj.active) {
			_assert(
				this.tree.activeNode === null,
				"only one active node allowed"
			);
			this.tree.activeNode = this;
		}
		if (obj.selected) {
			this.tree.lastSelectedNode = this;
		}

		cl = obj.children;
		if (cl) {
			if (cl.length) {
				this._setChildren(cl);
			} else {
				this.children = this.lazy ? [] : null;
			}
		} else {
			this.children = null;
		}
		this.tree._callHook("treeRegisterNode", this.tree, true, this);
	}

	FancytreeNode.prototype =  {
		_findDirectChild: function (ptr) {
			var i,
				l,
				cl = this.children;

			if (cl) {
				if (typeof ptr === "string") {
					for (i = 0, l = cl.length; i < l; i++) {
						if (cl[i].key === ptr) {
							return cl[i];
						}
					}
				} else if (typeof ptr === "number") {
					return this.children[ptr];
				} else if (ptr.parent === this) {
					return ptr;
				}
			}
			return null;
		},
		_setChildren: function (children) {
			_assert(
				children && (!this.children || this.children.length === 0),
				"only init supported"
			);
			this.children = [];
			for (var i = 0, l = children.length; i < l; i++) {
				this.children.push(new FancytreeNode(this, children[i]));
			}
			this.tree._callHook(
				"treeStructureChanged",
				this.tree,
				"setChildren"
			);
		},
		addChildren: function (children, insertBefore) {
			var i,
				l,
				pos,
				origFirstChild = this.getFirstChild(),
				origLastChild = this.getLastChild(),
				firstNode = null,
				nodeList = [];

			if ($.isPlainObject(children)) {
				children = [children];
			}
			if (!this.children) {
				this.children = [];
			}
			for (i = 0, l = children.length; i < l; i++) {
				nodeList.push(new FancytreeNode(this, children[i]));
			}
			firstNode = nodeList[0];
			if (insertBefore == null) {
				this.children = this.children.concat(nodeList);
			} else {
				insertBefore = this._findDirectChild(insertBefore);
				pos = $.inArray(insertBefore, this.children);
				_assert(pos >= 0, "insertBefore must be an existing child");
				this.children.splice.apply(
					this.children,
					[pos, 0].concat(nodeList)
				);
			}
			if (origFirstChild && !insertBefore) {
				for (i = 0, l = nodeList.length; i < l; i++) {
					nodeList[i].render(); 
				}
				if (origFirstChild !== this.getFirstChild()) {
					origFirstChild.renderStatus();
				}
				if (origLastChild !== this.getLastChild()) {
					origLastChild.renderStatus();
				}
			} else if (!this.parent || this.parent.ul || this.tr) {
				this.render();
			}
			if (this.tree.options.selectMode === 3) {
				this.fixSelection3FromEndNodes();
			}
			this.triggerModifyChild(
				"add",
				nodeList.length === 1 ? nodeList[0] : null
			);
			return firstNode;
		},
		addClass: function (className) {
			return this.toggleClass(className, true);
		},
		addNode: function (node, mode) {
			if (mode === undefined || mode === "over") {
				mode = "child";
			}
			switch (mode) {
				case "after":
					return this.getParent().addChildren(
						node,
						this.getNextSibling()
					);
				case "before":
					return this.getParent().addChildren(node, this);
				case "firstChild":
					var insertBefore = this.children ? this.children[0] : null;
					return this.addChildren(node, insertBefore);
				case "child":
				case "over":
					return this.addChildren(node);
			}
			_assert(false, "Invalid mode: " + mode);
		},
		addPagingNode: function (node, mode) {
			var i, n;

			mode = mode || "child";
			if (node === false) {
				for (i = this.children.length - 1; i >= 0; i--) {
					n = this.children[i];
					if (n.statusNodeType === "paging") {
						this.removeChild(n);
					}
				}
				this.partload = false;
				return;
			}
			node = $.extend(
				{
					title: this.tree.options.strings.moreData,
					statusNodeType: "paging",
					icon: false,
				},
				node
			);
			this.partload = true;
			return this.addNode(node, mode);
		},
		appendSibling: function (node) {
			return this.addNode(node, "after");
		},
		applyCommand: function (cmd, opts) {
			return this.tree.applyCommand(cmd, this, opts);
		},
		applyPatch: function (patch) {
			if (patch === null) {
				this.remove();
				return _getResolvedPromise(this);
			}
			var name,
				promise,
				v,
				IGNORE_MAP = { children: true, expanded: true, parent: true }; 

			for (name in patch) {
				if (_hasProp(patch, name)) {
					v = patch[name];
					if (!IGNORE_MAP[name] && !_isFunction(v)) {
						if (NODE_ATTR_MAP[name]) {
							this[name] = v;
						} else {
							this.data[name] = v;
						}
					}
				}
			}
			if (_hasProp(patch, "children")) {
				this.removeChildren();
				if (patch.children) {
					this._setChildren(patch.children);
				}
			}
			if (this.isVisible()) {
				this.renderTitle();
				this.renderStatus();
			}
			if (_hasProp(patch, "expanded")) {
				promise = this.setExpanded(patch.expanded);
			} else {
				promise = _getResolvedPromise(this);
			}
			return promise;
		},
		collapseSiblings: function () {
			return this.tree._callHook("nodeCollapseSiblings", this);
		},
		copyTo: function (node, mode, map) {
			return node.addNode(this.toDict(true, map), mode);
		},
		countChildren: function (deep) {
			var cl = this.children,
				i,
				l,
				n;
			if (!cl) {
				return 0;
			}
			n = cl.length;
			if (deep !== false) {
				for (i = 0, l = n; i < l; i++) {
					n += cl[i].countChildren();
				}
			}
			return n;
		},
		debug: function (msg) {
			if (this.tree.options.debugLevel >= 4) {
				Array.prototype.unshift.call(arguments, this.toString());
				consoleApply("log", arguments);
			}
		},
		discard: function () {
			this.warn(
				"FancytreeNode.discard() is deprecated since 2014-02-16. Use .resetLazy() instead."
			);
			return this.resetLazy();
		},
		discardMarkup: function (includeSelf) {
			var fn = includeSelf ? "nodeRemoveMarkup" : "nodeRemoveChildMarkup";
			this.tree._callHook(fn, this);
		},
		error: function (msg) {
			if (this.tree.options.debugLevel >= 1) {
				Array.prototype.unshift.call(arguments, this.toString());
				consoleApply("error", arguments);
			}
		},
		findAll: function (match) {
			match = _isFunction(match) ? match : _makeNodeTitleMatcher(match);
			var res = [];
			this.visit(function (n) {
				if (match(n)) {
					res.push(n);
				}
			});
			return res;
		},
		findFirst: function (match) {
			match = _isFunction(match) ? match : _makeNodeTitleMatcher(match);
			var res = null;
			this.visit(function (n) {
				if (match(n)) {
					res = n;
					return false;
				}
			});
			return res;
		},
		findRelatedNode: function (where, includeHidden) {
			return this.tree.findRelatedNode(this, where, includeHidden);
		},
		_changeSelectStatusAttrs: function (state) {
			var changed = false,
				opts = this.tree.options,
				unselectable = FT.evalOption(
					"unselectable",
					this,
					this,
					opts,
					false
				),
				unselectableStatus = FT.evalOption(
					"unselectableStatus",
					this,
					this,
					opts,
					undefined
				);

			if (unselectable && unselectableStatus != null) {
				state = unselectableStatus;
			}
			switch (state) {
				case false:
					changed = this.selected || this.partsel;
					this.selected = false;
					this.partsel = false;
					break;
				case true:
					changed = !this.selected || !this.partsel;
					this.selected = true;
					this.partsel = true;
					break;
				case undefined:
					changed = this.selected || !this.partsel;
					this.selected = false;
					this.partsel = true;
					break;
				default:
					_assert(false, "invalid state: " + state);
			}
			if (changed) {
				this.renderStatus();
			}
			return changed;
		},
		fixSelection3AfterClick: function (callOpts) {
			var flag = this.isSelected();


			this.visit(function (node) {
				node._changeSelectStatusAttrs(flag);
				if (node.radiogroup) {
					return "skip";
				}
			});
			this.fixSelection3FromEndNodes(callOpts);
		},
		fixSelection3FromEndNodes: function (callOpts) {
			var opts = this.tree.options;

			_assert(opts.selectMode === 3, "expected selectMode 3");

			function _walk(node) {
				var i,
					l,
					child,
					s,
					state,
					allSelected,
					someSelected,
					unselIgnore,
					unselState,
					children = node.children;

				if (children && children.length) {
					allSelected = true;
					someSelected = false;

					for (i = 0, l = children.length; i < l; i++) {
						child = children[i];
						s = _walk(child);
						unselIgnore = FT.evalOption(
							"unselectableIgnore",
							child,
							child,
							opts,
							false
						);
						if (!unselIgnore) {
							if (s !== false) {
								someSelected = true;
							}
							if (s !== true) {
								allSelected = false;
							}
						}
					}
					state = allSelected
						? true
						: someSelected
						? undefined
						: false;
				} else {
					unselState = FT.evalOption(
						"unselectableStatus",
						node,
						node,
						opts,
						undefined
					);
					state = unselState == null ? !!node.selected : !!unselState;
				}
				if (
					node.partsel &&
					!node.selected &&
					node.lazy &&
					node.children == null
				) {
					state = undefined;
				}
				node._changeSelectStatusAttrs(state);
				return state;
			}
			_walk(this);

			this.visitParents(function (node) {
				var i,
					l,
					child,
					state,
					unselIgnore,
					unselState,
					children = node.children,
					allSelected = true,
					someSelected = false;

				for (i = 0, l = children.length; i < l; i++) {
					child = children[i];
					unselIgnore = FT.evalOption(
						"unselectableIgnore",
						child,
						child,
						opts,
						false
					);
					if (!unselIgnore) {
						unselState = FT.evalOption(
							"unselectableStatus",
							child,
							child,
							opts,
							undefined
						);
						state =
							unselState == null
								? !!child.selected
								: !!unselState;
						if (state || child.partsel) {
							someSelected = true;
						}
						if (!state) {
							allSelected = false;
						}
					}
				}
				state = allSelected ? true : someSelected ? undefined : false;
				node._changeSelectStatusAttrs(state);
			});
		},
		fromDict: function (dict) {
			for (var name in dict) {
				if (NODE_ATTR_MAP[name]) {
					this[name] = dict[name];
				} else if (name === "data") {
					$.extend(this.data, dict.data);
				} else if (
					!_isFunction(dict[name]) &&
					!NONE_NODE_DATA_MAP[name]
				) {
					this.data[name] = dict[name];
				}
			}
			if (dict.children) {
				this.removeChildren();
				this.addChildren(dict.children);
			}
			this.renderTitle();
		},
		getChildren: function () {
			if (this.hasChildren() === undefined) {
				return undefined; 
			}
			return this.children;
		},
		getFirstChild: function () {
			return this.children ? this.children[0] : null;
		},
		getIndex: function () {
			return $.inArray(this, this.parent.children); 
		},
		getIndexHier: function (separator, digits) {
			separator = separator || ".";
			var s,
				res = [];
			$.each(this.getParentList(false, true), function (i, o) {
				s = "" + (o.getIndex() + 1);
				if (digits) {
					s = ("0000000" + s).substr(-digits);
				}
				res.push(s);
			});
			return res.join(separator);
		},
		getKeyPath: function (excludeSelf) {
			var sep = this.tree.options.keyPathSeparator;

			return sep + this.getPath(!excludeSelf, "key", sep);
		},
		getLastChild: function () {
			return this.children
				? this.children[this.children.length - 1]
				: null;
		},
		getLevel: function () {
			var level = 0,
				dtn = this.parent;
			while (dtn) {
				level++;
				dtn = dtn.parent;
			}
			return level;
		},
		getNextSibling: function () {
			if (this.parent) {
				var i,
					l,
					ac = this.parent.children;

				for (i = 0, l = ac.length - 1; i < l; i++) {
					if (ac[i] === this) {
						return ac[i + 1];
					}
				}
			}
			return null;
		},
		getParent: function () {
			return this.parent;
		},
		getParentList: function (includeRoot, includeSelf) {
			var l = [],
				dtn = includeSelf ? this : this.parent;
			while (dtn) {
				if (includeRoot || dtn.parent) {
					l.unshift(dtn);
				}
				dtn = dtn.parent;
			}
			return l;
		},
		getPath: function (includeSelf, part, separator) {
			includeSelf = includeSelf !== false;
			part = part || "title";
			separator = separator || "/";

			var val,
				path = [],
				isFunc = _isFunction(part);

			this.visitParents(function (n) {
				if (n.parent) {
					val = isFunc ? part(n) : n[part];
					path.unshift(val);
				}
			}, includeSelf);
			return path.join(separator);
		},
		getPrevSibling: function () {
			if (this.parent) {
				var i,
					l,
					ac = this.parent.children;

				for (i = 1, l = ac.length; i < l; i++) {
					if (ac[i] === this) {
						return ac[i - 1];
					}
				}
			}
			return null;
		},
		getSelectedNodes: function (stopOnParents) {
			var nodeList = [];
			this.visit(function (node) {
				if (node.selected) {
					nodeList.push(node);
					if (stopOnParents === true) {
						return "skip"; 
					}
				}
			});
			return nodeList;
		},
		hasChildren: function () {
			if (this.lazy) {
				if (this.children == null) {
					return undefined;
				} else if (this.children.length === 0) {
					return false;
				} else if (
					this.children.length === 1 &&
					this.children[0].isStatusNode()
				) {
					return undefined;
				}
				return true;
			}
			return !!(this.children && this.children.length);
		},
		hasClass: function (className) {
			return (
				(" " + (this.extraClasses || "") + " ").indexOf(
					" " + className + " "
				) >= 0
			);
		},
		hasFocus: function () {
			return this.tree.hasFocus() && this.tree.focusNode === this;
		},
		info: function (msg) {
			if (this.tree.options.debugLevel >= 3) {
				Array.prototype.unshift.call(arguments, this.toString());
				consoleApply("info", arguments);
			}
		},
		isActive: function () {
			return this.tree.activeNode === this;
		},
		isBelowOf: function (otherNode) {
			return this.getIndexHier(".", 5) > otherNode.getIndexHier(".", 5);
		},
		isChildOf: function (otherNode) {
			return this.parent && this.parent === otherNode;
		},
		isDescendantOf: function (otherNode) {
			if (!otherNode || otherNode.tree !== this.tree) {
				return false;
			}
			var p = this.parent;
			while (p) {
				if (p === otherNode) {
					return true;
				}
				if (p === p.parent) {
					$.error("Recursive parent link: " + p);
				}
				p = p.parent;
			}
			return false;
		},
		isExpanded: function () {
			return !!this.expanded;
		},
		isFirstSibling: function () {
			var p = this.parent;
			return !p || p.children[0] === this;
		},
		isFolder: function () {
			return !!this.folder;
		},
		isLastSibling: function () {
			var p = this.parent;
			return !p || p.children[p.children.length - 1] === this;
		},
		isLazy: function () {
			return !!this.lazy;
		},
		isLoaded: function () {
			return !this.lazy || this.hasChildren() !== undefined; 
		},
		isLoading: function () {
			return !!this._isLoading;
		},
		isRoot: function () {
			return this.isRootNode();
		},
		isPartsel: function () {
			return !this.selected && !!this.partsel;
		},
		isPartload: function () {
			return !!this.partload;
		},
		isRootNode: function () {
			return this.tree.rootNode === this;
		},
		isSelected: function () {
			return !!this.selected;
		},
		isStatusNode: function () {
			return !!this.statusNodeType;
		},
		isPagingNode: function () {
			return this.statusNodeType === "paging";
		},
		isTopLevel: function () {
			return this.tree.rootNode === this.parent;
		},
		isUndefined: function () {
			return this.hasChildren() === undefined; 
		},
		isVisible: function () {
			var i,
				l,
				n,
				hasFilter = this.tree.enableFilter,
				parents = this.getParentList(false, false);

			if (hasFilter && !this.match && !this.subMatchCount) {
				return false;
			}

			for (i = 0, l = parents.length; i < l; i++) {
				n = parents[i];

				if (!n.expanded) {
					return false;
				}
			}
			return true;
		},
		lazyLoad: function (discard) {
			$.error(
				"FancytreeNode.lazyLoad() is deprecated since 2014-02-16. Use .load() instead."
			);
		},
		load: function (forceReload) {
			var res,
				source,
				self = this,
				wasExpanded = this.isExpanded();

			_assert(this.isLazy(), "load() requires a lazy node");
			if (!forceReload && !this.isUndefined()) {
				return _getResolvedPromise(this);
			}
			if (this.isLoaded()) {
				this.resetLazy(); 
			}
			source = this.tree._triggerNodeEvent("lazyLoad", this);
			if (source === false) {
				return _getResolvedPromise(this);
			}
			_assert(
				typeof source !== "boolean",
				"lazyLoad event must return source in data.result"
			);
			res = this.tree._callHook("nodeLoadChildren", this, source);
			if (wasExpanded) {
				this.expanded = true;
				res.always(function () {
					self.render();
				});
			} else {
				res.always(function () {
					self.renderStatus(); 
				});
			}
			return res;
		},
		makeVisible: function (opts) {
			var i,
				self = this,
				deferreds = [],
				dfd = new $.Deferred(),
				parents = this.getParentList(false, false),
				len = parents.length,
				effects = !(opts && opts.noAnimation === true),
				scroll = !(opts && opts.scrollIntoView === false);

			for (i = len - 1; i >= 0; i--) {
				deferreds.push(parents[i].setExpanded(true, opts));
			}
			$.when.apply($, deferreds).done(function () {
				if (scroll) {
					self.scrollIntoView(effects).done(function () {
						dfd.resolve();
					});
				} else {
					dfd.resolve();
				}
			});
			return dfd.promise();
		},
		moveTo: function (targetNode, mode, map) {
			if (mode === undefined || mode === "over") {
				mode = "child";
			} else if (mode === "firstChild") {
				if (targetNode.children && targetNode.children.length) {
					mode = "before";
					targetNode = targetNode.children[0];
				} else {
					mode = "child";
				}
			}
			var pos,
				tree = this.tree,
				prevParent = this.parent,
				targetParent =
					mode === "child" ? targetNode : targetNode.parent;

			if (this === targetNode) {
				return;
			} else if (!this.parent) {
				$.error("Cannot move system root");
			} else if (targetParent.isDescendantOf(this)) {
				$.error("Cannot move a node to its own descendant");
			}
			if (targetParent !== prevParent) {
				prevParent.triggerModifyChild("remove", this);
			}
			if (this.parent.children.length === 1) {
				if (this.parent === targetParent) {
					return; 
				}
				this.parent.children = this.parent.lazy ? [] : null;
				this.parent.expanded = false;
			} else {
				pos = $.inArray(this, this.parent.children);
				_assert(pos >= 0, "invalid source parent");
				this.parent.children.splice(pos, 1);
			}

			this.parent = targetParent;
			if (targetParent.hasChildren()) {
				switch (mode) {
					case "child":
						targetParent.children.push(this);
						break;
					case "before":
						pos = $.inArray(targetNode, targetParent.children);
						_assert(pos >= 0, "invalid target parent");
						targetParent.children.splice(pos, 0, this);
						break;
					case "after":
						pos = $.inArray(targetNode, targetParent.children);
						_assert(pos >= 0, "invalid target parent");
						targetParent.children.splice(pos + 1, 0, this);
						break;
					default:
						$.error("Invalid mode " + mode);
				}
			} else {
				targetParent.children = [this];
			}

			if (map) {
				targetNode.visit(map, true);
			}
			if (targetParent === prevParent) {
				targetParent.triggerModifyChild("move", this);
			} else {
				targetParent.triggerModifyChild("add", this);
			}
			if (tree !== targetNode.tree) {
				this.warn("Cross-tree moveTo is experimental!");
				this.visit(function (n) {
					n.tree = targetNode.tree;
				}, true);
			}

			tree._callHook("treeStructureChanged", tree, "moveTo");

			if (!prevParent.isDescendantOf(targetParent)) {
				prevParent.render();
			}
			if (
				!targetParent.isDescendantOf(prevParent) &&
				targetParent !== prevParent
			) {
				targetParent.render();
			}

		},
		navigate: function (where, activate) {
			var node,
				KC = $.ui.keyCode;

			switch (where) {
				case "left":
				case KC.LEFT:
					if (this.expanded) {
						return this.setExpanded(false);
					}
					break;
				case "right":
				case KC.RIGHT:
					if (!this.expanded && (this.children || this.lazy)) {
						return this.setExpanded();
					}
					break;
			}
			node = this.findRelatedNode(where);
			if (node) {
				try {
					node.makeVisible({ scrollIntoView: false });
				} catch (e) {} 
				if (activate === false) {
					node.setFocus();
					return _getResolvedPromise();
				}
				return node.setActive();
			}
			this.warn("Could not find related node '" + where + "'.");
			return _getResolvedPromise();
		},
		remove: function () {
			return this.parent.removeChild(this);
		},
		removeChild: function (childNode) {
			return this.tree._callHook("nodeRemoveChild", this, childNode);
		},
		removeChildren: function () {
			return this.tree._callHook("nodeRemoveChildren", this);
		},
		removeClass: function (className) {
			return this.toggleClass(className, false);
		},
		render: function (force, deep) {
			return this.tree._callHook("nodeRender", this, force, deep);
		},
		renderTitle: function () {
			return this.tree._callHook("nodeRenderTitle", this);
		},
		renderStatus: function () {
			return this.tree._callHook("nodeRenderStatus", this);
		},
		replaceWith: function (source) {
			var res,
				parent = this.parent,
				pos = $.inArray(this, parent.children),
				self = this;

			_assert(
				this.isPagingNode(),
				"replaceWith() currently requires a paging status node"
			);

			res = this.tree._callHook("nodeLoadChildren", this, source);
			res.done(function (data) {
				var children = self.children;
				for (i = 0; i < children.length; i++) {
					children[i].parent = parent;
				}
				parent.children.splice.apply(
					parent.children,
					[pos + 1, 0].concat(children)
				);

				self.children = null;
				self.remove();
				parent.render();
			}).fail(function () {
				self.setExpanded();
			});
			return res;
		},
		resetLazy: function () {
			this.removeChildren();
			this.expanded = false;
			this.lazy = true;
			this.children = undefined;
			this.renderStatus();
		},
		scheduleAction: function (mode, ms) {
			if (this.tree.timer) {
				clearTimeout(this.tree.timer);
				this.tree.debug("clearTimeout(%o)", this.tree.timer);
			}
			this.tree.timer = null;
			var self = this; 
			switch (mode) {
				case "cancel":
					break;
				case "expand":
					this.tree.timer = setTimeout(function () {
						self.tree.debug("setTimeout: trigger expand");
						self.setExpanded(true);
					}, ms);
					break;
				case "activate":
					this.tree.timer = setTimeout(function () {
						self.tree.debug("setTimeout: trigger activate");
						self.setActive(true);
					}, ms);
					break;
				default:
					$.error("Invalid mode " + mode);
			}
		},
		scrollIntoView: function (effects, options) {
			if (options !== undefined && _isNode(options)) {
				throw Error(
					"scrollIntoView() with 'topNode' option is deprecated since 2014-05-08. Use 'options.topNode' instead."
				);
			}
			var opts = $.extend(
					{
						effects:
							effects === true
								? { duration: 200, queue: false }
								: effects,
						scrollOfs: this.tree.options.scrollOfs,
						scrollParent: this.tree.options.scrollParent,
						topNode: null,
					},
					options
				),
				$scrollParent = opts.scrollParent,
				$container = this.tree.$container,
				overflowY = $container.css("overflow-y");

			if (!$scrollParent) {
				if (this.tree.tbody) {
					$scrollParent = $container.scrollParent();
				} else if (overflowY === "scroll" || overflowY === "auto") {
					$scrollParent = $container;
				} else {
					$scrollParent = $container.scrollParent();
				}
			} else if (!$scrollParent.jquery) {
				$scrollParent = $($scrollParent);
			}
			if (
				$scrollParent[0] === document ||
				$scrollParent[0] === document.body
			) {
				this.debug(
					"scrollIntoView(): normalizing scrollParent to 'window':",
					$scrollParent[0]
				);
				$scrollParent = $(window);
			}
			var topNodeY,
				nodeY,
				horzScrollbarHeight,
				containerOffsetTop,
				dfd = new $.Deferred(),
				self = this,
				nodeHeight = $(this.span).height(),
				topOfs = opts.scrollOfs.top || 0,
				bottomOfs = opts.scrollOfs.bottom || 0,
				containerHeight = $scrollParent.height(),
				scrollTop = $scrollParent.scrollTop(),
				$animateTarget = $scrollParent,
				isParentWindow = $scrollParent[0] === window,
				topNode = opts.topNode || null,
				newScrollTop = null;

			if (this.isRootNode() || !this.isVisible()) {
				this.info("scrollIntoView(): node is invisible.");
				return _getResolvedPromise();
			}
			if (isParentWindow) {
				nodeY = $(this.span).offset().top;
				topNodeY =
					topNode && topNode.span ? $(topNode.span).offset().top : 0;
				$animateTarget = $("html,body");
			} else {
				_assert(
					$scrollParent[0] !== document &&
						$scrollParent[0] !== document.body,
					"scrollParent should be a simple element or `window`, not document or body."
				);

				containerOffsetTop = $scrollParent.offset().top;
				nodeY =
					$(this.span).offset().top - containerOffsetTop + scrollTop; 
				topNodeY = topNode
					? $(topNode.span).offset().top -
					  containerOffsetTop +
					  scrollTop
					: 0;
				horzScrollbarHeight = Math.max(
					0,
					$scrollParent.innerHeight() - $scrollParent[0].clientHeight
				);
				containerHeight -= horzScrollbarHeight;
			}

			if (nodeY < scrollTop + topOfs) {
				newScrollTop = nodeY - topOfs;
			} else if (
				nodeY + nodeHeight >
				scrollTop + containerHeight - bottomOfs
			) {
				newScrollTop = nodeY + nodeHeight - containerHeight + bottomOfs;
				if (topNode) {
					_assert(
						topNode.isRootNode() || topNode.isVisible(),
						"topNode must be visible"
					);
					if (topNodeY < newScrollTop) {
						newScrollTop = topNodeY - topOfs;
					}
				}
			}

			if (newScrollTop === null) {
				dfd.resolveWith(this);
			} else {
				if (opts.effects) {
					opts.effects.complete = function () {
						dfd.resolveWith(self);
					};
					$animateTarget.stop(true).animate(
						{
							scrollTop: newScrollTop,
						},
						opts.effects
					);
				} else {
					$animateTarget[0].scrollTop = newScrollTop;
					dfd.resolveWith(this);
				}
			}
			return dfd.promise();
		},

		setActive: function (flag, opts) {
			return this.tree._callHook("nodeSetActive", this, flag, opts);
		},
		setExpanded: function (flag, opts) {
			return this.tree._callHook("nodeSetExpanded", this, flag, opts);
		},
		setFocus: function (flag) {
			return this.tree._callHook("nodeSetFocus", this, flag);
		},
		setSelected: function (flag, opts) {
			return this.tree._callHook("nodeSetSelected", this, flag, opts);
		},
		setStatus: function (status, message, details) {
			return this.tree._callHook(
				"nodeSetStatus",
				this,
				status,
				message,
				details
			);
		},
		setTitle: function (title) {
			this.title = title;
			this.renderTitle();
			this.triggerModify("rename");
		},
		sortChildren: function (cmp, deep) {
			var i,
				l,
				cl = this.children;

			if (!cl) {
				return;
			}
			cmp =
				cmp ||
				function (a, b) {
					var x = a.title.toLowerCase(),
						y = b.title.toLowerCase();

					return x === y ? 0 : x > y ? 1 : -1;
				};
			cl.sort(cmp);
			if (deep) {
				for (i = 0, l = cl.length; i < l; i++) {
					if (cl[i].children) {
						cl[i].sortChildren(cmp, "$norender$");
					}
				}
			}
			if (deep !== "$norender$") {
				this.render();
			}
			this.triggerModifyChild("sort");
		},
		toDict: function (recursive, callback) {
			var i,
				l,
				node,
				res,
				dict = {},
				self = this;

			$.each(NODE_ATTRS, function (i, a) {
				if (self[a] || self[a] === false) {
					dict[a] = self[a];
				}
			});
			if (!$.isEmptyObject(this.data)) {
				dict.data = $.extend({}, this.data);
				if ($.isEmptyObject(dict.data)) {
					delete dict.data;
				}
			}
			if (callback) {
				res = callback(dict, self);
				if (res === false) {
					return false; 
				}
				if (res === "skip") {
					recursive = false; 
				}
			}
			if (recursive) {
				if (_isArray(this.children)) {
					dict.children = [];
					for (i = 0, l = this.children.length; i < l; i++) {
						node = this.children[i];
						if (!node.isStatusNode()) {
							res = node.toDict(true, callback);
							if (res !== false) {
								dict.children.push(res);
							}
						}
					}
				}
			}
			return dict;
		},
		toggleClass: function (value, flag) {
			var className,
				hasClass,
				rnotwhite = /\S+/g,
				classNames = value.match(rnotwhite) || [],
				i = 0,
				wasAdded = false,
				statusElem = this[this.tree.statusClassPropName],
				curClasses = " " + (this.extraClasses || "") + " ";

			if (statusElem) {
				$(statusElem).toggleClass(value, flag);
			}
			while ((className = classNames[i++])) {
				hasClass = curClasses.indexOf(" " + className + " ") >= 0;
				flag = flag === undefined ? !hasClass : !!flag;
				if (flag) {
					if (!hasClass) {
						curClasses += className + " ";
						wasAdded = true;
					}
				} else {
					while (curClasses.indexOf(" " + className + " ") > -1) {
						curClasses = curClasses.replace(
							" " + className + " ",
							" "
						);
					}
				}
			}
			this.extraClasses = _trim(curClasses);
			return wasAdded;
		},
		toggleExpanded: function () {
			return this.tree._callHook("nodeToggleExpanded", this);
		},
		toggleSelected: function () {
			return this.tree._callHook("nodeToggleSelected", this);
		},
		toString: function () {
			return "FancytreeNode@" + this.key + "[title='" + this.title + "']";
		},
		triggerModifyChild: function (operation, childNode, extra) {
			var data,
				modifyChild = this.tree.options.modifyChild;

			if (modifyChild) {
				if (childNode && childNode.parent !== this) {
					$.error(
						"childNode " + childNode + " is not a child of " + this
					);
				}
				data = {
					node: this,
					tree: this.tree,
					operation: operation,
					childNode: childNode || null,
				};
				if (extra) {
					$.extend(data, extra);
				}
				modifyChild({ type: "modifyChild" }, data);
			}
		},
		triggerModify: function (operation, extra) {
			this.parent.triggerModifyChild(operation, this, extra);
		},
		visit: function (fn, includeSelf) {
			var i,
				l,
				res = true,
				children = this.children;

			if (includeSelf === true) {
				res = fn(this);
				if (res === false || res === "skip") {
					return res;
				}
			}
			if (children) {
				for (i = 0, l = children.length; i < l; i++) {
					res = children[i].visit(fn, true);
					if (res === false) {
						break;
					}
				}
			}
			return res;
		},
		visitAndLoad: function (fn, includeSelf, _recursion) {
			var dfd,
				res,
				loaders,
				node = this;

			if (fn && includeSelf === true) {
				res = fn(node);
				if (res === false || res === "skip") {
					return _recursion ? res : _getResolvedPromise();
				}
			}
			if (!node.children && !node.lazy) {
				return _getResolvedPromise();
			}
			dfd = new $.Deferred();
			loaders = [];
			node.load().done(function () {
				for (var i = 0, l = node.children.length; i < l; i++) {
					res = node.children[i].visitAndLoad(fn, true, true);
					if (res === false) {
						dfd.reject();
						break;
					} else if (res !== "skip") {
						loaders.push(res); 
					}
				}
				$.when.apply(this, loaders).then(function () {
					dfd.resolve();
				});
			});
			return dfd.promise();
		},
		visitParents: function (fn, includeSelf) {
			if (includeSelf && fn(this) === false) {
				return false;
			}
			var p = this.parent;
			while (p) {
				if (fn(p) === false) {
					return false;
				}
				p = p.parent;
			}
			return true;
		},
		visitSiblings: function (fn, includeSelf) {
			var i,
				l,
				n,
				ac = this.parent.children;

			for (i = 0, l = ac.length; i < l; i++) {
				n = ac[i];
				if (includeSelf || n !== this) {
					if (fn(n) === false) {
						return false;
					}
				}
			}
			return true;
		},
		warn: function (msg) {
			if (this.tree.options.debugLevel >= 2) {
				Array.prototype.unshift.call(arguments, this.toString());
				consoleApply("warn", arguments);
			}
		},
	};

	function Fancytree(widget) {
		this.widget = widget;
		this.$div = widget.element;
		this.options = widget.options;
		if (this.options) {
			if (this.options.lazyload !== undefined) {
				$.error(
					"The 'lazyload' event is deprecated since 2014-02-25. Use 'lazyLoad' (with uppercase L) instead."
				);
			}
			if (this.options.loaderror !== undefined) {
				$.error(
					"The 'loaderror' event was renamed since 2014-07-03. Use 'loadError' (with uppercase E) instead."
				);
			}
			if (this.options.fx !== undefined) {
				$.error(
					"The 'fx' option was replaced by 'toggleEffect' since 2014-11-30."
				);
			}
			if (this.options.removeNode !== undefined) {
				$.error(
					"The 'removeNode' event was replaced by 'modifyChild' since 2.20 (2016-09-10)."
				);
			}
		}
		this.ext = {}; 
		this.types = {};
		this.columns = {};
		this.data = _getElementDataAsDict(this.$div);
		this._id = "" + (this.options.treeId || $.ui.fancytree._nextId++);
		this._ns = ".fancytree-" + this._id; 
		this.activeNode = null;
		this.focusNode = null;
		this._hasFocus = null;
		this._tempCache = {};
		this._lastMousedownNode = null;
		this._enableUpdate = true;
		this.lastSelectedNode = null;
		this.systemFocusElement = null;
		this.lastQuicksearchTerm = "";
		this.lastQuicksearchTime = 0;
		this.viewport = null; 

		this.statusClassPropName = "span";
		this.ariaPropName = "li";
		this.nodeContainerAttrName = "li";

		this.$div.find(">ul.fancytree-container").remove();

		var fakeParent = { tree: this },
			$ul;
		this.rootNode = new FancytreeNode(fakeParent, {
			title: "root",
			key: "root_" + this._id,
			children: null,
			expanded: true,
		});
		this.rootNode.parent = null;

		$ul = $("<ul>", {
			id: "ft-id-" + this._id,
			class: "ui-fancytree fancytree-container fancytree-plain",
		}).appendTo(this.$div);
		this.$container = $ul;
		this.rootNode.ul = $ul[0];

		if (this.options.debugLevel == null) {
			this.options.debugLevel = FT.debugLevel;
		}

	}

	Fancytree.prototype =  {
		_makeHookContext: function (obj, originalEvent, extra) {
			var ctx, tree;
			if (obj.node !== undefined) {
				if (originalEvent && obj.originalEvent !== originalEvent) {
					$.error("invalid args");
				}
				ctx = obj;
			} else if (obj.tree) {
				tree = obj.tree;
				ctx = {
					node: obj,
					tree: tree,
					widget: tree.widget,
					options: tree.widget.options,
					originalEvent: originalEvent,
					typeInfo: tree.types[obj.type] || {},
				};
			} else if (obj.widget) {
				ctx = {
					node: null,
					tree: obj,
					widget: obj.widget,
					options: obj.widget.options,
					originalEvent: originalEvent,
				};
			} else {
				$.error("invalid args");
			}
			if (extra) {
				$.extend(ctx, extra);
			}
			return ctx;
		},
		_callHook: function (funcName, contextObject, _extraArgs) {
			var ctx = this._makeHookContext(contextObject),
				fn = this[funcName],
				args = Array.prototype.slice.call(arguments, 2);
			if (!_isFunction(fn)) {
				$.error("_callHook('" + funcName + "') is not a function");
			}
			args.unshift(ctx);
			return fn.apply(this, args);
		},
		_setExpiringValue: function (key, value, ms) {
			this._tempCache[key] = {
				value: value,
				expire: Date.now() + (+ms || 50),
			};
		},
		_getExpiringValue: function (key) {
			var entry = this._tempCache[key];
			if (entry && entry.expire > Date.now()) {
				return entry.value;
			}
			delete this._tempCache[key];
			return null;
		},
		_usesExtension: function (name) {
			return $.inArray(name, this.options.extensions) >= 0;
		},
		_requireExtension: function (name, required, before, message) {
			if (before != null) {
				before = !!before;
			}
			var thisName = this._local.name,
				extList = this.options.extensions,
				isBefore =
					$.inArray(name, extList) < $.inArray(thisName, extList),
				isMissing = required && this.ext[name] == null,
				badOrder = !isMissing && before != null && before !== isBefore;

			_assert(
				thisName && thisName !== name,
				"invalid or same name '" + thisName + "' (require yourself?)"
			);

			if (isMissing || badOrder) {
				if (!message) {
					if (isMissing || required) {
						message =
							"'" +
							thisName +
							"' extension requires '" +
							name +
							"'";
						if (badOrder) {
							message +=
								" to be registered " +
								(before ? "before" : "after") +
								" itself";
						}
					} else {
						message =
							"If used together, `" +
							name +
							"` must be registered " +
							(before ? "before" : "after") +
							" `" +
							thisName +
							"`";
					}
				}
				$.error(message);
				return false;
			}
			return true;
		},
		activateKey: function (key, opts) {
			var node = this.getNodeByKey(key);
			if (node) {
				node.setActive(true, opts);
			} else if (this.activeNode) {
				this.activeNode.setActive(false, opts);
			}
			return node;
		},
		addPagingNode: function (node, mode) {
			return this.rootNode.addPagingNode(node, mode);
		},
		applyCommand: function (cmd, node, opts_) {
			var 
				refNode;

			node = node || this.getActiveNode();

			switch (cmd) {
				case "moveUp":
					refNode = node.getPrevSibling();
					if (refNode) {
						node.moveTo(refNode, "before");
						node.setActive();
					}
					break;
				case "moveDown":
					refNode = node.getNextSibling();
					if (refNode) {
						node.moveTo(refNode, "after");
						node.setActive();
					}
					break;
				case "indent":
					refNode = node.getPrevSibling();
					if (refNode) {
						node.moveTo(refNode, "child");
						refNode.setExpanded();
						node.setActive();
					}
					break;
				case "outdent":
					if (!node.isTopLevel()) {
						node.moveTo(node.getParent(), "after");
						node.setActive();
					}
					break;
				case "remove":
					refNode = node.getPrevSibling() || node.getParent();
					node.remove();
					if (refNode) {
						refNode.setActive();
					}
					break;
				case "addChild":
					node.editCreateNode("child", "");
					break;
				case "addSibling":
					node.editCreateNode("after", "");
					break;
				case "rename":
					node.editStart();
					break;
				case "down":
				case "first":
				case "last":
				case "left":
				case "parent":
				case "right":
				case "up":
					return node.navigate(cmd);
				default:
					$.error("Unhandled command: '" + cmd + "'");
			}
		},
		applyPatch: function (patchList) {
			var dfd,
				i,
				p2,
				key,
				patch,
				node,
				patchCount = patchList.length,
				deferredList = [];

			for (i = 0; i < patchCount; i++) {
				p2 = patchList[i];
				_assert(
					p2.length === 2,
					"patchList must be an array of length-2-arrays"
				);
				key = p2[0];
				patch = p2[1];
				node = key === null ? this.rootNode : this.getNodeByKey(key);
				if (node) {
					dfd = new $.Deferred();
					deferredList.push(dfd);
					node.applyPatch(patch).always(_makeResolveFunc(dfd, node));
				} else {
					this.warn("could not find node with key '" + key + "'");
				}
			}
			return $.when.apply($, deferredList).promise();
		},
		clear: function (source) {
			this._callHook("treeClear", this);
		},
		count: function () {
			return this.rootNode.countChildren();
		},
		debug: function (msg) {
			if (this.options.debugLevel >= 4) {
				Array.prototype.unshift.call(arguments, this.toString());
				consoleApply("log", arguments);
			}
		},
		destroy: function () {
			this.widget.destroy();
		},
		enable: function (flag) {
			if (flag === false) {
				this.widget.disable();
			} else {
				this.widget.enable();
			}
		},
		enableUpdate: function (flag) {
			flag = flag !== false;
			if (!!this._enableUpdate === !!flag) {
				return flag;
			}
			this._enableUpdate = flag;
			if (flag) {
				this.debug("enableUpdate(true): redraw "); 
				this._callHook("treeStructureChanged", this, "enableUpdate");
				this.render();
			} else {
				this.debug("enableUpdate(false)...");
			}
			return !flag; 
		},
		error: function (msg) {
			if (this.options.debugLevel >= 1) {
				Array.prototype.unshift.call(arguments, this.toString());
				consoleApply("error", arguments);
			}
		},
		expandAll: function (flag, opts) {
			var prev = this.enableUpdate(false);

			flag = flag !== false;
			this.visit(function (node) {
				if (
					node.hasChildren() !== false &&
					node.isExpanded() !== flag
				) {
					node.setExpanded(flag, opts);
				}
			});
			this.enableUpdate(prev);
		},
		findAll: function (match) {
			return this.rootNode.findAll(match);
		},
		findFirst: function (match) {
			return this.rootNode.findFirst(match);
		},
		findNextNode: function (match, startNode) {
			var res = null,
				firstNode = this.getFirstChild();

			match =
				typeof match === "string"
					? _makeNodeTitleStartMatcher(match)
					: match;
			startNode = startNode || firstNode;

			function _checkNode(n) {
				if (match(n)) {
					res = n;
				}
				if (res || n === startNode) {
					return false;
				}
			}
			this.visitRows(_checkNode, {
				start: startNode,
				includeSelf: false,
			});
			if (!res && startNode !== firstNode) {
				this.visitRows(_checkNode, {
					start: firstNode,
					includeSelf: true,
				});
			}
			return res;
		},
		findRelatedNode: function (node, where, includeHidden) {
			var res = null,
				KC = $.ui.keyCode;

			switch (where) {
				case "parent":
				case KC.BACKSPACE:
					if (node.parent && node.parent.parent) {
						res = node.parent;
					}
					break;
				case "first":
				case KC.HOME:
					this.visit(function (n) {
						if (n.isVisible()) {
							res = n;
							return false;
						}
					});
					break;
				case "last":
				case KC.END:
					this.visit(function (n) {
						if (n.isVisible()) {
							res = n;
						}
					});
					break;
				case "left":
				case KC.LEFT:
					if (node.expanded) {
						node.setExpanded(false);
					} else if (node.parent && node.parent.parent) {
						res = node.parent;
					}
					break;
				case "right":
				case KC.RIGHT:
					if (!node.expanded && (node.children || node.lazy)) {
						node.setExpanded();
						res = node;
					} else if (node.children && node.children.length) {
						res = node.children[0];
					}
					break;
				case "up":
				case KC.UP:
					this.visitRows(
						function (n) {
							res = n;
							return false;
						},
						{ start: node, reverse: true, includeSelf: false }
					);
					break;
				case "down":
				case KC.DOWN:
					this.visitRows(
						function (n) {
							res = n;
							return false;
						},
						{ start: node, includeSelf: false }
					);
					break;
				default:
					this.tree.warn("Unknown relation '" + where + "'.");
			}
			return res;
		},
		generateFormElements: function (selected, active, opts) {
			opts = opts || {};

			var nodeList,
				selectedName =
					typeof selected === "string"
						? selected
						: "ft_" + this._id + "[]",
				activeName =
					typeof active === "string"
						? active
						: "ft_" + this._id + "_active",
				id = "fancytree_result_" + this._id,
				$result = $("#" + id),
				stopOnParents =
					this.options.selectMode === 3 &&
					opts.stopOnParents !== false;

			if ($result.length) {
				$result.empty();
			} else {
				$result = $("<div>", {
					id: id,
				})
					.hide()
					.insertAfter(this.$container);
			}
			if (active !== false && this.activeNode) {
				$result.append(
					$("<input>", {
						type: "radio",
						name: activeName,
						value: this.activeNode.key,
						checked: true,
					})
				);
			}
			function _appender(node) {
				$result.append(
					$("<input>", {
						type: "checkbox",
						name: selectedName,
						value: node.key,
						checked: true,
					})
				);
			}
			if (opts.filter) {
				this.visit(function (node) {
					var res = opts.filter(node);
					if (res === "skip") {
						return res;
					}
					if (res !== false) {
						_appender(node);
					}
				});
			} else if (selected !== false) {
				nodeList = this.getSelectedNodes(stopOnParents);
				$.each(nodeList, function (idx, node) {
					_appender(node);
				});
			}
		},
		getActiveNode: function () {
			return this.activeNode;
		},
		getFirstChild: function () {
			return this.rootNode.getFirstChild();
		},
		getFocusNode: function () {
			return this.focusNode;
		},
		getOption: function (optionName) {
			return this.widget.option(optionName);
		},
		getNodeByKey: function (key, searchRoot) {
			var el, match;
			if (!searchRoot) {
				el = document.getElementById(this.options.idPrefix + key);
				if (el) {
					return el.ftnode ? el.ftnode : null;
				}
			}
			searchRoot = searchRoot || this.rootNode;
			match = null;
			key = "" + key; 
			searchRoot.visit(function (node) {
				if (node.key === key) {
					match = node;
					return false; 
				}
			}, true);
			return match;
		},
		getRootNode: function () {
			return this.rootNode;
		},
		getSelectedNodes: function (stopOnParents) {
			return this.rootNode.getSelectedNodes(stopOnParents);
		},
		hasFocus: function () {

			return !!this._hasFocus;
		},
		info: function (msg) {
			if (this.options.debugLevel >= 3) {
				Array.prototype.unshift.call(arguments, this.toString());
				consoleApply("info", arguments);
			}
		},
		isLoading: function () {
			var res = false;

			this.rootNode.visit(function (n) {
				if (n._isLoading || n._requestId) {
					res = true;
					return false;
				}
			}, true);
			return res;
		},

		loadKeyPath: function (keyPathList, optsOrCallback) {
			var callback,
				i,
				path,
				self = this,
				dfd = new $.Deferred(),
				parent = this.getRootNode(),
				sep = this.options.keyPathSeparator,
				pathSegList = [],
				opts = $.extend({}, optsOrCallback);

			if (typeof optsOrCallback === "function") {
				callback = optsOrCallback;
			} else if (optsOrCallback && optsOrCallback.callback) {
				callback = optsOrCallback.callback;
			}
			opts.callback = function (ctx, node, status) {
				if (callback) {
					callback.call(ctx, node, status);
				}
				dfd.notifyWith(ctx, [{ node: node, status: status }]);
			};
			if (opts.matchKey == null) {
				opts.matchKey = function (node, key) {
					return node.key === key;
				};
			}
			if (!_isArray(keyPathList)) {
				keyPathList = [keyPathList];
			}
			for (i = 0; i < keyPathList.length; i++) {
				path = keyPathList[i];
				if (path.charAt(0) === sep) {
					path = path.substr(1);
				}
				pathSegList.push(path.split(sep));
			}
			setTimeout(function () {
				self._loadKeyPathImpl(dfd, opts, parent, pathSegList).done(
					function () {
						dfd.resolve();
					}
				);
			}, 0);
			return dfd.promise();
		},
		_loadKeyPathImpl: function (dfd, opts, parent, pathSegList) {
			var deferredList,
				i,
				key,
				node,
				nodeKey,
				remain,
				remainMap,
				tmpParent,
				segList,
				subDfd,
				self = this;

			function __findChild(parent, key) {
				var i,
					l,
					cl = parent.children;

				if (cl) {
					for (i = 0, l = cl.length; i < l; i++) {
						if (opts.matchKey(cl[i], key)) {
							return cl[i];
						}
					}
				}
				return null;
			}


			remainMap = {};

			for (i = 0; i < pathSegList.length; i++) {
				segList = pathSegList[i];

				tmpParent = parent;
				while (segList.length) {
					key = segList.shift();
					node = __findChild(tmpParent, key);
					if (!node) {
						this.warn(
							"loadKeyPath: key not found: " +
								key +
								" (parent: " +
								tmpParent +
								")"
						);
						opts.callback(this, key, "error");
						break;
					} else if (segList.length === 0) {
						opts.callback(this, node, "ok");
						break;
					} else if (!node.lazy || node.hasChildren() !== undefined) {
						opts.callback(this, node, "loaded");
						tmpParent = node;
					} else {
						opts.callback(this, node, "loaded");
						key = node.key; 
						if (remainMap[key]) {
							remainMap[key].pathSegList.push(segList);
						} else {
							remainMap[key] = {
								parent: node,
								pathSegList: [segList],
							};
						}
						break;
					}
				}
			}

			deferredList = [];

			function __lazyload(dfd, parent, pathSegList) {
				opts.callback(self, parent, "loading");
				parent
					.load()
					.done(function () {
						self._loadKeyPathImpl
							.call(self, dfd, opts, parent, pathSegList)
							.always(_makeResolveFunc(dfd, self));
					})
					.fail(function (errMsg) {
						self.warn("loadKeyPath: error loading lazy " + parent);
						opts.callback(self, node, "error");
						dfd.rejectWith(self);
					});
			}
			for (nodeKey in remainMap) {
				if (_hasProp(remainMap, nodeKey)) {
					remain = remainMap[nodeKey];
					subDfd = new $.Deferred();
					deferredList.push(subDfd);
					__lazyload(subDfd, remain.parent, remain.pathSegList);
				}
			}
			return $.when.apply($, deferredList).promise();
		},
		reactivate: function (setFocus) {
			var res,
				node = this.activeNode;

			if (!node) {
				return _getResolvedPromise();
			}
			this.activeNode = null; 
			res = node.setActive(true, { noFocus: true });
			if (setFocus) {
				node.setFocus();
			}
			return res;
		},
		reload: function (source) {
			this._callHook("treeClear", this);
			return this._callHook("treeLoad", this, source);
		},
		render: function (force, deep) {
			return this.rootNode.render(force, deep);
		},
		selectAll: function (flag) {
			this.visit(function (node) {
				node.setSelected(flag);
			});
		},
		setFocus: function (flag) {
			return this._callHook("treeSetFocus", this, flag);
		},
		setOption: function (optionName, value) {
			return this.widget.option(optionName, value);
		},
		debugTime: function (label) {
			if (this.options.debugLevel >= 4) {
				window.console.time(this + " - " + label);
			}
		},
		debugTimeEnd: function (label) {
			if (this.options.debugLevel >= 4) {
				window.console.timeEnd(this + " - " + label);
			}
		},
		toDict: function (includeRoot, callback) {
			var res = this.rootNode.toDict(true, callback);
			return includeRoot ? res : res.children;
		},
		toString: function () {
			return "Fancytree@" + this._id;
		},
		_triggerNodeEvent: function (type, node, originalEvent, extra) {
			var ctx = this._makeHookContext(node, originalEvent, extra),
				res = this.widget._trigger(type, originalEvent, ctx);
			if (res !== false && ctx.result !== undefined) {
				return ctx.result;
			}
			return res;
		},
		_triggerTreeEvent: function (type, originalEvent, extra) {
			var ctx = this._makeHookContext(this, originalEvent, extra),
				res = this.widget._trigger(type, originalEvent, ctx);

			if (res !== false && ctx.result !== undefined) {
				return ctx.result;
			}
			return res;
		},
		visit: function (fn) {
			return this.rootNode.visit(fn, false);
		},
		visitRows: function (fn, opts) {
			if (!this.rootNode.hasChildren()) {
				return false;
			}
			if (opts && opts.reverse) {
				delete opts.reverse;
				return this._visitRowsUp(fn, opts);
			}
			opts = opts || {};

			var i,
				nextIdx,
				parent,
				res,
				siblings,
				siblingOfs = 0,
				skipFirstNode = opts.includeSelf === false,
				includeHidden = !!opts.includeHidden,
				checkFilter = !includeHidden && this.enableFilter,
				node = opts.start || this.rootNode.children[0];

			parent = node.parent;
			while (parent) {
				siblings = parent.children;
				nextIdx = siblings.indexOf(node) + siblingOfs;
				_assert(
					nextIdx >= 0,
					"Could not find " +
						node +
						" in parent's children: " +
						parent
				);

				for (i = nextIdx; i < siblings.length; i++) {
					node = siblings[i];
					if (checkFilter && !node.match && !node.subMatchCount) {
						continue;
					}
					if (!skipFirstNode && fn(node) === false) {
						return false;
					}
					skipFirstNode = false;
					if (
						node.children &&
						node.children.length &&
						(includeHidden || node.expanded)
					) {
						res = node.visit(function (n) {
							if (checkFilter && !n.match && !n.subMatchCount) {
								return "skip";
							}
							if (fn(n) === false) {
								return false;
							}
							if (!includeHidden && n.children && !n.expanded) {
								return "skip";
							}
						}, false);
						if (res === false) {
							return false;
						}
					}
				}
				node = parent;
				parent = parent.parent;
				siblingOfs = 1; 
			}
			return true;
		},
		_visitRowsUp: function (fn, opts) {
			var children,
				idx,
				parent,
				includeHidden = !!opts.includeHidden,
				node = opts.start || this.rootNode.children[0];

			while (true) {
				parent = node.parent;
				children = parent.children;

				if (children[0] === node) {
					node = parent;
					if (!node.parent) {
						break; 
					}
					children = parent.children;
				} else {
					idx = children.indexOf(node);
					node = children[idx - 1];
					while (
						(includeHidden || node.expanded) &&
						node.children &&
						node.children.length
					) {
						children = node.children;
						parent = node;
						node = children[children.length - 1];
					}
				}
				if (!includeHidden && !node.isVisible()) {
					continue;
				}
				if (fn(node) === false) {
					return false;
				}
			}
		},
		warn: function (msg) {
			if (this.options.debugLevel >= 2) {
				Array.prototype.unshift.call(arguments, this.toString());
				consoleApply("warn", arguments);
			}
		},
	};

	$.extend(
		Fancytree.prototype,
		{
			nodeClick: function (ctx) {
				var activate,
					expand,
					targetType = ctx.targetType,
					node = ctx.node;

				if (targetType === "expander") {
					if (node.isLoading()) {
						node.debug("Got 2nd click while loading: ignored");
						return;
					}
					this._callHook("nodeToggleExpanded", ctx);
				} else if (targetType === "checkbox") {
					this._callHook("nodeToggleSelected", ctx);
					if (ctx.options.focusOnSelect) {
						this._callHook("nodeSetFocus", ctx, true);
					}
				} else {
					expand = false;
					activate = true;
					if (node.folder) {
						switch (ctx.options.clickFolderMode) {
							case 2: 
								expand = true;
								activate = false;
								break;
							case 3: 
								activate = true;
								expand = true; 
								break;
						}
					}
					if (activate) {
						this.nodeSetFocus(ctx);
						this._callHook("nodeSetActive", ctx, true);
					}
					if (expand) {
						if (!activate) {
						}
						this._callHook("nodeToggleExpanded", ctx);
					}
				}
			},
			nodeCollapseSiblings: function (ctx, callOpts) {
				var ac,
					i,
					l,
					node = ctx.node;

				if (node.parent) {
					ac = node.parent.children;
					for (i = 0, l = ac.length; i < l; i++) {
						if (ac[i] !== node && ac[i].expanded) {
							this._callHook(
								"nodeSetExpanded",
								ac[i],
								false,
								callOpts
							);
						}
					}
				}
			},
			nodeDblclick: function (ctx) {
				if (
					ctx.targetType === "title" &&
					ctx.options.clickFolderMode === 4
				) {
					this._callHook("nodeToggleExpanded", ctx);
				}
				if (ctx.targetType === "title") {
					ctx.originalEvent.preventDefault();
				}
			},
			nodeKeydown: function (ctx) {
				var matchNode,
					stamp,
					_res,
					focusNode,
					event = ctx.originalEvent,
					node = ctx.node,
					tree = ctx.tree,
					opts = ctx.options,
					which = event.which,
					key = event.key || String.fromCharCode(which),
					specialModifiers = !!(
						event.altKey ||
						event.ctrlKey ||
						event.metaKey
					),
					isAlnum =
						!MODIFIERS[which] &&
						!SPECIAL_KEYCODES[which] &&
						!specialModifiers,
					$target = $(event.target),
					handled = true,
					activate = !(event.ctrlKey || !opts.autoActivate);


				if (!node) {
					focusNode = this.getActiveNode() || this.getFirstChild();
					if (focusNode) {
						focusNode.setFocus();
						node = ctx.node = this.focusNode;
						node.debug("Keydown force focus on active node");
					}
				}

				if (
					opts.quicksearch &&
					isAlnum &&
					!$target.is(":input:enabled")
				) {
					stamp = Date.now();
					if (stamp - tree.lastQuicksearchTime > 500) {
						tree.lastQuicksearchTerm = "";
					}
					tree.lastQuicksearchTime = stamp;
					tree.lastQuicksearchTerm += key;
					matchNode = tree.findNextNode(
						tree.lastQuicksearchTerm,
						tree.getActiveNode()
					);
					if (matchNode) {
						matchNode.setActive();
					}
					event.preventDefault();
					return;
				}
				switch (FT.eventToString(event)) {
					case "+":
					case "=": 
						tree.nodeSetExpanded(ctx, true);
						break;
					case "-":
						tree.nodeSetExpanded(ctx, false);
						break;
					case "space":
						if (node.isPagingNode()) {
							tree._triggerNodeEvent("clickPaging", ctx, event);
						} else if (
							FT.evalOption("checkbox", node, node, opts, false)
						) {
							tree.nodeToggleSelected(ctx);
						} else {
							tree.nodeSetActive(ctx, true);
						}
						break;
					case "return":
						tree.nodeSetActive(ctx, true);
						break;
					case "home":
					case "end":
					case "backspace":
					case "left":
					case "right":
					case "up":
					case "down":
						_res = node.navigate(event.which, activate);
						break;
					default:
						handled = false;
				}
				if (handled) {
					event.preventDefault();
				}
			},


			nodeLoadChildren: function (ctx, source) {
				var ajax,
					delay,
					ajaxDfd = null,
					resultDfd,
					isAsync = true,
					tree = ctx.tree,
					node = ctx.node,
					nodePrevParent = node.parent,
					tag = "nodeLoadChildren",
					requestId = Date.now();

				if (_isFunction(source)) {
					source = source.call(tree, { type: "source" }, ctx);
					_assert(
						!_isFunction(source),
						"source callback must not return another function"
					);
				}
				if (_isFunction(source.then)) {
					ajaxDfd = source;
				} else if (source.url) {
					ajax = $.extend({}, ctx.options.ajax, source);
					if (ajax.debugDelay) {
						delay = ajax.debugDelay;
						delete ajax.debugDelay; 
						if (_isArray(delay)) {
							delay =
								delay[0] +
								Math.random() * (delay[1] - delay[0]);
						}
						node.warn(
							"nodeLoadChildren waiting debugDelay " +
								Math.round(delay) +
								" ms ..."
						);
						ajaxDfd = $.Deferred(function (ajaxDfd) {
							setTimeout(function () {
								$.ajax(ajax)
									.done(function () {
										ajaxDfd.resolveWith(this, arguments);
									})
									.fail(function () {
										ajaxDfd.rejectWith(this, arguments);
									});
							}, delay);
						});
					} else {
						ajaxDfd = $.ajax(ajax);
					}
				} else if ($.isPlainObject(source) || _isArray(source)) {
					ajaxDfd = {
						then: function (resolve, reject) {
							resolve(source, null, null);
						},
					};
					isAsync = false;
				} else {
					$.error("Invalid source type: " + source);
				}

				if (node._requestId) {
					node.warn(
						"Recursive load request #" +
							requestId +
							" while #" +
							node._requestId +
							" is pending."
					);
					node._requestId = requestId;
				}

				if (isAsync) {
					tree.debugTime(tag);
					tree.nodeSetStatus(ctx, "loading");
				}

				resultDfd = new $.Deferred();
				ajaxDfd.then(
					function (data, textStatus, jqXHR) {
						var errorObj, res;

						if (
							(source.dataType === "json" ||
								source.dataType === "jsonp") &&
							typeof data === "string"
						) {
							$.error(
								"Ajax request returned a string (did you get the JSON dataType wrong?)."
							);
						}
						if (node._requestId && node._requestId > requestId) {
							resultDfd.rejectWith(this, [
								RECURSIVE_REQUEST_ERROR,
							]);
							return;
						}
						if (node.parent === null && nodePrevParent !== null) {
							resultDfd.rejectWith(this, [
								INVALID_REQUEST_TARGET_ERROR,
							]);
							return;
						}
						if (ctx.options.postProcess) {
							try {
								res = tree._triggerNodeEvent(
									"postProcess",
									ctx,
									ctx.originalEvent,
									{
										response: data,
										error: null,
										dataType: source.dataType,
									}
								);
								if (res.error) {
									tree.warn(
										"postProcess returned error:",
										res
									);
								}
							} catch (e) {
								res = {
									error: e,
									message: "" + e,
									details: "postProcess failed",
								};
							}
							if (res.error) {
								errorObj = $.isPlainObject(res.error)
									? res.error
									: { message: res.error };
								errorObj = tree._makeHookContext(
									node,
									null,
									errorObj
								);
								resultDfd.rejectWith(this, [errorObj]);
								return;
							}
							if (
								_isArray(res) ||
								($.isPlainObject(res) && _isArray(res.children))
							) {
								data = res;
							}
						} else if (
							data &&
							_hasProp(data, "d") &&
							ctx.options.enableAspx
						) {
							if (ctx.options.enableAspx === 42) {
								tree.warn(
									"The default for enableAspx will change to `false` in the fututure. " +
										"Pass `enableAspx: true` or implement postProcess to silence this warning."
								);
							}
							data =
								typeof data.d === "string"
									? $.parseJSON(data.d)
									: data.d;
						}
						resultDfd.resolveWith(this, [data]);
					},
					function (jqXHR, textStatus, errorThrown) {
						var errorObj = tree._makeHookContext(node, null, {
							error: jqXHR,
							args: Array.prototype.slice.call(arguments),
							message: errorThrown,
							details: jqXHR.status + ": " + errorThrown,
						});
						resultDfd.rejectWith(this, [errorObj]);
					}
				);

				resultDfd
					.done(function (data) {
						tree.nodeSetStatus(ctx, "ok");
						var children, metaData, noDataRes;

						if ($.isPlainObject(data)) {
							_assert(
								node.isRootNode(),
								"source may only be an object for root nodes (expecting an array of child objects otherwise)"
							);
							_assert(
								_isArray(data.children),
								"if an object is passed as source, it must contain a 'children' array (all other properties are added to 'tree.data')"
							);
							metaData = data;
							children = data.children;
							delete metaData.children;
							$.each(TREE_ATTRS, function (i, attr) {
								if (metaData[attr] !== undefined) {
									tree[attr] = metaData[attr];
									delete metaData[attr];
								}
							});
							$.extend(tree.data, metaData);
						} else {
							children = data;
						}
						_assert(
							_isArray(children),
							"expected array of children"
						);
						node._setChildren(children);

						if (tree.options.nodata && children.length === 0) {
							if (_isFunction(tree.options.nodata)) {
								noDataRes = tree.options.nodata.call(
									tree,
									{ type: "nodata" },
									ctx
								);
							} else if (
								tree.options.nodata === true &&
								node.isRootNode()
							) {
								noDataRes = tree.options.strings.noData;
							} else if (
								typeof tree.options.nodata === "string" &&
								node.isRootNode()
							) {
								noDataRes = tree.options.nodata;
							}
							if (noDataRes) {
								node.setStatus("nodata", noDataRes);
							}
						}
						tree._triggerNodeEvent("loadChildren", node);
					})
					.fail(function (error) {
						var ctxErr;

						if (error === RECURSIVE_REQUEST_ERROR) {
							node.warn(
								"Ignored response for obsolete load request #" +
									requestId +
									" (expected #" +
									node._requestId +
									")"
							);
							return;
						} else if (error === INVALID_REQUEST_TARGET_ERROR) {
							node.warn(
								"Lazy parent node was removed while loading: discarding response."
							);
							return;
						} else if (error.node && error.error && error.message) {
							ctxErr = error;
						} else {
							ctxErr = tree._makeHookContext(node, null, {
								error: error, 
								args: Array.prototype.slice.call(arguments),
								message: error
									? error.message || error.toString()
									: "",
							});
							if (ctxErr.message === "[object Object]") {
								ctxErr.message = "";
							}
						}
						node.warn(
							"Load children failed (" + ctxErr.message + ")",
							ctxErr
						);
						if (
							tree._triggerNodeEvent(
								"loadError",
								ctxErr,
								null
							) !== false
						) {
							tree.nodeSetStatus(
								ctx,
								"error",
								ctxErr.message,
								ctxErr.details
							);
						}
					})
					.always(function () {
						node._requestId = null;
						if (isAsync) {
							tree.debugTimeEnd(tag);
						}
					});

				return resultDfd.promise();
			},
			nodeLoadKeyPath: function (ctx, keyPathList) {
			},
			nodeRemoveChild: function (ctx, childNode) {
				var idx,
					node = ctx.node,
					subCtx = $.extend({}, ctx, { node: childNode }),
					children = node.children;


				if (children.length === 1) {
					_assert(childNode === children[0], "invalid single child");
					return this.nodeRemoveChildren(ctx);
				}
				if (
					this.activeNode &&
					(childNode === this.activeNode ||
						this.activeNode.isDescendantOf(childNode))
				) {
					this.activeNode.setActive(false); 
				}
				if (
					this.focusNode &&
					(childNode === this.focusNode ||
						this.focusNode.isDescendantOf(childNode))
				) {
					this.focusNode = null;
				}
				this.nodeRemoveMarkup(subCtx);
				this.nodeRemoveChildren(subCtx);
				idx = $.inArray(childNode, children);
				_assert(idx >= 0, "invalid child");
				node.triggerModifyChild("remove", childNode);
				childNode.visit(function (n) {
					n.parent = null;
				}, true);
				this._callHook("treeRegisterNode", this, false, childNode);
				children.splice(idx, 1);
			},
			nodeRemoveChildMarkup: function (ctx) {
				var node = ctx.node;

				if (node.ul) {
					if (node.isRootNode()) {
						$(node.ul).empty();
					} else {
						$(node.ul).remove();
						node.ul = null;
					}
					node.visit(function (n) {
						n.li = n.ul = null;
					});
				}
			},
			nodeRemoveChildren: function (ctx) {
				var 
					tree = ctx.tree,
					node = ctx.node,
					children = node.children;

				if (!children) {
					return;
				}
				if (this.activeNode && this.activeNode.isDescendantOf(node)) {
					this.activeNode.setActive(false); 
				}
				if (this.focusNode && this.focusNode.isDescendantOf(node)) {
					this.focusNode = null;
				}
				this.nodeRemoveChildMarkup(ctx);
				node.triggerModifyChild("remove", null);
				node.visit(function (n) {
					n.parent = null;
					tree._callHook("treeRegisterNode", tree, false, n);
				});
				if (node.lazy) {
					node.children = [];
				} else {
					node.children = null;
				}
				if (!node.isRootNode()) {
					node.expanded = false; 
				}
				this.nodeRenderStatus(ctx);
			},
			nodeRemoveMarkup: function (ctx) {
				var node = ctx.node;
				if (node.li) {
					$(node.li).remove();
					node.li = null;
				}
				this.nodeRemoveChildMarkup(ctx);
			},
			nodeRender: function (ctx, force, deep, collapsed, _recursive) {
				var childLI,
					childNode1,
					childNode2,
					i,
					l,
					next,
					subCtx,
					node = ctx.node,
					tree = ctx.tree,
					opts = ctx.options,
					aria = opts.aria,
					firstTime = false,
					parent = node.parent,
					isRootNode = !parent,
					children = node.children,
					successorLi = null;

				if (tree._enableUpdate === false) {
					return;
				}
				if (!isRootNode && !parent.ul) {
					return;
				}
				_assert(isRootNode || parent.ul, "parent UL must exist");

				if (!isRootNode) {
					if (
						node.li &&
						(force || node.li.parentNode !== node.parent.ul)
					) {
						if (node.li.parentNode === node.parent.ul) {
							successorLi = node.li.nextSibling;
						} else {
							this.debug(
								"Unlinking " +
									node +
									" (must be child of " +
									node.parent +
									")"
							);
						}
						this.nodeRemoveMarkup(ctx);
					}
					if (node.li) {
						this.nodeRenderStatus(ctx);
					} else {
						firstTime = true;
						node.li = document.createElement("li");
						node.li.ftnode = node;

						if (node.key && opts.generateIds) {
							node.li.id = opts.idPrefix + node.key;
						}
						node.span = document.createElement("span");
						node.span.className = "fancytree-node";
						if (aria && !node.tr) {
							$(node.li).attr("role", "treeitem");
						}
						node.li.appendChild(node.span);

						this.nodeRenderTitle(ctx);

						if (opts.createNode) {
							opts.createNode.call(
								tree,
								{ type: "createNode" },
								ctx
							);
						}
					}
					if (opts.renderNode) {
						opts.renderNode.call(tree, { type: "renderNode" }, ctx);
					}
				}

				if (children) {
					if (isRootNode || node.expanded || deep === true) {
						if (!node.ul) {
							node.ul = document.createElement("ul");
							if (
								(collapsed === true && !_recursive) ||
								!node.expanded
							) {
								node.ul.style.display = "none";
							}
							if (aria) {
								$(node.ul).attr("role", "group");
							}
							if (node.li) {
								node.li.appendChild(node.ul);
							} else {
								node.tree.$div.append(node.ul);
							}
						}
						for (i = 0, l = children.length; i < l; i++) {
							subCtx = $.extend({}, ctx, { node: children[i] });
							this.nodeRender(subCtx, force, deep, false, true);
						}
						childLI = node.ul.firstChild;
						while (childLI) {
							childNode2 = childLI.ftnode;
							if (childNode2 && childNode2.parent !== node) {
								node.debug(
									"_fixParent: remove missing " + childNode2,
									childLI
								);
								next = childLI.nextSibling;
								childLI.parentNode.removeChild(childLI);
								childLI = next;
							} else {
								childLI = childLI.nextSibling;
							}
						}
						childLI = node.ul.firstChild;
						for (i = 0, l = children.length - 1; i < l; i++) {
							childNode1 = children[i];
							childNode2 = childLI.ftnode;
							if (childNode1 === childNode2) {
								childLI = childLI.nextSibling;
							} else {
								node.ul.insertBefore(
									childNode1.li,
									childNode2.li
								);
							}
						}
					}
				} else {
					if (node.ul) {
						this.warn("remove child markup for " + node);
						this.nodeRemoveChildMarkup(ctx);
					}
				}
				if (!isRootNode) {
					if (firstTime) {
						parent.ul.insertBefore(node.li, successorLi);
					}
				}
			},
			nodeRenderTitle: function (ctx, title) {
				var checkbox,
					className,
					icon,
					nodeTitle,
					role,
					tabindex,
					tooltip,
					iconTooltip,
					node = ctx.node,
					tree = ctx.tree,
					opts = ctx.options,
					aria = opts.aria,
					level = node.getLevel(),
					ares = [];

				if (title !== undefined) {
					node.title = title;
				}
				if (!node.span || tree._enableUpdate === false) {
					return;
				}
				role =
					aria && node.hasChildren() !== false
						? " role='button'"
						: "";
				if (level < opts.minExpandLevel) {
					if (!node.lazy) {
						node.expanded = true;
					}
					if (level > 1) {
						ares.push(
							"<span " +
								role +
								" class='fancytree-expander fancytree-expander-fixed'></span>"
						);
					}
				} else {
					ares.push(
						"<span " + role + " class='fancytree-expander'></span>"
					);
				}
				checkbox = FT.evalOption("checkbox", node, node, opts, false);

				if (checkbox && !node.isStatusNode()) {
					role = aria ? " role='checkbox'" : "";
					className = "fancytree-checkbox";
					if (
						checkbox === "radio" ||
						(node.parent && node.parent.radiogroup)
					) {
						className += " fancytree-radio";
					}
					ares.push(
						"<span " + role + " class='" + className + "'></span>"
					);
				}
				if (node.data.iconClass !== undefined) {
					if (node.icon) {
						$.error(
							"'iconClass' node option is deprecated since v2.14.0: use 'icon' only instead"
						);
					} else {
						node.warn(
							"'iconClass' node option is deprecated since v2.14.0: use 'icon' instead"
						);
						node.icon = node.data.iconClass;
					}
				}
				icon = FT.evalOption("icon", node, node, opts, true);
				if (icon !== false) {
					role = aria ? " role='presentation'" : "";

					iconTooltip = FT.evalOption(
						"iconTooltip",
						node,
						node,
						opts,
						null
					);
					iconTooltip = iconTooltip
						? " title='" + _escapeTooltip(iconTooltip) + "'"
						: "";

					if (typeof icon === "string") {
						if (TEST_IMG.test(icon)) {
							icon =
								icon.charAt(0) === "/"
									? icon
									: (opts.imagePath || "") + icon;
							ares.push(
								"<img src='" +
									icon +
									"' class='fancytree-icon'" +
									iconTooltip +
									" alt='' />"
							);
						} else {
							ares.push(
								"<span " +
									role +
									" class='fancytree-custom-icon " +
									icon +
									"'" +
									iconTooltip +
									"></span>"
							);
						}
					} else if (icon.text) {
						ares.push(
							"<span " +
								role +
								" class='fancytree-custom-icon " +
								(icon.addClass || "") +
								"'" +
								iconTooltip +
								">" +
								FT.escapeHtml(icon.text) +
								"</span>"
						);
					} else if (icon.html) {
						ares.push(
							"<span " +
								role +
								" class='fancytree-custom-icon " +
								(icon.addClass || "") +
								"'" +
								iconTooltip +
								">" +
								icon.html +
								"</span>"
						);
					} else {
						ares.push(
							"<span " +
								role +
								" class='fancytree-icon'" +
								iconTooltip +
								"></span>"
						);
					}
				}
				nodeTitle = "";
				if (opts.renderTitle) {
					nodeTitle =
						opts.renderTitle.call(
							tree,
							{ type: "renderTitle" },
							ctx
						) || "";
				}
				if (!nodeTitle) {
					tooltip = FT.evalOption("tooltip", node, node, opts, null);
					if (tooltip === true) {
						tooltip = node.title;
					}
					tooltip = tooltip
						? " title='" + _escapeTooltip(tooltip) + "'"
						: "";
					tabindex = opts.titlesTabbable ? " tabindex='0'" : "";

					nodeTitle =
						"<span class='fancytree-title'" +
						tooltip +
						tabindex +
						">" +
						(opts.escapeTitles
							? FT.escapeHtml(node.title)
							: node.title) +
						"</span>";
				}
				ares.push(nodeTitle);
				node.span.innerHTML = ares.join("");
				this.nodeRenderStatus(ctx);
				if (opts.enhanceTitle) {
					ctx.$title = $(">span.fancytree-title", node.span);
					nodeTitle =
						opts.enhanceTitle.call(
							tree,
							{ type: "enhanceTitle" },
							ctx
						) || "";
				}
			},
			nodeRenderStatus: function (ctx) {
				var $ariaElem,
					node = ctx.node,
					tree = ctx.tree,
					opts = ctx.options,
					hasChildren = node.hasChildren(),
					isLastSib = node.isLastSibling(),
					aria = opts.aria,
					cn = opts._classNames,
					cnList = [],
					statusElem = node[tree.statusClassPropName];

				if (!statusElem || tree._enableUpdate === false) {
					return;
				}
				if (aria) {
					$ariaElem = $(node.tr || node.li);
				}
				cnList.push(cn.node);
				if (tree.activeNode === node) {
					cnList.push(cn.active);
				}
				if (tree.focusNode === node) {
					cnList.push(cn.focused);
				}
				if (node.expanded) {
					cnList.push(cn.expanded);
				}
				if (aria) {
					if (hasChildren === false) {
						$ariaElem.removeAttr("aria-expanded");
					} else {
						$ariaElem.attr("aria-expanded", Boolean(node.expanded));
					}
				}
				if (node.folder) {
					cnList.push(cn.folder);
				}
				if (hasChildren !== false) {
					cnList.push(cn.hasChildren);
				}
				if (isLastSib) {
					cnList.push(cn.lastsib);
				}
				if (node.lazy && node.children == null) {
					cnList.push(cn.lazy);
				}
				if (node.partload) {
					cnList.push(cn.partload);
				}
				if (node.partsel) {
					cnList.push(cn.partsel);
				}
				if (FT.evalOption("unselectable", node, node, opts, false)) {
					cnList.push(cn.unselectable);
				}
				if (node._isLoading) {
					cnList.push(cn.loading);
				}
				if (node._error) {
					cnList.push(cn.error);
				}
				if (node.statusNodeType) {
					cnList.push(cn.statusNodePrefix + node.statusNodeType);
				}
				if (node.selected) {
					cnList.push(cn.selected);
					if (aria) {
						$ariaElem.attr("aria-selected", true);
					}
				} else if (aria) {
					$ariaElem.attr("aria-selected", false);
				}
				if (node.extraClasses) {
					cnList.push(node.extraClasses);
				}
				if (hasChildren === false) {
					cnList.push(
						cn.combinedExpanderPrefix + "n" + (isLastSib ? "l" : "")
					);
				} else {
					cnList.push(
						cn.combinedExpanderPrefix +
							(node.expanded ? "e" : "c") +
							(node.lazy && node.children == null ? "d" : "") +
							(isLastSib ? "l" : "")
					);
				}
				cnList.push(
					cn.combinedIconPrefix +
						(node.expanded ? "e" : "c") +
						(node.folder ? "f" : "")
				);
				statusElem.className = cnList.join(" ");

				if (node.li) {
					$(node.li).toggleClass(cn.lastsib, isLastSib);
				}
			},
			nodeSetActive: function (ctx, flag, callOpts) {
				callOpts = callOpts || {};
				var subCtx,
					node = ctx.node,
					tree = ctx.tree,
					opts = ctx.options,
					noEvents = callOpts.noEvents === true,
					noFocus = callOpts.noFocus === true,
					scroll = callOpts.scrollIntoView !== false,
					isActive = node === tree.activeNode;

				flag = flag !== false;

				if (isActive === flag) {
					return _getResolvedPromise(node);
				}
				if (
					scroll &&
					ctx.originalEvent &&
					$(ctx.originalEvent.target).is("a,:checkbox")
				) {
					node.info("Not scrolling while clicking an embedded link.");
					scroll = false;
				}
				if (
					flag &&
					!noEvents &&
					this._triggerNodeEvent(
						"beforeActivate",
						node,
						ctx.originalEvent
					) === false
				) {
					return _getRejectedPromise(node, ["rejected"]);
				}
				if (flag) {
					if (tree.activeNode) {
						_assert(
							tree.activeNode !== node,
							"node was active (inconsistency)"
						);
						subCtx = $.extend({}, ctx, { node: tree.activeNode });
						tree.nodeSetActive(subCtx, false);
						_assert(
							tree.activeNode === null,
							"deactivate was out of sync?"
						);
					}

					if (opts.activeVisible) {
						node.makeVisible({ scrollIntoView: scroll });
					}
					tree.activeNode = node;
					tree.nodeRenderStatus(ctx);
					if (!noFocus) {
						tree.nodeSetFocus(ctx);
					}
					if (!noEvents) {
						tree._triggerNodeEvent(
							"activate",
							node,
							ctx.originalEvent
						);
					}
				} else {
					_assert(
						tree.activeNode === node,
						"node was not active (inconsistency)"
					);
					tree.activeNode = null;
					this.nodeRenderStatus(ctx);
					if (!noEvents) {
						ctx.tree._triggerNodeEvent(
							"deactivate",
							node,
							ctx.originalEvent
						);
					}
				}
				return _getResolvedPromise(node);
			},
			nodeSetExpanded: function (ctx, flag, callOpts) {
				callOpts = callOpts || {};
				var _afterLoad,
					dfd,
					i,
					l,
					parents,
					prevAC,
					node = ctx.node,
					tree = ctx.tree,
					opts = ctx.options,
					noAnimation = callOpts.noAnimation === true,
					noEvents = callOpts.noEvents === true;

				flag = flag !== false;


				if ($(node.li).hasClass(opts._classNames.animating)) {
					node.warn(
						"setExpanded(" + flag + ") while animating: ignored."
					);
					return _getRejectedPromise(node, ["recursion"]);
				}

				if ((node.expanded && flag) || (!node.expanded && !flag)) {
					return _getResolvedPromise(node);
				} else if (flag && !node.lazy && !node.hasChildren()) {
					return _getResolvedPromise(node);
				} else if (!flag && node.getLevel() < opts.minExpandLevel) {
					return _getRejectedPromise(node, ["locked"]);
				} else if (
					!noEvents &&
					this._triggerNodeEvent(
						"beforeExpand",
						node,
						ctx.originalEvent
					) === false
				) {
					return _getRejectedPromise(node, ["rejected"]);
				}
				if (!noAnimation && !node.isVisible()) {
					noAnimation = callOpts.noAnimation = true;
				}

				dfd = new $.Deferred();

				if (flag && !node.expanded && opts.autoCollapse) {
					parents = node.getParentList(false, true);
					prevAC = opts.autoCollapse;
					try {
						opts.autoCollapse = false;
						for (i = 0, l = parents.length; i < l; i++) {
							this._callHook(
								"nodeCollapseSiblings",
								parents[i],
								callOpts
							);
						}
					} finally {
						opts.autoCollapse = prevAC;
					}
				}
				dfd.done(function () {
					var lastChild = node.getLastChild();

					if (
						flag &&
						opts.autoScroll &&
						!noAnimation &&
						lastChild &&
						tree._enableUpdate
					) {
						lastChild
							.scrollIntoView(true, { topNode: node })
							.always(function () {
								if (!noEvents) {
									ctx.tree._triggerNodeEvent(
										flag ? "expand" : "collapse",
										ctx
									);
								}
							});
					} else {
						if (!noEvents) {
							ctx.tree._triggerNodeEvent(
								flag ? "expand" : "collapse",
								ctx
							);
						}
					}
				});
				_afterLoad = function (callback) {
					var cn = opts._classNames,
						isVisible,
						isExpanded,
						effect = opts.toggleEffect;

					node.expanded = flag;
					tree._callHook(
						"treeStructureChanged",
						ctx,
						flag ? "expand" : "collapse"
					);
					tree._callHook("nodeRender", ctx, false, false, true);

					if (node.ul) {
						isVisible = node.ul.style.display !== "none";
						isExpanded = !!node.expanded;
						if (isVisible === isExpanded) {
							node.warn(
								"nodeSetExpanded: UL.style.display already set"
							);
						} else if (!effect || noAnimation) {
							node.ul.style.display =
								node.expanded || !parent ? "" : "none";
						} else {
							$(node.li).addClass(cn.animating); 

							if (_isFunction($(node.ul)[effect.effect])) {
								$(node.ul)[effect.effect]({
									duration: effect.duration,
									always: function () {
										$(this).removeClass(cn.animating); 
										$(node.li).removeClass(cn.animating); 
										callback();
									},
								});
							} else {

								$(node.ul).stop(true, true); 

								$(node.ul)
									.parent()
									.find(".ui-effects-placeholder")
									.remove();

								$(node.ul).toggle(
									effect.effect,
									effect.options,
									effect.duration,
									function () {
										$(this).removeClass(cn.animating); 
										$(node.li).removeClass(cn.animating); 
										callback();
									}
								);
							}
							return;
						}
					}
					callback();
				};

				if (flag && node.lazy && node.hasChildren() === undefined) {
					node.load()
						.done(function () {
							if (dfd.notifyWith) {
								dfd.notifyWith(node, ["loaded"]);
							}
							_afterLoad(function () {
								dfd.resolveWith(node);
							});
						})
						.fail(function (errMsg) {
							_afterLoad(function () {
								dfd.rejectWith(node, [
									"load failed (" + errMsg + ")",
								]);
							});
						});
				} else {
					_afterLoad(function () {
						dfd.resolveWith(node);
					});
				}
				return dfd.promise();
			},
			nodeSetFocus: function (ctx, flag) {
				var ctx2,
					tree = ctx.tree,
					node = ctx.node,
					opts = tree.options,
					isInput = ctx.originalEvent
						? $(ctx.originalEvent.target).is(":input")
						: false;

				flag = flag !== false;

				if (tree.focusNode) {
					if (tree.focusNode === node && flag) {
						return;
					}
					ctx2 = $.extend({}, ctx, { node: tree.focusNode });
					tree.focusNode = null;
					this._triggerNodeEvent("blur", ctx2);
					this._callHook("nodeRenderStatus", ctx2);
				}
				if (flag) {
					if (!this.hasFocus()) {
						node.debug("nodeSetFocus: forcing container focus");
						this._callHook("treeSetFocus", ctx, true, {
							calledByNode: true,
						});
					}
					node.makeVisible({ scrollIntoView: false });
					tree.focusNode = node;
					if (opts.titlesTabbable) {
						if (!isInput) {
							$(node.span).find(".fancytree-title").focus();
						}
					}
					if (opts.aria) {
						$(tree.$container).attr(
							"aria-activedescendant",
							$(node.tr || node.li)
								.uniqueId()
								.attr("id")
						);
					}
					this._triggerNodeEvent("focus", ctx);

					var hasFancytreeFocus =
						document.activeElement === tree.$container.get(0) ||
						$(document.activeElement, tree.$container).length >= 1;

					if (!hasFancytreeFocus) {
						$(tree.$container).focus();
					}

					if (opts.autoScroll) {
						node.scrollIntoView();
					}
					this._callHook("nodeRenderStatus", ctx);
				}
			},
			nodeSetSelected: function (ctx, flag, callOpts) {
				callOpts = callOpts || {};
				var node = ctx.node,
					tree = ctx.tree,
					opts = ctx.options,
					noEvents = callOpts.noEvents === true,
					parent = node.parent;

				flag = flag !== false;


				if (FT.evalOption("unselectable", node, node, opts, false)) {
					return;
				}

				node._lastSelectIntent = flag; 

				if (!!node.selected === flag) {
					if (opts.selectMode === 3 && node.partsel && !flag) {
					} else {
						return flag;
					}
				}

				if (
					!noEvents &&
					this._triggerNodeEvent(
						"beforeSelect",
						node,
						ctx.originalEvent
					) === false
				) {
					return !!node.selected;
				}
				if (flag && opts.selectMode === 1) {
					if (tree.lastSelectedNode) {
						tree.lastSelectedNode.setSelected(false);
					}
					node.selected = flag;
				} else if (
					opts.selectMode === 3 &&
					parent &&
					!parent.radiogroup &&
					!node.radiogroup
				) {
					node.selected = flag;
					node.fixSelection3AfterClick(callOpts);
				} else if (parent && parent.radiogroup) {
					node.visitSiblings(function (n) {
						n._changeSelectStatusAttrs(flag && n === node);
					}, true);
				} else {
					node.selected = flag;
				}
				this.nodeRenderStatus(ctx);
				tree.lastSelectedNode = flag ? node : null;
				if (!noEvents) {
					tree._triggerNodeEvent("select", ctx);
				}
			},
			nodeSetStatus: function (ctx, status, message, details) {
				var node = ctx.node,
					tree = ctx.tree;

				function _clearStatusNode() {
					var firstChild = node.children ? node.children[0] : null;
					if (firstChild && firstChild.isStatusNode()) {
						try {
							if (node.ul) {
								node.ul.removeChild(firstChild.li);
								firstChild.li = null; 
							}
						} catch (e) {}
						if (node.children.length === 1) {
							node.children = [];
						} else {
							node.children.shift();
						}
						tree._callHook(
							"treeStructureChanged",
							ctx,
							"clearStatusNode"
						);
					}
				}
				function _setStatusNode(data, type) {
					var firstChild = node.children ? node.children[0] : null;
					if (firstChild && firstChild.isStatusNode()) {
						$.extend(firstChild, data);
						firstChild.statusNodeType = type;
						tree._callHook("nodeRenderTitle", firstChild);
					} else {
						node._setChildren([data]);
						tree._callHook(
							"treeStructureChanged",
							ctx,
							"setStatusNode"
						);
						node.children[0].statusNodeType = type;
						tree.render();
					}
					return node.children[0];
				}

				switch (status) {
					case "ok":
						_clearStatusNode();
						node._isLoading = false;
						node._error = null;
						node.renderStatus();
						break;
					case "loading":
						if (!node.parent) {
							_setStatusNode(
								{
									title:
										tree.options.strings.loading +
										(message ? " (" + message + ")" : ""),
									checkbox: false,
									tooltip: details,
								},
								status
							);
						}
						node._isLoading = true;
						node._error = null;
						node.renderStatus();
						break;
					case "error":
						_setStatusNode(
							{
								title:
									tree.options.strings.loadError +
									(message ? " (" + message + ")" : ""),
								checkbox: false,
								tooltip: details,
							},
							status
						);
						node._isLoading = false;
						node._error = { message: message, details: details };
						node.renderStatus();
						break;
					case "nodata":
						_setStatusNode(
							{
								title: message || tree.options.strings.noData,
								checkbox: false,
								tooltip: details,
							},
							status
						);
						node._isLoading = false;
						node._error = null;
						node.renderStatus();
						break;
					default:
						$.error("invalid node status " + status);
				}
			},
			nodeToggleExpanded: function (ctx) {
				return this.nodeSetExpanded(ctx, !ctx.node.expanded);
			},
			nodeToggleSelected: function (ctx) {
				var node = ctx.node,
					flag = !node.selected;

				if (
					node.partsel &&
					!node.selected &&
					node._lastSelectIntent === true
				) {
					flag = false;
					node.selected = true; 
				}
				node._lastSelectIntent = flag;
				return this.nodeSetSelected(ctx, flag);
			},
			treeClear: function (ctx) {
				var tree = ctx.tree;
				tree.activeNode = null;
				tree.focusNode = null;
				tree.$div.find(">ul.fancytree-container").empty();
				tree.rootNode.children = null;
				tree._callHook("treeStructureChanged", ctx, "clear");
			},
			treeCreate: function (ctx) {},
			treeDestroy: function (ctx) {
				this.$div.find(">ul.fancytree-container").remove();
				if (this.$source) {
					this.$source.removeClass("fancytree-helper-hidden");
				}
			},
			treeInit: function (ctx) {
				var tree = ctx.tree,
					opts = tree.options;

				tree.$container.attr("tabindex", opts.tabindex);

				$.each(TREE_ATTRS, function (i, attr) {
					if (opts[attr] !== undefined) {
						tree.info("Move option " + attr + " to tree");
						tree[attr] = opts[attr];
						delete opts[attr];
					}
				});

				if (opts.checkboxAutoHide) {
					tree.$container.addClass("fancytree-checkbox-auto-hide");
				}
				if (opts.rtl) {
					tree.$container
						.attr("DIR", "RTL")
						.addClass("fancytree-rtl");
				} else {
					tree.$container
						.removeAttr("DIR")
						.removeClass("fancytree-rtl");
				}
				if (opts.aria) {
					tree.$container.attr("role", "tree");
					if (opts.selectMode !== 1) {
						tree.$container.attr("aria-multiselectable", true);
					}
				}
				this.treeLoad(ctx);
			},
			treeLoad: function (ctx, source) {
				var metaData,
					type,
					$ul,
					tree = ctx.tree,
					$container = ctx.widget.element,
					dfd,
					rootCtx = $.extend({}, ctx, { node: this.rootNode });

				if (tree.rootNode.children) {
					this.treeClear(ctx);
				}
				source = source || this.options.source;

				if (!source) {
					type = $container.data("type") || "html";
					switch (type) {
						case "html":
							$ul = $container
								.find(">ul")
								.not(".fancytree-container")
								.first();

							if ($ul.length) {
								$ul.addClass(
									"ui-fancytree-source fancytree-helper-hidden"
								);
								source = $.ui.fancytree.parseHtml($ul);
								this.data = $.extend(
									this.data,
									_getElementDataAsDict($ul)
								);
							} else {
								FT.warn(
									"No `source` option was passed and container does not contain `<ul>`: assuming `source: []`."
								);
								source = [];
							}
							break;
						case "json":
							source = $.parseJSON($container.text());
							$container
								.contents()
								.filter(function () {
									return this.nodeType === 3;
								})
								.remove();
							if ($.isPlainObject(source)) {
								_assert(
									_isArray(source.children),
									"if an object is passed as source, it must contain a 'children' array (all other properties are added to 'tree.data')"
								);
								metaData = source;
								source = source.children;
								delete metaData.children;
								$.each(TREE_ATTRS, function (i, attr) {
									if (metaData[attr] !== undefined) {
										tree[attr] = metaData[attr];
										delete metaData[attr];
									}
								});
								$.extend(tree.data, metaData);
							}
							break;
						default:
							$.error("Invalid data-type: " + type);
					}
				} else if (typeof source === "string") {
					$.error("Not implemented");
				}

				tree._triggerTreeEvent("preInit", null);

				dfd = this.nodeLoadChildren(rootCtx, source)
					.done(function () {
						tree._callHook(
							"treeStructureChanged",
							ctx,
							"loadChildren"
						);
						tree.render();
						if (ctx.options.selectMode === 3) {
							tree.rootNode.fixSelection3FromEndNodes();
						}
						if (tree.activeNode && tree.options.activeVisible) {
							tree.activeNode.makeVisible();
						}
						tree._triggerTreeEvent("init", null, { status: true });
					})
					.fail(function () {
						tree.render();
						tree._triggerTreeEvent("init", null, { status: false });
					});
				return dfd;
			},
			treeRegisterNode: function (ctx, add, node) {
				ctx.tree._callHook(
					"treeStructureChanged",
					ctx,
					add ? "addNode" : "removeNode"
				);
			},
			treeSetFocus: function (ctx, flag, callOpts) {
				var targetNode;

				flag = flag !== false;

				if (flag !== this.hasFocus()) {
					this._hasFocus = flag;
					if (!flag && this.focusNode) {
						this.focusNode.setFocus(false);
					} else if (flag && (!callOpts || !callOpts.calledByNode)) {
						$(this.$container).focus();
					}
					this.$container.toggleClass("fancytree-treefocus", flag);
					this._triggerTreeEvent(flag ? "focusTree" : "blurTree");
					if (flag && !this.activeNode) {
						targetNode =
							this._lastMousedownNode || this.getFirstChild();
						if (targetNode) {
							targetNode.setFocus();
						}
					}
				}
			},
			treeSetOption: function (ctx, key, value) {
				var tree = ctx.tree,
					callDefault = true,
					callCreate = false,
					callRender = false;

				switch (key) {
					case "aria":
					case "checkbox":
					case "icon":
					case "minExpandLevel":
					case "tabindex":
						callCreate = true;
						callRender = true;
						break;
					case "checkboxAutoHide":
						tree.$container.toggleClass(
							"fancytree-checkbox-auto-hide",
							!!value
						);
						break;
					case "escapeTitles":
					case "tooltip":
						callRender = true;
						break;
					case "rtl":
						if (value === false) {
							tree.$container
								.removeAttr("DIR")
								.removeClass("fancytree-rtl");
						} else {
							tree.$container
								.attr("DIR", "RTL")
								.addClass("fancytree-rtl");
						}
						callRender = true;
						break;
					case "source":
						callDefault = false;
						tree._callHook("treeLoad", tree, value);
						callRender = true;
						break;
				}
				tree.debug(
					"set option " +
						key +
						"=" +
						value +
						" <" +
						typeof value +
						">"
				);
				if (callDefault) {
					if (this.widget._super) {
						this.widget._super.call(this.widget, key, value);
					} else {
						$.Widget.prototype._setOption.call(
							this.widget,
							key,
							value
						);
					}
				}
				if (callCreate) {
					tree._callHook("treeCreate", tree);
				}
				if (callRender) {
					tree.render(true, false); 
				}
			},
			treeStructureChanged: function (ctx, type) {},
		}
	);



	$.widget(
		"ui.fancytree",
		{
			options: {
				activeVisible: true,
				ajax: {
					type: "GET",
					cache: false, 
					dataType: "json", 
				},
				aria: true,
				autoActivate: true,
				autoCollapse: false,
				autoScroll: false,
				checkbox: false,
				clickFolderMode: 4,
				copyFunctionsToData: false,
				debugLevel: null, 
				disabled: false, 
				enableAspx: 42, 
				escapeTitles: false,
				extensions: [],
				focusOnSelect: false,
				generateIds: false,
				icon: true,
				idPrefix: "ft_",
				keyboard: true,
				keyPathSeparator: "/",
				minExpandLevel: 1,
				nodata: true, 
				quicksearch: false,
				rtl: false,
				scrollOfs: { top: 0, bottom: 0 },
				scrollParent: null,
				selectMode: 2,
				strings: {
					loading: "Loading...", 
					loadError: "Load error!",
					moreData: "More...",
					noData: "No data.",
				},
				tabindex: "0",
				titlesTabbable: false,
				toggleEffect: { effect: "slideToggle", duration: 200 }, 
				tooltip: false,
				treeId: null,
				_classNames: {
					active: "fancytree-active",
					animating: "fancytree-animating",
					combinedExpanderPrefix: "fancytree-exp-",
					combinedIconPrefix: "fancytree-ico-",
					error: "fancytree-error",
					expanded: "fancytree-expanded",
					focused: "fancytree-focused",
					folder: "fancytree-folder",
					hasChildren: "fancytree-has-children",
					lastsib: "fancytree-lastsib",
					lazy: "fancytree-lazy",
					loading: "fancytree-loading",
					node: "fancytree-node",
					partload: "fancytree-partload",
					partsel: "fancytree-partsel",
					radio: "fancytree-radio",
					selected: "fancytree-selected",
					statusNodePrefix: "fancytree-statusnode-",
					unselectable: "fancytree-unselectable",
				},
				lazyLoad: null,
				postProcess: null,
			},
			_deprecationWarning: function (name) {
				var tree = this.tree;

				if (tree && tree.options.debugLevel >= 3) {
					tree.warn(
						"$().fancytree('" +
							name +
							"') is deprecated (see https://wwwendt.de/tech/fancytree/doc/jsdoc/Fancytree_Widget.html"
					);
				}
			},
			_create: function () {
				this.tree = new Fancytree(this);

				this.$source =
					this.source || this.element.data("type") === "json"
						? this.element
						: this.element.find(">ul").first();
				var extension,
					extName,
					i,
					opts = this.options,
					extensions = opts.extensions,
					base = this.tree;

				for (i = 0; i < extensions.length; i++) {
					extName = extensions[i];
					extension = $.ui.fancytree._extensions[extName];
					if (!extension) {
						$.error(
							"Could not apply extension '" +
								extName +
								"' (it is not registered, did you forget to include it?)"
						);
					}

					this.tree.options[extName] = _simpleDeepMerge(
						{},
						extension.options,
						this.tree.options[extName]
					);


					_assert(
						this.tree.ext[extName] === undefined,
						"Extension name must not exist as Fancytree.ext attribute: '" +
							extName +
							"'"
					);
					this.tree.ext[extName] = {};
					_subclassObject(this.tree, base, extension, extName);
					base = extension;
				}
				if (opts.icons !== undefined) {
					if (opts.icon === true) {
						this.tree.warn(
							"'icons' tree option is deprecated since v2.14.0: use 'icon' instead"
						);
						opts.icon = opts.icons;
					} else {
						$.error(
							"'icons' tree option is deprecated since v2.14.0: use 'icon' only instead"
						);
					}
				}
				if (opts.iconClass !== undefined) {
					if (opts.icon) {
						$.error(
							"'iconClass' tree option is deprecated since v2.14.0: use 'icon' only instead"
						);
					} else {
						this.tree.warn(
							"'iconClass' tree option is deprecated since v2.14.0: use 'icon' instead"
						);
						opts.icon = opts.iconClass;
					}
				}
				if (opts.tabbable !== undefined) {
					opts.tabindex = opts.tabbable ? "0" : "-1";
					this.tree.warn(
						"'tabbable' tree option is deprecated since v2.17.0: use 'tabindex='" +
							opts.tabindex +
							"' instead"
					);
				}
				this.tree._callHook("treeCreate", this.tree);
			},

			_init: function () {
				this.tree._callHook("treeInit", this.tree);
				this._bind();
			},

			_setOption: function (key, value) {
				return this.tree._callHook(
					"treeSetOption",
					this.tree,
					key,
					value
				);
			},

			_destroy: function () {
				this._unbind();
				this.tree._callHook("treeDestroy", this.tree);
			},


			_unbind: function () {
				var ns = this.tree._ns;
				this.element.off(ns);
				this.tree.$container.off(ns);
				$(document).off(ns);
			},
			_bind: function () {
				var self = this,
					opts = this.options,
					tree = this.tree,
					ns = tree._ns;

				this._unbind();

				tree.$container
					.on("focusin" + ns + " focusout" + ns, function (event) {
						var node = FT.getNode(event),
							flag = event.type === "focusin";

						if (!flag && node && $(event.target).is("a")) {
							node.debug(
								"Ignored focusout on embedded <a> element."
							);
							return;
						}
						if (flag) {
							if (tree._getExpiringValue("focusin")) {
								tree.debug("Ignored double focusin.");
								return;
							}
							tree._setExpiringValue("focusin", true, 50);

							if (!node) {
								node = tree._getExpiringValue("mouseDownNode");
								if (node) {
									tree.debug(
										"Reconstruct mouse target for focusin from recent event."
									);
								}
							}
						}
						if (node) {
							tree._callHook(
								"nodeSetFocus",
								tree._makeHookContext(node, event),
								flag
							);
						} else {
							if (
								tree.tbody &&
								$(event.target).parents(
									"table.fancytree-container > thead"
								).length
							) {
								tree.debug(
									"Ignore focus event outside table body.",
									event
								);
							} else {
								tree._callHook("treeSetFocus", tree, flag);
							}
						}
					})
					.on(
						"selectstart" + ns,
						"span.fancytree-title",
						function (event) {
							event.preventDefault();
						}
					)
					.on("keydown" + ns, function (event) {
						if (opts.disabled || opts.keyboard === false) {
							return true;
						}
						var res,
							node = tree.focusNode, 
							ctx = tree._makeHookContext(node || tree, event),
							prevPhase = tree.phase;

						try {
							tree.phase = "userEvent";
							if (node) {
								res = tree._triggerNodeEvent(
									"keydown",
									node,
									event
								);
							} else {
								res = tree._triggerTreeEvent("keydown", event);
							}
							if (res === "preventNav") {
								res = true; 
							} else if (res !== false) {
								res = tree._callHook("nodeKeydown", ctx);
							}
							return res;
						} finally {
							tree.phase = prevPhase;
						}
					})
					.on("mousedown" + ns, function (event) {
						var et = FT.getEventTarget(event);
						tree._lastMousedownNode = et ? et.node : null;
						tree._setExpiringValue(
							"mouseDownNode",
							tree._lastMousedownNode
						);
					})
					.on("click" + ns + " dblclick" + ns, function (event) {
						if (opts.disabled) {
							return true;
						}
						var ctx,
							et = FT.getEventTarget(event),
							node = et.node,
							tree = self.tree,
							prevPhase = tree.phase;

						if (!node) {
							return true; 
						}
						ctx = tree._makeHookContext(node, event);
						try {
							tree.phase = "userEvent";
							switch (event.type) {
								case "click":
									ctx.targetType = et.type;
									if (node.isPagingNode()) {
										return (
											tree._triggerNodeEvent(
												"clickPaging",
												ctx,
												event
											) === true
										);
									}
									return tree._triggerNodeEvent(
										"click",
										ctx,
										event
									) === false
										? false
										: tree._callHook("nodeClick", ctx);
								case "dblclick":
									ctx.targetType = et.type;
									return tree._triggerNodeEvent(
										"dblclick",
										ctx,
										event
									) === false
										? false
										: tree._callHook("nodeDblclick", ctx);
							}
						} finally {
							tree.phase = prevPhase;
						}
					});
			},
			getActiveNode: function () {
				this._deprecationWarning("getActiveNode");
				return this.tree.activeNode;
			},
			getNodeByKey: function (key) {
				this._deprecationWarning("getNodeByKey");
				return this.tree.getNodeByKey(key);
			},
			getRootNode: function () {
				this._deprecationWarning("getRootNode");
				return this.tree.rootNode;
			},
			getTree: function () {
				this._deprecationWarning("getTree");
				return this.tree;
			},
		}
	);

	FT = $.ui.fancytree;

	$.extend(
		$.ui.fancytree,
		{
			version: "2.38.3", 
			buildType: "production", 
			debugLevel: 3, 

			_nextId: 1,
			_nextNodeKey: 1,
			_extensions: {},

			_FancytreeClass: Fancytree,
			_FancytreeNodeClass: FancytreeNode,
			jquerySupports: {
				positionMyOfs: isVersionAtLeast($.ui.version, 1, 9),
			},
			assert: function (cond, msg) {
				return _assert(cond, msg);
			},
			createTree: function (el, opts) {
				var $tree = $(el).fancytree(opts);
				return FT.getTree($tree);
			},
			debounce: function (timeout, fn, invokeAsap, ctx) {
				var timer;
				if (arguments.length === 3 && typeof invokeAsap !== "boolean") {
					ctx = invokeAsap;
					invokeAsap = false;
				}
				return function () {
					var args = arguments;
					ctx = ctx || this;
					invokeAsap && !timer && fn.apply(ctx, args);
					clearTimeout(timer);
					timer = setTimeout(function () {
						invokeAsap || fn.apply(ctx, args);
						timer = null;
					}, timeout);
				};
			},
			debug: function (msg) {
				if ($.ui.fancytree.debugLevel >= 4) {
					consoleApply("log", arguments);
				}
			},
			error: function (msg) {
				if ($.ui.fancytree.debugLevel >= 1) {
					consoleApply("error", arguments);
				}
			},
			escapeHtml: function (s) {
				return ("" + s).replace(REX_HTML, function (s) {
					return ENTITY_MAP[s];
				});
			},
			fixPositionOptions: function (opts) {
				if (opts.offset || ("" + opts.my + opts.at).indexOf("%") >= 0) {
					$.error(
						"expected new position syntax (but '%' is not supported)"
					);
				}
				if (!$.ui.fancytree.jquerySupports.positionMyOfs) {
					var 
						myParts = /(\w+)([+-]?\d+)?\s+(\w+)([+-]?\d+)?/.exec(
							opts.my
						),
						atParts = /(\w+)([+-]?\d+)?\s+(\w+)([+-]?\d+)?/.exec(
							opts.at
						),
						dx =
							(myParts[2] ? +myParts[2] : 0) +
							(atParts[2] ? +atParts[2] : 0),
						dy =
							(myParts[4] ? +myParts[4] : 0) +
							(atParts[4] ? +atParts[4] : 0);

					opts = $.extend({}, opts, {
						my: myParts[1] + " " + myParts[3],
						at: atParts[1] + " " + atParts[3],
					});
					if (dx || dy) {
						opts.offset = "" + dx + " " + dy;
					}
				}
				return opts;
			},
			getEventTarget: function (event) {
				var $target,
					tree,
					tcn = event && event.target ? event.target.className : "",
					res = { node: this.getNode(event.target), type: undefined };
				if (/\bfancytree-title\b/.test(tcn)) {
					res.type = "title";
				} else if (/\bfancytree-expander\b/.test(tcn)) {
					res.type =
						res.node.hasChildren() === false
							? "prefix"
							: "expander";
				} else if (/\bfancytree-checkbox\b/.test(tcn)) {
					res.type = "checkbox";
				} else if (/\bfancytree(-custom)?-icon\b/.test(tcn)) {
					res.type = "icon";
				} else if (/\bfancytree-node\b/.test(tcn)) {
					res.type = "title";
				} else if (event && event.target) {
					$target = $(event.target);
					if ($target.is("ul[role=group]")) {
						tree = res.node && res.node.tree;
						(tree || FT).debug("Ignoring click on outer UL.");
						res.node = null;
					} else if ($target.closest(".fancytree-title").length) {
						res.type = "title";
					} else if ($target.closest(".fancytree-checkbox").length) {
						res.type = "checkbox";
					} else if ($target.closest(".fancytree-expander").length) {
						res.type = "expander";
					}
				}
				return res;
			},
			getEventTargetType: function (event) {
				return this.getEventTarget(event).type;
			},
			getNode: function (el) {
				if (el instanceof FancytreeNode) {
					return el; 
				} else if (el instanceof $) {
					el = el[0]; 
				} else if (el.originalEvent !== undefined) {
					el = el.target; 
				}
				while (el) {
					if (el.ftnode) {
						return el.ftnode;
					}
					el = el.parentNode;
				}
				return null;
			},
			getTree: function (el) {
				var widget,
					orgEl = el;

				if (el instanceof Fancytree) {
					return el; 
				}
				if (el === undefined) {
					el = 0; 
				}
				if (typeof el === "number") {
					el = $(".fancytree-container").eq(el); 
				} else if (typeof el === "string") {
					el = $("#ft-id-" + orgEl).eq(0);
					if (!el.length) {
						el = $(orgEl).eq(0); 
					}
				} else if (
					el instanceof Element ||
					el instanceof HTMLDocument
				) {
					el = $(el);
				} else if (el instanceof $) {
					el = el.eq(0); 
				} else if (el.originalEvent !== undefined) {
					el = $(el.target); 
				}
				el = el.closest(":ui-fancytree");
				widget = el.data("ui-fancytree") || el.data("fancytree"); 
				return widget ? widget.tree : null;
			},
			evalOption: function (
				optionName,
				node,
				nodeObject,
				treeOptions,
				defaultValue
			) {
				var ctx,
					res,
					tree = node.tree,
					treeOpt = treeOptions[optionName],
					nodeOpt = nodeObject[optionName];

				if (_isFunction(treeOpt)) {
					ctx = {
						node: node,
						tree: tree,
						widget: tree.widget,
						options: tree.widget.options,
						typeInfo: tree.types[node.type] || {},
					};
					res = treeOpt.call(tree, { type: optionName }, ctx);
					if (res == null) {
						res = nodeOpt;
					}
				} else {
					res = nodeOpt == null ? treeOpt : nodeOpt;
				}
				if (res == null) {
					res = defaultValue; 
				}
				return res;
			},
			setSpanIcon: function (span, baseClass, icon) {
				var $span = $(span);

				if (typeof icon === "string") {
					$span.attr("class", baseClass + " " + icon);
				} else {
					if (icon.text) {
						$span.text("" + icon.text);
					} else if (icon.html) {
						span.innerHTML = icon.html;
					}
					$span.attr(
						"class",
						baseClass + " " + (icon.addClass || "")
					);
				}
			},
			eventToString: function (event) {
				var which = event.which,
					et = event.type,
					s = [];

				if (event.altKey) {
					s.push("alt");
				}
				if (event.ctrlKey) {
					s.push("ctrl");
				}
				if (event.metaKey) {
					s.push("meta");
				}
				if (event.shiftKey) {
					s.push("shift");
				}

				if (et === "click" || et === "dblclick") {
					s.push(MOUSE_BUTTONS[event.button] + et);
				} else if (et === "wheel") {
					s.push(et);
				} else if (!IGNORE_KEYCODES[which]) {
					s.push(
						SPECIAL_KEYCODES[which] ||
							String.fromCharCode(which).toLowerCase()
					);
				}
				return s.join("+");
			},
			info: function (msg) {
				if ($.ui.fancytree.debugLevel >= 3) {
					consoleApply("info", arguments);
				}
			},
			keyEventToString: function (event) {
				this.warn(
					"keyEventToString() is deprecated: use eventToString()"
				);
				return this.eventToString(event);
			},
			overrideMethod: function (instance, methodName, handler, context) {
				var prevSuper,
					_super = instance[methodName] || $.noop;

				instance[methodName] = function () {
					var self = context || this;

					try {
						prevSuper = self._super;
						self._super = _super;
						return handler.apply(self, arguments);
					} finally {
						self._super = prevSuper;
					}
				};
			},
			parseHtml: function ($ul) {
				var classes,
					className,
					extraClasses,
					i,
					iPos,
					l,
					tmp,
					tmp2,
					$children = $ul.find(">li"),
					children = [];

				$children.each(function () {
					var allData,
						lowerCaseAttr,
						$li = $(this),
						$liSpan = $li.find(">span", this).first(),
						$liA = $liSpan.length ? null : $li.find(">a").first(),
						d = { tooltip: null, data: {} };

					if ($liSpan.length) {
						d.title = $liSpan.html();
					} else if ($liA && $liA.length) {
						d.title = $liA.html();
						d.data.href = $liA.attr("href");
						d.data.target = $liA.attr("target");
						d.tooltip = $liA.attr("title");
					} else {
						d.title = $li.html();
						iPos = d.title.search(/<ul/i);
						if (iPos >= 0) {
							d.title = d.title.substring(0, iPos);
						}
					}
					d.title = _trim(d.title);

					for (i = 0, l = CLASS_ATTRS.length; i < l; i++) {
						d[CLASS_ATTRS[i]] = undefined;
					}
					classes = this.className.split(" ");
					extraClasses = [];
					for (i = 0, l = classes.length; i < l; i++) {
						className = classes[i];
						if (CLASS_ATTR_MAP[className]) {
							d[className] = true;
						} else {
							extraClasses.push(className);
						}
					}
					d.extraClasses = extraClasses.join(" ");

					tmp = $li.attr("title");
					if (tmp) {
						d.tooltip = tmp; 
					}
					tmp = $li.attr("id");
					if (tmp) {
						d.key = tmp;
					}
					if ($li.attr("hideCheckbox")) {
						d.checkbox = false;
					}
					allData = _getElementDataAsDict($li);
					if (allData && !$.isEmptyObject(allData)) {
						for (lowerCaseAttr in NODE_ATTR_LOWERCASE_MAP) {
							if (_hasProp(allData, lowerCaseAttr)) {
								allData[
									NODE_ATTR_LOWERCASE_MAP[lowerCaseAttr]
								] = allData[lowerCaseAttr];
								delete allData[lowerCaseAttr];
							}
						}
						for (i = 0, l = NODE_ATTRS.length; i < l; i++) {
							tmp = NODE_ATTRS[i];
							tmp2 = allData[tmp];
							if (tmp2 != null) {
								delete allData[tmp];
								d[tmp] = tmp2;
							}
						}
						$.extend(d.data, allData);
					}
					$ul = $li.find(">ul").first();
					if ($ul.length) {
						d.children = $.ui.fancytree.parseHtml($ul);
					} else {
						d.children = d.lazy ? undefined : null;
					}
					children.push(d);
				});
				return children;
			},
			registerExtension: function (definition) {
				_assert(
					definition.name != null,
					"extensions must have a `name` property."
				);
				_assert(
					definition.version != null,
					"extensions must have a `version` property."
				);
				$.ui.fancytree._extensions[definition.name] = definition;
			},
			trim: _trim,
			unescapeHtml: function (s) {
				var e = document.createElement("div");
				e.innerHTML = s;
				return e.childNodes.length === 0
					? ""
					: e.childNodes[0].nodeValue;
			},
			warn: function (msg) {
				if ($.ui.fancytree.debugLevel >= 2) {
					consoleApply("warn", arguments);
				}
			},
		}
	);

	return $.ui.fancytree;
}); 





(function (factory) {
	if (typeof define === "function" && define.amd) {
		define(["jquery", "./jquery.fancytree"], factory);
	} else if (typeof module === "object" && module.exports) {
		require("./jquery.fancytree");
		module.exports = factory(require("jquery"));
	} else {
		factory(jQuery);
	}
})(function ($) {
	"use strict";





	$.ui.fancytree._FancytreeClass.prototype.countSelected = function (
		topOnly
	) {
		var tree = this,
			treeOptions = tree.options;

		return tree.getSelectedNodes(topOnly).length;
	};

	$.ui.fancytree._FancytreeNodeClass.prototype.updateCounters = function () {
		var node = this,
			$badge = $("span.fancytree-childcounter", node.span),
			extOpts = node.tree.options.childcounter,
			count = node.countChildren(extOpts.deep);

		node.data.childCounter = count;
		if (
			(count || !extOpts.hideZeros) &&
			(!node.isExpanded() || !extOpts.hideExpanded)
		) {
			if (!$badge.length) {
				$badge = $("<span class='fancytree-childcounter'/>").appendTo(
					$(
						"span.fancytree-icon,span.fancytree-custom-icon",
						node.span
					)
				);
			}
			$badge.text(count);
		} else {
			$badge.remove();
		}
		if (extOpts.deep && !node.isTopLevel() && !node.isRootNode()) {
			node.parent.updateCounters();
		}
	};


	$.ui.fancytree.prototype.widgetMethod1 = function (arg1) {
		var tree = this.tree;
		return arg1;
	};


	$.ui.fancytree.registerExtension({
		name: "childcounter",
		version: "2.38.3",


		options: {
			deep: true,
			hideZeros: true,
			hideExpanded: false,
		},

		foo: 42,


		_appendCounter: function (bar) {
			var tree = this;
		},


		treeInit: function (ctx) {
			var tree = this, 
				opts = ctx.options,
				extOpts = ctx.options.childcounter;
			this._superApply(arguments);
			this.$container.addClass("fancytree-ext-childcounter");
		},


		treeDestroy: function (ctx) {
			this._superApply(arguments);
		},

		nodeRenderTitle: function (ctx, title) {
			var node = ctx.node,
				extOpts = ctx.options.childcounter,
				count =
					node.data.childCounter == null
						? node.countChildren(extOpts.deep)
						: +node.data.childCounter;
			this._super(ctx, title);
			if (
				(count || !extOpts.hideZeros) &&
				(!node.isExpanded() || !extOpts.hideExpanded)
			) {
				$(
					"span.fancytree-icon,span.fancytree-custom-icon",
					node.span
				).append(
					$("<span class='fancytree-childcounter'/>").text(count)
				);
			}
		},
		nodeSetExpanded: function (ctx, flag, callOpts) {
			var tree = ctx.tree,
				node = ctx.node;
			return this._superApply(arguments).always(function () {
				tree.nodeRenderTitle(ctx);
			});
		},

	});
	return $.ui.fancytree;
}); 



(function (factory) {
	if (typeof define === "function" && define.amd) {
		define(["jquery", "./jquery.fancytree"], factory);
	} else if (typeof module === "object" && module.exports) {
		require("./jquery.fancytree");
		module.exports = factory(require("jquery"));
	} else {
		factory(jQuery);
	}
})(function ($) {
	"use strict";


	var _assert = $.ui.fancytree.assert;

	function _removeArrayMember(arr, elem) {
		var i;
		for (i = arr.length - 1; i >= 0; i--) {
			if (arr[i] === elem) {
				arr.splice(i, 1);
				return true;
			}
		}
		return false;
	}

	function hashMurmur3(key, asString, seed) {
		var h1b,
			k1,
			remainder = key.length & 3,
			bytes = key.length - remainder,
			h1 = seed,
			c1 = 0xcc9e2d51,
			c2 = 0x1b873593,
			i = 0;

		while (i < bytes) {
			k1 =
				(key.charCodeAt(i) & 0xff) |
				((key.charCodeAt(++i) & 0xff) << 8) |
				((key.charCodeAt(++i) & 0xff) << 16) |
				((key.charCodeAt(++i) & 0xff) << 24);
			++i;

			k1 =
				((k1 & 0xffff) * c1 + ((((k1 >>> 16) * c1) & 0xffff) << 16)) &
				0xffffffff;
			k1 = (k1 << 15) | (k1 >>> 17);
			k1 =
				((k1 & 0xffff) * c2 + ((((k1 >>> 16) * c2) & 0xffff) << 16)) &
				0xffffffff;

			h1 ^= k1;
			h1 = (h1 << 13) | (h1 >>> 19);
			h1b =
				((h1 & 0xffff) * 5 + ((((h1 >>> 16) * 5) & 0xffff) << 16)) &
				0xffffffff;
			h1 =
				(h1b & 0xffff) +
				0x6b64 +
				((((h1b >>> 16) + 0xe654) & 0xffff) << 16);
		}

		k1 = 0;

		switch (remainder) {
			case 3:
				k1 ^= (key.charCodeAt(i + 2) & 0xff) << 16;
			case 2:
				k1 ^= (key.charCodeAt(i + 1) & 0xff) << 8;
			case 1:
				k1 ^= key.charCodeAt(i) & 0xff;

				k1 =
					((k1 & 0xffff) * c1 +
						((((k1 >>> 16) * c1) & 0xffff) << 16)) &
					0xffffffff;
				k1 = (k1 << 15) | (k1 >>> 17);
				k1 =
					((k1 & 0xffff) * c2 +
						((((k1 >>> 16) * c2) & 0xffff) << 16)) &
					0xffffffff;
				h1 ^= k1;
		}

		h1 ^= key.length;

		h1 ^= h1 >>> 16;
		h1 =
			((h1 & 0xffff) * 0x85ebca6b +
				((((h1 >>> 16) * 0x85ebca6b) & 0xffff) << 16)) &
			0xffffffff;
		h1 ^= h1 >>> 13;
		h1 =
			((h1 & 0xffff) * 0xc2b2ae35 +
				((((h1 >>> 16) * 0xc2b2ae35) & 0xffff) << 16)) &
			0xffffffff;
		h1 ^= h1 >>> 16;

		if (asString) {
			return ("0000000" + (h1 >>> 0).toString(16)).substr(-8);
		}
		return h1 >>> 0;
	}

	function calcUniqueKey(node) {
		var key,
			h1,
			path = $.map(node.getParentList(false, true), function (e) {
				return e.refKey || e.key;
			});

		path = path.join("/");

		h1 = hashMurmur3(path, true);
		key = "id_" + h1 + hashMurmur3(h1 + path, true);

		return key;
	}

	$.ui.fancytree._FancytreeNodeClass.prototype.getCloneList = function (
		includeSelf
	) {
		var key,
			tree = this.tree,
			refList = tree.refMap[this.refKey] || null,
			keyMap = tree.keyMap;

		if (refList) {
			key = this.key;
			if (includeSelf) {
				refList = $.map(refList, function (val) {
					return keyMap[val];
				});
			} else {
				refList = $.map(refList, function (val) {
					return val === key ? null : keyMap[val];
				});
				if (refList.length < 1) {
					refList = null;
				}
			}
		}
		return refList;
	};

	$.ui.fancytree._FancytreeNodeClass.prototype.isClone = function () {
		var refKey = this.refKey || null,
			refList = (refKey && this.tree.refMap[refKey]) || null;
		return !!(refList && refList.length > 1);
	};

	$.ui.fancytree._FancytreeNodeClass.prototype.reRegister = function (
		key,
		refKey
	) {
		key = key == null ? null : "" + key;
		refKey = refKey == null ? null : "" + refKey;

		var tree = this.tree,
			prevKey = this.key,
			prevRefKey = this.refKey,
			keyMap = tree.keyMap,
			refMap = tree.refMap,
			refList = refMap[prevRefKey] || null,
			modified = false;

		if (key != null && key !== this.key) {
			if (keyMap[key]) {
				$.error(
					"[ext-clones] reRegister(" +
						key +
						"): already exists: " +
						this
				);
			}
			delete keyMap[prevKey];
			keyMap[key] = this;
			if (refList) {
				refMap[prevRefKey] = $.map(refList, function (e) {
					return e === prevKey ? key : e;
				});
			}
			this.key = key;
			modified = true;
		}

		if (refKey != null && refKey !== this.refKey) {
			if (refList) {
				if (refList.length === 1) {
					delete refMap[prevRefKey];
				} else {
					refMap[prevRefKey] = $.map(refList, function (e) {
						return e === prevKey ? null : e;
					});
				}
			}
			if (refMap[refKey]) {
				refMap[refKey].append(key);
			} else {
				refMap[refKey] = [this.key];
			}
			this.refKey = refKey;
			modified = true;
		}
		return modified;
	};

	$.ui.fancytree._FancytreeNodeClass.prototype.setRefKey = function (refKey) {
		return this.reRegister(null, refKey);
	};

	$.ui.fancytree._FancytreeClass.prototype.getNodesByRef = function (
		refKey,
		rootNode
	) {
		var keyMap = this.keyMap,
			refList = this.refMap[refKey] || null;

		if (refList) {
			if (rootNode) {
				refList = $.map(refList, function (val) {
					var node = keyMap[val];
					return node.isDescendantOf(rootNode) ? node : null;
				});
			} else {
				refList = $.map(refList, function (val) {
					return keyMap[val];
				});
			}
			if (refList.length < 1) {
				refList = null;
			}
		}
		return refList;
	};

	$.ui.fancytree._FancytreeClass.prototype.changeRefKey = function (
		oldRefKey,
		newRefKey
	) {
		var i,
			node,
			keyMap = this.keyMap,
			refList = this.refMap[oldRefKey] || null;

		if (refList) {
			for (i = 0; i < refList.length; i++) {
				node = keyMap[refList[i]];
				node.refKey = newRefKey;
			}
			delete this.refMap[oldRefKey];
			this.refMap[newRefKey] = refList;
		}
	};

	$.ui.fancytree.registerExtension({
		name: "clones",
		version: "2.38.3",
		options: {
			highlightActiveClones: true, 
			highlightClones: false, 
		},

		treeCreate: function (ctx) {
			this._superApply(arguments);
			ctx.tree.refMap = {};
			ctx.tree.keyMap = {};
		},
		treeInit: function (ctx) {
			this.$container.addClass("fancytree-ext-clones");
			_assert(ctx.options.defaultKey == null);
			ctx.options.defaultKey = function (node) {
				return calcUniqueKey(node);
			};
			this._superApply(arguments);
		},
		treeClear: function (ctx) {
			ctx.tree.refMap = {};
			ctx.tree.keyMap = {};
			return this._superApply(arguments);
		},
		treeRegisterNode: function (ctx, add, node) {
			var refList,
				len,
				tree = ctx.tree,
				keyMap = tree.keyMap,
				refMap = tree.refMap,
				key = node.key,
				refKey = node && node.refKey != null ? "" + node.refKey : null;


			if (node.isStatusNode()) {
				return this._super(ctx, add, node);
			}

			if (add) {
				if (keyMap[node.key] != null) {
					var other = keyMap[node.key],
						msg =
							"clones.treeRegisterNode: duplicate key '" +
							node.key +
							"': /" +
							node.getPath(true) +
							" => " +
							other.getPath(true);
					tree.error(msg);
					$.error(msg);
				}
				keyMap[key] = node;

				if (refKey) {
					refList = refMap[refKey];
					if (refList) {
						refList.push(key);
						if (
							refList.length === 2 &&
							ctx.options.clones.highlightClones
						) {
							keyMap[refList[0]].renderStatus();
						}
					} else {
						refMap[refKey] = [key];
					}
				}
			} else {
				if (keyMap[key] == null) {
					$.error(
						"clones.treeRegisterNode: node.key not registered: " +
							node.key
					);
				}
				delete keyMap[key];
				if (refKey) {
					refList = refMap[refKey];
					if (refList) {
						len = refList.length;
						if (len <= 1) {
							_assert(len === 1);
							_assert(refList[0] === key);
							delete refMap[refKey];
						} else {
							_removeArrayMember(refList, key);
							if (
								len === 2 &&
								ctx.options.clones.highlightClones
							) {
								keyMap[refList[0]].renderStatus();
							}
						}
					}
				}
			}
			return this._super(ctx, add, node);
		},
		nodeRenderStatus: function (ctx) {
			var $span,
				res,
				node = ctx.node;

			res = this._super(ctx);

			if (ctx.options.clones.highlightClones) {
				$span = $(node[ctx.tree.statusClassPropName]);
				if ($span.length && node.isClone()) {
					$span.addClass("fancytree-clone");
				}
			}
			return res;
		},
		nodeSetActive: function (ctx, flag, callOpts) {
			var res,
				scpn = ctx.tree.statusClassPropName,
				node = ctx.node;

			res = this._superApply(arguments);

			if (ctx.options.clones.highlightActiveClones && node.isClone()) {
				$.each(node.getCloneList(true), function (idx, n) {
					$(n[scpn]).toggleClass(
						"fancytree-active-clone",
						flag !== false
					);
				});
			}
			return res;
		},
	});
	return $.ui.fancytree;
}); 




(function (factory) {
	if (typeof define === "function" && define.amd) {
		define(["jquery", "./jquery.fancytree"], factory);
	} else if (typeof module === "object" && module.exports) {
		require("./jquery.fancytree");
		module.exports = factory(require("jquery"));
	} else {
		factory(jQuery);
	}
})(function ($) {
	"use strict";

	var FT = $.ui.fancytree,
		isMac = /Mac/.test(navigator.platform),
		classDragSource = "fancytree-drag-source",
		classDragRemove = "fancytree-drag-remove",
		classDropAccept = "fancytree-drop-accept",
		classDropAfter = "fancytree-drop-after",
		classDropBefore = "fancytree-drop-before",
		classDropOver = "fancytree-drop-over",
		classDropReject = "fancytree-drop-reject",
		classDropTarget = "fancytree-drop-target",
		nodeMimeType = "application/x-fancytree-node",
		$dropMarker = null,
		$dragImage,
		$extraHelper,
		SOURCE_NODE = null,
		SOURCE_NODE_LIST = null,
		$sourceList = null,
		DRAG_ENTER_RESPONSE = null,
		SUGGESTED_DROP_EFFECT = null,
		REQUESTED_DROP_EFFECT = null,
		REQUESTED_EFFECT_ALLOWED = null,
		LAST_HIT_MODE = null,
		DRAG_OVER_STAMP = null; 

	function _clearGlobals() {
		DRAG_ENTER_RESPONSE = null;
		DRAG_OVER_STAMP = null;
		REQUESTED_DROP_EFFECT = null;
		REQUESTED_EFFECT_ALLOWED = null;
		SUGGESTED_DROP_EFFECT = null;
		SOURCE_NODE = null;
		SOURCE_NODE_LIST = null;
		if ($sourceList) {
			$sourceList.removeClass(classDragSource + " " + classDragRemove);
		}
		$sourceList = null;
		if ($dropMarker) {
			$dropMarker.hide();
		}
		if ($extraHelper) {
			$extraHelper.remove();
			$extraHelper = null;
		}
	}

	function offsetString(n) {
		return n === 0 ? "" : n > 0 ? "+" + n : "" + n;
	}

	function normalizeDragEnterResponse(r) {
		var res;

		if (!r) {
			return false;
		}
		if ($.isPlainObject(r)) {
			res = {
				over: !!r.over,
				before: !!r.before,
				after: !!r.after,
			};
		} else if (Array.isArray(r)) {
			res = {
				over: $.inArray("over", r) >= 0,
				before: $.inArray("before", r) >= 0,
				after: $.inArray("after", r) >= 0,
			};
		} else {
			res = {
				over: r === true || r === "over",
				before: r === true || r === "before",
				after: r === true || r === "after",
			};
		}
		if (Object.keys(res).length === 0) {
			return false;
		}
		return res;
	}



	function autoScroll(tree, event) {
		var spOfs,
			scrollTop,
			delta,
			dndOpts = tree.options.dnd5,
			sp = tree.$scrollParent[0],
			sensitivity = dndOpts.scrollSensitivity,
			speed = dndOpts.scrollSpeed,
			scrolled = 0;

		if (sp !== document && sp.tagName !== "HTML") {
			spOfs = tree.$scrollParent.offset();
			scrollTop = sp.scrollTop;
			if (spOfs.top + sp.offsetHeight - event.pageY < sensitivity) {
				delta =
					sp.scrollHeight -
					tree.$scrollParent.innerHeight() -
					scrollTop;
				if (delta > 0) {
					sp.scrollTop = scrolled = scrollTop + speed;
				}
			} else if (scrollTop > 0 && event.pageY - spOfs.top < sensitivity) {
				sp.scrollTop = scrolled = scrollTop - speed;
			}
		} else {
			scrollTop = $(document).scrollTop();
			if (scrollTop > 0 && event.pageY - scrollTop < sensitivity) {
				scrolled = scrollTop - speed;
				$(document).scrollTop(scrolled);
			} else if (
				$(window).height() - (event.pageY - scrollTop) <
				sensitivity
			) {
				scrolled = scrollTop + speed;
				$(document).scrollTop(scrolled);
			}
		}
		if (scrolled) {
			tree.debug("autoScroll: " + scrolled + "px");
		}
		return scrolled;
	}

	function evalEffectModifiers(tree, event, effectDefault) {
		var res = effectDefault;

		if (isMac) {
			if (event.metaKey && event.altKey) {
				res = "link";
			} else if (event.ctrlKey) {
				res = "link";
			} else if (event.metaKey) {
				res = "move";
			} else if (event.altKey) {
				res = "copy";
			}
		} else {
			if (event.ctrlKey) {
				res = "copy";
			} else if (event.shiftKey) {
				res = "move";
			} else if (event.altKey) {
				res = "link";
			}
		}
		if (res !== SUGGESTED_DROP_EFFECT) {
			tree.info(
				"evalEffectModifiers: " +
					event.type +
					" - evalEffectModifiers(): " +
					SUGGESTED_DROP_EFFECT +
					" -> " +
					res
			);
		}
		SUGGESTED_DROP_EFFECT = res;
		return res;
	}
	function prepareDropEffectCallback(event, data) {
		var tree = data.tree,
			dataTransfer = data.dataTransfer;

		if (event.type === "dragstart") {
			data.effectAllowed = tree.options.dnd5.effectAllowed;
			data.dropEffect = tree.options.dnd5.dropEffectDefault;
		} else {
			data.effectAllowed = REQUESTED_EFFECT_ALLOWED;
			data.dropEffect = REQUESTED_DROP_EFFECT;
		}
		data.dropEffectSuggested = evalEffectModifiers(
			tree,
			event,
			tree.options.dnd5.dropEffectDefault
		);
		data.isMove = data.dropEffect === "move";
		data.files = dataTransfer.files || [];

	}

	function applyDropEffectCallback(event, data, allowDrop) {
		var tree = data.tree,
			dataTransfer = data.dataTransfer;

		if (
			event.type !== "dragstart" &&
			REQUESTED_EFFECT_ALLOWED !== data.effectAllowed
		) {
			tree.warn(
				"effectAllowed should only be changed in dragstart event: " +
					event.type +
					": data.effectAllowed changed from " +
					REQUESTED_EFFECT_ALLOWED +
					" -> " +
					data.effectAllowed
			);
		}

		if (allowDrop === false) {
			tree.info("applyDropEffectCallback: allowDrop === false");
			data.effectAllowed = "none";
			data.dropEffect = "none";
		}

		data.isMove = data.dropEffect === "move";

		if (event.type === "dragstart") {
			REQUESTED_EFFECT_ALLOWED = data.effectAllowed;
			REQUESTED_DROP_EFFECT = data.dropEffect;
		}

		dataTransfer.effectAllowed = REQUESTED_EFFECT_ALLOWED;
		dataTransfer.dropEffect = REQUESTED_DROP_EFFECT;

		return REQUESTED_DROP_EFFECT;
	}

	function handleDragOver(event, data) {
		if (data.options.dnd5.scroll) {
			autoScroll(data.tree, event);
		}
		if (!data.node) {
			data.tree.warn("Ignored dragover for non-node"); 
			return LAST_HIT_MODE;
		}

		var markerOffsetX,
			nodeOfs,
			pos,
			relPosY,
			hitMode = null,
			tree = data.tree,
			options = tree.options,
			dndOpts = options.dnd5,
			targetNode = data.node,
			sourceNode = data.otherNode,
			markerAt = "center",
			$target = $(targetNode.span),
			$targetTitle = $target.find("span.fancytree-title");

		if (DRAG_ENTER_RESPONSE === false) {
			tree.debug("Ignored dragover, since dragenter returned false.");
			return false;
		} else if (typeof DRAG_ENTER_RESPONSE === "string") {
			$.error("assert failed: dragenter returned string");
		}
		nodeOfs = $target.offset();
		relPosY = (event.pageY - nodeOfs.top) / $target.height();
		if (event.pageY === undefined) {
			tree.warn("event.pageY is undefined: see issue #1013.");
		}

		if (DRAG_ENTER_RESPONSE.after && relPosY > 0.75) {
			hitMode = "after";
		} else if (
			!DRAG_ENTER_RESPONSE.over &&
			DRAG_ENTER_RESPONSE.after &&
			relPosY > 0.5
		) {
			hitMode = "after";
		} else if (DRAG_ENTER_RESPONSE.before && relPosY <= 0.25) {
			hitMode = "before";
		} else if (
			!DRAG_ENTER_RESPONSE.over &&
			DRAG_ENTER_RESPONSE.before &&
			relPosY <= 0.5
		) {
			hitMode = "before";
		} else if (DRAG_ENTER_RESPONSE.over) {
			hitMode = "over";
		}
		if (dndOpts.preventVoidMoves && data.dropEffect === "move") {
			if (targetNode === sourceNode) {
				targetNode.debug("Drop over source node prevented.");
				hitMode = null;
			} else if (
				hitMode === "before" &&
				sourceNode &&
				targetNode === sourceNode.getNextSibling()
			) {
				targetNode.debug("Drop after source node prevented.");
				hitMode = null;
			} else if (
				hitMode === "after" &&
				sourceNode &&
				targetNode === sourceNode.getPrevSibling()
			) {
				targetNode.debug("Drop before source node prevented.");
				hitMode = null;
			} else if (
				hitMode === "over" &&
				sourceNode &&
				sourceNode.parent === targetNode &&
				sourceNode.isLastSibling()
			) {
				targetNode.debug("Drop last child over own parent prevented.");
				hitMode = null;
			}
		}
		data.hitMode = hitMode;
		if (hitMode && dndOpts.dragOver) {
			prepareDropEffectCallback(event, data);
			dndOpts.dragOver(targetNode, data);
			var allowDrop = !!hitMode;
			applyDropEffectCallback(event, data, allowDrop);
			hitMode = data.hitMode;
		}
		LAST_HIT_MODE = hitMode;
		if (hitMode === "after" || hitMode === "before" || hitMode === "over") {
			markerOffsetX = dndOpts.dropMarkerOffsetX || 0;
			switch (hitMode) {
				case "before":
					markerAt = "top";
					markerOffsetX += dndOpts.dropMarkerInsertOffsetX || 0;
					break;
				case "after":
					markerAt = "bottom";
					markerOffsetX += dndOpts.dropMarkerInsertOffsetX || 0;
					break;
			}

			pos = {
				my: "left" + offsetString(markerOffsetX) + " center",
				at: "left " + markerAt,
				of: $targetTitle,
			};
			if (options.rtl) {
				pos.my = "right" + offsetString(-markerOffsetX) + " center";
				pos.at = "right " + markerAt;
			}
			$dropMarker
				.toggleClass(classDropAfter, hitMode === "after")
				.toggleClass(classDropOver, hitMode === "over")
				.toggleClass(classDropBefore, hitMode === "before")
				.show()
				.position(FT.fixPositionOptions(pos));
		} else {
			$dropMarker.hide();
		}

		$(targetNode.span)
			.toggleClass(
				classDropTarget,
				hitMode === "after" ||
					hitMode === "before" ||
					hitMode === "over"
			)
			.toggleClass(classDropAfter, hitMode === "after")
			.toggleClass(classDropBefore, hitMode === "before")
			.toggleClass(classDropAccept, hitMode === "over")
			.toggleClass(classDropReject, hitMode === false);

		return hitMode;
	}

	function onDragEvent(event) {
		var json,
			tree = this,
			dndOpts = tree.options.dnd5,
			node = FT.getNode(event),
			dataTransfer =
				event.dataTransfer || event.originalEvent.dataTransfer,
			data = {
				tree: tree,
				node: node,
				options: tree.options,
				originalEvent: event.originalEvent,
				widget: tree.widget,
				dataTransfer: dataTransfer,
				useDefaultImage: true,
				dropEffect: undefined,
				dropEffectSuggested: undefined,
				effectAllowed: undefined, 
				files: undefined, 
				isCancelled: undefined, 
				isMove: undefined,
			};

		switch (event.type) {
			case "dragstart":
				if (!node) {
					tree.info("Ignored dragstart on a non-node.");
					return false;
				}
				SOURCE_NODE = node;

				if (dndOpts.multiSource === false) {
					SOURCE_NODE_LIST = [node];
				} else if (dndOpts.multiSource === true) {
					if (node.isSelected()) {
						SOURCE_NODE_LIST = tree.getSelectedNodes();
					} else {
						SOURCE_NODE_LIST = [node];
					}
				} else {
					SOURCE_NODE_LIST = dndOpts.multiSource(node, data);
				}
				$sourceList = $(
					$.map(SOURCE_NODE_LIST, function (n) {
						return n.span;
					})
				);
				$sourceList.addClass(classDragSource);

				var nodeData = node.toDict(true, dndOpts.sourceCopyHook);
				nodeData.treeId = node.tree._id;
				json = JSON.stringify(nodeData);
				try {
					dataTransfer.setData(nodeMimeType, json);
					dataTransfer.setData("text/html", $(node.span).html());
					dataTransfer.setData("text/plain", node.title);
				} catch (ex) {
					tree.warn(
						"Could not set data (IE only accepts 'text') - " + ex
					);
				}
				if (dndOpts.setTextTypeJson) {
					dataTransfer.setData("text", json);
				} else {
					dataTransfer.setData("text", node.title);
				}

				prepareDropEffectCallback(event, data);

				if (dndOpts.dragStart(node, data) === false) {
					_clearGlobals();
					return false;
				}
				applyDropEffectCallback(event, data);

				$extraHelper = null;

				if (data.useDefaultImage) {
					$dragImage = $(node.span).find(".fancytree-title");

					if (SOURCE_NODE_LIST && SOURCE_NODE_LIST.length > 1) {
						$extraHelper = $(
							"<span class='fancytree-childcounter'/>"
						)
							.text("+" + (SOURCE_NODE_LIST.length - 1))
							.appendTo($dragImage);
					}
					if (dataTransfer.setDragImage) {
						dataTransfer.setDragImage($dragImage[0], -10, -10);
					}
				}
				return true;

			case "drag":
				prepareDropEffectCallback(event, data);
				dndOpts.dragDrag(node, data);
				applyDropEffectCallback(event, data);

				$sourceList.toggleClass(classDragRemove, data.isMove);
				break;

			case "dragend":
				prepareDropEffectCallback(event, data);

				_clearGlobals();

				data.isCancelled = !LAST_HIT_MODE;
				dndOpts.dragEnd(node, data, !LAST_HIT_MODE);
				break;
		}
	}
	function onDropEvent(event) {
		var json,
			allowAutoExpand,
			nodeData,
			isSourceFtNode,
			r,
			res,
			tree = this,
			dndOpts = tree.options.dnd5,
			allowDrop = null,
			node = FT.getNode(event),
			dataTransfer =
				event.dataTransfer || event.originalEvent.dataTransfer,
			data = {
				tree: tree,
				node: node,
				options: tree.options,
				originalEvent: event.originalEvent,
				widget: tree.widget,
				hitMode: DRAG_ENTER_RESPONSE,
				dataTransfer: dataTransfer,
				otherNode: SOURCE_NODE || null,
				otherNodeList: SOURCE_NODE_LIST || null,
				otherNodeData: null, 
				useDefaultImage: true,
				dropEffect: undefined,
				dropEffectSuggested: undefined,
				effectAllowed: undefined, 
				files: null, 
				isCancelled: undefined, 
				isMove: undefined,
			};


		switch (event.type) {
			case "dragenter":

				DRAG_OVER_STAMP = null;
				if (!node) {
					tree.debug(
						"Ignore non-node " +
							event.type +
							": " +
							event.target.tagName +
							"." +
							event.target.className
					);
					DRAG_ENTER_RESPONSE = false;
					break;
				}

				$(node.span)
					.addClass(classDropOver)
					.removeClass(classDropAccept + " " + classDropReject);

				isSourceFtNode =
					$.inArray(nodeMimeType, dataTransfer.types) >= 0;

				if (dndOpts.preventNonNodes && !isSourceFtNode) {
					node.debug("Reject dropping a non-node.");
					DRAG_ENTER_RESPONSE = false;
					break;
				} else if (
					dndOpts.preventForeignNodes &&
					(!SOURCE_NODE || SOURCE_NODE.tree !== node.tree)
				) {
					node.debug("Reject dropping a foreign node.");
					DRAG_ENTER_RESPONSE = false;
					break;
				} else if (
					dndOpts.preventSameParent &&
					data.otherNode &&
					data.otherNode.tree === node.tree &&
					node.parent === data.otherNode.parent
				) {
					node.debug("Reject dropping as sibling (same parent).");
					DRAG_ENTER_RESPONSE = false;
					break;
				} else if (
					dndOpts.preventRecursion &&
					data.otherNode &&
					data.otherNode.tree === node.tree &&
					node.isDescendantOf(data.otherNode)
				) {
					node.debug("Reject dropping below own ancestor.");
					DRAG_ENTER_RESPONSE = false;
					break;
				} else if (dndOpts.preventLazyParents && !node.isLoaded()) {
					node.warn("Drop over unloaded target node prevented.");
					DRAG_ENTER_RESPONSE = false;
					break;
				}
				$dropMarker.show();

				prepareDropEffectCallback(event, data);
				r = dndOpts.dragEnter(node, data);

				res = normalizeDragEnterResponse(r);
				DRAG_ENTER_RESPONSE = res;

				allowDrop = res && (res.over || res.before || res.after);

				applyDropEffectCallback(event, data, allowDrop);
				break;

			case "dragover":
				if (!node) {
					tree.debug(
						"Ignore non-node " +
							event.type +
							": " +
							event.target.tagName +
							"." +
							event.target.className
					);
					break;
				}
				prepareDropEffectCallback(event, data);
				LAST_HIT_MODE = handleDragOver(event, data);

				allowDrop = !!LAST_HIT_MODE;
				allowAutoExpand =
					LAST_HIT_MODE === "over" || LAST_HIT_MODE === false;

				if (
					allowAutoExpand &&
					!node.expanded &&
					node.hasChildren() !== false
				) {
					if (!DRAG_OVER_STAMP) {
						DRAG_OVER_STAMP = Date.now();
					} else if (
						dndOpts.autoExpandMS &&
						Date.now() - DRAG_OVER_STAMP > dndOpts.autoExpandMS &&
						!node.isLoading() &&
						(!dndOpts.dragExpand ||
							dndOpts.dragExpand(node, data) !== false)
					) {
						node.setExpanded();
					}
				} else {
					DRAG_OVER_STAMP = null;
				}
				break;

			case "dragleave":
				if (!node) {
					tree.debug(
						"Ignore non-node " +
							event.type +
							": " +
							event.target.tagName +
							"." +
							event.target.className
					);
					break;
				}
				if (!$(node.span).hasClass(classDropOver)) {
					node.debug("Ignore dragleave (multi).");
					break;
				}
				$(node.span).removeClass(
					classDropOver +
						" " +
						classDropAccept +
						" " +
						classDropReject
				);
				node.scheduleAction("cancel");
				dndOpts.dragLeave(node, data);
				$dropMarker.hide();
				break;

			case "drop":

				if ($.inArray(nodeMimeType, dataTransfer.types) >= 0) {
					nodeData = dataTransfer.getData(nodeMimeType);
					tree.info(
						event.type +
							": getData('application/x-fancytree-node'): '" +
							nodeData +
							"'"
					);
				}
				if (!nodeData) {
					nodeData = dataTransfer.getData("text");
					tree.info(
						event.type + ": getData('text'): '" + nodeData + "'"
					);
				}
				if (nodeData) {
					try {
						json = JSON.parse(nodeData);
						if (json.title !== undefined) {
							data.otherNodeData = json;
						}
					} catch (ex) {
					}
				}
				tree.debug(
					event.type +
						": nodeData: '" +
						nodeData +
						"', otherNodeData: ",
					data.otherNodeData
				);

				$(node.span).removeClass(
					classDropOver +
						" " +
						classDropAccept +
						" " +
						classDropReject
				);

				data.hitMode = LAST_HIT_MODE;
				prepareDropEffectCallback(event, data, !LAST_HIT_MODE);
				data.isCancelled = !LAST_HIT_MODE;

				var orgSourceElem = SOURCE_NODE && SOURCE_NODE.span,
					orgSourceTree = SOURCE_NODE && SOURCE_NODE.tree;

				dndOpts.dragDrop(node, data);

				event.preventDefault();

				if (orgSourceElem && !document.body.contains(orgSourceElem)) {
					if (orgSourceTree === tree) {
						tree.debug(
							"Drop handler removed source element: generating dragEnd."
						);
						dndOpts.dragEnd(SOURCE_NODE, data);
					} else {
						tree.warn(
							"Drop handler removed source element: dragend event may be lost."
						);
					}
				}

				_clearGlobals();

				break;
		}
		if (allowDrop) {
			event.preventDefault();
			return false;
		}
	}

	$.ui.fancytree.getDragNodeList = function () {
		return SOURCE_NODE_LIST || [];
	};

	$.ui.fancytree.getDragNode = function () {
		return SOURCE_NODE;
	};


	$.ui.fancytree.registerExtension({
		name: "dnd5",
		version: "2.38.3",
		options: {
			autoExpandMS: 1500, 
			dropMarkerInsertOffsetX: -16, 
			dropMarkerOffsetX: -24, 
			dropMarkerParent: "body", 
			multiSource: false, 
			effectAllowed: "all", 
			dropEffectDefault: "move", 
			preventForeignNodes: false, 
			preventLazyParents: true, 
			preventNonNodes: false, 
			preventRecursion: true, 
			preventSameParent: false, 
			preventVoidMoves: true, 
			scroll: true, 
			scrollSensitivity: 20, 
			scrollSpeed: 5, 
			setTextTypeJson: false, 
			sourceCopyHook: null, 
			dragStart: null, 
			dragDrag: $.noop, 
			dragEnd: $.noop, 
			dragEnter: null, 
			dragOver: $.noop, 
			dragExpand: $.noop, 
			dragDrop: $.noop, 
			dragLeave: $.noop, 
		},

		treeInit: function (ctx) {
			var $temp,
				tree = ctx.tree,
				opts = ctx.options,
				glyph = opts.glyph || null,
				dndOpts = opts.dnd5;

			if ($.inArray("dnd", opts.extensions) >= 0) {
				$.error("Extensions 'dnd' and 'dnd5' are mutually exclusive.");
			}
			if (dndOpts.dragStop) {
				$.error(
					"dragStop is not used by ext-dnd5. Use dragEnd instead."
				);
			}
			if (dndOpts.preventRecursiveMoves != null) {
				$.error(
					"preventRecursiveMoves was renamed to preventRecursion."
				);
			}

			if (dndOpts.dragStart) {
				FT.overrideMethod(
					ctx.options,
					"createNode",
					function (event, data) {
						this._super.apply(this, arguments);
						if (data.node.span) {
							data.node.span.draggable = true;
						} else {
							data.node.warn(
								"Cannot add `draggable`: no span tag"
							);
						}
					}
				);
			}
			this._superApply(arguments);

			this.$container.addClass("fancytree-ext-dnd5");

			$temp = $("<span>").appendTo(this.$container);
			this.$scrollParent = $temp.scrollParent();
			$temp.remove();

			$dropMarker = $("#fancytree-drop-marker");
			if (!$dropMarker.length) {
				$dropMarker = $("<div id='fancytree-drop-marker'></div>")
					.hide()
					.css({
						"z-index": 1000,
						"pointer-events": "none",
					})
					.prependTo(dndOpts.dropMarkerParent);
				if (glyph) {
					FT.setSpanIcon(
						$dropMarker[0],
						glyph.map._addClass,
						glyph.map.dropMarker
					);
				}
			}
			$dropMarker.toggleClass("fancytree-rtl", !!opts.rtl);

			if (dndOpts.dragStart) {
				tree.$container.on(
					"dragstart drag dragend",
					onDragEvent.bind(tree)
				);
			}
			if (dndOpts.dragEnter) {
				tree.$container.on(
					"dragenter dragover dragleave drop",
					onDropEvent.bind(tree)
				);
			}
		},
	});
	return $.ui.fancytree;
}); 



(function (factory) {
	if (typeof define === "function" && define.amd) {
		define(["jquery", "./jquery.fancytree"], factory);
	} else if (typeof module === "object" && module.exports) {
		require("./jquery.fancytree");
		module.exports = factory(require("jquery"));
	} else {
		factory(jQuery);
	}
})(function ($) {
	"use strict";


	var isMac = /Mac/.test(navigator.platform),
		escapeHtml = $.ui.fancytree.escapeHtml,
		trim = $.ui.fancytree.trim,
		unescapeHtml = $.ui.fancytree.unescapeHtml;

	$.ui.fancytree._FancytreeNodeClass.prototype.editStart = function () {
		var $input,
			node = this,
			tree = this.tree,
			local = tree.ext.edit,
			instOpts = tree.options.edit,
			$title = $(".fancytree-title", node.span),
			eventData = {
				node: node,
				tree: tree,
				options: tree.options,
				isNew: $(node[tree.statusClassPropName]).hasClass(
					"fancytree-edit-new"
				),
				orgTitle: node.title,
				input: null,
				dirty: false,
			};

		if (
			instOpts.beforeEdit.call(
				node,
				{ type: "beforeEdit" },
				eventData
			) === false
		) {
			return false;
		}
		$.ui.fancytree.assert(!local.currentNode, "recursive edit");
		local.currentNode = this;
		local.eventData = eventData;

		tree.widget._unbind();

		local.lastDraggableAttrValue = node.span.draggable;
		if (local.lastDraggableAttrValue) {
			node.span.draggable = false;
		}

		$(document).on("mousedown.fancytree-edit", function (event) {
			if (!$(event.target).hasClass("fancytree-edit-input")) {
				node.editEnd(true, event);
			}
		});

		$input = $("<input />", {
			class: "fancytree-edit-input",
			type: "text",
			value: tree.options.escapeTitles
				? eventData.orgTitle
				: unescapeHtml(eventData.orgTitle),
		});
		local.eventData.input = $input;
		if (instOpts.adjustWidthOfs != null) {
			$input.width($title.width() + instOpts.adjustWidthOfs);
		}
		if (instOpts.inputCss != null) {
			$input.css(instOpts.inputCss);
		}

		$title.html($input);

		$input
			.focus()
			.change(function (event) {
				$input.addClass("fancytree-edit-dirty");
			})
			.on("keydown", function (event) {
				switch (event.which) {
					case $.ui.keyCode.ESCAPE:
						node.editEnd(false, event);
						break;
					case $.ui.keyCode.ENTER:
						node.editEnd(true, event);
						return false; 
				}
				event.stopPropagation();
			})
			.blur(function (event) {
				return node.editEnd(true, event);
			});

		instOpts.edit.call(node, { type: "edit" }, eventData);
	};

	$.ui.fancytree._FancytreeNodeClass.prototype.editEnd = function (
		applyChanges,
		_event
	) {
		var newVal,
			node = this,
			tree = this.tree,
			local = tree.ext.edit,
			eventData = local.eventData,
			instOpts = tree.options.edit,
			$title = $(".fancytree-title", node.span),
			$input = $title.find("input.fancytree-edit-input");

		if (instOpts.trim) {
			$input.val(trim($input.val()));
		}
		newVal = $input.val();

		eventData.dirty = newVal !== node.title;
		eventData.originalEvent = _event;

		if (applyChanges === false) {
			eventData.save = false;
		} else if (eventData.isNew) {
			eventData.save = newVal !== "";
		} else {
			eventData.save = eventData.dirty && newVal !== "";
		}
		if (
			instOpts.beforeClose.call(
				node,
				{ type: "beforeClose" },
				eventData
			) === false
		) {
			return false;
		}
		if (
			eventData.save &&
			instOpts.save.call(node, { type: "save" }, eventData) === false
		) {
			return false;
		}
		$input.removeClass("fancytree-edit-dirty").off();
		$(document).off(".fancytree-edit");

		if (eventData.save) {
			node.setTitle(
				tree.options.escapeTitles ? newVal : escapeHtml(newVal)
			);
			node.setFocus();
		} else {
			if (eventData.isNew) {
				node.remove();
				node = eventData.node = null;
				local.relatedNode.setFocus();
			} else {
				node.renderTitle();
				node.setFocus();
			}
		}
		local.eventData = null;
		local.currentNode = null;
		local.relatedNode = null;
		tree.widget._bind();

		if (node && local.lastDraggableAttrValue) {
			node.span.draggable = true;
		}

		tree.$container.get(0).focus({ preventScroll: true });
		eventData.input = null;
		instOpts.close.call(node, { type: "close" }, eventData);
		return true;
	};

	$.ui.fancytree._FancytreeNodeClass.prototype.editCreateNode = function (
		mode,
		init
	) {
		var newNode,
			tree = this.tree,
			self = this;

		mode = mode || "child";
		if (init == null) {
			init = { title: "" };
		} else if (typeof init === "string") {
			init = { title: init };
		} else {
			$.ui.fancytree.assert($.isPlainObject(init));
		}
		if (
			mode === "child" &&
			!this.isExpanded() &&
			this.hasChildren() !== false
		) {
			this.setExpanded().done(function () {
				self.editCreateNode(mode, init);
			});
			return;
		}
		newNode = this.addNode(init, mode);

		newNode.match = true;
		$(newNode[tree.statusClassPropName])
			.removeClass("fancytree-hide")
			.addClass("fancytree-match");

		newNode.makeVisible().done(function () {
			$(newNode[tree.statusClassPropName]).addClass("fancytree-edit-new");
			self.tree.ext.edit.relatedNode = self;
			newNode.editStart();
		});
	};

	$.ui.fancytree._FancytreeClass.prototype.isEditing = function () {
		return this.ext.edit ? this.ext.edit.currentNode : null;
	};

	$.ui.fancytree._FancytreeNodeClass.prototype.isEditing = function () {
		return this.tree.ext.edit
			? this.tree.ext.edit.currentNode === this
			: false;
	};

	$.ui.fancytree.registerExtension({
		name: "edit",
		version: "2.38.3",
		options: {
			adjustWidthOfs: 4, 
			allowEmpty: false, 
			inputCss: { minWidth: "3em" },
			triggerStart: ["f2", "mac+enter", "shift+click"],
			trim: true, 
			beforeClose: $.noop, 
			beforeEdit: $.noop, 
			close: $.noop, 
			edit: $.noop, 
			save: $.noop, 
		},
		currentNode: null,

		treeInit: function (ctx) {
			var tree = ctx.tree;

			this._superApply(arguments);

			this.$container
				.addClass("fancytree-ext-edit")
				.on("fancytreebeforeupdateviewport", function (event, data) {
					var editNode = tree.isEditing();
					if (editNode) {
						editNode.info("Cancel edit due to scroll event.");
						editNode.editEnd(false, event);
					}
				});
		},
		nodeClick: function (ctx) {
			var eventStr = $.ui.fancytree.eventToString(ctx.originalEvent),
				triggerStart = ctx.options.edit.triggerStart;

			if (
				eventStr === "shift+click" &&
				$.inArray("shift+click", triggerStart) >= 0
			) {
				if (ctx.originalEvent.shiftKey) {
					ctx.node.editStart();
					return false;
				}
			}
			if (
				eventStr === "click" &&
				$.inArray("clickActive", triggerStart) >= 0
			) {
				if (
					ctx.node.isActive() &&
					!ctx.node.isEditing() &&
					$(ctx.originalEvent.target).hasClass("fancytree-title")
				) {
					ctx.node.editStart();
					return false;
				}
			}
			return this._superApply(arguments);
		},
		nodeDblclick: function (ctx) {
			if ($.inArray("dblclick", ctx.options.edit.triggerStart) >= 0) {
				ctx.node.editStart();
				return false;
			}
			return this._superApply(arguments);
		},
		nodeKeydown: function (ctx) {
			switch (ctx.originalEvent.which) {
				case 113: 
					if ($.inArray("f2", ctx.options.edit.triggerStart) >= 0) {
						ctx.node.editStart();
						return false;
					}
					break;
				case $.ui.keyCode.ENTER:
					if (
						$.inArray("mac+enter", ctx.options.edit.triggerStart) >=
							0 &&
						isMac
					) {
						ctx.node.editStart();
						return false;
					}
					break;
			}
			return this._superApply(arguments);
		},
	});
	return $.ui.fancytree;
}); 



(function (factory) {
	if (typeof define === "function" && define.amd) {
		define(["jquery", "./jquery.fancytree"], factory);
	} else if (typeof module === "object" && module.exports) {
		require("./jquery.fancytree");
		module.exports = factory(require("jquery"));
	} else {
		factory(jQuery);
	}
})(function ($) {
	"use strict";


	var KeyNoData = "__not_found__",
		escapeHtml = $.ui.fancytree.escapeHtml,
		exoticStartChar = "\uFFF7",
		exoticEndChar = "\uFFF8";
	function _escapeRegex(str) {
		return (str + "").replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1");
	}

	function extractHtmlText(s) {
		if (s.indexOf(">") >= 0) {
			return $("<div/>").html(s).text();
		}
		return s;
	}

	function _markFuzzyMatchedChars(text, regexMatchArray, escapeTitles) {
		var matchingIndices = [];
		for (
			var _matchingArrIdx = 1;
			_matchingArrIdx < regexMatchArray.length;
			_matchingArrIdx++
		) {
			var _mIdx =
				regexMatchArray[_matchingArrIdx].length +
				(_matchingArrIdx === 1 ? 0 : 1) +
				(matchingIndices[matchingIndices.length - 1] || 0);
			matchingIndices.push(_mIdx);
		}
		var textPoses = text.split("");
		if (escapeTitles) {
			matchingIndices.forEach(function (v) {
				textPoses[v] = exoticStartChar + textPoses[v] + exoticEndChar;
			});
		} else {
			matchingIndices.forEach(function (v) {
				textPoses[v] = "<mark>" + textPoses[v] + "</mark>";
			});
		}
		return textPoses.join("");
	}
	$.ui.fancytree._FancytreeClass.prototype._applyFilterImpl = function (
		filter,
		branchMode,
		_opts
	) {
		var match,
			statusNode,
			re,
			reHighlight,
			reExoticStartChar,
			reExoticEndChar,
			temp,
			prevEnableUpdate,
			count = 0,
			treeOpts = this.options,
			escapeTitles = treeOpts.escapeTitles,
			prevAutoCollapse = treeOpts.autoCollapse,
			opts = $.extend({}, treeOpts.filter, _opts),
			hideMode = opts.mode === "hide",
			leavesOnly = !!opts.leavesOnly && !branchMode;

		if (typeof filter === "string") {
			if (filter === "") {
				this.warn(
					"Fancytree passing an empty string as a filter is handled as clearFilter()."
				);
				this.clearFilter();
				return;
			}
			if (opts.fuzzy) {
				match = filter
					.split("")
					.map(_escapeRegex)
					.reduce(function (a, b) {
						return a + "([^" + b + "]*)" + b;
					}, "");
			} else {
				match = _escapeRegex(filter); 
			}
			re = new RegExp(match, "i");
			reHighlight = new RegExp(_escapeRegex(filter), "gi");
			if (escapeTitles) {
				reExoticStartChar = new RegExp(
					_escapeRegex(exoticStartChar),
					"g"
				);
				reExoticEndChar = new RegExp(_escapeRegex(exoticEndChar), "g");
			}
			filter = function (node) {
				if (!node.title) {
					return false;
				}
				var text = escapeTitles
						? node.title
						: extractHtmlText(node.title),
					res = text.match(re);
				if (res && opts.highlight) {
					if (escapeTitles) {
						if (opts.fuzzy) {
							temp = _markFuzzyMatchedChars(
								text,
								res,
								escapeTitles
							);
						} else {
							temp = text.replace(reHighlight, function (s) {
								return exoticStartChar + s + exoticEndChar;
							});
						}
						node.titleWithHighlight = escapeHtml(temp)
							.replace(reExoticStartChar, "<mark>")
							.replace(reExoticEndChar, "</mark>");
					} else {
						if (opts.fuzzy) {
							node.titleWithHighlight = _markFuzzyMatchedChars(
								text,
								res
							);
						} else {
							node.titleWithHighlight = text.replace(
								reHighlight,
								function (s) {
									return "<mark>" + s + "</mark>";
								}
							);
						}
					}
				}
				return !!res;
			};
		}

		this.enableFilter = true;
		this.lastFilterArgs = arguments;

		prevEnableUpdate = this.enableUpdate(false);

		this.$div.addClass("fancytree-ext-filter");
		if (hideMode) {
			this.$div.addClass("fancytree-ext-filter-hide");
		} else {
			this.$div.addClass("fancytree-ext-filter-dimm");
		}
		this.$div.toggleClass(
			"fancytree-ext-filter-hide-expanders",
			!!opts.hideExpanders
		);
		this.rootNode.subMatchCount = 0;
		this.visit(function (node) {
			delete node.match;
			delete node.titleWithHighlight;
			node.subMatchCount = 0;
		});
		statusNode = this.getRootNode()._findDirectChild(KeyNoData);
		if (statusNode) {
			statusNode.remove();
		}

		treeOpts.autoCollapse = false; 

		this.visit(function (node) {
			if (leavesOnly && node.children != null) {
				return;
			}
			var res = filter(node),
				matchedByBranch = false;

			if (res === "skip") {
				node.visit(function (c) {
					c.match = false;
				}, true);
				return "skip";
			}
			if (!res && (branchMode || res === "branch") && node.parent.match) {
				res = true;
				matchedByBranch = true;
			}
			if (res) {
				count++;
				node.match = true;
				node.visitParents(function (p) {
					if (p !== node) {
						p.subMatchCount += 1;
					}
					if (opts.autoExpand && !matchedByBranch && !p.expanded) {
						p.setExpanded(true, {
							noAnimation: true,
							noEvents: true,
							scrollIntoView: false,
						});
						p._filterAutoExpanded = true;
					}
				}, true);
			}
		});
		treeOpts.autoCollapse = prevAutoCollapse;

		if (count === 0 && opts.nodata && hideMode) {
			statusNode = opts.nodata;
			if (typeof statusNode === "function") {
				statusNode = statusNode();
			}
			if (statusNode === true) {
				statusNode = {};
			} else if (typeof statusNode === "string") {
				statusNode = { title: statusNode };
			}
			statusNode = $.extend(
				{
					statusNodeType: "nodata",
					key: KeyNoData,
					title: this.options.strings.noData,
				},
				statusNode
			);

			this.getRootNode().addNode(statusNode).match = true;
		}
		this._callHook("treeStructureChanged", this, "applyFilter");
		this.enableUpdate(prevEnableUpdate);
		return count;
	};

	$.ui.fancytree._FancytreeClass.prototype.filterNodes = function (
		filter,
		opts
	) {
		if (typeof opts === "boolean") {
			opts = { leavesOnly: opts };
			this.warn(
				"Fancytree.filterNodes() leavesOnly option is deprecated since 2.9.0 / 2015-04-19. Use opts.leavesOnly instead."
			);
		}
		return this._applyFilterImpl(filter, false, opts);
	};

	$.ui.fancytree._FancytreeClass.prototype.filterBranches = function (
		filter,
		opts
	) {
		return this._applyFilterImpl(filter, true, opts);
	};

	$.ui.fancytree._FancytreeClass.prototype.updateFilter = function () {
		if (
			this.enableFilter &&
			this.lastFilterArgs &&
			this.options.filter.autoApply
		) {
			this._applyFilterImpl.apply(this, this.lastFilterArgs);
		} else {
			this.warn("updateFilter(): no filter active.");
		}
	};

	$.ui.fancytree._FancytreeClass.prototype.clearFilter = function () {
		var $title,
			statusNode = this.getRootNode()._findDirectChild(KeyNoData),
			escapeTitles = this.options.escapeTitles,
			enhanceTitle = this.options.enhanceTitle,
			prevEnableUpdate = this.enableUpdate(false);

		if (statusNode) {
			statusNode.remove();
		}
		delete this.rootNode.match;
		delete this.rootNode.subMatchCount;

		this.visit(function (node) {
			if (node.match && node.span) {
				$title = $(node.span).find(">span.fancytree-title");
				if (escapeTitles) {
					$title.text(node.title);
				} else {
					$title.html(node.title);
				}
				if (enhanceTitle) {
					enhanceTitle(
						{ type: "enhanceTitle" },
						{ node: node, $title: $title }
					);
				}
			}
			delete node.match;
			delete node.subMatchCount;
			delete node.titleWithHighlight;
			if (node.$subMatchBadge) {
				node.$subMatchBadge.remove();
				delete node.$subMatchBadge;
			}
			if (node._filterAutoExpanded && node.expanded) {
				node.setExpanded(false, {
					noAnimation: true,
					noEvents: true,
					scrollIntoView: false,
				});
			}
			delete node._filterAutoExpanded;
		});
		this.enableFilter = false;
		this.lastFilterArgs = null;
		this.$div.removeClass(
			"fancytree-ext-filter fancytree-ext-filter-dimm fancytree-ext-filter-hide"
		);
		this._callHook("treeStructureChanged", this, "clearFilter");
		this.enableUpdate(prevEnableUpdate);
	};

	$.ui.fancytree._FancytreeClass.prototype.isFilterActive = function () {
		return !!this.enableFilter;
	};

	$.ui.fancytree._FancytreeNodeClass.prototype.isMatched = function () {
		return !(this.tree.enableFilter && !this.match);
	};

	$.ui.fancytree.registerExtension({
		name: "filter",
		version: "2.38.3",
		options: {
			autoApply: true, 
			autoExpand: false, 
			counter: true, 
			fuzzy: false, 
			hideExpandedCounter: true, 
			hideExpanders: false, 
			highlight: true, 
			leavesOnly: false, 
			nodata: true, 
			mode: "dimm", 
		},
		nodeLoadChildren: function (ctx, source) {
			var tree = ctx.tree;

			return this._superApply(arguments).done(function () {
				if (
					tree.enableFilter &&
					tree.lastFilterArgs &&
					ctx.options.filter.autoApply
				) {
					tree._applyFilterImpl.apply(tree, tree.lastFilterArgs);
				}
			});
		},
		nodeSetExpanded: function (ctx, flag, callOpts) {
			var node = ctx.node;

			delete node._filterAutoExpanded;
			if (
				!flag &&
				ctx.options.filter.hideExpandedCounter &&
				node.$subMatchBadge
			) {
				node.$subMatchBadge.show();
			}
			return this._superApply(arguments);
		},
		nodeRenderStatus: function (ctx) {
			var res,
				node = ctx.node,
				tree = ctx.tree,
				opts = ctx.options.filter,
				$title = $(node.span).find("span.fancytree-title"),
				$span = $(node[tree.statusClassPropName]),
				enhanceTitle = ctx.options.enhanceTitle,
				escapeTitles = ctx.options.escapeTitles;

			res = this._super(ctx);
			if (!$span.length || !tree.enableFilter) {
				return res;
			}
			$span
				.toggleClass("fancytree-match", !!node.match)
				.toggleClass("fancytree-submatch", !!node.subMatchCount)
				.toggleClass(
					"fancytree-hide",
					!(node.match || node.subMatchCount)
				);
			if (
				opts.counter &&
				node.subMatchCount &&
				(!node.isExpanded() || !opts.hideExpandedCounter)
			) {
				if (!node.$subMatchBadge) {
					node.$subMatchBadge = $(
						"<span class='fancytree-childcounter'/>"
					);
					$(
						"span.fancytree-icon, span.fancytree-custom-icon",
						node.span
					).append(node.$subMatchBadge);
				}
				node.$subMatchBadge.show().text(node.subMatchCount);
			} else if (node.$subMatchBadge) {
				node.$subMatchBadge.hide();
			}
			if (node.span && (!node.isEditing || !node.isEditing.call(node))) {
				if (node.titleWithHighlight) {
					$title.html(node.titleWithHighlight);
				} else if (escapeTitles) {
					$title.text(node.title);
				} else {
					$title.html(node.title);
				}
				if (enhanceTitle) {
					enhanceTitle(
						{ type: "enhanceTitle" },
						{ node: node, $title: $title }
					);
				}
			}
			return res;
		},
	});
	return $.ui.fancytree;
}); 



(function (factory) {
	if (typeof define === "function" && define.amd) {
		define(["jquery", "./jquery.fancytree"], factory);
	} else if (typeof module === "object" && module.exports) {
		require("./jquery.fancytree");
		module.exports = factory(require("jquery"));
	} else {
		factory(jQuery);
	}
})(function ($) {
	"use strict";


	var FT = $.ui.fancytree,
		PRESETS = {
			awesome3: {
				_addClass: "",
				checkbox: "icon-check-empty",
				checkboxSelected: "icon-check",
				checkboxUnknown: "icon-check icon-muted",
				dragHelper: "icon-caret-right",
				dropMarker: "icon-caret-right",
				error: "icon-exclamation-sign",
				expanderClosed: "icon-caret-right",
				expanderLazy: "icon-angle-right",
				expanderOpen: "icon-caret-down",
				loading: "icon-refresh icon-spin",
				nodata: "icon-meh",
				noExpander: "",
				radio: "icon-circle-blank",
				radioSelected: "icon-circle",
				doc: "icon-file-alt",
				docOpen: "icon-file-alt",
				folder: "icon-folder-close-alt",
				folderOpen: "icon-folder-open-alt",
			},
			awesome4: {
				_addClass: "fa",
				checkbox: "fa-square-o",
				checkboxSelected: "fa-check-square-o",
				checkboxUnknown: "fa-square fancytree-helper-indeterminate-cb",
				dragHelper: "fa-arrow-right",
				dropMarker: "fa-long-arrow-right",
				error: "fa-warning",
				expanderClosed: "fa-caret-right",
				expanderLazy: "fa-angle-right",
				expanderOpen: "fa-caret-down",
				loading: { html: "<span class='fa fa-spinner fa-pulse' />" },
				nodata: "fa-meh-o",
				noExpander: "",
				radio: "fa-circle-thin", 
				radioSelected: "fa-circle",
				doc: "fa-file-o",
				docOpen: "fa-file-o",
				folder: "fa-folder-o",
				folderOpen: "fa-folder-open-o",
			},
			awesome5: {
				_addClass: "",
				checkbox: "far fa-square",
				checkboxSelected: "far fa-check-square",
				checkboxUnknown:
					"fas fa-square fancytree-helper-indeterminate-cb",
				radio: "far fa-circle",
				radioSelected: "fas fa-circle",
				radioUnknown: "far fa-dot-circle",
				dragHelper: "fas fa-arrow-right",
				dropMarker: "fas fa-long-arrow-alt-right",
				error: "fas fa-exclamation-triangle",
				expanderClosed: "fas fa-caret-right",
				expanderLazy: "fas fa-angle-right",
				expanderOpen: "fas fa-caret-down",
				loading: "fas fa-spinner fa-pulse",
				nodata: "far fa-meh",
				noExpander: "",
				doc: "far fa-file",
				docOpen: "far fa-file",
				folder: "far fa-folder",
				folderOpen: "far fa-folder-open",
			},
			bootstrap3: {
				_addClass: "glyphicon",
				checkbox: "glyphicon-unchecked",
				checkboxSelected: "glyphicon-check",
				checkboxUnknown:
					"glyphicon-expand fancytree-helper-indeterminate-cb", 
				dragHelper: "glyphicon-play",
				dropMarker: "glyphicon-arrow-right",
				error: "glyphicon-warning-sign",
				expanderClosed: "glyphicon-menu-right", 
				expanderLazy: "glyphicon-menu-right", 
				expanderOpen: "glyphicon-menu-down", 
				loading: "glyphicon-refresh fancytree-helper-spin",
				nodata: "glyphicon-info-sign",
				noExpander: "",
				radio: "glyphicon-remove-circle", 
				radioSelected: "glyphicon-ok-circle", 
				doc: "glyphicon-file",
				docOpen: "glyphicon-file",
				folder: "glyphicon-folder-close",
				folderOpen: "glyphicon-folder-open",
			},
			material: {
				_addClass: "material-icons",
				checkbox: { text: "check_box_outline_blank" },
				checkboxSelected: { text: "check_box" },
				checkboxUnknown: { text: "indeterminate_check_box" },
				dragHelper: { text: "play_arrow" },
				dropMarker: { text: "arrow-forward" },
				error: { text: "warning" },
				expanderClosed: { text: "chevron_right" },
				expanderLazy: { text: "last_page" },
				expanderOpen: { text: "expand_more" },
				loading: {
					text: "autorenew",
					addClass: "fancytree-helper-spin",
				},
				nodata: { text: "info" },
				noExpander: { text: "" },
				radio: { text: "radio_button_unchecked" },
				radioSelected: { text: "radio_button_checked" },
				doc: { text: "insert_drive_file" },
				docOpen: { text: "insert_drive_file" },
				folder: { text: "folder" },
				folderOpen: { text: "folder_open" },
			},
		};

	function setIcon(node, span, baseClass, opts, type) {
		var map = opts.map,
			icon = map[type],
			$span = $(span),
			$counter = $span.find(".fancytree-childcounter"),
			setClass = baseClass + " " + (map._addClass || "");

		if (typeof icon === "function") {
			icon = icon.call(this, node, span, type);
		}
		if (typeof icon === "string") {
			span.innerHTML = "";
			$span.attr("class", setClass + " " + icon).append($counter);
		} else if (icon) {
			if (icon.text) {
				span.textContent = "" + icon.text;
			} else if (icon.html) {
				span.innerHTML = icon.html;
			} else {
				span.innerHTML = "";
			}
			$span
				.attr("class", setClass + " " + (icon.addClass || ""))
				.append($counter);
		}
	}

	$.ui.fancytree.registerExtension({
		name: "glyph",
		version: "2.38.3",
		options: {
			preset: null, 
			map: {},
		},

		treeInit: function (ctx) {
			var tree = ctx.tree,
				opts = ctx.options.glyph;

			if (opts.preset) {
				FT.assert(
					!!PRESETS[opts.preset],
					"Invalid value for `options.glyph.preset`: " + opts.preset
				);
				opts.map = $.extend({}, PRESETS[opts.preset], opts.map);
			} else {
				tree.warn("ext-glyph: missing `preset` option.");
			}
			this._superApply(arguments);
			tree.$container.addClass("fancytree-ext-glyph");
		},
		nodeRenderStatus: function (ctx) {
			var checkbox,
				icon,
				res,
				span,
				node = ctx.node,
				$span = $(node.span),
				opts = ctx.options.glyph;

			res = this._super(ctx);

			if (node.isRootNode()) {
				return res;
			}
			span = $span.children(".fancytree-expander").get(0);
			if (span) {
				if (node.expanded && node.hasChildren()) {
					icon = "expanderOpen";
				} else if (node.isUndefined()) {
					icon = "expanderLazy";
				} else if (node.hasChildren()) {
					icon = "expanderClosed";
				} else {
					icon = "noExpander";
				}
				setIcon(node, span, "fancytree-expander", opts, icon);
			}

			if (node.tr) {
				span = $("td", node.tr).find(".fancytree-checkbox").get(0);
			} else {
				span = $span.children(".fancytree-checkbox").get(0);
			}
			if (span) {
				checkbox = FT.evalOption("checkbox", node, node, opts, false);
				if (
					(node.parent && node.parent.radiogroup) ||
					checkbox === "radio"
				) {
					icon = node.selected ? "radioSelected" : "radio";
					setIcon(
						node,
						span,
						"fancytree-checkbox fancytree-radio",
						opts,
						icon
					);
				} else {
					icon = node.selected
						? "checkboxSelected"
						: node.partsel
						? "checkboxUnknown"
						: "checkbox";
					setIcon(node, span, "fancytree-checkbox", opts, icon);
				}
			}

			span = $span.children(".fancytree-icon").get(0);
			if (span) {
				if (node.statusNodeType) {
					icon = node.statusNodeType; 
				} else if (node.folder) {
					icon =
						node.expanded && node.hasChildren()
							? "folderOpen"
							: "folder";
				} else {
					icon = node.expanded ? "docOpen" : "doc";
				}
				setIcon(node, span, "fancytree-icon", opts, icon);
			}
			return res;
		},
		nodeSetStatus: function (ctx, status, message, details) {
			var res,
				span,
				opts = ctx.options.glyph,
				node = ctx.node;

			res = this._superApply(arguments);

			if (
				status === "error" ||
				status === "loading" ||
				status === "nodata"
			) {
				if (node.parent) {
					span = $(".fancytree-expander", node.span).get(0);
					if (span) {
						setIcon(node, span, "fancytree-expander", opts, status);
					}
				} else {
					span = $(
						".fancytree-statusnode-" + status,
						node[this.nodeContainerAttrName]
					)
						.find(".fancytree-icon")
						.get(0);
					if (span) {
						setIcon(node, span, "fancytree-icon", opts, status);
					}
				}
			}
			return res;
		},
	});
	return $.ui.fancytree;
}); 



(function (factory) {
	if (typeof define === "function" && define.amd) {
		define([
			"jquery",
			"./jquery.fancytree",
			"./jquery.fancytree.table",
		], factory);
	} else if (typeof module === "object" && module.exports) {
		require("./jquery.fancytree.table"); 
		module.exports = factory(require("jquery"));
	} else {
		factory(jQuery);
	}
})(function ($) {
	"use strict";



	var KC = $.ui.keyCode,
		NAV_KEYS = {
			text: [KC.UP, KC.DOWN],
			checkbox: [KC.UP, KC.DOWN, KC.LEFT, KC.RIGHT],
			link: [KC.UP, KC.DOWN, KC.LEFT, KC.RIGHT],
			radiobutton: [KC.UP, KC.DOWN, KC.LEFT, KC.RIGHT],
			"select-one": [KC.LEFT, KC.RIGHT],
			"select-multiple": [KC.LEFT, KC.RIGHT],
		};

	function getColIdx($tr, $td) {
		var colspan,
			td = $td.get(0),
			idx = 0;

		$tr.children().each(function () {
			if (this === td) {
				return false;
			}
			colspan = $(this).prop("colspan");
			idx += colspan ? colspan : 1;
		});
		return idx;
	}

	function findTdAtColIdx($tr, colIdx) {
		var colspan,
			res = null,
			idx = 0;

		$tr.children().each(function () {
			if (idx >= colIdx) {
				res = $(this);
				return false;
			}
			colspan = $(this).prop("colspan");
			idx += colspan ? colspan : 1;
		});
		return res;
	}

	function findNeighbourTd($target, keyCode) {
		var $tr,
			colIdx,
			$td = $target.closest("td"),
			$tdNext = null;

		switch (keyCode) {
			case KC.LEFT:
				$tdNext = $td.prev();
				break;
			case KC.RIGHT:
				$tdNext = $td.next();
				break;
			case KC.UP:
			case KC.DOWN:
				$tr = $td.parent();
				colIdx = getColIdx($tr, $td);
				while (true) {
					$tr = keyCode === KC.UP ? $tr.prev() : $tr.next();
					if (!$tr.length) {
						break;
					}
					if ($tr.is(":hidden")) {
						continue;
					}
					$tdNext = findTdAtColIdx($tr, colIdx);
					if ($tdNext && $tdNext.find(":input,a").length) {
						break;
					}
				}
				break;
		}
		return $tdNext;
	}

	$.ui.fancytree.registerExtension({
		name: "gridnav",
		version: "2.38.3",
		options: {
			autofocusInput: false, 
			handleCursorKeys: true, 
		},

		treeInit: function (ctx) {
			this._requireExtension("table", true, true);
			this._superApply(arguments);

			this.$container.addClass("fancytree-ext-gridnav");

			this.$container.on("focusin", function (event) {
				var ctx2,
					node = $.ui.fancytree.getNode(event.target);

				if (node && !node.isActive()) {
					ctx2 = ctx.tree._makeHookContext(node, event);
					ctx.tree._callHook("nodeSetActive", ctx2, true);
				}
			});
		},
		nodeSetActive: function (ctx, flag, callOpts) {
			var $outer,
				opts = ctx.options.gridnav,
				node = ctx.node,
				event = ctx.originalEvent || {},
				triggeredByInput = $(event.target).is(":input");

			flag = flag !== false;

			this._superApply(arguments);

			if (flag) {
				if (ctx.options.titlesTabbable) {
					if (!triggeredByInput) {
						$(node.span).find("span.fancytree-title").focus();
						node.setFocus();
					}
					ctx.tree.$container.attr("tabindex", "-1");
				} else if (opts.autofocusInput && !triggeredByInput) {
					$outer = $(node.tr || node.span);
					$outer.find(":input:enabled").first().focus();
				}
			}
		},
		nodeKeydown: function (ctx) {
			var inputType,
				handleKeys,
				$td,
				opts = ctx.options.gridnav,
				event = ctx.originalEvent,
				$target = $(event.target);

			if ($target.is(":input:enabled")) {
				inputType = $target.prop("type");
			} else if ($target.is("a")) {
				inputType = "link";
			}

			if (inputType && opts.handleCursorKeys) {
				handleKeys = NAV_KEYS[inputType];
				if (handleKeys && $.inArray(event.which, handleKeys) >= 0) {
					$td = findNeighbourTd($target, event.which);
					if ($td && $td.length) {
						$td.find(":input:enabled,a").focus();
						return false;
					}
				}
				return true;
			}
			return this._superApply(arguments);
		},
	});
	return $.ui.fancytree;
}); 



(function (factory) {
	if (typeof define === "function" && define.amd) {
		define(["jquery", "./jquery.fancytree"], factory);
	} else if (typeof module === "object" && module.exports) {
		require("./jquery.fancytree");
		module.exports = factory(require("jquery"));
	} else {
		factory(jQuery);
	}
})(function ($) {
	"use strict";



	$.ui.fancytree.registerExtension({
		name: "multi",
		version: "2.38.3",
		options: {
			allowNoSelect: false, 
			mode: "sameParent", 
		},

		treeInit: function (ctx) {
			this._superApply(arguments);
			this.$container.addClass("fancytree-ext-multi");
			if (ctx.options.selectMode === 1) {
				$.error(
					"Fancytree ext-multi: selectMode: 1 (single) is not compatible."
				);
			}
		},
		nodeClick: function (ctx) {
			var 
				tree = ctx.tree,
				node = ctx.node,
				activeNode = tree.getActiveNode() || tree.getFirstChild(),
				isCbClick = ctx.targetType === "checkbox",
				isExpanderClick = ctx.targetType === "expander",
				eventStr = $.ui.fancytree.eventToString(ctx.originalEvent);

			switch (eventStr) {
				case "click":
					if (isExpanderClick) {
						break;
					} 
					if (!isCbClick) {
						tree.selectAll(false);
						node.setSelected();
					}
					break;
				case "shift+click":
					tree.visitRows(
						function (n) {
							n.setSelected();
							if (n === node) {
								return false;
							}
						},
						{
							start: activeNode,
							reverse: activeNode.isBelowOf(node),
						}
					);
					break;
				case "ctrl+click":
				case "meta+click": 
					node.toggleSelected();
					return;
			}
			return this._superApply(arguments);
		},
		nodeKeydown: function (ctx) {
			var tree = ctx.tree,
				node = ctx.node,
				event = ctx.originalEvent,
				eventStr = $.ui.fancytree.eventToString(event);

			switch (eventStr) {
				case "up":
				case "down":
					tree.selectAll(false);
					node.navigate(event.which, true);
					tree.getActiveNode().setSelected();
					break;
				case "shift+up":
				case "shift+down":
					node.navigate(event.which, true);
					tree.getActiveNode().setSelected();
					break;
			}
			return this._superApply(arguments);
		},
	});
	return $.ui.fancytree;
}); 



(function (factory) {
	if (typeof define === "function" && define.amd) {
		define(["jquery", "./jquery.fancytree"], factory);
	} else if (typeof module === "object" && module.exports) {
		require("./jquery.fancytree");
		module.exports = factory(require("jquery"));
	} else {
		factory(jQuery);
	}
})(function ($) {
	"use strict";

	var cookieStore = null,
		localStorageStore = null,
		sessionStorageStore = null,
		_assert = $.ui.fancytree.assert,
		ACTIVE = "active",
		EXPANDED = "expanded",
		FOCUS = "focus",
		SELECTED = "selected";

	try {
		_assert(window.localStorage && window.localStorage.getItem);
		localStorageStore = {
			get: function (key) {
				return window.localStorage.getItem(key);
			},
			set: function (key, value) {
				window.localStorage.setItem(key, value);
			},
			remove: function (key) {
				window.localStorage.removeItem(key);
			},
		};
	} catch (e) {
		$.ui.fancytree.warn("Could not access window.localStorage", e);
	}

	try {
		_assert(window.sessionStorage && window.sessionStorage.getItem);
		sessionStorageStore = {
			get: function (key) {
				return window.sessionStorage.getItem(key);
			},
			set: function (key, value) {
				window.sessionStorage.setItem(key, value);
			},
			remove: function (key) {
				window.sessionStorage.removeItem(key);
			},
		};
	} catch (e) {
		$.ui.fancytree.warn("Could not access window.sessionStorage", e);
	}

	if (typeof Cookies === "function") {
		cookieStore = {
			get: Cookies.get,
			set: function (key, value) {
				Cookies.set(key, value, this.options.persist.cookie);
			},
			remove: Cookies.remove,
		};
	} else if ($ && typeof $.cookie === "function") {
		cookieStore = {
			get: $.cookie,
			set: function (key, value) {
				$.cookie(key, value, this.options.persist.cookie);
			},
			remove: $.removeCookie,
		};
	}

	function _loadLazyNodes(tree, local, keyList, mode, dfd) {
		var i,
			key,
			l,
			node,
			foundOne = false,
			expandOpts = tree.options.persist.expandOpts,
			deferredList = [],
			missingKeyList = [];

		keyList = keyList || [];
		dfd = dfd || $.Deferred();

		for (i = 0, l = keyList.length; i < l; i++) {
			key = keyList[i];
			node = tree.getNodeByKey(key);
			if (node) {
				if (mode && node.isUndefined()) {
					foundOne = true;
					tree.debug(
						"_loadLazyNodes: " + node + " is lazy: loading..."
					);
					if (mode === "expand") {
						deferredList.push(node.setExpanded(true, expandOpts));
					} else {
						deferredList.push(node.load());
					}
				} else {
					tree.debug("_loadLazyNodes: " + node + " already loaded.");
					node.setExpanded(true, expandOpts);
				}
			} else {
				missingKeyList.push(key);
				tree.debug("_loadLazyNodes: " + node + " was not yet found.");
			}
		}

		$.when.apply($, deferredList).always(function () {
			if (foundOne && missingKeyList.length > 0) {
				_loadLazyNodes(tree, local, missingKeyList, mode, dfd);
			} else {
				if (missingKeyList.length) {
					tree.warn(
						"_loadLazyNodes: could not load those keys: ",
						missingKeyList
					);
					for (i = 0, l = missingKeyList.length; i < l; i++) {
						key = keyList[i];
						local._appendKey(EXPANDED, keyList[i], false);
					}
				}
				dfd.resolve();
			}
		});
		return dfd;
	}

	$.ui.fancytree._FancytreeClass.prototype.clearPersistData = function (
		types
	) {
		var local = this.ext.persist,
			prefix = local.cookiePrefix;

		types = types || "active expanded focus selected";
		if (types.indexOf(ACTIVE) >= 0) {
			local._data(prefix + ACTIVE, null);
		}
		if (types.indexOf(EXPANDED) >= 0) {
			local._data(prefix + EXPANDED, null);
		}
		if (types.indexOf(FOCUS) >= 0) {
			local._data(prefix + FOCUS, null);
		}
		if (types.indexOf(SELECTED) >= 0) {
			local._data(prefix + SELECTED, null);
		}
	};

	$.ui.fancytree._FancytreeClass.prototype.clearCookies = function (types) {
		this.warn(
			"'tree.clearCookies()' is deprecated since v2.27.0: use 'clearPersistData()' instead."
		);
		return this.clearPersistData(types);
	};

	$.ui.fancytree._FancytreeClass.prototype.getPersistData = function () {
		var local = this.ext.persist,
			prefix = local.cookiePrefix,
			delim = local.cookieDelimiter,
			res = {};

		res[ACTIVE] = local._data(prefix + ACTIVE);
		res[EXPANDED] = (local._data(prefix + EXPANDED) || "").split(delim);
		res[SELECTED] = (local._data(prefix + SELECTED) || "").split(delim);
		res[FOCUS] = local._data(prefix + FOCUS);
		return res;
	};

	$.ui.fancytree.registerExtension({
		name: "persist",
		version: "2.38.3",
		options: {
			cookieDelimiter: "~",
			cookiePrefix: undefined, 
			cookie: {
				raw: false,
				expires: "",
				path: "",
				domain: "",
				secure: false,
			},
			expandLazy: false, 
			expandOpts: undefined, 
			fireActivate: true, 
			overrideSource: true, 
			store: "auto", 
			types: "active expanded focus selected",
		},

		_data: function (key, value) {
			var store = this._local.store;

			if (value === undefined) {
				return store.get.call(this, key);
			} else if (value === null) {
				store.remove.call(this, key);
			} else {
				store.set.call(this, key, value);
			}
		},

		_appendKey: function (type, key, flag) {
			key = "" + key; 
			var local = this._local,
				instOpts = this.options.persist,
				delim = instOpts.cookieDelimiter,
				cookieName = local.cookiePrefix + type,
				data = local._data(cookieName),
				keyList = data ? data.split(delim) : [],
				idx = $.inArray(key, keyList);
			if (idx >= 0) {
				keyList.splice(idx, 1);
			}
			if (flag) {
				keyList.push(key);
			}
			local._data(cookieName, keyList.join(delim));
		},

		treeInit: function (ctx) {
			var tree = ctx.tree,
				opts = ctx.options,
				local = this._local,
				instOpts = this.options.persist;


			local.cookiePrefix =
				instOpts.cookiePrefix || "fancytree-" + tree._id + "-";
			local.storeActive = instOpts.types.indexOf(ACTIVE) >= 0;
			local.storeExpanded = instOpts.types.indexOf(EXPANDED) >= 0;
			local.storeSelected = instOpts.types.indexOf(SELECTED) >= 0;
			local.storeFocus = instOpts.types.indexOf(FOCUS) >= 0;
			local.store = null;

			if (instOpts.store === "auto") {
				instOpts.store = localStorageStore ? "local" : "cookie";
			}
			if ($.isPlainObject(instOpts.store)) {
				local.store = instOpts.store;
			} else if (instOpts.store === "cookie") {
				local.store = cookieStore;
			} else if (instOpts.store === "local") {
				local.store =
					instOpts.store === "local"
						? localStorageStore
						: sessionStorageStore;
			} else if (instOpts.store === "session") {
				local.store =
					instOpts.store === "local"
						? localStorageStore
						: sessionStorageStore;
			}
			_assert(local.store, "Need a valid store.");

			tree.$div.on("fancytreeinit", function (event) {
				if (
					tree._triggerTreeEvent("beforeRestore", null, {}) === false
				) {
					return;
				}

				var cookie,
					dfd,
					i,
					keyList,
					node,
					prevFocus = local._data(local.cookiePrefix + FOCUS), 
					noEvents = instOpts.fireActivate === false;


				cookie = local._data(local.cookiePrefix + EXPANDED);
				keyList = cookie && cookie.split(instOpts.cookieDelimiter);

				if (local.storeExpanded) {
					dfd = _loadLazyNodes(
						tree,
						local,
						keyList,
						instOpts.expandLazy ? "expand" : false,
						null
					);
				} else {
					dfd = new $.Deferred().resolve();
				}

				dfd.done(function () {
					if (local.storeSelected) {
						cookie = local._data(local.cookiePrefix + SELECTED);
						if (cookie) {
							keyList = cookie.split(instOpts.cookieDelimiter);
							for (i = 0; i < keyList.length; i++) {
								node = tree.getNodeByKey(keyList[i]);
								if (node) {
									if (
										node.selected === undefined ||
										(instOpts.overrideSource &&
											node.selected === false)
									) {
										node.selected = true;
										node.renderStatus();
									}
								} else {
									local._appendKey(
										SELECTED,
										keyList[i],
										false
									);
								}
							}
						}
						if (tree.options.selectMode === 3) {
							tree.visit(function (n) {
								if (n.selected) {
									n.fixSelection3AfterClick();
									return "skip";
								}
							});
						}
					}
					if (local.storeActive) {
						cookie = local._data(local.cookiePrefix + ACTIVE);
						if (
							cookie &&
							(opts.persist.overrideSource || !tree.activeNode)
						) {
							node = tree.getNodeByKey(cookie);
							if (node) {
								node.debug("persist: set active", cookie);
								node.setActive(true, {
									noFocus: true,
									noEvents: noEvents,
								});
							}
						}
					}
					if (local.storeFocus && prevFocus) {
						node = tree.getNodeByKey(prevFocus);
						if (node) {
							if (tree.options.titlesTabbable) {
								$(node.span).find(".fancytree-title").focus();
							} else {
								$(tree.$container).focus();
							}
						}
					}
					tree._triggerTreeEvent("restore", null, {});
				});
			});
			return this._superApply(arguments);
		},
		nodeSetActive: function (ctx, flag, callOpts) {
			var res,
				local = this._local;

			flag = flag !== false;
			res = this._superApply(arguments);

			if (local.storeActive) {
				local._data(
					local.cookiePrefix + ACTIVE,
					this.activeNode ? this.activeNode.key : null
				);
			}
			return res;
		},
		nodeSetExpanded: function (ctx, flag, callOpts) {
			var res,
				node = ctx.node,
				local = this._local;

			flag = flag !== false;
			res = this._superApply(arguments);

			if (local.storeExpanded) {
				local._appendKey(EXPANDED, node.key, flag);
			}
			return res;
		},
		nodeSetFocus: function (ctx, flag) {
			var res,
				local = this._local;

			flag = flag !== false;
			res = this._superApply(arguments);

			if (local.storeFocus) {
				local._data(
					local.cookiePrefix + FOCUS,
					this.focusNode ? this.focusNode.key : null
				);
			}
			return res;
		},
		nodeSetSelected: function (ctx, flag, callOpts) {
			var res,
				selNodes,
				tree = ctx.tree,
				node = ctx.node,
				local = this._local;

			flag = flag !== false;
			res = this._superApply(arguments);

			if (local.storeSelected) {
				if (tree.options.selectMode === 3) {
					selNodes = $.map(tree.getSelectedNodes(true), function (n) {
						return n.key;
					});
					selNodes = selNodes.join(
						ctx.options.persist.cookieDelimiter
					);
					local._data(local.cookiePrefix + SELECTED, selNodes);
				} else {
					local._appendKey(SELECTED, node.key, node.selected);
				}
			}
			return res;
		},
	});
	return $.ui.fancytree;
}); 



(function (factory) {
	if (typeof define === "function" && define.amd) {
		define(["jquery", "./jquery.fancytree"], factory);
	} else if (typeof module === "object" && module.exports) {
		require("./jquery.fancytree");
		module.exports = factory(require("jquery"));
	} else {
		factory(jQuery);
	}
})(function ($) {
	"use strict";

	var _assert = $.ui.fancytree.assert;

	function insertFirstChild(referenceNode, newNode) {
		referenceNode.insertBefore(newNode, referenceNode.firstChild);
	}

	function insertSiblingAfter(referenceNode, newNode) {
		referenceNode.parentNode.insertBefore(
			newNode,
			referenceNode.nextSibling
		);
	}

	function setChildRowVisibility(parent, flag) {
		parent.visit(function (node) {
			var tr = node.tr;
			if (tr) {
				tr.style.display = node.hide || !flag ? "none" : "";
			}
			if (!node.expanded) {
				return "skip";
			}
		});
	}

	function findPrevRowNode(node) {
		var i,
			last,
			prev,
			parent = node.parent,
			siblings = parent ? parent.children : null;

		if (siblings && siblings.length > 1 && siblings[0] !== node) {
			i = $.inArray(node, siblings);
			prev = siblings[i - 1];
			_assert(prev.tr);
			while (prev.children && prev.children.length) {
				last = prev.children[prev.children.length - 1];
				if (!last.tr) {
					break;
				}
				prev = last;
			}
		} else {
			prev = parent;
		}
		return prev;
	}

	$.ui.fancytree.registerExtension({
		name: "table",
		version: "2.38.3",
		options: {
			checkboxColumnIdx: null, 
			indentation: 16, 
			mergeStatusColumns: true, 
			nodeColumnIdx: 0, 
		},
		treeInit: function (ctx) {
			var i,
				n,
				$row,
				$tbody,
				tree = ctx.tree,
				opts = ctx.options,
				tableOpts = opts.table,
				$table = tree.widget.element;

			if (tableOpts.customStatus != null) {
				if (opts.renderStatusColumns == null) {
					tree.warn(
						"The 'customStatus' option is deprecated since v2.15.0. Use 'renderStatusColumns' instead."
					);
					opts.renderStatusColumns = tableOpts.customStatus;
				} else {
					$.error(
						"The 'customStatus' option is deprecated since v2.15.0. Use 'renderStatusColumns' only instead."
					);
				}
			}
			if (opts.renderStatusColumns) {
				if (opts.renderStatusColumns === true) {
					opts.renderStatusColumns = opts.renderColumns;
				}
			}

			$table.addClass("fancytree-container fancytree-ext-table");
			$tbody = $table.find(">tbody");
			if (!$tbody.length) {
				if ($table.find(">tr").length) {
					$.error(
						"Expected table > tbody > tr. If you see this please open an issue."
					);
				}
				$tbody = $("<tbody>").appendTo($table);
			}

			tree.tbody = $tbody[0];

			tree.columnCount = $("thead >tr", $table)
				.last()
				.find(">th", $table).length;
			$row = $tbody.children("tr").first();
			if ($row.length) {
				n = $row.children("td").length;
				if (tree.columnCount && n !== tree.columnCount) {
					tree.warn(
						"Column count mismatch between thead (" +
							tree.columnCount +
							") and tbody (" +
							n +
							"): using tbody."
					);
					tree.columnCount = n;
				}
				$row = $row.clone();
			} else {
				_assert(
					tree.columnCount >= 1,
					"Need either <thead> or <tbody> with <td> elements to determine column count."
				);
				$row = $("<tr />");
				for (i = 0; i < tree.columnCount; i++) {
					$row.append("<td />");
				}
			}
			$row.find(">td")
				.eq(tableOpts.nodeColumnIdx)
				.html("<span class='fancytree-node' />");
			if (opts.aria) {
				$row.attr("role", "row");
				$row.find("td").attr("role", "gridcell");
			}
			tree.rowFragment = document.createDocumentFragment();
			tree.rowFragment.appendChild($row.get(0));

			$tbody.empty();

			tree.statusClassPropName = "tr";
			tree.ariaPropName = "tr";
			this.nodeContainerAttrName = "tr";

			tree.$container = $table;

			this._superApply(arguments);

			$(tree.rootNode.ul).remove();
			tree.rootNode.ul = null;

			this.$container.attr("tabindex", opts.tabindex);
			if (opts.aria) {
				tree.$container
					.attr("role", "treegrid")
					.attr("aria-readonly", true);
			}
		},
		nodeRemoveChildMarkup: function (ctx) {
			var node = ctx.node;
			node.visit(function (n) {
				if (n.tr) {
					$(n.tr).remove();
					n.tr = null;
				}
			});
		},
		nodeRemoveMarkup: function (ctx) {
			var node = ctx.node;
			if (node.tr) {
				$(node.tr).remove();
				node.tr = null;
			}
			this.nodeRemoveChildMarkup(ctx);
		},
		nodeRender: function (ctx, force, deep, collapsed, _recursive) {
			var children,
				firstTr,
				i,
				l,
				newRow,
				prevNode,
				prevTr,
				subCtx,
				tree = ctx.tree,
				node = ctx.node,
				opts = ctx.options,
				isRootNode = !node.parent;

			if (tree._enableUpdate === false) {
				return;
			}
			if (!_recursive) {
				ctx.hasCollapsedParents = node.parent && !node.parent.expanded;
			}
			if (!isRootNode) {
				if (node.tr && force) {
					this.nodeRemoveMarkup(ctx);
				}
				if (node.tr) {
					if (force) {
						this.nodeRenderTitle(ctx); 
					} else {
						this.nodeRenderStatus(ctx);
					}
				} else {
					if (ctx.hasCollapsedParents && !deep) {
						return;
					}
					newRow = tree.rowFragment.firstChild.cloneNode(true);
					prevNode = findPrevRowNode(node);
					_assert(prevNode);
					if (collapsed === true && _recursive) {
						newRow.style.display = "none";
					} else if (deep && ctx.hasCollapsedParents) {
						newRow.style.display = "none";
					}
					if (prevNode.tr) {
						insertSiblingAfter(prevNode.tr, newRow);
					} else {
						_assert(
							!prevNode.parent,
							"prev. row must have a tr, or be system root"
						);
						insertFirstChild(tree.tbody, newRow); 
					}
					node.tr = newRow;
					if (node.key && opts.generateIds) {
						node.tr.id = opts.idPrefix + node.key;
					}
					node.tr.ftnode = node;
					node.span = $("span.fancytree-node", node.tr).get(0);
					this.nodeRenderTitle(ctx);
					if (opts.createNode) {
						opts.createNode.call(tree, { type: "createNode" }, ctx);
					}
				}
			}
			if (opts.renderNode) {
				opts.renderNode.call(tree, { type: "renderNode" }, ctx);
			}
			children = node.children;
			if (children && (isRootNode || deep || node.expanded)) {
				for (i = 0, l = children.length; i < l; i++) {
					subCtx = $.extend({}, ctx, { node: children[i] });
					subCtx.hasCollapsedParents =
						subCtx.hasCollapsedParents || !node.expanded;
					this.nodeRender(subCtx, force, deep, collapsed, true);
				}
			}
			if (children && !_recursive) {
				prevTr = node.tr || null;
				firstTr = tree.tbody.firstChild;
				node.visit(function (n) {
					if (n.tr) {
						if (
							!n.parent.expanded &&
							n.tr.style.display !== "none"
						) {
							n.tr.style.display = "none";
							setChildRowVisibility(n, false);
						}
						if (n.tr.previousSibling !== prevTr) {
							node.debug("_fixOrder: mismatch at node: " + n);
							var nextTr = prevTr ? prevTr.nextSibling : firstTr;
							tree.tbody.insertBefore(n.tr, nextTr);
						}
						prevTr = n.tr;
					}
				});
			}
		},
		nodeRenderTitle: function (ctx, title) {
			var $cb,
				res,
				tree = ctx.tree,
				node = ctx.node,
				opts = ctx.options,
				isStatusNode = node.isStatusNode();

			res = this._super(ctx, title);

			if (node.isRootNode()) {
				return res;
			}
			if (
				opts.checkbox &&
				!isStatusNode &&
				opts.table.checkboxColumnIdx != null
			) {
				$cb = $("span.fancytree-checkbox", node.span); 
				$(node.tr)
					.find("td")
					.eq(+opts.table.checkboxColumnIdx)
					.html($cb);
			}
			this.nodeRenderStatus(ctx);

			if (isStatusNode) {
				if (opts.renderStatusColumns) {
					opts.renderStatusColumns.call(
						tree,
						{ type: "renderStatusColumns" },
						ctx
					);
				} else if (opts.table.mergeStatusColumns && node.isTopLevel()) {
					$(node.tr)
						.find(">td")
						.eq(0)
						.prop("colspan", tree.columnCount)
						.text(node.title)
						.addClass("fancytree-status-merged")
						.nextAll()
						.remove();
				} 
			} else if (opts.renderColumns) {
				opts.renderColumns.call(tree, { type: "renderColumns" }, ctx);
			}
			return res;
		},
		nodeRenderStatus: function (ctx) {
			var indent,
				node = ctx.node,
				opts = ctx.options;

			this._super(ctx);

			$(node.tr).removeClass("fancytree-node");
			indent = (node.getLevel() - 1) * opts.table.indentation;
			if (opts.rtl) {
				$(node.span).css({ paddingRight: indent + "px" });
			} else {
				$(node.span).css({ paddingLeft: indent + "px" });
			}
		},
		nodeSetExpanded: function (ctx, flag, callOpts) {
			flag = flag !== false;

			if ((ctx.node.expanded && flag) || (!ctx.node.expanded && !flag)) {
				return this._superApply(arguments);
			}

			var dfd = new $.Deferred(),
				subOpts = $.extend({}, callOpts, {
					noEvents: true,
					noAnimation: true,
				});

			callOpts = callOpts || {};

			function _afterExpand(ok, args) {
				if (ok) {
					setChildRowVisibility(ctx.node, flag);
					if (
						flag &&
						ctx.options.autoScroll &&
						!callOpts.noAnimation &&
						ctx.node.hasChildren()
					) {
						ctx.node
							.getLastChild()
							.scrollIntoView(true, { topNode: ctx.node })
							.always(function () {
								if (!callOpts.noEvents) {
									ctx.tree._triggerNodeEvent(
										flag ? "expand" : "collapse",
										ctx
									);
								}
								dfd.resolveWith(ctx.node);
							});
					} else {
						if (!callOpts.noEvents) {
							ctx.tree._triggerNodeEvent(
								flag ? "expand" : "collapse",
								ctx
							);
						}
						dfd.resolveWith(ctx.node);
					}
				} else {
					if (!callOpts.noEvents) {
						ctx.tree._triggerNodeEvent(
							flag ? "expand" : "collapse",
							ctx
						);
					}
					dfd.rejectWith(ctx.node);
				}
			}
			this._super(ctx, flag, subOpts)
				.done(function () {
					_afterExpand(true, arguments);
				})
				.fail(function () {
					_afterExpand(false, arguments);
				});
			return dfd.promise();
		},
		nodeSetStatus: function (ctx, status, message, details) {
			if (status === "ok") {
				var node = ctx.node,
					firstChild = node.children ? node.children[0] : null;
				if (firstChild && firstChild.isStatusNode()) {
					$(firstChild.tr).remove();
				}
			}
			return this._superApply(arguments);
		},
		treeClear: function (ctx) {
			this.nodeRemoveChildMarkup(this._makeHookContext(this.rootNode));
			return this._superApply(arguments);
		},
		treeDestroy: function (ctx) {
			this.$container.find("tbody").empty();
			if (this.$source) {
				this.$source.removeClass("fancytree-helper-hidden");
			}
			return this._superApply(arguments);
		},
	});
	return $.ui.fancytree;
}); 



(function (factory) {
	if (typeof define === "function" && define.amd) {
		define(["jquery", "./jquery.fancytree"], factory);
	} else if (typeof module === "object" && module.exports) {
		require("./jquery.fancytree");
		module.exports = factory(require("jquery"));
	} else {
		factory(jQuery);
	}
})(function ($) {
	"use strict";

	$.ui.fancytree.registerExtension({
		name: "themeroller",
		version: "2.38.3",
		options: {
			activeClass: "ui-state-active", 
			addClass: "ui-corner-all", 
			focusClass: "ui-state-focus", 
			hoverClass: "ui-state-hover", 
			selectedClass: "ui-state-highlight", 
		},

		treeInit: function (ctx) {
			var $el = ctx.widget.element,
				opts = ctx.options.themeroller;

			this._superApply(arguments);

			if ($el[0].nodeName === "TABLE") {
				$el.addClass("ui-widget ui-corner-all");
				$el.find(">thead tr").addClass("ui-widget-header");
				$el.find(">tbody").addClass("ui-widget-conent");
			} else {
				$el.addClass("ui-widget ui-widget-content ui-corner-all");
			}

			$el.on(
				"mouseenter mouseleave",
				".fancytree-node",
				function (event) {
					var node = $.ui.fancytree.getNode(event.target),
						flag = event.type === "mouseenter";

					$(node.tr ? node.tr : node.span).toggleClass(
						opts.hoverClass + " " + opts.addClass,
						flag
					);
				}
			);
		},
		treeDestroy: function (ctx) {
			this._superApply(arguments);
			ctx.widget.element.removeClass(
				"ui-widget ui-widget-content ui-corner-all"
			);
		},
		nodeRenderStatus: function (ctx) {
			var classes = {},
				node = ctx.node,
				$el = $(node.tr ? node.tr : node.span),
				opts = ctx.options.themeroller;

			this._super(ctx);
			classes[opts.activeClass] = false;
			classes[opts.focusClass] = false;
			classes[opts.selectedClass] = false;
			if (node.isActive()) {
				classes[opts.activeClass] = true;
			}
			if (node.hasFocus()) {
				classes[opts.focusClass] = true;
			}
			if (node.isSelected() && !node.isActive()) {
				classes[opts.selectedClass] = true;
			}
			$el.toggleClass(opts.activeClass, classes[opts.activeClass]);
			$el.toggleClass(opts.focusClass, classes[opts.focusClass]);
			$el.toggleClass(opts.selectedClass, classes[opts.selectedClass]);
			$el.addClass(opts.addClass);
		},
	});
	return $.ui.fancytree;
}); 



(function (factory) {
	if (typeof define === "function" && define.amd) {
		define(["jquery", "./jquery.fancytree"], factory);
	} else if (typeof module === "object" && module.exports) {
		require("./jquery.fancytree");
		module.exports = factory(require("jquery"));
	} else {
		factory(jQuery);
	}
})(function ($) {
	"use strict";

	var reNumUnit = /^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/; 



	function defineHeadStyleElement(id, cssText) {
		id = "fancytree-style-" + id;
		var $headStyle = $("#" + id);

		if (!cssText) {
			$headStyle.remove();
			return null;
		}
		if (!$headStyle.length) {
			$headStyle = $("<style />")
				.attr("id", id)
				.addClass("fancytree-style")
				.prop("type", "text/css")
				.appendTo("head");
		}
		try {
			$headStyle.html(cssText);
		} catch (e) {
			$headStyle[0].styleSheet.cssText = cssText;
		}
		return $headStyle;
	}

	function renderLevelCss(
		containerId,
		depth,
		levelOfs,
		lineOfs,
		labelOfs,
		measureUnit
	) {
		var i,
			prefix = "#" + containerId + " span.fancytree-level-",
			rules = [];

		for (i = 0; i < depth; i++) {
			rules.push(
				prefix +
					(i + 1) +
					" span.fancytree-title { padding-left: " +
					(i * levelOfs + lineOfs) +
					measureUnit +
					"; }"
			);
		}
		rules.push(
			"#" +
				containerId +
				" div.ui-effects-wrapper ul li span.fancytree-title, " +
				"#" +
				containerId +
				" li.fancytree-animating span.fancytree-title " + 
				"{ padding-left: " +
				labelOfs +
				measureUnit +
				"; position: static; width: auto; }"
		);
		return rules.join("\n");
	}



	$.ui.fancytree.registerExtension({
		name: "wide",
		version: "2.38.3",
		options: {
			iconWidth: null, 
			iconSpacing: null, 
			labelSpacing: null, 
			levelOfs: null, 
		},

		treeCreate: function (ctx) {
			this._superApply(arguments);
			this.$container.addClass("fancytree-ext-wide");

			var containerId,
				cssText,
				iconSpacingUnit,
				labelSpacingUnit,
				iconWidthUnit,
				levelOfsUnit,
				instOpts = ctx.options.wide,
				$dummyLI = $(
					"<li id='fancytreeTemp'><span class='fancytree-node'><span class='fancytree-icon' /><span class='fancytree-title' /></span><ul />"
				).appendTo(ctx.tree.$container),
				$dummyIcon = $dummyLI.find(".fancytree-icon"),
				$dummyUL = $dummyLI.find("ul"),
				iconSpacing =
					instOpts.iconSpacing || $dummyIcon.css("margin-left"),
				iconWidth = instOpts.iconWidth || $dummyIcon.css("width"),
				labelSpacing = instOpts.labelSpacing || "3px",
				levelOfs = instOpts.levelOfs || $dummyUL.css("padding-left");

			$dummyLI.remove();

			iconSpacingUnit = iconSpacing.match(reNumUnit)[2];
			iconSpacing = parseFloat(iconSpacing, 10);
			labelSpacingUnit = labelSpacing.match(reNumUnit)[2];
			labelSpacing = parseFloat(labelSpacing, 10);
			iconWidthUnit = iconWidth.match(reNumUnit)[2];
			iconWidth = parseFloat(iconWidth, 10);
			levelOfsUnit = levelOfs.match(reNumUnit)[2];
			if (
				iconSpacingUnit !== iconWidthUnit ||
				levelOfsUnit !== iconWidthUnit ||
				labelSpacingUnit !== iconWidthUnit
			) {
				$.error(
					"iconWidth, iconSpacing, and levelOfs must have the same css measure unit"
				);
			}
			this._local.measureUnit = iconWidthUnit;
			this._local.levelOfs = parseFloat(levelOfs);
			this._local.lineOfs =
				(1 +
					(ctx.options.checkbox ? 1 : 0) +
					(ctx.options.icon === false ? 0 : 1)) *
					(iconWidth + iconSpacing) +
				iconSpacing;
			this._local.labelOfs = labelSpacing;
			this._local.maxDepth = 10;

			containerId = this.$container.uniqueId().attr("id");
			cssText = renderLevelCss(
				containerId,
				this._local.maxDepth,
				this._local.levelOfs,
				this._local.lineOfs,
				this._local.labelOfs,
				this._local.measureUnit
			);
			defineHeadStyleElement(containerId, cssText);
		},
		treeDestroy: function (ctx) {
			defineHeadStyleElement(this.$container.attr("id"), null);
			return this._superApply(arguments);
		},
		nodeRenderStatus: function (ctx) {
			var containerId,
				cssText,
				res,
				node = ctx.node,
				level = node.getLevel();

			res = this._super(ctx);
			if (level > this._local.maxDepth) {
				containerId = this.$container.attr("id");
				this._local.maxDepth *= 2;
				node.debug(
					"Define global ext-wide css up to level " +
						this._local.maxDepth
				);
				cssText = renderLevelCss(
					containerId,
					this._local.maxDepth,
					this._local.levelOfs,
					this._local.lineOfs,
					this._local.labelSpacing,
					this._local.measureUnit
				);
				defineHeadStyleElement(containerId, cssText);
			}
			$(node.span).addClass("fancytree-level-" + level);
			return res;
		},
	});
	return $.ui.fancytree;
}); 

return $.ui.fancytree;
}));  


(function(root, factory)
{
	if (typeof define === 'function' && define.amd)
	{
		define([], factory);
	}
	else if (typeof module === 'object' && typeof exports !== 'undefined')
	{
		module.exports = factory();
	}
	else
	{
		root.Papa = factory();
	}
}(this, function moduleFactory()
{
	'use strict';

	var global = (function() {

		if (typeof self !== 'undefined') { return self; }
		if (typeof window !== 'undefined') { return window; }
		if (typeof global !== 'undefined') { return global; }

		return {};
	})();


	function getWorkerBlob() {
		var URL = global.URL || global.webkitURL || null;
		var code = moduleFactory.toString();
		return Papa.BLOB_URL || (Papa.BLOB_URL = URL.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ", '(', code, ')();'], {type: 'text/javascript'})));
	}

	var IS_WORKER = !global.document && !!global.postMessage,
		IS_PAPA_WORKER = global.IS_PAPA_WORKER || false;

	var workers = {}, workerIdCounter = 0;

	var Papa = {};

	Papa.parse = CsvToJson;
	Papa.unparse = JsonToCsv;

	Papa.RECORD_SEP = String.fromCharCode(30);
	Papa.UNIT_SEP = String.fromCharCode(31);
	Papa.BYTE_ORDER_MARK = '\ufeff';
	Papa.BAD_DELIMITERS = ['\r', '\n', '"', Papa.BYTE_ORDER_MARK];
	Papa.WORKERS_SUPPORTED = !IS_WORKER && !!global.Worker;
	Papa.NODE_STREAM_INPUT = 1;

	Papa.LocalChunkSize = 1024 * 1024 * 10;	
	Papa.RemoteChunkSize = 1024 * 1024 * 5;	
	Papa.DefaultDelimiter = ',';			

	Papa.Parser = Parser;
	Papa.ParserHandle = ParserHandle;
	Papa.NetworkStreamer = NetworkStreamer;
	Papa.FileStreamer = FileStreamer;
	Papa.StringStreamer = StringStreamer;
	Papa.ReadableStreamStreamer = ReadableStreamStreamer;
	if (typeof PAPA_BROWSER_CONTEXT === 'undefined') {
		Papa.DuplexStreamStreamer = DuplexStreamStreamer;
	}

	if (global.jQuery)
	{
		var $ = global.jQuery;
		$.fn.parse = function(options)
		{
			var config = options.config || {};
			var queue = [];

			this.each(function(idx)
			{
				var supported = $(this).prop('tagName').toUpperCase() === 'INPUT'
								&& $(this).attr('type').toLowerCase() === 'file'
								&& global.FileReader;

				if (!supported || !this.files || this.files.length === 0)
					return true;	

				for (var i = 0; i < this.files.length; i++)
				{
					queue.push({
						file: this.files[i],
						inputElem: this,
						instanceConfig: $.extend({}, config)
					});
				}
			});

			parseNextFile();	
			return this;		


			function parseNextFile()
			{
				if (queue.length === 0)
				{
					if (isFunction(options.complete))
						options.complete();
					return;
				}

				var f = queue[0];

				if (isFunction(options.before))
				{
					var returned = options.before(f.file, f.inputElem);

					if (typeof returned === 'object')
					{
						if (returned.action === 'abort')
						{
							error('AbortError', f.file, f.inputElem, returned.reason);
							return;	
						}
						else if (returned.action === 'skip')
						{
							fileComplete();	
							return;
						}
						else if (typeof returned.config === 'object')
							f.instanceConfig = $.extend(f.instanceConfig, returned.config);
					}
					else if (returned === 'skip')
					{
						fileComplete();	
						return;
					}
				}

				var userCompleteFunc = f.instanceConfig.complete;
				f.instanceConfig.complete = function(results)
				{
					if (isFunction(userCompleteFunc))
						userCompleteFunc(results, f.file, f.inputElem);
					fileComplete();
				};

				Papa.parse(f.file, f.instanceConfig);
			}

			function error(name, file, elem, reason)
			{
				if (isFunction(options.error))
					options.error({name: name}, file, elem, reason);
			}

			function fileComplete()
			{
				queue.splice(0, 1);
				parseNextFile();
			}
		};
	}


	if (IS_PAPA_WORKER)
	{
		global.onmessage = workerThreadReceivedMessage;
	}




	function CsvToJson(_input, _config)
	{
		_config = _config || {};
		var dynamicTyping = _config.dynamicTyping || false;
		if (isFunction(dynamicTyping)) {
			_config.dynamicTypingFunction = dynamicTyping;
			dynamicTyping = {};
		}
		_config.dynamicTyping = dynamicTyping;

		_config.transform = isFunction(_config.transform) ? _config.transform : false;

		if (_config.worker && Papa.WORKERS_SUPPORTED)
		{
			var w = newWorker();

			w.userStep = _config.step;
			w.userChunk = _config.chunk;
			w.userComplete = _config.complete;
			w.userError = _config.error;

			_config.step = isFunction(_config.step);
			_config.chunk = isFunction(_config.chunk);
			_config.complete = isFunction(_config.complete);
			_config.error = isFunction(_config.error);
			delete _config.worker;	

			w.postMessage({
				input: _input,
				config: _config,
				workerId: w.id
			});

			return;
		}

		var streamer = null;
		if (_input === Papa.NODE_STREAM_INPUT && typeof PAPA_BROWSER_CONTEXT === 'undefined')
		{
			streamer = new DuplexStreamStreamer(_config);
			return streamer.getStream();
		}
		else if (typeof _input === 'string')
		{
			_input = stripBom(_input);
			if (_config.download)
				streamer = new NetworkStreamer(_config);
			else
				streamer = new StringStreamer(_config);
		}
		else if (_input.readable === true && isFunction(_input.read) && isFunction(_input.on))
		{
			streamer = new ReadableStreamStreamer(_config);
		}
		else if ((global.File && _input instanceof File) || _input instanceof Object)	
			streamer = new FileStreamer(_config);

		return streamer.stream(_input);

		function stripBom(string) {
			if (string.charCodeAt(0) === 0xfeff) {
				return string.slice(1);
			}
			return string;
		}
	}






	function JsonToCsv(_input, _config)
	{

		var _quotes = false;

		var _writeHeader = true;

		var _delimiter = ',';

		var _newline = '\r\n';

		var _quoteChar = '"';

		var _escapedQuote = _quoteChar + _quoteChar;

		var _skipEmptyLines = false;

		var _columns = null;

		var _escapeFormulae = false;

		unpackConfig();

		var quoteCharRegex = new RegExp(escapeRegExp(_quoteChar), 'g');

		if (typeof _input === 'string')
			_input = JSON.parse(_input);

		if (Array.isArray(_input))
		{
			if (!_input.length || Array.isArray(_input[0]))
				return serialize(null, _input, _skipEmptyLines);
			else if (typeof _input[0] === 'object')
				return serialize(_columns || Object.keys(_input[0]), _input, _skipEmptyLines);
		}
		else if (typeof _input === 'object')
		{
			if (typeof _input.data === 'string')
				_input.data = JSON.parse(_input.data);

			if (Array.isArray(_input.data))
			{
				if (!_input.fields)
					_input.fields = _input.meta && _input.meta.fields || _columns;

				if (!_input.fields)
					_input.fields =  Array.isArray(_input.data[0])
						? _input.fields
						: typeof _input.data[0] === 'object'
							? Object.keys(_input.data[0])
							: [];

				if (!(Array.isArray(_input.data[0])) && typeof _input.data[0] !== 'object')
					_input.data = [_input.data];	
			}

			return serialize(_input.fields || [], _input.data || [], _skipEmptyLines);
		}

		throw new Error('Unable to serialize unrecognized input');


		function unpackConfig()
		{
			if (typeof _config !== 'object')
				return;

			if (typeof _config.delimiter === 'string'
                && !Papa.BAD_DELIMITERS.filter(function(value) { return _config.delimiter.indexOf(value) !== -1; }).length)
			{
				_delimiter = _config.delimiter;
			}

			if (typeof _config.quotes === 'boolean'
				|| typeof _config.quotes === 'function'
				|| Array.isArray(_config.quotes))
				_quotes = _config.quotes;

			if (typeof _config.skipEmptyLines === 'boolean'
				|| typeof _config.skipEmptyLines === 'string')
				_skipEmptyLines = _config.skipEmptyLines;

			if (typeof _config.newline === 'string')
				_newline = _config.newline;

			if (typeof _config.quoteChar === 'string')
				_quoteChar = _config.quoteChar;

			if (typeof _config.header === 'boolean')
				_writeHeader = _config.header;

			if (Array.isArray(_config.columns)) {

				if (_config.columns.length === 0) throw new Error('Option columns is empty');

				_columns = _config.columns;
			}

			if (_config.escapeChar !== undefined) {
				_escapedQuote = _config.escapeChar + _quoteChar;
			}

			if (typeof _config.escapeFormulae === 'boolean' || _config.escapeFormulae instanceof RegExp) {
				_escapeFormulae = _config.escapeFormulae instanceof RegExp ? _config.escapeFormulae : /^[=+\-@\t\r].*$/;
			}
		}

		function serialize(fields, data, skipEmptyLines)
		{
			var csv = '';

			if (typeof fields === 'string')
				fields = JSON.parse(fields);
			if (typeof data === 'string')
				data = JSON.parse(data);

			var hasHeader = Array.isArray(fields) && fields.length > 0;
			var dataKeyedByField = !(Array.isArray(data[0]));

			if (hasHeader && _writeHeader)
			{
				for (var i = 0; i < fields.length; i++)
				{
					if (i > 0)
						csv += _delimiter;
					csv += safe(fields[i], i);
				}
				if (data.length > 0)
					csv += _newline;
			}

			for (var row = 0; row < data.length; row++)
			{
				var maxCol = hasHeader ? fields.length : data[row].length;

				var emptyLine = false;
				var nullLine = hasHeader ? Object.keys(data[row]).length === 0 : data[row].length === 0;
				if (skipEmptyLines && !hasHeader)
				{
					emptyLine = skipEmptyLines === 'greedy' ? data[row].join('').trim() === '' : data[row].length === 1 && data[row][0].length === 0;
				}
				if (skipEmptyLines === 'greedy' && hasHeader) {
					var line = [];
					for (var c = 0; c < maxCol; c++) {
						var cx = dataKeyedByField ? fields[c] : c;
						line.push(data[row][cx]);
					}
					emptyLine = line.join('').trim() === '';
				}
				if (!emptyLine)
				{
					for (var col = 0; col < maxCol; col++)
					{
						if (col > 0 && !nullLine)
							csv += _delimiter;
						var colIdx = hasHeader && dataKeyedByField ? fields[col] : col;
						csv += safe(data[row][colIdx], col);
					}
					if (row < data.length - 1 && (!skipEmptyLines || (maxCol > 0 && !nullLine)))
					{
						csv += _newline;
					}
				}
			}
			return csv;
		}

		function safe(str, col)
		{
			if (typeof str === 'undefined' || str === null)
				return '';

			if (str.constructor === Date)
				return JSON.stringify(str).slice(1, 25);

			var needsQuotes = false;

			if (_escapeFormulae && typeof str === "string" && _escapeFormulae.test(str)) {
				str = "'" + str;
				needsQuotes = true;
			}

			var escapedQuoteStr = str.toString().replace(quoteCharRegex, _escapedQuote);

			needsQuotes = needsQuotes
							|| _quotes === true
							|| (typeof _quotes === 'function' && _quotes(str, col))
							|| (Array.isArray(_quotes) && _quotes[col])
							|| hasAny(escapedQuoteStr, Papa.BAD_DELIMITERS)
							|| escapedQuoteStr.indexOf(_delimiter) > -1
							|| escapedQuoteStr.charAt(0) === ' '
							|| escapedQuoteStr.charAt(escapedQuoteStr.length - 1) === ' ';

			return needsQuotes ? _quoteChar + escapedQuoteStr + _quoteChar : escapedQuoteStr;
		}

		function hasAny(str, substrings)
		{
			for (var i = 0; i < substrings.length; i++)
				if (str.indexOf(substrings[i]) > -1)
					return true;
			return false;
		}
	}

	function ChunkStreamer(config)
	{
		this._handle = null;
		this._finished = false;
		this._completed = false;
		this._halted = false;
		this._input = null;
		this._baseIndex = 0;
		this._partialLine = '';
		this._rowCount = 0;
		this._start = 0;
		this._nextChunk = null;
		this.isFirstChunk = true;
		this._completeResults = {
			data: [],
			errors: [],
			meta: {}
		};
		replaceConfig.call(this, config);

		this.parseChunk = function(chunk, isFakeChunk)
		{
			if (this.isFirstChunk && isFunction(this._config.beforeFirstChunk))
			{
				var modifiedChunk = this._config.beforeFirstChunk(chunk);
				if (modifiedChunk !== undefined)
					chunk = modifiedChunk;
			}
			this.isFirstChunk = false;
			this._halted = false;

			var aggregate = this._partialLine + chunk;
			this._partialLine = '';

			var results = this._handle.parse(aggregate, this._baseIndex, !this._finished);

			if (this._handle.paused() || this._handle.aborted()) {
				this._halted = true;
				return;
			}

			var lastIndex = results.meta.cursor;

			if (!this._finished)
			{
				this._partialLine = aggregate.substring(lastIndex - this._baseIndex);
				this._baseIndex = lastIndex;
			}

			if (results && results.data)
				this._rowCount += results.data.length;

			var finishedIncludingPreview = this._finished || (this._config.preview && this._rowCount >= this._config.preview);

			if (IS_PAPA_WORKER)
			{
				global.postMessage({
					results: results,
					workerId: Papa.WORKER_ID,
					finished: finishedIncludingPreview
				});
			}
			else if (isFunction(this._config.chunk) && !isFakeChunk)
			{
				this._config.chunk(results, this._handle);
				if (this._handle.paused() || this._handle.aborted()) {
					this._halted = true;
					return;
				}
				results = undefined;
				this._completeResults = undefined;
			}

			if (!this._config.step && !this._config.chunk) {
				this._completeResults.data = this._completeResults.data.concat(results.data);
				this._completeResults.errors = this._completeResults.errors.concat(results.errors);
				this._completeResults.meta = results.meta;
			}

			if (!this._completed && finishedIncludingPreview && isFunction(this._config.complete) && (!results || !results.meta.aborted)) {
				this._config.complete(this._completeResults, this._input);
				this._completed = true;
			}

			if (!finishedIncludingPreview && (!results || !results.meta.paused))
				this._nextChunk();

			return results;
		};

		this._sendError = function(error)
		{
			if (isFunction(this._config.error))
				this._config.error(error);
			else if (IS_PAPA_WORKER && this._config.error)
			{
				global.postMessage({
					workerId: Papa.WORKER_ID,
					error: error,
					finished: false
				});
			}
		};

		function replaceConfig(config)
		{
			var configCopy = copy(config);
			configCopy.chunkSize = parseInt(configCopy.chunkSize);	
			if (!config.step && !config.chunk)
				configCopy.chunkSize = null;  
			this._handle = new ParserHandle(configCopy);
			this._handle.streamer = this;
			this._config = configCopy;	
		}
	}


	function NetworkStreamer(config)
	{
		config = config || {};
		if (!config.chunkSize)
			config.chunkSize = Papa.RemoteChunkSize;
		ChunkStreamer.call(this, config);

		var xhr;

		if (IS_WORKER)
		{
			this._nextChunk = function()
			{
				this._readChunk();
				this._chunkLoaded();
			};
		}
		else
		{
			this._nextChunk = function()
			{
				this._readChunk();
			};
		}

		this.stream = function(url)
		{
			this._input = url;
			this._nextChunk();	
		};

		this._readChunk = function()
		{
			if (this._finished)
			{
				this._chunkLoaded();
				return;
			}

			xhr = new XMLHttpRequest();

			if (this._config.withCredentials)
			{
				xhr.withCredentials = this._config.withCredentials;
			}

			if (!IS_WORKER)
			{
				xhr.onload = bindFunction(this._chunkLoaded, this);
				xhr.onerror = bindFunction(this._chunkError, this);
			}

			xhr.open(this._config.downloadRequestBody ? 'POST' : 'GET', this._input, !IS_WORKER);
			if (this._config.downloadRequestHeaders)
			{
				var headers = this._config.downloadRequestHeaders;

				for (var headerName in headers)
				{
					xhr.setRequestHeader(headerName, headers[headerName]);
				}
			}

			if (this._config.chunkSize)
			{
				var end = this._start + this._config.chunkSize - 1;	
				xhr.setRequestHeader('Range', 'bytes=' + this._start + '-' + end);
			}

			try {
				xhr.send(this._config.downloadRequestBody);
			}
			catch (err) {
				this._chunkError(err.message);
			}

			if (IS_WORKER && xhr.status === 0)
				this._chunkError();
		};

		this._chunkLoaded = function()
		{
			if (xhr.readyState !== 4)
				return;

			if (xhr.status < 200 || xhr.status >= 400)
			{
				this._chunkError();
				return;
			}

			this._start += this._config.chunkSize ? this._config.chunkSize : xhr.responseText.length;
			this._finished = !this._config.chunkSize || this._start >= getFileSize(xhr);
			this.parseChunk(xhr.responseText);
		};

		this._chunkError = function(errorMessage)
		{
			var errorText = xhr.statusText || errorMessage;
			this._sendError(new Error(errorText));
		};

		function getFileSize(xhr)
		{
			var contentRange = xhr.getResponseHeader('Content-Range');
			if (contentRange === null) { 
				return -1;
			}
			return parseInt(contentRange.substring(contentRange.lastIndexOf('/') + 1));
		}
	}
	NetworkStreamer.prototype = Object.create(ChunkStreamer.prototype);
	NetworkStreamer.prototype.constructor = NetworkStreamer;


	function FileStreamer(config)
	{
		config = config || {};
		if (!config.chunkSize)
			config.chunkSize = Papa.LocalChunkSize;
		ChunkStreamer.call(this, config);

		var reader, slice;

		var usingAsyncReader = typeof FileReader !== 'undefined';	

		this.stream = function(file)
		{
			this._input = file;
			slice = file.slice || file.webkitSlice || file.mozSlice;

			if (usingAsyncReader)
			{
				reader = new FileReader();		
				reader.onload = bindFunction(this._chunkLoaded, this);
				reader.onerror = bindFunction(this._chunkError, this);
			}
			else
				reader = new FileReaderSync();	

			this._nextChunk();	
		};

		this._nextChunk = function()
		{
			if (!this._finished && (!this._config.preview || this._rowCount < this._config.preview))
				this._readChunk();
		};

		this._readChunk = function()
		{
			var input = this._input;
			if (this._config.chunkSize)
			{
				var end = Math.min(this._start + this._config.chunkSize, this._input.size);
				input = slice.call(input, this._start, end);
			}
			var txt = reader.readAsText(input, this._config.encoding);
			if (!usingAsyncReader)
				this._chunkLoaded({ target: { result: txt } });	
		};

		this._chunkLoaded = function(event)
		{
			this._start += this._config.chunkSize;
			this._finished = !this._config.chunkSize || this._start >= this._input.size;
			this.parseChunk(event.target.result);
		};

		this._chunkError = function()
		{
			this._sendError(reader.error);
		};

	}
	FileStreamer.prototype = Object.create(ChunkStreamer.prototype);
	FileStreamer.prototype.constructor = FileStreamer;


	function StringStreamer(config)
	{
		config = config || {};
		ChunkStreamer.call(this, config);

		var remaining;
		this.stream = function(s)
		{
			remaining = s;
			return this._nextChunk();
		};
		this._nextChunk = function()
		{
			if (this._finished) return;
			var size = this._config.chunkSize;
			var chunk;
			if(size) {
				chunk = remaining.substring(0, size);
				remaining = remaining.substring(size);
			} else {
				chunk = remaining;
				remaining = '';
			}
			this._finished = !remaining;
			return this.parseChunk(chunk);
		};
	}
	StringStreamer.prototype = Object.create(StringStreamer.prototype);
	StringStreamer.prototype.constructor = StringStreamer;


	function ReadableStreamStreamer(config)
	{
		config = config || {};

		ChunkStreamer.call(this, config);

		var queue = [];
		var parseOnData = true;
		var streamHasEnded = false;

		this.pause = function()
		{
			ChunkStreamer.prototype.pause.apply(this, arguments);
			this._input.pause();
		};

		this.resume = function()
		{
			ChunkStreamer.prototype.resume.apply(this, arguments);
			this._input.resume();
		};

		this.stream = function(stream)
		{
			this._input = stream;

			this._input.on('data', this._streamData);
			this._input.on('end', this._streamEnd);
			this._input.on('error', this._streamError);
		};

		this._checkIsFinished = function()
		{
			if (streamHasEnded && queue.length === 1) {
				this._finished = true;
			}
		};

		this._nextChunk = function()
		{
			this._checkIsFinished();
			if (queue.length)
			{
				this.parseChunk(queue.shift());
			}
			else
			{
				parseOnData = true;
			}
		};

		this._streamData = bindFunction(function(chunk)
		{
			try
			{
				queue.push(typeof chunk === 'string' ? chunk : chunk.toString(this._config.encoding));

				if (parseOnData)
				{
					parseOnData = false;
					this._checkIsFinished();
					this.parseChunk(queue.shift());
				}
			}
			catch (error)
			{
				this._streamError(error);
			}
		}, this);

		this._streamError = bindFunction(function(error)
		{
			this._streamCleanUp();
			this._sendError(error);
		}, this);

		this._streamEnd = bindFunction(function()
		{
			this._streamCleanUp();
			streamHasEnded = true;
			this._streamData('');
		}, this);

		this._streamCleanUp = bindFunction(function()
		{
			this._input.removeListener('data', this._streamData);
			this._input.removeListener('end', this._streamEnd);
			this._input.removeListener('error', this._streamError);
		}, this);
	}
	ReadableStreamStreamer.prototype = Object.create(ChunkStreamer.prototype);
	ReadableStreamStreamer.prototype.constructor = ReadableStreamStreamer;


	function DuplexStreamStreamer(_config) {
		var Duplex = require('stream').Duplex;
		var config = copy(_config);
		var parseOnWrite = true;
		var writeStreamHasFinished = false;
		var parseCallbackQueue = [];
		var stream = null;

		this._onCsvData = function(results)
		{
			var data = results.data;
			if (!stream.push(data) && !this._handle.paused()) {
				this._handle.pause();
			}
		};

		this._onCsvComplete = function()
		{
			stream.push(null);
		};

		config.step = bindFunction(this._onCsvData, this);
		config.complete = bindFunction(this._onCsvComplete, this);
		ChunkStreamer.call(this, config);

		this._nextChunk = function()
		{
			if (writeStreamHasFinished && parseCallbackQueue.length === 1) {
				this._finished = true;
			}
			if (parseCallbackQueue.length) {
				parseCallbackQueue.shift()();
			} else {
				parseOnWrite = true;
			}
		};

		this._addToParseQueue = function(chunk, callback)
		{
			parseCallbackQueue.push(bindFunction(function() {
				this.parseChunk(typeof chunk === 'string' ? chunk : chunk.toString(config.encoding));
				if (isFunction(callback)) {
					return callback();
				}
			}, this));
			if (parseOnWrite) {
				parseOnWrite = false;
				this._nextChunk();
			}
		};

		this._onRead = function()
		{
			if (this._handle.paused()) {
				this._handle.resume();
			}
		};

		this._onWrite = function(chunk, encoding, callback)
		{
			this._addToParseQueue(chunk, callback);
		};

		this._onWriteComplete = function()
		{
			writeStreamHasFinished = true;
			this._addToParseQueue('');
		};

		this.getStream = function()
		{
			return stream;
		};
		stream = new Duplex({
			readableObjectMode: true,
			decodeStrings: false,
			read: bindFunction(this._onRead, this),
			write: bindFunction(this._onWrite, this)
		});
		stream.once('finish', bindFunction(this._onWriteComplete, this));
	}
	if (typeof PAPA_BROWSER_CONTEXT === 'undefined') {
		DuplexStreamStreamer.prototype = Object.create(ChunkStreamer.prototype);
		DuplexStreamStreamer.prototype.constructor = DuplexStreamStreamer;
	}


	function ParserHandle(_config)
	{
		var MAX_FLOAT = Math.pow(2, 53);
		var MIN_FLOAT = -MAX_FLOAT;
		var FLOAT = /^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/;
		var ISO_DATE = /^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/;
		var self = this;
		var _stepCounter = 0;	
		var _rowCounter = 0;	
		var _input;				
		var _parser;			
		var _paused = false;	
		var _aborted = false;	
		var _delimiterError;	
		var _fields = [];		
		var _results = {		
			data: [],
			errors: [],
			meta: {}
		};

		if (isFunction(_config.step))
		{
			var userStep = _config.step;
			_config.step = function(results)
			{
				_results = results;

				if (needsHeaderRow())
					processResults();
				else	
				{
					processResults();

					if (_results.data.length === 0)
						return;

					_stepCounter += results.data.length;
					if (_config.preview && _stepCounter > _config.preview)
						_parser.abort();
					else {
						_results.data = _results.data[0];
						userStep(_results, self);
					}
				}
			};
		}

		this.parse = function(input, baseIndex, ignoreLastRow)
		{
			var quoteChar = _config.quoteChar || '"';
			if (!_config.newline)
				_config.newline = guessLineEndings(input, quoteChar);

			_delimiterError = false;
			if (!_config.delimiter)
			{
				var delimGuess = guessDelimiter(input, _config.newline, _config.skipEmptyLines, _config.comments, _config.delimitersToGuess);
				if (delimGuess.successful)
					_config.delimiter = delimGuess.bestDelimiter;
				else
				{
					_delimiterError = true;	
					_config.delimiter = Papa.DefaultDelimiter;
				}
				_results.meta.delimiter = _config.delimiter;
			}
			else if(isFunction(_config.delimiter))
			{
				_config.delimiter = _config.delimiter(input);
				_results.meta.delimiter = _config.delimiter;
			}

			var parserConfig = copy(_config);
			if (_config.preview && _config.header)
				parserConfig.preview++;	

			_input = input;
			_parser = new Parser(parserConfig);
			_results = _parser.parse(_input, baseIndex, ignoreLastRow);
			processResults();
			return _paused ? { meta: { paused: true } } : (_results || { meta: { paused: false } });
		};

		this.paused = function()
		{
			return _paused;
		};

		this.pause = function()
		{
			_paused = true;
			_parser.abort();

			_input = isFunction(_config.chunk) ? "" : _input.substring(_parser.getCharIndex());
		};

		this.resume = function()
		{
			if(self.streamer._halted) {
				_paused = false;
				self.streamer.parseChunk(_input, true);
			} else {
				setTimeout(self.resume, 3);
			}
		};

		this.aborted = function()
		{
			return _aborted;
		};

		this.abort = function()
		{
			_aborted = true;
			_parser.abort();
			_results.meta.aborted = true;
			if (isFunction(_config.complete))
				_config.complete(_results);
			_input = '';
		};

		function testEmptyLine(s) {
			return _config.skipEmptyLines === 'greedy' ? s.join('').trim() === '' : s.length === 1 && s[0].length === 0;
		}

		function testFloat(s) {
			if (FLOAT.test(s)) {
				var floatValue = parseFloat(s);
				if (floatValue > MIN_FLOAT && floatValue < MAX_FLOAT) {
					return true;
				}
			}
			return false;
		}

		function processResults()
		{
			if (_results && _delimiterError)
			{
				addError('Delimiter', 'UndetectableDelimiter', 'Unable to auto-detect delimiting character; defaulted to \'' + Papa.DefaultDelimiter + '\'');
				_delimiterError = false;
			}

			if (_config.skipEmptyLines)
			{
				_results.data = _results.data.filter(function(d) {
					return !testEmptyLine(d);
				});
			}

			if (needsHeaderRow())
				fillHeaderFields();

			return applyHeaderAndDynamicTypingAndTransformation();
		}

		function needsHeaderRow()
		{
			return _config.header && _fields.length === 0;
		}

		function fillHeaderFields()
		{
			if (!_results)
				return;

			function addHeader(header, i)
			{
				if (isFunction(_config.transformHeader))
					header = _config.transformHeader(header, i);

				_fields.push(header);
			}

			if (Array.isArray(_results.data[0]))
			{
				for (var i = 0; needsHeaderRow() && i < _results.data.length; i++)
					_results.data[i].forEach(addHeader);

				_results.data.splice(0, 1);
			}
			else
				_results.data.forEach(addHeader);
		}

		function shouldApplyDynamicTyping(field) {
			if (_config.dynamicTypingFunction && _config.dynamicTyping[field] === undefined) {
				_config.dynamicTyping[field] = _config.dynamicTypingFunction(field);
			}
			return (_config.dynamicTyping[field] || _config.dynamicTyping) === true;
		}

		function parseDynamic(field, value)
		{
			if (shouldApplyDynamicTyping(field))
			{
				if (value === 'true' || value === 'TRUE')
					return true;
				else if (value === 'false' || value === 'FALSE')
					return false;
				else if (testFloat(value))
					return parseFloat(value);
				else if (ISO_DATE.test(value))
					return new Date(value);
				else
					return (value === '' ? null : value);
			}
			return value;
		}

		function applyHeaderAndDynamicTypingAndTransformation()
		{
			if (!_results || (!_config.header && !_config.dynamicTyping && !_config.transform))
				return _results;

			function processRow(rowSource, i)
			{
				var row = _config.header ? {} : [];

				var j;
				for (j = 0; j < rowSource.length; j++)
				{
					var field = j;
					var value = rowSource[j];

					if (_config.header)
						field = j >= _fields.length ? '__parsed_extra' : _fields[j];

					if (_config.transform)
						value = _config.transform(value,field);

					value = parseDynamic(field, value);

					if (field === '__parsed_extra')
					{
						row[field] = row[field] || [];
						row[field].push(value);
					}
					else
						row[field] = value;
				}


				if (_config.header)
				{
					if (j > _fields.length)
						addError('FieldMismatch', 'TooManyFields', 'Too many fields: expected ' + _fields.length + ' fields but parsed ' + j, _rowCounter + i);
					else if (j < _fields.length)
						addError('FieldMismatch', 'TooFewFields', 'Too few fields: expected ' + _fields.length + ' fields but parsed ' + j, _rowCounter + i);
				}

				return row;
			}

			var incrementBy = 1;
			if (!_results.data.length || Array.isArray(_results.data[0]))
			{
				_results.data = _results.data.map(processRow);
				incrementBy = _results.data.length;
			}
			else
				_results.data = processRow(_results.data, 0);


			if (_config.header && _results.meta)
				_results.meta.fields = _fields;

			_rowCounter += incrementBy;
			return _results;
		}

		function guessDelimiter(input, newline, skipEmptyLines, comments, delimitersToGuess) {
			var bestDelim, bestDelta, fieldCountPrevRow, maxFieldCount;

			delimitersToGuess = delimitersToGuess || [',', '\t', '|', ';', Papa.RECORD_SEP, Papa.UNIT_SEP];

			for (var i = 0; i < delimitersToGuess.length; i++) {
				var delim = delimitersToGuess[i];
				var delta = 0, avgFieldCount = 0, emptyLinesCount = 0;
				fieldCountPrevRow = undefined;

				var preview = new Parser({
					comments: comments,
					delimiter: delim,
					newline: newline,
					preview: 10
				}).parse(input);

				for (var j = 0; j < preview.data.length; j++) {
					if (skipEmptyLines && testEmptyLine(preview.data[j])) {
						emptyLinesCount++;
						continue;
					}
					var fieldCount = preview.data[j].length;
					avgFieldCount += fieldCount;

					if (typeof fieldCountPrevRow === 'undefined') {
						fieldCountPrevRow = fieldCount;
						continue;
					}
					else if (fieldCount > 0) {
						delta += Math.abs(fieldCount - fieldCountPrevRow);
						fieldCountPrevRow = fieldCount;
					}
				}

				if (preview.data.length > 0)
					avgFieldCount /= (preview.data.length - emptyLinesCount);

				if ((typeof bestDelta === 'undefined' || delta <= bestDelta)
					&& (typeof maxFieldCount === 'undefined' || avgFieldCount > maxFieldCount) && avgFieldCount > 1.99) {
					bestDelta = delta;
					bestDelim = delim;
					maxFieldCount = avgFieldCount;
				}
			}

			_config.delimiter = bestDelim;

			return {
				successful: !!bestDelim,
				bestDelimiter: bestDelim
			};
		}

		function guessLineEndings(input, quoteChar)
		{
			input = input.substring(0, 1024 * 1024);	
			var re = new RegExp(escapeRegExp(quoteChar) + '([^]*?)' + escapeRegExp(quoteChar), 'gm');
			input = input.replace(re, '');

			var r = input.split('\r');

			var n = input.split('\n');

			var nAppearsFirst = (n.length > 1 && n[0].length < r[0].length);

			if (r.length === 1 || nAppearsFirst)
				return '\n';

			var numWithN = 0;
			for (var i = 0; i < r.length; i++)
			{
				if (r[i][0] === '\n')
					numWithN++;
			}

			return numWithN >= r.length / 2 ? '\r\n' : '\r';
		}

		function addError(type, code, msg, row)
		{
			var error = {
				type: type,
				code: code,
				message: msg
			};
			if(row !== undefined) {
				error.row = row;
			}
			_results.errors.push(error);
		}
	}

	function escapeRegExp(string)
	{
		return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); 
	}

	function Parser(config)
	{
		config = config || {};
		var delim = config.delimiter;
		var newline = config.newline;
		var comments = config.comments;
		var step = config.step;
		var preview = config.preview;
		var fastMode = config.fastMode;
		var quoteChar;
		if (config.quoteChar === undefined || config.quoteChar === null) {
			quoteChar = '"';
		} else {
			quoteChar = config.quoteChar;
		}
		var escapeChar = quoteChar;
		if (config.escapeChar !== undefined) {
			escapeChar = config.escapeChar;
		}

		if (typeof delim !== 'string'
			|| Papa.BAD_DELIMITERS.indexOf(delim) > -1)
			delim = ',';

		if (comments === delim)
			throw new Error('Comment character same as delimiter');
		else if (comments === true)
			comments = '#';
		else if (typeof comments !== 'string'
			|| Papa.BAD_DELIMITERS.indexOf(comments) > -1)
			comments = false;

		if (newline !== '\n' && newline !== '\r' && newline !== '\r\n')
			newline = '\n';

		var cursor = 0;
		var aborted = false;

		this.parse = function(input, baseIndex, ignoreLastRow)
		{
			if (typeof input !== 'string')
				throw new Error('Input must be a string');

			var inputLen = input.length,
				delimLen = delim.length,
				newlineLen = newline.length,
				commentsLen = comments.length;
			var stepIsFunction = isFunction(step);

			cursor = 0;
			var data = [], errors = [], row = [], lastCursor = 0;

			if (!input)
				return returnable();

			if (config.header && !baseIndex)
			{
				var firstLine = input.split(newline)[0];
				var headers = firstLine.split(delim);
				var separator = '_';
				var headerMap = [];
				var headerCount = {};
				var duplicateHeaders = false;

				for (var j in headers) {
					var header = headers[j];
					if (isFunction(config.transformHeader))
						header = config.transformHeader(header, j);
					var headerName = header;

					var count = headerCount[header] || 0;
					if (count > 0) {
						duplicateHeaders = true;
						headerName = header + separator + count;
					}
					headerCount[header] = count + 1;
					while (headerMap.includes(headerName)) {
						headerName = headerName + separator + count;
					}
					headerMap.push(headerName);
				}
				if (duplicateHeaders) {
					var editedInput = input.split(newline);
					editedInput[0] = headerMap.join(delim);
					input = editedInput.join(newline);
				}
			}
			if (fastMode || (fastMode !== false && input.indexOf(quoteChar) === -1))
			{
				var rows = input.split(newline);
				for (var i = 0; i < rows.length; i++)
				{
					row = rows[i];
					cursor += row.length;
					if (i !== rows.length - 1)
						cursor += newline.length;
					else if (ignoreLastRow)
						return returnable();
					if (comments && row.substring(0, commentsLen) === comments)
						continue;
					if (stepIsFunction)
					{
						data = [];
						pushRow(row.split(delim));
						doStep();
						if (aborted)
							return returnable();
					}
					else
						pushRow(row.split(delim));
					if (preview && i >= preview)
					{
						data = data.slice(0, preview);
						return returnable(true);
					}
				}
				return returnable();
			}

			var nextDelim = input.indexOf(delim, cursor);
			var nextNewline = input.indexOf(newline, cursor);
			var quoteCharRegex = new RegExp(escapeRegExp(escapeChar) + escapeRegExp(quoteChar), 'g');
			var quoteSearch = input.indexOf(quoteChar, cursor);

			for (;;)
			{
				if (input[cursor] === quoteChar)
				{
					quoteSearch = cursor;

					cursor++;

					for (;;)
					{
						quoteSearch = input.indexOf(quoteChar, quoteSearch + 1);

						if (quoteSearch === -1)
						{
							if (!ignoreLastRow) {
								errors.push({
									type: 'Quotes',
									code: 'MissingQuotes',
									message: 'Quoted field unterminated',
									row: data.length,	
									index: cursor
								});
							}
							return finish();
						}

						if (quoteSearch === inputLen - 1)
						{
							var value = input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar);
							return finish(value);
						}

						if (quoteChar === escapeChar &&  input[quoteSearch + 1] === escapeChar)
						{
							quoteSearch++;
							continue;
						}

						if (quoteChar !== escapeChar && quoteSearch !== 0 && input[quoteSearch - 1] === escapeChar)
						{
							continue;
						}

						if(nextDelim !== -1 && nextDelim < (quoteSearch + 1)) {
							nextDelim = input.indexOf(delim, (quoteSearch + 1));
						}
						if(nextNewline !== -1 && nextNewline < (quoteSearch + 1)) {
							nextNewline = input.indexOf(newline, (quoteSearch + 1));
						}
						var checkUpTo = nextNewline === -1 ? nextDelim : Math.min(nextDelim, nextNewline);
						var spacesBetweenQuoteAndDelimiter = extraSpaces(checkUpTo);

						if (input.substr(quoteSearch + 1 + spacesBetweenQuoteAndDelimiter, delimLen) === delim)
						{
							row.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));
							cursor = quoteSearch + 1 + spacesBetweenQuoteAndDelimiter + delimLen;

							if (input[quoteSearch + 1 + spacesBetweenQuoteAndDelimiter + delimLen] !== quoteChar)
							{
								quoteSearch = input.indexOf(quoteChar, cursor);
							}
							nextDelim = input.indexOf(delim, cursor);
							nextNewline = input.indexOf(newline, cursor);
							break;
						}

						var spacesBetweenQuoteAndNewLine = extraSpaces(nextNewline);

						if (input.substring(quoteSearch + 1 + spacesBetweenQuoteAndNewLine, quoteSearch + 1 + spacesBetweenQuoteAndNewLine + newlineLen) === newline)
						{
							row.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));
							saveRow(quoteSearch + 1 + spacesBetweenQuoteAndNewLine + newlineLen);
							nextDelim = input.indexOf(delim, cursor);	
							quoteSearch = input.indexOf(quoteChar, cursor);	

							if (stepIsFunction)
							{
								doStep();
								if (aborted)
									return returnable();
							}

							if (preview && data.length >= preview)
								return returnable(true);

							break;
						}


						errors.push({
							type: 'Quotes',
							code: 'InvalidQuotes',
							message: 'Trailing quote on quoted field is malformed',
							row: data.length,	
							index: cursor
						});

						quoteSearch++;
						continue;

					}

					continue;
				}

				if (comments && row.length === 0 && input.substring(cursor, cursor + commentsLen) === comments)
				{
					if (nextNewline === -1)	
						return returnable();
					cursor = nextNewline + newlineLen;
					nextNewline = input.indexOf(newline, cursor);
					nextDelim = input.indexOf(delim, cursor);
					continue;
				}

				if (nextDelim !== -1 && (nextDelim < nextNewline || nextNewline === -1))
				{
					row.push(input.substring(cursor, nextDelim));
					cursor = nextDelim + delimLen;
					nextDelim = input.indexOf(delim, cursor);
					continue;
				}

				if (nextNewline !== -1)
				{
					row.push(input.substring(cursor, nextNewline));
					saveRow(nextNewline + newlineLen);

					if (stepIsFunction)
					{
						doStep();
						if (aborted)
							return returnable();
					}

					if (preview && data.length >= preview)
						return returnable(true);

					continue;
				}

				break;
			}


			return finish();


			function pushRow(row)
			{
				data.push(row);
				lastCursor = cursor;
			}

			function extraSpaces(index) {
				var spaceLength = 0;
				if (index !== -1) {
					var textBetweenClosingQuoteAndIndex = input.substring(quoteSearch + 1, index);
					if (textBetweenClosingQuoteAndIndex && textBetweenClosingQuoteAndIndex.trim() === '') {
						spaceLength = textBetweenClosingQuoteAndIndex.length;
					}
				}
				return spaceLength;
			}

			function finish(value)
			{
				if (ignoreLastRow)
					return returnable();
				if (typeof value === 'undefined')
					value = input.substring(cursor);
				row.push(value);
				cursor = inputLen;	
				pushRow(row);
				if (stepIsFunction)
					doStep();
				return returnable();
			}

			function saveRow(newCursor)
			{
				cursor = newCursor;
				pushRow(row);
				row = [];
				nextNewline = input.indexOf(newline, cursor);
			}

			function returnable(stopped)
			{
				return {
					data: data,
					errors: errors,
					meta: {
						delimiter: delim,
						linebreak: newline,
						aborted: aborted,
						truncated: !!stopped,
						cursor: lastCursor + (baseIndex || 0)
					}
				};
			}

			function doStep()
			{
				step(returnable());
				data = [];
				errors = [];
			}
		};

		this.abort = function()
		{
			aborted = true;
		};

		this.getCharIndex = function()
		{
			return cursor;
		};
	}


	function newWorker()
	{
		if (!Papa.WORKERS_SUPPORTED)
			return false;

		var workerUrl = getWorkerBlob();
		var w = new global.Worker(workerUrl);
		w.onmessage = mainThreadReceivedMessage;
		w.id = workerIdCounter++;
		workers[w.id] = w;
		return w;
	}

	function mainThreadReceivedMessage(e)
	{
		var msg = e.data;
		var worker = workers[msg.workerId];
		var aborted = false;

		if (msg.error)
			worker.userError(msg.error, msg.file);
		else if (msg.results && msg.results.data)
		{
			var abort = function() {
				aborted = true;
				completeWorker(msg.workerId, { data: [], errors: [], meta: { aborted: true } });
			};

			var handle = {
				abort: abort,
				pause: notImplemented,
				resume: notImplemented
			};

			if (isFunction(worker.userStep))
			{
				for (var i = 0; i < msg.results.data.length; i++)
				{
					worker.userStep({
						data: msg.results.data[i],
						errors: msg.results.errors,
						meta: msg.results.meta
					}, handle);
					if (aborted)
						break;
				}
				delete msg.results;	
			}
			else if (isFunction(worker.userChunk))
			{
				worker.userChunk(msg.results, handle, msg.file);
				delete msg.results;
			}
		}

		if (msg.finished && !aborted)
			completeWorker(msg.workerId, msg.results);
	}

	function completeWorker(workerId, results) {
		var worker = workers[workerId];
		if (isFunction(worker.userComplete))
			worker.userComplete(results);
		worker.terminate();
		delete workers[workerId];
	}

	function notImplemented() {
		throw new Error('Not implemented.');
	}

	function workerThreadReceivedMessage(e)
	{
		var msg = e.data;

		if (typeof Papa.WORKER_ID === 'undefined' && msg)
			Papa.WORKER_ID = msg.workerId;

		if (typeof msg.input === 'string')
		{
			global.postMessage({
				workerId: Papa.WORKER_ID,
				results: Papa.parse(msg.input, msg.config),
				finished: true
			});
		}
		else if ((global.File && msg.input instanceof File) || msg.input instanceof Object)	
		{
			var results = Papa.parse(msg.input, msg.config);
			if (results)
				global.postMessage({
					workerId: Papa.WORKER_ID,
					results: results,
					finished: true
				});
		}
	}

	function copy(obj)
	{
		if (typeof obj !== 'object' || obj === null)
			return obj;
		var cpy = Array.isArray(obj) ? [] : {};
		for (var key in obj)
			cpy[key] = copy(obj[key]);
		return cpy;
	}

	function bindFunction(f, self)
	{
		return function() { f.apply(self, arguments); };
	}

	function isFunction(func)
	{
		return typeof func === 'function';
	}

	return Papa;
}));

var XLSX={};function make_xlsx_lib(e){e.version="0.18.5";var r=1200,t=1252;var a;if(typeof cptable!=="undefined")a=cptable;else if(typeof module!=="undefined"&&typeof require!=="undefined"){a=undefined}var n=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4];var i={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969};var s=function(e){if(n.indexOf(e)==-1)return;t=i[0]=e};function f(){s(1252)}var o=function(e){r=e;s(e)};function c(){o(1200);f()}function l(e){var r=[];for(var t=0,a=e.length;t<a;++t)r[t]=e.charCodeAt(t);return r}function u(e){var r=[];for(var t=0;t<e.length>>1;++t)r[t]=String.fromCharCode(e.charCodeAt(2*t)+(e.charCodeAt(2*t+1)<<8));return r.join("")}function h(e){var r=[];for(var t=0;t<e.length>>1;++t)r[t]=String.fromCharCode(e.charCodeAt(2*t+1)+(e.charCodeAt(2*t)<<8));return r.join("")}var d=function(e){var r=e.charCodeAt(0),t=e.charCodeAt(1);if(r==255&&t==254)return u(e.slice(2));if(r==254&&t==255)return h(e.slice(2));if(r==65279)return e.slice(1);return e};var v=function Yw(e){return String.fromCharCode(e)};var p=function Kw(e){return String.fromCharCode(e)};if(typeof a!=="undefined"){o=function(e){r=e;s(e)};d=function(e){if(e.charCodeAt(0)===255&&e.charCodeAt(1)===254){return a.utils.decode(1200,l(e.slice(2)))}return e};v=function Jw(e){if(r===1200)return String.fromCharCode(e);return a.utils.decode(r,[e&255,e>>8])[0]};p=function qw(e){return a.utils.decode(t,[e])[0]}}var m=null;var b=true;var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function w(e){var r="";var t=0,a=0,n=0,i=0,s=0,f=0,o=0;for(var c=0;c<e.length;){t=e.charCodeAt(c++);i=t>>2;a=e.charCodeAt(c++);s=(t&3)<<4|a>>4;n=e.charCodeAt(c++);f=(a&15)<<2|n>>6;o=n&63;if(isNaN(a)){f=o=64}else if(isNaN(n)){o=64}r+=g.charAt(i)+g.charAt(s)+g.charAt(f)+g.charAt(o)}return r}function k(e){var r="";var t=0,a=0,n=0,i=0,s=0,f=0,o=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;){i=g.indexOf(e.charAt(c++));s=g.indexOf(e.charAt(c++));t=i<<2|s>>4;r+=String.fromCharCode(t);f=g.indexOf(e.charAt(c++));a=(s&15)<<4|f>>2;if(f!==64){r+=String.fromCharCode(a)}o=g.indexOf(e.charAt(c++));n=(f&3)<<6|o;if(o!==64){r+=String.fromCharCode(n)}}return r}var T=function(){return typeof Buffer!=="undefined"&&typeof undefined!=="undefined"&&typeof{}!=="undefined"&&!!{}.node}();var E=function(){if(typeof Buffer!=="undefined"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(r){e=true}return e?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function y(e){if(T)return Buffer.alloc?Buffer.alloc(e):new Buffer(e);return typeof Uint8Array!="undefined"?new Uint8Array(e):new Array(e)}function S(e){if(T)return Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e);return typeof Uint8Array!="undefined"?new Uint8Array(e):new Array(e)}var _=function Zw(e){if(T)return E(e,"binary");return e.split("").map(function(e){return e.charCodeAt(0)&255})};function A(e){if(typeof ArrayBuffer==="undefined")return _(e);var r=new ArrayBuffer(e.length),t=new Uint8Array(r);for(var a=0;a!=e.length;++a)t[a]=e.charCodeAt(a)&255;return r}function x(e){if(Array.isArray(e))return e.map(function(e){return String.fromCharCode(e)}).join("");var r=[];for(var t=0;t<e.length;++t)r[t]=String.fromCharCode(e[t]);return r.join("")}function C(e){if(typeof Uint8Array==="undefined")throw new Error("Unsupported");return new Uint8Array(e)}function R(e){if(typeof ArrayBuffer=="undefined")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return R(new Uint8Array(e));var r=new Array(e.length);for(var t=0;t<e.length;++t)r[t]=e[t];return r}var O=T?function(e){return Buffer.concat(e.map(function(e){return Buffer.isBuffer(e)?e:E(e)}))}:function(e){if(typeof Uint8Array!=="undefined"){var r=0,t=0;for(r=0;r<e.length;++r)t+=e[r].length;var a=new Uint8Array(t);var n=0;for(r=0,t=0;r<e.length;t+=n,++r){n=e[r].length;if(e[r]instanceof Uint8Array)a.set(e[r],t);else if(typeof e[r]=="string"){throw"wtf"}else a.set(new Uint8Array(e[r]),t)}return a}return[].concat.apply([],e.map(function(e){return Array.isArray(e)?e:[].slice.call(e)}))};function I(e){var r=[],t=0,a=e.length+250;var n=y(e.length+255);for(var i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)n[t++]=s;else if(s<2048){n[t++]=192|s>>6&31;n[t++]=128|s&63}else if(s>=55296&&s<57344){s=(s&1023)+64;var f=e.charCodeAt(++i)&1023;n[t++]=240|s>>8&7;n[t++]=128|s>>2&63;n[t++]=128|f>>6&15|(s&3)<<4;n[t++]=128|f&63}else{n[t++]=224|s>>12&15;n[t++]=128|s>>6&63;n[t++]=128|s&63}if(t>a){r.push(n.slice(0,t));t=0;n=y(65535);a=65530}}r.push(n.slice(0,t));return O(r)}var N=/\u0000/g,F=/[\u0001-\u0006]/g;function D(e){var r="",t=e.length-1;while(t>=0)r+=e.charAt(t--);return r}function P(e,r){var t=""+e;return t.length>=r?t:wr("0",r-t.length)+t}function L(e,r){var t=""+e;return t.length>=r?t:wr(" ",r-t.length)+t}function M(e,r){var t=""+e;return t.length>=r?t:t+wr(" ",r-t.length)}function U(e,r){var t=""+Math.round(e);return t.length>=r?t:wr("0",r-t.length)+t}function B(e,r){var t=""+e;return t.length>=r?t:wr("0",r-t.length)+t}var W=Math.pow(2,32);function H(e,r){if(e>W||e<-W)return U(e,r);var t=Math.round(e);return B(t,r)}function z(e,r){r=r||0;return e.length>=7+r&&(e.charCodeAt(r)|32)===103&&(e.charCodeAt(r+1)|32)===101&&(e.charCodeAt(r+2)|32)===110&&(e.charCodeAt(r+3)|32)===101&&(e.charCodeAt(r+4)|32)===114&&(e.charCodeAt(r+5)|32)===97&&(e.charCodeAt(r+6)|32)===108}var V=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]];var G=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function j(e){if(!e)e={};e[0]="General";e[1]="0";e[2]="0.00";e[3]="#,##0";e[4]="#,##0.00";e[9]="0%";e[10]="0.00%";e[11]="0.00E+00";e[12]="# ?/?";e[13]="# ??/??";e[14]="m/d/yy";e[15]="d-mmm-yy";e[16]="d-mmm";e[17]="mmm-yy";e[18]="h:mm AM/PM";e[19]="h:mm:ss AM/PM";e[20]="h:mm";e[21]="h:mm:ss";e[22]="m/d/yy h:mm";e[37]="#,##0 ;(#,##0)";e[38]="#,##0 ;[Red](#,##0)";e[39]="#,##0.00;(#,##0.00)";e[40]="#,##0.00;[Red](#,##0.00)";e[45]="mm:ss";e[46]="[h]:mm:ss";e[47]="mmss.0";e[48]="##0.0E+0";e[49]="@";e[56]='"/ "hh""mm""ss" "';return e}var X={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'};var Y={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0};var K={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function J(e,r,t){var a=e<0?-1:1;var n=e*a;var i=0,s=1,f=0;var o=1,c=0,l=0;var u=Math.floor(n);while(c<r){u=Math.floor(n);f=u*s+i;l=u*c+o;if(n-u<5e-8)break;n=1/(n-u);i=s;s=f;o=c;c=l}if(l>r){if(c>r){l=o;f=i}else{l=c;f=s}}if(!t)return[0,a*f,l];var h=Math.floor(a*f/l);return[h,a*f-h*l,l]}function q(e,r,t){if(e>2958465||e<0)return null;var a=e|0,n=Math.floor(86400*(e-a)),i=0;var s=[];var f={D:a,T:n,u:86400*(e-a)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(f.u)<1e-6)f.u=0;if(r&&r.date1904)a+=1462;if(f.u>.9999){f.u=0;if(++n==86400){f.T=n=0;++a;++f.D}}if(a===60){s=t?[1317,10,29]:[1900,2,29];i=3}else if(a===0){s=t?[1317,8,29]:[1900,1,0];i=6}else{if(a>60)--a;var o=new Date(1900,0,1);o.setDate(o.getDate()+a-1);s=[o.getFullYear(),o.getMonth()+1,o.getDate()];i=o.getDay();if(a<60)i=(i+6)%7;if(t)i=oe(o,s)}f.y=s[0];f.m=s[1];f.d=s[2];f.S=n%60;n=Math.floor(n/60);f.M=n%60;n=Math.floor(n/60);f.H=n;f.q=i;return f}var Z=new Date(1899,11,31,0,0,0);var Q=Z.getTime();var ee=new Date(1900,2,1,0,0,0);function re(e,r){var t=e.getTime();if(r)t-=1461*24*60*60*1e3;else if(e>=ee)t+=24*60*60*1e3;return(t-(Q+(e.getTimezoneOffset()-Z.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function te(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ae(e){if(e.indexOf("E")==-1)return e;return e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function ne(e){var r=e<0?12:11;var t=te(e.toFixed(12));if(t.length<=r)return t;t=e.toPrecision(10);if(t.length<=r)return t;return e.toExponential(5)}function ie(e){var r=te(e.toFixed(11));return r.length>(e<0?12:11)||r==="0"||r==="-0"?e.toPrecision(6):r}function se(e){var r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),t;if(r>=-4&&r<=-1)t=e.toPrecision(10+r);else if(Math.abs(r)<=9)t=ne(e);else if(r===10)t=e.toFixed(10).substr(0,12);else t=ie(e);return te(ae(t.toUpperCase()))}function fe(e,r){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):se(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Be(14,re(e,r&&r.date1904),r);}throw new Error("unsupported value in General format: "+e)}function oe(e,r){r[0]-=581;var t=e.getDay();if(e<60)t=(t+6)%7;return t}function ce(e,r,t,a){var n="",i=0,s=0,f=t.y,o,c=0;switch(e){case 98:f=t.y+543;case 121:switch(r.length){case 1:;case 2:o=f%100;c=2;break;default:o=f%1e4;c=4;break;}break;case 109:switch(r.length){case 1:;case 2:o=t.m;c=r.length;break;case 3:return G[t.m-1][1];case 5:return G[t.m-1][0];default:return G[t.m-1][2];}break;case 100:switch(r.length){case 1:;case 2:o=t.d;c=r.length;break;case 3:return V[t.q][0];default:return V[t.q][1];}break;case 104:switch(r.length){case 1:;case 2:o=1+(t.H+11)%12;c=r.length;break;default:throw"bad hour format: "+r;}break;case 72:switch(r.length){case 1:;case 2:o=t.H;c=r.length;break;default:throw"bad hour format: "+r;}break;case 77:switch(r.length){case 1:;case 2:o=t.M;c=r.length;break;default:throw"bad minute format: "+r;}break;case 115:if(r!="s"&&r!="ss"&&r!=".0"&&r!=".00"&&r!=".000")throw"bad second format: "+r;if(t.u===0&&(r=="s"||r=="ss"))return P(t.S,r.length);if(a>=2)s=a===3?1e3:100;else s=a===1?10:1;i=Math.round(s*(t.S+t.u));if(i>=60*s)i=0;if(r==="s")return i===0?"0":""+i/s;n=P(i,2+a);if(r==="ss")return n.substr(0,2);return"."+n.substr(2,r.length-1);case 90:switch(r){case"[h]":;case"[hh]":o=t.D*24+t.H;break;case"[m]":;case"[mm]":o=(t.D*24+t.H)*60+t.M;break;case"[s]":;case"[ss]":o=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+r;}c=r.length===3?1:2;break;case 101:o=f;c=1;break;}var l=c>0?P(o,c):"";return l}function le(e){var r=3;if(e.length<=r)return e;var t=e.length%r,a=e.substr(0,t);for(;t!=e.length;t+=r)a+=(a.length>0?",":"")+e.substr(t,r);return a}var ue=/%/g;function he(e,r,t){var a=r.replace(ue,""),n=r.length-a.length;return Ie(e,a,t*Math.pow(10,2*n))+wr("%",n)}function de(e,r,t){var a=r.length-1;while(r.charCodeAt(a-1)===44)--a;return Ie(e,r.substr(0,a),t/Math.pow(10,3*(r.length-a)))}function ve(e,r){var t;var a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";else if(r<0)return"-"+ve(e,-r);var n=e.indexOf(".");if(n===-1)n=e.indexOf("E");var i=Math.floor(Math.log(r)*Math.LOG10E)%n;if(i<0)i+=n;t=(r/Math.pow(10,i)).toPrecision(a+1+(n+i)%n);if(t.indexOf("e")===-1){var s=Math.floor(Math.log(r)*Math.LOG10E);if(t.indexOf(".")===-1)t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+i);else t+="E+"+(s-i);while(t.substr(0,2)==="0."){t=t.charAt(0)+t.substr(2,n)+"."+t.substr(2+n);t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.")}t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,r,t,a){return r+t+a.substr(0,(n+i)%n)+"."+a.substr(i)+"E"})}else t=r.toExponential(a);if(e.match(/E\+00$/)&&t.match(/e[+-]\d$/))t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1);if(e.match(/E\-/)&&t.match(/e\+/))t=t.replace(/e\+/,"e");return t.replace("e","E")}var pe=/# (\?+)( ?)\/( ?)(\d+)/;function me(e,r,t){var a=parseInt(e[4],10),n=Math.round(r*a),i=Math.floor(n/a);var s=n-i*a,f=a;return t+(i===0?"":""+i)+" "+(s===0?wr(" ",e[1].length+1+e[4].length):L(s,e[1].length)+e[2]+"/"+e[3]+P(f,e[4].length))}function be(e,r,t){return t+(r===0?"":""+r)+wr(" ",e[1].length+2+e[4].length)}var ge=/^#*0*\.([0#]+)/;var we=/\).*[0#]/;var ke=/\(###\) ###\\?-####/;function Te(e){var r="",t;for(var a=0;a!=e.length;++a)switch(t=e.charCodeAt(a)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(t);}return r}function Ee(e,r){var t=Math.pow(10,r);return""+Math.round(e*t)/t}function ye(e,r){var t=e-Math.floor(e),a=Math.pow(10,r);if(r<(""+Math.round(t*a)).length)return 0;return Math.round(t*a)}function Se(e,r){if(r<(""+Math.round((e-Math.floor(e))*Math.pow(10,r))).length){return 1}return 0}function _e(e){if(e<2147483647&&e>-2147483648)return""+(e>=0?e|0:e-1|0);return""+Math.floor(e)}function Ae(e,r,t){if(e.charCodeAt(0)===40&&!r.match(we)){var a=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");if(t>=0)return Ae("n",a,t);return"("+Ae("n",a,-t)+")"}if(r.charCodeAt(r.length-1)===44)return de(e,r,t);if(r.indexOf("%")!==-1)return he(e,r,t);if(r.indexOf("E")!==-1)return ve(r,t);if(r.charCodeAt(0)===36)return"$"+Ae(e,r.substr(r.charAt(1)==" "?2:1),t);var n;var i,s,f,o=Math.abs(t),c=t<0?"-":"";if(r.match(/^00+$/))return c+H(o,r.length);if(r.match(/^[#?]+$/)){n=H(t,0);if(n==="0")n="";return n.length>r.length?n:Te(r.substr(0,r.length-n.length))+n}if(i=r.match(pe))return me(i,o,c);if(r.match(/^#+0+$/))return c+H(o,r.length-r.indexOf("0"));if(i=r.match(ge)){n=Ee(t,i[1].length).replace(/^([^\.]+)$/,"$1."+Te(i[1])).replace(/\.$/,"."+Te(i[1])).replace(/\.(\d*)$/,function(e,r){return"."+r+wr("0",Te(i[1]).length-r.length)});return r.indexOf("0.")!==-1?n:n.replace(/^0\./,".")}r=r.replace(/^#+([0.])/,"$1");if(i=r.match(/^(0*)\.(#*)$/)){return c+Ee(o,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".")}if(i=r.match(/^#{1,3},##0(\.?)$/))return c+le(H(o,0));if(i=r.match(/^#,##0\.([#0]*0)$/)){return t<0?"-"+Ae(e,r,-t):le(""+(Math.floor(t)+Se(t,i[1].length)))+"."+P(ye(t,i[1].length),i[1].length)}if(i=r.match(/^#,#*,#0/))return Ae(e,r.replace(/^#,#*,/,""),t);if(i=r.match(/^([0#]+)(\\?-([0#]+))+$/)){n=D(Ae(e,r.replace(/[\\-]/g,""),t));s=0;return D(D(r.replace(/\\/g,"")).replace(/[0#]/g,function(e){return s<n.length?n.charAt(s++):e==="0"?"0":""}))}if(r.match(ke)){n=Ae(e,"##########",t);return"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6)}var l="";if(i=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/)){s=Math.min(i[4].length,7);f=J(o,Math.pow(10,s)-1,false);n=""+c;l=Ie("n",i[1],f[1]);if(l.charAt(l.length-1)==" ")l=l.substr(0,l.length-1)+"0";n+=l+i[2]+"/"+i[3];l=M(f[2],s);if(l.length<i[4].length)l=Te(i[4].substr(i[4].length-l.length))+l;n+=l;return n}if(i=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/)){s=Math.min(Math.max(i[1].length,i[4].length),7);f=J(o,Math.pow(10,s)-1,true);return c+(f[0]||(f[1]?"":"0"))+" "+(f[1]?L(f[1],s)+i[2]+"/"+i[3]+M(f[2],s):wr(" ",2*s+1+i[2].length+i[3].length))}if(i=r.match(/^[#0?]+$/)){n=H(t,0);if(r.length<=n.length)return n;return Te(r.substr(0,r.length-n.length))+n}if(i=r.match(/^([#0?]+)\.([#0]+)$/)){n=""+t.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1");s=n.indexOf(".");var u=r.indexOf(".")-s,h=r.length-n.length-u;return Te(r.substr(0,u)+n+r.substr(r.length-h))}if(i=r.match(/^00,000\.([#0]*0)$/)){s=ye(t,i[1].length);return t<0?"-"+Ae(e,r,-t):le(_e(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?P(0,3-e.length):"")+e})+"."+P(s,i[1].length)}switch(r){case"###,##0.00":return Ae(e,"#,##0.00",t);case"###,###":;case"##,###":;case"#,###":var d=le(H(o,0));return d!=="0"?c+d:"";case"###,###.00":return Ae(e,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Ae(e,"#,##0.00",t).replace(/^0\./,".");default:;}throw new Error("unsupported format |"+r+"|")}function xe(e,r,t){var a=r.length-1;while(r.charCodeAt(a-1)===44)--a;return Ie(e,r.substr(0,a),t/Math.pow(10,3*(r.length-a)))}function Ce(e,r,t){var a=r.replace(ue,""),n=r.length-a.length;return Ie(e,a,t*Math.pow(10,2*n))+wr("%",n)}function Re(e,r){var t;var a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";else if(r<0)return"-"+Re(e,-r);var n=e.indexOf(".");if(n===-1)n=e.indexOf("E");var i=Math.floor(Math.log(r)*Math.LOG10E)%n;if(i<0)i+=n;t=(r/Math.pow(10,i)).toPrecision(a+1+(n+i)%n);if(!t.match(/[Ee]/)){var s=Math.floor(Math.log(r)*Math.LOG10E);if(t.indexOf(".")===-1)t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+i);else t+="E+"+(s-i);t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,r,t,a){return r+t+a.substr(0,(n+i)%n)+"."+a.substr(i)+"E"})}else t=r.toExponential(a);if(e.match(/E\+00$/)&&t.match(/e[+-]\d$/))t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1);if(e.match(/E\-/)&&t.match(/e\+/))t=t.replace(/e\+/,"e");return t.replace("e","E")}function Oe(e,r,t){if(e.charCodeAt(0)===40&&!r.match(we)){var a=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");if(t>=0)return Oe("n",a,t);return"("+Oe("n",a,-t)+")"}if(r.charCodeAt(r.length-1)===44)return xe(e,r,t);if(r.indexOf("%")!==-1)return Ce(e,r,t);if(r.indexOf("E")!==-1)return Re(r,t);if(r.charCodeAt(0)===36)return"$"+Oe(e,r.substr(r.charAt(1)==" "?2:1),t);var n;var i,s,f,o=Math.abs(t),c=t<0?"-":"";if(r.match(/^00+$/))return c+P(o,r.length);if(r.match(/^[#?]+$/)){n=""+t;if(t===0)n="";return n.length>r.length?n:Te(r.substr(0,r.length-n.length))+n}if(i=r.match(pe))return be(i,o,c);if(r.match(/^#+0+$/))return c+P(o,r.length-r.indexOf("0"));if(i=r.match(ge)){n=(""+t).replace(/^([^\.]+)$/,"$1."+Te(i[1])).replace(/\.$/,"."+Te(i[1]));n=n.replace(/\.(\d*)$/,function(e,r){return"."+r+wr("0",Te(i[1]).length-r.length)});return r.indexOf("0.")!==-1?n:n.replace(/^0\./,".")}r=r.replace(/^#+([0.])/,"$1");if(i=r.match(/^(0*)\.(#*)$/)){return c+(""+o).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".")}if(i=r.match(/^#{1,3},##0(\.?)$/))return c+le(""+o);if(i=r.match(/^#,##0\.([#0]*0)$/)){return t<0?"-"+Oe(e,r,-t):le(""+t)+"."+wr("0",i[1].length)}if(i=r.match(/^#,#*,#0/))return Oe(e,r.replace(/^#,#*,/,""),t);if(i=r.match(/^([0#]+)(\\?-([0#]+))+$/)){n=D(Oe(e,r.replace(/[\\-]/g,""),t));s=0;return D(D(r.replace(/\\/g,"")).replace(/[0#]/g,function(e){return s<n.length?n.charAt(s++):e==="0"?"0":""}))}if(r.match(ke)){n=Oe(e,"##########",t);return"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6)}var l="";if(i=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/)){s=Math.min(i[4].length,7);f=J(o,Math.pow(10,s)-1,false);n=""+c;l=Ie("n",i[1],f[1]);if(l.charAt(l.length-1)==" ")l=l.substr(0,l.length-1)+"0";n+=l+i[2]+"/"+i[3];l=M(f[2],s);if(l.length<i[4].length)l=Te(i[4].substr(i[4].length-l.length))+l;n+=l;return n}if(i=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/)){s=Math.min(Math.max(i[1].length,i[4].length),7);f=J(o,Math.pow(10,s)-1,true);return c+(f[0]||(f[1]?"":"0"))+" "+(f[1]?L(f[1],s)+i[2]+"/"+i[3]+M(f[2],s):wr(" ",2*s+1+i[2].length+i[3].length))}if(i=r.match(/^[#0?]+$/)){n=""+t;if(r.length<=n.length)return n;return Te(r.substr(0,r.length-n.length))+n}if(i=r.match(/^([#0]+)\.([#0]+)$/)){n=""+t.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1");s=n.indexOf(".");var u=r.indexOf(".")-s,h=r.length-n.length-u;return Te(r.substr(0,u)+n+r.substr(r.length-h))}if(i=r.match(/^00,000\.([#0]*0)$/)){return t<0?"-"+Oe(e,r,-t):le(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?P(0,3-e.length):"")+e})+"."+P(0,i[1].length)}switch(r){case"###,###":;case"##,###":;case"#,###":var d=le(""+o);return d!=="0"?c+d:"";default:if(r.match(/\.[0#?]*$/))return Oe(e,r.slice(0,r.lastIndexOf(".")),t)+Te(r.slice(r.lastIndexOf(".")));}throw new Error("unsupported format |"+r+"|")}function Ie(e,r,t){return(t|0)===t?Oe(e,r,t):Ae(e,r,t)}function Ne(e){var r=[];var t=false;for(var a=0,n=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:t=!t;break;case 95:;case 42:;case 92:++a;break;case 59:r[r.length]=e.substr(n,a-n);n=a+1;}r[r.length]=e.substr(n);if(t===true)throw new Error("Format |"+e+"| unterminated string ");return r}var Fe=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function De(e){var r=0,t="",a="";while(r<e.length){switch(t=e.charAt(r)){case"G":if(z(e,r))r+=6;r++;break;case'"':for(;e.charCodeAt(++r)!==34&&r<e.length;){}++r;break;case"\\":r+=2;break;case"_":r+=2;break;case"@":++r;break;case"B":;case"b":if(e.charAt(r+1)==="1"||e.charAt(r+1)==="2")return true;case"M":;case"D":;case"Y":;case"H":;case"S":;case"E":;case"m":;case"d":;case"y":;case"h":;case"s":;case"e":;case"g":return true;case"A":;case"a":;case"":if(e.substr(r,3).toUpperCase()==="A/P")return true;if(e.substr(r,5).toUpperCase()==="AM/PM")return true;if(e.substr(r,5).toUpperCase()==="/")return true;++r;break;case"[":a=t;while(e.charAt(r++)!=="]"&&r<e.length)a+=e.charAt(r);if(a.match(Fe))return true;break;case".":;case"0":;case"#":while(r<e.length&&("0#?.,E+-%".indexOf(t=e.charAt(++r))>-1||t=="\\"&&e.charAt(r+1)=="-"&&"0#".indexOf(e.charAt(r+2))>-1)){}break;case"?":while(e.charAt(++r)===t){}break;case"*":++r;if(e.charAt(r)==" "||e.charAt(r)=="*")++r;break;case"(":;case")":++r;break;case"1":;case"2":;case"3":;case"4":;case"5":;case"6":;case"7":;case"8":;case"9":while(r<e.length&&"0123456789".indexOf(e.charAt(++r))>-1){}break;case" ":++r;break;default:++r;break;}}return false}function Pe(e,r,t,a){var n=[],i="",s=0,f="",o="t",c,l,u;var h="H";while(s<e.length){switch(f=e.charAt(s)){case"G":if(!z(e,s))throw new Error("unrecognized character "+f+" in "+e);n[n.length]={t:"G",v:"General"};s+=7;break;case'"':for(i="";(u=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(u);n[n.length]={t:"t",v:i};++s;break;case"\\":var d=e.charAt(++s),v=d==="("||d===")"?d:"t";n[n.length]={t:v,v:d};++s;break;case"_":n[n.length]={t:"t",v:" "};s+=2;break;case"@":n[n.length]={t:"T",v:r};++s;break;case"B":;case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null){c=q(r,t,e.charAt(s+1)==="2");if(c==null)return""}n[n.length]={t:"X",v:e.substr(s,2)};o=f;s+=2;break};case"M":;case"D":;case"Y":;case"H":;case"S":;case"E":f=f.toLowerCase();case"m":;case"d":;case"y":;case"h":;case"s":;case"e":;case"g":if(r<0)return"";if(c==null){c=q(r,t);if(c==null)return""}i=f;while(++s<e.length&&e.charAt(s).toLowerCase()===f)i+=f;if(f==="m"&&o.toLowerCase()==="h")f="M";if(f==="h")f=h;n[n.length]={t:f,v:i};o=f;break;case"A":;case"a":;case"":var p={t:f,v:f};if(c==null)c=q(r,t);if(e.substr(s,3).toUpperCase()==="A/P"){if(c!=null)p.v=c.H>=12?"P":"A";p.t="T";h="h";s+=3}else if(e.substr(s,5).toUpperCase()==="AM/PM"){if(c!=null)p.v=c.H>=12?"PM":"AM";p.t="T";s+=5;h="h"}else if(e.substr(s,5).toUpperCase()==="/"){if(c!=null)p.v=c.H>=12?"":"";p.t="T";s+=5;h="h"}else{p.t="t";++s}if(c==null&&p.t==="T")return"";n[n.length]=p;o=f;break;case"[":i=f;while(e.charAt(s++)!=="]"&&s<e.length)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Fe)){if(c==null){c=q(r,t);if(c==null)return""}n[n.length]={t:"Z",v:i.toLowerCase()};o=i.charAt(1)}else if(i.indexOf("$")>-1){i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$";if(!De(e))n[n.length]={t:"t",v:i}}break;case".":if(c!=null){i=f;while(++s<e.length&&(f=e.charAt(s))==="0")i+=f;n[n.length]={t:"s",v:i};break};case"0":;case"#":i=f;while(++s<e.length&&"0#?.,E+-%".indexOf(f=e.charAt(s))>-1)i+=f;n[n.length]={t:"n",v:i};break;case"?":i=f;while(e.charAt(++s)===f)i+=f;n[n.length]={t:f,v:i};o=f;break;case"*":++s;if(e.charAt(s)==" "||e.charAt(s)=="*")++s;break;case"(":;case")":n[n.length]={t:a===1?"t":f,v:f};++s;break;case"1":;case"2":;case"3":;case"4":;case"5":;case"6":;case"7":;case"8":;case"9":i=f;while(s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1)i+=e.charAt(s);n[n.length]={t:"D",v:i};break;case" ":n[n.length]={t:f,v:f};++s;break;case"$":n[n.length]={t:"t",v:"$"};++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(f)===-1)throw new Error("unrecognized character "+f+" in "+e);n[n.length]={t:"t",v:f};++s;break;}}var m=0,b=0,g;for(s=n.length-1,o="t";s>=0;--s){switch(n[s].t){case"h":;case"H":n[s].t=h;o="h";if(m<1)m=1;break;case"s":if(g=n[s].v.match(/\.0+$/))b=Math.max(b,g[0].length-1);if(m<3)m=3;case"d":;case"y":;case"M":;case"e":o=n[s].t;break;case"m":if(o==="s"){n[s].t="M";if(m<2)m=2}break;case"X":break;case"Z":if(m<1&&n[s].v.match(/[Hh]/))m=1;if(m<2&&n[s].v.match(/[Mm]/))m=2;if(m<3&&n[s].v.match(/[Ss]/))m=3;}}switch(m){case 0:break;case 1:if(c.u>=.5){c.u=0;++c.S}if(c.S>=60){c.S=0;++c.M}if(c.M>=60){c.M=0;++c.H}break;case 2:if(c.u>=.5){c.u=0;++c.S}if(c.S>=60){c.S=0;++c.M}break;}var w="",k;for(s=0;s<n.length;++s){switch(n[s].t){case"t":;case"T":;case" ":;case"D":break;case"X":n[s].v="";n[s].t=";";break;case"d":;case"m":;case"y":;case"h":;case"H":;case"M":;case"s":;case"e":;case"b":;case"Z":n[s].v=ce(n[s].t.charCodeAt(0),n[s].v,c,b);n[s].t="t";break;case"n":;case"?":k=s+1;while(n[k]!=null&&((f=n[k].t)==="?"||f==="D"||(f===" "||f==="t")&&n[k+1]!=null&&(n[k+1].t==="?"||n[k+1].t==="t"&&n[k+1].v==="/")||n[s].t==="("&&(f===" "||f==="n"||f===")")||f==="t"&&(n[k].v==="/"||n[k].v===" "&&n[k+1]!=null&&n[k+1].t=="?"))){n[s].v+=n[k].v;n[k]={v:"",t:";"};++k}w+=n[s].v;s=k-1;break;case"G":n[s].t="t";n[s].v=fe(r,t);break;}}var T="",E,y;if(w.length>0){if(w.charCodeAt(0)==40){E=r<0&&w.charCodeAt(0)===45?-r:r;y=Ie("n",w,E)}else{E=r<0&&a>1?-r:r;y=Ie("n",w,E);if(E<0&&n[0]&&n[0].t=="t"){y=y.substr(1);n[0].v="-"+n[0].v}}k=y.length-1;var S=n.length;for(s=0;s<n.length;++s)if(n[s]!=null&&n[s].t!="t"&&n[s].v.indexOf(".")>-1){S=s;break}var _=n.length;if(S===n.length&&y.indexOf("E")===-1){for(s=n.length-1;s>=0;--s){if(n[s]==null||"n?".indexOf(n[s].t)===-1)continue;if(k>=n[s].v.length-1){k-=n[s].v.length;n[s].v=y.substr(k+1,n[s].v.length)}else if(k<0)n[s].v="";else{n[s].v=y.substr(0,k+1);k=-1}n[s].t="t";_=s}if(k>=0&&_<n.length)n[_].v=y.substr(0,k+1)+n[_].v}else if(S!==n.length&&y.indexOf("E")===-1){k=y.indexOf(".")-1;for(s=S;s>=0;--s){if(n[s]==null||"n?".indexOf(n[s].t)===-1)continue;l=n[s].v.indexOf(".")>-1&&s===S?n[s].v.indexOf(".")-1:n[s].v.length-1;T=n[s].v.substr(l+1);for(;l>=0;--l){if(k>=0&&(n[s].v.charAt(l)==="0"||n[s].v.charAt(l)==="#"))T=y.charAt(k--)+T}n[s].v=T;n[s].t="t";_=s}if(k>=0&&_<n.length)n[_].v=y.substr(0,k+1)+n[_].v;k=y.indexOf(".")+1;for(s=S;s<n.length;++s){if(n[s]==null||"n?(".indexOf(n[s].t)===-1&&s!==S)continue;l=n[s].v.indexOf(".")>-1&&s===S?n[s].v.indexOf(".")+1:0;T=n[s].v.substr(0,l);for(;l<n[s].v.length;++l){if(k<y.length)T+=y.charAt(k++)}n[s].v=T;n[s].t="t";_=s}}}for(s=0;s<n.length;++s)if(n[s]!=null&&"n?".indexOf(n[s].t)>-1){E=a>1&&r<0&&s>0&&n[s-1].v==="-"?-r:r;n[s].v=Ie(n[s].t,n[s].v,E);n[s].t="t"}var A="";for(s=0;s!==n.length;++s)if(n[s]!=null)A+=n[s].v;return A}var Le=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Me(e,r){if(r==null)return false;var t=parseFloat(r[2]);switch(r[1]){case"=":if(e==t)return true;break;case">":if(e>t)return true;break;case"<":if(e<t)return true;break;case"<>":if(e!=t)return true;break;case">=":if(e>=t)return true;break;case"<=":if(e<=t)return true;break;}return false}function Ue(e,r){var t=Ne(e);var a=t.length,n=t[a-1].indexOf("@");if(a<4&&n>-1)--a;if(t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof r!=="number")return[4,t.length===4||n>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=n>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=n>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=n>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break;case 4:break;}var i=r>0?t[0]:r<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[a,i];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var s=t[0].match(Le);var f=t[1].match(Le);return Me(r,s)?[a,t[0]]:Me(r,f)?[a,t[1]]:[a,t[s!=null&&f!=null?2:1]]}return[a,i]}function Be(e,r,t){if(t==null)t={};var a="";switch(typeof e){case"string":if(e=="m/d/yy"&&t.dateNF)a=t.dateNF;else a=e;break;case"number":if(e==14&&t.dateNF)a=t.dateNF;else a=(t.table!=null?t.table:X)[e];if(a==null)a=t.table&&t.table[Y[e]]||X[Y[e]];if(a==null)a=K[e]||"General";break;}if(z(a,0))return fe(r,t);if(r instanceof Date)r=re(r,t.date1904);var n=Ue(a,r);if(z(n[1]))return fe(r,t);if(r===true)r="TRUE";else if(r===false)r="FALSE";else if(r===""||r==null)return"";return Pe(n[1],r,t,n[0])}function We(e,r){if(typeof r!="number"){r=+r||-1;for(var t=0;t<392;++t){if(X[t]==undefined){if(r<0)r=t;continue}if(X[t]==e){r=t;break}}if(r<0)r=391}X[r]=e;return r}function He(e){for(var r=0;r!=392;++r)if(e[r]!==undefined)We(e[r],r)}function ze(){X=j()}var Ve={format:Be,load:We,_table:X,load_table:He,parse_date_code:q,is_date:De,get_table:function Qw(){return Ve._table=X}};var Ge={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"};var je=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Xe(e){var r=typeof e=="number"?X[e]:e;r=r.replace(je,"(\\d+)");return new RegExp("^"+r+"$")}function $e(e,r,t){var a=-1,n=-1,i=-1,s=-1,f=-1,o=-1;(r.match(je)||[]).forEach(function(e,r){var c=parseInt(t[r+1],10);switch(e.toLowerCase().charAt(0)){case"y":a=c;break;case"d":i=c;break;case"h":s=c;break;case"s":o=c;break;case"m":if(s>=0)f=c;else n=c;break;}});if(o>=0&&f==-1&&n>=0){f=n;n=-1}var c=(""+(a>=0?a:(new Date).getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);if(c.length==7)c="0"+c;if(c.length==8)c="20"+c;var l=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2);if(s==-1&&f==-1&&o==-1)return c;if(a==-1&&n==-1&&i==-1)return l;return c+"T"+l}var Ye=function(){var e={};e.version="1.2.0";function r(){var e=0,r=new Array(256);for(var t=0;t!=256;++t){e=t;e=e&1?-306674912^e>>>1:e>>>1;e=e&1?-306674912^e>>>1:e>>>1;e=e&1?-306674912^e>>>1:e>>>1;e=e&1?-306674912^e>>>1:e>>>1;e=e&1?-306674912^e>>>1:e>>>1;e=e&1?-306674912^e>>>1:e>>>1;e=e&1?-306674912^e>>>1:e>>>1;e=e&1?-306674912^e>>>1:e>>>1;r[t]=e}return typeof Int32Array!=="undefined"?new Int32Array(r):r}var t=r();function a(e){var r=0,t=0,a=0,n=typeof Int32Array!=="undefined"?new Int32Array(4096):new Array(4096);for(a=0;a!=256;++a)n[a]=e[a];for(a=0;a!=256;++a){t=e[a];for(r=256+a;r<4096;r+=256)t=n[r]=t>>>8^e[t&255]}var i=[];for(a=1;a!=16;++a)i[a-1]=typeof Int32Array!=="undefined"?n.subarray(a*256,a*256+256):n.slice(a*256,a*256+256);return i}var n=a(t);var i=n[0],s=n[1],f=n[2],o=n[3],c=n[4];var l=n[5],u=n[6],h=n[7],d=n[8],v=n[9];var p=n[10],m=n[11],b=n[12],g=n[13],w=n[14];
function k(e,r){var a=r^-1;for(var n=0,i=e.length;n<i;)a=a>>>8^t[(a^e.charCodeAt(n++))&255];return~a}function T(e,r){var a=r^-1,n=e.length-15,k=0;for(;k<n;)a=w[e[k++]^a&255]^g[e[k++]^a>>8&255]^b[e[k++]^a>>16&255]^m[e[k++]^a>>>24]^p[e[k++]]^v[e[k++]]^d[e[k++]]^h[e[k++]]^u[e[k++]]^l[e[k++]]^c[e[k++]]^o[e[k++]]^f[e[k++]]^s[e[k++]]^i[e[k++]]^t[e[k++]];n+=15;while(k<n)a=a>>>8^t[(a^e[k++])&255];return~a}function E(e,r){var a=r^-1;for(var n=0,i=e.length,s=0,f=0;n<i;){s=e.charCodeAt(n++);if(s<128){a=a>>>8^t[(a^s)&255]}else if(s<2048){a=a>>>8^t[(a^(192|s>>6&31))&255];a=a>>>8^t[(a^(128|s&63))&255]}else if(s>=55296&&s<57344){s=(s&1023)+64;f=e.charCodeAt(n++)&1023;a=a>>>8^t[(a^(240|s>>8&7))&255];a=a>>>8^t[(a^(128|s>>2&63))&255];a=a>>>8^t[(a^(128|f>>6&15|(s&3)<<4))&255];a=a>>>8^t[(a^(128|f&63))&255]}else{a=a>>>8^t[(a^(224|s>>12&15))&255];a=a>>>8^t[(a^(128|s>>6&63))&255];a=a>>>8^t[(a^(128|s&63))&255]}}return~a}e.table=t;e.bstr=k;e.buf=T;e.str=E;return e}();var Ke=function ek(){var e={};e.version="1.2.1";function r(e,r){var t=e.split("/"),a=r.split("/");for(var n=0,i=0,s=Math.min(t.length,a.length);n<s;++n){if(i=t[n].length-a[n].length)return i;if(t[n]!=a[n])return t[n]<a[n]?-1:1}return t.length-a.length}function t(e){if(e.charAt(e.length-1)=="/")return e.slice(0,-1).indexOf("/")===-1?e:t(e.slice(0,-1));var r=e.lastIndexOf("/");return r===-1?e:e.slice(0,r+1)}function a(e){if(e.charAt(e.length-1)=="/")return a(e.slice(0,-1));var r=e.lastIndexOf("/");return r===-1?e:e.slice(r+1)}function n(e,r){if(typeof r==="string")r=new Date(r);var t=r.getHours();t=t<<6|r.getMinutes();t=t<<5|r.getSeconds()>>>1;e._W(2,t);var a=r.getFullYear()-1980;a=a<<4|r.getMonth()+1;a=a<<5|r.getDate();e._W(2,a)}function i(e){var r=e._R(2)&65535;var t=e._R(2)&65535;var a=new Date;var n=t&31;t>>>=5;var i=t&15;t>>>=4;a.setMilliseconds(0);a.setFullYear(t+1980);a.setMonth(i-1);a.setDate(n);var s=r&31;r>>>=5;var f=r&63;r>>>=6;a.setHours(r);a.setMinutes(f);a.setSeconds(s<<1);return a}function s(e){la(e,0);var r={};var t=0;while(e.l<=e.length-4){var a=e._R(2);var n=e._R(2),i=e.l+n;var s={};switch(a){case 21589:{t=e._R(1);if(t&1)s.mtime=e._R(4);if(n>5){if(t&2)s.atime=e._R(4);if(t&4)s.ctime=e._R(4)}if(s.mtime)s.mt=new Date(s.mtime*1e3)}break;}e.l=i;r[a]=s}return r}var f;function o(){return f||(f=undefined)}function c(e,r){if(e[0]==80&&e[1]==75)return Ie(e,r);if((e[0]|32)==109&&(e[1]|32)==105)return We(e,r);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var t=3;var a=512;var n=0;var i=0;var s=0;var f=0;var o=0;var c=[];var v=e.slice(0,512);la(v,0);var m=l(v);t=m[0];switch(t){case 3:a=512;break;case 4:a=4096;break;case 0:if(m[1]==0)return Ie(e,r);default:throw new Error("Major Version: Expected 3 or 4 saw "+t);}if(a!==512){v=e.slice(0,a);la(v,28)}var w=e.slice(0,a);u(v,t);var k=v._R(4,"i");if(t===3&&k!==0)throw new Error("# Directory Sectors: Expected 0 saw "+k);v.l+=4;s=v._R(4,"i");v.l+=4;v.chk("00100000","Mini Stream Cutoff Size: ");f=v._R(4,"i");n=v._R(4,"i");o=v._R(4,"i");i=v._R(4,"i");for(var T=-1,E=0;E<109;++E){T=v._R(4,"i");if(T<0)break;c[E]=T}var y=h(e,a);p(o,i,y,a,c);var S=b(y,s,c,a);S[s].name="!Directory";if(n>0&&f!==U)S[f].name="!MiniFAT";S[c[0]].name="!FAT";S.fat_addrs=c;S.ssz=a;var _={},A=[],x=[],C=[];g(s,S,y,A,n,_,x,f);d(x,C,A);A.shift();var R={FileIndex:x,FullPaths:C};if(r&&r.raw)R.raw={header:w,sectors:y};return R}function l(e){if(e[e.l]==80&&e[e.l+1]==75)return[0,0];e.chk(B,"Header Signature: ");e.l+=16;var r=e._R(2,"u");return[e._R(2,"u"),r]}function u(e,r){var t=9;e.l+=2;switch(t=e._R(2)){case 9:if(r!=3)throw new Error("Sector Shift: Expected 9 saw "+t);break;case 12:if(r!=4)throw new Error("Sector Shift: Expected 12 saw "+t);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+t);}e.chk("0600","Mini Sector Shift: ");e.chk("000000000000","Reserved: ")}function h(e,r){var t=Math.ceil(e.length/r)-1;var a=[];for(var n=1;n<t;++n)a[n-1]=e.slice(n*r,(n+1)*r);a[t-1]=e.slice(t*r);return a}function d(e,r,t){var a=0,n=0,i=0,s=0,f=0,o=t.length;var c=[],l=[];for(;a<o;++a){c[a]=l[a]=a;r[a]=t[a]}for(;f<l.length;++f){a=l[f];n=e[a].L;i=e[a].R;s=e[a].C;if(c[a]===a){if(n!==-1&&c[n]!==n)c[a]=c[n];if(i!==-1&&c[i]!==i)c[a]=c[i]}if(s!==-1)c[s]=a;if(n!==-1&&a!=c[a]){c[n]=c[a];if(l.lastIndexOf(n)<f)l.push(n)}if(i!==-1&&a!=c[a]){c[i]=c[a];if(l.lastIndexOf(i)<f)l.push(i)}}for(a=1;a<o;++a)if(c[a]===a){if(i!==-1&&c[i]!==i)c[a]=c[i];else if(n!==-1&&c[n]!==n)c[a]=c[n]}for(a=1;a<o;++a){if(e[a].type===0)continue;f=a;if(f!=c[f])do{f=c[f];r[a]=r[f]+"/"+r[a]}while(f!==0&&-1!==c[f]&&f!=c[f]);c[a]=-1}r[0]+="/";for(a=1;a<o;++a){if(e[a].type!==2)r[a]+="/"}}function v(e,r,t){var a=e.start,n=e.size;var i=[];var s=a;while(t&&n>0&&s>=0){i.push(r.slice(s*M,s*M+M));n-=M;s=ta(t,s*4)}if(i.length===0)return ha(0);return O(i).slice(0,e.size)}function p(e,r,t,a,n){var i=U;if(e===U){if(r!==0)throw new Error("DIFAT chain shorter than expected")}else if(e!==-1){var s=t[e],f=(a>>>2)-1;if(!s)return;for(var o=0;o<f;++o){if((i=ta(s,o*4))===U)break;n.push(i)}p(ta(s,a-4),r-1,t,a,n)}}function m(e,r,t,a,n){var i=[],s=[];if(!n)n=[];var f=a-1,o=0,c=0;for(o=r;o>=0;){n[o]=true;i[i.length]=o;s.push(e[o]);var l=t[Math.floor(o*4/a)];c=o*4&f;if(a<4+c)throw new Error("FAT boundary crossed: "+o+" 4 "+a);if(!e[l])break;o=ta(e[l],c)}return{nodes:i,data:It([s])}}function b(e,r,t,a){var n=e.length,i=[];var s=[],f=[],o=[];var c=a-1,l=0,u=0,h=0,d=0;for(l=0;l<n;++l){f=[];h=l+r;if(h>=n)h-=n;if(s[h])continue;o=[];var v=[];for(u=h;u>=0;){v[u]=true;s[u]=true;f[f.length]=u;o.push(e[u]);var p=t[Math.floor(u*4/a)];d=u*4&c;if(a<4+d)throw new Error("FAT boundary crossed: "+u+" 4 "+a);if(!e[p])break;u=ta(e[p],d);if(v[u])break}i[h]={nodes:f,data:It([o])}}return i}function g(e,r,t,a,n,i,s,f){var o=0,c=a.length?2:0;var l=r[e].data;var u=0,h=0,d;for(;u<l.length;u+=128){var p=l.slice(u,u+128);la(p,64);h=p._R(2);d=Ft(p,0,h-c);a.push(d);var b={name:d,type:p._R(1),color:p._R(1),L:p._R(4,"i"),R:p._R(4,"i"),C:p._R(4,"i"),clsid:p._R(16),state:p._R(4,"i"),start:0,size:0};var g=p._R(2)+p._R(2)+p._R(2)+p._R(2);if(g!==0)b.ct=A(p,p.l-8);var w=p._R(2)+p._R(2)+p._R(2)+p._R(2);if(w!==0)b.mt=A(p,p.l-8);b.start=p._R(4,"i");b.size=p._R(4,"i");if(b.size<0&&b.start<0){b.size=b.type=0;b.start=U;b.name=""}if(b.type===5){o=b.start;if(n>0&&o!==U)r[o].name="!StreamData"}else if(b.size>=4096){b.storage="fat";if(r[b.start]===undefined)r[b.start]=m(t,b.start,r.fat_addrs,r.ssz);r[b.start].name=b.name;b.content=r[b.start].data.slice(0,b.size)}else{b.storage="minifat";if(b.size<0)b.size=0;else if(o!==U&&b.start!==U&&r[o]){b.content=v(b,r[o].data,(r[f]||{}).data)}}if(b.content)la(b.content,0);i[d]=b;s.push(b)}}function A(e,r){return new Date((ra(e,r+4)/1e7*Math.pow(2,32)+ra(e,r)/1e7-11644473600)*1e3)}function x(e,r){o();return c(f.readFileSync(e),r)}function C(e,r){var t=r&&r.type;if(!t){if(T&&Buffer.isBuffer(e))t="buffer"}switch(t||"base64"){case"file":return x(e,r);case"base64":return c(_(k(e)),r);case"binary":return c(_(e),r);}return c(e,r)}function R(e,r){var t=r||{},a=t.root||"Root Entry";if(!e.FullPaths)e.FullPaths=[];if(!e.FileIndex)e.FileIndex=[];if(e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");if(e.FullPaths.length===0){e.FullPaths[0]=a+"/";e.FileIndex[0]={name:a,type:5}}if(t.CLSID)e.FileIndex[0].clsid=t.CLSID;I(e)}function I(e){var r="Sh33tJ5";if(Ke.find(e,"/"+r))return;var t=ha(4);t[0]=55;t[1]=t[3]=50;t[2]=54;e.FileIndex.push({name:r,type:2,content:t,size:4,L:69,R:69,C:69});e.FullPaths.push(e.FullPaths[0]+r);D(e)}function D(e,n){R(e);var i=false,s=false;for(var f=e.FullPaths.length-1;f>=0;--f){var o=e.FileIndex[f];switch(o.type){case 0:if(s)i=true;else{e.FileIndex.pop();e.FullPaths.pop()}break;case 1:;case 2:;case 5:s=true;if(isNaN(o.R*o.L*o.C))i=true;if(o.R>-1&&o.L>-1&&o.R==o.L)i=true;break;default:i=true;break;}}if(!i&&!n)return;var c=new Date(1987,1,19),l=0;var u=Object.create?Object.create(null):{};var h=[];for(f=0;f<e.FullPaths.length;++f){u[e.FullPaths[f]]=true;if(e.FileIndex[f].type===0)continue;h.push([e.FullPaths[f],e.FileIndex[f]])}for(f=0;f<h.length;++f){var d=t(h[f][0]);s=u[d];if(!s){h.push([d,{name:a(d).replace("/",""),type:1,clsid:H,ct:c,mt:c,content:null}]);u[d]=true}}h.sort(function(e,t){return r(e[0],t[0])});e.FullPaths=[];e.FileIndex=[];for(f=0;f<h.length;++f){e.FullPaths[f]=h[f][0];e.FileIndex[f]=h[f][1]}for(f=0;f<h.length;++f){var v=e.FileIndex[f];var p=e.FullPaths[f];v.name=a(p).replace("/","");v.L=v.R=v.C=-(v.color=1);v.size=v.content?v.content.length:0;v.start=0;v.clsid=v.clsid||H;if(f===0){v.C=h.length>1?1:-1;v.size=0;v.type=5}else if(p.slice(-1)=="/"){for(l=f+1;l<h.length;++l)if(t(e.FullPaths[l])==p)break;v.C=l>=h.length?-1:l;for(l=f+1;l<h.length;++l)if(t(e.FullPaths[l])==t(p))break;v.R=l>=h.length?-1:l;v.type=1}else{if(t(e.FullPaths[f+1]||"")==t(p))v.R=f+1;v.type=2}}}function P(e,r){var t=r||{};if(t.fileType=="mad")return He(e,t);D(e);switch(t.fileType){case"zip":return Fe(e,t);}var a=function(e){var r=0,t=0;for(var a=0;a<e.FileIndex.length;++a){var n=e.FileIndex[a];if(!n.content)continue;var i=n.content.length;if(i>0){if(i<4096)r+=i+63>>6;else t+=i+511>>9}}var s=e.FullPaths.length+3>>2;var f=r+7>>3;var o=r+127>>7;var c=f+t+s+o;var l=c+127>>7;var u=l<=109?0:Math.ceil((l-109)/127);while(c+l+u+127>>7>l)u=++l<=109?0:Math.ceil((l-109)/127);var h=[1,u,l,o,s,t,r,0];e.FileIndex[0].size=r<<6;h[7]=(e.FileIndex[0].start=h[0]+h[1]+h[2]+h[3]+h[4]+h[5])+(h[6]+7>>3);return h}(e);var n=ha(a[7]<<9);var i=0,s=0;{for(i=0;i<8;++i)n._W(1,W[i]);for(i=0;i<8;++i)n._W(2,0);n._W(2,62);n._W(2,3);n._W(2,65534);n._W(2,9);n._W(2,6);for(i=0;i<3;++i)n._W(2,0);n._W(4,0);n._W(4,a[2]);n._W(4,a[0]+a[1]+a[2]+a[3]-1);n._W(4,0);n._W(4,1<<12);n._W(4,a[3]?a[0]+a[1]+a[2]-1:U);n._W(4,a[3]);n._W(-4,a[1]?a[0]-1:U);n._W(4,a[1]);for(i=0;i<109;++i)n._W(-4,i<a[2]?a[1]+i:-1)}if(a[1]){for(s=0;s<a[1];++s){for(;i<236+s*127;++i)n._W(-4,i<a[2]?a[1]+i:-1);n._W(-4,s===a[1]-1?U:s+1)}}var f=function(e){for(s+=e;i<s-1;++i)n._W(-4,i+1);if(e){++i;n._W(-4,U)}};s=i=0;for(s+=a[1];i<s;++i)n._W(-4,z.DIFSECT);for(s+=a[2];i<s;++i)n._W(-4,z.FATSECT);f(a[3]);f(a[4]);var o=0,c=0;var l=e.FileIndex[0];for(;o<e.FileIndex.length;++o){l=e.FileIndex[o];if(!l.content)continue;c=l.content.length;if(c<4096)continue;l.start=s;f(c+511>>9)}f(a[6]+7>>3);while(n.l&511)n._W(-4,z.ENDOFCHAIN);s=i=0;for(o=0;o<e.FileIndex.length;++o){l=e.FileIndex[o];if(!l.content)continue;c=l.content.length;if(!c||c>=4096)continue;l.start=s;f(c+63>>6)}while(n.l&511)n._W(-4,z.ENDOFCHAIN);for(i=0;i<a[4]<<2;++i){var u=e.FullPaths[i];if(!u||u.length===0){for(o=0;o<17;++o)n._W(4,0);for(o=0;o<3;++o)n._W(4,-1);for(o=0;o<12;++o)n._W(4,0);continue}l=e.FileIndex[i];if(i===0)l.start=l.size?l.start-1:U;var h=i===0&&t.root||l.name;c=2*(h.length+1);n._W(64,h,"utf16le");n._W(2,c);n._W(1,l.type);n._W(1,l.color);n._W(-4,l.L);n._W(-4,l.R);n._W(-4,l.C);if(!l.clsid)for(o=0;o<4;++o)n._W(4,0);else n._W(16,l.clsid,"hex");n._W(4,l.state||0);n._W(4,0);n._W(4,0);n._W(4,0);n._W(4,0);n._W(4,l.start);n._W(4,l.size);n._W(4,0)}for(i=1;i<e.FileIndex.length;++i){l=e.FileIndex[i];if(l.size>=4096){n.l=l.start+1<<9;if(T&&Buffer.isBuffer(l.content)){l.content.copy(n,n.l,0,l.size);n.l+=l.size+511&-512}else{for(o=0;o<l.size;++o)n._W(1,l.content[o]);for(;o&511;++o)n._W(1,0)}}}for(i=1;i<e.FileIndex.length;++i){l=e.FileIndex[i];if(l.size>0&&l.size<4096){if(T&&Buffer.isBuffer(l.content)){l.content.copy(n,n.l,0,l.size);n.l+=l.size+63&-64}else{for(o=0;o<l.size;++o)n._W(1,l.content[o]);for(;o&63;++o)n._W(1,0)}}}if(T){n.l=n.length}else{while(n.l<n.length)n._W(1,0)}return n}function L(e,r){var t=e.FullPaths.map(function(e){return e.toUpperCase()});var a=t.map(function(e){var r=e.split("/");return r[r.length-(e.slice(-1)=="/"?2:1)]});var n=false;if(r.charCodeAt(0)===47){n=true;r=t[0].slice(0,-1)+r}else n=r.indexOf("/")!==-1;var i=r.toUpperCase();var s=n===true?t.indexOf(i):a.indexOf(i);if(s!==-1)return e.FileIndex[s];var f=!i.match(F);i=i.replace(N,"");if(f)i=i.replace(F,"!");for(s=0;s<t.length;++s){if((f?t[s].replace(F,"!"):t[s]).replace(N,"")==i)return e.FileIndex[s];if((f?a[s].replace(F,"!"):a[s]).replace(N,"")==i)return e.FileIndex[s]}return null}var M=64;var U=-2;var B="d0cf11e0a1b11ae1";var W=[208,207,17,224,161,177,26,225];var H="00000000000000000000000000000000";var z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:B,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:H,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function V(e,r,t){o();var a=P(e,t);f.writeFileSync(r,a)}function G(e){var r=new Array(e.length);for(var t=0;t<e.length;++t)r[t]=String.fromCharCode(e[t]);return r.join("")}function j(e,r){var t=P(e,r);switch(r&&r.type||"buffer"){case"file":o();f.writeFileSync(r.filename,t);return t;case"binary":return typeof t=="string"?t:G(t);case"base64":return w(typeof t=="string"?t:G(t));case"buffer":if(T)return Buffer.isBuffer(t)?t:E(t);case"array":return typeof t=="string"?_(t):t;}return t}var X;function $(e){try{var r=e.InflateRaw;var t=new r;t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag);if(t.bytesRead)X=e;else throw new Error("zlib does not expose bytesRead")}catch(a){console.error("cannot use native zlib: "+(a.message||a))}}function Y(e,r){if(!X)return Re(e,r);var t=X.InflateRaw;var a=new t;var n=a._processChunk(e.slice(e.l),a._finishFlushFlag);e.l+=a.bytesRead;return n}function K(e){return X?X.deflateRawSync(e):Te(e)}var J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258];var Z=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Q(e){var r=(e<<1|e<<11)&139536|(e<<5|e<<15)&558144;return(r>>16|r>>8|r)&255}var ee=typeof Uint8Array!=="undefined";var re=ee?new Uint8Array(1<<8):[];for(var te=0;te<1<<8;++te)re[te]=Q(te);function ae(e,r){var t=re[e&255];if(r<=8)return t>>>8-r;t=t<<8|re[e>>8&255];if(r<=16)return t>>>16-r;t=t<<8|re[e>>16&255];return t>>>24-r}function ne(e,r){var t=r&7,a=r>>>3;return(e[a]|(t<=6?0:e[a+1]<<8))>>>t&3}function ie(e,r){var t=r&7,a=r>>>3;return(e[a]|(t<=5?0:e[a+1]<<8))>>>t&7}function se(e,r){var t=r&7,a=r>>>3;return(e[a]|(t<=4?0:e[a+1]<<8))>>>t&15}function fe(e,r){var t=r&7,a=r>>>3;return(e[a]|(t<=3?0:e[a+1]<<8))>>>t&31}function oe(e,r){var t=r&7,a=r>>>3;return(e[a]|(t<=1?0:e[a+1]<<8))>>>t&127}function ce(e,r,t){var a=r&7,n=r>>>3,i=(1<<t)-1;var s=e[n]>>>a;if(t<8-a)return s&i;s|=e[n+1]<<8-a;if(t<16-a)return s&i;s|=e[n+2]<<16-a;if(t<24-a)return s&i;s|=e[n+3]<<24-a;return s&i}function le(e,r,t){var a=r&7,n=r>>>3;if(a<=5)e[n]|=(t&7)<<a;else{e[n]|=t<<a&255;e[n+1]=(t&7)>>8-a}return r+3}function ue(e,r,t){var a=r&7,n=r>>>3;t=(t&1)<<a;e[n]|=t;return r+1}function he(e,r,t){var a=r&7,n=r>>>3;t<<=a;e[n]|=t&255;t>>>=8;e[n+1]=t;return r+8}function de(e,r,t){var a=r&7,n=r>>>3;t<<=a;e[n]|=t&255;t>>>=8;e[n+1]=t&255;e[n+2]=t>>>8;return r+16}function ve(e,r){var t=e.length,a=2*t>r?2*t:r+5,n=0;if(t>=r)return e;if(T){var i=S(a);if(e.copy)e.copy(i);else for(;n<e.length;++n)i[n]=e[n];return i}else if(ee){var s=new Uint8Array(a);if(s.set)s.set(e);else for(;n<t;++n)s[n]=e[n];return s}e.length=a;return e}function pe(e){var r=new Array(e);for(var t=0;t<e;++t)r[t]=0;return r}function me(e,r,t){var a=1,n=0,i=0,s=0,f=0,o=e.length;var c=ee?new Uint16Array(32):pe(32);for(i=0;i<32;++i)c[i]=0;for(i=o;i<t;++i)e[i]=0;o=e.length;var l=ee?new Uint16Array(o):pe(o);for(i=0;i<o;++i){c[n=e[i]]++;if(a<n)a=n;l[i]=0}c[0]=0;for(i=1;i<=a;++i)c[i+16]=f=f+c[i-1]<<1;for(i=0;i<o;++i){f=e[i];if(f!=0)l[i]=c[f+16]++}var u=0;for(i=0;i<o;++i){u=e[i];if(u!=0){f=ae(l[i],a)>>a-u;for(s=(1<<a+4-u)-1;s>=0;--s)r[f|s<<u]=u&15|i<<4}}return a}var be=ee?new Uint16Array(512):pe(512);var ge=ee?new Uint16Array(32):pe(32);if(!ee){for(var we=0;we<512;++we)be[we]=0;for(we=0;we<32;++we)ge[we]=0}(function(){var e=[];var r=0;for(;r<32;r++)e.push(5);me(e,ge,32);var t=[];r=0;for(;r<=143;r++)t.push(8);for(;r<=255;r++)t.push(9);for(;r<=279;r++)t.push(7);for(;r<=287;r++)t.push(8);me(t,be,288)})();var ke=function $e(){var e=ee?new Uint8Array(32768):[];var r=0,t=0;for(;r<Z.length-1;++r){for(;t<Z[r+1];++t)e[t]=r}for(;t<32768;++t)e[t]=29;var a=ee?new Uint8Array(259):[];for(r=0,t=0;r<q.length-1;++r){for(;t<q[r+1];++t)a[t]=r}function n(e,r){var t=0;while(t<e.length){var a=Math.min(65535,e.length-t);var n=t+a==e.length;r._W(1,+n);r._W(2,a);r._W(2,~a&65535);while(a-- >0)r[r.l++]=e[t++]}return r.l}function i(r,t){var n=0;var i=0;var s=ee?new Uint16Array(32768):[];while(i<r.length){var f=Math.min(65535,r.length-i);if(f<10){n=le(t,n,+!!(i+f==r.length));if(n&7)n+=8-(n&7);t.l=n/8|0;t._W(2,f);t._W(2,~f&65535);while(f-- >0)t[t.l++]=r[i++];n=t.l*8;continue}n=le(t,n,+!!(i+f==r.length)+2);var o=0;while(f-- >0){var c=r[i];o=(o<<5^c)&32767;var l=-1,u=0;if(l=s[o]){l|=i&~32767;if(l>i)l-=32768;if(l<i)while(r[l+u]==r[i+u]&&u<250)++u}if(u>2){c=a[u];if(c<=22)n=he(t,n,re[c+1]>>1)-1;else{he(t,n,3);n+=5;he(t,n,re[c-23]>>5);n+=3}var h=c<8?0:c-4>>2;if(h>0){de(t,n,u-q[c]);n+=h}c=e[i-l];n=he(t,n,re[c]>>3);n-=3;var d=c<4?0:c-2>>1;if(d>0){de(t,n,i-l-Z[c]);n+=d}for(var v=0;v<u;++v){s[o]=i&32767;o=(o<<5^r[i])&32767;++i}f-=u-1}else{if(c<=143)c=c+48;else n=ue(t,n,1);n=he(t,n,re[c]);s[o]=i&32767;++i}}n=he(t,n,0)-1}t.l=(n+7)/8|0;return t.l}return function s(e,r){if(e.length<8)return n(e,r);return i(e,r)}}();function Te(e){var r=ha(50+Math.floor(e.length*1.1));var t=ke(e,r);return r.slice(0,t)}var Ee=ee?new Uint16Array(32768):pe(32768);var ye=ee?new Uint16Array(32768):pe(32768);var Se=ee?new Uint16Array(128):pe(128);var _e=1,Ae=1;function xe(e,r){var t=fe(e,r)+257;r+=5;var a=fe(e,r)+1;r+=5;var n=se(e,r)+4;r+=4;var i=0;var s=ee?new Uint8Array(19):pe(19);var f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var o=1;var c=ee?new Uint8Array(8):pe(8);var l=ee?new Uint8Array(8):pe(8);var u=s.length;for(var h=0;h<n;++h){s[J[h]]=i=ie(e,r);if(o<i)o=i;c[i]++;r+=3}var d=0;c[0]=0;for(h=1;h<=o;++h)l[h]=d=d+c[h-1]<<1;for(h=0;h<u;++h)if((d=s[h])!=0)f[h]=l[d]++;var v=0;for(h=0;h<u;++h){v=s[h];if(v!=0){d=re[f[h]]>>8-v;for(var p=(1<<7-v)-1;p>=0;--p)Se[d|p<<v]=v&7|h<<3}}var m=[];o=1;for(;m.length<t+a;){d=Se[oe(e,r)];r+=d&7;switch(d>>>=3){case 16:i=3+ne(e,r);r+=2;d=m[m.length-1];while(i-- >0)m.push(d);break;case 17:i=3+ie(e,r);r+=3;while(i-- >0)m.push(0);break;case 18:i=11+oe(e,r);r+=7;while(i-- >0)m.push(0);break;default:m.push(d);if(o<d)o=d;break;}}var b=m.slice(0,t),g=m.slice(t);for(h=t;h<286;++h)b[h]=0;for(h=a;h<30;++h)g[h]=0;_e=me(b,Ee,286);Ae=me(g,ye,30);return r}function Ce(e,r){if(e[0]==3&&!(e[1]&3)){return[y(r),2]}var t=0;var a=0;var n=S(r?r:1<<18);var i=0;var s=n.length>>>0;var f=0,o=0;while((a&1)==0){a=ie(e,t);t+=3;if(a>>>1==0){if(t&7)t+=8-(t&7);var c=e[t>>>3]|e[(t>>>3)+1]<<8;t+=32;if(c>0){if(!r&&s<i+c){n=ve(n,i+c);s=n.length}while(c-- >0){n[i++]=e[t>>>3];t+=8}}continue}else if(a>>1==1){f=9;o=5}else{t=xe(e,t);f=_e;o=Ae}for(;;){if(!r&&s<i+32767){n=ve(n,i+32767);s=n.length}var l=ce(e,t,f);var u=a>>>1==1?be[l]:Ee[l];t+=u&15;u>>>=4;if((u>>>8&255)===0)n[i++]=u;else if(u==256)break;else{u-=257;var h=u<8?0:u-4>>2;if(h>5)h=0;var d=i+q[u];if(h>0){d+=ce(e,t,h);t+=h}l=ce(e,t,o);u=a>>>1==1?ge[l]:ye[l];t+=u&15;u>>>=4;var v=u<4?0:u-2>>1;var p=Z[u];if(v>0){p+=ce(e,t,v);t+=v}if(!r&&s<d){n=ve(n,d+100);s=n.length}while(i<d){n[i]=n[i-p];++i}}}}if(r)return[n,t+7>>>3];return[n.slice(0,i),t+7>>>3]}function Re(e,r){var t=e.slice(e.l||0);var a=Ce(t,r);e.l+=a[1];return a[0]}function Oe(e,r){if(e){if(typeof console!=="undefined")console.error(r)}else throw new Error(r)}function Ie(e,r){var t=e;la(t,0);var a=[],n=[];var i={FileIndex:a,FullPaths:n};R(i,{root:r.root});var f=t.length-4;while((t[f]!=80||t[f+1]!=75||t[f+2]!=5||t[f+3]!=6)&&f>=0)--f;t.l=f+4;t.l+=4;var o=t._R(2);t.l+=6;var c=t._R(4);t.l=c;for(f=0;f<o;++f){t.l+=20;var l=t._R(4);var u=t._R(4);var h=t._R(2);var d=t._R(2);var v=t._R(2);t.l+=8;var p=t._R(4);var m=s(t.slice(t.l+h,t.l+h+d));t.l+=h+d+v;var b=t.l;t.l=p+4;Ne(t,l,u,i,m);t.l=b}return i}function Ne(e,r,t,a,n){e.l+=2;var f=e._R(2);var o=e._R(2);var c=i(e);if(f&8257)throw new Error("Unsupported ZIP encryption");var l=e._R(4);var u=e._R(4);var h=e._R(4);var d=e._R(2);var v=e._R(2);var p="";for(var m=0;m<d;++m)p+=String.fromCharCode(e[e.l++]);if(v){var b=s(e.slice(e.l,e.l+v));if((b[21589]||{}).mt)c=b[21589].mt;if(((n||{})[21589]||{}).mt)c=n[21589].mt}e.l+=v;var g=e.slice(e.l,e.l+u);switch(o){case 8:g=Y(e,h);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+o);}var w=false;if(f&8){l=e._R(4);if(l==134695760){l=e._R(4);w=true}u=e._R(4);h=e._R(4)}if(u!=r)Oe(w,"Bad compressed size: "+r+" != "+u);if(h!=t)Oe(w,"Bad uncompressed size: "+t+" != "+h);Ve(a,p,g,{unsafe:true,mt:c})}function Fe(e,r){var t=r||{};var a=[],i=[];var s=ha(1);var f=t.compression?8:0,o=0;var c=false;if(c)o|=8;var l=0,u=0;var h=0,d=0;var v=e.FullPaths[0],p=v,m=e.FileIndex[0];var b=[];var g=0;for(l=1;l<e.FullPaths.length;++l){p=e.FullPaths[l].slice(v.length);m=e.FileIndex[l];if(!m.size||!m.content||p=="Sh33tJ5")continue;var w=h;var k=ha(p.length);for(u=0;u<p.length;++u)k._W(1,p.charCodeAt(u)&127);k=k.slice(0,k.l);b[d]=Ye.buf(m.content,0);var T=m.content;if(f==8)T=K(T);s=ha(30);s._W(4,67324752);s._W(2,20);s._W(2,o);s._W(2,f);if(m.mt)n(s,m.mt);else s._W(4,0);s._W(-4,o&8?0:b[d]);s._W(4,o&8?0:T.length);s._W(4,o&8?0:m.content.length);s._W(2,k.length);s._W(2,0);h+=s.length;a.push(s);h+=k.length;a.push(k);h+=T.length;a.push(T);if(o&8){s=ha(12);s._W(-4,b[d]);s._W(4,T.length);s._W(4,m.content.length);h+=s.l;a.push(s)}s=ha(46);s._W(4,33639248);s._W(2,0);s._W(2,20);s._W(2,o);s._W(2,f);s._W(4,0);s._W(-4,b[d]);s._W(4,T.length);s._W(4,m.content.length);s._W(2,k.length);s._W(2,0);s._W(2,0);s._W(2,0);s._W(2,0);s._W(4,0);s._W(4,w);g+=s.l;i.push(s);g+=k.length;i.push(k);++d}s=ha(22);s._W(4,101010256);s._W(2,0);s._W(2,0);s._W(2,d);s._W(2,d);s._W(4,g);s._W(4,h);s._W(2,0);return O([O(a),O(i),s])}var De={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Pe(e,r){if(e.ctype)return e.ctype;var t=e.name||"",a=t.match(/\.([^\.]+)$/);if(a&&De[a[1]])return De[a[1]];if(r){a=(t=r).match(/[\.\\]([^\.\\])+$/);if(a&&De[a[1]])return De[a[1]]}return"application/octet-stream"}function Le(e){var r=w(e);var t=[];for(var a=0;a<r.length;a+=76)t.push(r.slice(a,a+76));return t.join("\r\n")+"\r\n"}function Me(e){var r=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(e){var r=e.charCodeAt(0).toString(16).toUpperCase();return"="+(r.length==1?"0"+r:r)});r=r.replace(/ $/gm,"=20").replace(/\t$/gm,"=09");if(r.charAt(0)=="\n")r="=0D"+r.slice(1);r=r.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A");var t=[],a=r.split("\r\n");for(var n=0;n<a.length;++n){var i=a[n];if(i.length==0){t.push("");continue}for(var s=0;s<i.length;){var f=76;var o=i.slice(s,s+f);if(o.charAt(f-1)=="=")f--;else if(o.charAt(f-2)=="=")f-=2;else if(o.charAt(f-3)=="=")f-=3;o=i.slice(s,s+f);s+=f;if(s<i.length)o+="=";t.push(o)}}return t.join("\r\n")}function Ue(e){var r=[];for(var t=0;t<e.length;++t){var a=e[t];while(t<=e.length&&a.charAt(a.length-1)=="=")a=a.slice(0,a.length-1)+e[++t];r.push(a)}for(var n=0;n<r.length;++n)r[n]=r[n].replace(/[=][0-9A-Fa-f]{2}/g,function(e){return String.fromCharCode(parseInt(e.slice(1),16))});return _(r.join("\r\n"))}function Be(e,r,t){var a="",n="",i="",s;var f=0;for(;f<10;++f){var o=r[f];if(!o||o.match(/^\s*$/))break;var c=o.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":a=c[2].trim();break;case"content-type":i=c[2].trim();break;case"content-transfer-encoding":n=c[2].trim();break;}}++f;switch(n.toLowerCase()){case"base64":s=_(k(r.slice(f).join("")));break;case"quoted-printable":s=Ue(r.slice(f));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+n);}var l=Ve(e,a.slice(t.length),s,{unsafe:true});if(i)l.ctype=i}function We(e,r){if(G(e.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var t=r&&r.root||"";var a=(T&&Buffer.isBuffer(e)?e.toString("binary"):G(e)).split("\r\n");var n=0,i="";for(n=0;n<a.length;++n){i=a[n];if(!/^Content-Location:/i.test(i))continue;i=i.slice(i.indexOf("file"));if(!t)t=i.slice(0,i.lastIndexOf("/")+1);if(i.slice(0,t.length)==t)continue;while(t.length>0){t=t.slice(0,t.length-1);t=t.slice(0,t.lastIndexOf("/")+1);if(i.slice(0,t.length)==t)break}}var s=(a[1]||"").match(/boundary="(.*?)"/);if(!s)throw new Error("MAD cannot find boundary");var f="--"+(s[1]||"");var o=[],c=[];var l={FileIndex:o,FullPaths:c};R(l);var u,h=0;for(n=0;n<a.length;++n){var d=a[n];if(d!==f&&d!==f+"--")continue;if(h++)Be(l,a.slice(u,n),t);u=n}return l}function He(e,r){var t=r||{};var a=t.boundary||"SheetJS";a="------="+a;var n=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+a.slice(2)+'"',"","",""];var i=e.FullPaths[0],s=i,f=e.FileIndex[0];for(var o=1;o<e.FullPaths.length;++o){s=e.FullPaths[o].slice(i.length);f=e.FileIndex[o];if(!f.size||!f.content||s=="Sh33tJ5")continue;s=s.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"});var c=f.content;var l=T&&Buffer.isBuffer(c)?c.toString("binary"):G(c);var u=0,h=Math.min(1024,l.length),d=0;for(var v=0;v<=h;++v)if((d=l.charCodeAt(v))>=32&&d<128)++u;var p=u>=h*4/5;n.push(a);n.push("Content-Location: "+(t.root||"file:///C:/SheetJS/")+s);n.push("Content-Transfer-Encoding: "+(p?"quoted-printable":"base64"));n.push("Content-Type: "+Pe(f,s));n.push("");n.push(p?Me(l):Le(l))}n.push(a+"--\r\n");return n.join("\r\n")}function ze(e){var r={};R(r,e);return r}function Ve(e,r,t,n){var i=n&&n.unsafe;if(!i)R(e);var s=!i&&Ke.find(e,r);if(!s){var f=e.FullPaths[0];if(r.slice(0,f.length)==f)f=r;else{if(f.slice(-1)!="/")f+="/";f=(f+r).replace("//","/")}s={name:a(r),type:2};e.FileIndex.push(s);e.FullPaths.push(f);if(!i)Ke.utils.cfb_gc(e)}s.content=t;s.size=t?t.length:0;if(n){if(n.CLSID)s.clsid=n.CLSID;if(n.mt)s.mt=n.mt;if(n.ct)s.ct=n.ct}return s}function Ge(e,r){R(e);var t=Ke.find(e,r);if(t)for(var a=0;a<e.FileIndex.length;++a)if(e.FileIndex[a]==t){e.FileIndex.splice(a,1);e.FullPaths.splice(a,1);return true}return false}function je(e,r,t){R(e);var n=Ke.find(e,r);if(n)for(var i=0;i<e.FileIndex.length;++i)if(e.FileIndex[i]==n){e.FileIndex[i].name=a(t);e.FullPaths[i]=t;return true}return false}function Xe(e){D(e,true)}e.find=L;e.read=C;e.parse=c;e.write=j;e.writeFile=V;e.utils={cfb_new:ze,cfb_add:Ve,cfb_del:Ge,cfb_mov:je,cfb_gc:Xe,ReadShift:na,CheckField:ca,prep_blob:la,bconcat:O,use_zlib:$,_deflateRaw:Te,_inflateRaw:Re,consts:z};return e}();var Je;if(typeof require!=="undefined")try{Je=undefined}catch(qe){}function Ze(e){if(typeof e==="string")return A(e);if(Array.isArray(e))return C(e);return e}function Qe(e,r,t){if(typeof Je!=="undefined"&&Je.writeFileSync)return t?Je.writeFileSync(e,r,t):Je.writeFileSync(e,r);if(typeof Deno!=="undefined"){if(t&&typeof r=="string")switch(t){case"utf8":r=new TextEncoder(t).encode(r);break;case"binary":r=A(r);break;default:throw new Error("Unsupported encoding "+t);}return Deno.writeFileSync(e,r)}var a=t=="utf8"?lt(r):r;if(typeof IE_SaveFile!=="undefined")return IE_SaveFile(a,e);if(typeof Blob!=="undefined"){var n=new Blob([Ze(a)],{type:"application/octet-stream"});if(typeof navigator!=="undefined"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if(typeof saveAs!=="undefined")return saveAs(n,e);if(typeof URL!=="undefined"&&typeof document!=="undefined"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(n);if(typeof chrome==="object"&&typeof(chrome.downloads||{}).download=="function"){if(URL.revokeObjectURL&&typeof setTimeout!=="undefined")setTimeout(function(){URL.revokeObjectURL(i)},6e4);return chrome.downloads.download({url:i,filename:e,saveAs:true})}var s=document.createElement("a");if(s.download!=null){s.download=e;s.href=i;document.body.appendChild(s);s.click();document.body.removeChild(s);if(URL.revokeObjectURL&&typeof setTimeout!=="undefined")setTimeout(function(){URL.revokeObjectURL(i)},6e4);return i}}}if(typeof $!=="undefined"&&typeof File!=="undefined"&&typeof Folder!=="undefined")try{var f=File(e);f.open("w");f.encoding="binary";if(Array.isArray(r))r=x(r);f.write(r);f.close();return r}catch(o){if(!o.message||!o.message.match(/onstruct/))throw o}throw new Error("cannot save file "+e)}function er(e){if(typeof Je!=="undefined")return Je.readFileSync(e);if(typeof Deno!=="undefined")return Deno.readFileSync(e);if(typeof $!=="undefined"&&typeof File!=="undefined"&&typeof Folder!=="undefined")try{var r=File(e);r.open("r");r.encoding="binary";var t=r.read();r.close();return t}catch(a){if(!a.message||!a.message.match(/onstruct/))throw a}throw new Error("Cannot access file "+e)}function rr(e){var r=Object.keys(e),t=[];for(var a=0;a<r.length;++a)if(Object.prototype.hasOwnProperty.call(e,r[a]))t.push(r[a]);return t}function tr(e,r){var t=[],a=rr(e);for(var n=0;n!==a.length;++n)if(t[e[a[n]][r]]==null)t[e[a[n]][r]]=a[n];return t}function ar(e){var r=[],t=rr(e);for(var a=0;a!==t.length;++a)r[e[t[a]]]=t[a];return r}function nr(e){var r=[],t=rr(e);for(var a=0;a!==t.length;++a)r[e[t[a]]]=parseInt(t[a],10);return r}function ir(e){var r=[],t=rr(e);for(var a=0;a!==t.length;++a){if(r[e[t[a]]]==null)r[e[t[a]]]=[];r[e[t[a]]].push(t[a])}return r}var sr=new Date(1899,11,30,0,0,0);function fr(e,r){var t=e.getTime();if(r)t-=1462*24*60*60*1e3;var a=sr.getTime()+(e.getTimezoneOffset()-sr.getTimezoneOffset())*6e4;return(t-a)/(24*60*60*1e3)}var or=new Date;var cr=sr.getTime()+(or.getTimezoneOffset()-sr.getTimezoneOffset())*6e4;var lr=or.getTimezoneOffset();function ur(e){var r=new Date;r.setTime(e*24*60*60*1e3+cr);if(r.getTimezoneOffset()!==lr){r.setTime(r.getTime()+(r.getTimezoneOffset()-lr)*6e4)}return r}function hr(e){var r=0,t=0,a=false;var n=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=n.length;++i){if(!n[i])continue;t=1;if(i>3)a=true;switch(n[i].slice(n[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[i].slice(n[i].length-1));case"D":t*=24;case"H":t*=60;case"M":if(!a)throw new Error("Unsupported ISO Duration Field: M");else t*=60;case"S":break;}r+=t*parseInt(n[i],10)}return r}var dr=new Date("2017-02-19T19:06:09.000Z");var vr=isNaN(dr.getFullYear())?new Date("2/19/17"):dr;var pr=vr.getFullYear()==2017;function mr(e,r){var t=new Date(e);if(pr){if(r>0)t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3);else if(r<0)t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3);return t}if(e instanceof Date)return e;if(vr.getFullYear()==1917&&!isNaN(t.getFullYear())){
var a=t.getFullYear();if(e.indexOf(""+a)>-1)return t;t.setFullYear(t.getFullYear()+100);return t}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"];var i=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);if(e.indexOf("Z")>-1)i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3);return i}function br(e,r){if(T&&Buffer.isBuffer(e)){if(r){if(e[0]==255&&e[1]==254)return lt(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return lt(h(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder!=="undefined")try{if(r){if(e[0]==255&&e[1]==254)return lt(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return lt(new TextDecoder("utf-16be").decode(e.slice(2)))}var t={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};if(Array.isArray(e))e=new Uint8Array(e);return new TextDecoder("latin1").decode(e).replace(/[]/g,function(e){return t[e]||e})}catch(a){}var n=[];for(var i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function gr(e){if(typeof JSON!="undefined"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var r={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))r[t]=gr(e[t]);return r}function wr(e,r){var t="";while(t.length<r)t+=e;return t}function kr(e){var r=Number(e);if(!isNaN(r))return isFinite(r)?r:NaN;if(!/\d/.test(e))return r;var t=1;var a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){t*=100;return""});if(!isNaN(r=Number(a)))return r/t;a=a.replace(/[(](.*)[)]/,function(e,r){t=-t;return r});if(!isNaN(r=Number(a)))return r/t;return r}var Tr=["january","february","march","april","may","june","july","august","september","october","november","december"];function Er(e){var r=new Date(e),t=new Date(NaN);var a=r.getYear(),n=r.getMonth(),i=r.getDate();if(isNaN(i))return t;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"");if(s.length>3&&Tr.indexOf(s)==-1)return t}else if(s.match(/[a-z]/))return t;if(a<0||a>8099)return t;if((n>0||i>1)&&a!=101)return r;if(e.match(/[^-0-9:,\/\\]/))return t;return r}var yr=function(){var e="abacaba".split(/(:?b)/i).length==5;return function r(t,a,n){if(e||typeof a=="string")return t.split(a);var i=t.split(a),s=[i[0]];for(var f=1;f<i.length;++f){s.push(n);s.push(i[f])}return s}}();function Sr(e){if(!e)return null;if(e.content&&e.type)return br(e.content,true);if(e.data)return d(e.data);if(e.asNodeBuffer&&T)return d(e.asNodeBuffer().toString("binary"));if(e.asBinary)return d(e.asBinary());if(e._data&&e._data.getContent)return d(br(Array.prototype.slice.call(e._data.getContent(),0)));return null}function _r(e){if(!e)return null;if(e.data)return l(e.data);if(e.asNodeBuffer&&T)return e.asNodeBuffer();if(e._data&&e._data.getContent){var r=e._data.getContent();if(typeof r=="string")return l(r);return Array.prototype.slice.call(r)}if(e.content&&e.type)return e.content;return null}function Ar(e){return e&&e.name.slice(-4)===".bin"?_r(e):Sr(e)}function xr(e,r){var t=e.FullPaths||rr(e.files);var a=r.toLowerCase().replace(/[\/]/g,"\\"),n=a.replace(/\\/g,"/");for(var i=0;i<t.length;++i){var s=t[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(a==s||n==s)return e.files?e.files[t[i]]:e.FileIndex[i]}return null}function Cr(e,r){var t=xr(e,r);if(t==null)throw new Error("Cannot find file "+r+" in zip");return t}function Rr(e,r,t){if(!t)return Ar(Cr(e,r));if(!r)return null;try{return Rr(e,r)}catch(a){return null}}function Or(e,r,t){if(!t)return Sr(Cr(e,r));if(!r)return null;try{return Or(e,r)}catch(a){return null}}function Ir(e,r,t){if(!t)return _r(Cr(e,r));if(!r)return null;try{return Ir(e,r)}catch(a){return null}}function Nr(e){var r=e.FullPaths||rr(e.files),t=[];for(var a=0;a<r.length;++a)if(r[a].slice(-1)!="/")t.push(r[a].replace(/^Root Entry[\/]/,""));return t.sort()}function Fr(e,r,t){if(e.FullPaths){if(typeof t=="string"){var a;if(T)a=E(t);else a=I(t);return Ke.utils.cfb_add(e,r,a)}Ke.utils.cfb_add(e,r,t)}else e.file(r,t)}function Dr(){return Ke.utils.cfb_new()}function Pr(e,r){switch(r.type){case"base64":return Ke.read(e,{type:"base64"});case"binary":return Ke.read(e,{type:"binary"});case"buffer":;case"array":return Ke.read(e,{type:"buffer"});}throw new Error("Unrecognized type "+r.type)}function Lr(e,r){if(e.charAt(0)=="/")return e.slice(1);var t=r.split("/");if(r.slice(-1)!="/")t.pop();var a=e.split("/");while(a.length!==0){var n=a.shift();if(n==="..")t.pop();else if(n!==".")t.push(n)}return t.join("/")}var Mr='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n';var Ur=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g;var Br=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,Wr=/<[^>]*>/g;var Hr=Mr.match(Br)?Br:Wr;var zr=/<\w*:/,Vr=/<(\/?)\w+:/;function Gr(e,r,t){var a={};var n=0,i=0;for(;n!==e.length;++n)if((i=e.charCodeAt(n))===32||i===10||i===13)break;if(!r)a[0]=e.slice(0,n);if(n===e.length)return a;var s=e.match(Ur),f=0,o="",c=0,l="",u="",h=1;if(s)for(c=0;c!=s.length;++c){u=s[c];for(i=0;i!=u.length;++i)if(u.charCodeAt(i)===61)break;l=u.slice(0,i).trim();while(u.charCodeAt(i+1)==32)++i;h=(n=u.charCodeAt(i+1))==34||n==39?1:0;o=u.slice(i+1+h,u.length-h);for(f=0;f!=l.length;++f)if(l.charCodeAt(f)===58)break;if(f===l.length){if(l.indexOf("_")>0)l=l.slice(0,l.indexOf("_"));a[l]=o;if(!t)a[l.toLowerCase()]=o}else{var d=(f===5&&l.slice(0,5)==="xmlns"?"xmlns":"")+l.slice(f+1);if(a[d]&&l.slice(f-3,f)=="ext")continue;a[d]=o;if(!t)a[d.toLowerCase()]=o}}return a}function jr(e){return e.replace(Vr,"<$1")}var Xr={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"};var $r=ar(Xr);var Yr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,r=/_x([\da-fA-F]{4})_/gi;return function t(a){var n=a+"",i=n.indexOf("<![CDATA[");if(i==-1)return n.replace(e,function(e,r){return Xr[e]||String.fromCharCode(parseInt(r,e.indexOf("x")>-1?16:10))||e}).replace(r,function(e,r){return String.fromCharCode(parseInt(r,16))});var s=n.indexOf("]]>");return t(n.slice(0,i))+n.slice(i+9,s)+t(n.slice(s+3))}}();var Kr=/[&<>'"]/g,Jr=/[\u0000-\u0008\u000b-\u001f]/g;function qr(e){var r=e+"";return r.replace(Kr,function(e){return $r[e]}).replace(Jr,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Zr(e){return qr(e).replace(/ /g,"_x0020_")}var Qr=/[\u0000-\u001f]/g;function et(e){var r=e+"";return r.replace(Kr,function(e){return $r[e]}).replace(/\n/g,"<br/>").replace(Qr,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}function rt(e){var r=e+"";return r.replace(Kr,function(e){return $r[e]}).replace(Qr,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}var tt=function(){var e=/&#(\d+);/g;function r(e,r){return String.fromCharCode(parseInt(r,10))}return function t(a){return a.replace(e,r)}}();function at(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function nt(e){switch(e){case 1:;case true:;case"1":;case"true":;case"TRUE":return true;default:return false;}}function it(e){var r="",t=0,a=0,n=0,i=0,s=0,f=0;while(t<e.length){a=e.charCodeAt(t++);if(a<128){r+=String.fromCharCode(a);continue}n=e.charCodeAt(t++);if(a>191&&a<224){s=(a&31)<<6;s|=n&63;r+=String.fromCharCode(s);continue}i=e.charCodeAt(t++);if(a<240){r+=String.fromCharCode((a&15)<<12|(n&63)<<6|i&63);continue}s=e.charCodeAt(t++);f=((a&7)<<18|(n&63)<<12|(i&63)<<6|s&63)-65536;r+=String.fromCharCode(55296+(f>>>10&1023));r+=String.fromCharCode(56320+(f&1023))}return r}function st(e){var r=y(2*e.length),t,a,n=1,i=0,s=0,f;for(a=0;a<e.length;a+=n){n=1;if((f=e.charCodeAt(a))<128)t=f;else if(f<224){t=(f&31)*64+(e.charCodeAt(a+1)&63);n=2}else if(f<240){t=(f&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63);n=3}else{n=4;t=(f&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63);t-=65536;s=55296+(t>>>10&1023);t=56320+(t&1023)}if(s!==0){r[i++]=s&255;r[i++]=s>>>8;s=0}r[i++]=t%256;r[i++]=t>>>8}return r.slice(0,i).toString("ucs2")}function ft(e){return E(e,"binary").toString("utf8")}var ot="foo bar baz";var ct=T&&(ft(ot)==it(ot)&&ft||st(ot)==it(ot)&&st)||it;var lt=T?function(e){return E(e,"utf8").toString("binary")}:function(e){var r=[],t=0,a=0,n=0;while(t<e.length){a=e.charCodeAt(t++);switch(true){case a<128:r.push(String.fromCharCode(a));break;case a<2048:r.push(String.fromCharCode(192+(a>>6)));r.push(String.fromCharCode(128+(a&63)));break;case a>=55296&&a<57344:a-=55296;n=e.charCodeAt(t++)-56320+(a<<10);r.push(String.fromCharCode(240+(n>>18&7)));r.push(String.fromCharCode(144+(n>>12&63)));r.push(String.fromCharCode(128+(n>>6&63)));r.push(String.fromCharCode(128+(n&63)));break;default:r.push(String.fromCharCode(224+(a>>12)));r.push(String.fromCharCode(128+(a>>6&63)));r.push(String.fromCharCode(128+(a&63)));}}return r.join("")};var ut=function(){var e={};return function r(t,a){var n=t+"|"+(a||"");if(e[n])return e[n];return e[n]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",a||"")}}();var ht=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function r(t){var a=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,"");for(var n=0;n<e.length;++n)a=a.replace(e[n][0],e[n][1]);return a}}();var dt=function(){var e={};return function r(t){if(e[t]!==undefined)return e[t];return e[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}();var vt=/<\/?(?:vt:)?variant>/g,pt=/<(?:vt:)([^>]*)>([\s\S]*)</;function mt(e,r){var t=Gr(e);var a=e.match(dt(t.baseType))||[];var n=[];if(a.length!=t.size){if(r.WTF)throw new Error("unexpected vector length "+a.length+" != "+t.size);return n}a.forEach(function(e){var r=e.replace(vt,"").match(pt);if(r)n.push({v:ct(r[2]),t:r[1]})});return n}var bt=/(^\s|\s$|\n)/;function gt(e,r){return"<"+e+(r.match(bt)?' xml:space="preserve"':"")+">"+r+"</"+e+">"}function wt(e){return rr(e).map(function(r){return" "+r+'="'+e[r]+'"'}).join("")}function kt(e,r,t){return"<"+e+(t!=null?wt(t):"")+(r!=null?(r.match(bt)?' xml:space="preserve"':"")+">"+r+"</"+e:"/")+">"}function Tt(e,r){try{return e.toISOString().replace(/\.\d*/,"")}catch(t){if(r)throw t}return""}function Et(e,r){switch(typeof e){case"string":var t=kt("vt:lpwstr",qr(e));if(r)t=t.replace(/&quot;/g,"_x0022_");return t;case"number":return kt((e|0)==e?"vt:i4":"vt:r8",qr(String(e)));case"boolean":return kt("vt:bool",e?"true":"false");}if(e instanceof Date)return kt("vt:filetime",Tt(e));throw new Error("Unable to serialize "+e)}function yt(e){if(T&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e==="string")return e;if(typeof Uint8Array!=="undefined"&&e instanceof Uint8Array)return ct(x(R(e)));throw new Error("Bad input format: expected Buffer or string")}var St=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm;var _t={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"};var At=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];var xt={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Ct(e,r){var t=1-2*(e[r+7]>>>7);var a=((e[r+7]&127)<<4)+(e[r+6]>>>4&15);var n=e[r+6]&15;for(var i=5;i>=0;--i)n=n*256+e[r+i];if(a==2047)return n==0?t*Infinity:NaN;if(a==0)a=-1022;else{a-=1023;n+=Math.pow(2,52)}return t*Math.pow(2,a-52)*n}function Rt(e,r,t){var a=(r<0||1/r==-Infinity?1:0)<<7,n=0,i=0;var s=a?-r:r;if(!isFinite(s)){n=2047;i=isNaN(r)?26985:0}else if(s==0)n=i=0;else{n=Math.floor(Math.log(s)/Math.LN2);i=s*Math.pow(2,52-n);if(n<=-1023&&(!isFinite(i)||i<Math.pow(2,52))){n=-1022}else{i-=Math.pow(2,52);n+=1023}}for(var f=0;f<=5;++f,i/=256)e[t+f]=i&255;e[t+6]=(n&15)<<4|i&15;e[t+7]=n>>4|a}var Ot=function(e){var r=[],t=10240;for(var a=0;a<e[0].length;++a)if(e[0][a])for(var n=0,i=e[0][a].length;n<i;n+=t)r.push.apply(r,e[0][a].slice(n,n+t));return r};var It=T?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(e){return Buffer.isBuffer(e)?e:E(e)})):Ot(e)}:Ot;var Nt=function(e,r,t){var a=[];for(var n=r;n<t;n+=2)a.push(String.fromCharCode(Qt(e,n)));return a.join("").replace(N,"")};var Ft=T?function(e,r,t){if(!Buffer.isBuffer(e))return Nt(e,r,t);return e.toString("utf16le",r,t).replace(N,"")}:Nt;var Dt=function(e,r,t){var a=[];for(var n=r;n<r+t;++n)a.push(("0"+e[n].toString(16)).slice(-2));return a.join("")};var Pt=T?function(e,r,t){return Buffer.isBuffer(e)?e.toString("hex",r,r+t):Dt(e,r,t)}:Dt;var Lt=function(e,r,t){var a=[];for(var n=r;n<t;n++)a.push(String.fromCharCode(Zt(e,n)));return a.join("")};var Mt=T?function rk(e,r,t){return Buffer.isBuffer(e)?e.toString("utf8",r,t):Lt(e,r,t)}:Lt;var Ut=function(e,r){var t=ra(e,r);return t>0?Mt(e,r+4,r+4+t-1):""};var Bt=Ut;var Wt=function(e,r){var t=ra(e,r);return t>0?Mt(e,r+4,r+4+t-1):""};var Ht=Wt;var zt=function(e,r){var t=2*ra(e,r);return t>0?Mt(e,r+4,r+4+t-1):""};var Vt=zt;var Gt=function tk(e,r){var t=ra(e,r);return t>0?Ft(e,r+4,r+4+t):""};var jt=Gt;var Xt=function(e,r){var t=ra(e,r);return t>0?Mt(e,r+4,r+4+t):""};var $t=Xt;var Yt=function(e,r){return Ct(e,r)};var Kt=Yt;var Jt=function ak(e){return Array.isArray(e)||typeof Uint8Array!=="undefined"&&e instanceof Uint8Array};if(T){Bt=function nk(e,r){if(!Buffer.isBuffer(e))return Ut(e,r);var t=e.readUInt32LE(r);return t>0?e.toString("utf8",r+4,r+4+t-1):""};Ht=function ik(e,r){if(!Buffer.isBuffer(e))return Wt(e,r);var t=e.readUInt32LE(r);return t>0?e.toString("utf8",r+4,r+4+t-1):""};Vt=function sk(e,r){if(!Buffer.isBuffer(e))return zt(e,r);var t=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+t-1)};jt=function fk(e,r){if(!Buffer.isBuffer(e))return Gt(e,r);var t=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+t)};$t=function ok(e,r){if(!Buffer.isBuffer(e))return Xt(e,r);var t=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+t)};Kt=function ck(e,r){if(Buffer.isBuffer(e))return e.readDoubleLE(r);return Yt(e,r)};Jt=function lk(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array!=="undefined"&&e instanceof Uint8Array}}function qt(){Ft=function(e,r,t){return a.utils.decode(1200,e.slice(r,t)).replace(N,"")};Mt=function(e,r,t){return a.utils.decode(65001,e.slice(r,t))};Bt=function(e,r){var n=ra(e,r);return n>0?a.utils.decode(t,e.slice(r+4,r+4+n-1)):""};Ht=function(e,t){var n=ra(e,t);return n>0?a.utils.decode(r,e.slice(t+4,t+4+n-1)):""};Vt=function(e,r){var t=2*ra(e,r);return t>0?a.utils.decode(1200,e.slice(r+4,r+4+t-1)):""};jt=function(e,r){var t=ra(e,r);return t>0?a.utils.decode(1200,e.slice(r+4,r+4+t)):""};$t=function(e,r){var t=ra(e,r);return t>0?a.utils.decode(65001,e.slice(r+4,r+4+t)):""}}if(typeof a!=="undefined")qt();var Zt=function(e,r){return e[r]};var Qt=function(e,r){return e[r+1]*(1<<8)+e[r]};var ea=function(e,r){var t=e[r+1]*(1<<8)+e[r];return t<32768?t:(65535-t+1)*-1};var ra=function(e,r){return e[r+3]*(1<<24)+(e[r+2]<<16)+(e[r+1]<<8)+e[r]};var ta=function(e,r){return e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]};var aa=function(e,r){return e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]};function na(e,t){var n="",i,s,f=[],o,c,l,u;switch(t){case"dbcs":u=this.l;if(T&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l){n+=String.fromCharCode(Qt(this,u));u+=2}e*=2;break;case"utf8":n=Mt(this,this.l,this.l+e);break;case"utf16le":e*=2;n=Ft(this,this.l,this.l+e);break;case"wstr":if(typeof a!=="undefined")n=a.utils.decode(r,this.slice(this.l,this.l+2*e));else return na.call(this,e,"dbcs");e=2*e;break;case"lpstr-ansi":n=Bt(this,this.l);e=4+ra(this,this.l);break;case"lpstr-cp":n=Ht(this,this.l);e=4+ra(this,this.l);break;case"lpwstr":n=Vt(this,this.l);e=4+2*ra(this,this.l);break;case"lpp4":e=4+ra(this,this.l);n=jt(this,this.l);if(e&2)e+=2;break;case"8lpp4":e=4+ra(this,this.l);n=$t(this,this.l);if(e&3)e+=4-(e&3);break;case"cstr":e=0;n="";while((o=Zt(this,this.l+e++))!==0)f.push(v(o));n=f.join("");break;case"_wstr":e=0;n="";while((o=Qt(this,this.l+e))!==0){f.push(v(o));e+=2}e+=2;n=f.join("");break;case"dbcs-cont":n="";u=this.l;for(l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1){o=Zt(this,u);this.l=u+1;c=na.call(this,e-l,o?"dbcs-cont":"sbcs-cont");return f.join("")+c}f.push(v(Qt(this,u)));u+=2}n=f.join("");e*=2;break;case"cpstr":if(typeof a!=="undefined"){n=a.utils.decode(r,this.slice(this.l,this.l+e));break};case"sbcs-cont":n="";u=this.l;for(l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1){o=Zt(this,u);this.l=u+1;c=na.call(this,e-l,o?"dbcs-cont":"sbcs-cont");return f.join("")+c}f.push(v(Zt(this,u)));u+=1}n=f.join("");break;default:switch(e){case 1:i=Zt(this,this.l);this.l++;return i;case 2:i=(t==="i"?ea:Qt)(this,this.l);this.l+=2;return i;case 4:;case-4:if(t==="i"||(this[this.l+3]&128)===0){i=(e>0?ta:aa)(this,this.l);this.l+=4;return i}else{s=ra(this,this.l);this.l+=4}return s;case 8:;case-8:if(t==="f"){if(e==8)s=Kt(this,this.l);else s=Kt([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0);this.l+=8;return s}else e=8;case 16:n=Pt(this,this.l,e);break;};}this.l+=e;return n}var ia=function(e,r,t){e[t]=r&255;e[t+1]=r>>>8&255;e[t+2]=r>>>16&255;e[t+3]=r>>>24&255};var sa=function(e,r,t){e[t]=r&255;e[t+1]=r>>8&255;e[t+2]=r>>16&255;e[t+3]=r>>24&255};var fa=function(e,r,t){e[t]=r&255;e[t+1]=r>>>8&255};function oa(e,r,n){var i=0,s=0;if(n==="dbcs"){for(s=0;s!=r.length;++s)fa(this,r.charCodeAt(s),this.l+2*s);i=2*r.length}else if(n==="sbcs"){if(typeof a!=="undefined"&&t==874){for(s=0;s!=r.length;++s){var f=a.utils.encode(t,r.charAt(s));this[this.l+s]=f[0]}}else{r=r.replace(/[^\x00-\x7F]/g,"_");for(s=0;s!=r.length;++s)this[this.l+s]=r.charCodeAt(s)&255}i=r.length}else if(n==="hex"){for(;s<e;++s){this[this.l++]=parseInt(r.slice(2*s,2*s+2),16)||0}return this}else if(n==="utf16le"){var o=Math.min(this.l+e,this.length);for(s=0;s<Math.min(r.length,e);++s){var c=r.charCodeAt(s);this[this.l++]=c&255;this[this.l++]=c>>8}while(this.l<o)this[this.l++]=0;return this}else switch(e){case 1:i=1;this[this.l]=r&255;break;case 2:i=2;this[this.l]=r&255;r>>>=8;this[this.l+1]=r&255;break;case 3:i=3;this[this.l]=r&255;r>>>=8;this[this.l+1]=r&255;r>>>=8;this[this.l+2]=r&255;break;case 4:i=4;ia(this,r,this.l);break;case 8:i=8;if(n==="f"){Rt(this,r,this.l);break};case 16:break;case-4:i=4;sa(this,r,this.l);break;}this.l+=i;return this}function ca(e,r){var t=Pt(this,this.l,e.length>>1);if(t!==e)throw new Error(r+"Expected "+e+" saw "+t);this.l+=e.length>>1}function la(e,r){e.l=r;e._R=na;e.chk=ca;e._W=oa}function ua(e,r){e.l+=r}function ha(e){var r=y(e);la(r,0);return r}function da(e,r,t){if(!e)return;var a,n,i;la(e,e.l||0);var s=e.length,f=0,o=0;while(e.l<s){f=e._R(1);if(f&128)f=(f&127)+((e._R(1)&127)<<7);var c=mb[f]||mb[65535];a=e._R(1);i=a&127;for(n=1;n<4&&a&128;++n)i+=((a=e._R(1))&127)<<7*n;o=e.l+i;var l=c.f&&c.f(e,i,t);e.l=o;if(r(l,c,f))return}}function va(){var e=[],r=T?256:2048;var t=function o(e){var r=ha(e);la(r,0);return r};var a=t(r);var n=function c(){if(!a)return;if(a.length>a.l){a=a.slice(0,a.l);a.l=a.length}if(a.length>0)e.push(a);a=null};var i=function l(e){if(a&&e<a.length-a.l)return a;n();return a=t(Math.max(e+1,r))};var s=function u(){n();return O(e)};var f=function h(e){n();a=e;if(a.l==null)a.l=a.length;i(r)};return{next:i,push:f,end:s,_bufs:e}}function pa(e,r,t,a){var n=+r,i;if(isNaN(n))return;if(!a)a=mb[n].p||(t||[]).length||0;i=1+(n>=128?1:0)+1;if(a>=128)++i;if(a>=16384)++i;if(a>=2097152)++i;var s=e.next(i);if(n<=127)s._W(1,n);else{s._W(1,(n&127)+128);s._W(1,n>>7)}for(var f=0;f!=4;++f){if(a>=128){s._W(1,(a&127)+128);a>>=7}else{s._W(1,a);break}}if(a>0&&Jt(t))e.push(t)}function ma(e,r,t){var a=gr(e);if(r.s){if(a.cRel)a.c+=r.s.c;if(a.rRel)a.r+=r.s.r}else{if(a.cRel)a.c+=r.c;if(a.rRel)a.r+=r.r}if(!t||t.biff<12){while(a.c>=256)a.c-=256;while(a.r>=65536)a.r-=65536}return a}function ba(e,r,t){var a=gr(e);a.s=ma(a.s,r.s,t);a.e=ma(a.e,r.s,t);return a}function ga(e,r){if(e.cRel&&e.c<0){e=gr(e);while(e.c<0)e.c+=r>8?16384:256}if(e.rRel&&e.r<0){e=gr(e);while(e.r<0)e.r+=r>8?1048576:r>5?65536:16384}var t=Oa(e);if(!e.cRel&&e.cRel!=null)t=Aa(t);if(!e.rRel&&e.rRel!=null)t=Ea(t);return t}function wa(e,r){if(e.s.r==0&&!e.s.rRel){if(e.e.r==(r.biff>=12?1048575:r.biff>=8?65536:16384)&&!e.e.rRel){return(e.s.cRel?"":"$")+_a(e.s.c)+":"+(e.e.cRel?"":"$")+_a(e.e.c)}}if(e.s.c==0&&!e.s.cRel){if(e.e.c==(r.biff>=12?16383:255)&&!e.e.cRel){return(e.s.rRel?"":"$")+Ta(e.s.r)+":"+(e.e.rRel?"":"$")+Ta(e.e.r)}}return ga(e.s,r.biff)+":"+ga(e.e,r.biff)}function ka(e){return parseInt(ya(e),10)-1}function Ta(e){return""+(e+1)}function Ea(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ya(e){return e.replace(/\$(\d+)$/,"$1")}function Sa(e){var r=xa(e),t=0,a=0;for(;a!==r.length;++a)t=26*t+r.charCodeAt(a)-64;return t-1}function _a(e){if(e<0)throw new Error("invalid column "+e);var r="";for(++e;e;e=Math.floor((e-1)/26))r=String.fromCharCode((e-1)%26+65)+r;return r}function Aa(e){return e.replace(/^([A-Z])/,"$$$1")}function xa(e){return e.replace(/^\$([A-Z])/,"$1")}function Ca(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ra(e){var r=0,t=0;for(var a=0;a<e.length;++a){var n=e.charCodeAt(a);if(n>=48&&n<=57)r=10*r+(n-48);else if(n>=65&&n<=90)t=26*t+(n-64)}return{c:t-1,r:r-1}}function Oa(e){var r=e.c+1;var t="";for(;r;r=(r-1)/26|0)t=String.fromCharCode((r-1)%26+65)+t;return t+(e.r+1)}function Ia(e){var r=e.indexOf(":");if(r==-1)return{s:Ra(e),e:Ra(e)};return{s:Ra(e.slice(0,r)),e:Ra(e.slice(r+1))}}function Na(e,r){if(typeof r==="undefined"||typeof r==="number"){return Na(e.s,e.e)}if(typeof e!=="string")e=Oa(e);if(typeof r!=="string")r=Oa(r);return e==r?e:e+":"+r}function Fa(e){var r={s:{c:0,r:0},e:{c:0,r:0}};var t=0,a=0,n=0;var i=e.length;for(t=0;a<i;++a){if((n=e.charCodeAt(a)-64)<1||n>26)break;t=26*t+n}r.s.c=--t;for(t=0;a<i;++a){if((n=e.charCodeAt(a)-48)<0||n>9)break;t=10*t+n}r.s.r=--t;if(a===i||n!=10){r.e.c=r.s.c;r.e.r=r.s.r;return r}++a;for(t=0;a!=i;++a){if((n=e.charCodeAt(a)-64)<1||n>26)break;t=26*t+n}r.e.c=--t;for(t=0;a!=i;++a){if((n=e.charCodeAt(a)-48)<0||n>9)break;t=10*t+n}r.e.r=--t;return r}function Da(e,r){var t=e.t=="d"&&r instanceof Date;if(e.z!=null)try{return e.w=Be(e.z,t?fr(r):r)}catch(a){}try{return e.w=Be((e.XF||{}).numFmtId||(t?14:0),t?fr(r):r)}catch(a){return""+r}}function Pa(e,r,t){if(e==null||e.t==null||e.t=="z")return"";if(e.w!==undefined)return e.w;if(e.t=="d"&&!e.z&&t&&t.dateNF)e.z=t.dateNF;if(e.t=="e")return Gn[e.v]||e.v;if(r==undefined)return Da(e,e.v);return Da(e,r)}function La(e,r){var t=r&&r.sheet?r.sheet:"Sheet1";var a={};a[t]=e;return{SheetNames:[t],Sheets:a}}function Ma(e,r,t){var a=t||{};var n=e?Array.isArray(e):a.dense;if(m!=null&&n==null)n=m;var i=e||(n?[]:{});var s=0,f=0;if(i&&a.origin!=null){if(typeof a.origin=="number")s=a.origin;else{var o=typeof a.origin=="string"?Ra(a.origin):a.origin;s=o.r;f=o.c}if(!i["!ref"])i["!ref"]="A1:A1"}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var l=Fa(i["!ref"]);c.s.c=l.s.c;c.s.r=l.s.r;c.e.c=Math.max(c.e.c,l.e.c);c.e.r=Math.max(c.e.r,l.e.r);if(s==-1)c.e.r=s=l.e.r+1}for(var u=0;u!=r.length;++u){if(!r[u])continue;if(!Array.isArray(r[u]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=r[u].length;++h){if(typeof r[u][h]==="undefined")continue;var d={v:r[u][h]};var v=s+u,p=f+h;if(c.s.r>v)c.s.r=v;if(c.s.c>p)c.s.c=p;if(c.e.r<v)c.e.r=v;if(c.e.c<p)c.e.c=p;if(r[u][h]&&typeof r[u][h]==="object"&&!Array.isArray(r[u][h])&&!(r[u][h]instanceof Date))d=r[u][h];else{if(Array.isArray(d.v)){d.f=r[u][h][1];d.v=d.v[0]}if(d.v===null){if(d.f)d.t="n";else if(a.nullError){d.t="e";d.v=0}else if(!a.sheetStubs)continue;else d.t="z"}else if(typeof d.v==="number")d.t="n";else if(typeof d.v==="boolean")d.t="b";else if(d.v instanceof Date){d.z=a.dateNF||X[14];if(a.cellDates){d.t="d";d.w=Be(d.z,fr(d.v))}else{d.t="n";d.v=fr(d.v);d.w=Be(d.z,d.v)}}else d.t="s"}if(n){if(!i[v])i[v]=[];if(i[v][p]&&i[v][p].z)d.z=i[v][p].z;i[v][p]=d}else{var b=Oa({c:p,r:v});if(i[b]&&i[b].z)d.z=i[b].z;i[b]=d}}}if(c.s.c<1e7)i["!ref"]=Na(c);return i}function Ua(e,r){return Ma(null,e,r)}function Ba(e){return e._R(4,"i")}function Wa(e,r){if(!r)r=ha(4);r._W(4,e);return r}function Ha(e){var r=e._R(4);return r===0?"":e._R(r,"dbcs")}function za(e,r){var t=false;if(r==null){t=true;r=ha(4+2*e.length)}r._W(4,e.length);if(e.length>0)r._W(0,e,"dbcs");return t?r.slice(0,r.l):r}function Va(e){return{ich:e._R(2),ifnt:e._R(2)}}function Ga(e,r){if(!r)r=ha(4);r._W(2,e.ich||0);r._W(2,e.ifnt||0);return r}function ja(e,r){var t=e.l;var a=e._R(1);var n=Ha(e);var i=[];var s={t:n,h:n};if((a&1)!==0){var f=e._R(4);for(var o=0;o!=f;++o)i.push(Va(e));s.r=i}else s.r=[{ich:0,ifnt:0}];e.l=t+r;return s}function Xa(e,r){var t=false;if(r==null){t=true;r=ha(15+4*e.t.length)}r._W(1,0);za(e.t,r);return t?r.slice(0,r.l):r}var $a=ja;function Ya(e,r){var t=false;if(r==null){t=true;r=ha(23+4*e.t.length)}r._W(1,1);za(e.t,r);r._W(4,1);Ga({ich:0,ifnt:0},r);return t?r.slice(0,r.l):r}function Ka(e){var r=e._R(4);var t=e._R(2);t+=e._R(1)<<16;e.l++;return{c:r,iStyleRef:t}}function Ja(e,r){if(r==null)r=ha(8);r._W(-4,e.c);r._W(3,e.iStyleRef||e.s);r._W(1,0);return r}function qa(e){var r=e._R(2);r+=e._R(1)<<16;e.l++;return{c:-1,iStyleRef:r}}function Za(e,r){if(r==null)r=ha(4);r._W(3,e.iStyleRef||e.s);r._W(1,0);return r}var Qa=Ha;var en=za;function rn(e){var r=e._R(4);return r===0||r===4294967295?"":e._R(r,"dbcs")}function tn(e,r){var t=false;if(r==null){t=true;r=ha(127)}r._W(4,e.length>0?e.length:4294967295);if(e.length>0)r._W(0,e,"dbcs");return t?r.slice(0,r.l):r}var an=Ha;var nn=rn;var sn=tn;function fn(e){var r=e.slice(e.l,e.l+4);var t=r[0]&1,a=r[0]&2;e.l+=4;var n=a===0?Kt([0,0,0,0,r[0]&252,r[1],r[2],r[3]],0):ta(r,0)>>2;return t?n/100:n}function on(e,r){if(r==null)r=ha(4);var t=0,a=0,n=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29){a=1}else if(n==(n|0)&&n>=-(1<<29)&&n<1<<29){a=1;t=1}if(a)r._W(-4,((t?n:e)<<2)+(t+2));else throw new Error("unsupported RkNumber "+e)}function cn(e){var r={s:{},e:{}};r.s.r=e._R(4);r.e.r=e._R(4);r.s.c=e._R(4);r.e.c=e._R(4);return r}function ln(e,r){if(!r)r=ha(16);r._W(4,e.s.r);r._W(4,e.e.r);r._W(4,e.s.c);r._W(4,e.e.c);return r}var un=cn;var hn=ln;function dn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e._R(8,"f")}function vn(e,r){return(r||ha(8))._W(8,e,"f")}function pn(e){var r={};var t=e._R(1);var a=t>>>1;var n=e._R(1);var i=e._R(2,"i");var s=e._R(1);var f=e._R(1);var o=e._R(1);e.l++;switch(a){case 0:r.auto=1;break;case 1:r.index=n;var c=Vn[n];if(c)r.rgb=gc(c);break;case 2:r.rgb=gc([s,f,o]);break;case 3:r.theme=n;break;}if(i!=0)r.tint=i>0?i/32767:i/32768;return r}function mn(e,r){if(!r)r=ha(8);if(!e||e.auto){r._W(4,0);r._W(4,0);return r}if(e.index!=null){r._W(1,2);r._W(1,e.index)}else if(e.theme!=null){r._W(1,6);r._W(1,e.theme)}else{r._W(1,5);r._W(1,0)}var t=e.tint||0;if(t>0)t*=32767;else if(t<0)t*=32768;r._W(2,t);if(!e.rgb||e.theme!=null){r._W(2,0);r._W(1,0);r._W(1,0)}else{var a=e.rgb||"FFFFFF";if(typeof a=="number")a=("000000"+a.toString(16)).slice(-6);r._W(1,parseInt(a.slice(0,2),16));r._W(1,parseInt(a.slice(2,4),16));r._W(1,parseInt(a.slice(4,6),16));r._W(1,255)}return r}function bn(e){var r=e._R(1);e.l++;var t={fBold:r&1,fItalic:r&2,fUnderline:r&4,fStrikeout:r&8,fOutline:r&16,fShadow:r&32,fCondense:r&64,fExtend:r&128};return t}function gn(e,r){if(!r)r=ha(2);var t=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);r._W(1,t);r._W(1,0);return r}function wn(e,r){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"};var a=e._R(4);switch(a){case 0:return"";case 4294967295:;case 4294967294:return t[e._R(4)]||"";}if(a>400)throw new Error("Unsupported Clipboard: "+a.toString(16));e.l-=4;return e._R(0,r==1?"lpstr":"lpwstr")}function kn(e){return wn(e,1)}function Tn(e){return wn(e,2)}var En=2;var yn=3;var Sn=11;var _n=12;var An=19;var xn=30;var Cn=64;var Rn=65;var On=71;var In=4096;var Nn=4108;var Fn=4126;var Dn=80;var Pn=81;var Ln=[Dn,Pn];var Mn={1:{n:"CodePage",t:En},2:{n:"Category",t:Dn},3:{n:"PresentationFormat",t:Dn},4:{n:"ByteCount",t:yn},5:{n:"LineCount",t:yn},6:{n:"ParagraphCount",t:yn},7:{n:"SlideCount",t:yn},8:{n:"NoteCount",t:yn},9:{n:"HiddenCount",t:yn},10:{n:"MultimediaClipCount",t:yn},11:{n:"ScaleCrop",t:Sn},12:{n:"HeadingPairs",t:Nn},13:{n:"TitlesOfParts",t:Fn},14:{n:"Manager",t:Dn},15:{n:"Company",t:Dn},16:{n:"LinksUpToDate",t:Sn},17:{n:"CharacterCount",t:yn},19:{n:"SharedDoc",t:Sn},22:{n:"HyperlinksChanged",t:Sn},23:{n:"AppVersion",t:yn,p:"version"},24:{n:"DigSig",t:Rn},26:{n:"ContentType",t:Dn},27:{n:"ContentStatus",t:Dn},28:{n:"Language",t:Dn},29:{n:"Version",t:Dn},255:{},2147483648:{n:"Locale",t:An},2147483651:{n:"Behavior",t:An},1919054434:{}};var Un={1:{n:"CodePage",t:En},2:{n:"Title",t:Dn},3:{n:"Subject",t:Dn},4:{n:"Author",t:Dn},5:{n:"Keywords",t:Dn},6:{n:"Comments",t:Dn},7:{n:"Template",t:Dn},8:{n:"LastAuthor",t:Dn},9:{n:"RevNumber",t:Dn},10:{n:"EditTime",t:Cn},11:{n:"LastPrinted",t:Cn},12:{n:"CreatedDate",t:Cn},13:{n:"ModifiedDate",t:Cn},14:{n:"PageCount",t:yn},15:{n:"WordCount",t:yn},16:{n:"CharCount",t:yn},17:{n:"Thumbnail",t:On},18:{n:"Application",t:Dn},19:{n:"DocSecurity",t:yn},255:{},2147483648:{n:"Locale",t:An},2147483651:{n:"Behavior",t:An},1919054434:{}};var Bn={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"};var Wn=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];
function Hn(e){return e.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var zn=Hn([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);var Vn=gr(zn);var Gn={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"};var jn={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255};var Xn={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};var $n={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Yn(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Kn(e){var r=Yn();if(!e||!e.match)return r;var t={};(e.match(Hr)||[]).forEach(function(e){var a=Gr(e);switch(a[0].replace(zr,"<")){case"<?xml":break;case"<Types":r.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[a.Extension]=a.ContentType;break;case"<Override":if(r[Xn[a.ContentType]]!==undefined)r[Xn[a.ContentType]].push(a.PartName);break;}});if(r.xmlns!==_t.CT)throw new Error("Unknown Namespace: "+r.xmlns);r.calcchain=r.calcchains.length>0?r.calcchains[0]:"";r.sst=r.strs.length>0?r.strs[0]:"";r.style=r.styles.length>0?r.styles[0]:"";r.defaults=t;delete r.calcchains;return r}function Jn(e,r){var t=ir(Xn);var a=[],n;a[a.length]=Mr;a[a.length]=kt("Types",null,{xmlns:_t.CT,"xmlns:xsd":_t.xsd,"xmlns:xsi":_t.xsi});a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(e){return kt("Default",null,{Extension:e[0],ContentType:e[1]})}));var i=function(t){if(e[t]&&e[t].length>0){n=e[t][0];a[a.length]=kt("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:$n[t][r.bookType]||$n[t]["xlsx"]})}};var s=function(t){(e[t]||[]).forEach(function(e){a[a.length]=kt("Override",null,{PartName:(e[0]=="/"?"":"/")+e,ContentType:$n[t][r.bookType]||$n[t]["xlsx"]})})};var f=function(r){(e[r]||[]).forEach(function(e){a[a.length]=kt("Override",null,{PartName:(e[0]=="/"?"":"/")+e,ContentType:t[r][0]})})};i("workbooks");s("sheets");s("charts");f("themes");["strs","styles"].forEach(i);["coreprops","extprops","custprops"].forEach(f);f("vba");f("comments");f("threadedcomments");f("drawings");s("metadata");f("people");if(a.length>2){a[a.length]="</Types>";a[1]=a[1].replace("/>",">")}return a.join("")}var qn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Zn(e){var r=e.lastIndexOf("/");return e.slice(0,r+1)+"_rels/"+e.slice(r+1)+".rels"}function Qn(e,r){var t={"!id":{}};if(!e)return t;if(r.charAt(0)!=="/"){r="/"+r}var a={};(e.match(Hr)||[]).forEach(function(e){var n=Gr(e);if(n[0]==="<Relationship"){var i={};i.Type=n.Type;i.Target=n.Target;i.Id=n.Id;if(n.TargetMode)i.TargetMode=n.TargetMode;var s=n.TargetMode==="External"?n.Target:Lr(n.Target,r);t[s]=i;a[n.Id]=i}});t["!id"]=a;return t}function ei(e){var r=[Mr,kt("Relationships",null,{xmlns:_t.RELS})];rr(e["!id"]).forEach(function(t){r[r.length]=kt("Relationship",null,e["!id"][t])});if(r.length>2){r[r.length]="</Relationships>";r[1]=r[1].replace("/>",">")}return r.join("")}function ri(e,r,t,a,n,i){if(!n)n={};if(!e["!id"])e["!id"]={};if(!e["!idx"])e["!idx"]=1;if(r<0)for(r=e["!idx"];e["!id"]["rId"+r];++r){}e["!idx"]=r+1;n.Id="rId"+r;n.Type=a;n.Target=t;if(i)n.TargetMode=i;else if([qn.HLINK,qn.XPATH,qn.XMISS].indexOf(n.Type)>-1)n.TargetMode="External";if(e["!id"][n.Id])throw new Error("Cannot rewrite rId "+r);e["!id"][n.Id]=n;e[("/"+n.Target).replace("//","/")]=n;return r}var ti="application/vnd.oasis.opendocument.spreadsheet";function ai(e,r){var t=yt(e);var a;var n;while(a=St.exec(t))switch(a[3]){case"manifest":break;case"file-entry":n=Gr(a[0],false);if(n.path=="/"&&n.type!==ti)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":;case"algorithm":;case"start-key-generation":;case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(r&&r.WTF)throw a;}}function ni(e){var r=[Mr];r.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n');r.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var t=0;t<e.length;++t)r.push('  <manifest:file-entry manifest:full-path="'+e[t][0]+'" manifest:media-type="'+e[t][1]+'"/>\n');r.push("</manifest:manifest>");return r.join("")}function ii(e,r,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+r+'"/>\n',"  </rdf:Description>\n"].join("")}function si(e,r){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+r+'"/>\n',"  </rdf:Description>\n"].join("")}function fi(e){var r=[Mr];r.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var t=0;t!=e.length;++t){r.push(ii(e[t][0],e[t][1]));r.push(si("",e[t][0]))}r.push(ii("","Document","pkg"));r.push("</rdf:RDF>");return r.join("")}function oi(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>Sheet'+"JS "+e.version+"</meta:generator></office:meta></office:document-meta>"}var ci=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];var li=function(){var e=new Array(ci.length);for(var r=0;r<ci.length;++r){var t=ci[r];var a="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);e[r]=new RegExp("<"+a+"[^>]*>([\\s\\S]*?)</"+a+">")}return e}();function ui(e){var r={};e=ct(e);for(var t=0;t<ci.length;++t){var a=ci[t],n=e.match(li[t]);if(n!=null&&n.length>0)r[a[1]]=Yr(n[1]);if(a[2]==="date"&&r[a[1]])r[a[1]]=mr(r[a[1]])}return r}function hi(e,r,t,a,n){if(n[e]!=null||r==null||r==="")return;n[e]=r;r=qr(r);a[a.length]=t?kt(e,r,t):gt(e,r)}function di(e,r){var t=r||{};var a=[Mr,kt("cp:coreProperties",null,{"xmlns:cp":_t.CORE_PROPS,"xmlns:dc":_t.dc,"xmlns:dcterms":_t.dcterms,"xmlns:dcmitype":_t.dcmitype,"xmlns:xsi":_t.xsi})],n={};if(!e&&!t.Props)return a.join("");if(e){if(e.CreatedDate!=null)hi("dcterms:created",typeof e.CreatedDate==="string"?e.CreatedDate:Tt(e.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n);if(e.ModifiedDate!=null)hi("dcterms:modified",typeof e.ModifiedDate==="string"?e.ModifiedDate:Tt(e.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n)}for(var i=0;i!=ci.length;++i){var s=ci[i];var f=t.Props&&t.Props[s[1]]!=null?t.Props[s[1]]:e?e[s[1]]:null;if(f===true)f="1";else if(f===false)f="0";else if(typeof f=="number")f=String(f);if(f!=null)hi(s[0],f,null,a,n)}if(a.length>2){a[a.length]="</cp:coreProperties>";a[1]=a[1].replace("/>",">")}return a.join("")}var vi=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];var pi=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function mi(e,r,t,a){var n=[];if(typeof e=="string")n=mt(e,a);else for(var i=0;i<e.length;++i)n=n.concat(e[i].map(function(e){return{v:e}}));var s=typeof r=="string"?mt(r,a).map(function(e){return e.v}):r;var f=0,o=0;if(s.length>0)for(var c=0;c!==n.length;c+=2){o=+n[c+1].v;switch(n[c].v){case"Worksheets":;case"":;case"":;case" ":;case"":;case" ":;case"Arbeitsbltter":;case"alma Sayfalar":;case"Feuilles de calcul":;case"Fogli di lavoro":;case"Folhas de clculo":;case"Planilhas":;case"Regneark":;case"Hojas de clculo":;case"Werkbladen":t.Worksheets=o;t.SheetNames=s.slice(f,f+o);break;case"Named Ranges":;case"Rangos con nombre":;case"":;case"Benannte Bereiche":;case"Navngivne omrder":t.NamedRanges=o;t.DefinedNames=s.slice(f,f+o);break;case"Charts":;case"Diagramme":t.Chartsheets=o;t.ChartNames=s.slice(f,f+o);break;}f+=o}}function bi(e,r,t){var a={};if(!r)r={};e=ct(e);vi.forEach(function(t){var n=(e.match(ut(t[0]))||[])[1];switch(t[2]){case"string":if(n)r[t[1]]=Yr(n);break;case"bool":r[t[1]]=n==="true";break;case"raw":var i=e.match(new RegExp("<"+t[0]+"[^>]*>([\\s\\S]*?)</"+t[0]+">"));if(i&&i.length>0)a[t[1]]=i[1];break;}});if(a.HeadingPairs&&a.TitlesOfParts)mi(a.HeadingPairs,a.TitlesOfParts,r,t);return r}function gi(e){var r=[],t=kt;if(!e)e={};e.Application="SheetJS";r[r.length]=Mr;r[r.length]=kt("Properties",null,{xmlns:_t.EXT_PROPS,"xmlns:vt":_t.vt});vi.forEach(function(a){if(e[a[1]]===undefined)return;var n;switch(a[2]){case"string":n=qr(String(e[a[1]]));break;case"bool":n=e[a[1]]?"true":"false";break;}if(n!==undefined)r[r.length]=t(a[0],n)});r[r.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"}));r[r.length]=t("TitlesOfParts",t("vt:vector",e.SheetNames.map(function(e){return"<vt:lpstr>"+qr(e)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"}));if(r.length>2){r[r.length]="</Properties>";r[1]=r[1].replace("/>",">")}return r.join("")}var wi=/<[^>]+>[^<]*/g;function ki(e,r){var t={},a="";var n=e.match(wi);if(n)for(var i=0;i!=n.length;++i){var s=n[i],f=Gr(s);switch(f[0]){case"<?xml":break;case"<Properties":break;case"<property":a=Yr(f.name);break;case"</property>":a=null;break;default:if(s.indexOf("<vt:")===0){var o=s.split(">");var c=o[0].slice(4),l=o[1];switch(c){case"lpstr":;case"bstr":;case"lpwstr":t[a]=Yr(l);break;case"bool":t[a]=nt(l);break;case"i1":;case"i2":;case"i4":;case"i8":;case"int":;case"uint":t[a]=parseInt(l,10);break;case"r4":;case"r8":;case"decimal":t[a]=parseFloat(l);break;case"filetime":;case"date":t[a]=mr(l);break;case"cy":;case"error":t[a]=Yr(l);break;default:if(c.slice(-1)=="/")break;if(r.WTF&&typeof console!=="undefined")console.warn("Unexpected",s,c,o);}}else if(s.slice(0,2)==="</"){}else if(r.WTF)throw new Error(s);}}return t}function Ti(e){var r=[Mr,kt("Properties",null,{xmlns:_t.CUST_PROPS,"xmlns:vt":_t.vt})];if(!e)return r.join("");var t=1;rr(e).forEach(function a(n){++t;r[r.length]=kt("property",Et(e[n],true),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:qr(n)})});if(r.length>2){r[r.length]="</Properties>";r[1]=r[1].replace("/>",">")}return r.join("")}var Ei={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};var yi;function Si(e,r,t){if(!yi)yi=ar(Ei);r=yi[r]||r;e[r]=t}function _i(e,r){var t=[];rr(Ei).map(function(e){for(var r=0;r<ci.length;++r)if(ci[r][1]==e)return ci[r];for(r=0;r<vi.length;++r)if(vi[r][1]==e)return vi[r];throw e}).forEach(function(a){if(e[a[1]]==null)return;var n=r&&r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:e[a[1]];switch(a[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break;}if(typeof n=="number")n=String(n);else if(n===true||n===false){n=n?"1":"0"}else if(n instanceof Date)n=new Date(n).toISOString().replace(/\.\d*Z/,"");t.push(gt(Ei[a[1]]||a[1],n))});return kt("DocumentProperties",t.join(""),{xmlns:xt.o})}function Ai(e,r){var t=["Worksheets","SheetNames"];var a="CustomDocumentProperties";var n=[];if(e)rr(e).forEach(function(r){if(!Object.prototype.hasOwnProperty.call(e,r))return;for(var a=0;a<ci.length;++a)if(r==ci[a][1])return;for(a=0;a<vi.length;++a)if(r==vi[a][1])return;for(a=0;a<t.length;++a)if(r==t[a])return;var i=e[r];var s="string";if(typeof i=="number"){s="float";i=String(i)}else if(i===true||i===false){s="boolean";i=i?"1":"0"}else i=String(i);n.push(kt(Zr(r),i,{"dt:dt":s}))});if(r)rr(r).forEach(function(t){if(!Object.prototype.hasOwnProperty.call(r,t))return;if(e&&Object.prototype.hasOwnProperty.call(e,t))return;var a=r[t];var i="string";if(typeof a=="number"){i="float";a=String(a)}else if(a===true||a===false){i="boolean";a=a?"1":"0"}else if(a instanceof Date){i="dateTime.tz";a=a.toISOString()}else a=String(a);n.push(kt(Zr(t),a,{"dt:dt":i}))});return"<"+a+' xmlns="'+xt.o+'">'+n.join("")+"</"+a+">"}function xi(e){var r=e._R(4),t=e._R(4);return new Date((t/1e7*Math.pow(2,32)+r/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Ci(e){var r=typeof e=="string"?new Date(Date.parse(e)):e;var t=r.getTime()/1e3+11644473600;var a=t%Math.pow(2,32),n=(t-a)/Math.pow(2,32);a*=1e7;n*=1e7;var i=a/Math.pow(2,32)|0;if(i>0){a=a%Math.pow(2,32);n+=i}var s=ha(8);s._W(4,a);s._W(4,n);return s}function Ri(e,r,t){var a=e.l;var n=e._R(0,"lpstr-cp");if(t)while(e.l-a&3)++e.l;return n}function Oi(e,r,t){var a=e._R(0,"lpwstr");if(t)e.l+=4-(a.length+1&3)&3;return a}function Ii(e,r,t){if(r===31)return Oi(e);return Ri(e,r,t)}function Ni(e,r,t){return Ii(e,r,t===false?0:4)}function Fi(e,r){if(!r)throw new Error("VtUnalignedString must have positive length");return Ii(e,r,0)}function Di(e){var r=e._R(4);var t=[];for(var a=0;a!=r;++a){var n=e.l;t[a]=e._R(0,"lpwstr").replace(N,"");if(e.l-n&2)e.l+=2}return t}function Pi(e){var r=e._R(4);var t=[];for(var a=0;a!=r;++a)t[a]=e._R(0,"lpstr-cp").replace(N,"");return t}function Li(e){var r=e.l;var t=Hi(e,Pn);if(e[e.l]==0&&e[e.l+1]==0&&e.l-r&2)e.l+=2;var a=Hi(e,yn);return[t,a]}function Mi(e){var r=e._R(4);var t=[];for(var a=0;a<r/2;++a)t.push(Li(e));return t}function Ui(e,r){var t=e._R(4);var a={};for(var n=0;n!=t;++n){var i=e._R(4);var s=e._R(4);a[i]=e._R(s,r===1200?"utf16le":"utf8").replace(N,"").replace(F,"!");if(r===1200&&s%2)e.l+=2}if(e.l&3)e.l=e.l>>2+1<<2;return a}function Bi(e){var r=e._R(4);var t=e.slice(e.l,e.l+r);e.l+=r;if((r&3)>0)e.l+=4-(r&3)&3;return t}function Wi(e){var r={};r.Size=e._R(4);e.l+=r.Size+3-(r.Size-1)%4;return r}function Hi(e,r,t){var a=e._R(2),n,i=t||{};e.l+=2;if(r!==_n)if(a!==r&&Ln.indexOf(r)===-1&&!((r&65534)==4126&&(a&65534)==4126))throw new Error("Expected type "+r+" saw "+a);switch(r===_n?a:r){case 2:n=e._R(2,"i");if(!i.raw)e.l+=2;return n;case 3:n=e._R(4,"i");return n;case 11:return e._R(4)!==0;case 19:n=e._R(4);return n;case 30:return Ri(e,a,4).replace(N,"");case 31:return Oi(e);case 64:return xi(e);case 65:return Bi(e);case 71:return Wi(e);case 80:return Ni(e,a,!i.raw).replace(N,"");case 81:return Fi(e,a).replace(N,"");case 4108:return Mi(e);case 4126:;case 4127:return a==4127?Di(e):Pi(e);default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+a);}}function zi(e,r){var t=ha(4),a=ha(4);t._W(4,e==80?31:e);switch(e){case 3:a._W(-4,r);break;case 5:a=ha(8);a._W(8,r,"f");break;case 11:a._W(4,r?1:0);break;case 64:a=Ci(r);break;case 31:;case 80:a=ha(4+2*(r.length+1)+(r.length%2?0:2));a._W(4,r.length+1);a._W(0,r,"dbcs");while(a.l!=a.length)a._W(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r);}return O([t,a])}function Vi(e,r){var t=e.l;var a=e._R(4);var n=e._R(4);var i=[],s=0;var f=0;var c=-1,l={};for(s=0;s!=n;++s){var u=e._R(4);var h=e._R(4);i[s]=[u,h+t]}i.sort(function(e,r){return e[1]-r[1]});var d={};for(s=0;s!=n;++s){if(e.l!==i[s][1]){var v=true;if(s>0&&r)switch(r[i[s-1][0]].t){case 2:if(e.l+2===i[s][1]){e.l+=2;v=false}break;case 80:if(e.l<=i[s][1]){e.l=i[s][1];v=false}break;case 4108:if(e.l<=i[s][1]){e.l=i[s][1];v=false}break;}if((!r||s==0)&&e.l<=i[s][1]){v=false;e.l=i[s][1]}if(v)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(r){var p=r[i[s][0]];d[p.n]=Hi(e,p.t,{raw:true});if(p.p==="version")d[p.n]=String(d[p.n]>>16)+"."+("0000"+String(d[p.n]&65535)).slice(-4);if(p.n=="CodePage")switch(d[p.n]){case 0:d[p.n]=1252;case 874:;case 932:;case 936:;case 949:;case 950:;case 1250:;case 1251:;case 1253:;case 1254:;case 1255:;case 1256:;case 1257:;case 1258:;case 1e4:;case 1200:;case 1201:;case 1252:;case 65e3:;case-536:;case 65001:;case-535:o(f=d[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[p.n]);}}else{if(i[s][0]===1){f=d.CodePage=Hi(e,En);o(f);if(c!==-1){var m=e.l;e.l=i[c][1];l=Ui(e,f);e.l=m}}else if(i[s][0]===0){if(f===0){c=s;e.l=i[s+1][1];continue}l=Ui(e,f)}else{var b=l[i[s][0]];var g;switch(e[e.l]){case 65:e.l+=4;g=Bi(e);break;case 30:e.l+=4;g=Ni(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4;g=Ni(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4;g=e._R(4,"i");break;case 19:e.l+=4;g=e._R(4);break;case 5:e.l+=4;g=e._R(8,"f");break;case 11:e.l+=4;g=Zi(e,4);break;case 64:e.l+=4;g=mr(xi(e));break;default:throw new Error("unparsed value: "+e[e.l]);}d[b]=g}}}e.l=t+a;return d}var Gi=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function ji(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break;}return-1}function Xi(e,r,t){var a=ha(8),n=[],i=[];var s=8,f=0;var o=ha(8),c=ha(8);o._W(4,2);o._W(4,1200);c._W(4,1);i.push(o);n.push(c);s+=8+o.length;if(!r){c=ha(8);c._W(4,0);n.unshift(c);var l=[ha(4)];l[0]._W(4,e.length);for(f=0;f<e.length;++f){var u=e[f][0];o=ha(4+4+2*(u.length+1)+(u.length%2?0:2));o._W(4,f+2);o._W(4,u.length+1);o._W(0,u,"dbcs");while(o.l!=o.length)o._W(1,0);l.push(o)}o=O(l);i.unshift(o);s+=8+o.length}for(f=0;f<e.length;++f){if(r&&!r[e[f][0]])continue;if(Gi.indexOf(e[f][0])>-1||pi.indexOf(e[f][0])>-1)continue;if(e[f][1]==null)continue;var h=e[f][1],d=0;if(r){d=+r[e[f][0]];var v=t[d];if(v.p=="version"&&typeof h=="string"){var p=h.split(".");h=(+p[0]<<16)+(+p[1]||0)}o=zi(v.t,h)}else{var m=ji(h);if(m==-1){m=31;h=String(h)}o=zi(m,h)}i.push(o);c=ha(8);c._W(4,!r?2+f:d);n.push(c);s+=8+o.length}var b=8*(i.length+1);for(f=0;f<i.length;++f){n[f]._W(4,b);b+=i[f].length}a._W(4,s);a._W(4,i.length);return O([a].concat(n).concat(i))}function $i(e,r,t){var a=e.content;if(!a)return{};la(a,0);var n,i,s,f,o=0;a.chk("feff","Byte Order: ");a._R(2);var c=a._R(4);var l=a._R(16);if(l!==Ke.utils.consts.HEADER_CLSID&&l!==t)throw new Error("Bad PropertySet CLSID "+l);n=a._R(4);if(n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);i=a._R(16);f=a._R(4);if(n===1&&f!==a.l)throw new Error("Length mismatch: "+f+" !== "+a.l);else if(n===2){s=a._R(16);o=a._R(4)}var u=Vi(a,r);var h={SystemIdentifier:c};for(var d in u)h[d]=u[d];h.FMTID=i;if(n===1)return h;if(o-a.l==2)a.l+=2;if(a.l!==o)throw new Error("Length mismatch 2: "+a.l+" !== "+o);var v;try{v=Vi(a,null)}catch(p){}for(d in v)h[d]=v[d];h.FMTID=[i,s];return h}function Yi(e,r,t,a,n,i){var s=ha(n?68:48);var f=[s];s._W(2,65534);s._W(2,0);s._W(4,842412599);s._W(16,Ke.utils.consts.HEADER_CLSID,"hex");s._W(4,n?2:1);s._W(16,r,"hex");s._W(4,n?68:48);var o=Xi(e,t,a);f.push(o);if(n){var c=Xi(n,null,null);s._W(16,i,"hex");s._W(4,68+o.length);f.push(c)}return O(f)}function Ki(e,r){e._R(r);return null}function Ji(e,r){if(!r)r=ha(e);for(var t=0;t<e;++t)r._W(1,0);return r}function qi(e,r,t){var a=[],n=e.l+r;while(e.l<n)a.push(t(e,n-e.l));if(n!==e.l)throw new Error("Slurp error");return a}function Zi(e,r){return e._R(r)===1}function Qi(e,r){if(!r)r=ha(2);r._W(2,+!!e);return r}function es(e){return e._R(2,"u")}function rs(e,r){if(!r)r=ha(2);r._W(2,e);return r}function ts(e,r){return qi(e,r,es)}function as(e){var r=e._R(1),t=e._R(1);return t===1?r:r===1}function ns(e,r,t){if(!t)t=ha(2);t._W(1,r=="e"?+e:+!!e);t._W(1,r=="e"?1:0);return t}function is(e,t,a){var n=e._R(a&&a.biff>=12?2:1);var i="sbcs-cont";var s=r;if(a&&a.biff>=8)r=1200;if(!a||a.biff==8){var f=e._R(1);if(f){i="dbcs-cont"}}else if(a.biff==12){i="wstr"}if(a.biff>=2&&a.biff<=5)i="cpstr";var o=n?e._R(n,i):"";r=s;return o}function ss(e){var t=r;r=1200;var a=e._R(2),n=e._R(1);var i=n&4,s=n&8;var f=1+(n&1);var o=0,c;var l={};if(s)o=e._R(2);if(i)c=e._R(4);var u=f==2?"dbcs-cont":"sbcs-cont";var h=a===0?"":e._R(a,u);if(s)e.l+=4*o;if(i)e.l+=c;l.t=h;if(!s){l.raw="<t>"+l.t+"</t>";l.r=l.t}r=t;return l}function fs(e){var r=e.t||"",t=1;var a=ha(3+(t>1?2:0));a._W(2,r.length);a._W(1,(t>1?8:0)|1);if(t>1)a._W(2,t);var n=ha(2*r.length);n._W(2*r.length,r,"utf16le");var i=[a,n];return O(i)}function os(e,r,t){
var a;if(t){if(t.biff>=2&&t.biff<=5)return e._R(r,"cpstr");if(t.biff>=12)return e._R(r,"dbcs-cont")}var n=e._R(1);if(n===0){a=e._R(r,"sbcs-cont")}else{a=e._R(r,"dbcs-cont")}return a}function cs(e,r,t){var a=e._R(t&&t.biff==2?1:2);if(a===0){e.l++;return""}return os(e,a,t)}function ls(e,r,t){if(t.biff>5)return cs(e,r,t);var a=e._R(1);if(a===0){e.l++;return""}return e._R(a,t.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function us(e,r,t){if(!t)t=ha(3+2*e.length);t._W(2,e.length);t._W(1,1);t._W(31,e,"utf16le");return t}function hs(e){var r=e._R(1);e.l++;var t=e._R(2);e.l+=2;return[r,t]}function ds(e){var r=e._R(4),t=e.l;var a=false;if(r>24){e.l+=r-24;if(e._R(16)==="795881f43b1d7f48af2c825dc4852763")a=true;e.l=t}var n=e._R((a?r-24:r)>>1,"utf16le").replace(N,"");if(a)e.l+=24;return n}function vs(e){var r=e._R(2);var t="";while(r-- >0)t+="../";var a=e._R(0,"lpstr-ansi");e.l+=2;if(e._R(2)!=57005)throw new Error("Bad FileMoniker");var n=e._R(4);if(n===0)return t+a.replace(/\\/g,"/");var i=e._R(4);if(e._R(2)!=3)throw new Error("Bad FileMoniker");var s=e._R(i>>1,"utf16le").replace(N,"");return t+s}function ps(e,r){var t=e._R(16);r-=16;switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return ds(e,r);case"0303000000000000c000000000000046":return vs(e,r);default:throw new Error("Unsupported Moniker "+t);}}function ms(e){var r=e._R(4);var t=r>0?e._R(r,"utf16le").replace(N,""):"";return t}function bs(e,r){if(!r)r=ha(6+e.length*2);r._W(4,1+e.length);for(var t=0;t<e.length;++t)r._W(2,e.charCodeAt(t));r._W(2,0);return r}function gs(e,r){var t=e.l+r;var a=e._R(4);if(a!==2)throw new Error("Unrecognized streamVersion: "+a);var n=e._R(2);e.l+=2;var i,s,f,o,c="",l,u;if(n&16)i=ms(e,t-e.l);if(n&128)s=ms(e,t-e.l);if((n&257)===257)f=ms(e,t-e.l);if((n&257)===1)o=ps(e,t-e.l);if(n&8)c=ms(e,t-e.l);if(n&32)l=e._R(16);if(n&64)u=xi(e);e.l=t;var h=s||f||o||"";if(h&&c)h+="#"+c;if(!h)h="#"+c;if(n&2&&h.charAt(0)=="/"&&h.charAt(1)!="/")h="file://"+h;var d={Target:h};if(l)d.guid=l;if(u)d.time=u;if(i)d.Tooltip=i;return d}function ws(e){var r=ha(512),t=0;var a=e.Target;if(a.slice(0,7)=="file://")a=a.slice(7);var n=a.indexOf("#");var i=n>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=~2;break;}r._W(4,2);r._W(4,i);var s=[8,6815827,6619237,4849780,83];for(t=0;t<s.length;++t)r._W(4,s[t]);if(i==28){a=a.slice(1);bs(a,r)}else if(i&2){s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" ");for(t=0;t<s.length;++t)r._W(1,parseInt(s[t],16));var f=n>-1?a.slice(0,n):a;r._W(4,2*(f.length+1));for(t=0;t<f.length;++t)r._W(2,f.charCodeAt(t));r._W(2,0);if(i&8)bs(n>-1?a.slice(n+1):"",r)}else{s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" ");for(t=0;t<s.length;++t)r._W(1,parseInt(s[t],16));var o=0;while(a.slice(o*3,o*3+3)=="../"||a.slice(o*3,o*3+3)=="..\\")++o;r._W(2,o);r._W(4,a.length-3*o+1);for(t=0;t<a.length-3*o;++t)r._W(1,a.charCodeAt(t+3*o)&255);r._W(1,0);r._W(2,65535);r._W(2,57005);for(t=0;t<6;++t)r._W(4,0)}return r.slice(0,r.l)}function ks(e){var r=e._R(1),t=e._R(1),a=e._R(1),n=e._R(1);return[r,t,a,n]}function Ts(e,r){var t=ks(e,r);t[3]=0;return t}function Es(e){var r=e._R(2);var t=e._R(2);var a=e._R(2);return{r:r,c:t,ixfe:a}}function ys(e,r,t,a){if(!a)a=ha(6);a._W(2,e);a._W(2,r);a._W(2,t||0);return a}function Ss(e){var r=e._R(2);var t=e._R(2);e.l+=8;return{type:r,flags:t}}function _s(e,r,t){return r===0?"":ls(e,r,t)}function As(e,r,t){var a=t.biff>8?4:2;var n=e._R(a),i=e._R(a,"i"),s=e._R(a,"i");return[n,i,s]}function xs(e){var r=e._R(2);var t=fn(e);return[r,t]}function Cs(e,r,t){e.l+=4;r-=4;var a=e.l+r;var n=is(e,r,t);var i=e._R(2);a-=e.l;if(i!==a)throw new Error("Malformed AddinUdf: padding = "+a+" != "+i);e.l+=i;return n}function Rs(e){var r=e._R(2);var t=e._R(2);var a=e._R(2);var n=e._R(2);return{s:{c:a,r:r},e:{c:n,r:t}}}function Os(e,r){if(!r)r=ha(8);r._W(2,e.s.r);r._W(2,e.e.r);r._W(2,e.s.c);r._W(2,e.e.c);return r}function Is(e){var r=e._R(2);var t=e._R(2);var a=e._R(1);var n=e._R(1);return{s:{c:a,r:r},e:{c:n,r:t}}}var Ns=Is;function Fs(e){e.l+=4;var r=e._R(2);var t=e._R(2);var a=e._R(2);e.l+=12;return[t,r,a]}function Ds(e){var r={};e.l+=4;e.l+=16;r.fSharedNote=e._R(2);e.l+=4;return r}function Ps(e){var r={};e.l+=4;e.cf=e._R(2);return r}function Ls(e){e.l+=2;e.l+=e._R(2)}var Ms={0:Ls,4:Ls,5:Ls,6:Ls,7:Ps,8:Ls,9:Ls,10:Ls,11:Ls,12:Ls,13:Ds,14:Ls,15:Ls,16:Ls,17:Ls,18:Ls,19:Ls,20:Ls,21:Fs};function Us(e,r){var t=e.l+r;var a=[];while(e.l<t){var n=e._R(2);e.l-=2;try{a.push(Ms[n](e,t-e.l))}catch(i){e.l=t;return a}}if(e.l!=t)e.l=t;return a}function Bs(e,r){var t={BIFFVer:0,dt:0};t.BIFFVer=e._R(2);r-=2;if(r>=2){t.dt=e._R(2);e.l-=2}switch(t.BIFFVer){case 1536:;case 1280:;case 1024:;case 768:;case 512:;case 2:;case 7:break;default:if(r>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer);}e._R(r);return t}function Ws(e,r,t){var a=1536,n=16;switch(t.bookType){case"biff8":break;case"biff5":a=1280;n=8;break;case"biff4":a=4;n=6;break;case"biff3":a=3;n=6;break;case"biff2":a=2;n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version");}var i=ha(n);i._W(2,a);i._W(2,r);if(n>4)i._W(2,29282);if(n>6)i._W(2,1997);if(n>8){i._W(2,49161);i._W(2,1);i._W(2,1798);i._W(2,0)}return i}function Hs(e,r){if(r===0)return 1200;if(e._R(2)!==1200){}return 1200}function zs(e,r,t){if(t.enc){e.l+=r;return""}var a=e.l;var n=ls(e,0,t);e._R(r+a-e.l);return n}function Vs(e,r){var t=!r||r.biff==8;var a=ha(t?112:54);a._W(r.biff==8?2:1,7);if(t)a._W(1,0);a._W(4,859007059);a._W(4,5458548|(t?0:536870912));while(a.l<a.length)a._W(1,t?0:32);return a}function Gs(e,r,t){var a=t&&t.biff==8||r==2?e._R(2):(e.l+=r,0);return{fDialog:a&16,fBelow:a&64,fRight:a&128}}function js(e,r,t){var a=e._R(4);var n=e._R(1)&3;var i=e._R(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break;}var s=is(e,0,t);if(s.length===0)s="Sheet1";return{pos:a,hs:n,dt:i,name:s}}function Xs(e,r){var t=!r||r.biff>=8?2:1;var a=ha(8+t*e.name.length);a._W(4,e.pos);a._W(1,e.hs||0);a._W(1,e.dt);a._W(1,e.name.length);if(r.biff>=8)a._W(1,1);a._W(t*e.name.length,e.name,r.biff<8?"sbcs":"utf16le");var n=a.slice(0,a.l);n.l=a.l;return n}function $s(e,r){var t=e.l+r;var a=e._R(4);var n=e._R(4);var i=[];for(var s=0;s!=n&&e.l<t;++s){i.push(ss(e))}i.Count=a;i.Unique=n;return i}function Ys(e,r){var t=ha(8);t._W(4,e.Count);t._W(4,e.Unique);var a=[];for(var n=0;n<e.length;++n)a[n]=fs(e[n],r);var i=O([t].concat(a));i.parts=[t.length].concat(a.map(function(e){return e.length}));return i}function Ks(e,r){var t={};t.dsst=e._R(2);e.l+=r-2;return t}function Js(e){var r={};r.r=e._R(2);r.c=e._R(2);r.cnt=e._R(2)-r.c;var t=e._R(2);e.l+=4;var a=e._R(1);e.l+=3;if(a&7)r.level=a&7;if(a&32)r.hidden=true;if(a&64)r.hpt=t/20;return r}function qs(e){var r=Ss(e);if(r.type!=2211)throw new Error("Invalid Future Record "+r.type);var t=e._R(4);return t!==0}function Zs(e){e._R(2);return e._R(4)}function Qs(e,r,t){var a=0;if(!(t&&t.biff==2)){a=e._R(2)}var n=e._R(2);if(t&&t.biff==2){a=1-(n>>15);n&=32767}var i={Unsynced:a&1,DyZero:(a&2)>>1,ExAsc:(a&4)>>2,ExDsc:(a&8)>>3};return[i,n]}function ef(e){var r=e._R(2),t=e._R(2),a=e._R(2),n=e._R(2);var i=e._R(2),s=e._R(2),f=e._R(2);var o=e._R(2),c=e._R(2);return{Pos:[r,t],Dim:[a,n],Flags:i,CurTab:s,FirstTab:f,Selected:o,TabRatio:c}}function rf(){var e=ha(18);e._W(2,0);e._W(2,0);e._W(2,29280);e._W(2,17600);e._W(2,56);e._W(2,0);e._W(2,0);e._W(2,1);e._W(2,500);return e}function tf(e,r,t){if(t&&t.biff>=2&&t.biff<5)return{};var a=e._R(2);return{RTL:a&64}}function af(e){var r=ha(18),t=1718;if(e&&e.RTL)t|=64;r._W(2,t);r._W(4,0);r._W(4,64);r._W(4,0);r._W(4,0);return r}function nf(){}function sf(e,r,t){var a={dyHeight:e._R(2),fl:e._R(2)};switch(t&&t.biff||8){case 2:break;case 3:;case 4:e.l+=2;break;default:e.l+=10;break;}a.name=is(e,0,t);return a}function ff(e,r){var t=e.name||"Arial";var a=r&&r.biff==5,n=a?15+t.length:16+2*t.length;var i=ha(n);i._W(2,(e.sz||12)*20);i._W(4,0);i._W(2,400);i._W(4,0);i._W(2,0);i._W(1,t.length);if(!a)i._W(1,1);i._W((a?1:2)*t.length,t,a?"sbcs":"utf16le");return i}function of(e){var r=Es(e);r.isst=e._R(4);return r}function cf(e,r,t,a){var n=ha(10);ys(e,r,a,n);n._W(4,t);return n}function lf(e,r,t){if(t.biffguess&&t.biff==2)t.biff=5;var a=e.l+r;var n=Es(e,6);if(t.biff==2)e.l++;var i=cs(e,a-e.l,t);n.val=i;return n}function uf(e,r,t,a,n){var i=!n||n.biff==8;var s=ha(6+2+ +i+(1+i)*t.length);ys(e,r,a,s);s._W(2,t.length);if(i)s._W(1,1);s._W((1+i)*t.length,t,i?"utf16le":"sbcs");return s}function hf(e,r,t){var a=e._R(2);var n=ls(e,0,t);return[a,n]}function df(e,r,t,a){var n=t&&t.biff==5;if(!a)a=ha(n?3+r.length:5+2*r.length);a._W(2,e);a._W(n?1:2,r.length);if(!n)a._W(1,1);a._W((n?1:2)*r.length,r,n?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;if(i.l==null)i.l=i.length;return i}var vf=ls;function pf(e,r,t){var a=e.l+r;var n=t.biff==8||!t.biff?4:2;var i=e._R(n),s=e._R(n);var f=e._R(2),o=e._R(2);e.l=a;return{s:{r:i,c:f},e:{r:s,c:o}}}function mf(e,r){var t=r.biff==8||!r.biff?4:2;var a=ha(2*t+6);a._W(t,e.s.r);a._W(t,e.e.r+1);a._W(2,e.s.c);a._W(2,e.e.c+1);a._W(2,0);return a}function bf(e){var r=e._R(2),t=e._R(2);var a=xs(e);return{r:r,c:t,ixfe:a[0],rknum:a[1]}}function gf(e,r){var t=e.l+r-2;var a=e._R(2),n=e._R(2);var i=[];while(e.l<t)i.push(xs(e));if(e.l!==t)throw new Error("MulRK read error");var s=e._R(2);if(i.length!=s-n+1)throw new Error("MulRK length mismatch");return{r:a,c:n,C:s,rkrec:i}}function wf(e,r){var t=e.l+r-2;var a=e._R(2),n=e._R(2);var i=[];while(e.l<t)i.push(e._R(2));if(e.l!==t)throw new Error("MulBlank read error");var s=e._R(2);if(i.length!=s-n+1)throw new Error("MulBlank length mismatch");return{r:a,c:n,C:s,ixfe:i}}function kf(e,r,t,a){var n={};var i=e._R(4),s=e._R(4);var f=e._R(4),o=e._R(2);n.patternType=Wn[f>>26];if(!a.cellStyles)return n;n.alc=i&7;n.fWrap=i>>3&1;n.alcV=i>>4&7;n.fJustLast=i>>7&1;n.trot=i>>8&255;n.cIndent=i>>16&15;n.fShrinkToFit=i>>20&1;n.iReadOrder=i>>22&2;n.fAtrNum=i>>26&1;n.fAtrFnt=i>>27&1;n.fAtrAlc=i>>28&1;n.fAtrBdr=i>>29&1;n.fAtrPat=i>>30&1;n.fAtrProt=i>>31&1;n.dgLeft=s&15;n.dgRight=s>>4&15;n.dgTop=s>>8&15;n.dgBottom=s>>12&15;n.icvLeft=s>>16&127;n.icvRight=s>>23&127;n.grbitDiag=s>>30&3;n.icvTop=f&127;n.icvBottom=f>>7&127;n.icvDiag=f>>14&127;n.dgDiag=f>>21&15;n.icvFore=o&127;n.icvBack=o>>7&127;n.fsxButton=o>>14&1;return n}function Tf(e,r,t){var a={};a.ifnt=e._R(2);a.numFmtId=e._R(2);a.flags=e._R(2);a.fStyle=a.flags>>2&1;r-=6;a.data=kf(e,r,a.fStyle,t);return a}function Ef(e,r,t,a){var n=t&&t.biff==5;if(!a)a=ha(n?16:20);a._W(2,0);if(e.style){a._W(2,e.numFmtId||0);a._W(2,65524)}else{a._W(2,e.numFmtId||0);a._W(2,r<<4)}var i=0;if(e.numFmtId>0&&n)i|=1024;a._W(4,i);a._W(4,0);if(!n)a._W(4,0);a._W(2,0);return a}function yf(e){e.l+=4;var r=[e._R(2),e._R(2)];if(r[0]!==0)r[0]--;if(r[1]!==0)r[1]--;if(r[0]>7||r[1]>7)throw new Error("Bad Gutters: "+r.join("|"));return r}function Sf(e){var r=ha(8);r._W(4,0);r._W(2,e[0]?e[0]+1:0);r._W(2,e[1]?e[1]+1:0);return r}function _f(e,r,t){var a=Es(e,6);if(t.biff==2||r==9)++e.l;var n=as(e,2);a.val=n;a.t=n===true||n===false?"b":"e";return a}function Af(e,r,t,a,n,i){var s=ha(8);ys(e,r,a,s);ns(t,i,s);return s}function xf(e,r,t){if(t.biffguess&&t.biff==2)t.biff=5;var a=Es(e,6);var n=dn(e,8);a.val=n;return a}function Cf(e,r,t,a){var n=ha(14);ys(e,r,a,n);vn(t,n);return n}var Rf=_s;function Of(e,r,t){var a=e.l+r;var n=e._R(2);var i=e._R(2);t.sbcch=i;if(i==1025||i==14849)return[i,n];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);var s=os(e,i);var f=[];while(a>e.l)f.push(cs(e));return[i,n,s,f]}function If(e,r,t){var a=e._R(2);var n;var i={fBuiltIn:a&1,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};if(t.sbcch===14849)n=Cs(e,r-2,t);i.body=n||e._R(r-2);if(typeof n==="string")i.Name=n;return i}var Nf=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Ff(e,r,t){var a=e.l+r;var n=e._R(2);var i=e._R(1);var s=e._R(1);var f=e._R(t&&t.biff==2?1:2);var o=0;if(!t||t.biff>=5){if(t.biff!=5)e.l+=2;o=e._R(2);if(t.biff==5)e.l+=2;e.l+=4}var c=os(e,s,t);if(n&32)c=Nf[c.charCodeAt(0)];var l=a-e.l;if(t&&t.biff==2)--l;var u=a==e.l||f===0||!(l>0)?[]:ld(e,l,t,f);return{chKey:i,Name:c,itab:o,rgce:u}}function Df(e,r,t){if(t.biff<8)return Pf(e,r,t);var a=[],n=e.l+r,i=e._R(t.biff>8?4:2);while(i--!==0)a.push(As(e,t.biff>8?12:6,t));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return a}function Pf(e,r,t){if(e[e.l+1]==3)e[e.l]++;var a=is(e,r,t);return a.charCodeAt(0)==3?a.slice(1):a}function Lf(e,r,t){if(t.biff<8){e.l+=r;return}var a=e._R(2);var n=e._R(2);var i=os(e,a,t);var s=os(e,n,t);return[i,s]}function Mf(e,r,t){var a=Is(e,6);e.l++;var n=e._R(1);r-=8;return[ud(e,r,t),n,a]}function Uf(e,r,t){var a=Ns(e,6);switch(t.biff){case 2:e.l++;r-=7;break;case 3:;case 4:e.l+=2;r-=8;break;default:e.l+=6;r-=12;}return[a,od(e,r,t,a)]}function Bf(e){var r=e._R(4)!==0;var t=e._R(4)!==0;var a=e._R(4);return[r,t,a]}function Wf(e,r,t){if(t.biff<8)return;var a=e._R(2),n=e._R(2);var i=e._R(2),s=e._R(2);var f=ls(e,0,t);if(t.biff<8)e._R(1);return[{r:a,c:n},f,s,i]}function Hf(e,r,t){return Wf(e,r,t)}function zf(e,r){var t=[];var a=e._R(2);while(a--)t.push(Rs(e,r));return t}function Vf(e){var r=ha(2+e.length*8);r._W(2,e.length);for(var t=0;t<e.length;++t)Os(e[t],r);return r}function Gf(e,r,t){if(t&&t.biff<8)return Xf(e,r,t);var a=Fs(e,22);var n=Us(e,r-22,a[1]);return{cmo:a,ft:n}}var jf={8:function(e,r){var t=e.l+r;e.l+=10;var a=e._R(2);e.l+=4;e.l+=2;e.l+=2;e.l+=2;e.l+=4;var n=e._R(1);e.l+=n;e.l=t;return{fmt:a}}};function Xf(e,r,t){e.l+=4;var a=e._R(2);var n=e._R(2);var i=e._R(2);e.l+=2;e.l+=2;e.l+=2;e.l+=2;e.l+=2;e.l+=2;e.l+=2;e.l+=2;e.l+=2;e.l+=6;r-=36;var s=[];s.push((jf[a]||ua)(e,r,t));return{cmo:[n,a,i],ft:s}}function $f(e,r,t){var a=e.l;var n="";try{e.l+=4;var i=(t.lastobj||{cmo:[0,0]}).cmo[1];var s;if([0,5,7,11,12,14].indexOf(i)==-1)e.l+=6;else s=hs(e,6,t);var f=e._R(2);e._R(2);es(e,2);var o=e._R(2);e.l+=o;for(var c=1;c<e.lens.length-1;++c){if(e.l-a!=e.lens[c])throw new Error("TxO: bad continue record");var l=e[e.l];var u=os(e,e.lens[c+1]-e.lens[c]-1);n+=u;if(n.length>=(l?f:2*f))break}if(n.length!==f&&n.length!==f*2){throw new Error("cchText: "+f+" != "+n.length)}e.l=a+r;return{t:n}}catch(h){e.l=a+r;return{t:n}}}function Yf(e,r){var t=Rs(e,8);e.l+=16;var a=gs(e,r-24);return[t,a]}function Kf(e){var r=ha(24);var t=Ra(e[0]);r._W(2,t.r);r._W(2,t.r);r._W(2,t.c);r._W(2,t.c);var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" ");for(var n=0;n<16;++n)r._W(1,parseInt(a[n],16));return O([r,ws(e[1])])}function Jf(e,r){e._R(2);var t=Rs(e,8);var a=e._R((r-10)/2,"dbcs-cont");a=a.replace(N,"");return[t,a]}function qf(e){var r=e[1].Tooltip;var t=ha(10+2*(r.length+1));t._W(2,2048);var a=Ra(e[0]);t._W(2,a.r);t._W(2,a.r);t._W(2,a.c);t._W(2,a.c);for(var n=0;n<r.length;++n)t._W(2,r.charCodeAt(n));t._W(2,0);return t}function Zf(e){var r=[0,0],t;t=e._R(2);r[0]=Bn[t]||t;t=e._R(2);r[1]=Bn[t]||t;return r}function Qf(e){if(!e)e=ha(4);e._W(2,1);e._W(2,1);return e}function eo(e){var r=e._R(2);var t=[];while(r-- >0)t.push(Ts(e,8));return t}function ro(e){var r=e._R(2);var t=[];while(r-- >0)t.push(Ts(e,8));return t}function to(e){e.l+=2;var r={cxfs:0,crc:0};r.cxfs=e._R(2);r.crc=e._R(4);return r}function ao(e,r,t){if(!t.cellStyles)return ua(e,r);var a=t&&t.biff>=12?4:2;var n=e._R(a);var i=e._R(a);var s=e._R(a);var f=e._R(a);var o=e._R(2);if(a==2)e.l+=2;var c={s:n,e:i,w:s,ixfe:f,flags:o};if(t.biff>=5||!t.biff)c.level=o>>8&7;return c}function no(e,r){var t=ha(12);t._W(2,r);t._W(2,r);t._W(2,e.width*256);t._W(2,0);var a=0;if(e.hidden)a|=1;t._W(1,a);a=e.level||0;t._W(1,a);t._W(2,0);return t}function io(e,r){var t={};if(r<32)return t;e.l+=16;t.header=dn(e,8);t.footer=dn(e,8);e.l+=2;return t}function so(e,r,t){var a={area:false};if(t.biff!=5){e.l+=r;return a}var n=e._R(1);e.l+=3;if(n&16)a.area=true;return a}function fo(e){var r=ha(2*e);for(var t=0;t<e;++t)r._W(2,t+1);return r}var oo=Es;var co=ts;var lo=cs;function uo(e){var r=e._R(2);var t=e._R(2);var a=e._R(4);var n={fmt:r,env:t,len:a,data:e.slice(e.l,e.l+a)};e.l+=a;return n}function ho(e,r,t){if(t.biffguess&&t.biff==5)t.biff=2;var a=Es(e,6);++e.l;var n=ls(e,r-7,t);a.t="str";a.val=n;return a}function vo(e){var r=Es(e,6);++e.l;var t=dn(e,8);r.t="n";r.val=t;return r}function po(e,r,t){var a=ha(15);kb(a,e,r);a._W(8,t,"f");return a}function mo(e){var r=Es(e,6);++e.l;var t=e._R(2);r.t="n";r.val=t;return r}function bo(e,r,t){var a=ha(9);kb(a,e,r);a._W(2,t);return a}function go(e){var r=e._R(1);if(r===0){e.l++;return""}return e._R(r,"sbcs-cont")}function wo(e,r){e.l+=6;e.l+=2;e.l+=1;e.l+=3;e.l+=1;e.l+=r-13}function ko(e,r,t){var a=e.l+r;var n=Es(e,6);var i=e._R(2);var s=os(e,i,t);e.l=a;n.t="str";n.val=s;return n}var To=[2,3,48,49,131,139,140,245];var Eo=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969};var r=ar({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(r,t){var n=[];var i=y(1);switch(t.type){case"base64":i=_(k(r));break;case"binary":i=_(r);break;case"buffer":;case"array":i=r;break;}la(i,0);var s=i._R(1);var f=!!(s&136);var o=false,c=false;switch(s){case 2:break;case 3:break;case 48:o=true;f=true;break;case 49:o=true;f=true;break;case 131:break;case 139:break;case 140:c=true;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+s.toString(16));}var l=0,u=521;if(s==2)l=i._R(2);i.l+=3;if(s!=2)l=i._R(4);if(l>1048576)l=1e6;if(s!=2)u=i._R(2);var h=i._R(2);var d=t.codepage||1252;if(s!=2){i.l+=16;i._R(1);if(i[i.l]!==0)d=e[i[i.l]];i.l+=1;i.l+=2}if(c)i.l+=36;var v=[],p={};var m=Math.min(i.length,s==2?521:u-10-(o?264:0));var b=c?32:11;while(i.l<m&&i[i.l]!=13){p={};p.name=a.utils.decode(d,i.slice(i.l,i.l+b)).replace(/[\u0000\r\n].*$/g,"");i.l+=b;p.type=String.fromCharCode(i._R(1));if(s!=2&&!c)p.offset=i._R(4);p.len=i._R(1);if(s==2)p.offset=i._R(2);p.dec=i._R(1);if(p.name.length)v.push(p);if(s!=2)i.l+=c?13:14;switch(p.type){case"B":if((!o||p.len!=8)&&t.WTF)console.log("Skipping "+p.name+":"+p.type);break;case"G":;case"P":if(t.WTF)console.log("Skipping "+p.name+":"+p.type);break;case"+":;case"0":;case"@":;case"C":;case"D":;case"F":;case"I":;case"L":;case"M":;case"N":;case"O":;case"T":;case"Y":break;default:throw new Error("Unknown Field Type: "+p.type);}}if(i[i.l]!==13)i.l=u-1;if(i._R(1)!==13)throw new Error("DBF Terminator not found "+i.l+" "+i[i.l]);i.l=u;var g=0,w=0;n[0]=[];for(w=0;w!=v.length;++w)n[0][w]=v[w].name;while(l-- >0){if(i[i.l]===42){i.l+=h;continue}++i.l;n[++g]=[];w=0;for(w=0;w!=v.length;++w){var T=i.slice(i.l,i.l+v[w].len);i.l+=v[w].len;la(T,0);var E=a.utils.decode(d,T);switch(v[w].type){case"C":if(E.trim().length)n[g][w]=E.replace(/\s+$/,"");break;case"D":if(E.length===8)n[g][w]=new Date(+E.slice(0,4),+E.slice(4,6)-1,+E.slice(6,8));else n[g][w]=E;break;case"F":n[g][w]=parseFloat(E.trim());break;case"+":;case"I":n[g][w]=c?T._R(-4,"i")^2147483648:T._R(4,"i");break;case"L":switch(E.trim().toUpperCase()){case"Y":;case"T":n[g][w]=true;break;case"N":;case"F":n[g][w]=false;break;case"":;case"?":break;default:throw new Error("DBF Unrecognized L:|"+E+"|");}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+s.toString(16));n[g][w]="##MEMO##"+(c?parseInt(E.trim(),10):T._R(4));break;case"N":E=E.replace(/\u0000/g,"").trim();if(E&&E!=".")n[g][w]=+E||0;break;case"@":n[g][w]=new Date(T._R(-8,"f")-621356832e5);break;case"T":n[g][w]=new Date((T._R(4)-2440588)*864e5+T._R(4));break;case"Y":n[g][w]=T._R(4,"i")/1e4+T._R(4,"i")/1e4*Math.pow(2,32);break;case"O":n[g][w]=-T._R(-8,"f");break;case"B":if(o&&v[w].len==8){n[g][w]=T._R(8,"f");break};case"G":;case"P":T.l+=v[w].len;break;case"0":if(v[w].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+v[w].type);}}}if(s!=2)if(i.l<i.length&&i[i.l++]!=26)throw new Error("DBF EOF Marker missing "+(i.l-1)+" of "+i.length+" "+i[i.l-1].toString(16));if(t&&t.sheetRows)n=n.slice(0,t.sheetRows);t.DBF=v;return n}function i(e,r){var t=r||{};if(!t.dateNF)t.dateNF="yyyymmdd";var a=Ua(n(e,t),t);a["!cols"]=t.DBF.map(function(e){return{wch:e.len,DBF:e}});delete t.DBF;return a}function s(e,r){try{return La(i(e,r),r)}catch(t){if(r&&r.WTF)throw t}return{SheetNames:[],Sheets:{}}}var f={B:8,C:250,L:1,D:8,"?":0,"":0};function c(e,a){var n=a||{};if(+n.codepage>=0)o(+n.codepage);if(n.type=="string")throw new Error("Cannot write DBF to JS string");var i=va();var s=Ew(e,{header:1,raw:true,cellDates:true});var c=s[0],l=s.slice(1),u=e["!cols"]||[];var h=0,d=0,v=0,p=1;for(h=0;h<c.length;++h){if(((u[h]||{}).DBF||{}).name){c[h]=u[h].DBF.name;++v;continue}if(c[h]==null)continue;++v;if(typeof c[h]==="number")c[h]=c[h].toString(10);if(typeof c[h]!=="string")throw new Error("DBF Invalid column name "+c[h]+" |"+typeof c[h]+"|");if(c.indexOf(c[h])!==h)for(d=0;d<1024;++d)if(c.indexOf(c[h]+"_"+d)==-1){c[h]+="_"+d;break}}var m=Fa(e["!ref"]);var b=[];var g=[];var w=[];for(h=0;h<=m.e.c-m.s.c;++h){var k="",T="",E=0;var y=[];for(d=0;d<l.length;++d){if(l[d][h]!=null)y.push(l[d][h])}if(y.length==0||c[h]==null){b[h]="?";continue}for(d=0;d<y.length;++d){switch(typeof y[d]){case"number":T="B";break;case"string":T="C";break;case"boolean":T="L";break;case"object":T=y[d]instanceof Date?"D":"C";break;default:T="C";}E=Math.max(E,String(y[d]).length);k=k&&k!=T?"C":T}if(E>250)E=250;T=((u[h]||{}).DBF||{}).type;if(T=="C"){if(u[h].DBF.len>E)E=u[h].DBF.len}if(k=="B"&&T=="N"){k="N";w[h]=u[h].DBF.dec;E=u[h].DBF.len}g[h]=k=="C"||T=="N"?E:f[k]||0;p+=g[h];b[h]=k}var S=i.next(32);S._W(4,318902576);S._W(4,l.length);S._W(2,296+32*v);S._W(2,p);for(h=0;h<4;++h)S._W(4,0);S._W(4,0|(+r[t]||3)<<8);for(h=0,d=0;h<c.length;++h){if(c[h]==null)continue;var _=i.next(32);var A=(c[h].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);_._W(1,A,"sbcs");_._W(1,b[h]=="?"?"C":b[h],"sbcs");_._W(4,d);_._W(1,g[h]||f[b[h]]||0);_._W(1,w[h]||0);_._W(1,2);_._W(4,0);_._W(1,0);_._W(4,0);_._W(4,0);d+=g[h]||f[b[h]]||0}var x=i.next(264);x._W(4,13);for(h=0;h<65;++h)x._W(4,0);for(h=0;h<l.length;++h){var C=i.next(p);C._W(1,0);for(d=0;d<c.length;++d){if(c[d]==null)continue;switch(b[d]){case"L":C._W(1,l[h][d]==null?63:l[h][d]?84:70);break;case"B":C._W(8,l[h][d]||0,"f");break;case"N":var R="0";if(typeof l[h][d]=="number")R=l[h][d].toFixed(w[d]||0);for(v=0;v<g[d]-R.length;++v)C._W(1,32);C._W(1,R,"sbcs");break;case"D":if(!l[h][d])C._W(8,"00000000","sbcs");else{C._W(4,("0000"+l[h][d].getFullYear()).slice(-4),"sbcs");C._W(2,("00"+(l[h][d].getMonth()+1)).slice(-2),"sbcs");C._W(2,("00"+l[h][d].getDate()).slice(-2),"sbcs")}break;case"C":var O=String(l[h][d]!=null?l[h][d]:"").slice(0,g[d]);C._W(1,O,"sbcs");for(v=0;v<g[d]-O.length;++v)C._W(1,32);break;}}}i.next(1)._W(1,26);return i.end()}return{to_workbook:s,to_sheet:i,from_sheet:c}}();var yo=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223};var r=new RegExp("N("+rr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm");var t=function(r,t){var a=e[t];return typeof a=="number"?p(a):a};var n=function(e,r,t){var a=r.charCodeAt(0)-32<<4|t.charCodeAt(0)-48;return a==59?e:p(a)};e["|"]=254;function i(e,r){switch(r.type){case"base64":return s(k(e),r);case"binary":return s(e,r);case"buffer":return s(T&&Buffer.isBuffer(e)?e.toString("binary"):x(e),r);case"array":return s(br(e),r);}throw new Error("Unrecognized type "+r.type)}function s(e,i){var s=e.split(/[\n\r]+/),f=-1,c=-1,l=0,u=0,h=[];var d=[];var v=null;var p={},m=[],b=[],g=[];var w=0,k;if(+i.codepage>=0)o(+i.codepage);for(;l!==s.length;++l){w=0;var T=s[l].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(r,t);var E=T.replace(/;;/g,"\0").split(";").map(function(e){return e.replace(/\u0000/g,";")});var y=E[0],S;if(T.length>0)switch(y){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":if(E[1].charAt(0)=="P")d.push(T.slice(3).replace(/;;/g,";"));break;case"C":var _=false,A=false,x=false,C=false,R=-1,O=-1;for(u=1;u<E.length;++u)switch(E[u].charAt(0)){case"A":break;case"X":c=parseInt(E[u].slice(1))-1;A=true;break;case"Y":f=parseInt(E[u].slice(1))-1;if(!A)c=0;for(k=h.length;k<=f;++k)h[k]=[];break;case"K":S=E[u].slice(1);if(S.charAt(0)==='"')S=S.slice(1,S.length-1);else if(S==="TRUE")S=true;else if(S==="FALSE")S=false;else if(!isNaN(kr(S))){S=kr(S);if(v!==null&&De(v))S=ur(S)}else if(!isNaN(Er(S).getDate())){S=mr(S)}if(typeof a!=="undefined"&&typeof S=="string"&&(i||{}).type!="string"&&(i||{}).codepage)S=a.utils.decode(i.codepage,S);_=true;break;case"E":C=true;var I=Au(E[u].slice(1),{r:f,c:c});h[f][c]=[h[f][c],I];break;case"S":x=true;h[f][c]=[h[f][c],"S5S"];break;case"G":break;case"R":R=parseInt(E[u].slice(1))-1;break;case"C":O=parseInt(E[u].slice(1))-1;break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+T);}if(_){if(h[f][c]&&h[f][c].length==2)h[f][c][0]=S;else h[f][c]=S;v=null}if(x){if(C)throw new Error("SYLK shared formula cannot have own formula");var N=R>-1&&h[R][O];if(!N||!N[1])throw new Error("SYLK shared formula cannot find base");h[f][c][1]=Ru(N[1],{r:f-R,c:c-O})}break;case"F":var F=0;for(u=1;u<E.length;++u)switch(E[u].charAt(0)){case"X":c=parseInt(E[u].slice(1))-1;++F;break;case"Y":f=parseInt(E[u].slice(1))-1;for(k=h.length;k<=f;++k)h[k]=[];break;case"M":w=parseInt(E[u].slice(1))/20;break;case"F":break;case"G":break;case"P":v=d[parseInt(E[u].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":g=E[u].slice(1).split(" ");for(k=parseInt(g[0],10);k<=parseInt(g[1],10);++k){w=parseInt(g[2],10);b[k-1]=w===0?{hidden:true}:{wch:w};Ic(b[k-1])}break;case"C":c=parseInt(E[u].slice(1))-1;if(!b[c])b[c]={};break;case"R":f=parseInt(E[u].slice(1))-1;if(!m[f])m[f]={};if(w>0){m[f].hpt=w;m[f].hpx=Pc(w)}else if(w===0)m[f].hidden=true;break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+T);}if(F<1)v=null;break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+T);}}if(m.length>0)p["!rows"]=m;if(b.length>0)p["!cols"]=b;if(i&&i.sheetRows)h=h.slice(0,i.sheetRows);return[h,p]}function f(e,r){var t=i(e,r);var a=t[0],n=t[1];var s=Ua(a,r);rr(n).forEach(function(e){s[e]=n[e]});return s}function c(e,r){return La(f(e,r),r)}function l(e,r,t,a){var n="C;Y"+(t+1)+";X"+(a+1)+";K";switch(e.t){case"n":n+=e.v||0;if(e.f&&!e.F)n+=";E"+Cu(e.f,{r:t,c:a});break;case"b":n+=e.v?"TRUE":"FALSE";break;case"e":n+=e.w||e.v;break;case"d":n+='"'+(e.w||e.v)+'"';break;case"s":n+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"';break;}return n}function u(e,r){r.forEach(function(r,t){var a="F;W"+(t+1)+" "+(t+1)+" ";if(r.hidden)a+="0";else{if(typeof r.width=="number"&&!r.wpx)r.wpx=Ac(r.width);if(typeof r.wpx=="number"&&!r.wch)r.wch=xc(r.wpx);if(typeof r.wch=="number")a+=Math.round(r.wch)}if(a.charAt(a.length-1)!=" ")e.push(a)})}function h(e,r){r.forEach(function(r,t){var a="F;";if(r.hidden)a+="M0;";else if(r.hpt)a+="M"+20*r.hpt+";";else if(r.hpx)a+="M"+20*Dc(r.hpx)+";";if(a.length>2)e.push(a+"R"+(t+1))})}function d(e,r){var t=["ID;PWXL;N;E"],a=[];var n=Fa(e["!ref"]),i;var s=Array.isArray(e);var f="\r\n";t.push("P;PGeneral");t.push("F;P0;DG0G8;M255");if(e["!cols"])u(t,e["!cols"]);if(e["!rows"])h(t,e["!rows"]);t.push("B;Y"+(n.e.r-n.s.r+1)+";X"+(n.e.c-n.s.c+1)+";D"+[n.s.c,n.s.r,n.e.c,n.e.r].join(" "));for(var o=n.s.r;o<=n.e.r;++o){for(var c=n.s.c;c<=n.e.c;++c){var d=Oa({r:o,c:c});i=s?(e[o]||[])[c]:e[d];if(!i||i.v==null&&(!i.f||i.F))continue;a.push(l(i,e,o,c,r))}}return t.join(f)+f+a.join(f)+f+"E"+f}return{to_workbook:c,to_sheet:f,from_sheet:d}}();var So=function(){function e(e,t){switch(t.type){case"base64":return r(k(e),t);case"binary":return r(e,t);case"buffer":return r(T&&Buffer.isBuffer(e)?e.toString("binary"):x(e),t);case"array":return r(br(e),t);}throw new Error("Unrecognized type "+t.type)}function r(e,r){var t=e.split("\n"),a=-1,n=-1,i=0,s=[];for(;i!==t.length;++i){if(t[i].trim()==="BOT"){s[++a]=[];n=0;continue}if(a<0)continue;var f=t[i].trim().split(",");var o=f[0],c=f[1];++i;var l=t[i]||"";while((l.match(/["]/g)||[]).length&1&&i<t.length-1)l+="\n"+t[++i];
l=l.trim();switch(+o){case-1:if(l==="BOT"){s[++a]=[];n=0;continue}else if(l!=="EOD")throw new Error("Unrecognized DIF special command "+l);break;case 0:if(l==="TRUE")s[a][n]=true;else if(l==="FALSE")s[a][n]=false;else if(!isNaN(kr(c)))s[a][n]=kr(c);else if(!isNaN(Er(c).getDate()))s[a][n]=mr(c);else s[a][n]=c;++n;break;case 1:l=l.slice(1,l.length-1);l=l.replace(/""/g,'"');if(b&&l&&l.match(/^=".*"$/))l=l.slice(2,-1);s[a][n++]=l!==""?l:null;break;}if(l==="EOD")break}if(r&&r.sheetRows)s=s.slice(0,r.sheetRows);return s}function t(r,t){return Ua(e(r,t),t)}function a(e,r){return La(t(e,r),r)}var n=function(){var e=function t(e,r,a,n,i){e.push(r);e.push(a+","+n);e.push('"'+i.replace(/"/g,'""')+'"')};var r=function a(e,r,t,n){e.push(r+","+t);e.push(r==1?'"'+n.replace(/"/g,'""')+'"':n)};return function n(t){var a=[];var n=Fa(t["!ref"]),i;var s=Array.isArray(t);e(a,"TABLE",0,1,"sheetjs");e(a,"VECTORS",0,n.e.r-n.s.r+1,"");e(a,"TUPLES",0,n.e.c-n.s.c+1,"");e(a,"DATA",0,0,"");for(var f=n.s.r;f<=n.e.r;++f){r(a,-1,0,"BOT");for(var o=n.s.c;o<=n.e.c;++o){var c=Oa({r:f,c:o});i=s?(t[f]||[])[o]:t[c];if(!i){r(a,1,0,"");continue}switch(i.t){case"n":var l=b?i.w:i.v;if(!l&&i.v!=null)l=i.v;if(l==null){if(b&&i.f&&!i.F)r(a,1,0,"="+i.f);else r(a,1,0,"")}else r(a,0,l,"V");break;case"b":r(a,0,i.v?1:0,i.v?"TRUE":"FALSE");break;case"s":r(a,1,0,!b||isNaN(i.v)?i.v:'="'+i.v+'"');break;case"d":if(!i.w)i.w=Be(i.z||X[14],fr(mr(i.v)));if(b)r(a,0,i.w,"V");else r(a,1,0,i.w);break;default:r(a,1,0,"");}}}r(a,-1,0,"EOD");var u="\r\n";var h=a.join(u);return h}}();return{to_workbook:a,to_sheet:t,from_sheet:n}}();var _o=function(){function e(e){return e.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function r(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(r,t){var a=r.split("\n"),n=-1,i=-1,s=0,f=[];for(;s!==a.length;++s){var o=a[s].trim().split(":");if(o[0]!=="cell")continue;var c=Ra(o[1]);if(f.length<=c.r)for(n=f.length;n<=c.r;++n)if(!f[n])f[n]=[];n=c.r;i=c.c;switch(o[2]){case"t":f[n][i]=e(o[3]);break;case"v":f[n][i]=+o[3];break;case"vtf":var l=o[o.length-1];case"vtc":switch(o[3]){case"nl":f[n][i]=+o[4]?true:false;break;default:f[n][i]=+o[4];break;}if(o[2]=="vtf")f[n][i]=[f[n][i],l];}}if(t&&t.sheetRows)f=f.slice(0,t.sheetRows);return f}function a(e,r){return Ua(t(e,r),r)}function n(e,r){return La(a(e,r),r)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n");var s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n";var f=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n");var o="--SocialCalcSpreadsheetControlSave--";function c(e){if(!e||!e["!ref"])return"";var t=[],a=[],n,i="";var s=Ia(e["!ref"]);var f=Array.isArray(e);for(var o=s.s.r;o<=s.e.r;++o){for(var c=s.s.c;c<=s.e.c;++c){i=Oa({r:o,c:c});n=f?(e[o]||[])[c]:e[i];if(!n||n.v==null||n.t==="z")continue;a=["cell",i,"t"];switch(n.t){case"s":;case"str":a.push(r(n.v));break;case"n":if(!n.f){a[2]="v";a[3]=n.v}else{a[2]="vtf";a[3]="n";a[4]=n.v;a[5]=r(n.f)}break;case"b":a[2]="vt"+(n.f?"f":"c");a[3]="nl";a[4]=n.v?"1":"0";a[5]=r(n.f||(n.v?"TRUE":"FALSE"));break;case"d":var l=fr(mr(n.v));a[2]="vtc";a[3]="nd";a[4]=""+l;a[5]=n.w||Be(n.z||X[14],l);break;case"e":continue;}t.push(a.join(":"))}}t.push("sheet:c:"+(s.e.c-s.s.c+1)+":r:"+(s.e.r-s.s.r+1)+":tvf:1");t.push("valueformat:1:text-wiki");return t.join("\n")}function l(e){return[i,s,f,s,c(e),o].join("\n")}return{to_workbook:n,to_sheet:a,from_sheet:l}}();var Ao=function(){function e(e,r,t,a,n){if(n.raw)r[t][a]=e;else if(e===""){}else if(e==="TRUE")r[t][a]=true;else if(e==="FALSE")r[t][a]=false;else if(!isNaN(kr(e)))r[t][a]=kr(e);else if(!isNaN(Er(e).getDate()))r[t][a]=mr(e);else r[t][a]=e}function r(r,t){var a=t||{};var n=[];if(!r||r.length===0)return n;var i=r.split(/[\r\n]/);var s=i.length-1;while(s>=0&&i[s].length===0)--s;var f=10,o=0;var c=0;for(;c<=s;++c){o=i[c].indexOf(" ");if(o==-1)o=i[c].length;else o++;f=Math.max(f,o)}for(c=0;c<=s;++c){n[c]=[];var l=0;e(i[c].slice(0,f).trim(),n,c,l,a);for(l=1;l<=(i[c].length-f)/10+1;++l)e(i[c].slice(f+(l-1)*10,f+l*10).trim(),n,c,l,a)}if(a.sheetRows)n=n.slice(0,a.sheetRows);return n}var t={44:",",9:"\t",59:";",124:"|"};var n={44:3,9:2,59:1,124:0};function i(e){var r={},a=false,i=0,s=0;for(;i<e.length;++i){if((s=e.charCodeAt(i))==34)a=!a;else if(!a&&s in t)r[s]=(r[s]||0)+1}s=[];for(i in r)if(Object.prototype.hasOwnProperty.call(r,i)){s.push([r[i],i])}if(!s.length){r=n;for(i in r)if(Object.prototype.hasOwnProperty.call(r,i)){s.push([r[i],i])}}s.sort(function(e,r){return e[0]-r[0]||n[e[1]]-n[r[1]]});return t[s.pop()[1]]||44}function s(e,r){var t=r||{};var a="";if(m!=null&&t.dense==null)t.dense=m;var n=t.dense?[]:{};var s={s:{c:0,r:0},e:{c:0,r:0}};if(e.slice(0,4)=="sep="){if(e.charCodeAt(5)==13&&e.charCodeAt(6)==10){a=e.charAt(4);e=e.slice(7)}else if(e.charCodeAt(5)==13||e.charCodeAt(5)==10){a=e.charAt(4);e=e.slice(6)}else a=i(e.slice(0,1024))}else if(t&&t.FS)a=t.FS;else a=i(e.slice(0,1024));var f=0,o=0,c=0;var l=0,u=0,h=a.charCodeAt(0),d=false,v=0,p=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var b=t.dateNF!=null?Xe(t.dateNF):null;function g(){var r=e.slice(l,u);var a={};if(r.charAt(0)=='"'&&r.charAt(r.length-1)=='"')r=r.slice(1,-1).replace(/""/g,'"');if(r.length===0)a.t="z";else if(t.raw){a.t="s";a.v=r}else if(r.trim().length===0){a.t="s";a.v=r}else if(r.charCodeAt(0)==61){if(r.charCodeAt(1)==34&&r.charCodeAt(r.length-1)==34){a.t="s";a.v=r.slice(2,-1).replace(/""/g,'"')}else if(Iu(r)){a.t="n";a.f=r.slice(1)}else{a.t="s";a.v=r}}else if(r=="TRUE"){a.t="b";a.v=true}else if(r=="FALSE"){a.t="b";a.v=false}else if(!isNaN(c=kr(r))){a.t="n";if(t.cellText!==false)a.w=r;a.v=c}else if(!isNaN(Er(r).getDate())||b&&r.match(b)){a.z=t.dateNF||X[14];var i=0;if(b&&r.match(b)){r=$e(r,t.dateNF,r.match(b)||[]);i=1}if(t.cellDates){a.t="d";a.v=mr(r,i)}else{a.t="n";a.v=fr(mr(r,i))}if(t.cellText!==false)a.w=Be(a.z,a.v instanceof Date?fr(a.v):a.v);if(!t.cellNF)delete a.z}else{a.t="s";a.v=r}if(a.t=="z"){}else if(t.dense){if(!n[f])n[f]=[];n[f][o]=a}else n[Oa({c:o,r:f})]=a;l=u+1;p=e.charCodeAt(l);if(s.e.c<o)s.e.c=o;if(s.e.r<f)s.e.r=f;if(v==h)++o;else{o=0;++f;if(t.sheetRows&&t.sheetRows<=f)return true}}e:for(;u<e.length;++u)switch(v=e.charCodeAt(u)){case 34:if(p===34)d=!d;break;case h:;case 10:;case 13:if(!d&&g())break e;break;default:break;}if(u-l>0)g();n["!ref"]=Na(s);return n}function f(e,t){if(!(t&&t.PRN))return s(e,t);if(t.FS)return s(e,t);if(e.slice(0,4)=="sep=")return s(e,t);if(e.indexOf("\t")>=0||e.indexOf(",")>=0||e.indexOf(";")>=0)return s(e,t);return Ua(r(e,t),t)}function o(e,r){var t="",n=r.type=="string"?[0,0,0,0]:qg(e,r);switch(r.type){case"base64":t=k(e);break;case"binary":t=e;break;case"buffer":if(r.codepage==65001)t=e.toString("utf8");else if(r.codepage&&typeof a!=="undefined")t=a.utils.decode(r.codepage,e);else t=T&&Buffer.isBuffer(e)?e.toString("binary"):x(e);break;case"array":t=br(e);break;case"string":t=e;break;default:throw new Error("Unrecognized type "+r.type);}if(n[0]==239&&n[1]==187&&n[2]==191)t=ct(t.slice(3));else if(r.type!="string"&&r.type!="buffer"&&r.codepage==65001)t=ct(t);else if(r.type=="binary"&&typeof a!=="undefined"&&r.codepage)t=a.utils.decode(r.codepage,a.utils.encode(28591,t));if(t.slice(0,19)=="socialcalc:version:")return _o.to_sheet(r.type=="string"?t:ct(t),r);return f(t,r)}function c(e,r){return La(o(e,r),r)}function l(e){var r=[];var t=Fa(e["!ref"]),a;var n=Array.isArray(e);for(var i=t.s.r;i<=t.e.r;++i){var s=[];for(var f=t.s.c;f<=t.e.c;++f){var o=Oa({r:i,c:f});a=n?(e[i]||[])[f]:e[o];if(!a||a.v==null){s.push("          ");continue}var c=(a.w||(Pa(a),a.w)||"").slice(0,10);while(c.length<10)c+=" ";s.push(c+(f===0?" ":""))}r.push(s.join(""))}return r.join("\n")}return{to_workbook:c,to_sheet:o,from_sheet:l}}();function xo(e,r){var t=r||{},a=!!t.WTF;t.WTF=true;try{var n=yo.to_workbook(e,t);t.WTF=a;return n}catch(i){t.WTF=a;if(!i.message.match(/SYLK bad record ID/)&&a)throw i;return Ao.to_workbook(e,r)}}var Co=function(){function e(e,r,t){if(!e)return;la(e,e.l||0);var a=t.Enum||W;while(e.l<e.length){var n=e._R(2);var i=a[n]||a[65535];var s=e._R(2);var f=e.l+s;var o=i.f&&i.f(e,s,t);e.l=f;if(r(o,i,n))return}}function r(e,r){switch(r.type){case"base64":return t(_(k(e)),r);case"binary":return t(_(e),r);case"buffer":;case"array":return t(e,r);}throw"Unsupported type "+r.type}function t(r,t){if(!r)return r;var a=t||{};if(m!=null&&a.dense==null)a.dense=m;var n=a.dense?[]:{},i="Sheet1",s="",f=0;var o={},c=[],l=[];var u={s:{r:0,c:0},e:{r:0,c:0}};var h=a.sheetRows||0;if(r[2]==0){if(r[3]==8||r[3]==9){if(r.length>=16&&r[14]==5&&r[15]===108)throw new Error("Unsupported Works 3 for Mac file")}}if(r[2]==2){a.Enum=W;e(r,function(e,r,t){switch(t){case 0:a.vers=e;if(e>=4096)a.qpro=true;break;case 6:u=e;break;case 204:if(e)s=e;break;case 222:s=e;break;case 15:;case 51:if(!a.qpro)e[1].v=e[1].v.slice(1);case 13:;case 14:;case 16:if(t==14&&(e[2]&112)==112&&(e[2]&15)>1&&(e[2]&15)<15){e[1].z=a.dateNF||X[14];if(a.cellDates){e[1].t="d";e[1].v=ur(e[1].v)}}if(a.qpro){if(e[3]>f){n["!ref"]=Na(u);o[i]=n;c.push(i);n=a.dense?[]:{};u={s:{r:0,c:0},e:{r:0,c:0}};f=e[3];i=s||"Sheet"+(f+1);s=""}}var l=a.dense?(n[e[0].r]||[])[e[0].c]:n[Oa(e[0])];if(l){l.t=e[1].t;l.v=e[1].v;if(e[1].z!=null)l.z=e[1].z;if(e[1].f!=null)l.f=e[1].f;break}if(a.dense){if(!n[e[0].r])n[e[0].r]=[];n[e[0].r][e[0].c]=e[1]}else n[Oa(e[0])]=e[1];break;default:;}},a)}else if(r[2]==26||r[2]==14){a.Enum=H;if(r[2]==14){a.qpro=true;r.l=0}e(r,function(e,r,t){switch(t){case 204:i=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:;case 24:;case 25:;case 37:;case 39:;case 40:if(e[3]>f){n["!ref"]=Na(u);o[i]=n;c.push(i);n=a.dense?[]:{};u={s:{r:0,c:0},e:{r:0,c:0}};f=e[3];i="Sheet"+(f+1)}if(h>0&&e[0].r>=h)break;if(a.dense){if(!n[e[0].r])n[e[0].r]=[];n[e[0].r][e[0].c]=e[1]}else n[Oa(e[0])]=e[1];if(u.e.c<e[0].c)u.e.c=e[0].c;if(u.e.r<e[0].r)u.e.r=e[0].r;break;case 27:if(e[14e3])l[e[14e3][0]]=e[14e3][1];break;case 1537:l[e[0]]=e[1];if(e[0]==f)i=e[1];break;default:break;}},a)}else throw new Error("Unrecognized LOTUS BOF "+r[2]);n["!ref"]=Na(u);o[s||i]=n;c.push(s||i);if(!l.length)return{SheetNames:c,Sheets:o};var d={},v=[];for(var p=0;p<l.length;++p)if(o[c[p]]){v.push(l[p]||c[p]);d[l[p]]=o[l[p]]||o[c[p]]}else{v.push(l[p]);d[l[p]]={"!ref":"A1"}}return{SheetNames:v,Sheets:d}}function a(e,r){var t=r||{};if(+t.codepage>=0)o(+t.codepage);if(t.type=="string")throw new Error("Cannot write WK1 to JS string");var a=va();var n=Fa(e["!ref"]);var s=Array.isArray(e);var f=[];gb(a,0,i(1030));gb(a,6,c(n));var l=Math.min(n.e.r,8191);for(var u=n.s.r;u<=l;++u){var d=Ta(u);for(var p=n.s.c;p<=n.e.c;++p){if(u===n.s.r)f[p]=_a(p);var m=f[p]+d;var g=s?(e[u]||[])[p]:e[m];if(!g||g.t=="z")continue;if(g.t=="n"){if((g.v|0)==g.v&&g.v>=-32768&&g.v<=32767)gb(a,13,v(u,p,g.v));else gb(a,14,b(u,p,g.v))}else{var w=Pa(g);gb(a,15,h(u,p,w.slice(0,239)))}}}gb(a,1);return a.end()}function n(e,r){var t=r||{};if(+t.codepage>=0)o(+t.codepage);if(t.type=="string")throw new Error("Cannot write WK3 to JS string");var a=va();gb(a,0,s(e));for(var n=0,i=0;n<e.SheetNames.length;++n)if((e.Sheets[e.SheetNames[n]]||{})["!ref"])gb(a,27,B(e.SheetNames[n],i++));var f=0;for(n=0;n<e.SheetNames.length;++n){var c=e.Sheets[e.SheetNames[n]];if(!c||!c["!ref"])continue;var l=Fa(c["!ref"]);var u=Array.isArray(c);var h=[];var d=Math.min(l.e.r,8191);for(var v=l.s.r;v<=d;++v){var p=Ta(v);for(var m=l.s.c;m<=l.e.c;++m){if(v===l.s.r)h[m]=_a(m);var b=h[m]+p;var g=u?(c[v]||[])[m]:c[b];if(!g||g.t=="z")continue;if(g.t=="n"){gb(a,23,O(v,m,f,g.v))}else{var w=Pa(g);gb(a,22,x(v,m,f,w.slice(0,239)))}}}++f}gb(a,1);return a.end()}function i(e){var r=ha(2);r._W(2,e);return r}function s(e){var r=ha(26);r._W(2,4096);r._W(2,4);r._W(4,0);var t=0,a=0,n=0;for(var i=0;i<e.SheetNames.length;++i){var s=e.SheetNames[i];var f=e.Sheets[s];if(!f||!f["!ref"])continue;++n;var o=Ia(f["!ref"]);if(t<o.e.r)t=o.e.r;if(a<o.e.c)a=o.e.c}if(t>8191)t=8191;r._W(2,t);r._W(1,n);r._W(1,a);r._W(2,0);r._W(2,0);r._W(1,1);r._W(1,2);r._W(4,0);r._W(4,0);return r}function f(e,r,t){var a={s:{c:0,r:0},e:{c:0,r:0}};if(r==8&&t.qpro){a.s.c=e._R(1);e.l++;a.s.r=e._R(2);a.e.c=e._R(1);e.l++;a.e.r=e._R(2);return a}a.s.c=e._R(2);a.s.r=e._R(2);if(r==12&&t.qpro)e.l+=2;a.e.c=e._R(2);a.e.r=e._R(2);if(r==12&&t.qpro)e.l+=2;if(a.s.c==65535)a.s.c=a.e.c=a.s.r=a.e.r=0;return a}function c(e){var r=ha(8);r._W(2,e.s.c);r._W(2,e.s.r);r._W(2,e.e.c);r._W(2,e.e.r);return r}function l(e,r,t){var a=[{c:0,r:0},{t:"n",v:0},0,0];if(t.qpro&&t.vers!=20768){a[0].c=e._R(1);a[3]=e._R(1);a[0].r=e._R(2);e.l+=2}else{a[2]=e._R(1);a[0].c=e._R(2);a[0].r=e._R(2)}return a}function u(e,r,t){var a=e.l+r;var n=l(e,r,t);n[1].t="s";if(t.vers==20768){e.l++;var i=e._R(1);n[1].v=e._R(i,"utf8");return n}if(t.qpro)e.l++;n[1].v=e._R(a-e.l,"cstr");return n}function h(e,r,t){var a=ha(7+t.length);a._W(1,255);a._W(2,r);a._W(2,e);a._W(1,39);for(var n=0;n<a.length;++n){var i=t.charCodeAt(n);a._W(1,i>=128?95:i)}a._W(1,0);return a}function d(e,r,t){var a=l(e,r,t);a[1].v=e._R(2,"i");return a}function v(e,r,t){var a=ha(7);a._W(1,255);a._W(2,r);a._W(2,e);a._W(2,t,"i");return a}function p(e,r,t){var a=l(e,r,t);a[1].v=e._R(8,"f");return a}function b(e,r,t){var a=ha(13);a._W(1,255);a._W(2,r);a._W(2,e);a._W(8,t,"f");return a}function g(e,r,t){var a=e.l+r;var n=l(e,r,t);n[1].v=e._R(8,"f");if(t.qpro)e.l=a;else{var i=e._R(2);y(e.slice(e.l,e.l+i),n);e.l+=i}return n}function w(e,r,t){var a=r&32768;r&=~32768;r=(a?e:0)+(r>=8192?r-16384:r);return(a?"":"$")+(t?_a(r):Ta(r))}var T={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]};var E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function y(e,r){la(e,0);var t=[],a=0,n="",i="",s="",f="";while(e.l<e.length){var o=e[e.l++];switch(o){case 0:t.push(e._R(8,"f"));break;case 1:{i=w(r[0].c,e._R(2),true);n=w(r[0].r,e._R(2),false);t.push(i+n)}break;case 2:{var c=w(r[0].c,e._R(2),true);var l=w(r[0].r,e._R(2),false);i=w(r[0].c,e._R(2),true);n=w(r[0].r,e._R(2),false);t.push(c+l+":"+i+n)}break;case 3:if(e.l<e.length){console.error("WK1 premature formula end");return}break;case 4:t.push("("+t.pop()+")");break;case 5:t.push(e._R(2));break;case 6:{var u="";while(o=e[e.l++])u+=String.fromCharCode(o);t.push('"'+u.replace(/"/g,'""')+'"')}break;case 8:t.push("-"+t.pop());break;case 23:t.push("+"+t.pop());break;case 22:t.push("NOT("+t.pop()+")");break;case 20:;case 21:{f=t.pop();s=t.pop();t.push(["AND","OR"][o-20]+"("+s+","+f+")")}break;default:if(o<32&&E[o]){f=t.pop();s=t.pop();t.push(s+E[o]+f)}else if(T[o]){a=T[o][1];if(a==69)a=e[e.l++];if(a>t.length){console.error("WK1 bad formula parse 0x"+o.toString(16)+":|"+t.join("|")+"|");return}var h=t.slice(-a);t.length-=a;t.push(T[o][0]+"("+h.join(",")+")")}else if(o<=7)return console.error("WK1 invalid opcode "+o.toString(16));else if(o<=24)return console.error("WK1 unsupported op "+o.toString(16));else if(o<=30)return console.error("WK1 invalid opcode "+o.toString(16));else if(o<=115)return console.error("WK1 unsupported function opcode "+o.toString(16));else return console.error("WK1 unrecognized opcode "+o.toString(16));}}if(t.length==1)r[1].f=""+t[0];else console.error("WK1 bad formula parse |"+t.join("|")+"|")}function S(e){var r=[{c:0,r:0},{t:"n",v:0},0];r[0].r=e._R(2);r[3]=e[e.l++];r[0].c=e[e.l++];return r}function A(e,r){var t=S(e,r);t[1].t="s";t[1].v=e._R(r-4,"cstr");return t}function x(e,r,t,a){var n=ha(6+a.length);n._W(2,e);n._W(1,t);n._W(1,r);n._W(1,39);for(var i=0;i<a.length;++i){var s=a.charCodeAt(i);n._W(1,s>=128?95:s)}n._W(1,0);return n}function C(e,r){var t=S(e,r);t[1].v=e._R(2);var a=t[1].v>>1;if(t[1].v&1){switch(a&7){case 0:a=(a>>3)*5e3;break;case 1:a=(a>>3)*500;break;case 2:a=(a>>3)/20;break;case 3:a=(a>>3)/200;break;case 4:a=(a>>3)/2e3;break;case 5:a=(a>>3)/2e4;break;case 6:a=(a>>3)/16;break;case 7:a=(a>>3)/64;break;}}t[1].v=a;return t}function R(e,r){var t=S(e,r);var a=e._R(4);var n=e._R(4);var i=e._R(2);if(i==65535){if(a===0&&n===3221225472){t[1].t="e";t[1].v=15}else if(a===0&&n===3489660928){t[1].t="e";t[1].v=42}else t[1].v=0;return t}var s=i&32768;i=(i&32767)-16446;t[1].v=(1-s*2)*(n*Math.pow(2,i+32)+a*Math.pow(2,i));return t}function O(e,r,t,a){var n=ha(14);n._W(2,e);n._W(1,t);n._W(1,r);if(a==0){n._W(4,0);n._W(4,0);n._W(2,65535);return n}var i=0,s=0,f=0,o=0;if(a<0){i=1;a=-a}s=Math.log2(a)|0;a/=Math.pow(2,s-31);o=a>>>0;if((o&2147483648)==0){a/=2;++s;o=a>>>0}a-=o;o|=2147483648;o>>>=0;a*=Math.pow(2,32);f=a>>>0;n._W(4,f);n._W(4,o);s+=16383+(i?32768:0);n._W(2,s);return n}function I(e,r){var t=R(e,14);e.l+=r-14;return t}function N(e,r){var t=S(e,r);var a=e._R(4);t[1].v=a>>6;return t}function F(e,r){var t=S(e,r);var a=e._R(8,"f");t[1].v=a;return t}function D(e,r){var t=F(e,14);e.l+=r-10;return t}function P(e,r){return e[e.l+r-1]==0?e._R(r,"cstr"):""}function L(e,r){var t=e[e.l++];if(t>r-1)t=r-1;var a="";while(a.length<t)a+=String.fromCharCode(e[e.l++]);return a}function M(e,r,t){if(!t.qpro||r<21)return;var a=e._R(1);e.l+=17;e.l+=1;e.l+=2;var n=e._R(r-21,"cstr");return[a,n]}function U(e,r){var t={},a=e.l+r;while(e.l<a){var n=e._R(2);if(n==14e3){t[n]=[0,""];t[n][0]=e._R(2);while(e[e.l]){t[n][1]+=String.fromCharCode(e[e.l]);e.l++}e.l++}}return t}function B(e,r){var t=ha(5+e.length);t._W(2,14e3);t._W(2,r);for(var a=0;a<e.length;++a){var n=e.charCodeAt(a);t[t.l++]=n>127?95:n}t[t.l++]=0;return t}var W={0:{n:"BOF",f:es},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:f},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:P},222:{n:"SHEETNAMELP",f:L},65535:{n:""}};var H={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:A},23:{n:"NUMBER17",f:R},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:U},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:N},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:D},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:P},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:M},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:n,to_workbook:r}}();function Ro(e){var r={},t=e.match(Hr),a=0;var n=false;if(t)for(;a!=t.length;++a){var s=Gr(t[a]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":;case"<shadow/>":r.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;r.cp=i[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":;case"<outline/>":r.outline=1;break;case"</outline>":break;case"<rFont":r.name=s.val;break;case"<sz":r.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":;case"<strike/>":r.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":r.uval="double";break;case"singleAccounting":r.uval="single-accounting";break;case"doubleAccounting":r.uval="double-accounting";break;};case"<u>":;case"<u/>":r.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":;case"<b/>":r.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":;case"<i/>":r.i=1;break;case"</i>":break;case"<color":if(s.rgb)r.color=s.rgb.slice(2,8);break;case"<color>":;case"<color/>":;case"</color>":break;case"<family":r.family=s.val;break;case"<family>":;case"<family/>":;case"</family>":break;case"<vertAlign":r.valign=s.val;break;case"<vertAlign>":;case"<vertAlign/>":;case"</vertAlign>":break;case"<scheme":break;case"<scheme>":;case"<scheme/>":;case"</scheme>":break;case"<extLst":;case"<extLst>":;case"</extLst>":break;case"<ext":n=true;break;case"</ext>":n=false;break;default:if(s[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+s[0]);}}return r}var Oo=function(){var e=ut("t"),r=ut("rPr");function t(t){var a=t.match(e);if(!a)return{t:"s",v:""};var n={t:"s",v:Yr(a[1])};var i=t.match(r);if(i)n.s=Ro(i[1]);return n}var a=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function i(e){return e.replace(a,"").split(n).map(t).filter(function(e){return e.v})}}();var Io=function uk(){var e=/(\r\n|\n)/g;function r(e,r,t){var a=[];if(e.u)a.push("text-decoration: underline;");if(e.uval)a.push("text-underline-style:"+e.uval+";");if(e.sz)a.push("font-size:"+e.sz+"pt;");if(e.outline)a.push("text-effect: outline;");if(e.shadow)a.push("text-shadow: auto;");r.push('<span style="'+a.join("")+'">');if(e.b){r.push("<b>");t.push("</b>")}if(e.i){r.push("<i>");t.push("</i>")}if(e.strike){r.push("<s>");t.push("</s>")}var n=e.valign||"";if(n=="superscript"||n=="super")n="sup";else if(n=="subscript")n="sub";if(n!=""){r.push("<"+n+">");t.push("</"+n+">")}t.push("</span>");return e}function t(t){var a=[[],t.v,[]];if(!t.v)return"";if(t.s)r(t.s,a[0],a[2]);return a[0].join("")+a[1].replace(e,"<br/>")+a[2].join("")}return function a(e){return e.map(t).join("")}}();var No=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Fo=/<(?:\w+:)?r>/;var Do=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Po(e,r){var t=r?r.cellHTML:true;var a={};if(!e)return{t:""};if(e.match(/^\s*<(?:\w+:)?t[^>]*>/)){a.t=Yr(ct(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||""));a.r=ct(e);if(t)a.h=et(a.t)}else if(e.match(Fo)){a.r=ct(e);a.t=Yr(ct((e.replace(Do,"").match(No)||[]).join("").replace(Hr,"")));if(t)a.h=Io(Oo(a.r))}return a}var Lo=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/;var Mo=/<(?:\w+:)?(?:si|sstItem)>/g;var Uo=/<\/(?:\w+:)?(?:si|sstItem)>/;function Bo(e,r){var t=[],a="";if(!e)return t;var n=e.match(Lo);if(n){a=n[2].replace(Mo,"").split(Uo);for(var i=0;i!=a.length;++i){var s=Po(a[i].trim(),r);if(s!=null)t[t.length]=s}n=Gr(n[1]);t.Count=n.count;t.Unique=n.uniqueCount}return t}var Wo=/^\s|\s$|[\t\n\r]/;function Ho(e,r){if(!r.bookSST)return"";var t=[Mr];t[t.length]=kt("sst",null,{xmlns:At[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a){if(e[a]==null)continue;var n=e[a];var i="<si>";if(n.r)i+=n.r;else{i+="<t";if(!n.t)n.t="";if(n.t.match(Wo))i+=' xml:space="preserve"';i+=">"+qr(n.t)+"</t>"}i+="</si>";t[t.length]=i}if(t.length>2){t[t.length]="</sst>";t[1]=t[1].replace("/>",">")}return t.join("")}function zo(e){return[e._R(4),e._R(4)]}function Vo(e,r){var t=[];var a=false;da(e,function n(e,i,s){switch(s){case 159:t.Count=e[0];t.Unique=e[1];break;case 19:t.push(e);break;case 160:return true;case 35:a=true;break;case 36:a=false;break;default:if(i.T){}if(!a||r.WTF)throw new Error("Unexpected record 0x"+s.toString(16));}});return t}function Go(e,r){if(!r)r=ha(8);r._W(4,e.Count);r._W(4,e.Unique);return r}var jo=Xa;function Xo(e){var r=va();pa(r,159,Go(e));for(var t=0;t<e.length;++t)pa(r,19,jo(e[t]));pa(r,160);return r.end()}function $o(e){if(typeof a!=="undefined")return a.utils.encode(t,e);var r=[],n=e.split("");for(var i=0;i<n.length;++i)r[i]=n[i].charCodeAt(0);return r}function Yo(e,r){var t={};t.Major=e._R(2);t.Minor=e._R(2);if(r>=4)e.l+=r-4;return t}function Ko(e){var r={};r.id=e._R(0,"lpp4");r.R=Yo(e,4);r.U=Yo(e,4);r.W=Yo(e,4);return r}function Jo(e){var r=e._R(4);var t=e.l+r-4;var a={};var n=e._R(4);var i=[];while(n-- >0)i.push({t:e._R(4),v:e._R(0,"lpp4")});a.name=e._R(0,"lpp4");a.comps=i;if(e.l!=t)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+t);return a}function qo(e){var r=[];e.l+=4;var t=e._R(4);while(t-- >0)r.push(Jo(e));return r}function Zo(e){var r=[];e.l+=4;var t=e._R(4);while(t-- >0)r.push(e._R(0,"lpp4"));return r}function Qo(e){var r={};e._R(4);e.l+=4;r.id=e._R(0,"lpp4");r.name=e._R(0,"lpp4");r.R=Yo(e,4);r.U=Yo(e,4);r.W=Yo(e,4);return r}function ec(e){var r=Qo(e);r.ename=e._R(0,"8lpp4");r.blksz=e._R(4);r.cmode=e._R(4);if(e._R(4)!=4)throw new Error("Bad !Primary record");return r}function rc(e,r){var t=e.l+r;var a={};a.Flags=e._R(4)&63;e.l+=4;a.AlgID=e._R(4);var n=false;switch(a.AlgID){case 26126:;case 26127:;case 26128:n=a.Flags==36;break;case 26625:n=a.Flags==4;break;case 0:n=a.Flags==16||a.Flags==4||a.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+a.AlgID;}if(!n)throw new Error("Encryption Flags/AlgID mismatch");a.AlgIDHash=e._R(4);a.KeySize=e._R(4);a.ProviderType=e._R(4);e.l+=8;a.CSPName=e._R(t-e.l>>1,"utf16le");e.l=t;return a}function tc(e,r){var t={},a=e.l+r;e.l+=4;t.Salt=e.slice(e.l,e.l+16);e.l+=16;t.Verifier=e.slice(e.l,e.l+16);e.l+=16;e._R(4);t.VerifierHash=e.slice(e.l,a);e.l=a;return t}function ac(e){var r=Yo(e);switch(r.Minor){case 2:return[r.Minor,nc(e,r)];case 3:return[r.Minor,ic(e,r)];case 4:return[r.Minor,sc(e,r)];}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+r.Minor)}function nc(e){var r=e._R(4);if((r&63)!=36)throw new Error("EncryptionInfo mismatch");var t=e._R(4);var a=rc(e,t);var n=tc(e,e.length-e.l);return{t:"Std",h:a,v:n}}function ic(){throw new Error("File is password-protected: ECMA-376 Extensible")}function sc(e){var r=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var t=e._R(e.length-e.l,"utf8");var a={};t.replace(Hr,function n(e){var t=Gr(e);switch(jr(t[0])){case"<?xml":break;case"<encryption":;case"</encryption>":break;case"<keyData":r.forEach(function(e){a[e]=t[e]});break;case"<dataIntegrity":a.encryptedHmacKey=t.encryptedHmacKey;a.encryptedHmacValue=t.encryptedHmacValue;break;case"<keyEncryptors>":;case"<keyEncryptors":a.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":a.uri=t.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":a.encs.push(t);break;default:throw t[0];}});return a}function fc(e,r){var t={};var a=t.EncryptionVersionInfo=Yo(e,4);r-=4;if(a.Minor!=2)throw new Error("unrecognized minor version code: "+a.Minor);if(a.Major>4||a.Major<2)throw new Error("unrecognized major version code: "+a.Major);t.Flags=e._R(4);r-=4;var n=e._R(4);r-=4;t.EncryptionHeader=rc(e,n);r-=n;t.EncryptionVerifier=tc(e,r);return t}function oc(e){var r={};var t=r.EncryptionVersionInfo=Yo(e,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;r.Salt=e._R(16);r.EncryptedVerifier=e._R(16);r.EncryptedVerifierHash=e._R(16);return r}function cc(e){var r=0,t;var a=$o(e);var n=a.length+1,i,s;var f,o,c;t=y(n);t[0]=a.length;for(i=1;i!=n;++i)t[i]=a[i-1];for(i=n-1;i>=0;--i){s=t[i];f=(r&16384)===0?0:1;o=r<<1&32767;c=f|o;r=c^s}return r^52811}var lc=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0];var r=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163];var t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628];var a=function(e){return(e/2|e*128)&255};var n=function(e,r){return a(e^r)};var i=function(e){var a=r[e.length-1];var n=104;for(var i=e.length-1;i>=0;--i){var s=e[i];for(var f=0;f!=7;++f){if(s&64)a^=t[n];s*=2;--n}}return a};return function(r){var t=$o(r);var a=i(t);var s=t.length;var f=y(16);for(var o=0;o!=16;++o)f[o]=0;var c,l,u;if((s&1)===1){c=a>>8;f[s]=n(e[0],c);--s;c=a&255;l=t[t.length-1];f[s]=n(l,c)}while(s>0){--s;c=a>>8;f[s]=n(t[s],c);--s;c=a&255;f[s]=n(t[s],c)}s=15;u=15-t.length;while(u>0){c=a>>8;f[s]=n(e[u],c);--s;--u;c=a&255;f[s]=n(t[s],c);--s;--u}return f}}();var uc=function(e,r,t,a,n){if(!n)n=r;if(!a)a=lc(e);var i,s;for(i=0;i!=r.length;++i){s=r[i];s^=a[t];s=(s>>5|s<<3)&255;n[i]=s;++t}return[n,t,a]};var hc=function(e){var r=0,t=lc(e);return function(e){var a=uc("",e,r,t);r=a[1];return a[0]}};function dc(e,r,t,a){var n={key:es(e),verificationBytes:es(e)};if(t.password)n.verifier=cc(t.password);a.valid=n.verificationBytes===n.verifier;if(a.valid)a.insitu=hc(t.password);return n}function vc(e,r,t){var a=t||{};a.Info=e._R(2);e.l-=2;if(a.Info===1)a.Data=oc(e,r);else a.Data=fc(e,r);return a}function pc(e,r,t){var a={Type:t.biff>=8?e._R(2):0};if(a.Type)vc(e,r-2,a);else dc(e,t.biff>=8?r:r-2,t,a);return a}var mc=function(){function e(e,t){switch(t.type){case"base64":return r(k(e),t);case"binary":return r(e,t);case"buffer":return r(T&&Buffer.isBuffer(e)?e.toString("binary"):x(e),t);case"array":return r(br(e),t);}throw new Error("Unrecognized type "+t.type)}function r(e,r){var t=r||{};var a=t.dense?[]:{};var n=e.match(/\\trowd.*?\\row\b/g);if(!n.length)throw new Error("RTF missing table");
var i={s:{c:0,r:0},e:{c:0,r:n.length-1}};n.forEach(function(e,r){if(Array.isArray(a))a[r]=[];var t=/\\\w+\b/g;var n=0;var s;var f=-1;while(s=t.exec(e)){switch(s[0]){case"\\cell":var o=e.slice(n,t.lastIndex-s[0].length);if(o[0]==" ")o=o.slice(1);++f;if(o.length){var c={v:o,t:"s"};if(Array.isArray(a))a[r][f]=c;else a[Oa({r:r,c:f})]=c}break;}n=t.lastIndex}if(f>i.e.c)i.e.c=f});a["!ref"]=Na(i);return a}function t(r,t){return La(e(r,t),t)}function a(e){var r=["{\\rtf1\\ansi"];var t=Fa(e["!ref"]),a;var n=Array.isArray(e);for(var i=t.s.r;i<=t.e.r;++i){r.push("\\trowd\\trautofit1");for(var s=t.s.c;s<=t.e.c;++s)r.push("\\cellx"+(s+1));r.push("\\pard\\intbl");for(s=t.s.c;s<=t.e.c;++s){var f=Oa({r:i,c:s});a=n?(e[i]||[])[s]:e[f];if(!a||a.v==null&&(!a.f||a.F))continue;r.push(" "+(a.w||(Pa(a),a.w)));r.push("\\cell")}r.push("\\pard\\intbl\\row")}return r.join("")+"}"}return{to_workbook:t,to_sheet:e,from_sheet:a}}();function bc(e){var r=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(r.slice(0,2),16),parseInt(r.slice(2,4),16),parseInt(r.slice(4,6),16)]}function gc(e){for(var r=0,t=1;r!=3;++r)t=t*256+(e[r]>255?255:e[r]<0?0:e[r]);return t.toString(16).toUpperCase().slice(1)}function wc(e){var r=e[0]/255,t=e[1]/255,a=e[2]/255;var n=Math.max(r,t,a),i=Math.min(r,t,a),s=n-i;if(s===0)return[0,0,r];var f=0,o=0,c=n+i;o=s/(c>1?2-c:c);switch(n){case r:f=((t-a)/s+6)%6;break;case t:f=(a-r)/s+2;break;case a:f=(r-t)/s+4;break;}return[f/6,o,c/2]}function kc(e){var r=e[0],t=e[1],a=e[2];var n=t*2*(a<.5?a:1-a),i=a-n/2;var s=[i,i,i],f=6*r;var o;if(t!==0)switch(f|0){case 0:;case 6:o=n*f;s[0]+=n;s[1]+=o;break;case 1:o=n*(2-f);s[0]+=o;s[1]+=n;break;case 2:o=n*(f-2);s[1]+=n;s[2]+=o;break;case 3:o=n*(4-f);s[1]+=o;s[2]+=n;break;case 4:o=n*(f-4);s[2]+=n;s[0]+=o;break;case 5:o=n*(6-f);s[2]+=o;s[0]+=n;break;}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function Tc(e,r){if(r===0)return e;var t=wc(bc(e));if(r<0)t[2]=t[2]*(1+r);else t[2]=1-(1-t[2])*(1-r);return gc(kc(t))}var Ec=6,yc=15,Sc=1,_c=Ec;function Ac(e){return Math.floor((e+Math.round(128/_c)/256)*_c)}function xc(e){return Math.floor((e-5)/_c*100+.5)/100}function Cc(e){return Math.round((e*_c+5)/_c*256)/256}function Rc(e){return Cc(xc(Ac(e)))}function Oc(e){var r=Math.abs(e-Rc(e)),t=_c;if(r>.005)for(_c=Sc;_c<yc;++_c)if(Math.abs(e-Rc(e))<=r){r=Math.abs(e-Rc(e));t=_c}_c=t}function Ic(e){if(e.width){e.wpx=Ac(e.width);e.wch=xc(e.wpx);e.MDW=_c}else if(e.wpx){e.wch=xc(e.wpx);e.width=Cc(e.wch);e.MDW=_c}else if(typeof e.wch=="number"){e.width=Cc(e.wch);e.wpx=Ac(e.width);e.MDW=_c}if(e.customWidth)delete e.customWidth}var Nc=96,Fc=Nc;function Dc(e){return e*96/Fc}function Pc(e){return e*Fc/96}var Lc={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Mc(e,r,t,a){r.Borders=[];var n={};var i=false;(e[0].match(Hr)||[]).forEach(function(e){var t=Gr(e);switch(jr(t[0])){case"<borders":;case"<borders>":;case"</borders>":break;case"<border":;case"<border>":;case"<border/>":n={};if(t.diagonalUp)n.diagonalUp=nt(t.diagonalUp);if(t.diagonalDown)n.diagonalDown=nt(t.diagonalDown);r.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":;case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":;case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":;case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":;case"<bottom>":break;case"</bottom>":break;case"<diagonal":;case"<diagonal>":;case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":;case"<horizontal>":;case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":;case"<vertical>":;case"<vertical/>":break;case"</vertical>":break;case"<start":;case"<start>":;case"<start/>":break;case"</start>":break;case"<end":;case"<end>":;case"<end/>":break;case"</end>":break;case"<color":;case"<color>":break;case"<color/>":;case"</color>":break;case"<extLst":;case"<extLst>":;case"</extLst>":break;case"<ext":i=true;break;case"</ext>":i=false;break;default:if(a&&a.WTF){if(!i)throw new Error("unrecognized "+t[0]+" in borders")};}})}function Uc(e,r,t,a){r.Fills=[];var n={};var i=false;(e[0].match(Hr)||[]).forEach(function(e){var t=Gr(e);switch(jr(t[0])){case"<fills":;case"<fills>":;case"</fills>":break;case"<fill>":;case"<fill":;case"<fill/>":n={};r.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":;case"</gradientFill>":r.Fills.push(n);n={};break;case"<patternFill":;case"<patternFill>":if(t.patternType)n.patternType=t.patternType;break;case"<patternFill/>":;case"</patternFill>":break;case"<bgColor":if(!n.bgColor)n.bgColor={};if(t.indexed)n.bgColor.indexed=parseInt(t.indexed,10);if(t.theme)n.bgColor.theme=parseInt(t.theme,10);if(t.tint)n.bgColor.tint=parseFloat(t.tint);if(t.rgb)n.bgColor.rgb=t.rgb.slice(-6);break;case"<bgColor/>":;case"</bgColor>":break;case"<fgColor":if(!n.fgColor)n.fgColor={};if(t.theme)n.fgColor.theme=parseInt(t.theme,10);if(t.tint)n.fgColor.tint=parseFloat(t.tint);if(t.rgb!=null)n.fgColor.rgb=t.rgb.slice(-6);break;case"<fgColor/>":;case"</fgColor>":break;case"<stop":;case"<stop/>":break;case"</stop>":break;case"<color":;case"<color/>":break;case"</color>":break;case"<extLst":;case"<extLst>":;case"</extLst>":break;case"<ext":i=true;break;case"</ext>":i=false;break;default:if(a&&a.WTF){if(!i)throw new Error("unrecognized "+t[0]+" in fills")};}})}function Bc(e,r,t,a){r.Fonts=[];var n={};var s=false;(e[0].match(Hr)||[]).forEach(function(e){var f=Gr(e);switch(jr(f[0])){case"<fonts":;case"<fonts>":;case"</fonts>":break;case"<font":;case"<font>":break;case"</font>":;case"<font/>":r.Fonts.push(n);n={};break;case"<name":if(f.val)n.name=ct(f.val);break;case"<name/>":;case"</name>":break;case"<b":n.bold=f.val?nt(f.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=f.val?nt(f.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(f.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break;}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=f.val?nt(f.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=f.val?nt(f.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=f.val?nt(f.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=f.val?nt(f.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=f.val?nt(f.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":if(f.val)n.sz=+f.val;break;case"<sz/>":;case"</sz>":break;case"<vertAlign":if(f.val)n.vertAlign=f.val;break;case"<vertAlign/>":;case"</vertAlign>":break;case"<family":if(f.val)n.family=parseInt(f.val,10);break;case"<family/>":;case"</family>":break;case"<scheme":if(f.val)n.scheme=f.val;break;case"<scheme/>":;case"</scheme>":break;case"<charset":if(f.val=="1")break;f.codepage=i[parseInt(f.val,10)];break;case"<color":if(!n.color)n.color={};if(f.auto)n.color.auto=nt(f.auto);if(f.rgb)n.color.rgb=f.rgb.slice(-6);else if(f.indexed){n.color.index=parseInt(f.indexed,10);var o=Vn[n.color.index];if(n.color.index==81)o=Vn[1];if(!o)o=Vn[1];n.color.rgb=o[0].toString(16)+o[1].toString(16)+o[2].toString(16)}else if(f.theme){n.color.theme=parseInt(f.theme,10);if(f.tint)n.color.tint=parseFloat(f.tint);if(f.theme&&t.themeElements&&t.themeElements.clrScheme){n.color.rgb=Tc(t.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)}}break;case"<color/>":;case"</color>":break;case"<AlternateContent":s=true;break;case"</AlternateContent>":s=false;break;case"<extLst":;case"<extLst>":;case"</extLst>":break;case"<ext":s=true;break;case"</ext>":s=false;break;default:if(a&&a.WTF){if(!s)throw new Error("unrecognized "+f[0]+" in fonts")};}})}function Wc(e,r,t){r.NumberFmt=[];var a=rr(X);for(var n=0;n<a.length;++n)r.NumberFmt[a[n]]=X[a[n]];var i=e[0].match(Hr);if(!i)return;for(n=0;n<i.length;++n){var s=Gr(i[n]);switch(jr(s[0])){case"<numFmts":;case"</numFmts>":;case"<numFmts/>":;case"<numFmts>":break;case"<numFmt":{var f=Yr(ct(s.formatCode)),o=parseInt(s.numFmtId,10);r.NumberFmt[o]=f;if(o>0){if(o>392){for(o=392;o>60;--o)if(r.NumberFmt[o]==null)break;r.NumberFmt[o]=f}We(f,o)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+s[0]+" in numFmts");}}}function Hc(e){var r=["<numFmts>"];[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var a=t[0];a<=t[1];++a)if(e[a]!=null)r[r.length]=kt("numFmt",null,{numFmtId:a,formatCode:qr(e[a])})});if(r.length===1)return"";r[r.length]="</numFmts>";r[0]=kt("numFmts",null,{count:r.length-2}).replace("/>",">");return r.join("")}var zc=["numFmtId","fillId","fontId","borderId","xfId"];var Vc=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Gc(e,r,t){r.CellXf=[];var a;var n=false;(e[0].match(Hr)||[]).forEach(function(e){var i=Gr(e),s=0;switch(jr(i[0])){case"<cellXfs":;case"<cellXfs>":;case"<cellXfs/>":;case"</cellXfs>":break;case"<xf":;case"<xf/>":a=i;delete a[0];for(s=0;s<zc.length;++s)if(a[zc[s]])a[zc[s]]=parseInt(a[zc[s]],10);for(s=0;s<Vc.length;++s)if(a[Vc[s]])a[Vc[s]]=nt(a[Vc[s]]);if(r.NumberFmt&&a.numFmtId>392){for(s=392;s>60;--s)if(r.NumberFmt[a.numFmtId]==r.NumberFmt[s]){a.numFmtId=s;break}}r.CellXf.push(a);break;case"</xf>":break;case"<alignment":;case"<alignment/>":var f={};if(i.vertical)f.vertical=i.vertical;if(i.horizontal)f.horizontal=i.horizontal;if(i.textRotation!=null)f.textRotation=i.textRotation;if(i.indent)f.indent=i.indent;if(i.wrapText)f.wrapText=nt(i.wrapText);a.alignment=f;break;case"</alignment>":break;case"<protection":break;case"</protection>":;case"<protection/>":break;case"<AlternateContent":n=true;break;case"</AlternateContent>":n=false;break;case"<extLst":;case"<extLst>":;case"</extLst>":break;case"<ext":n=true;break;case"</ext>":n=false;break;default:if(t&&t.WTF){if(!n)throw new Error("unrecognized "+i[0]+" in cellXfs")};}})}function jc(e){var r=[];r[r.length]=kt("cellXfs",null);e.forEach(function(e){r[r.length]=kt("xf",null,e)});r[r.length]="</cellXfs>";if(r.length===2)return"";r[0]=kt("cellXfs",null,{count:r.length-2}).replace("/>",">");return r.join("")}var Xc=function hk(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/;var r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/;var t=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/;var a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/;var n=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function i(s,f,o){var c={};if(!s)return c;s=s.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var l;if(l=s.match(e))Wc(l,c,o);if(l=s.match(a))Bc(l,c,f,o);if(l=s.match(t))Uc(l,c,f,o);if(l=s.match(n))Mc(l,c,f,o);if(l=s.match(r))Gc(l,c,o);return c}}();function $c(e,r){var t=[Mr,kt("styleSheet",null,{xmlns:At[0],"xmlns:vt":_t.vt})],a;if(e.SSF&&(a=Hc(e.SSF))!=null)t[t.length]=a;t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>';t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>';t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>';t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>';if(a=jc(r.cellXfs))t[t.length]=a;t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>';t[t.length]='<dxfs count="0"/>';t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>';if(t.length>2){t[t.length]="</styleSheet>";t[1]=t[1].replace("/>",">")}return t.join("")}function Yc(e,r){var t=e._R(2);var a=Ha(e,r-2);return[t,a]}function Kc(e,r,t){if(!t)t=ha(6+4*r.length);t._W(2,e);za(r,t);var a=t.length>t.l?t.slice(0,t.l):t;if(t.l==null)t.l=t.length;return a}function Jc(e,r,t){var a={};a.sz=e._R(2)/20;var n=bn(e,2,t);if(n.fItalic)a.italic=1;if(n.fCondense)a.condense=1;if(n.fExtend)a.extend=1;if(n.fShadow)a.shadow=1;if(n.fOutline)a.outline=1;if(n.fStrikeout)a.strike=1;var i=e._R(2);if(i===700)a.bold=1;switch(e._R(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break;}var s=e._R(1);if(s!=0)a.underline=s;var f=e._R(1);if(f>0)a.family=f;var o=e._R(1);if(o>0)a.charset=o;e.l++;a.color=pn(e,8);switch(e._R(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break;}a.name=Ha(e,r-21);return a}function qc(e,r){if(!r)r=ha(25+4*32);r._W(2,e.sz*20);gn(e,r);r._W(2,e.bold?700:400);var t=0;if(e.vertAlign=="superscript")t=1;else if(e.vertAlign=="subscript")t=2;r._W(2,t);r._W(1,e.underline||0);r._W(1,e.family||0);r._W(1,e.charset||0);r._W(1,0);mn(e.color,r);var a=0;if(e.scheme=="major")a=1;if(e.scheme=="minor")a=2;r._W(1,a);za(e.name,r);return r.length>r.l?r.slice(0,r.l):r}var Zc=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];var Qc;var el=ua;function rl(e,r){if(!r)r=ha(4*3+8*7+16*1);if(!Qc)Qc=ar(Zc);var t=Qc[e.patternType];if(t==null)t=40;r._W(4,t);var a=0;if(t!=40){mn({auto:1},r);mn({auto:1},r);for(;a<12;++a)r._W(4,0)}else{for(;a<4;++a)r._W(4,0);for(;a<12;++a)r._W(4,0)}return r.length>r.l?r.slice(0,r.l):r}function tl(e,r){var t=e.l+r;var a=e._R(2);var n=e._R(2);e.l=t;return{ixfe:a,numFmtId:n}}function al(e,r,t){if(!t)t=ha(16);t._W(2,r||0);t._W(2,e.numFmtId||0);t._W(2,0);t._W(2,0);t._W(2,0);t._W(1,0);t._W(1,0);var a=0;t._W(1,a);t._W(1,0);t._W(1,0);t._W(1,0);return t}function nl(e,r){if(!r)r=ha(10);r._W(1,0);r._W(1,0);r._W(4,0);r._W(4,0);return r}var il=ua;function sl(e,r){if(!r)r=ha(51);r._W(1,0);nl(null,r);nl(null,r);nl(null,r);nl(null,r);nl(null,r);return r.length>r.l?r.slice(0,r.l):r}function fl(e,r){if(!r)r=ha(12+4*10);r._W(4,e.xfId);r._W(2,1);r._W(1,+e.builtinId);r._W(1,0);tn(e.name||"",r);return r.length>r.l?r.slice(0,r.l):r}function ol(e,r,t){var a=ha(4+256*2*4);a._W(4,e);tn(r,a);tn(t,a);return a.length>a.l?a.slice(0,a.l):a}function cl(e,r,t){var a={};a.NumberFmt=[];for(var n in X)a.NumberFmt[n]=X[n];a.CellXf=[];a.Fonts=[];var i=[];var s=false;da(e,function f(e,n,o){switch(o){case 44:a.NumberFmt[e[0]]=e[1];We(e[1],e[0]);break;case 43:a.Fonts.push(e);if(e.color.theme!=null&&r&&r.themeElements&&r.themeElements.clrScheme){e.color.rgb=Tc(r.themeElements.clrScheme[e.color.theme].rgb,e.color.tint||0)}break;case 1025:break;case 45:break;case 46:break;case 47:if(i[i.length-1]==617){a.CellXf.push(e)}break;case 48:;case 507:;case 572:;case 475:break;case 1171:;case 2102:;case 1130:;case 512:;case 2095:;case 3072:break;case 35:s=true;break;case 36:s=false;break;case 37:i.push(o);s=true;break;case 38:i.pop();s=false;break;default:if(n.T>0)i.push(o);else if(n.T<0)i.pop();else if(!s||t.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+o.toString(16));}});return a}function ll(e,r){if(!r)return;var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var a=e[0];a<=e[1];++a)if(r[a]!=null)++t});if(t==0)return;pa(e,615,Wa(t));[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var a=t[0];a<=t[1];++a)if(r[a]!=null)pa(e,44,Kc(a,r[a]))});pa(e,616)}function ul(e){var r=1;if(r==0)return;pa(e,611,Wa(r));pa(e,43,qc({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}));pa(e,612)}function hl(e){var r=2;if(r==0)return;pa(e,603,Wa(r));pa(e,45,rl({patternType:"none"}));pa(e,45,rl({patternType:"gray125"}));pa(e,604)}function dl(e){var r=1;if(r==0)return;pa(e,613,Wa(r));pa(e,46,sl({}));pa(e,614)}function vl(e){var r=1;pa(e,626,Wa(r));pa(e,47,al({numFmtId:0,fontId:0,fillId:0,borderId:0},65535));pa(e,627)}function pl(e,r){pa(e,617,Wa(r.length));r.forEach(function(r){pa(e,47,al(r,0))});pa(e,618)}function ml(e){var r=1;pa(e,619,Wa(r));pa(e,48,fl({xfId:0,builtinId:0,name:"Normal"}));pa(e,620)}function bl(e){var r=0;pa(e,505,Wa(r));pa(e,506)}function gl(e){var r=0;pa(e,508,ol(r,"TableStyleMedium9","PivotStyleMedium4"));pa(e,509)}function wl(){return}function kl(e,r){var t=va();pa(t,278);ll(t,e.SSF);ul(t,e);hl(t,e);dl(t,e);vl(t,e);pl(t,r.cellXfs);ml(t,e);bl(t,e);gl(t,e);wl(t,e);pa(t,279);return t.end()}var Tl=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function El(e,r,t){r.themeElements.clrScheme=[];var a={};(e[0].match(Hr)||[]).forEach(function(e){var n=Gr(e);switch(n[0]){case"<a:clrScheme":;case"</a:clrScheme>":break;case"<a:srgbClr":a.rgb=n.val;break;case"<a:sysClr":a.rgb=n.lastClr;break;case"<a:dk1>":;case"</a:dk1>":;case"<a:lt1>":;case"</a:lt1>":;case"<a:dk2>":;case"</a:dk2>":;case"<a:lt2>":;case"</a:lt2>":;case"<a:accent1>":;case"</a:accent1>":;case"<a:accent2>":;case"</a:accent2>":;case"<a:accent3>":;case"</a:accent3>":;case"<a:accent4>":;case"</a:accent4>":;case"<a:accent5>":;case"</a:accent5>":;case"<a:accent6>":;case"</a:accent6>":;case"<a:hlink>":;case"</a:hlink>":;case"<a:folHlink>":;case"</a:folHlink>":if(n[0].charAt(1)==="/"){r.themeElements.clrScheme[Tl.indexOf(n[0])]=a;a={}}else{a.name=n[0].slice(3,n[0].length-1)}break;default:if(t&&t.WTF)throw new Error("Unrecognized "+n[0]+" in clrScheme");}})}function yl(){}function Sl(){}var _l=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/;var Al=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/;var xl=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Cl(e,r,t){r.themeElements={};var a;[["clrScheme",_l,El],["fontScheme",Al,yl],["fmtScheme",xl,Sl]].forEach(function(n){if(!(a=e.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](a,r,t)})}var Rl=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Ol(e,r){if(!e||e.length===0)e=Il();var t;var a={};if(!(t=e.match(Rl)))throw new Error("themeElements not found in theme");Cl(t[0],a,r);a.raw=e;return a}function Il(e,r){if(r&&r.themeXLSX)return r.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var t=[Mr];t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">';t[t.length]="<a:themeElements>";t[t.length]='<a:clrScheme name="Office">';t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>';t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>';t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>';t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>';t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>';t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>';t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>';t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>';t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>';t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>';t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>';t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>';t[t.length]="</a:clrScheme>";t[t.length]='<a:fontScheme name="Office">';t[t.length]="<a:majorFont>";t[t.length]='<a:latin typeface="Cambria"/>';t[t.length]='<a:ea typeface=""/>';t[t.length]='<a:cs typeface=""/>';t[t.length]='<a:font script="Jpan" typeface=" "/>';t[t.length]='<a:font script="Hang" typeface=" "/>';t[t.length]='<a:font script="Hans" typeface=""/>';t[t.length]='<a:font script="Hant" typeface=""/>';t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>';t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>';t[t.length]='<a:font script="Thai" typeface="Tahoma"/>';t[t.length]='<a:font script="Ethi" typeface="Nyala"/>';t[t.length]='<a:font script="Beng" typeface="Vrinda"/>';t[t.length]='<a:font script="Gujr" typeface="Shruti"/>';t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>';t[t.length]='<a:font script="Knda" typeface="Tunga"/>';t[t.length]='<a:font script="Guru" typeface="Raavi"/>';t[t.length]='<a:font script="Cans" typeface="Euphemia"/>';t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>';t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>';t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>';t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>';t[t.length]='<a:font script="Deva" typeface="Mangal"/>';t[t.length]='<a:font script="Telu" typeface="Gautami"/>';t[t.length]='<a:font script="Taml" typeface="Latha"/>';t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>';t[t.length]='<a:font script="Orya" typeface="Kalinga"/>';t[t.length]='<a:font script="Mlym" typeface="Kartika"/>';t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>';t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>';t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>';t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>';t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>';t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>';t[t.length]="</a:majorFont>";t[t.length]="<a:minorFont>";t[t.length]='<a:latin typeface="Calibri"/>';t[t.length]='<a:ea typeface=""/>';t[t.length]='<a:cs typeface=""/>';t[t.length]='<a:font script="Jpan" typeface=" "/>';t[t.length]='<a:font script="Hang" typeface=" "/>';t[t.length]='<a:font script="Hans" typeface=""/>';t[t.length]='<a:font script="Hant" typeface=""/>';t[t.length]='<a:font script="Arab" typeface="Arial"/>';t[t.length]='<a:font script="Hebr" typeface="Arial"/>';t[t.length]='<a:font script="Thai" typeface="Tahoma"/>';t[t.length]='<a:font script="Ethi" typeface="Nyala"/>';t[t.length]='<a:font script="Beng" typeface="Vrinda"/>';t[t.length]='<a:font script="Gujr" typeface="Shruti"/>';t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>';t[t.length]='<a:font script="Knda" typeface="Tunga"/>';t[t.length]='<a:font script="Guru" typeface="Raavi"/>';t[t.length]='<a:font script="Cans" typeface="Euphemia"/>';t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>';t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>';t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>';t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>';t[t.length]='<a:font script="Deva" typeface="Mangal"/>';t[t.length]='<a:font script="Telu" typeface="Gautami"/>';t[t.length]='<a:font script="Taml" typeface="Latha"/>';t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>';t[t.length]='<a:font script="Orya" typeface="Kalinga"/>';t[t.length]='<a:font script="Mlym" typeface="Kartika"/>';t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>';t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>';t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>';t[t.length]='<a:font script="Viet" typeface="Arial"/>';t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>';t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>';t[t.length]="</a:minorFont>";t[t.length]="</a:fontScheme>";t[t.length]='<a:fmtScheme name="Office">';t[t.length]="<a:fillStyleLst>";t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>';t[t.length]='<a:gradFill rotWithShape="1">';t[t.length]="<a:gsLst>";t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>';t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>';t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>';t[t.length]="</a:gsLst>";t[t.length]='<a:lin ang="16200000" scaled="1"/>';t[t.length]="</a:gradFill>";t[t.length]='<a:gradFill rotWithShape="1">';t[t.length]="<a:gsLst>";t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>';t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>';t[t.length]="</a:gsLst>";t[t.length]='<a:lin ang="16200000" scaled="0"/>';t[t.length]="</a:gradFill>";t[t.length]="</a:fillStyleLst>";t[t.length]="<a:lnStyleLst>";t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>';t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>';t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>';t[t.length]="</a:lnStyleLst>";t[t.length]="<a:effectStyleLst>";t[t.length]="<a:effectStyle>";t[t.length]="<a:effectLst>";t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>';t[t.length]="</a:effectLst>";t[t.length]="</a:effectStyle>";t[t.length]="<a:effectStyle>";t[t.length]="<a:effectLst>";t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>';t[t.length]="</a:effectLst>";t[t.length]="</a:effectStyle>";t[t.length]="<a:effectStyle>";t[t.length]="<a:effectLst>";t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>';t[t.length]="</a:effectLst>";t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>';t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>';t[t.length]="</a:effectStyle>";t[t.length]="</a:effectStyleLst>";t[t.length]="<a:bgFillStyleLst>";t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>';t[t.length]='<a:gradFill rotWithShape="1">';t[t.length]="<a:gsLst>";t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>';t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>';t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>';t[t.length]="</a:gsLst>";t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>';t[t.length]="</a:gradFill>";t[t.length]='<a:gradFill rotWithShape="1">';t[t.length]="<a:gsLst>";t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>';t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>';t[t.length]="</a:gsLst>";t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>';t[t.length]="</a:gradFill>";t[t.length]="</a:bgFillStyleLst>";t[t.length]="</a:fmtScheme>";t[t.length]="</a:themeElements>";t[t.length]="<a:objectDefaults>";t[t.length]="<a:spDef>";t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>';t[t.length]="</a:spDef>";t[t.length]="<a:lnDef>";t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>';t[t.length]="</a:lnDef>";t[t.length]="</a:objectDefaults>";t[t.length]="<a:extraClrSchemeLst/>";t[t.length]="</a:theme>";return t.join("")}function Nl(e,r,t){var a=e.l+r;var n=e._R(4);if(n===124226)return;if(!t.cellStyles){e.l=a;return}var i=e.slice(e.l);e.l=a;var s;try{s=Pr(i,{type:"array"})}catch(f){return}var o=Or(s,"theme/theme/theme1.xml",true);if(!o)return;return Ol(o,t)}function Fl(e){return e._R(4)}function Dl(e){var r={};r.xclrType=e._R(2);r.nTintShade=e._R(2);switch(r.xclrType){case 0:e.l+=4;break;case 1:r.xclrValue=Pl(e,4);break;case 2:r.xclrValue=ks(e,4);break;case 3:r.xclrValue=Fl(e,4);break;case 4:e.l+=4;break;}e.l+=8;return r}function Pl(e,r){return ua(e,r)}function Ll(e,r){return ua(e,r)}function Ml(e){var r=e._R(2);var t=e._R(2)-4;var a=[r];switch(r){case 4:;case 5:;case 7:;case 8:;case 9:;case 10:;case 11:;case 13:a[1]=Dl(e,t);break;case 6:a[1]=Ll(e,t);break;case 14:;case 15:a[1]=e._R(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+r+" "+t);}return a}function Ul(e,r){var t=e.l+r;e.l+=2;var a=e._R(2);e.l+=2;var n=e._R(2);var i=[];while(n-- >0)i.push(Ml(e,t-e.l));return{ixfe:a,ext:i}}function Bl(e,r){r.forEach(function(e){switch(e[0]){case 4:break;case 5:break;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:break;case 13:break;case 14:break;case 15:break;}})}function Wl(e,r){return{flags:e._R(4),version:e._R(4),name:Ha(e,r-8)}}function Hl(e){var r=ha(12+2*e.name.length);r._W(4,e.flags);r._W(4,e.version);za(e.name,r);return r.slice(0,r.l)}function zl(e){var r=[];var t=e._R(4);while(t-- >0)r.push([e._R(4),e._R(4)]);return r}function Vl(e){var r=ha(4+8*e.length);r._W(4,e.length);for(var t=0;t<e.length;++t){r._W(4,e[t][0]);r._W(4,e[t][1])}return r}function Gl(e,r){var t=ha(8+2*r.length);t._W(4,e);za(r,t);return t.slice(0,t.l)}function jl(e){e.l+=4;return e._R(4)!=0}function Xl(e,r){var t=ha(8);t._W(4,e);t._W(4,r?1:0);return t}function $l(e,r,t){var a={Types:[],Cell:[],Value:[]};var n=t||{};var i=[];var s=false;var f=2;da(e,function(e,r,t){switch(t){case 335:a.Types.push({name:e.name});break;case 51:e.forEach(function(e){if(f==1)a.Cell.push({type:a.Types[e[0]-1].name,index:e[1]});else if(f==0)a.Value.push({type:a.Types[e[0]-1].name,index:e[1]})});break;case 337:f=e?1:0;break;case 338:f=2;break;case 35:i.push(t);s=true;break;case 36:i.pop();s=false;break;default:if(r.T){}else if(!s||n.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+t.toString(16));}});return a}function Yl(){var e=va();pa(e,332);pa(e,334,Wa(1));pa(e,335,Hl({name:"XLDAPR",version:12e4,flags:3496657072}));pa(e,336);pa(e,339,Gl(1,"XLDAPR"));pa(e,52);pa(e,35,Wa(514));pa(e,4096,Wa(0));pa(e,4097,rs(1));pa(e,36);pa(e,53);pa(e,340);pa(e,337,Xl(1,true));pa(e,51,Vl([[1,0]]));pa(e,338);pa(e,333);return e.end()}function Kl(e,r,t){var a={Types:[],Cell:[],Value:[]};if(!e)return a;var n=false;var i=2;var s;e.replace(Hr,function(e){var r=Gr(e);switch(jr(r[0])){case"<?xml":break;case"<metadata":;case"</metadata>":break;case"<metadataTypes":;case"</metadataTypes>":break;case"<metadataType":a.Types.push({name:r.name});break;case"</metadataType>":break;case"<futureMetadata":for(var f=0;f<a.Types.length;++f)if(a.Types[f].name==r.name)s=a.Types[f];break;case"</futureMetadata>":break;case"<bk>":
break;case"</bk>":break;case"<rc":if(i==1)a.Cell.push({type:a.Types[r.t-1].name,index:+r.v});else if(i==0)a.Value.push({type:a.Types[r.t-1].name,index:+r.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":;case"<extLst>":;case"</extLst>":;case"<extLst/>":break;case"<ext":n=true;break;case"</ext>":n=false;break;case"<rvb":if(!s)break;if(!s.offsets)s.offsets=[];s.offsets.push(+r.i);break;default:if(!n&&t.WTF)throw new Error("unrecognized "+r[0]+" in metadata");}return e});return a}function Jl(){var e=[Mr];e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>');return e.join("")}function ql(e){var r=[];if(!e)return r;var t=1;(e.match(Hr)||[]).forEach(function(e){var a=Gr(e);switch(a[0]){case"<?xml":break;case"<calcChain":;case"<calcChain>":;case"</calcChain>":break;case"<c":delete a[0];if(a.i)t=a.i;else a.i=t;r.push(a);break;}});return r}function Zl(e){var r={};r.i=e._R(4);var t={};t.r=e._R(4);t.c=e._R(4);r.r=Oa(t);var a=e._R(1);if(a&2)r.l="1";if(a&8)r.a="1";return r}function Ql(e,r,t){var a=[];var n=false;da(e,function i(e,r,s){switch(s){case 63:a.push(e);break;default:if(r.T){}else if(!n||t.WTF)throw new Error("Unexpected record 0x"+s.toString(16));}});return a}function eu(){}function ru(e,r,t,a){if(!e)return e;var n=a||{};var i=false,s=false;da(e,function f(e,r,t){if(s)return;switch(t){case 359:;case 363:;case 364:;case 366:;case 367:;case 368:;case 369:;case 370:;case 371:;case 472:;case 577:;case 578:;case 579:;case 580:;case 581:;case 582:;case 583:;case 584:;case 585:;case 586:;case 587:break;case 35:i=true;break;case 36:i=false;break;default:if(r.T){}else if(!i||n.WTF)throw new Error("Unexpected record 0x"+t.toString(16));}},n)}function tu(e,r){if(!e)return"??";var t=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return r["!id"][t].Target}var au=1024;function nu(e,r){var t=[21600,21600];var a=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(",");var n=[kt("xml",null,{"xmlns:v":xt.v,"xmlns:o":xt.o,"xmlns:x":xt.x,"xmlns:mv":xt.mv}).replace(/\/>/,">"),kt("o:shapelayout",kt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),kt("v:shapetype",[kt("v:stroke",null,{joinstyle:"miter"}),kt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:a})];while(au<e*1e3)au+=1e3;r.forEach(function(e){var r=Ra(e[0]);var t={color2:"#BEFF82",type:"gradient"};if(t.type=="gradient")t.angle="-180";var a=t.type=="gradient"?kt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null;var i=kt("v:fill",a,t);var s={on:"t",obscured:"t"};++au;n=n.concat(["<v:shape"+wt({id:"_x0000_s"+au,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",i,kt("v:shadow",null,s),kt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",gt("x:Anchor",[r.c+1,0,r.r+1,0,r.c+3,20,r.r+5,20].join(",")),gt("x:AutoFill","False"),gt("x:Row",String(r.r)),gt("x:Column",String(r.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])});n.push("</xml>");return n.join("")}function iu(e,r,t,a){var n=Array.isArray(e);var i;r.forEach(function(r){var s=Ra(r.ref);if(n){if(!e[s.r])e[s.r]=[];i=e[s.r][s.c]}else i=e[r.ref];if(!i){i={t:"z"};if(n)e[s.r][s.c]=i;else e[r.ref]=i;var f=Fa(e["!ref"]||"BDWGO1000001:A1");if(f.s.r>s.r)f.s.r=s.r;if(f.e.r<s.r)f.e.r=s.r;if(f.s.c>s.c)f.s.c=s.c;if(f.e.c<s.c)f.e.c=s.c;var o=Na(f);if(o!==e["!ref"])e["!ref"]=o}if(!i.c)i.c=[];var c={a:r.author,t:r.t,r:r.r,T:t};if(r.h)c.h=r.h;for(var l=i.c.length-1;l>=0;--l){if(!t&&i.c[l].T)return;if(t&&!i.c[l].T)i.c.splice(l,1)}if(t&&a)for(l=0;l<a.length;++l){if(c.a==a[l].id){c.a=a[l].name||c.a;break}}i.c.push(c)})}function su(e,r){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var t=[];var a=[];var n=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);if(n&&n[1])n[1].split(/<\/\w*:?author>/).forEach(function(e){if(e===""||e.trim()==="")return;var r=e.match(/<(?:\w+:)?author[^>]*>(.*)/);if(r)t.push(r[1])});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);if(i&&i[1])i[1].split(/<\/\w*:?comment>/).forEach(function(e){if(e===""||e.trim()==="")return;var n=e.match(/<(?:\w+:)?comment[^>]*>/);if(!n)return;var i=Gr(n[0]);var s={author:i.authorId&&t[i.authorId]||"sheetjsghost",ref:i.ref,guid:i.guid};var f=Ra(i.ref);if(r.sheetRows&&r.sheetRows<=f.r)return;var o=e.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/);var c=!!o&&!!o[1]&&Po(o[1])||{r:"",t:"",h:""};s.r=c.r;if(c.r=="<t></t>")c.t=c.h="";s.t=(c.t||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");if(r.cellHTML)s.h=c.h;a.push(s)});return a}function fu(e){var r=[Mr,kt("comments",null,{xmlns:At[0]})];var t=[];r.push("<authors>");e.forEach(function(e){e[1].forEach(function(e){var a=qr(e.a);if(t.indexOf(a)==-1){t.push(a);r.push("<author>"+a+"</author>")}if(e.T&&e.ID&&t.indexOf("tc="+e.ID)==-1){t.push("tc="+e.ID);r.push("<author>"+"tc="+e.ID+"</author>")}})});if(t.length==0){t.push("SheetJ5");r.push("<author>SheetJ5</author>")}r.push("</authors>");r.push("<commentList>");e.forEach(function(e){var a=0,n=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID)a=t.indexOf("tc="+e[1][0].ID);else e[1].forEach(function(e){if(e.a)a=t.indexOf(qr(e.a));n.push(e.t||"")});r.push('<comment ref="'+e[0]+'" authorId="'+a+'"><text>');if(n.length<=1)r.push(gt("t",qr(n[0]||"")));else{var i="Comment:\n    "+n[0]+"\n";for(var s=1;s<n.length;++s)i+="Reply:\n    "+n[s]+"\n";r.push(gt("t",qr(i)))}r.push("</text></comment>")});r.push("</commentList>");if(r.length>2){r[r.length]="</comments>";r[1]=r[1].replace("/>",">")}return r.join("")}function ou(e,r){var t=[];var a=false,n={},i=0;e.replace(Hr,function s(f,o){var c=Gr(f);switch(jr(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":if(n.t!=null)t.push(n);break;case"<text>":;case"<text":i=o+f.length;break;case"</text>":n.t=e.slice(i,o).replace(/\r\n/g,"\n").replace(/\r/g,"\n");break;case"<mentions":;case"<mentions>":a=true;break;case"</mentions>":a=false;break;case"<extLst":;case"<extLst>":;case"</extLst>":;case"<extLst/>":break;case"<ext":a=true;break;case"</ext>":a=false;break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments");}return f});return t}function cu(e,r,t){var a=[Mr,kt("ThreadedComments",null,{xmlns:_t.TCMNT}).replace(/[\/]>/,">")];e.forEach(function(e){var n="";(e[1]||[]).forEach(function(i,s){if(!i.T){delete i.ID;return}if(i.a&&r.indexOf(i.a)==-1)r.push(i.a);var f={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};if(s==0)n=f.id;else f.parentId=n;i.ID=f.id;if(i.a)f.personId="{54EE7950-7262-4200-6969-"+("000000000000"+r.indexOf(i.a)).slice(-12)+"}";a.push(kt("threadedComment",gt("text",i.t||""),f))})});a.push("</ThreadedComments>");return a.join("")}function lu(e,r){var t=[];var a=false;e.replace(Hr,function n(e){var n=Gr(e);switch(jr(n[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:n.displayname,id:n.id});break;case"</person>":break;case"<extLst":;case"<extLst>":;case"</extLst>":;case"<extLst/>":break;case"<ext":a=true;break;case"</ext>":a=false;break;default:if(!a&&r.WTF)throw new Error("unrecognized "+n[0]+" in threaded comments");}return e});return t}function uu(e){var r=[Mr,kt("personList",null,{xmlns:_t.TCMNT,"xmlns:x":At[0]}).replace(/[\/]>/,">")];e.forEach(function(e,t){r.push(kt("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+t).slice(-12)+"}",userId:e,providerId:"None"}))});r.push("</personList>");return r.join("")}function hu(e){var r={};r.iauthor=e._R(4);var t=un(e,16);r.rfx=t.s;r.ref=Oa(t.s);e.l+=16;return r}function du(e,r){if(r==null)r=ha(36);r._W(4,e[1].iauthor);hn(e[0],r);r._W(4,0);r._W(4,0);r._W(4,0);r._W(4,0);return r}var vu=Ha;function pu(e){return za(e.slice(0,54))}function mu(e,r){var t=[];var a=[];var n={};var i=false;da(e,function s(e,f,o){switch(o){case 632:a.push(e);break;case 635:n=e;break;case 637:n.t=e.t;n.h=e.h;n.r=e.r;break;case 636:n.author=a[n.iauthor];delete n.iauthor;if(r.sheetRows&&n.rfx&&r.sheetRows<=n.rfx.r)break;if(!n.t)n.t="";delete n.rfx;t.push(n);break;case 3072:break;case 35:i=true;break;case 36:i=false;break;case 37:break;case 38:break;default:if(f.T){}else if(!i||r.WTF)throw new Error("Unexpected record 0x"+o.toString(16));}});return t}function bu(e){var r=va();var t=[];pa(r,628);pa(r,630);e.forEach(function(e){e[1].forEach(function(e){if(t.indexOf(e.a)>-1)return;t.push(e.a.slice(0,54));pa(r,632,pu(e.a))})});pa(r,631);pa(r,633);e.forEach(function(e){e[1].forEach(function(a){a.iauthor=t.indexOf(a.a);var n={s:Ra(e[0]),e:Ra(e[0])};pa(r,635,du([n,a]));if(a.t&&a.t.length>0)pa(r,637,Ya(a));pa(r,636);delete a.iauthor})});pa(r,634);pa(r,629);return r.end()}var gu="application/vnd.ms-office.vbaProject";function wu(e){var r=Ke.utils.cfb_new({root:"R"});e.FullPaths.forEach(function(t,a){if(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))return;var n=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ke.utils.cfb_add(r,n,e.FileIndex[a].content)});return Ke.write(r)}function ku(e,r){r.FullPaths.forEach(function(t,a){if(a==0)return;var n=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");if(n.slice(-1)!=="/")Ke.utils.cfb_add(e,n,r.FileIndex[a].content)})}var Tu=["xlsb","xlsm","xlam","biff8","xla"];function Eu(){return{"!type":"dialog"}}function yu(){return{"!type":"dialog"}}function Su(){return{"!type":"macro"}}function _u(){return{"!type":"macro"}}var Au=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g;var r={r:0,c:0};function t(e,t,a,n){var i=false,s=false;if(a.length==0)s=true;else if(a.charAt(0)=="["){s=true;a=a.slice(1,-1)}if(n.length==0)i=true;else if(n.charAt(0)=="["){i=true;n=n.slice(1,-1)}var f=a.length>0?parseInt(a,10)|0:0,o=n.length>0?parseInt(n,10)|0:0;if(i)o+=r.c;else--o;if(s)f+=r.r;else--f;return t+(i?"":"$")+_a(o)+(s?"":"$")+Ta(f)}return function a(n,i){r=i;return n.replace(e,t)}}();var xu=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g;var Cu=function(){return function e(r,t){return r.replace(xu,function(e,r,a,n,i,s){var f=Sa(n)-(a?0:t.c);var o=ka(s)-(i?0:t.r);var c=o==0?"":!i?"["+o+"]":o+1;var l=f==0?"":!a?"["+f+"]":f+1;return r+"R"+c+"C"+l})}}();function Ru(e,r){return e.replace(xu,function(e,t,a,n,i,s){return t+(a=="$"?a+n:_a(Sa(n)+r.c))+(i=="$"?i+s:Ta(ka(s)+r.r))})}function Ou(e,r,t){var a=Ia(r),n=a.s,i=Ra(t);var s={r:i.r-n.r,c:i.c-n.c};return Ru(e,s)}function Iu(e){if(e.length==1)return false;return true}function Nu(e){return e.replace(/_xlfn\./g,"")}function Fu(e){e.l+=1;return}function Du(e,r){var t=e._R(r==1?1:2);return[t&16383,t>>14&1,t>>15&1]}function Pu(e,r,t){var a=2;if(t){if(t.biff>=2&&t.biff<=5)return Lu(e,r,t);else if(t.biff==12)a=4}var n=e._R(a),i=e._R(a);var s=Du(e,2);var f=Du(e,2);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:f[0],cRel:f[1],rRel:f[2]}}}function Lu(e){var r=Du(e,2),t=Du(e,2);var a=e._R(1);var n=e._R(1);return{s:{r:r[0],c:a,cRel:r[1],rRel:r[2]},e:{r:t[0],c:n,cRel:t[1],rRel:t[2]}}}function Mu(e,r,t){if(t.biff<8)return Lu(e,r,t);var a=e._R(t.biff==12?4:2),n=e._R(t.biff==12?4:2);var i=Du(e,2);var s=Du(e,2);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:n,c:s[0],cRel:s[1],rRel:s[2]}}}function Uu(e,r,t){if(t&&t.biff>=2&&t.biff<=5)return Bu(e,r,t);var a=e._R(t&&t.biff==12?4:2);var n=Du(e,2);return{r:a,c:n[0],cRel:n[1],rRel:n[2]}}function Bu(e){var r=Du(e,2);var t=e._R(1);return{r:r[0],c:t,cRel:r[1],rRel:r[2]}}function Wu(e){var r=e._R(2);var t=e._R(2);return{r:r,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function Hu(e,r,t){var a=t&&t.biff?t.biff:8;if(a>=2&&a<=5)return zu(e,r,t);var n=e._R(a>=12?4:2);var i=e._R(2);var s=(i&16384)>>14,f=(i&32768)>>15;i&=16383;if(f==1)while(n>524287)n-=1048576;if(s==1)while(i>8191)i=i-16384;return{r:n,c:i,cRel:s,rRel:f}}function zu(e){var r=e._R(2);var t=e._R(1);var a=(r&32768)>>15,n=(r&16384)>>14;r&=16383;if(a==1&&r>=8192)r=r-16384;if(n==1&&t>=128)t=t-256;return{r:r,c:t,cRel:n,rRel:a}}function Vu(e,r,t){var a=(e[e.l++]&96)>>5;var n=Pu(e,t.biff>=2&&t.biff<=5?6:8,t);return[a,n]}function Gu(e,r,t){var a=(e[e.l++]&96)>>5;var n=e._R(2,"i");var i=8;if(t)switch(t.biff){case 5:e.l+=12;i=6;break;case 12:i=12;break;}var s=Pu(e,i,t);return[a,n,s]}function ju(e,r,t){var a=(e[e.l++]&96)>>5;e.l+=t&&t.biff>8?12:t.biff<8?6:8;return[a]}function Xu(e,r,t){var a=(e[e.l++]&96)>>5;var n=e._R(2);var i=8;if(t)switch(t.biff){case 5:e.l+=12;i=6;break;case 12:i=12;break;}e.l+=i;return[a,n]}function $u(e,r,t){var a=(e[e.l++]&96)>>5;var n=Mu(e,r-1,t);return[a,n]}function Yu(e,r,t){var a=(e[e.l++]&96)>>5;e.l+=t.biff==2?6:t.biff==12?14:7;return[a]}function Ku(e){var r=e[e.l+1]&1;var t=1;e.l+=4;return[r,t]}function Ju(e,r,t){e.l+=2;var a=e._R(t&&t.biff==2?1:2);var n=[];for(var i=0;i<=a;++i)n.push(e._R(t&&t.biff==2?1:2));return n}function qu(e,r,t){var a=e[e.l+1]&255?1:0;e.l+=2;return[a,e._R(t&&t.biff==2?1:2)]}function Zu(e,r,t){var a=e[e.l+1]&255?1:0;e.l+=2;return[a,e._R(t&&t.biff==2?1:2)]}function Qu(e){var r=e[e.l+1]&255?1:0;e.l+=2;return[r,e._R(2)]}function eh(e,r,t){var a=e[e.l+1]&255?1:0;e.l+=t&&t.biff==2?3:4;return[a]}function rh(e){var r=e._R(1),t=e._R(1);return[r,t]}function th(e){e._R(2);return rh(e,2)}function ah(e){e._R(2);return rh(e,2)}function nh(e,r,t){var a=(e[e.l]&96)>>5;e.l+=1;var n=Uu(e,0,t);return[a,n]}function ih(e,r,t){var a=(e[e.l]&96)>>5;e.l+=1;var n=Hu(e,0,t);return[a,n]}function sh(e,r,t){var a=(e[e.l]&96)>>5;e.l+=1;var n=e._R(2);if(t&&t.biff==5)e.l+=12;var i=Uu(e,0,t);return[a,n,i]}function fh(e,r,t){var a=(e[e.l]&96)>>5;e.l+=1;var n=e._R(t&&t.biff<=3?1:2);return[yd[n],Ed[n],a]}function oh(e,r,t){var a=e[e.l++];var n=e._R(1),i=t&&t.biff<=3?[a==88?-1:0,e._R(1)]:ch(e);return[n,(i[0]===0?Ed:Td)[i[1]]]}function ch(e){return[e[e.l+1]>>7,e._R(2)&32767]}function lh(e,r,t){e.l+=t&&t.biff==2?3:4;return}function uh(e,r,t){e.l++;if(t&&t.biff==12)return[e._R(4,"i"),0];var a=e._R(2);var n=e._R(t&&t.biff==2?1:2);return[a,n]}function hh(e){e.l++;return Gn[e._R(1)]}function dh(e){e.l++;return e._R(2)}function vh(e){e.l++;return e._R(1)!==0}function ph(e){e.l++;return dn(e,8)}function mh(e,r,t){e.l++;return is(e,r-1,t)}function bh(e,r){var t=[e._R(1)];if(r==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break;}switch(t[0]){case 4:t[1]=Zi(e,1)?"TRUE":"FALSE";if(r!=12)e.l+=7;break;case 37:;case 16:t[1]=Gn[e[e.l]];e.l+=r==12?4:8;break;case 0:e.l+=8;break;case 1:t[1]=dn(e,8);break;case 2:t[1]=ls(e,0,{biff:r>0&&r<8?2:r});break;default:throw new Error("Bad SerAr: "+t[0]);}return t}function gh(e,r,t){var a=e._R(t.biff==12?4:2);var n=[];for(var i=0;i!=a;++i)n.push((t.biff==12?un:Rs)(e,8));return n}function wh(e,r,t){var a=0,n=0;if(t.biff==12){a=e._R(4);n=e._R(4)}else{n=1+e._R(1);a=1+e._R(2)}if(t.biff>=2&&t.biff<8){--a;if(--n==0)n=256}for(var i=0,s=[];i!=a&&(s[i]=[]);++i)for(var f=0;f!=n;++f)s[i][f]=bh(e,t.biff);return s}function kh(e,r,t){var a=e._R(1)>>>5&3;var n=!t||t.biff>=8?4:2;var i=e._R(n);switch(t.biff){case 2:e.l+=5;break;case 3:;case 4:e.l+=8;break;case 5:e.l+=12;break;}return[a,0,i]}function Th(e,r,t){if(t.biff==5)return Eh(e,r,t);var a=e._R(1)>>>5&3;var n=e._R(2);var i=e._R(4);return[a,n,i]}function Eh(e){var r=e._R(1)>>>5&3;var t=e._R(2,"i");e.l+=8;var a=e._R(2);e.l+=12;return[r,t,a]}function yh(e,r,t){var a=e._R(1)>>>5&3;e.l+=t&&t.biff==2?3:4;var n=e._R(t&&t.biff==2?1:2);return[a,n]}function Sh(e,r,t){var a=e._R(1)>>>5&3;var n=e._R(t&&t.biff==2?1:2);return[a,n]}function _h(e,r,t){var a=e._R(1)>>>5&3;e.l+=4;if(t.biff<8)e.l--;if(t.biff==12)e.l+=2;return[a]}function Ah(e,r,t){var a=(e[e.l++]&96)>>5;var n=e._R(2);var i=4;if(t)switch(t.biff){case 5:i=15;break;case 12:i=6;break;}e.l+=i;return[a,n]}var xh=ua;var Ch=ua;var Rh=ua;function Oh(e,r,t){e.l+=2;return[Wu(e,4,t)]}function Ih(e){e.l+=6;return[]}var Nh=Oh;var Fh=Ih;var Dh=Ih;var Ph=Oh;function Lh(e){e.l+=2;return[es(e),e._R(2)&1]}var Mh=Oh;var Uh=Lh;var Bh=Ih;var Wh=Oh;var Hh=Oh;var zh=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Vh(e){e.l+=2;var r=e._R(2);var t=e._R(2);var a=e._R(4);var n=e._R(2);var i=e._R(2);var s=zh[t>>2&31];return{ixti:r,coltype:t&3,rt:s,idx:a,c:n,C:i}}function Gh(e){e.l+=2;return[e._R(4)]}function jh(e,r,t){e.l+=5;e.l+=2;e.l+=t.biff==2?1:4;return["PTGSHEET"]}function Xh(e,r,t){e.l+=t.biff==2?4:5;return["PTGENDSHEET"]}function $h(e){var r=e._R(1)>>>5&3;var t=e._R(2);return[r,t]}function Yh(e){var r=e._R(1)>>>5&3;var t=e._R(2);return[r,t]}function Kh(e){e.l+=4;return[0,0]}var Jh={1:{n:"PtgExp",f:uh},2:{n:"PtgTbl",f:Rh},3:{n:"PtgAdd",f:Fu},4:{n:"PtgSub",f:Fu},5:{n:"PtgMul",f:Fu},6:{n:"PtgDiv",f:Fu},7:{n:"PtgPower",f:Fu},8:{n:"PtgConcat",f:Fu},9:{n:"PtgLt",f:Fu},10:{n:"PtgLe",f:Fu},11:{n:"PtgEq",f:Fu},12:{n:"PtgGe",f:Fu},13:{n:"PtgGt",f:Fu},14:{n:"PtgNe",f:Fu},15:{n:"PtgIsect",f:Fu},16:{n:"PtgUnion",f:Fu},17:{n:"PtgRange",f:Fu},18:{n:"PtgUplus",f:Fu},19:{n:"PtgUminus",f:Fu},20:{n:"PtgPercent",f:Fu},21:{n:"PtgParen",f:Fu},22:{n:"PtgMissArg",f:Fu},23:{n:"PtgStr",f:mh},26:{n:"PtgSheet",f:jh},27:{n:"PtgEndSheet",f:Xh},28:{n:"PtgErr",f:hh},29:{n:"PtgBool",f:vh},30:{n:"PtgInt",f:dh},31:{n:"PtgNum",f:ph},32:{n:"PtgArray",f:Yu},33:{n:"PtgFunc",f:fh},34:{n:"PtgFuncVar",f:oh},35:{n:"PtgName",f:kh},36:{n:"PtgRef",f:nh},37:{n:"PtgArea",f:Vu},38:{n:"PtgMemArea",f:yh},39:{n:"PtgMemErr",f:xh},40:{n:"PtgMemNoMem",f:Ch},41:{n:"PtgMemFunc",f:Sh},42:{n:"PtgRefErr",f:_h},43:{n:"PtgAreaErr",f:ju},44:{n:"PtgRefN",f:ih},45:{n:"PtgAreaN",f:$u},46:{n:"PtgMemAreaN",f:$h},47:{n:"PtgMemNoMemN",f:Yh},57:{n:"PtgNameX",f:Th},58:{n:"PtgRef3d",f:sh},59:{n:"PtgArea3d",f:Gu},60:{n:"PtgRefErr3d",f:Ah},61:{n:"PtgAreaErr3d",f:Xu},255:{}};var qh={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61};var Zh={1:{n:"PtgElfLel",f:Lh},2:{n:"PtgElfRw",f:Wh},3:{n:"PtgElfCol",f:Nh},6:{n:"PtgElfRwV",f:Hh},7:{n:"PtgElfColV",f:Ph},10:{n:"PtgElfRadical",f:Mh},11:{n:"PtgElfRadicalS",f:Bh},13:{n:"PtgElfColS",f:Fh},15:{n:"PtgElfColSV",f:Dh},16:{n:"PtgElfRadicalLel",f:Uh},25:{n:"PtgList",f:Vh},29:{n:"PtgSxName",f:Gh},255:{}};var Qh={0:{n:"PtgAttrNoop",f:Kh},1:{n:"PtgAttrSemi",f:eh},2:{n:"PtgAttrIf",f:Zu},4:{n:"PtgAttrChoose",f:Ju},8:{n:"PtgAttrGoto",f:qu},16:{n:"PtgAttrSum",f:lh},32:{n:"PtgAttrBaxcel",f:Ku},33:{n:"PtgAttrBaxcel",f:Ku},64:{n:"PtgAttrSpace",f:th},65:{n:"PtgAttrSpaceSemi",f:ah},128:{n:"PtgAttrIfError",f:Qu},255:{}};function ed(e,r,t,a){if(a.biff<8)return ua(e,r);var n=e.l+r;var i=[];for(var s=0;s!==t.length;++s){switch(t[s][0]){case"PtgArray":t[s][1]=wh(e,0,a);i.push(t[s][1]);break;case"PtgMemArea":t[s][2]=gh(e,t[s][1],a);i.push(t[s][2]);break;case"PtgExp":if(a&&a.biff==12){t[s][1][1]=e._R(4);i.push(t[s][1])}break;case"PtgList":;case"PtgElfRadicalS":;case"PtgElfColS":;case"PtgElfColSV":throw"Unsupported "+t[s][0];default:break;}}r=n-e.l;if(r!==0)i.push(ua(e,r));return i}function rd(e,r,t){var a=e.l+r;var n,i,s=[];while(a!=e.l){r=a-e.l;i=e[e.l];n=Jh[i]||Jh[qh[i]];if(i===24||i===25)n=(i===24?Zh:Qh)[e[e.l+1]];if(!n||!n.f){ua(e,r)}else{s.push([n.n,n.f(e,r,t)])}}return s}function td(e){var r=[];for(var t=0;t<e.length;++t){var a=e[t],n=[];for(var i=0;i<a.length;++i){var s=a[i];if(s)switch(s[0]){case 2:n.push('"'+s[1].replace(/"/g,'""')+'"');break;default:n.push(s[1]);}else n.push("")}r.push(n.join(","))}return r.join(";")}var ad={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function nd(e,r){if(!e&&!(r&&r.biff<=5&&r.biff>=2))throw new Error("empty sheet name");if(/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e))return"'"+e+"'";return e}function id(e,r,t){if(!e)return"SH33TJSERR0";if(t.biff>8&&(!e.XTI||!e.XTI[r]))return e.SheetNames[r];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[r];if(t.biff<8){if(r>1e4)r-=65536;if(r<0)r=-r;return r==0?"":e.XTI[r-1]}if(!a)return"SH33TJSERR1";var n="";if(t.biff>8)switch(e[a[0]][0]){case 357:n=a[1]==-1?"#REF":e.SheetNames[a[1]];return a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 358:if(t.SID!=null)return e.SheetNames[t.SID];return"SH33TJSSAME"+e[a[0]][0];case 355:;default:return"SH33TJSSRC"+e[a[0]][0];}switch(e[a[0]][0][0]){case 1025:n=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3";return a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(e){return e.Name}).join(";;");default:if(!e[a[0]][0][3])return"SH33TJSERR2";n=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4";return a[1]==a[2]?n:n+":"+e[a[0]][0][3][a[2]];}}function sd(e,r,t){var a=id(e,r,t);return a=="#REF"?a:nd(a,t)}function fd(e,r,t,a,n){var i=n&&n.biff||8;var s={s:{c:0,r:0},e:{c:0,r:0}};var f=[],o,c,l,u=0,h=0,d,v="";if(!e[0]||!e[0][0])return"";var p=-1,m="";for(var b=0,g=e[0].length;b<g;++b){var w=e[0][b];switch(w[0]){case"PtgUminus":f.push("-"+f.pop());break;case"PtgUplus":f.push("+"+f.pop());break;case"PtgPercent":f.push(f.pop()+"%");break;case"PtgAdd":;case"PtgConcat":;case"PtgDiv":;case"PtgEq":;case"PtgGe":;case"PtgGt":;case"PtgLe":;case"PtgLt":;case"PtgMul":;case"PtgNe":;case"PtgPower":;case"PtgSub":o=f.pop();c=f.pop();if(p>=0){switch(e[0][p][1][0]){case 0:m=wr(" ",e[0][p][1][1]);break;case 1:m=wr("\r",e[0][p][1][1]);break;default:m="";if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0]);}c=c+m;p=-1}f.push(c+ad[w[0]]+o);break;case"PtgIsect":o=f.pop();c=f.pop();f.push(c+" "+o);break;case"PtgUnion":o=f.pop();c=f.pop();f.push(c+","+o);break;case"PtgRange":o=f.pop();c=f.pop();f.push(c+":"+o);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":l=ma(w[1][1],s,n);f.push(ga(l,i));break;case"PtgRefN":l=t?ma(w[1][1],t,n):w[1][1];f.push(ga(l,i));break;case"PtgRef3d":u=w[1][1];l=ma(w[1][2],s,n);v=sd(a,u,n);var k=v;f.push(v+"!"+ga(l,i));break;case"PtgFunc":;case"PtgFuncVar":var T=w[1][0],E=w[1][1];if(!T)T=0;T&=127;var y=T==0?[]:f.slice(-T);f.length-=T;if(E==="User")E=y.shift();f.push(E+"("+y.join(",")+")");break;case"PtgBool":f.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":f.push(w[1]);break;case"PtgNum":f.push(String(w[1]));break;case"PtgStr":f.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":f.push(w[1]);break;case"PtgAreaN":d=ba(w[1][1],t?{s:t}:s,n);f.push(wa(d,n));break;case"PtgArea":d=ba(w[1][1],s,n);f.push(wa(d,n));break;case"PtgArea3d":u=w[1][1];d=w[1][2];v=sd(a,u,n);f.push(v+"!"+wa(d,n));break;case"PtgAttrSum":f.push("SUM("+f.pop()+")");break;case"PtgAttrBaxcel":;case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var S=(a.names||[])[h-1]||(a[0]||[])[h];var _=S?S.Name:"SH33TJSNAME"+String(h);if(_&&_.slice(0,6)=="_xlfn."&&!n.xlfn)_=_.slice(6);f.push(_);break;case"PtgNameX":var A=w[1][1];h=w[1][2];var x;if(n.biff<=5){if(A<0)A=-A;if(a[A])x=a[A][h]}else{var C="";if(((a[A]||[])[0]||[])[0]==14849){}else if(((a[A]||[])[0]||[])[0]==1025){if(a[A][h]&&a[A][h].itab>0){C=a.SheetNames[a[A][h].itab-1]+"!"}}else C=a.SheetNames[h-1]+"!";if(a[A]&&a[A][h])C+=a[A][h].Name;else if(a[0]&&a[0][h])C+=a[0][h].Name;else{var R=(id(a,A,n)||"").split(";;");if(R[h-1])C=R[h-1];else C+="SH33TJSERRX"}f.push(C);break}if(!x)x={Name:"SH33TJSERRY"};f.push(x.Name);break;case"PtgParen":var O="(",I=")";if(p>=0){m="";switch(e[0][p][1][0]){case 2:O=wr(" ",e[0][p][1][1])+O;break;case 3:O=wr("\r",e[0][p][1][1])+O;break;case 4:I=wr(" ",e[0][p][1][1])+I;break;case 5:I=wr("\r",e[0][p][1][1])+I;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0]);}p=-1}f.push(O+f.pop()+I);break;case"PtgRefErr":f.push("#REF!");break;case"PtgRefErr3d":f.push("#REF!");break;case"PtgExp":l={c:w[1][1],r:w[1][0]};var N={c:t.c,r:t.r};if(a.sharedf[Oa(l)]){var F=a.sharedf[Oa(l)];f.push(fd(F,s,N,a,n))}else{var D=false;for(o=0;o!=a.arrayf.length;++o){c=a.arrayf[o];if(l.c<c[0].s.c||l.c>c[0].e.c)continue;if(l.r<c[0].s.r||l.r>c[0].e.r)continue;f.push(fd(c[1],s,N,a,n));D=true;break}if(!D)f.push(w[1])}break;case"PtgArray":f.push("{"+td(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":;case"PtgAttrSpaceSemi":p=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":f.push("");break;case"PtgAreaErr":f.push("#REF!");break;case"PtgAreaErr3d":f.push("#REF!");break;case"PtgList":f.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":;case"PtgMemNoMemN":;case"PtgAttrNoop":;case"PtgSheet":;case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":;case"PtgElfColS":;case"PtgElfColSV":;case"PtgElfColV":;case"PtgElfLel":;case"PtgElfRadical":;case"PtgElfRadicalLel":;case"PtgElfRadicalS":;case"PtgElfRw":;case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w));}var P=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3)if(p>=0&&P.indexOf(e[0][b][0])==-1){w=e[0][p];var L=true;switch(w[1][0]){case 4:L=false;case 0:m=wr(" ",w[1][1]);break;case 5:L=false;case 1:m=wr("\r",w[1][1]);break;default:m="";if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0]);}f.push((L?m:"")+f.pop()+(L?"":m));p=-1}}if(f.length>1&&n.WTF)throw new Error("bad formula stack");return f[0]}function od(e,r,t){var a=e.l+r,n=t.biff==2?1:2;var i,s=e._R(n);if(s==65535)return[[],ua(e,r-2)];var f=rd(e,s,t);if(r!==s+n)i=ed(e,r-s-n,f,t);e.l=a;return[f,i]}function cd(e,r,t){var a=e.l+r,n=t.biff==2?1:2;var i,s=e._R(n);if(s==65535)return[[],ua(e,r-2)];var f=rd(e,s,t);if(r!==s+n)i=ed(e,r-s-n,f,t);e.l=a;return[f,i]}function ld(e,r,t,a){var n=e.l+r;var i=rd(e,a,t);var s;if(n!==e.l)s=ed(e,n-e.l,i,t);return[i,s]}function ud(e,r,t){var a=e.l+r;var n,i=e._R(2);var s=rd(e,i,t);if(i==65535)return[[],ua(e,r-2)];if(r!==i+2)n=ed(e,a-i-2,s,t);return[s,n]}function hd(e){var r;if(Qt(e,e.l+6)!==65535)return[dn(e),"n"];switch(e[e.l]){case 0:e.l+=8;return["String","s"];case 1:r=e[e.l+2]===1;e.l+=8;return[r,"b"];case 2:r=e[e.l+2];e.l+=8;return[r,"e"];case 3:e.l+=8;return["","s"];}return[]}function dd(e){if(e==null){var r=ha(8);r._W(1,3);r._W(1,0);r._W(2,0);r._W(2,0);r._W(2,65535);return r}else if(typeof e=="number")return vn(e);return vn(0)}function vd(e,r,t){var a=e.l+r;var n=Es(e,6);if(t.biff==2)++e.l;var i=hd(e,8);var s=e._R(1);if(t.biff!=2){e._R(1);if(t.biff>=5){e._R(4)}}var f=cd(e,a-e.l,t);return{cell:n,val:i[0],formula:f,shared:s>>3&1,tt:i[1]}}function pd(e,r,t,a,n){var i=ys(r,t,n);var s=dd(e.v);var f=ha(6);var o=1|32;f._W(2,o);f._W(4,0);var c=ha(e.bf.length);for(var l=0;l<e.bf.length;++l)c[l]=e.bf[l];var u=O([i,s,f,c]);return u}function md(e,r,t){var a=e._R(4);var n=rd(e,a,t);var i=e._R(4);var s=i>0?ed(e,i,n,t):null;return[n,s]}var bd=md;var gd=md;var wd=md;var kd=md;var Td={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",
215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"};var Ed={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"};var yd={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Sd(e){if(e.slice(0,3)=="of:")e=e.slice(3);if(e.charCodeAt(0)==61){e=e.slice(1);if(e.charCodeAt(0)==61)e=e.slice(1)}e=e.replace(/COM\.MICROSOFT\./g,"");e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")});e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1");return e.replace(/[;~]/g,",").replace(/\|/g,";")}function _d(e){var r="of:="+e.replace(xu,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return r.replace(/;/g,"|").replace(/,/g,";")}function Ad(e){var r=e.split(":");var t=r[0].split(".")[0];return[t,r[0].split(".")[1]+(r.length>1?":"+(r[1].split(".")[1]||r[1].split(".")[0]):"")]}function xd(e){return e.replace(/\./,"!")}var Cd={};var Rd={};var Od=typeof Map!=="undefined";function Id(e,r,t){var a=0,n=e.length;if(t){if(Od?t.has(r):Object.prototype.hasOwnProperty.call(t,r)){var i=Od?t.get(r):t[r];for(;a<i.length;++a){if(e[i[a]].t===r){e.Count++;return i[a]}}}}else for(;a<n;++a){if(e[a].t===r){e.Count++;return a}}e[n]={t:r};e.Count++;e.Unique++;if(t){if(Od){if(!t.has(r))t.set(r,[]);t.get(r).push(n)}else{if(!Object.prototype.hasOwnProperty.call(t,r))t[r]=[];t[r].push(n)}}return n}function Nd(e,r){var t={min:e+1,max:e+1};var a=-1;if(r.MDW)_c=r.MDW;if(r.width!=null)t.customWidth=1;else if(r.wpx!=null)a=xc(r.wpx);else if(r.wch!=null)a=r.wch;if(a>-1){t.width=Cc(a);t.customWidth=1}else if(r.width!=null)t.width=r.width;if(r.hidden)t.hidden=true;if(r.level!=null){t.outlineLevel=t.level=r.level}return t}function Fd(e,r){if(!e)return;var t=[.7,.7,.75,.75,.3,.3];if(r=="xlml")t=[1,1,1,1,.5,.5];if(e.left==null)e.left=t[0];if(e.right==null)e.right=t[1];if(e.top==null)e.top=t[2];if(e.bottom==null)e.bottom=t[3];if(e.header==null)e.header=t[4];if(e.footer==null)e.footer=t[5]}function Dd(e,r,t){var a=t.revssf[r.z!=null?r.z:"General"];var n=60,i=e.length;if(a==null&&t.ssf){for(;n<392;++n)if(t.ssf[n]==null){We(r.z,n);t.ssf[n]=r.z;t.revssf[r.z]=a=n;break}}for(n=0;n!=i;++n)if(e[n].numFmtId===a)return n;e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1};return i}function Pd(e,r,t,a,n,i){try{if(a.cellNF)e.z=X[r]}catch(s){if(a.WTF)throw s}if(e.t==="z"&&!a.cellStyles)return;if(e.t==="d"&&typeof e.v==="string")e.v=mr(e.v);if((!a||a.cellText!==false)&&e.t!=="z")try{if(X[r]==null)We(Ge[r]||"General",r);if(e.t==="e")e.w=e.w||Gn[e.v];else if(r===0){if(e.t==="n"){if((e.v|0)===e.v)e.w=e.v.toString(10);else e.w=se(e.v)}else if(e.t==="d"){var f=fr(e.v);if((f|0)===f)e.w=f.toString(10);else e.w=se(f)}else if(e.v===undefined)return"";else e.w=fe(e.v,Rd)}else if(e.t==="d")e.w=Be(r,fr(e.v),Rd);else e.w=Be(r,e.v,Rd)}catch(s){if(a.WTF)throw s}if(!a.cellStyles)return;if(t!=null)try{e.s=i.Fills[t];if(e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb){e.s.fgColor.rgb=Tc(n.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0);if(a.WTF)e.s.fgColor.raw_rgb=n.themeElements.clrScheme[e.s.fgColor.theme].rgb}if(e.s.bgColor&&e.s.bgColor.theme){e.s.bgColor.rgb=Tc(n.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0);if(a.WTF)e.s.bgColor.raw_rgb=n.themeElements.clrScheme[e.s.bgColor.theme].rgb}}catch(s){if(a.WTF&&i.Fills)throw s}}function Ld(e,r,t){if(e&&e["!ref"]){var a=Fa(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+t+"): "+e["!ref"])}}function Md(e,r){var t=Fa(r);if(t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0)e["!ref"]=Na(t)}var Ud=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g;var Bd=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/;var Wd=/<(?:\w:)?hyperlink [^>]*>/gm;var Hd=/"(\w*:\w*)"/;var zd=/<(?:\w:)?col\b[^>]*[\/]?>/g;var Vd=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g;var Gd=/<(?:\w:)?pageMargins[^>]*\/>/g;var jd=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/;var Xd=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/;var $d=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Yd(e,r,t,a,n,i,s){if(!e)return e;if(!a)a={"!id":{}};if(m!=null&&r.dense==null)r.dense=m;var f=r.dense?[]:{};var o={s:{r:2e6,c:2e6},e:{r:0,c:0}};var c="",l="";var u=e.match(Bd);if(u){c=e.slice(0,u.index);l=e.slice(u.index+u[0].length)}else c=l=e;var h=c.match(jd);if(h)Jd(h[0],f,n,t);else if(h=c.match(Xd))qd(h[0],h[1]||"",f,n,t,s,i);var d=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(d>0){var v=c.slice(d,d+50).match(Hd);if(v)Md(f,v[1])}var p=c.match($d);if(p&&p[1])lv(p[1],n);var b=[];if(r.cellStyles){var g=c.match(zd);if(g)iv(b,g)}if(u)dv(u[1],f,r,o,i,s);var w=l.match(Vd);if(w)f["!autofilter"]=fv(w[0]);var k=[];var T=l.match(Ud);if(T)for(d=0;d!=T.length;++d)k[d]=Fa(T[d].slice(T[d].indexOf('"')+1));var E=l.match(Wd);if(E)tv(f,E,a);var y=l.match(Gd);if(y)f["!margins"]=av(Gr(y[0]));if(!f["!ref"]&&o.e.c>=o.s.c&&o.e.r>=o.s.r)f["!ref"]=Na(o);if(r.sheetRows>0&&f["!ref"]){var S=Fa(f["!ref"]);if(r.sheetRows<=+S.e.r){S.e.r=r.sheetRows-1;if(S.e.r>o.e.r)S.e.r=o.e.r;if(S.e.r<S.s.r)S.s.r=S.e.r;if(S.e.c>o.e.c)S.e.c=o.e.c;if(S.e.c<S.s.c)S.s.c=S.e.c;f["!fullref"]=f["!ref"];f["!ref"]=Na(S)}}if(b.length>0)f["!cols"]=b;if(k.length>0)f["!merges"]=k;return f}function Kd(e){if(e.length===0)return"";var r='<mergeCells count="'+e.length+'">';for(var t=0;t!=e.length;++t)r+='<mergeCell ref="'+Na(e[t])+'"/>';return r+"</mergeCells>"}function Jd(e,r,t,a){var n=Gr(e);if(!t.Sheets[a])t.Sheets[a]={};if(n.codeName)t.Sheets[a].CodeName=Yr(ct(n.codeName))}function qd(e,r,t,a,n){Jd(e.slice(0,e.indexOf(">")),t,a,n)}function Zd(e,r,t,a,n){var i=false;var s={},f=null;if(a.bookType!=="xlsx"&&r.vbaraw){var o=r.SheetNames[t];try{if(r.Workbook)o=r.Workbook.Sheets[t].CodeName||o}catch(c){}i=true;s.codeName=lt(qr(o))}if(e&&e["!outline"]){var l={summaryBelow:1,summaryRight:1};if(e["!outline"].above)l.summaryBelow=0;if(e["!outline"].left)l.summaryRight=0;f=(f||"")+kt("outlinePr",null,l)}if(!i&&!f)return;n[n.length]=kt("sheetPr",f,s)}var Qd=["objects","scenarios","selectLockedCells","selectUnlockedCells"];var ev=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function rv(e){var r={sheet:1};Qd.forEach(function(t){if(e[t]!=null&&e[t])r[t]="1"});ev.forEach(function(t){if(e[t]!=null&&!e[t])r[t]="0"});if(e.password)r.password=cc(e.password).toString(16).toUpperCase();return kt("sheetProtection",null,r)}function tv(e,r,t){var a=Array.isArray(e);for(var n=0;n!=r.length;++n){var i=Gr(ct(r[n]),true);if(!i.ref)return;var s=((t||{})["!id"]||[])[i.id];if(s){i.Target=s.Target;if(i.location)i.Target+="#"+Yr(i.location)}else{i.Target="#"+Yr(i.location);s={Target:i.Target,TargetMode:"Internal"}}i.Rel=s;if(i.tooltip){i.Tooltip=i.tooltip;delete i.tooltip}var f=Fa(i.ref);for(var o=f.s.r;o<=f.e.r;++o)for(var c=f.s.c;c<=f.e.c;++c){var l=Oa({c:c,r:o});if(a){if(!e[o])e[o]=[];if(!e[o][c])e[o][c]={t:"z",v:undefined};e[o][c].l=i}else{if(!e[l])e[l]={t:"z",v:undefined};e[l].l=i}}}}function av(e){var r={};["left","right","top","bottom","header","footer"].forEach(function(t){if(e[t])r[t]=parseFloat(e[t])});return r}function nv(e){Fd(e);return kt("pageMargins",null,e)}function iv(e,r){var t=false;for(var a=0;a!=r.length;++a){var n=Gr(r[a],true);if(n.hidden)n.hidden=nt(n.hidden);var i=parseInt(n.min,10)-1,s=parseInt(n.max,10)-1;if(n.outlineLevel)n.level=+n.outlineLevel||0;delete n.min;delete n.max;n.width=+n.width;if(!t&&n.width){t=true;Oc(n.width)}Ic(n);while(i<=s)e[i++]=gr(n)}}function sv(e,r){var t=["<cols>"],a;for(var n=0;n!=r.length;++n){if(!(a=r[n]))continue;t[t.length]=kt("col",null,Nd(n,a))}t[t.length]="</cols>";return t.join("")}function fv(e){var r={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return r}function ov(e,r,t,a){var n=typeof e.ref=="string"?e.ref:Na(e.ref);if(!t.Workbook)t.Workbook={Sheets:[]};if(!t.Workbook.Names)t.Workbook.Names=[];var i=t.Workbook.Names;var s=Ia(n);if(s.s.r==s.e.r){s.e.r=Ia(r["!ref"]).e.r;n=Na(s)}for(var f=0;f<i.length;++f){var o=i[f];if(o.Name!="_xlnm._FilterDatabase")continue;if(o.Sheet!=a)continue;o.Ref="'"+t.SheetNames[a]+"'!"+n;break}if(f==i.length)i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+t.SheetNames[a]+"'!"+n});return kt("autoFilter",null,{ref:n})}var cv=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function lv(e,r){if(!r.Views)r.Views=[{}];(e.match(cv)||[]).forEach(function(e,t){var a=Gr(e);if(!r.Views[t])r.Views[t]={};if(+a.zoomScale)r.Views[t].zoom=+a.zoomScale;if(nt(a.rightToLeft))r.Views[t].RTL=true})}function uv(e,r,t,a){var n={workbookViewId:"0"};if((((a||{}).Workbook||{}).Views||[])[0])n.rightToLeft=a.Workbook.Views[0].RTL?"1":"0";return kt("sheetViews",kt("sheetView",null,n),{})}function hv(e,r,t,a){if(e.c)t["!comments"].push([r,e.c]);if(e.v===undefined&&typeof e.f!=="string"||e.t==="z"&&!e.f)return"";var n="";var i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=Gn[e.v];break;case"d":if(a&&a.cellDates)n=mr(e.v,-1).toISOString();else{e=gr(e);e.t="n";n=""+(e.v=fr(mr(e.v)))}if(typeof e.z==="undefined")e.z=X[14];break;default:n=e.v;break;}var f=gt("v",qr(n)),o={r:r};var c=Dd(a.cellXfs,e,a);if(c!==0)o.s=c;switch(e.t){case"n":break;case"d":o.t="d";break;case"b":o.t="b";break;case"e":o.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){f=gt("v",""+Id(a.Strings,e.v,a.revStrings));o.t="s";break}o.t="str";break;}if(e.t!=i){e.t=i;e.v=s}if(typeof e.f=="string"&&e.f){var l=e.F&&e.F.slice(0,r.length)==r?{t:"array",ref:e.F}:null;f=kt("f",qr(e.f),l)+(e.v!=null?f:"")}if(e.l)t["!links"].push([r,e.l]);if(e.D)o.cm=1;return kt("c",f,o)}var dv=function(){var e=/<(?:\w+:)?c[ \/>]/,r=/<\/(?:\w+:)?row>/;var t=/r=["']([^"']*)["']/,a=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/;var n=/ref=["']([^"']*)["']/;var i=ut("v"),s=ut("f");return function f(o,c,l,u,h,d){var v=0,p="",m=[],b=[],g=0,w=0,k=0,T="",E;var y,S=0,_=0;var A,x;var C=0,R=0;var O=Array.isArray(d.CellXf),I;var N=[];var F=[];var D=Array.isArray(c);var P=[],L={},M=false;var U=!!l.sheetStubs;for(var B=o.split(r),W=0,H=B.length;W!=H;++W){p=B[W].trim();var z=p.length;if(z===0)continue;var V=0;e:for(v=0;v<z;++v)switch(p[v]){case">":if(p[v-1]!="/"){++v;break e}if(l&&l.cellStyles){y=Gr(p.slice(V,v),true);S=y.r!=null?parseInt(y.r,10):S+1;_=-1;if(l.sheetRows&&l.sheetRows<S)continue;L={};M=false;if(y.ht){M=true;L.hpt=parseFloat(y.ht);L.hpx=Pc(L.hpt)}if(y.hidden=="1"){M=true;L.hidden=true}if(y.outlineLevel!=null){M=true;L.level=+y.outlineLevel}if(M)P[S-1]=L}break;case"<":V=v;break;}if(V>=v)break;y=Gr(p.slice(V,v),true);S=y.r!=null?parseInt(y.r,10):S+1;_=-1;if(l.sheetRows&&l.sheetRows<S)continue;if(u.s.r>S-1)u.s.r=S-1;if(u.e.r<S-1)u.e.r=S-1;if(l&&l.cellStyles){L={};M=false;if(y.ht){M=true;L.hpt=parseFloat(y.ht);L.hpx=Pc(L.hpt)}if(y.hidden=="1"){M=true;L.hidden=true}if(y.outlineLevel!=null){M=true;L.level=+y.outlineLevel}if(M)P[S-1]=L}m=p.slice(v).split(e);for(var G=0;G!=m.length;++G)if(m[G].trim().charAt(0)!="<")break;m=m.slice(G);for(v=0;v!=m.length;++v){p=m[v].trim();if(p.length===0)continue;b=p.match(t);g=v;w=0;k=0;p="<c "+(p.slice(0,1)=="<"?">":"")+p;if(b!=null&&b.length===2){g=0;T=b[1];for(w=0;w!=T.length;++w){if((k=T.charCodeAt(w)-64)<1||k>26)break;g=26*g+k}--g;_=g}else++_;for(w=0;w!=p.length;++w)if(p.charCodeAt(w)===62)break;++w;y=Gr(p.slice(0,w),true);if(!y.r)y.r=Oa({r:S-1,c:_});T=p.slice(w);E={t:""};if((b=T.match(i))!=null&&b[1]!=="")E.v=Yr(b[1]);if(l.cellFormula){if((b=T.match(s))!=null&&b[1]!==""){E.f=Yr(ct(b[1])).replace(/\r\n/g,"\n");if(!l.xlfn)E.f=Nu(E.f);if(b[0].indexOf('t="array"')>-1){E.F=(T.match(n)||[])[1];if(E.F.indexOf(":")>-1)N.push([Fa(E.F),E.F])}else if(b[0].indexOf('t="shared"')>-1){x=Gr(b[0]);var j=Yr(ct(b[1]));if(!l.xlfn)j=Nu(j);F[parseInt(x.si,10)]=[x,j,y.r]}}else if(b=T.match(/<f[^>]*\/>/)){x=Gr(b[0]);if(F[x.si])E.f=Ou(F[x.si][1],F[x.si][2],y.r)}var $=Ra(y.r);for(w=0;w<N.length;++w)if($.r>=N[w][0].s.r&&$.r<=N[w][0].e.r)if($.c>=N[w][0].s.c&&$.c<=N[w][0].e.c)E.F=N[w][1]}if(y.t==null&&E.v===undefined){if(E.f||E.F){E.v=0;E.t="n"}else if(!U)continue;else E.t="z"}else E.t=y.t||"n";if(u.s.c>_)u.s.c=_;if(u.e.c<_)u.e.c=_;switch(E.t){case"n":if(E.v==""||E.v==null){if(!U)continue;E.t="z"}else E.v=parseFloat(E.v);break;case"s":if(typeof E.v=="undefined"){if(!U)continue;E.t="z"}else{A=Cd[parseInt(E.v,10)];E.v=A.t;E.r=A.r;if(l.cellHTML)E.h=A.h}break;case"str":E.t="s";E.v=E.v!=null?ct(E.v):"";if(l.cellHTML)E.h=et(E.v);break;case"inlineStr":b=T.match(a);E.t="s";if(b!=null&&(A=Po(b[1]))){E.v=A.t;if(l.cellHTML)E.h=A.h}else E.v="";break;case"b":E.v=nt(E.v);break;case"d":if(l.cellDates)E.v=mr(E.v,1);else{E.v=fr(mr(E.v,1));E.t="n"}break;case"e":if(!l||l.cellText!==false)E.w=E.v;E.v=jn[E.v];break;}C=R=0;I=null;if(O&&y.s!==undefined){I=d.CellXf[y.s];if(I!=null){if(I.numFmtId!=null)C=I.numFmtId;if(l.cellStyles){if(I.fillId!=null)R=I.fillId}}}Pd(E,C,R,l,h,d);if(l.cellDates&&O&&E.t=="n"&&De(X[C])){E.t="d";E.v=ur(E.v)}if(y.cm&&l.xlmeta){var Y=(l.xlmeta.Cell||[])[+y.cm-1];if(Y&&Y.type=="XLDAPR")E.D=true}if(D){var K=Ra(y.r);if(!c[K.r])c[K.r]=[];c[K.r][K.c]=E}else c[y.r]=E}}if(P.length>0)c["!rows"]=P}}();function vv(e,r,t,a){var n=[],i=[],s=Fa(e["!ref"]),f="",o,c="",l=[],u=0,h=0,d=e["!rows"];var v=Array.isArray(e);var p={r:c},m,b=-1;for(h=s.s.c;h<=s.e.c;++h)l[h]=_a(h);for(u=s.s.r;u<=s.e.r;++u){i=[];c=Ta(u);for(h=s.s.c;h<=s.e.c;++h){o=l[h]+c;var g=v?(e[u]||[])[h]:e[o];if(g===undefined)continue;if((f=hv(g,o,e,r,t,a))!=null)i.push(f)}if(i.length>0||d&&d[u]){p={r:c};if(d&&d[u]){m=d[u];if(m.hidden)p.hidden=1;b=-1;if(m.hpx)b=Dc(m.hpx);else if(m.hpt)b=m.hpt;if(b>-1){p.ht=b;p.customHeight=1}if(m.level){p.outlineLevel=m.level}}n[n.length]=kt("row",i.join(""),p)}}if(d)for(;u<d.length;++u){if(d&&d[u]){p={r:u+1};m=d[u];if(m.hidden)p.hidden=1;b=-1;if(m.hpx)b=Dc(m.hpx);else if(m.hpt)b=m.hpt;if(b>-1){p.ht=b;p.customHeight=1}if(m.level){p.outlineLevel=m.level}n[n.length]=kt("row","",p)}}return n.join("")}function pv(e,r,t,a){var n=[Mr,kt("worksheet",null,{xmlns:At[0],"xmlns:r":_t.r})];var i=t.SheetNames[e],s=0,f="";var o=t.Sheets[i];if(o==null)o={};var c=o["!ref"]||"A1";var l=Fa(c);if(l.e.c>16383||l.e.r>1048575){if(r.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383);l.e.r=Math.min(l.e.c,1048575);c=Na(l)}if(!a)a={};o["!comments"]=[];var u=[];Zd(o,t,e,r,n);n[n.length]=kt("dimension",null,{ref:c});n[n.length]=uv(o,r,e,t);if(r.sheetFormat)n[n.length]=kt("sheetFormatPr",null,{defaultRowHeight:r.sheetFormat.defaultRowHeight||"16",baseColWidth:r.sheetFormat.baseColWidth||"10",outlineLevelRow:r.sheetFormat.outlineLevelRow||"7"});if(o["!cols"]!=null&&o["!cols"].length>0)n[n.length]=sv(o,o["!cols"]);n[s=n.length]="<sheetData/>";o["!links"]=[];if(o["!ref"]!=null){f=vv(o,r,e,t,a);if(f.length>0)n[n.length]=f}if(n.length>s+1){n[n.length]="</sheetData>";n[s]=n[s].replace("/>",">")}if(o["!protect"])n[n.length]=rv(o["!protect"]);if(o["!autofilter"]!=null)n[n.length]=ov(o["!autofilter"],o,t,e);if(o["!merges"]!=null&&o["!merges"].length>0)n[n.length]=Kd(o["!merges"]);var h=-1,d,v=-1;if(o["!links"].length>0){n[n.length]="<hyperlinks>";o["!links"].forEach(function(e){if(!e[1].Target)return;d={ref:e[0]};if(e[1].Target.charAt(0)!="#"){v=ri(a,-1,qr(e[1].Target).replace(/#.*$/,""),qn.HLINK);d["r:id"]="rId"+v}if((h=e[1].Target.indexOf("#"))>-1)d.location=qr(e[1].Target.slice(h+1));if(e[1].Tooltip)d.tooltip=qr(e[1].Tooltip);n[n.length]=kt("hyperlink",null,d)});n[n.length]="</hyperlinks>"}delete o["!links"];if(o["!margins"]!=null)n[n.length]=nv(o["!margins"]);if(!r||r.ignoreEC||r.ignoreEC==void 0)n[n.length]=gt("ignoredErrors",kt("ignoredError",null,{numberStoredAsText:1,sqref:c}));if(u.length>0){v=ri(a,-1,"../drawings/drawing"+(e+1)+".xml",qn.DRAW);n[n.length]=kt("drawing",null,{"r:id":"rId"+v});o["!drawing"]=u}if(o["!comments"].length>0){v=ri(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",qn.VML);n[n.length]=kt("legacyDrawing",null,{"r:id":"rId"+v});o["!legacy"]=v}if(n.length>1){n[n.length]="</worksheet>";n[1]=n[1].replace("/>",">")}return n.join("")}function mv(e,r){var t={};var a=e.l+r;t.r=e._R(4);e.l+=4;var n=e._R(2);e.l+=1;var i=e._R(1);e.l=a;if(i&7)t.level=i&7;if(i&16)t.hidden=true;if(i&32)t.hpt=n/20;return t}function bv(e,r,t){var a=ha(17+8*16);var n=(t["!rows"]||[])[e]||{};a._W(4,e);a._W(4,0);var i=320;if(n.hpx)i=Dc(n.hpx)*20;else if(n.hpt)i=n.hpt*20;a._W(2,i);a._W(1,0);var s=0;if(n.level)s|=n.level;if(n.hidden)s|=16;if(n.hpx||n.hpt)s|=32;a._W(1,s);a._W(1,0);var f=0,o=a.l;a.l+=4;var c={r:e,c:0};for(var l=0;l<16;++l){if(r.s.c>l+1<<10||r.e.c<l<<10)continue;var u=-1,h=-1;for(var d=l<<10;d<l+1<<10;++d){c.c=d;var v=Array.isArray(t)?(t[c.r]||[])[c.c]:t[Oa(c)];if(v){if(u<0)u=d;h=d}}if(u<0)continue;++f;a._W(4,u);a._W(4,h)}var p=a.l;a.l=o;a._W(4,f);a.l=p;return a.length>a.l?a.slice(0,a.l):a}function gv(e,r,t,a){var n=bv(a,t,r);if(n.length>17||(r["!rows"]||[])[a])pa(e,0,n)}var wv=un;var kv=hn;function Tv(){}function Ev(e,r){var t={};var a=e[e.l];++e.l;t.above=!(a&64);t.left=!(a&128);e.l+=18;t.name=Qa(e,r-19);return t}function yv(e,r,t){if(t==null)t=ha(84+4*e.length);var a=192;if(r){if(r.above)a&=~64;if(r.left)a&=~128}t._W(1,a);for(var n=1;n<3;++n)t._W(1,0);mn({auto:1},t);t._W(-4,-1);t._W(-4,-1);en(e,t);return t.slice(0,t.l)}function Sv(e){var r=Ka(e);return[r]}function _v(e,r,t){if(t==null)t=ha(8);return Ja(r,t)}function Av(e){var r=qa(e);return[r]}function xv(e,r,t){if(t==null)t=ha(4);return Za(r,t)}function Cv(e){var r=Ka(e);var t=e._R(1);return[r,t,"b"]}function Rv(e,r,t){if(t==null)t=ha(9);Ja(r,t);t._W(1,e.v?1:0);return t}function Ov(e){var r=qa(e);var t=e._R(1);return[r,t,"b"]}function Iv(e,r,t){if(t==null)t=ha(5);Za(r,t);t._W(1,e.v?1:0);return t}function Nv(e){var r=Ka(e);var t=e._R(1);return[r,t,"e"]}function Fv(e,r,t){if(t==null)t=ha(9);Ja(r,t);t._W(1,e.v);return t}function Dv(e){var r=qa(e);var t=e._R(1);return[r,t,"e"]}function Pv(e,r,t){if(t==null)t=ha(8);Za(r,t);t._W(1,e.v);t._W(2,0);t._W(1,0);return t}function Lv(e){var r=Ka(e);var t=e._R(4);return[r,t,"s"]}function Mv(e,r,t){if(t==null)t=ha(12);Ja(r,t);t._W(4,r.v);return t}function Uv(e){var r=qa(e);var t=e._R(4);return[r,t,"s"]}function Bv(e,r,t){if(t==null)t=ha(8);Za(r,t);t._W(4,r.v);return t}function Wv(e){var r=Ka(e);var t=dn(e);return[r,t,"n"]}function Hv(e,r,t){if(t==null)t=ha(16);Ja(r,t);vn(e.v,t);return t}function zv(e){var r=qa(e);var t=dn(e);return[r,t,"n"]}function Vv(e,r,t){if(t==null)t=ha(12);Za(r,t);vn(e.v,t);return t}function Gv(e){var r=Ka(e);var t=fn(e);return[r,t,"n"]}function jv(e,r,t){if(t==null)t=ha(12);Ja(r,t);on(e.v,t);return t}function Xv(e){var r=qa(e);var t=fn(e);return[r,t,"n"]}function $v(e,r,t){if(t==null)t=ha(8);Za(r,t);on(e.v,t);return t}function Yv(e){var r=Ka(e);var t=ja(e);return[r,t,"is"]}function Kv(e){var r=Ka(e);var t=Ha(e);return[r,t,"str"]}function Jv(e,r,t){if(t==null)t=ha(12+4*e.v.length);Ja(r,t);za(e.v,t);return t.length>t.l?t.slice(0,t.l):t}function qv(e){var r=qa(e);var t=Ha(e);return[r,t,"str"]}function Zv(e,r,t){if(t==null)t=ha(8+4*e.v.length);Za(r,t);za(e.v,t);return t.length>t.l?t.slice(0,t.l):t}function Qv(e,r,t){var a=e.l+r;var n=Ka(e);n.r=t["!row"];var i=e._R(1);var s=[n,i,"b"];if(t.cellFormula){e.l+=2;var f=gd(e,a-e.l,t);s[3]=fd(f,null,n,t.supbooks,t)}else e.l=a;return s}function ep(e,r,t){var a=e.l+r;var n=Ka(e);n.r=t["!row"];var i=e._R(1);var s=[n,i,"e"];if(t.cellFormula){e.l+=2;var f=gd(e,a-e.l,t);s[3]=fd(f,null,n,t.supbooks,t)}else e.l=a;return s}function rp(e,r,t){var a=e.l+r;var n=Ka(e);n.r=t["!row"];var i=dn(e);var s=[n,i,"n"];if(t.cellFormula){e.l+=2;var f=gd(e,a-e.l,t);s[3]=fd(f,null,n,t.supbooks,t)}else e.l=a;return s}function tp(e,r,t){
var a=e.l+r;var n=Ka(e);n.r=t["!row"];var i=Ha(e);var s=[n,i,"str"];if(t.cellFormula){e.l+=2;var f=gd(e,a-e.l,t);s[3]=fd(f,null,n,t.supbooks,t)}else e.l=a;return s}var ap=un;var np=hn;function ip(e,r){if(r==null)r=ha(4);r._W(4,e);return r}function sp(e,r){var t=e.l+r;var a=un(e,16);var n=rn(e);var i=Ha(e);var s=Ha(e);var f=Ha(e);e.l=t;var o={rfx:a,relId:n,loc:i,display:f};if(s)o.Tooltip=s;return o}function fp(e,r){var t=ha(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));hn({s:Ra(e[0]),e:Ra(e[0])},t);sn("rId"+r,t);var a=e[1].Target.indexOf("#");var n=a==-1?"":e[1].Target.slice(a+1);za(n||"",t);za(e[1].Tooltip||"",t);za("",t);return t.slice(0,t.l)}function op(){}function cp(e,r,t){var a=e.l+r;var n=cn(e,16);var i=e._R(1);var s=[n];s[2]=i;if(t.cellFormula){var f=bd(e,a-e.l,t);s[1]=f}else e.l=a;return s}function lp(e,r,t){var a=e.l+r;var n=un(e,16);var i=[n];if(t.cellFormula){var s=kd(e,a-e.l,t);i[1]=s;e.l=a}else e.l=a;return i}function up(e,r,t){if(t==null)t=ha(18);var a=Nd(e,r);t._W(-4,e);t._W(-4,e);t._W(4,(a.width||10)*256);t._W(4,0);var n=0;if(r.hidden)n|=1;if(typeof a.width=="number")n|=2;if(r.level)n|=r.level<<8;t._W(2,n);return t}var hp=["left","right","top","bottom","header","footer"];function dp(e){var r={};hp.forEach(function(t){r[t]=dn(e,8)});return r}function vp(e,r){if(r==null)r=ha(6*8);Fd(e);hp.forEach(function(t){vn(e[t],r)});return r}function pp(e){var r=e._R(2);e.l+=28;return{RTL:r&32}}function mp(e,r,t){if(t==null)t=ha(30);var a=924;if((((r||{}).Views||[])[0]||{}).RTL)a|=32;t._W(2,a);t._W(4,0);t._W(4,0);t._W(4,0);t._W(1,0);t._W(1,0);t._W(2,0);t._W(2,100);t._W(2,0);t._W(2,0);t._W(2,0);t._W(4,0);return t}function bp(e){var r=ha(24);r._W(4,4);r._W(4,1);hn(e,r);return r}function gp(e,r){if(r==null)r=ha(16*4+2);r._W(2,e.password?cc(e.password):0);r._W(4,1);[["objects",false],["scenarios",false],["formatCells",true],["formatColumns",true],["formatRows",true],["insertColumns",true],["insertRows",true],["insertHyperlinks",true],["deleteColumns",true],["deleteRows",true],["selectLockedCells",false],["sort",true],["autoFilter",true],["pivotTables",true],["selectUnlockedCells",false]].forEach(function(t){if(t[1])r._W(4,e[t[0]]!=null&&!e[t[0]]?1:0);else r._W(4,e[t[0]]!=null&&e[t[0]]?0:1)});return r}function wp(){}function kp(){}function Tp(e,r,t,a,n,i,s){if(!e)return e;var f=r||{};if(!a)a={"!id":{}};if(m!=null&&f.dense==null)f.dense=m;var o=f.dense?[]:{};var c;var l={s:{r:2e6,c:2e6},e:{r:0,c:0}};var u=[];var h=false,d=false;var v,p,b,g,w,k,T,E,y;var S=[];f.biff=12;f["!row"]=0;var _=0,A=false;var x=[];var C={};var R=f.supbooks||n.supbooks||[[]];R.sharedf=C;R.arrayf=x;R.SheetNames=n.SheetNames||n.Sheets.map(function(e){return e.name});if(!f.supbooks){f.supbooks=R;if(n.Names)for(var O=0;O<n.Names.length;++O)R[0][O+1]=n.Names[O]}var I=[],N=[];var F=false;mb[16]={n:"BrtShortReal",f:zv};var D,P;da(e,function M(e,r,m){if(d)return;switch(m){case 148:c=e;break;case 0:v=e;if(f.sheetRows&&f.sheetRows<=v.r)d=true;E=Ta(g=v.r);f["!row"]=v.r;if(e.hidden||e.hpt||e.level!=null){if(e.hpt)e.hpx=Pc(e.hpt);N[e.r]=e}break;case 2:;case 3:;case 4:;case 5:;case 6:;case 7:;case 8:;case 9:;case 10:;case 11:;case 13:;case 14:;case 15:;case 16:;case 17:;case 18:;case 62:p={t:e[2]};switch(e[2]){case"n":p.v=e[1];break;case"s":T=Cd[e[1]];p.v=T.t;p.r=T.r;break;case"b":p.v=e[1]?true:false;break;case"e":p.v=e[1];if(f.cellText!==false)p.w=Gn[p.v];break;case"str":p.t="s";p.v=e[1];break;case"is":p.t="s";p.v=e[1].t;break;}if(b=s.CellXf[e[0].iStyleRef])Pd(p,b.numFmtId,null,f,i,s);w=e[0].c==-1?w+1:e[0].c;if(f.dense){if(!o[g])o[g]=[];o[g][w]=p}else o[_a(w)+E]=p;if(f.cellFormula){A=false;for(_=0;_<x.length;++_){var O=x[_];if(v.r>=O[0].s.r&&v.r<=O[0].e.r)if(w>=O[0].s.c&&w<=O[0].e.c){p.F=Na(O[0]);A=true}}if(!A&&e.length>3)p.f=e[3]}if(l.s.r>v.r)l.s.r=v.r;if(l.s.c>w)l.s.c=w;if(l.e.r<v.r)l.e.r=v.r;if(l.e.c<w)l.e.c=w;if(f.cellDates&&b&&p.t=="n"&&De(X[b.numFmtId])){var L=q(p.v);if(L){p.t="d";p.v=new Date(L.y,L.m-1,L.d,L.H,L.M,L.S,L.u)}}if(D){if(D.type=="XLDAPR")p.D=true;D=void 0}if(P)P=void 0;break;case 1:;case 12:if(!f.sheetStubs||h)break;p={t:"z",v:void 0};w=e[0].c==-1?w+1:e[0].c;if(f.dense){if(!o[g])o[g]=[];o[g][w]=p}else o[_a(w)+E]=p;if(l.s.r>v.r)l.s.r=v.r;if(l.s.c>w)l.s.c=w;if(l.e.r<v.r)l.e.r=v.r;if(l.e.c<w)l.e.c=w;if(D){if(D.type=="XLDAPR")p.D=true;D=void 0}if(P)P=void 0;break;case 176:S.push(e);break;case 49:{D=((f.xlmeta||{}).Cell||[])[e-1]}break;case 494:var M=a["!id"][e.relId];if(M){e.Target=M.Target;if(e.loc)e.Target+="#"+e.loc;e.Rel=M}else if(e.relId==""){e.Target="#"+e.loc}for(g=e.rfx.s.r;g<=e.rfx.e.r;++g)for(w=e.rfx.s.c;w<=e.rfx.e.c;++w){if(f.dense){if(!o[g])o[g]=[];if(!o[g][w])o[g][w]={t:"z",v:undefined};o[g][w].l=e}else{k=Oa({c:w,r:g});if(!o[k])o[k]={t:"z",v:undefined};o[k].l=e}}break;case 426:if(!f.cellFormula)break;x.push(e);y=f.dense?o[g][w]:o[_a(w)+E];y.f=fd(e[1],l,{r:v.r,c:w},R,f);y.F=Na(e[0]);break;case 427:if(!f.cellFormula)break;C[Oa(e[0].s)]=e[1];y=f.dense?o[g][w]:o[_a(w)+E];y.f=fd(e[1],l,{r:v.r,c:w},R,f);break;case 60:if(!f.cellStyles)break;while(e.e>=e.s){I[e.e--]={width:e.w/256,hidden:!!(e.flags&1),level:e.level};if(!F){F=true;Oc(e.w/256)}Ic(I[e.e+1])}break;case 161:o["!autofilter"]={ref:Na(e)};break;case 476:o["!margins"]=e;break;case 147:if(!n.Sheets[t])n.Sheets[t]={};if(e.name)n.Sheets[t].CodeName=e.name;if(e.above||e.left)o["!outline"]={above:e.above,left:e.left};break;case 137:if(!n.Views)n.Views=[{}];if(!n.Views[0])n.Views[0]={};if(e.RTL)n.Views[0].RTL=true;break;case 485:break;case 64:;case 1053:break;case 151:break;case 152:;case 175:;case 644:;case 625:;case 562:;case 396:;case 1112:;case 1146:;case 471:;case 1050:;case 649:;case 1105:;case 589:;case 607:;case 564:;case 1055:;case 168:;case 174:;case 1180:;case 499:;case 507:;case 550:;case 171:;case 167:;case 1177:;case 169:;case 1181:;case 551:;case 552:;case 661:;case 639:;case 478:;case 537:;case 477:;case 536:;case 1103:;case 680:;case 1104:;case 1024:;case 663:;case 535:;case 678:;case 504:;case 1043:;case 428:;case 170:;case 3072:;case 50:;case 2070:;case 1045:break;case 35:h=true;break;case 36:h=false;break;case 37:u.push(m);h=true;break;case 38:u.pop();h=false;break;default:if(r.T){}else if(!h||f.WTF)throw new Error("Unexpected record 0x"+m.toString(16));}},f);delete f.supbooks;delete f["!row"];if(!o["!ref"]&&(l.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0)))o["!ref"]=Na(c||l);if(f.sheetRows&&o["!ref"]){var L=Fa(o["!ref"]);if(f.sheetRows<=+L.e.r){L.e.r=f.sheetRows-1;if(L.e.r>l.e.r)L.e.r=l.e.r;if(L.e.r<L.s.r)L.s.r=L.e.r;if(L.e.c>l.e.c)L.e.c=l.e.c;if(L.e.c<L.s.c)L.s.c=L.e.c;o["!fullref"]=o["!ref"];o["!ref"]=Na(L)}}if(S.length>0)o["!merges"]=S;if(I.length>0)o["!cols"]=I;if(N.length>0)o["!rows"]=N;return o}function Ep(e,r,t,a,n,i,s){if(r.v===undefined)return false;var f="";switch(r.t){case"b":f=r.v?"1":"0";break;case"d":r=gr(r);r.z=r.z||X[14];r.v=fr(mr(r.v));r.t="n";break;case"n":;case"e":f=""+r.v;break;default:f=r.v;break;}var o={r:t,c:a};o.s=Dd(n.cellXfs,r,n);if(r.l)i["!links"].push([Oa(o),r.l]);if(r.c)i["!comments"].push([Oa(o),r.c]);switch(r.t){case"s":;case"str":if(n.bookSST){f=Id(n.Strings,r.v,n.revStrings);o.t="s";o.v=f;if(s)pa(e,18,Bv(r,o));else pa(e,7,Mv(r,o))}else{o.t="str";if(s)pa(e,17,Zv(r,o));else pa(e,6,Jv(r,o))}return true;case"n":if(r.v==(r.v|0)&&r.v>-1e3&&r.v<1e3){if(s)pa(e,13,$v(r,o));else pa(e,2,jv(r,o))}else{if(s)pa(e,16,Vv(r,o));else pa(e,5,Hv(r,o))}return true;case"b":o.t="b";if(s)pa(e,15,Iv(r,o));else pa(e,4,Rv(r,o));return true;case"e":o.t="e";if(s)pa(e,14,Pv(r,o));else pa(e,3,Fv(r,o));return true;}if(s)pa(e,12,xv(r,o));else pa(e,1,_v(r,o));return true}function yp(e,r,t,a){var n=Fa(r["!ref"]||"A1"),i,s="",f=[];pa(e,145);var o=Array.isArray(r);var c=n.e.r;if(r["!rows"])c=Math.max(n.e.r,r["!rows"].length-1);for(var l=n.s.r;l<=c;++l){s=Ta(l);gv(e,r,n,l);var u=false;if(l<=n.e.r)for(var h=n.s.c;h<=n.e.c;++h){if(l===n.s.r)f[h]=_a(h);i=f[h]+s;var d=o?(r[l]||[])[h]:r[i];if(!d){u=false;continue}u=Ep(e,d,l,h,a,r,u)}}pa(e,146)}function Sp(e,r){if(!r||!r["!merges"])return;pa(e,177,ip(r["!merges"].length));r["!merges"].forEach(function(r){pa(e,176,np(r))});pa(e,178)}function _p(e,r){if(!r||!r["!cols"])return;pa(e,390);r["!cols"].forEach(function(r,t){if(r)pa(e,60,up(t,r))});pa(e,391)}function Ap(e,r){if(!r||!r["!ref"])return;pa(e,648);pa(e,649,bp(Fa(r["!ref"])));pa(e,650)}function xp(e,r,t){r["!links"].forEach(function(r){if(!r[1].Target)return;var a=ri(t,-1,r[1].Target.replace(/#.*$/,""),qn.HLINK);pa(e,494,fp(r,a))});delete r["!links"]}function Cp(e,r,t,a){if(r["!comments"].length>0){var n=ri(a,-1,"../drawings/vmlDrawing"+(t+1)+".vml",qn.VML);pa(e,551,sn("rId"+n));r["!legacy"]=n}}function Rp(e,r,t,a){if(!r["!autofilter"])return;var n=r["!autofilter"];var i=typeof n.ref==="string"?n.ref:Na(n.ref);if(!t.Workbook)t.Workbook={Sheets:[]};if(!t.Workbook.Names)t.Workbook.Names=[];var s=t.Workbook.Names;var f=Ia(i);if(f.s.r==f.e.r){f.e.r=Ia(r["!ref"]).e.r;i=Na(f)}for(var o=0;o<s.length;++o){var c=s[o];if(c.Name!="_xlnm._FilterDatabase")continue;if(c.Sheet!=a)continue;c.Ref="'"+t.SheetNames[a]+"'!"+i;break}if(o==s.length)s.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+t.SheetNames[a]+"'!"+i});pa(e,161,hn(Fa(i)));pa(e,162)}function Op(e,r,t){pa(e,133);{pa(e,137,mp(r,t));pa(e,138)}pa(e,134)}function Ip(){}function Np(e,r){if(!r["!protect"])return;pa(e,535,gp(r["!protect"]))}function Fp(e,r,t,a){var n=va();var i=t.SheetNames[e],s=t.Sheets[i]||{};var f=i;try{if(t&&t.Workbook)f=t.Workbook.Sheets[e].CodeName||f}catch(o){}var c=Fa(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(r.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383);c.e.r=Math.min(c.e.c,1048575)}s["!links"]=[];s["!comments"]=[];pa(n,129);if(t.vbaraw||s["!outline"])pa(n,147,yv(f,s["!outline"]));pa(n,148,kv(c));Op(n,s,t.Workbook);Ip(n,s);_p(n,s,e,r,t);yp(n,s,e,r,t);Np(n,s);Rp(n,s,t,e);Sp(n,s);xp(n,s,a);if(s["!margins"])pa(n,476,vp(s["!margins"]));if(!r||r.ignoreEC||r.ignoreEC==void 0)Ap(n,s);Cp(n,s,e,a);pa(n,130);return n.end()}function Dp(e){var r=[];var t=e.match(/^<c:numCache>/);var a;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach(function(e){var a=e.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);if(!a)return;r[+a[1]]=t?+a[2]:a[2]});var n=Yr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);(e.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach(function(e){a=e.replace(/<.*?>/g,"")});return[r,n,a]}function Pp(e,r,t,a,n,i){var s=i||{"!type":"chart"};if(!e)return i;var f=0,o=0,c="A";var l={s:{r:2e6,c:2e6},e:{r:0,c:0}};(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(e){var r=Dp(e);l.s.r=l.s.c=0;l.e.c=f;c=_a(f);r[0].forEach(function(e,t){s[c+Ta(t)]={t:"n",v:e,z:r[1]};o=t});if(l.e.r<o)l.e.r=o;++f});if(f>0)s["!ref"]=Na(l);return s}function Lp(e,r,t,a,n){if(!e)return e;if(!a)a={"!id":{}};var i={"!type":"chart","!drawel":null,"!rel":""};var s;var f=e.match(jd);if(f)Jd(f[0],i,n,t);if(s=e.match(/drawing r:id="(.*?)"/))i["!rel"]=s[1];if(a["!id"][i["!rel"]])i["!drawel"]=a["!id"][i["!rel"]];return i}function Mp(e,r,t,a){var n=[Mr,kt("chartsheet",null,{xmlns:At[0],"xmlns:r":_t.r})];n[n.length]=kt("drawing",null,{"r:id":"rId1"});ri(a,-1,"../drawings/drawing"+(e+1)+".xml",qn.DRAW);if(n.length>2){n[n.length]="</chartsheet>";n[1]=n[1].replace("/>",">")}return n.join("")}function Up(e,r){e.l+=10;var t=Ha(e,r-10);return{name:t}}function Bp(e,r,t,a,n){if(!e)return e;if(!a)a={"!id":{}};var i={"!type":"chart","!drawel":null,"!rel":""};var s=[];var f=false;da(e,function o(e,a,c){switch(c){case 550:i["!rel"]=e;break;case 651:if(!n.Sheets[t])n.Sheets[t]={};if(e.name)n.Sheets[t].CodeName=e.name;break;case 562:;case 652:;case 669:;case 679:;case 551:;case 552:;case 476:;case 3072:break;case 35:f=true;break;case 36:f=false;break;case 37:s.push(c);break;case 38:s.pop();break;default:if(a.T>0)s.push(c);else if(a.T<0)s.pop();else if(!f||r.WTF)throw new Error("Unexpected record 0x"+c.toString(16));}},r);if(a["!id"][i["!rel"]])i["!drawel"]=a["!id"][i["!rel"]];return i}function Wp(){var e=va();pa(e,129);pa(e,130);return e.end()}var Hp=[["allowRefreshQuery",false,"bool"],["autoCompressPictures",true,"bool"],["backupFile",false,"bool"],["checkCompatibility",false,"bool"],["CodeName",""],["date1904",false,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",false,"bool"],["hidePivotFieldList",false,"bool"],["promptedSolutions",false,"bool"],["publishItems",false,"bool"],["refreshAllConnections",false,"bool"],["saveExternalLinkValues",true,"bool"],["showBorderUnselectedTables",true,"bool"],["showInkAnnotation",true,"bool"],["showObjects","all"],["showPivotChartFilter",false,"bool"],["updateLinks","userSet"]];var zp=[["activeTab",0,"int"],["autoFilterDateGrouping",true,"bool"],["firstSheet",0,"int"],["minimized",false,"bool"],["showHorizontalScroll",true,"bool"],["showSheetTabs",true,"bool"],["showVerticalScroll",true,"bool"],["tabRatio",600,"int"],["visibility","visible"]];var Vp=[];var Gp=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function jp(e,r){for(var t=0;t!=e.length;++t){var a=e[t];for(var n=0;n!=r.length;++n){var i=r[n];if(a[i[0]]==null)a[i[0]]=i[1];else switch(i[2]){case"bool":if(typeof a[i[0]]=="string")a[i[0]]=nt(a[i[0]]);break;case"int":if(typeof a[i[0]]=="string")a[i[0]]=parseInt(a[i[0]],10);break;}}}}function Xp(e,r){for(var t=0;t!=r.length;++t){var a=r[t];if(e[a[0]]==null)e[a[0]]=a[1];else switch(a[2]){case"bool":if(typeof e[a[0]]=="string")e[a[0]]=nt(e[a[0]]);break;case"int":if(typeof e[a[0]]=="string")e[a[0]]=parseInt(e[a[0]],10);break;}}}function $p(e){Xp(e.WBProps,Hp);Xp(e.CalcPr,Gp);jp(e.WBView,zp);jp(e.Sheets,Vp);Rd.date1904=nt(e.WBProps.date1904)}function Yp(e){if(!e.Workbook)return"false";if(!e.Workbook.WBProps)return"false";return nt(e.Workbook.WBProps.date1904)?"true":"false"}var Kp="][*?/\\".split("");function Jp(e,r){if(e.length>31){if(r)return false;throw new Error("Sheet names cannot exceed 31 chars")}var t=true;Kp.forEach(function(a){if(e.indexOf(a)==-1)return;if(!r)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");t=false});return t}function qp(e,r,t){e.forEach(function(a,n){Jp(a);for(var i=0;i<n;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(t){var s=r&&r[n]&&r[n].CodeName||a;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function Zp(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var r=e.Workbook&&e.Workbook.Sheets||[];qp(e.SheetNames,r,!!e.vbaraw);for(var t=0;t<e.SheetNames.length;++t)Ld(e.Sheets[e.SheetNames[t]],e.SheetNames[t],t)}var Qp=/<\w+:workbook/;function em(e,r){if(!e)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""};var a=false,n="xmlns";var i={},s=0;e.replace(Hr,function f(o,c){var l=Gr(o);switch(jr(l[0])){case"<?xml":break;case"<workbook":if(o.match(Qp))n="xmlns"+o.match(/<(\w+):/)[1];t.xmlns=l[n];break;case"</workbook>":break;case"<fileVersion":delete l[0];t.AppVersion=l;break;case"<fileVersion/>":;case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":;case"<workbookPr/>":Hp.forEach(function(e){if(l[e[0]]==null)return;switch(e[2]){case"bool":t.WBProps[e[0]]=nt(l[e[0]]);break;case"int":t.WBProps[e[0]]=parseInt(l[e[0]],10);break;default:t.WBProps[e[0]]=l[e[0]];}});if(l.codeName)t.WBProps.CodeName=ct(l.codeName);break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":;case"<bookViews>":;case"</bookViews>":break;case"<workbookView":;case"<workbookView/>":delete l[0];t.WBView.push(l);break;case"</workbookView>":break;case"<sheets":;case"<sheets>":;case"</sheets>":break;case"<sheet":switch(l.state){case"hidden":l.Hidden=1;break;case"veryHidden":l.Hidden=2;break;default:l.Hidden=0;}delete l.state;l.name=Yr(ct(l.name));delete l[0];t.Sheets.push(l);break;case"</sheet>":break;case"<functionGroups":;case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":;case"</externalReferences>":;case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":;case"<definedNames":a=true;break;case"</definedNames>":a=false;break;case"<definedName":{i={};i.Name=ct(l.name);if(l.comment)i.Comment=l.comment;if(l.localSheetId)i.Sheet=+l.localSheetId;if(nt(l.hidden||"0"))i.Hidden=true;s=c+o.length}break;case"</definedName>":{i.Ref=Yr(ct(e.slice(s,c)));t.Names.push(i)}break;case"<definedName/>":break;case"<calcPr":delete l[0];t.CalcPr=l;break;case"<calcPr/>":delete l[0];t.CalcPr=l;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":;case"</customWorkbookViews>":;case"<customWorkbookViews":break;case"<customWorkbookView":;case"</customWorkbookView>":break;case"<pivotCaches>":;case"</pivotCaches>":;case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":;case"<smartTagPr/>":break;case"<smartTagTypes":;case"<smartTagTypes>":;case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":;case"<webPublishing/>":break;case"<fileRecoveryPr":;case"<fileRecoveryPr/>":break;case"<webPublishObjects>":;case"<webPublishObjects":;case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":;case"<extLst>":;case"</extLst>":;case"<extLst/>":break;case"<ext":a=true;break;case"</ext>":a=false;break;case"<ArchID":break;case"<AlternateContent":;case"<AlternateContent>":a=true;break;case"</AlternateContent>":a=false;break;case"<revisionPtr":break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in workbook");}return o});if(At.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);$p(t);return t}function rm(e){var r=[Mr];r[r.length]=kt("workbook",null,{xmlns:At[0],"xmlns:r":_t.r});var t=e.Workbook&&(e.Workbook.Names||[]).length>0;var a={codeName:"ThisWorkbook"};if(e.Workbook&&e.Workbook.WBProps){Hp.forEach(function(r){if(e.Workbook.WBProps[r[0]]==null)return;if(e.Workbook.WBProps[r[0]]==r[1])return;a[r[0]]=e.Workbook.WBProps[r[0]]});if(e.Workbook.WBProps.CodeName){a.codeName=e.Workbook.WBProps.CodeName;delete a.CodeName}}r[r.length]=kt("workbookPr",null,a);var n=e.Workbook&&e.Workbook.Sheets||[];var i=0;if(n&&n[0]&&!!n[0].Hidden){r[r.length]="<bookViews>";for(i=0;i!=e.SheetNames.length;++i){if(!n[i])break;if(!n[i].Hidden)break}if(i==e.SheetNames.length)i=0;r[r.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>';r[r.length]="</bookViews>"}r[r.length]="<sheets>";for(i=0;i!=e.SheetNames.length;++i){var s={name:qr(e.SheetNames[i].slice(0,31))};s.sheetId=""+(i+1);s["r:id"]="rId"+(i+1);if(n[i])switch(n[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break;}r[r.length]=kt("sheet",null,s)}r[r.length]="</sheets>";if(t){r[r.length]="<definedNames>";if(e.Workbook&&e.Workbook.Names)e.Workbook.Names.forEach(function(e){var t={name:e.Name};if(e.Comment)t.comment=e.Comment;if(e.Sheet!=null)t.localSheetId=""+e.Sheet;if(e.Hidden)t.hidden="1";if(!e.Ref)return;r[r.length]=kt("definedName",qr(e.Ref),t)});r[r.length]="</definedNames>"}if(r.length>2){r[r.length]="</workbook>";r[1]=r[1].replace("/>",">")}return r.join("")}function tm(e,r){var t={};t.Hidden=e._R(4);t.iTabID=e._R(4);t.strRelID=nn(e,r-8);t.name=Ha(e);return t}function am(e,r){if(!r)r=ha(127);r._W(4,e.Hidden);r._W(4,e.iTabID);sn(e.strRelID,r);za(e.name.slice(0,31),r);return r.length>r.l?r.slice(0,r.l):r}function nm(e,r){var t={};var a=e._R(4);t.defaultThemeVersion=e._R(4);var n=r>8?Ha(e):"";if(n.length>0)t.CodeName=n;t.autoCompressPictures=!!(a&65536);t.backupFile=!!(a&64);t.checkCompatibility=!!(a&4096);t.date1904=!!(a&1);t.filterPrivacy=!!(a&8);t.hidePivotFieldList=!!(a&1024);t.promptedSolutions=!!(a&16);t.publishItems=!!(a&2048);t.refreshAllConnections=!!(a&262144);t.saveExternalLinkValues=!!(a&128);t.showBorderUnselectedTables=!!(a&4);t.showInkAnnotation=!!(a&32);t.showObjects=["all","placeholders","none"][a>>13&3];t.showPivotChartFilter=!!(a&32768);t.updateLinks=["userSet","never","always"][a>>8&3];return t}function im(e,r){if(!r)r=ha(72);var t=0;if(e){if(e.filterPrivacy)t|=8}r._W(4,t);r._W(4,0);en(e&&e.CodeName||"ThisWorkbook",r);return r.slice(0,r.l)}function sm(e,r){var t={};e._R(4);t.ArchID=e._R(4);e.l+=r-8;return t}function fm(e,r,t){var a=e.l+r;e.l+=4;e.l+=1;var n=e._R(4);var i=an(e);var s=wd(e,0,t);var f=rn(e);e.l=a;var o={Name:i,Ptg:s};if(n<268435455)o.Sheet=n;if(f)o.Comment=f;return o}function om(e,r){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""};var a=[];var n=false;if(!r)r={};r.biff=12;var i=[];var s=[[]];s.SheetNames=[];s.XTI=[];mb[16]={n:"BrtFRTArchID$",f:sm};da(e,function f(e,o,c){switch(c){case 156:s.SheetNames.push(e.name);t.Sheets.push(e);break;case 153:t.WBProps=e;break;case 39:if(e.Sheet!=null)r.SID=e.Sheet;e.Ref=fd(e.Ptg,null,null,s,r);delete r.SID;delete e.Ptg;i.push(e);break;case 1036:break;case 357:;case 358:;case 355:;case 667:if(!s[0].length)s[0]=[c,e];else s.push([c,e]);s[s.length-1].XTI=[];break;case 362:if(s.length===0){s[0]=[];s[0].XTI=[]}s[s.length-1].XTI=s[s.length-1].XTI.concat(e);s.XTI=s.XTI.concat(e);break;case 361:break;case 2071:;case 158:;case 143:;case 664:;case 353:break;case 3072:;case 3073:;case 534:;case 677:;case 157:;case 610:;case 2050:;case 155:;case 548:;case 676:;case 128:;case 665:;case 2128:;case 2125:;case 549:;case 2053:;case 596:;case 2076:;case 2075:;case 2082:;case 397:;case 154:;case 1117:;case 553:;case 2091:break;case 35:a.push(c);n=true;break;case 36:a.pop();n=false;break;case 37:a.push(c);n=true;break;case 38:a.pop();n=false;break;case 16:break;default:if(o.T){}else if(!n||r.WTF&&a[a.length-1]!=37&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16));}},r);$p(t);t.Names=i;t.supbooks=s;return t}function cm(e,r){pa(e,143);for(var t=0;t!=r.SheetNames.length;++t){var a=r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t]&&r.Workbook.Sheets[t].Hidden||0;var n={Hidden:a,iTabID:t+1,strRelID:"rId"+(t+1),name:r.SheetNames[t]};pa(e,156,am(n))}pa(e,144)}function lm(r,t){if(!t)t=ha(127);for(var a=0;a!=4;++a)t._W(4,0);za("SheetJS",t);za(e.version,t);za(e.version,t);za("7262",t);return t.length>t.l?t.slice(0,t.l):t}function um(e,r){if(!r)r=ha(29);r._W(-4,0);r._W(-4,460);r._W(4,28800);r._W(4,17600);r._W(4,500);r._W(4,e);r._W(4,e);var t=120;r._W(1,t);return r.length>r.l?r.slice(0,r.l):r}function hm(e,r){if(!r.Workbook||!r.Workbook.Sheets)return;var t=r.Workbook.Sheets;var a=0,n=-1,i=-1;for(;a<t.length;++a){if(!t[a]||!t[a].Hidden&&n==-1)n=a;else if(t[a].Hidden==1&&i==-1)i=a}if(i>n)return;pa(e,135);pa(e,158,um(n));pa(e,136)}function dm(e,r){var t=va();pa(t,131);pa(t,128,lm());pa(t,153,im(e.Workbook&&e.Workbook.WBProps||null));hm(t,e,r);cm(t,e,r);pa(t,132);return t.end()}function vm(e,r,t){if(r.slice(-4)===".bin")return om(e,t);return em(e,t)}function pm(e,r,t,a,n,i,s,f){if(r.slice(-4)===".bin")return Tp(e,a,t,n,i,s,f);return Yd(e,a,t,n,i,s,f)}function mm(e,r,t,a,n,i,s,f){if(r.slice(-4)===".bin")return Bp(e,a,t,n,i,s,f);return Lp(e,a,t,n,i,s,f)}function bm(e,r,t,a,n,i,s,f){if(r.slice(-4)===".bin")return Su(e,a,t,n,i,s,f);return _u(e,a,t,n,i,s,f)}function gm(e,r,t,a,n,i,s,f){if(r.slice(-4)===".bin")return Eu(e,a,t,n,i,s,f);return yu(e,a,t,n,i,s,f)}function wm(e,r,t,a){if(r.slice(-4)===".bin")return cl(e,t,a);return Xc(e,t,a)}function km(e,r,t){return Ol(e,t)}function Tm(e,r,t){if(r.slice(-4)===".bin")return Vo(e,t);return Bo(e,t)}function Em(e,r,t){if(r.slice(-4)===".bin")return mu(e,t);return su(e,t)}function ym(e,r,t){if(r.slice(-4)===".bin")return Ql(e,r,t);return ql(e,r,t)}function Sm(e,r,t,a){if(t.slice(-4)===".bin")return ru(e,r,t,a);return eu(e,r,t,a)}function _m(e,r,t){if(r.slice(-4)===".bin")return $l(e,r,t);return Kl(e,r,t)}function Am(e,r,t){return(r.slice(-4)===".bin"?dm:rm)(e,t)}function xm(e,r,t,a,n){return(r.slice(-4)===".bin"?Fp:pv)(e,t,a,n)}function Cm(e,r,t,a,n){return(r.slice(-4)===".bin"?Wp:Mp)(e,t,a,n)}function Rm(e,r,t){return(r.slice(-4)===".bin"?kl:$c)(e,t)}function Om(e,r,t){return(r.slice(-4)===".bin"?Xo:Ho)(e,t)}function Im(e,r,t){return(r.slice(-4)===".bin"?bu:fu)(e,t)}function Nm(e){return(e.slice(-4)===".bin"?Yl:Jl)()}var Fm=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g;var Dm=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Pm(e,r){var t=e.split(/\s+/);var a=[];if(!r)a[0]=t[0];if(t.length===1)return a;var n=e.match(Fm),i,s,f,o;if(n)for(o=0;o!=n.length;++o){i=n[o].match(Dm);if((s=i[1].indexOf(":"))===-1)a[i[1]]=i[2].slice(1,i[2].length-1);else{if(i[1].slice(0,6)==="xmlns:")f="xmlns"+i[1].slice(6);else f=i[1].slice(s+1);a[f]=i[2].slice(1,i[2].length-1)}}return a}function Lm(e){var r=e.split(/\s+/);var t={};if(r.length===1)return t;var a=e.match(Fm),n,i,s,f;if(a)for(f=0;f!=a.length;++f){n=a[f].match(Dm);if((i=n[1].indexOf(":"))===-1)t[n[1]]=n[2].slice(1,n[2].length-1);else{if(n[1].slice(0,6)==="xmlns:")s="xmlns"+n[1].slice(6);else s=n[1].slice(i+1);t[s]=n[2].slice(1,n[2].length-1)}}return t}var Mm;function Um(e,r){var t=Mm[e]||Yr(e);if(t==="General")return fe(r);return Be(t,r)}function Bm(e,r,t,a){var n=a;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=nt(a);break;case"i2":;case"int":n=parseInt(a,10);break;case"r4":;case"float":n=parseFloat(a);break;case"date":;case"dateTime.tz":n=mr(a);break;case"i8":;case"string":;case"fixed":;case"uuid":;case"bin.base64":break;default:throw new Error("bad custprop:"+t[0]);}e[Yr(r)]=n}function Wm(e,r,t){if(e.t==="z")return;if(!t||t.cellText!==false)try{if(e.t==="e"){e.w=e.w||Gn[e.v]}else if(r==="General"){if(e.t==="n"){if((e.v|0)===e.v)e.w=e.v.toString(10);else e.w=se(e.v)}else e.w=fe(e.v)}else e.w=Um(r||"General",e.v)}catch(a){if(t.WTF)throw a}try{var n=Mm[r]||r||"General";if(t.cellNF)e.z=n;if(t.cellDates&&e.t=="n"&&De(n)){var i=q(e.v);if(i){e.t="d";e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u)}}}catch(a){if(t.WTF)throw a}}function Hm(e,r,t){if(t.cellStyles){if(r.Interior){var a=r.Interior;if(a.Pattern)a.patternType=Lc[a.Pattern]||a.Pattern}}e[r.ID]=r}function zm(e,r,t,a,n,i,s,f,o,c){var l="General",u=a.StyleID,h={};c=c||{};var d=[];var v=0;if(u===undefined&&f)u=f.StyleID;if(u===undefined&&s)u=s.StyleID;while(i[u]!==undefined){if(i[u].nf)l=i[u].nf;if(i[u].Interior)d.push(i[u].Interior);if(!i[u].Parent)break;u=i[u].Parent}switch(t.Type){case"Boolean":a.t="b";a.v=nt(e);break;case"String":a.t="s";a.r=tt(Yr(e));a.v=e.indexOf("<")>-1?Yr(r||e).replace(/<.*?>/g,""):a.r;break;case"DateTime":if(e.slice(-1)!="Z")e+="Z";a.v=(mr(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3);if(a.v!==a.v)a.v=Yr(e);else if(a.v<60)a.v=a.v-1;if(!l||l=="General")l="yyyy-mm-dd";case"Number":if(a.v===undefined)a.v=+e;if(!a.t)a.t="n";break;case"Error":a.t="e";a.v=jn[e];if(c.cellText!==false)a.w=e;break;default:if(e==""&&r==""){a.t="z"}else{a.t="s";a.v=tt(r||e)}break;}Wm(a,l,c);if(c.cellFormula!==false){if(a.Formula){var p=Yr(a.Formula);if(p.charCodeAt(0)==61)p=p.slice(1);a.f=Au(p,n);delete a.Formula;if(a.ArrayRange=="RC")a.F=Au("RC:RC",n);else if(a.ArrayRange){a.F=Au(a.ArrayRange,n);o.push([Fa(a.F),a.F])}}else{for(v=0;v<o.length;++v)if(n.r>=o[v][0].s.r&&n.r<=o[v][0].e.r)if(n.c>=o[v][0].s.c&&n.c<=o[v][0].e.c)a.F=o[v][1]}}if(c.cellStyles){d.forEach(function(e){if(!h.patternType&&e.patternType)h.patternType=e.patternType});a.s=h}if(a.StyleID!==undefined)a.ixfe=a.StyleID}function Vm(e){e.t=e.v||"";e.t=e.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n");e.v=e.w=e.ixfe=undefined}function Gm(e,r){var t=r||{};ze();var n=d(yt(e));if(t.type=="binary"||t.type=="array"||t.type=="base64"){if(typeof a!=="undefined")n=a.utils.decode(65001,l(n));else n=ct(n)}var i=n.slice(0,1024).toLowerCase(),s=false;i=i.replace(/".*?"/g,"");if((i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var f=gr(t);f.type="string";return Ao.to_workbook(n,f)}if(i.indexOf("<?xml")==-1)["html","table","head","meta","script","style","div"].forEach(function(e){if(i.indexOf("<"+e)>=0)s=true});if(s)return Hb(n,t);Mm={"General Number":"General","General Date":X[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":X[15],"Short Date":X[14],"Long Time":X[19],"Medium Time":X[18],"Short Time":X[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:X[2],Standard:X[4],Percent:X[10],Scientific:X[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o;var c=[],u;if(m!=null&&t.dense==null)t.dense=m;var h={},v=[],p=t.dense?[]:{},b="";var g={},w={};var k=Pm('<Data ss:Type="String">'),T=0;var E=0,y=0;var S={s:{r:2e6,c:2e6},e:{r:0,c:0}};var _={},A={};var x="",C=0;var R=[];var O={},I={},N=0,F=[];var D=[],P={};var L=[],M,U=false;var B=[];var W=[],H={},z=0,V=0;var G={Sheets:[],WBProps:{date1904:false}},j={};St.lastIndex=0;n=n.replace(/<!--([\s\S]*?)-->/gm,"");var $="";while(o=St.exec(n))switch(o[3]=($=o[3]).toLowerCase()){case"data":if($=="data"){if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/")c.push([o[3],true]);break}if(c[c.length-1][1])break;if(o[1]==="/")zm(n.slice(T,o.index),x,k,c[c.length-1][0]=="comment"?P:g,{c:E,r:y},_,L[E],w,B,t);else{x="";k=Pm(o[0]);T=o.index+o[0].length}break;case"cell":if(o[1]==="/"){if(D.length>0)g.c=D;if((!t.sheetRows||t.sheetRows>y)&&g.v!==undefined){if(t.dense){if(!p[y])p[y]=[];p[y][E]=g}else p[_a(E)+Ta(y)]=g}if(g.HRef){g.l={Target:Yr(g.HRef)};if(g.HRefScreenTip)g.l.Tooltip=g.HRefScreenTip;delete g.HRef;delete g.HRefScreenTip}if(g.MergeAcross||g.MergeDown){z=E+(parseInt(g.MergeAcross,10)|0);V=y+(parseInt(g.MergeDown,10)|0);R.push({s:{c:E,r:y},e:{c:z,r:V}})}if(!t.sheetStubs){if(g.MergeAcross)E=z+1;else++E}else if(g.MergeAcross||g.MergeDown){for(var Y=E;Y<=z;++Y){for(var K=y;K<=V;++K){if(Y>E||K>y){if(t.dense){if(!p[K])p[K]=[];p[K][Y]={t:"z"}}else p[_a(Y)+Ta(K)]={t:"z"}}}}E=z+1}else++E}else{g=Lm(o[0]);if(g.Index)E=+g.Index-1;if(E<S.s.c)S.s.c=E;if(E>S.e.c)S.e.c=E;if(o[0].slice(-2)==="/>")++E;D=[]}break;case"row":if(o[1]==="/"||o[0].slice(-2)==="/>"){if(y<S.s.r)S.s.r=y;if(y>S.e.r)S.e.r=y;if(o[0].slice(-2)==="/>"){w=Pm(o[0]);if(w.Index)y=+w.Index-1}E=0;++y}else{w=Pm(o[0]);if(w.Index)y=+w.Index-1;H={};if(w.AutoFitHeight=="0"||w.Height){H.hpx=parseInt(w.Height,10);H.hpt=Dc(H.hpx);W[y]=H}if(w.Hidden=="1"){H.hidden=true;W[y]=H}}break;case"worksheet":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));v.push(b);if(S.s.r<=S.e.r&&S.s.c<=S.e.c){p["!ref"]=Na(S);if(t.sheetRows&&t.sheetRows<=S.e.r){p["!fullref"]=p["!ref"];S.e.r=t.sheetRows-1;p["!ref"]=Na(S)}}if(R.length)p["!merges"]=R;if(L.length>0)p["!cols"]=L;if(W.length>0)p["!rows"]=W;h[b]=p}else{S={s:{r:2e6,c:2e6},e:{r:0,c:0}};y=E=0;c.push([o[3],false]);u=Pm(o[0]);b=Yr(u.Name);p=t.dense?[]:{};R=[];B=[];W=[];j={name:b,Hidden:0};G.Sheets.push(j)}break;case"table":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].slice(-2)=="/>")break;else{c.push([o[3],false]);L=[];U=false}break;case"style":if(o[1]==="/")Hm(_,A,t);else A=Pm(o[0]);break;case"numberformat":A.nf=Yr(Pm(o[0]).Format||"General");if(Mm[A.nf])A.nf=Mm[A.nf];for(var J=0;J!=392;++J)if(X[J]==A.nf)break;if(J==392)for(J=57;J!=392;++J)if(X[J]==null){We(A.nf,J);break}break;case"column":if(c[c.length-1][0]!=="table")break;M=Pm(o[0]);if(M.Hidden){M.hidden=true;delete M.Hidden}if(M.Width)M.wpx=parseInt(M.Width,10);if(!U&&M.wpx>10){U=true;_c=Ec;for(var q=0;q<L.length;++q)if(L[q])Ic(L[q])}if(U)Ic(M);L[M.Index-1||L.length]=M;for(var Z=0;Z<+M.Span;++Z)L[L.length]=gr(M);
break;case"namedrange":if(o[1]==="/")break;if(!G.Names)G.Names=[];var Q=Gr(o[0]);var ee={Name:Q.Name,Ref:Au(Q.RefersTo.slice(1),{r:0,c:0})};if(G.Sheets.length>0)ee.Sheet=G.Sheets.length-1;G.Names.push(ee);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;else if(o[1]==="/")x+=n.slice(C,o.index);else C=o.index+o[0].length;break;case"interior":if(!t.cellStyles)break;A.Interior=Pm(o[0]);break;case"protection":break;case"author":;case"title":;case"description":;case"created":;case"keywords":;case"subject":;case"category":;case"company":;case"lastauthor":;case"lastsaved":;case"lastprinted":;case"version":;case"revision":;case"totaltime":;case"hyperlinkbase":;case"manager":;case"contentstatus":;case"identifier":;case"language":;case"appname":if(o[0].slice(-2)==="/>")break;else if(o[1]==="/")Si(O,$,n.slice(N,o.index));else N=o.index+o[0].length;break;case"paragraphs":break;case"styles":;case"workbook":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else c.push([o[3],false]);break;case"comment":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));Vm(P);D.push(P)}else{c.push([o[3],false]);u=Pm(o[0]);P={a:u.Author}}break;case"autofilter":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var re=Pm(o[0]);p["!autofilter"]={ref:Au(re.Range).replace(/\$/g,"")};c.push([o[3],true])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].charAt(o[0].length-2)!=="/")c.push([o[3],true])}break;case"pixelsperinch":break;case"componentoptions":;case"documentproperties":;case"customdocumentproperties":;case"officedocumentsettings":;case"pivottable":;case"pivotcache":;case"names":;case"mapinfo":;case"pagebreaks":;case"querytable":;case"sorting":;case"schema":;case"conditionalformatting":;case"smarttagtype":;case"smarttags":;case"excelworkbook":;case"workbookoptions":;case"worksheetoptions":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/")c.push([o[3],true]);break;case"null":break;default:if(c.length==0&&o[3]=="document")return Qb(n,t);if(c.length==0&&o[3]=="uof")return Qb(n,t);var te=true;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:te=false;}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:te=false;}break;case"excelworkbook":switch(o[3]){case"date1904":G.WBProps.date1904=true;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:te=false;}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:te=false;}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)==="/>"){}else if(o[1]==="/")switch(n.slice(N,o.index)){case"SheetHidden":j.Hidden=1;break;case"SheetVeryHidden":j.Hidden=2;break;}else N=o.index+o[0].length;break;case"header":if(!p["!margins"])Fd(p["!margins"]={},"xlml");if(!isNaN(+Gr(o[0]).Margin))p["!margins"].header=+Gr(o[0]).Margin;break;case"footer":if(!p["!margins"])Fd(p["!margins"]={},"xlml");if(!isNaN(+Gr(o[0]).Margin))p["!margins"].footer=+Gr(o[0]).Margin;break;case"pagemargins":var ae=Gr(o[0]);if(!p["!margins"])Fd(p["!margins"]={},"xlml");if(!isNaN(+ae.Top))p["!margins"].top=+ae.Top;if(!isNaN(+ae.Left))p["!margins"].left=+ae.Left;if(!isNaN(+ae.Right))p["!margins"].right=+ae.Right;if(!isNaN(+ae.Bottom))p["!margins"].bottom=+ae.Bottom;break;case"displayrighttoleft":if(!G.Views)G.Views=[];if(!G.Views[0])G.Views[0]={};G.Views[0].RTL=true;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":;case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":if(!p["!outline"])p["!outline"]={};p["!outline"].above=true;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":if(!p["!outline"])p["!outline"]={};p["!outline"].left=true;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:te=false;}break;case"pivottable":;case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:te=false;}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:te=false;}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:te=false;}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:te=false;}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:te=false;}break;case"sorting":;case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:te=false;}break;case"mapinfo":;case"schema":;case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":;case"element":;case"complextype":;case"datatype":;case"all":;case"attribute":;case"extends":break;case"row":break;default:te=false;}break;case"smarttags":break;default:te=false;break;}if(te)break;if(o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;else if(o[1]==="/")Bm(I,$,F,n.slice(N,o.index));else{F=o;N=o.index+o[0].length}break}if(t.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|");}var ne={};if(!t.bookSheets&&!t.bookProps)ne.Sheets=h;ne.SheetNames=v;ne.Workbook=G;ne.SSF=gr(X);ne.Props=O;ne.Custprops=I;return ne}function jm(e,r){Wg(r=r||{});switch(r.type||"base64"){case"base64":return Gm(k(e),r);case"binary":;case"buffer":;case"file":return Gm(e,r);case"array":return Gm(x(e),r);}}function Xm(e,r){var t=[];if(e.Props)t.push(_i(e.Props,r));if(e.Custprops)t.push(Ai(e.Props,e.Custprops,r));return t.join("")}function $m(){return""}function Ym(e,r){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];r.cellXfs.forEach(function(e,r){var a=[];a.push(kt("NumberFormat",null,{"ss:Format":qr(X[e.numFmtId])}));var n={"ss:ID":"s"+(21+r)};t.push(kt("Style",a.join(""),n))});return kt("Styles",t.join(""))}function Km(e){return kt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Cu(e.Ref,{r:0,c:0})})}function Jm(e){if(!((e||{}).Workbook||{}).Names)return"";var r=e.Workbook.Names;var t=[];for(var a=0;a<r.length;++a){var n=r[a];if(n.Sheet!=null)continue;if(n.Name.match(/^_xlfn\./))continue;t.push(Km(n))}return kt("Names",t.join(""))}function qm(e,r,t,a){if(!e)return"";if(!((a||{}).Workbook||{}).Names)return"";var n=a.Workbook.Names;var i=[];for(var s=0;s<n.length;++s){var f=n[s];if(f.Sheet!=t)continue;if(f.Name.match(/^_xlfn\./))continue;i.push(Km(f))}return i.join("")}function Zm(e,r,t,a){if(!e)return"";var n=[];if(e["!margins"]){n.push("<PageSetup>");if(e["!margins"].header)n.push(kt("Header",null,{"x:Margin":e["!margins"].header}));if(e["!margins"].footer)n.push(kt("Footer",null,{"x:Margin":e["!margins"].footer}));n.push(kt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"}));n.push("</PageSetup>")}if(a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[t]){if(a.Workbook.Sheets[t].Hidden)n.push(kt("Visible",a.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<t;++i)if(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden)break;if(i==t)n.push("<Selected/>")}}if(((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL)n.push("<DisplayRightToLeft/>");if(e["!protect"]){n.push(gt("ProtectContents","True"));if(e["!protect"].objects)n.push(gt("ProtectObjects","True"));if(e["!protect"].scenarios)n.push(gt("ProtectScenarios","True"));if(e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells)n.push(gt("EnableSelection","NoSelection"));else if(e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells)n.push(gt("EnableSelection","UnlockedCells"));[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(r){if(e["!protect"][r[0]])n.push("<"+r[1]+"/>")})}if(n.length==0)return"";return kt("WorksheetOptions",n.join(""),{xmlns:xt.x})}function Qm(e){return e.map(function(e){var r=at(e.t||"");var t=kt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return kt("Comment",t,{"ss:Author":e.a})}).join("")}function eb(e,r,t,a,n,i,s){if(!e||e.v==undefined&&e.f==undefined)return"";var f={};if(e.f)f["ss:Formula"]="="+qr(Cu(e.f,s));if(e.F&&e.F.slice(0,r.length)==r){var o=Ra(e.F.slice(r.length+1));f["ss:ArrayRange"]="RC:R"+(o.r==s.r?"":"["+(o.r-s.r)+"]")+"C"+(o.c==s.c?"":"["+(o.c-s.c)+"]")}if(e.l&&e.l.Target){f["ss:HRef"]=qr(e.l.Target);if(e.l.Tooltip)f["x:HRefScreenTip"]=qr(e.l.Tooltip)}if(t["!merges"]){var c=t["!merges"];for(var l=0;l!=c.length;++l){if(c[l].s.c!=s.c||c[l].s.r!=s.r)continue;if(c[l].e.c>c[l].s.c)f["ss:MergeAcross"]=c[l].e.c-c[l].s.c;if(c[l].e.r>c[l].s.r)f["ss:MergeDown"]=c[l].e.r-c[l].s.r}}var u="",h="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":u="Number";h=String(e.v);break;case"b":u="Boolean";h=e.v?"1":"0";break;case"e":u="Error";h=Gn[e.v];break;case"d":u="DateTime";h=new Date(e.v).toISOString();if(e.z==null)e.z=e.z||X[14];break;case"s":u="String";h=rt(e.v||"");break;}var d=Dd(a.cellXfs,e,a);f["ss:StyleID"]="s"+(21+d);f["ss:Index"]=s.c+1;var v=e.v!=null?h:"";var p=e.t=="z"?"":'<Data ss:Type="'+u+'">'+v+"</Data>";if((e.c||[]).length>0)p+=Qm(e.c);return kt("Cell",p,f)}function rb(e,r){var t='<Row ss:Index="'+(e+1)+'"';if(r){if(r.hpt&&!r.hpx)r.hpx=Pc(r.hpt);if(r.hpx)t+=' ss:AutoFitHeight="0" ss:Height="'+r.hpx+'"';if(r.hidden)t+=' ss:Hidden="1"'}return t+">"}function tb(e,r,t,a){if(!e["!ref"])return"";var n=Fa(e["!ref"]);var i=e["!merges"]||[],s=0;var f=[];if(e["!cols"])e["!cols"].forEach(function(e,r){Ic(e);var t=!!e.width;var a=Nd(r,e);var n={"ss:Index":r+1};if(t)n["ss:Width"]=Ac(a.width);if(e.hidden)n["ss:Hidden"]="1";f.push(kt("Column",null,n))});var o=Array.isArray(e);for(var c=n.s.r;c<=n.e.r;++c){var l=[rb(c,(e["!rows"]||[])[c])];for(var u=n.s.c;u<=n.e.c;++u){var h=false;for(s=0;s!=i.length;++s){if(i[s].s.c>u)continue;if(i[s].s.r>c)continue;if(i[s].e.c<u)continue;if(i[s].e.r<c)continue;if(i[s].s.c!=u||i[s].s.r!=c)h=true;break}if(h)continue;var d={r:c,c:u};var v=Oa(d),p=o?(e[c]||[])[u]:e[v];l.push(eb(p,v,e,r,t,a,d))}l.push("</Row>");if(l.length>2)f.push(l.join(""))}return f.join("")}function ab(e,r,t){var a=[];var n=t.SheetNames[e];var i=t.Sheets[n];var s=i?qm(i,r,e,t):"";if(s.length>0)a.push("<Names>"+s+"</Names>");s=i?tb(i,r,e,t):"";if(s.length>0)a.push("<Table>"+s+"</Table>");a.push(Zm(i,r,e,t));return a.join("")}function nb(e,r){if(!r)r={};if(!e.SSF)e.SSF=gr(X);if(e.SSF){ze();He(e.SSF);r.revssf=nr(e.SSF);r.revssf[e.SSF[65535]]=0;r.ssf=e.SSF;r.cellXfs=[];Dd(r.cellXfs,{},{revssf:{General:0}})}var t=[];t.push(Xm(e,r));t.push($m(e,r));t.push("");t.push("");for(var a=0;a<e.SheetNames.length;++a)t.push(kt("Worksheet",ab(a,r,e),{"ss:Name":qr(e.SheetNames[a])}));t[2]=Ym(e,r);t[3]=Jm(e,r);return Mr+kt("Workbook",t.join(""),{xmlns:xt.ss,"xmlns:o":xt.o,"xmlns:x":xt.x,"xmlns:ss":xt.ss,"xmlns:dt":xt.dt,"xmlns:html":xt.html})}function ib(e){var r={};var t=e.content;t.l=28;r.AnsiUserType=t._R(0,"lpstr-ansi");r.AnsiClipboardFormat=kn(t);if(t.length-t.l<=4)return r;var a=t._R(4);if(a==0||a>40)return r;t.l-=4;r.Reserved1=t._R(0,"lpstr-ansi");if(t.length-t.l<=4)return r;a=t._R(4);if(a!==1907505652)return r;r.UnicodeClipboardFormat=Tn(t);a=t._R(4);if(a==0||a>40)return r;t.l-=4;r.Reserved2=t._R(0,"lpwstr")}var sb=[60,1084,2066,2165,2175];function fb(e,r,t,a,n){var i=a;var s=[];var f=t.slice(t.l,t.l+i);if(n&&n.enc&&n.enc.insitu&&f.length>0)switch(e){case 9:;case 521:;case 1033:;case 2057:;case 47:;case 405:;case 225:;case 406:;case 312:;case 404:;case 10:break;case 133:break;default:n.enc.insitu(f);}s.push(f);t.l+=i;var o=Qt(t,t.l),c=bb[o];var l=0;while(c!=null&&sb.indexOf(o)>-1){i=Qt(t,t.l+2);l=t.l+4;if(o==2066)l+=4;else if(o==2165||o==2175){l+=12}f=t.slice(l,t.l+4+i);s.push(f);t.l+=4+i;c=bb[o=Qt(t,t.l)]}var u=O(s);la(u,0);var h=0;u.lens=[];for(var d=0;d<s.length;++d){u.lens.push(h);h+=s[d].length}if(u.length<a)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+u.length+" < "+a;return r.f(u,u.length,n)}function ob(e,r,t){if(e.t==="z")return;if(!e.XF)return;var a=0;try{a=e.z||e.XF.numFmtId||0;if(r.cellNF)e.z=X[a]}catch(n){if(r.WTF)throw n}if(!r||r.cellText!==false)try{if(e.t==="e"){e.w=e.w||Gn[e.v]}else if(a===0||a=="General"){if(e.t==="n"){if((e.v|0)===e.v)e.w=e.v.toString(10);else e.w=se(e.v)}else e.w=fe(e.v)}else e.w=Be(a,e.v,{date1904:!!t,dateNF:r&&r.dateNF})}catch(n){if(r.WTF)throw n}if(r.cellDates&&a&&e.t=="n"&&De(X[a]||String(a))){var i=q(e.v);if(i){e.t="d";e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u)}}}function cb(e,r,t){return{v:e,ixfe:r,t:t}}function lb(e,r){var t={opts:{}};var a={};if(m!=null&&r.dense==null)r.dense=m;var n=r.dense?[]:{};var i={};var s={};var f=null;var c=[];var l="";var u={};var h,d="",v,p,b,g;var w={};var k=[];var T;var E;var y=[];var S=[];var _={Sheets:[],WBProps:{date1904:false},Views:[{}]},A={};var x=function ve(e){if(e<8)return Vn[e];if(e<64)return S[e-8]||Vn[e];return Vn[e]};var C=function pe(e,r,t){var a=r.XF.data;if(!a||!a.patternType||!t||!t.cellStyles)return;r.s={};r.s.patternType=a.patternType;var n;if(n=gc(x(a.icvFore))){r.s.fgColor={rgb:n}}if(n=gc(x(a.icvBack))){r.s.bgColor={rgb:n}}};var R=function me(e,r,t){if(B>1)return;if(t.sheetRows&&e.r>=t.sheetRows)return;if(t.cellStyles&&r.XF&&r.XF.data)C(e,r,t);delete r.ixfe;delete r.XF;h=e;d=Oa(e);if(!s||!s.s||!s.e)s={s:{r:0,c:0},e:{r:0,c:0}};if(e.r<s.s.r)s.s.r=e.r;if(e.c<s.s.c)s.s.c=e.c;if(e.r+1>s.e.r)s.e.r=e.r+1;if(e.c+1>s.e.c)s.e.c=e.c+1;if(t.cellFormula&&r.f){for(var a=0;a<k.length;++a){if(k[a][0].s.c>e.c||k[a][0].s.r>e.r)continue;if(k[a][0].e.c<e.c||k[a][0].e.r<e.r)continue;r.F=Na(k[a][0]);if(k[a][0].s.c!=e.c||k[a][0].s.r!=e.r)delete r.f;if(r.f)r.f=""+fd(k[a][1],s,e,M,O);break}}{if(t.dense){if(!n[e.r])n[e.r]=[];n[e.r][e.c]=r}else n[d]=r}};var O={enc:false,sbcch:0,snames:[],sharedf:w,arrayf:k,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!r&&!!r.cellStyles,WTF:!!r&&!!r.wtf};if(r.password)O.password=r.password;var I;var N=[];var F=[];var D=[],P=[];var L=false;var M=[];M.SheetNames=O.snames;M.sharedf=O.sharedf;M.arrayf=O.arrayf;M.names=[];M.XTI=[];var U=0;var B=0;var W=0,H=[];var z=[];var V;O.codepage=1200;o(1200);var G=false;while(e.l<e.length-1){var j=e.l;var $=e._R(2);if($===0&&U===10)break;var Y=e.l===e.length?0:e._R(2);var K=bb[$];if(K&&K.f){if(r.bookSheets){if(U===133&&$!==133)break}U=$;if(K.r===2||K.r==12){var J=e._R(2);Y-=2;if(!O.enc&&J!==$&&((J&255)<<8|J>>8)!==$)throw new Error("rt mismatch: "+J+"!="+$);if(K.r==12){e.l+=10;Y-=10}}var q={};if($===10)q=K.f(e,Y,O);else q=fb($,K,e,Y,O);if(B==0&&[9,521,1033,2057].indexOf(U)===-1)continue;switch($){case 34:t.opts.Date1904=_.WBProps.date1904=q;break;case 134:t.opts.WriteProtect=true;break;case 47:if(!O.enc)e.l=0;O.enc=q;if(!r.password)throw new Error("File is password-protected");if(q.valid==null)throw new Error("Encryption scheme unsupported");if(!q.valid)throw new Error("Password is incorrect");break;case 92:O.lastuser=q;break;case 66:var Z=Number(q);switch(Z){case 21010:Z=1200;break;case 32768:Z=1e4;break;case 32769:Z=1252;break;}o(O.codepage=Z);G=true;break;case 317:O.rrtabid=q;break;case 25:O.winlocked=q;break;case 439:t.opts["RefreshAll"]=q;break;case 12:t.opts["CalcCount"]=q;break;case 16:t.opts["CalcDelta"]=q;break;case 17:t.opts["CalcIter"]=q;break;case 13:t.opts["CalcMode"]=q;break;case 14:t.opts["CalcPrecision"]=q;break;case 95:t.opts["CalcSaveRecalc"]=q;break;case 15:O.CalcRefMode=q;break;case 2211:t.opts.FullCalc=q;break;case 129:if(q.fDialog)n["!type"]="dialog";if(!q.fBelow)(n["!outline"]||(n["!outline"]={})).above=true;if(!q.fRight)(n["!outline"]||(n["!outline"]={})).left=true;break;case 224:y.push(q);break;case 430:M.push([q]);M[M.length-1].XTI=[];break;case 35:;case 547:M[M.length-1].push(q);break;case 24:;case 536:V={Name:q.Name,Ref:fd(q.rgce,s,null,M,O)};if(q.itab>0)V.Sheet=q.itab-1;M.names.push(V);if(!M[0]){M[0]=[];M[0].XTI=[]}M[M.length-1].push(q);if(q.Name=="_xlnm._FilterDatabase"&&q.itab>0)if(q.rgce&&q.rgce[0]&&q.rgce[0][0]&&q.rgce[0][0][0]=="PtgArea3d")z[q.itab-1]={ref:Na(q.rgce[0][0][1][2])};break;case 22:O.ExternCount=q;break;case 23:if(M.length==0){M[0]=[];M[0].XTI=[]}M[M.length-1].XTI=M[M.length-1].XTI.concat(q);M.XTI=M.XTI.concat(q);break;case 2196:if(O.biff<8)break;if(V!=null)V.Comment=q[1];break;case 18:n["!protect"]=q;break;case 19:if(q!==0&&O.WTF)console.error("Password verifier: "+q);break;case 133:{i[q.pos]=q;O.snames.push(q.name)}break;case 10:{if(--B)break;if(s.e){if(s.e.r>0&&s.e.c>0){s.e.r--;s.e.c--;n["!ref"]=Na(s);if(r.sheetRows&&r.sheetRows<=s.e.r){var Q=s.e.r;s.e.r=r.sheetRows-1;n["!fullref"]=n["!ref"];n["!ref"]=Na(s);s.e.r=Q}s.e.r++;s.e.c++}if(N.length>0)n["!merges"]=N;if(F.length>0)n["!objects"]=F;if(D.length>0)n["!cols"]=D;if(P.length>0)n["!rows"]=P;_.Sheets.push(A)}if(l==="")u=n;else a[l]=n;n=r.dense?[]:{}}break;case 9:;case 521:;case 1033:;case 2057:{if(O.biff===8)O.biff={9:2,521:3,1033:4}[$]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[q.BIFFVer]||8;O.biffguess=q.BIFFVer==0;if(q.BIFFVer==0&&q.dt==4096){O.biff=5;G=true;o(O.codepage=28591)}if(O.biff==8&&q.BIFFVer==0&&q.dt==16)O.biff=2;if(B++)break;n=r.dense?[]:{};if(O.biff<8&&!G){G=true;o(O.codepage=r.codepage||1252)}if(O.biff<5||q.BIFFVer==0&&q.dt==4096){if(l==="")l="Sheet1";s={s:{r:0,c:0},e:{r:0,c:0}};var ee={pos:e.l-Y,name:l};i[ee.pos]=ee;O.snames.push(l)}else l=(i[j]||{name:""}).name;if(q.dt==32)n["!type"]="chart";if(q.dt==64)n["!type"]="macro";N=[];F=[];O.arrayf=k=[];D=[];P=[];L=false;A={Hidden:(i[j]||{hs:0}).hs,name:l}}break;case 515:;case 3:;case 2:{if(n["!type"]=="chart")if(r.dense?(n[q.r]||[])[q.c]:n[Oa({c:q.c,r:q.r})])++q.c;T={ixfe:q.ixfe,XF:y[q.ixfe]||{},v:q.val,t:"n"};if(W>0)T.z=H[T.ixfe>>8&63];ob(T,r,t.opts.Date1904);R({c:q.c,r:q.r},T,r)}break;case 5:;case 517:{T={ixfe:q.ixfe,XF:y[q.ixfe],v:q.val,t:q.t};if(W>0)T.z=H[T.ixfe>>8&63];ob(T,r,t.opts.Date1904);R({c:q.c,r:q.r},T,r)}break;case 638:{T={ixfe:q.ixfe,XF:y[q.ixfe],v:q.rknum,t:"n"};if(W>0)T.z=H[T.ixfe>>8&63];ob(T,r,t.opts.Date1904);R({c:q.c,r:q.r},T,r)}break;case 189:{for(var re=q.c;re<=q.C;++re){var te=q.rkrec[re-q.c][0];T={ixfe:te,XF:y[te],v:q.rkrec[re-q.c][1],t:"n"};if(W>0)T.z=H[T.ixfe>>8&63];ob(T,r,t.opts.Date1904);R({c:re,r:q.r},T,r)}}break;case 6:;case 518:;case 1030:{if(q.val=="String"){f=q;break}T=cb(q.val,q.cell.ixfe,q.tt);T.XF=y[T.ixfe];if(r.cellFormula){var ae=q.formula;if(ae&&ae[0]&&ae[0][0]&&ae[0][0][0]=="PtgExp"){var ne=ae[0][0][1][0],ie=ae[0][0][1][1];var se=Oa({r:ne,c:ie});if(w[se])T.f=""+fd(q.formula,s,q.cell,M,O);else T.F=((r.dense?(n[ne]||[])[ie]:n[se])||{}).F}else T.f=""+fd(q.formula,s,q.cell,M,O)}if(W>0)T.z=H[T.ixfe>>8&63];ob(T,r,t.opts.Date1904);R(q.cell,T,r);f=q}break;case 7:;case 519:{if(f){f.val=q;T=cb(q,f.cell.ixfe,"s");T.XF=y[T.ixfe];if(r.cellFormula){T.f=""+fd(f.formula,s,f.cell,M,O)}if(W>0)T.z=H[T.ixfe>>8&63];ob(T,r,t.opts.Date1904);R(f.cell,T,r);f=null}else throw new Error("String record expects Formula")}break;case 33:;case 545:{k.push(q);var fe=Oa(q[0].s);v=r.dense?(n[q[0].s.r]||[])[q[0].s.c]:n[fe];if(r.cellFormula&&v){if(!f)break;if(!fe||!v)break;v.f=""+fd(q[1],s,q[0],M,O);v.F=Na(q[0])}}break;case 1212:{if(!r.cellFormula)break;if(d){if(!f)break;w[Oa(f.cell)]=q[0];v=r.dense?(n[f.cell.r]||[])[f.cell.c]:n[Oa(f.cell)];(v||{}).f=""+fd(q[0],s,h,M,O)}}break;case 253:T=cb(c[q.isst].t,q.ixfe,"s");if(c[q.isst].h)T.h=c[q.isst].h;T.XF=y[T.ixfe];if(W>0)T.z=H[T.ixfe>>8&63];ob(T,r,t.opts.Date1904);R({c:q.c,r:q.r},T,r);break;case 513:if(r.sheetStubs){T={ixfe:q.ixfe,XF:y[q.ixfe],t:"z"};if(W>0)T.z=H[T.ixfe>>8&63];ob(T,r,t.opts.Date1904);R({c:q.c,r:q.r},T,r)}break;case 190:if(r.sheetStubs){for(var oe=q.c;oe<=q.C;++oe){var ce=q.ixfe[oe-q.c];T={ixfe:ce,XF:y[ce],t:"z"};if(W>0)T.z=H[T.ixfe>>8&63];ob(T,r,t.opts.Date1904);R({c:oe,r:q.r},T,r)}}break;case 214:;case 516:;case 4:T=cb(q.val,q.ixfe,"s");T.XF=y[T.ixfe];if(W>0)T.z=H[T.ixfe>>8&63];ob(T,r,t.opts.Date1904);R({c:q.c,r:q.r},T,r);break;case 0:;case 512:{if(B===1)s=q}break;case 252:{c=q}break;case 1054:{if(O.biff==4){H[W++]=q[1];for(var le=0;le<W+163;++le)if(X[le]==q[1])break;if(le>=163)We(q[1],W+163)}else We(q[1],q[0])}break;case 30:{H[W++]=q;for(var ue=0;ue<W+163;++ue)if(X[ue]==q)break;if(ue>=163)We(q,W+163)}break;case 229:N=N.concat(q);break;case 93:F[q.cmo[0]]=O.lastobj=q;break;case 438:O.lastobj.TxO=q;break;case 127:O.lastobj.ImData=q;break;case 440:{for(g=q[0].s.r;g<=q[0].e.r;++g)for(b=q[0].s.c;b<=q[0].e.c;++b){v=r.dense?(n[g]||[])[b]:n[Oa({c:b,r:g})];if(v)v.l=q[1]}}break;case 2048:{for(g=q[0].s.r;g<=q[0].e.r;++g)for(b=q[0].s.c;b<=q[0].e.c;++b){v=r.dense?(n[g]||[])[b]:n[Oa({c:b,r:g})];if(v&&v.l)v.l.Tooltip=q[1]}}break;case 28:{if(O.biff<=5&&O.biff>=2)break;v=r.dense?(n[q[0].r]||[])[q[0].c]:n[Oa(q[0])];var he=F[q[2]];if(!v){if(r.dense){if(!n[q[0].r])n[q[0].r]=[];v=n[q[0].r][q[0].c]={t:"z"}}else{v=n[Oa(q[0])]={t:"z"}}s.e.r=Math.max(s.e.r,q[0].r);s.s.r=Math.min(s.s.r,q[0].r);s.e.c=Math.max(s.e.c,q[0].c);s.s.c=Math.min(s.s.c,q[0].c)}if(!v.c)v.c=[];p={a:q[1],t:he.TxO.t};v.c.push(p)}break;case 2173:Bl(y[q.ixfe],q.ext);break;case 125:{if(!O.cellStyles)break;while(q.e>=q.s){D[q.e--]={width:q.w/256,level:q.level||0,hidden:!!(q.flags&1)};if(!L){L=true;Oc(q.w/256)}Ic(D[q.e+1])}}break;case 520:{var de={};if(q.level!=null){P[q.r]=de;de.level=q.level}if(q.hidden){P[q.r]=de;de.hidden=true}if(q.hpt){P[q.r]=de;de.hpt=q.hpt;de.hpx=Pc(q.hpt)}}break;case 38:;case 39:;case 40:;case 41:if(!n["!margins"])Fd(n["!margins"]={});n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[$]]=q;break;case 161:if(!n["!margins"])Fd(n["!margins"]={});n["!margins"].header=q.header;n["!margins"].footer=q.footer;break;case 574:if(q.RTL)_.Views[0].RTL=true;break;case 146:S=q;break;case 2198:I=q;break;case 140:E=q;break;case 442:{if(!l)_.WBProps.CodeName=q||"ThisWorkbook";else A.CodeName=q||A.name}break;}}else{if(!K)console.error("Missing Info for XLS Record 0x"+$.toString(16));e.l+=Y}}t.SheetNames=rr(i).sort(function(e,r){return Number(e)-Number(r)}).map(function(e){return i[e].name});if(!r.bookSheets)t.Sheets=a;if(!t.SheetNames.length&&u["!ref"]){t.SheetNames.push("Sheet1");if(t.Sheets)t.Sheets["Sheet1"]=u}else t.Preamble=u;if(t.Sheets)z.forEach(function(e,r){t.Sheets[t.SheetNames[r]]["!autofilter"]=e});t.Strings=c;t.SSF=gr(X);if(O.enc)t.Encryption=O.enc;if(I)t.Themes=I;t.Metadata={};if(E!==undefined)t.Metadata.Country=E;if(M.names.length>0)_.Names=M.names;t.Workbook=_;return t}var ub={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function hb(e,r,t){var a=Ke.find(e,"/!DocumentSummaryInformation");if(a&&a.size>0)try{var n=$i(a,Mn,ub.DSI);for(var i in n)r[i]=n[i]}catch(s){if(t.WTF)throw s}var f=Ke.find(e,"/!SummaryInformation");if(f&&f.size>0)try{var o=$i(f,Un,ub.SI);for(var c in o)if(r[c]==null)r[c]=o[c]}catch(s){if(t.WTF)throw s}if(r.HeadingPairs&&r.TitlesOfParts){mi(r.HeadingPairs,r.TitlesOfParts,r,t);delete r.HeadingPairs;delete r.TitlesOfParts}}function db(e,r){var t=[],a=[],n=[];var i=0,s;var f=tr(Mn,"n");var o=tr(Un,"n");if(e.Props){s=rr(e.Props);for(i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(f,s[i])?t:Object.prototype.hasOwnProperty.call(o,s[i])?a:n).push([s[i],e.Props[s[i]]])}if(e.Custprops){s=rr(e.Custprops);for(i=0;i<s.length;++i)if(!Object.prototype.hasOwnProperty.call(e.Props||{},s[i]))(Object.prototype.hasOwnProperty.call(f,s[i])?t:Object.prototype.hasOwnProperty.call(o,s[i])?a:n).push([s[i],e.Custprops[s[i]]])}var c=[];for(i=0;i<n.length;++i){if(Gi.indexOf(n[i][0])>-1||pi.indexOf(n[i][0])>-1)continue;if(n[i][1]==null)continue;c.push(n[i])}if(a.length)Ke.utils.cfb_add(r,"/SummaryInformation",Yi(a,ub.SI,o,Un));if(t.length||c.length)Ke.utils.cfb_add(r,"/DocumentSummaryInformation",Yi(t,ub.DSI,f,Mn,c.length?c:null,ub.UDI))}function vb(e,r){if(!r)r={};Wg(r);c();if(r.codepage)s(r.codepage);var t,a;if(e.FullPaths){if(Ke.find(e,"/encryption"))throw new Error("File is password-protected");t=Ke.find(e,"!CompObj");a=Ke.find(e,"/Workbook")||Ke.find(e,"/Book")}else{switch(r.type){case"base64":e=_(k(e));break;case"binary":e=_(e);break;case"buffer":break;case"array":if(!Array.isArray(e))e=Array.prototype.slice.call(e);break;}la(e,0);a={content:e}}var n;var i;if(t)ib(t);if(r.bookProps&&!r.bookSheets)n={};else{var f=T?"buffer":"array";if(a&&a.content)n=lb(a.content,r);else if((i=Ke.find(e,"PerfectOffice_MAIN"))&&i.content)n=Co.to_workbook(i.content,(r.type=f,r));else if((i=Ke.find(e,"NativeContent_MAIN"))&&i.content)n=Co.to_workbook(i.content,(r.type=f,r));else if((i=Ke.find(e,"MN0"))&&i.content)throw new Error("Unsupported Works 4 for Mac file");else throw new Error("Cannot find Workbook stream");if(r.bookVBA&&e.FullPaths&&Ke.find(e,"/_VBA_PROJECT_CUR/VBA/dir"))n.vbaraw=wu(e)}var o={};if(e.FullPaths)hb(e,o,r);n.Props=n.Custprops=o;if(r.bookFiles)n.cfb=e;return n}function pb(e,r){var t=r||{};var a=Ke.utils.cfb_new({root:"R"});var n="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":if(!t.bookType)t.bookType="xla";case"biff8":n="/Workbook";t.biff=8;break;case"biff5":n="/Book";t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB");}Ke.utils.cfb_add(a,n,Lb(e,t));if(t.biff==8&&(e.Props||e.Custprops))db(e,a);if(t.biff==8&&e.vbaraw)ku(a,Ke.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"}));return a}var mb={0:{f:mv},1:{f:Sv},2:{f:Gv},3:{f:Nv},4:{f:Cv},5:{f:Wv},6:{f:Kv},7:{f:Lv
},8:{f:tp},9:{f:rp},10:{f:Qv},11:{f:ep},12:{f:Av},13:{f:Xv},14:{f:Dv},15:{f:Ov},16:{f:zv},17:{f:qv},18:{f:Uv},19:{f:ja},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:fm},40:{},42:{},43:{f:Jc},44:{f:Yc},45:{f:el},46:{f:il},47:{f:tl},48:{},49:{f:Ba},50:{},51:{f:zl},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:ao},62:{f:Yv},63:{f:Zl},64:{f:wp},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ua,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:pp},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Ev},148:{f:wv,p:16},151:{f:op},152:{},153:{f:nm},154:{},155:{},156:{f:tm},157:{},158:{},159:{T:1,f:zo},160:{T:-1},161:{T:1,f:un},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:ap},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Wl},336:{T:-1},337:{f:jl,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:nn},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Df},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:cp},427:{f:lp},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:dp},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Tv},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:sp},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:nn},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:vu},633:{T:1},634:{T:-1},635:{T:1,f:hu},636:{T:-1},637:{f:$a},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Up},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:kp},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};var bb={6:{f:vd},10:{f:Ki},12:{f:es},13:{f:es},14:{f:Zi},15:{f:Zi},16:{f:dn},17:{f:Zi},18:{f:Zi},19:{f:es},20:{f:Rf},21:{f:Rf},23:{f:Df},24:{f:Ff},25:{f:Zi},26:{},27:{},28:{f:Hf},29:{},34:{f:Zi},35:{f:If},38:{f:dn},39:{f:dn},40:{f:dn},41:{f:dn},42:{f:Zi},43:{f:Zi},47:{f:pc},49:{f:sf},51:{f:es},60:{},61:{f:ef},64:{f:Zi},65:{f:nf},66:{f:es},77:{},80:{},81:{},82:{},85:{f:es},89:{},90:{},91:{},92:{f:zs},93:{f:Gf},94:{},95:{f:Zi},96:{},97:{},99:{f:Zi},125:{f:ao},128:{f:yf},129:{f:Gs},130:{f:es},131:{f:Zi},132:{f:Zi},133:{f:js},134:{},140:{f:Zf},141:{f:es},144:{},146:{f:ro},151:{},152:{},153:{},154:{},155:{},156:{f:es},157:{},158:{},160:{f:co},161:{f:io},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:gf},190:{f:wf},193:{f:Ki},197:{},198:{},199:{},200:{},201:{},202:{f:Zi},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:es},220:{},221:{f:Zi},222:{},224:{f:Tf},225:{f:Hs},226:{f:Ki},227:{},229:{f:zf},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:$s},253:{f:of},255:{f:Ks},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:ts},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Zi},353:{f:Ki},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Of},431:{f:Zi},432:{},433:{},434:{},437:{},438:{f:$f},439:{f:Zi},440:{f:Yf},441:{},442:{f:cs},443:{},444:{f:es},445:{},446:{},448:{f:Ki},449:{f:Zs,r:2},450:{f:Ki},512:{f:pf},513:{f:oo},515:{f:xf},516:{f:lf},517:{f:_f},519:{f:lo},520:{f:Js},523:{},545:{f:Uf},549:{f:Qs},566:{},574:{f:tf},638:{f:bf},659:{},1048:{},1054:{f:hf},1084:{},1212:{f:Mf},2048:{f:Jf},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Bs},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ki},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:to,r:12},2173:{f:Ul,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Zi,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Lf,r:12},2197:{},2198:{f:Nl,r:12},2199:{},2200:{},2201:{},2202:{f:Bf,r:12},2203:{f:Ki},2204:{},2205:{},2206:{},2207:{},2211:{f:qs},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:es},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:so},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:eo},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:pf},1:{},2:{f:mo},3:{f:vo},4:{f:ho},5:{f:_f},7:{f:go},8:{},9:{f:Bs},11:{},22:{f:es},30:{f:vf},31:{},32:{},33:{f:Uf},36:{},37:{f:Qs},50:{f:wo},62:{},52:{},67:{},68:{f:es},69:{},86:{},126:{},127:{f:uo},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:ko},223:{},234:{},354:{},421:{},518:{f:vd},521:{f:Bs},536:{f:Ff},547:{f:If},561:{},579:{},1030:{f:vd},1033:{f:Bs},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function gb(e,r,t,a){var n=r;if(isNaN(n))return;var i=a||(t||[]).length||0;var s=e.next(4);s._W(2,n);s._W(2,i);if(i>0&&Jt(t))e.push(t)}function wb(e,r,t,a){var n=a||(t||[]).length||0;if(n<=8224)return gb(e,r,t,n);var i=r;if(isNaN(i))return;var s=t.parts||[],f=0;var o=0,c=0;while(c+(s[f]||8224)<=8224){c+=s[f]||8224;f++}var l=e.next(4);l._W(2,i);l._W(2,c);e.push(t.slice(o,o+c));o+=c;while(o<n){l=e.next(4);l._W(2,60);c=0;while(c+(s[f]||8224)<=8224){c+=s[f]||8224;f++}l._W(2,c);e.push(t.slice(o,o+c));o+=c}}function kb(e,r,t){if(!e)e=ha(7);e._W(2,r);e._W(2,t);e._W(2,0);e._W(1,0);return e}function Tb(e,r,t,a){var n=ha(9);kb(n,e,r);ns(t,a||"b",n);return n}function Eb(e,r,t){var a=ha(8+2*t.length);kb(a,e,r);a._W(1,t.length);a._W(t.length,t,"sbcs");return a.l<a.length?a.slice(0,a.l):a}function yb(e,r,t,a){if(r.v!=null)switch(r.t){case"d":;case"n":var n=r.t=="d"?fr(mr(r.v)):r.v;if(n==(n|0)&&n>=0&&n<65536)gb(e,2,bo(t,a,n));else gb(e,3,po(t,a,n));return;case"b":;case"e":gb(e,5,Tb(t,a,r.v,r.t));return;case"s":;case"str":gb(e,4,Eb(t,a,(r.v||"").slice(0,255)));return;}gb(e,1,kb(null,t,a))}function Sb(e,r,t,a){var n=Array.isArray(r);var i=Fa(r["!ref"]||"A1"),s,f="",o=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(r["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255);i.e.r=Math.min(i.e.c,16383);s=Na(i)}for(var c=i.s.r;c<=i.e.r;++c){f=Ta(c);for(var l=i.s.c;l<=i.e.c;++l){if(c===i.s.r)o[l]=_a(l);s=o[l]+f;var u=n?(r[c]||[])[l]:r[s];if(!u)continue;yb(e,u,c,l,a)}}}function _b(e,r){var t=r||{};if(m!=null&&t.dense==null)t.dense=m;var a=va();var n=0;for(var i=0;i<e.SheetNames.length;++i)if(e.SheetNames[i]==t.sheet)n=i;if(n==0&&!!t.sheet&&e.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);gb(a,t.biff==4?1033:t.biff==3?521:9,Ws(e,16,t));Sb(a,e.Sheets[e.SheetNames[n]],n,t,e);gb(a,10);return a.end()}function Ab(e,r,t){gb(e,49,ff({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},t))}function xb(e,r,t){if(!r)return;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)if(r[n]!=null)gb(e,1054,df(n,r[n],t))})}function Cb(e,r){var t=ha(19);t._W(4,2151);t._W(4,0);t._W(4,0);t._W(2,3);t._W(1,1);t._W(4,0);gb(e,2151,t);t=ha(39);t._W(4,2152);t._W(4,0);t._W(4,0);t._W(2,3);t._W(1,0);t._W(4,0);t._W(2,1);t._W(4,4);t._W(2,0);Os(Fa(r["!ref"]||"A1"),t);t._W(4,4);gb(e,2152,t)}function Rb(e,r){for(var t=0;t<16;++t)gb(e,224,Ef({numFmtId:0,style:true},0,r));r.cellXfs.forEach(function(t){gb(e,224,Ef(t,0,r))})}function Ob(e,r){for(var t=0;t<r["!links"].length;++t){var a=r["!links"][t];gb(e,440,Kf(a));if(a[1].Tooltip)gb(e,2048,qf(a))}delete r["!links"]}function Ib(e,r){if(!r)return;var t=0;r.forEach(function(r,a){if(++t<=256&&r){gb(e,125,no(Nd(a,r),a))}})}function Nb(e,r,t,a,n){var i=16+Dd(n.cellXfs,r,n);if(r.v==null&&!r.bf){gb(e,513,ys(t,a,i));return}if(r.bf)gb(e,6,pd(r,t,a,n,i));else switch(r.t){case"d":;case"n":var s=r.t=="d"?fr(mr(r.v)):r.v;gb(e,515,Cf(t,a,s,i,n));break;case"b":;case"e":gb(e,517,Af(t,a,r.v,i,n,r.t));break;case"s":;case"str":if(n.bookSST){var f=Id(n.Strings,r.v,n.revStrings);gb(e,253,cf(t,a,f,i,n))}else gb(e,516,uf(t,a,(r.v||"").slice(0,255),i,n));break;default:gb(e,513,ys(t,a,i));}}function Fb(e,r,t){var a=va();var n=t.SheetNames[e],i=t.Sheets[n]||{};var s=(t||{}).Workbook||{};var f=(s.Sheets||[])[e]||{};var o=Array.isArray(i);var c=r.biff==8;var l,u="",h=[];var d=Fa(i["!ref"]||"A1");var v=c?65536:16384;if(d.e.c>255||d.e.r>=v){if(r.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");d.e.c=Math.min(d.e.c,255);d.e.r=Math.min(d.e.c,v-1)}gb(a,2057,Ws(t,16,r));gb(a,13,rs(1));gb(a,12,rs(100));gb(a,15,Qi(true));gb(a,17,Qi(false));gb(a,16,vn(.001));gb(a,95,Qi(true));gb(a,42,Qi(false));gb(a,43,Qi(false));gb(a,130,rs(1));gb(a,128,Sf([0,0]));gb(a,131,Qi(false));gb(a,132,Qi(false));if(c)Ib(a,i["!cols"]);gb(a,512,mf(d,r));if(c)i["!links"]=[];for(var p=d.s.r;p<=d.e.r;++p){u=Ta(p);for(var m=d.s.c;m<=d.e.c;++m){if(p===d.s.r)h[m]=_a(m);l=h[m]+u;var b=o?(i[p]||[])[m]:i[l];if(!b)continue;Nb(a,b,p,m,r);if(c&&b.l)i["!links"].push([l,b.l])}}var g=f.CodeName||f.name||n;if(c)gb(a,574,af((s.Views||[])[0]));if(c&&(i["!merges"]||[]).length)gb(a,229,Vf(i["!merges"]));if(c)Ob(a,i);gb(a,442,us(g,r));if(c)Cb(a,i);gb(a,10);return a.end()}function Db(e,r,t){var a=va();var n=(e||{}).Workbook||{};var i=n.Sheets||[];var s=n.WBProps||{};var f=t.biff==8,o=t.biff==5;gb(a,2057,Ws(e,5,t));if(t.bookType=="xla")gb(a,135);gb(a,225,f?rs(1200):null);gb(a,193,Ji(2));if(o)gb(a,191);if(o)gb(a,192);gb(a,226);gb(a,92,Vs("SheetJS",t));gb(a,66,rs(f?1200:1252));if(f)gb(a,353,rs(0));if(f)gb(a,448);gb(a,317,fo(e.SheetNames.length));if(f&&e.vbaraw)gb(a,211);if(f&&e.vbaraw){var c=s.CodeName||"ThisWorkbook";gb(a,442,us(c,t))}gb(a,156,rs(17));gb(a,25,Qi(false));gb(a,18,Qi(false));gb(a,19,rs(0));if(f)gb(a,431,Qi(false));if(f)gb(a,444,rs(0));gb(a,61,rf(t));gb(a,64,Qi(false));gb(a,141,rs(0));gb(a,34,Qi(Yp(e)=="true"));gb(a,14,Qi(true));if(f)gb(a,439,Qi(false));gb(a,218,rs(0));Ab(a,e,t);xb(a,e.SSF,t);Rb(a,t);if(f)gb(a,352,Qi(false));var l=a.end();var u=va();if(f)gb(u,140,Qf());if(f&&t.Strings)wb(u,252,Ys(t.Strings,t));gb(u,10);var h=u.end();var d=va();var v=0,p=0;for(p=0;p<e.SheetNames.length;++p)v+=(f?12:11)+(f?2:1)*e.SheetNames[p].length;var m=l.length+v+h.length;for(p=0;p<e.SheetNames.length;++p){var b=i[p]||{};gb(d,133,Xs({pos:m,hs:b.Hidden||0,dt:0,name:e.SheetNames[p]},t));m+=r[p].length}var g=d.end();if(v!=g.length)throw new Error("BS8 "+v+" != "+g.length);var w=[];if(l.length)w.push(l);if(g.length)w.push(g);if(h.length)w.push(h);return O(w)}function Pb(e,r){var t=r||{};var a=[];if(e&&!e.SSF){e.SSF=gr(X)}if(e&&e.SSF){ze();He(e.SSF);t.revssf=nr(e.SSF);t.revssf[e.SSF[65535]]=0;t.ssf=e.SSF}t.Strings=[];t.Strings.Count=0;t.Strings.Unique=0;Hg(t);t.cellXfs=[];Dd(t.cellXfs,{},{revssf:{General:0}});if(!e.Props)e.Props={};for(var n=0;n<e.SheetNames.length;++n)a[a.length]=Fb(n,t,e);a.unshift(Db(e,a,t));return O(a)}function Lb(e,r){for(var t=0;t<=e.SheetNames.length;++t){var a=e.Sheets[e.SheetNames[t]];if(!a||!a["!ref"])continue;var n=Ia(a["!ref"]);if(n.e.c>255){if(typeof console!="undefined"&&console.error)console.error("Worksheet '"+e.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var i=r||{};switch(i.biff||2){case 8:;case 5:return Pb(e,r);case 4:;case 3:;case 2:return _b(e,r);}throw new Error("invalid type "+i.bookType+" for BIFF")}function Mb(e,r){var t=r||{};if(m!=null&&t.dense==null)t.dense=m;var a=t.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var n=e.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i);var s=n.index,f=i&&i.index||e.length;var o=yr(e.slice(s,f),/(:?<tr[^>]*>)/i,"<tr>");var c=-1,l=0,u=0,h=0;var d={s:{r:1e7,c:1e7},e:{r:0,c:0}};var v=[];for(s=0;s<o.length;++s){var p=o[s].trim();var b=p.slice(0,3).toLowerCase();if(b=="<tr"){++c;if(t.sheetRows&&t.sheetRows<=c){--c;break}l=0;continue}if(b!="<td"&&b!="<th")continue;var g=p.split(/<\/t[dh]>/i);for(f=0;f<g.length;++f){var w=g[f].trim();if(!w.match(/<t[dh]/i))continue;var k=w,T=0;while(k.charAt(0)=="<"&&(T=k.indexOf(">"))>-1)k=k.slice(T+1);for(var E=0;E<v.length;++E){var y=v[E];if(y.s.c==l&&y.s.r<c&&c<=y.e.r){l=y.e.c+1;E=-1}}var S=Gr(w.slice(0,w.indexOf(">")));h=S.colspan?+S.colspan:1;if((u=+S.rowspan)>1||h>1)v.push({s:{r:c,c:l},e:{r:c+(u||1)-1,c:l+h-1}});var _=S.t||S["data-t"]||"";if(!k.length){l+=h;continue}k=ht(k);if(d.s.r>c)d.s.r=c;if(d.e.r<c)d.e.r=c;if(d.s.c>l)d.s.c=l;if(d.e.c<l)d.e.c=l;if(!k.length){l+=h;continue}var A={t:"s",v:k};if(t.raw||!k.trim().length||_=="s"){}else if(k==="TRUE")A={t:"b",v:true};else if(k==="FALSE")A={t:"b",v:false};else if(!isNaN(kr(k)))A={t:"n",v:kr(k)};else if(!isNaN(Er(k).getDate())){A={t:"d",v:mr(k)};if(!t.cellDates)A={t:"n",v:fr(A.v)};A.z=t.dateNF||X[14]}if(t.dense){if(!a[c])a[c]=[];a[c][l]=A}else a[Oa({r:c,c:l})]=A;l+=h}}a["!ref"]=Na(d);if(v.length)a["!merges"]=v;return a}function Ub(e,r,t,a){var n=e["!merges"]||[];var i=[];for(var s=r.s.c;s<=r.e.c;++s){var f=0,o=0;for(var c=0;c<n.length;++c){if(n[c].s.r>t||n[c].s.c>s)continue;if(n[c].e.r<t||n[c].e.c<s)continue;if(n[c].s.r<t||n[c].s.c<s){f=-1;break}f=n[c].e.r-n[c].s.r+1;o=n[c].e.c-n[c].s.c+1;break}if(f<0)continue;var l=Oa({r:t,c:s});var u=a.dense?(e[t]||[])[s]:e[l];var h=u&&u.v!=null&&(u.h||et(u.w||(Pa(u),u.w)||""))||"";var d={};if(f>1)d.rowspan=f;if(o>1)d.colspan=o;if(a.editable)h='<span contenteditable="true">'+h+"</span>";else if(u){d["data-t"]=u&&u.t||"z";if(u.v!=null)d["data-v"]=u.v;if(u.z!=null)d["data-z"]=u.z;if(u.l&&(u.l.Target||"#").charAt(0)!="#")h='<a href="'+u.l.Target+'">'+h+"</a>"}d.id=(a.id||"sjs")+"-"+l;i.push(kt("td",h,d))}var v="<tr>";return v+i.join("")+"</tr>"}var Bb='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>';var Wb="</body></html>";function Hb(e,r){var t=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return La(Mb(t[0],r),r);var a=Nw();t.forEach(function(e,t){Fw(a,Mb(e,r),"Sheet"+(t+1))});return a}function zb(e,r,t){var a=[];return a.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function Vb(e,r){var t=r||{};var a=t.header!=null?t.header:Bb;var n=t.footer!=null?t.footer:Wb;var i=[a];var s=Ia(e["!ref"]);t.dense=Array.isArray(e);i.push(zb(e,s,t));for(var f=s.s.r;f<=s.e.r;++f)i.push(Ub(e,s,f,t));i.push("</table>"+n);return i.join("")}function Gb(e,r,t){var a=t||{};if(m!=null)a.dense=m;var n=0,i=0;if(a.origin!=null){if(typeof a.origin=="number")n=a.origin;else{var s=typeof a.origin=="string"?Ra(a.origin):a.origin;n=s.r;i=s.c}}var f=r.getElementsByTagName("tr");var o=Math.min(a.sheetRows||1e7,f.length);var c={s:{r:0,c:0},e:{r:n,c:i}};if(e["!ref"]){var l=Ia(e["!ref"]);c.s.r=Math.min(c.s.r,l.s.r);c.s.c=Math.min(c.s.c,l.s.c);c.e.r=Math.max(c.e.r,l.e.r);c.e.c=Math.max(c.e.c,l.e.c);if(n==-1)c.e.r=n=l.e.r+1}var u=[],h=0;var d=e["!rows"]||(e["!rows"]=[]);var v=0,p=0,b=0,g=0,w=0,k=0;if(!e["!cols"])e["!cols"]=[];for(;v<f.length&&p<o;++v){var T=f[v];if($b(T)){if(a.display)continue;d[p]={hidden:true}}var E=T.children;for(b=g=0;b<E.length;++b){var y=E[b];if(a.display&&$b(y))continue;var S=y.hasAttribute("data-v")?y.getAttribute("data-v"):y.hasAttribute("v")?y.getAttribute("v"):ht(y.innerHTML);var _=y.getAttribute("data-z")||y.getAttribute("z");for(h=0;h<u.length;++h){var A=u[h];if(A.s.c==g+i&&A.s.r<p+n&&p+n<=A.e.r){g=A.e.c+1-i;h=-1}}k=+y.getAttribute("colspan")||1;if((w=+y.getAttribute("rowspan")||1)>1||k>1)u.push({s:{r:p+n,c:g+i},e:{r:p+n+(w||1)-1,c:g+i+(k||1)-1}});var x={t:"s",v:S};var C=y.getAttribute("data-t")||y.getAttribute("t")||"";if(S!=null){if(S.length==0)x.t=C||"z";else if(a.raw||S.trim().length==0||C=="s"){}else if(S==="TRUE")x={t:"b",v:true};else if(S==="FALSE")x={t:"b",v:false};else if(!isNaN(kr(S)))x={t:"n",v:kr(S)};else if(!isNaN(Er(S).getDate())){x={t:"d",v:mr(S)};if(!a.cellDates)x={t:"n",v:fr(x.v)};x.z=a.dateNF||X[14]}}if(x.z===undefined&&_!=null)x.z=_;var R="",O=y.getElementsByTagName("A");if(O&&O.length)for(var I=0;I<O.length;++I)if(O[I].hasAttribute("href")){R=O[I].getAttribute("href");if(R.charAt(0)!="#")break}if(R&&R.charAt(0)!="#")x.l={Target:R};if(a.dense){if(!e[p+n])e[p+n]=[];e[p+n][g+i]=x}else e[Oa({c:g+i,r:p+n})]=x;if(c.e.c<g+i)c.e.c=g+i;g+=k}++p}if(u.length)e["!merges"]=(e["!merges"]||[]).concat(u);c.e.r=Math.max(c.e.r,p-1+n);e["!ref"]=Na(c);if(p>=o)e["!fullref"]=Na((c.e.r=f.length-v+p-1+n,c));return e}function jb(e,r){var t=r||{};var a=t.dense?[]:{};return Gb(a,e,r)}function Xb(e,r){return La(jb(e,r),r)}function $b(e){var r="";var t=Yb(e);if(t)r=t(e).getPropertyValue("display");if(!r)r=e.style&&e.style.display;return r==="none"}function Yb(e){if(e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle==="function")return e.ownerDocument.defaultView.getComputedStyle;if(typeof getComputedStyle==="function")return getComputedStyle;return null}function Kb(e){var r=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(e,r){return Array(parseInt(r,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"\t").replace(/<text:line-break\/>/g,"\n");var t=Yr(r.replace(/<[^>]*>/g,""));return[t]}var Jb={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function qb(e,r){var t=r||{};if(m!=null&&t.dense==null)t.dense=m;var a=yt(e);var n=[],i;var s;var f={name:""},o="",c=0;var l;var u;var h={},d=[];var v=t.dense?[]:{};var p,b;var g={value:""};var w="",k=0,T;var E=[];var y=-1,S=-1,_={s:{r:1e6,c:1e7},e:{r:0,c:0}};var A=0;var x={};var C=[],R={},O=0,I=0;var N=[],F=1,D=1;var P=[];var L={Names:[]};var M={};var U=["",""];var B=[],W={};var H="",z=0;var V=false,G=false;var j=0;St.lastIndex=0;a=a.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");while(p=St.exec(a))switch(p[3]=p[3].replace(/_.*$/,"")){case"table":;case"":if(p[1]==="/"){if(_.e.c>=_.s.c&&_.e.r>=_.s.r)v["!ref"]=Na(_);else v["!ref"]="A1:A1";if(t.sheetRows>0&&t.sheetRows<=_.e.r){v["!fullref"]=v["!ref"];_.e.r=t.sheetRows-1;v["!ref"]=Na(_)}if(C.length)v["!merges"]=C;if(N.length)v["!rows"]=N;l.name=l[""]||l.name;if(typeof JSON!=="undefined")JSON.stringify(l);d.push(l.name);h[l.name]=v;G=false}else if(p[0].charAt(p[0].length-2)!=="/"){l=Gr(p[0],false);y=S=-1;_.s.r=_.s.c=1e7;_.e.r=_.e.c=0;v=t.dense?[]:{};C=[];N=[];G=true}break;case"table-row-group":if(p[1]==="/")--A;else++A;break;case"table-row":;case"":if(p[1]==="/"){y+=F;F=1;break}u=Gr(p[0],false);if(u[""])y=u[""]-1;else if(y==-1)y=0;F=+u["number-rows-repeated"]||1;if(F<10)for(j=0;j<F;++j)if(A>0)N[y+j]={level:A};S=-1;break;case"covered-table-cell":if(p[1]!=="/")++S;if(t.sheetStubs){if(t.dense){if(!v[y])v[y]=[];v[y][S]={t:"z"}}else v[Oa({r:y,c:S})]={t:"z"}}w="";E=[];break;case"table-cell":;case"":if(p[0].charAt(p[0].length-2)==="/"){++S;g=Gr(p[0],false);D=parseInt(g["number-columns-repeated"]||"1",10);b={t:"z",v:null};if(g.formula&&t.cellFormula!=false)b.f=Sd(Yr(g.formula));if((g[""]||g["value-type"])=="string"){b.t="s";b.v=Yr(g["string-value"]||"");if(t.dense){if(!v[y])v[y]=[];v[y][S]=b}else{v[Oa({r:y,c:S})]=b}}S+=D-1}else if(p[1]!=="/"){++S;w="";k=0;E=[];D=1;var X=F?y+F-1:y;if(S>_.e.c)_.e.c=S;if(S<_.s.c)_.s.c=S;if(y<_.s.r)_.s.r=y;if(X>_.e.r)_.e.r=X;g=Gr(p[0],false);B=[];W={};b={t:g[""]||g["value-type"],v:null};if(t.cellFormula){if(g.formula)g.formula=Yr(g.formula);if(g["number-matrix-columns-spanned"]&&g["number-matrix-rows-spanned"]){O=parseInt(g["number-matrix-rows-spanned"],10)||0;I=parseInt(g["number-matrix-columns-spanned"],10)||0;R={s:{r:y,c:S},e:{r:y+O-1,c:S+I-1}};b.F=Na(R);P.push([R,b.F])}if(g.formula)b.f=Sd(g.formula);else for(j=0;j<P.length;++j)if(y>=P[j][0].s.r&&y<=P[j][0].e.r)if(S>=P[j][0].s.c&&S<=P[j][0].e.c)b.F=P[j][1]}if(g["number-columns-spanned"]||g["number-rows-spanned"]){O=parseInt(g["number-rows-spanned"],10)||0;I=parseInt(g["number-columns-spanned"],10)||0;R={s:{r:y,c:S},e:{r:y+O-1,c:S+I-1}};C.push(R)}if(g["number-columns-repeated"])D=parseInt(g["number-columns-repeated"],10);switch(b.t){case"boolean":b.t="b";b.v=nt(g["boolean-value"]);break;case"float":b.t="n";b.v=parseFloat(g.value);break;case"percentage":b.t="n";b.v=parseFloat(g.value);break;case"currency":b.t="n";b.v=parseFloat(g.value);break;case"date":b.t="d";b.v=mr(g["date-value"]);if(!t.cellDates){b.t="n";b.v=fr(b.v)}b.z="m/d/yy";break;case"time":b.t="n";b.v=hr(g["time-value"])/86400;if(t.cellDates){b.t="d";b.v=ur(b.v)}b.z="HH:MM:SS";break;case"number":b.t="n";b.v=parseFloat(g[""]);break;default:if(b.t==="string"||b.t==="text"||!b.t){b.t="s";if(g["string-value"]!=null){w=Yr(g["string-value"]);E=[]}}else throw new Error("Unsupported value type "+b.t);}}else{V=false;if(b.t==="s"){b.v=w||"";if(E.length)b.R=E;V=k==0}if(M.Target)b.l=M;if(B.length>0){b.c=B;B=[]}if(w&&t.cellText!==false)b.w=w;if(V){b.t="z";delete b.v}if(!V||t.sheetStubs){if(!(t.sheetRows&&t.sheetRows<=y)){for(var $=0;$<F;++$){D=parseInt(g["number-columns-repeated"]||"1",10);if(t.dense){if(!v[y+$])v[y+$]=[];v[y+$][S]=$==0?b:gr(b);while(--D>0)v[y+$][S+D]=gr(b)}else{v[Oa({r:y+$,c:S})]=b;while(--D>0)v[Oa({r:y+$,c:S+D})]=gr(b)}if(_.e.c<=S)_.e.c=S}}}D=parseInt(g["number-columns-repeated"]||"1",10);S+=D-1;D=0;b={};w="";E=[]}M={};break;case"document":;case"document-content":;case"":;case"spreadsheet":;case"":;case"scripts":;case"styles":;case"font-face-decls":;case"master-styles":if(p[1]==="/"){if((i=n.pop())[0]!==p[3])throw"Bad state: "+i}else if(p[0].charAt(p[0].length-2)!=="/")n.push([p[3],true]);break;case"annotation":if(p[1]==="/"){if((i=n.pop())[0]!==p[3])throw"Bad state: "+i;W.t=w;if(E.length)W.R=E;W.a=H;B.push(W)}else if(p[0].charAt(p[0].length-2)!=="/"){n.push([p[3],false])}H="";z=0;w="";k=0;E=[];break;case"creator":if(p[1]==="/"){H=a.slice(z,p.index)}else z=p.index+p[0].length;break;case"meta":;case"":;case"settings":;case"config-item-set":;case"config-item-map-indexed":;case"config-item-map-entry":;case"config-item-map-named":;case"shapes":;case"frame":;case"text-box":;case"image":;case"data-pilot-tables":;case"list-style":;case"form":;case"dde-links":;case"event-listeners":;case"chart":if(p[1]==="/"){if((i=n.pop())[0]!==p[3])throw"Bad state: "+i}else if(p[0].charAt(p[0].length-2)!=="/")n.push([p[3],false]);w="";k=0;E=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":;case"percentage-style":;case"date-style":;case"time-style":if(p[1]==="/"){x[f.name]=o;if((i=n.pop())[0]!==p[3])throw"Bad state: "+i}else if(p[0].charAt(p[0].length-2)!=="/"){o="";f=Gr(p[0],false);n.push([p[3],true])}break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":;case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":;case"date-style":s=Gr(p[0],false);o+=Jb[p[3]][s.style==="long"?1:0];break;}break;case"fraction":break;case"day":;case"month":;case"year":;case"era":;case"day-of-week":;case"week-of-year":;case"quarter":;case"hours":;case"minutes":;case"seconds":;case"am-pm":switch(n[n.length-1][0]){case"time-style":;case"date-style":s=Gr(p[0],false);o+=Jb[p[3]][s.style==="long"?1:0];break;}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;else if(p[1]==="/")switch(n[n.length-1][0]){case"number-style":;case"date-style":;case"time-style":o+=a.slice(c,p.index);break;}else c=p.index+p[0].length;break;case"named-range":s=Gr(p[0],false);U=Ad(s["cell-range-address"]);var Y={Name:s.name,Ref:U[0]+"!"+U[1]};if(G)Y.Sheet=d.length;L.Names.push(Y);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":;case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":;case"":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(p[1]==="/"&&(!g||!g["string-value"])){var K=Kb(a.slice(k,p.index),T);w=(w.length>0?w+"\n":"")+K[0]}else{
T=Gr(p[0],false);k=p.index+p[0].length}break;case"s":break;case"database-range":if(p[1]==="/")break;try{U=Ad(Gr(p[0])["target-range-address"]);h[U[0]]["!autofilter"]={ref:U[1]}}catch(J){}break;case"date":break;case"object":break;case"title":;case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":;case"sender-lastname":;case"sender-initials":;case"sender-title":;case"sender-position":;case"sender-email":;case"sender-phone-private":;case"sender-fax":;case"sender-company":;case"sender-phone-work":;case"sender-street":;case"sender-city":;case"sender-postal-code":;case"sender-country":;case"sender-state-or-province":;case"author-name":;case"author-initials":;case"chapter":;case"file-name":;case"template-name":;case"sheet-name":break;case"event-listener":break;case"initial-creator":;case"creation-date":;case"print-date":;case"generator":;case"document-statistic":;case"user-defined":;case"editing-duration":;case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":;case"source-cell-range":;case"source-service":;case"data-pilot-field":;case"data-pilot-level":;case"data-pilot-subtotals":;case"data-pilot-subtotal":;case"data-pilot-members":;case"data-pilot-member":;case"data-pilot-display-info":;case"data-pilot-sort-info":;case"data-pilot-layout-info":;case"data-pilot-field-reference":;case"data-pilot-groups":;case"data-pilot-group":;case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":;case"dde-connection-decl":;case"dde-link":;case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){M=Gr(p[0],false);if(!M.href)break;M.Target=Yr(M.href);delete M.href;if(M.Target.charAt(0)=="#"&&M.Target.indexOf(".")>-1){U=Ad(M.Target.slice(1));M.Target="#"+U[0]+"!"+U[1]}else if(M.Target.match(/^\.\.[\\\/]/))M.Target=M.Target.slice(3)}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":;case"calcext:":;case"loext:":;case"ooo:":;case"chartooo:":;case"draw:":;case"style:":;case"chart:":;case"form:":;case"uof:":;case":":;case":":break;default:if(t.WTF)throw new Error(p);};}var q={Sheets:h,SheetNames:d,Workbook:L};if(t.bookSheets)delete q.Sheets;return q}function Zb(e,r){r=r||{};if(xr(e,"META-INF/manifest.xml"))ai(Rr(e,"META-INF/manifest.xml"),r);var t=Or(e,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var a=qb(ct(t),r);if(xr(e,"meta.xml"))a.Props=ui(Rr(e,"meta.xml"));return a}function Qb(e,r){return qb(e,r)}var eg=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join("");var r="<office:document-styles "+wt({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function t(){return Mr+r}}();var rg=function(){var e=function(e){return qr(e).replace(/  +/g,function(e){return'<text:s text:c="'+e.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")};var r="          <table:table-cell />\n";var t="          <table:covered-table-cell/>\n";var a=function(a,n,i){var s=[];s.push('      <table:table table:name="'+qr(n.SheetNames[i])+'" table:style-name="ta1">\n');var f=0,o=0,c=Ia(a["!ref"]||"A1");var l=a["!merges"]||[],u=0;var h=Array.isArray(a);if(a["!cols"]){for(o=0;o<=c.e.c;++o)s.push("        <table:table-column"+(a["!cols"][o]?' table:style-name="co'+a["!cols"][o].ods+'"':"")+"></table:table-column>\n")}var d="",v=a["!rows"]||[];for(f=0;f<c.s.r;++f){d=v[f]?' table:style-name="ro'+v[f].ods+'"':"";s.push("        <table:table-row"+d+"></table:table-row>\n")}for(;f<=c.e.r;++f){d=v[f]?' table:style-name="ro'+v[f].ods+'"':"";s.push("        <table:table-row"+d+">\n");for(o=0;o<c.s.c;++o)s.push(r);for(;o<=c.e.c;++o){var p=false,m={},b="";for(u=0;u!=l.length;++u){if(l[u].s.c>o)continue;if(l[u].s.r>f)continue;if(l[u].e.c<o)continue;if(l[u].e.r<f)continue;if(l[u].s.c!=o||l[u].s.r!=f)p=true;m["table:number-columns-spanned"]=l[u].e.c-l[u].s.c+1;m["table:number-rows-spanned"]=l[u].e.r-l[u].s.r+1;break}if(p){s.push(t);continue}var g=Oa({r:f,c:o}),w=h?(a[f]||[])[o]:a[g];if(w&&w.f){m["table:formula"]=qr(_d(w.f));if(w.F){if(w.F.slice(0,g.length)==g){var k=Ia(w.F);m["table:number-matrix-columns-spanned"]=k.e.c-k.s.c+1;m["table:number-matrix-rows-spanned"]=k.e.r-k.s.r+1}}}if(!w){s.push(r);continue}switch(w.t){case"b":b=w.v?"TRUE":"FALSE";m["office:value-type"]="boolean";m["office:boolean-value"]=w.v?"true":"false";break;case"n":b=w.w||String(w.v||0);m["office:value-type"]="float";m["office:value"]=w.v||0;break;case"s":;case"str":b=w.v==null?"":w.v;m["office:value-type"]="string";break;case"d":b=w.w||mr(w.v).toISOString();m["office:value-type"]="date";m["office:date-value"]=mr(w.v).toISOString();m["table:style-name"]="ce1";break;default:s.push(r);continue;}var T=e(b);if(w.l&&w.l.Target){var E=w.l.Target;E=E.charAt(0)=="#"?"#"+xd(E.slice(1)):E;if(E.charAt(0)!="#"&&!E.match(/^\w+:/))E="../"+E;T=kt("text:a",T,{"xlink:href":E.replace(/&/g,"&amp;")})}s.push("          "+kt("table:table-cell",kt("text:p",T,{}),m)+"\n")}s.push("        </table:table-row>\n")}s.push("      </table:table>\n");return s.join("")};var n=function(e,r){e.push(" <office:automatic-styles>\n");e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n');e.push('   <number:month number:style="long"/>\n');e.push("   <number:text>/</number:text>\n");e.push('   <number:day number:style="long"/>\n');e.push("   <number:text>/</number:text>\n");e.push("   <number:year/>\n");e.push("  </number:date-style>\n");var t=0;r.SheetNames.map(function(e){return r.Sheets[e]}).forEach(function(r){if(!r)return;if(r["!cols"]){for(var a=0;a<r["!cols"].length;++a)if(r["!cols"][a]){var n=r["!cols"][a];if(n.width==null&&n.wpx==null&&n.wch==null)continue;Ic(n);n.ods=t;var i=r["!cols"][a].wpx+"px";e.push('  <style:style style:name="co'+t+'" style:family="table-column">\n');e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+i+'"/>\n');e.push("  </style:style>\n");++t}}});var a=0;r.SheetNames.map(function(e){return r.Sheets[e]}).forEach(function(r){if(!r)return;if(r["!rows"]){for(var t=0;t<r["!rows"].length;++t)if(r["!rows"][t]){r["!rows"][t].ods=a;var n=r["!rows"][t].hpx+"px";e.push('  <style:style style:name="ro'+a+'" style:family="table-row">\n');e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+n+'"/>\n');e.push("  </style:style>\n");++a}}});e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n');e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n');e.push("  </style:style>\n");e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n');e.push(" </office:automatic-styles>\n")};return function i(e,r){var t=[Mr];var i=wt({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"});var s=wt({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});if(r.bookType=="fods"){t.push("<office:document"+i+s+">\n");t.push(oi().replace(/office:document-meta/g,"office:meta"))}else t.push("<office:document-content"+i+">\n");n(t,e);t.push("  <office:body>\n");t.push("    <office:spreadsheet>\n");for(var f=0;f!=e.SheetNames.length;++f)t.push(a(e.Sheets[e.SheetNames[f]],e,f,r));t.push("    </office:spreadsheet>\n");t.push("  </office:body>\n");if(r.bookType=="fods")t.push("</office:document>");else t.push("</office:document-content>");return t.join("")}}();function tg(e,r){if(r.bookType=="fods")return rg(e,r);var t=Dr();var a="";var n=[];var i=[];a="mimetype";Fr(t,a,"application/vnd.oasis.opendocument.spreadsheet");a="content.xml";Fr(t,a,rg(e,r));n.push([a,"text/xml"]);i.push([a,"ContentFile"]);a="styles.xml";Fr(t,a,eg(e,r));n.push([a,"text/xml"]);i.push([a,"StylesFile"]);a="meta.xml";Fr(t,a,Mr+oi());n.push([a,"text/xml"]);i.push([a,"MetadataFile"]);a="manifest.rdf";Fr(t,a,fi(i));n.push([a,"application/rdf+xml"]);a="META-INF/manifest.xml";Fr(t,a,ni(n));return t}function ag(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ng(e){return typeof TextDecoder!="undefined"?(new TextDecoder).decode(e):ct(x(e))}function ig(e){return typeof TextEncoder!="undefined"?(new TextEncoder).encode(e):_(lt(e))}function sg(e,r){e:for(var t=0;t<=e.length-r.length;++t){for(var a=0;a<r.length;++a)if(e[t+a]!=r[a])continue e;return true}return false}function fg(e){var r=e.reduce(function(e,r){return e+r.length},0);var t=new Uint8Array(r);var a=0;e.forEach(function(e){t.set(e,a);a+=e.length});return t}function og(e){e-=e>>1&1431655765;e=(e&858993459)+(e>>2&858993459);return(e+(e>>4)&252645135)*16843009>>>24}function cg(e,r){var t=(e[r+15]&127)<<7|e[r+14]>>1;var a=e[r+14]&1;for(var n=r+13;n>=r;--n)a=a*256+e[n];return(e[r+15]&128?-a:a)*Math.pow(10,t-6176)}function lg(e,r,t){var a=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20;var n=t/Math.pow(10,a-6176);e[r+15]|=a>>7;e[r+14]|=(a&127)<<1;for(var i=0;n>=1;++i,n/=256)e[r+i]=n&255;e[r+15]|=t>=0?0:128}function ug(e,r){var t=r?r[0]:0;var a=e[t]&127;e:if(e[t++]>=128){a|=(e[t]&127)<<7;if(e[t++]<128)break e;a|=(e[t]&127)<<14;if(e[t++]<128)break e;a|=(e[t]&127)<<21;if(e[t++]<128)break e;a+=(e[t]&127)*Math.pow(2,28);++t;if(e[t++]<128)break e;a+=(e[t]&127)*Math.pow(2,35);++t;if(e[t++]<128)break e;a+=(e[t]&127)*Math.pow(2,42);++t;if(e[t++]<128)break e}if(r)r[0]=t;return a}function hg(e){var r=new Uint8Array(7);r[0]=e&127;var t=1;e:if(e>127){r[t-1]|=128;r[t]=e>>7&127;++t;if(e<=16383)break e;r[t-1]|=128;r[t]=e>>14&127;++t;if(e<=2097151)break e;r[t-1]|=128;r[t]=e>>21&127;++t;if(e<=268435455)break e;r[t-1]|=128;r[t]=e/256>>>21&127;++t;if(e<=34359738367)break e;r[t-1]|=128;r[t]=e/65536>>>21&127;++t;if(e<=4398046511103)break e;r[t-1]|=128;r[t]=e/16777216>>>21&127;++t}return r.slice(0,t)}function dg(e){var r=0,t=e[r]&127;e:if(e[r++]>=128){t|=(e[r]&127)<<7;if(e[r++]<128)break e;t|=(e[r]&127)<<14;if(e[r++]<128)break e;t|=(e[r]&127)<<21;if(e[r++]<128)break e;t|=(e[r]&127)<<28}return t}function vg(e){var r=[],t=[0];while(t[0]<e.length){var a=t[0];var n=ug(e,t);var i=n&7;n=Math.floor(n/8);var s=0;var f;if(n==0)break;switch(i){case 0:{var o=t[0];while(e[t[0]++]>=128);f=e.slice(o,t[0])}break;case 5:s=4;f=e.slice(t[0],t[0]+s);t[0]+=s;break;case 1:s=8;f=e.slice(t[0],t[0]+s);t[0]+=s;break;case 2:s=ug(e,t);f=e.slice(t[0],t[0]+s);t[0]+=s;break;case 3:;case 4:;default:throw new Error("PB Type ".concat(i," for Field ").concat(n," at offset ").concat(a));}var c={data:f,type:i};if(r[n]==null)r[n]=[c];else r[n].push(c)}return r}function pg(e){var r=[];e.forEach(function(e,t){e.forEach(function(e){if(!e.data)return;r.push(hg(t*8+e.type));if(e.type==2)r.push(hg(e.data.length));r.push(e.data)})});return fg(r)}function mg(e,r){return(e==null?void 0:e.map(function(e){return r(e.data)}))||[]}function bg(e){var r;var t=[],a=[0];while(a[0]<e.length){var n=ug(e,a);var i=vg(e.slice(a[0],a[0]+n));a[0]+=n;var s={id:dg(i[1][0].data),messages:[]};i[2].forEach(function(r){var t=vg(r.data);var n=dg(t[3][0].data);s.messages.push({meta:t,data:e.slice(a[0],a[0]+n)});a[0]+=n});if((r=i[3])==null?void 0:r[0])s.merge=dg(i[3][0].data)>>>0>0;t.push(s)}return t}function gg(e){var r=[];e.forEach(function(e){var t=[];t[1]=[{data:hg(e.id),type:0}];t[2]=[];if(e.merge!=null)t[3]=[{data:hg(+!!e.merge),type:0}];var a=[];e.messages.forEach(function(e){a.push(e.data);e.meta[3]=[{type:0,data:hg(e.data.length)}];t[2].push({data:pg(e.meta),type:2})});var n=pg(t);r.push(hg(n.length));r.push(n);a.forEach(function(e){return r.push(e)})});return fg(r)}function wg(e,r){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));var t=[0];var a=ug(r,t);var n=[];while(t[0]<r.length){var i=r[t[0]]&3;if(i==0){var s=r[t[0]++]>>2;if(s<60)++s;else{var f=s-59;s=r[t[0]];if(f>1)s|=r[t[0]+1]<<8;if(f>2)s|=r[t[0]+2]<<16;if(f>3)s|=r[t[0]+3]<<24;s>>>=0;s++;t[0]+=f}n.push(r.slice(t[0],t[0]+s));t[0]+=s;continue}else{var o=0,c=0;if(i==1){c=(r[t[0]]>>2&7)+4;o=(r[t[0]++]&224)<<3;o|=r[t[0]++]}else{c=(r[t[0]++]>>2)+1;if(i==2){o=r[t[0]]|r[t[0]+1]<<8;t[0]+=2}else{o=(r[t[0]]|r[t[0]+1]<<8|r[t[0]+2]<<16|r[t[0]+3]<<24)>>>0;t[0]+=4}}n=[fg(n)];if(o==0)throw new Error("Invalid offset 0");if(o>n[0].length)throw new Error("Invalid offset beyond length");if(c>=o){n.push(n[0].slice(-o));c-=o;while(c>=n[n.length-1].length){n.push(n[n.length-1]);c-=n[n.length-1].length}}n.push(n[0].slice(-o,-o+c))}}var l=fg(n);if(l.length!=a)throw new Error("Unexpected length: ".concat(l.length," != ").concat(a));return l}function kg(e){var r=[];var t=0;while(t<e.length){var a=e[t++];var n=e[t]|e[t+1]<<8|e[t+2]<<16;t+=3;r.push(wg(a,e.slice(t,t+n)));t+=n}if(t!==e.length)throw new Error("data is not a valid framed stream!");return fg(r)}function Tg(e){var r=[];var t=0;while(t<e.length){var a=Math.min(e.length-t,268435455);var n=new Uint8Array(4);r.push(n);var i=hg(a);var s=i.length;r.push(i);if(a<=60){s++;r.push(new Uint8Array([a-1<<2]))}else if(a<=256){s+=2;r.push(new Uint8Array([240,a-1&255]))}else if(a<=65536){s+=3;r.push(new Uint8Array([244,a-1&255,a-1>>8&255]))}else if(a<=16777216){s+=4;r.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))}else if(a<=4294967296){s+=5;r.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))}r.push(e.slice(t,t+a));s+=a;n[0]=0;n[1]=s&255;n[2]=s>>8&255;n[3]=s>>16&255;t+=a}return fg(r)}function Eg(e,r,t,a){var n=ag(e);var i=n.getUint32(4,true);var s=(a>1?12:8)+og(i&(a>1?3470:398))*4;var f=-1,o=-1,c=NaN,l=new Date(2001,0,1);if(i&512){f=n.getUint32(s,true);s+=4}s+=og(i&(a>1?12288:4096))*4;if(i&16){o=n.getUint32(s,true);s+=4}if(i&32){c=n.getFloat64(s,true);s+=8}if(i&64){l.setTime(l.getTime()+n.getFloat64(s,true)*1e3);s+=8}var u;switch(e[2]){case 0:break;case 2:u={t:"n",v:c};break;case 3:u={t:"s",v:r[o]};break;case 5:u={t:"d",v:l};break;case 6:u={t:"b",v:c>0};break;case 7:u={t:"n",v:c/86400};break;case 8:u={t:"e",v:0};break;case 9:{if(f>-1)u={t:"s",v:t[f]};else if(o>-1)u={t:"s",v:r[o]};else if(!isNaN(c))u={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)));}return u}function yg(e,r,t){var a=ag(e);var n=a.getUint32(8,true);var i=12;var s=-1,f=-1,o=NaN,c=NaN,l=new Date(2001,0,1);if(n&1){o=cg(e,i);i+=16}if(n&2){c=a.getFloat64(i,true);i+=8}if(n&4){l.setTime(l.getTime()+a.getFloat64(i,true)*1e3);i+=8}if(n&8){f=a.getUint32(i,true);i+=4}if(n&16){s=a.getUint32(i,true);i+=4}var u;switch(e[1]){case 0:break;case 2:u={t:"n",v:o};break;case 3:u={t:"s",v:r[f]};break;case 5:u={t:"d",v:l};break;case 6:u={t:"b",v:c>0};break;case 7:u={t:"n",v:c/86400};break;case 8:u={t:"e",v:0};break;case 9:{if(s>-1)u={t:"s",v:t[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)))}break;case 10:u={t:"n",v:o};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)));}return u}function Sg(e,r){var t=new Uint8Array(32),a=ag(t),n=12,i=0;t[0]=5;switch(e.t){case"n":t[1]=2;lg(t,n,e.v);i|=1;n+=16;break;case"b":t[1]=6;a.setFloat64(n,e.v?1:0,true);i|=2;n+=8;break;case"s":if(r.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));t[1]=3;a.setUint32(n,r.indexOf(e.v),true);i|=8;n+=4;break;default:throw"unsupported cell type "+e.t;}a.setUint32(8,i,true);return t.slice(0,n)}function _g(e,r){var t=new Uint8Array(32),a=ag(t),n=12,i=0;t[0]=3;switch(e.t){case"n":t[2]=2;a.setFloat64(n,e.v,true);i|=32;n+=8;break;case"b":t[2]=6;a.setFloat64(n,e.v?1:0,true);i|=32;n+=8;break;case"s":if(r.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));t[2]=3;a.setUint32(n,r.indexOf(e.v),true);i|=16;n+=4;break;default:throw"unsupported cell type "+e.t;}a.setUint32(4,i,true);return t.slice(0,n)}function Ag(e,r,t){switch(e[0]){case 0:;case 1:;case 2:;case 3:return Eg(e,r,t,e[0]);case 5:return yg(e,r,t);default:throw new Error("Unsupported payload version ".concat(e[0]));}}function xg(e){var r=vg(e);return ug(r[1][0].data)}function Cg(e){var r=[];r[1]=[{type:0,data:hg(e)}];return pg(r)}function Rg(e,r){var t=vg(r.data);var a=dg(t[1][0].data);var n=t[3];var i=[];(n||[]).forEach(function(r){var t=vg(r.data);var n=dg(t[1][0].data)>>>0;switch(a){case 1:i[n]=ng(t[3][0].data);break;case 8:{var s=e[xg(t[9][0].data)][0];var f=vg(s.data);var o=e[xg(f[1][0].data)][0];var c=dg(o.meta[1][0].data);if(c!=2001)throw new Error("2000 unexpected reference to ".concat(c));var l=vg(o.data);i[n]=l[3].map(function(e){return ng(e.data)}).join("")}break;}});return i}function Og(e,r){var t,a,n,i,s,f,o,c,l,u,h,d,v,p;var m=vg(e);var b=dg(m[1][0].data)>>>0;var g=dg(m[2][0].data)>>>0;var w=((a=(t=m[8])==null?void 0:t[0])==null?void 0:a.data)&&dg(m[8][0].data)>0||false;var k,T;if(((i=(n=m[7])==null?void 0:n[0])==null?void 0:i.data)&&r!=0){k=(f=(s=m[7])==null?void 0:s[0])==null?void 0:f.data;T=(c=(o=m[6])==null?void 0:o[0])==null?void 0:c.data}else if(((u=(l=m[4])==null?void 0:l[0])==null?void 0:u.data)&&r!=1){k=(d=(h=m[4])==null?void 0:h[0])==null?void 0:d.data;T=(p=(v=m[3])==null?void 0:v[0])==null?void 0:p.data}else throw"NUMBERS Tile missing ".concat(r," cell storage");var E=w?4:1;var y=ag(k);var S=[];for(var _=0;_<k.length/2;++_){var A=y.getUint16(_*2,true);if(A<65535)S.push([_,A])}if(S.length!=g)throw"Expected ".concat(g," cells, found ").concat(S.length);var x=[];for(_=0;_<S.length-1;++_)x[S[_][0]]=T.subarray(S[_][1]*E,S[_+1][1]*E);if(S.length>=1)x[S[S.length-1][0]]=T.subarray(S[S.length-1][1]*E);return{R:b,cells:x}}function Ig(e,r){var t;var a=vg(r.data);var n=((t=a==null?void 0:a[7])==null?void 0:t[0])?dg(a[7][0].data)>>>0>0?1:0:-1;var i=mg(a[5],function(e){return Og(e,n)});return{nrows:dg(a[4][0].data)>>>0,data:i.reduce(function(e,r){if(!e[r.R])e[r.R]=[];r.cells.forEach(function(t,a){if(e[r.R][a])throw new Error("Duplicate cell r=".concat(r.R," c=").concat(a));e[r.R][a]=t});return e},[])}}function Ng(e,r,t){var a;var n=vg(r.data);var i={s:{r:0,c:0},e:{r:0,c:0}};i.e.r=(dg(n[6][0].data)>>>0)-1;if(i.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));i.e.c=(dg(n[7][0].data)>>>0)-1;if(i.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));t["!ref"]=Na(i);var s=vg(n[4][0].data);var f=Rg(e,e[xg(s[4][0].data)][0]);var o=((a=s[17])==null?void 0:a[0])?Rg(e,e[xg(s[17][0].data)][0]):[];var c=vg(s[3][0].data);var l=0;c[1].forEach(function(r){var a=vg(r.data);var n=e[xg(a[2][0].data)][0];var i=dg(n.meta[1][0].data);if(i!=6002)throw new Error("6001 unexpected reference to ".concat(i));var s=Ig(e,n);s.data.forEach(function(e,r){e.forEach(function(e,a){var n=Oa({r:l+r,c:a});var i=Ag(e,f,o);if(i)t[n]=i})});l+=s.nrows})}function Fg(e,r){var t=vg(r.data);var a={"!ref":"A1"};var n=e[xg(t[2][0].data)];var i=dg(n[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));Ng(e,n[0],a);return a}function Dg(e,r){var t;var a=vg(r.data);var n={name:((t=a[1])==null?void 0:t[0])?ng(a[1][0].data):"",sheets:[]};var i=mg(a[2],xg);i.forEach(function(r){e[r].forEach(function(r){var t=dg(r.meta[1][0].data);if(t==6e3)n.sheets.push(Fg(e,r))})});return n}function Pg(e,r){var t=Nw();var a=vg(r.data);var n=mg(a[1],xg);n.forEach(function(r){e[r].forEach(function(r){var a=dg(r.meta[1][0].data);if(a==2){var n=Dg(e,r);n.sheets.forEach(function(e,r){Fw(t,e,r==0?n.name:n.name+"_"+r,true)})}})});if(t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function Lg(e){var r,t,a,n;var i={},s=[];e.FullPaths.forEach(function(e){if(e.match(/\.iwpv2/))throw new Error("Unsupported password protection")});e.FileIndex.forEach(function(e){if(!e.name.match(/\.iwa$/))return;var r;try{r=kg(e.content)}catch(t){return console.log("?? "+e.content.length+" "+(t.message||t))}var a;try{a=bg(r)}catch(t){return console.log("## "+(t.message||t))}a.forEach(function(e){i[e.id]=e.messages;s.push(e.id)})});if(!s.length)throw new Error("File has no messages");var f=((n=(a=(t=(r=i==null?void 0:i[1])==null?void 0:r[0])==null?void 0:t.meta)==null?void 0:a[1])==null?void 0:n[0].data)&&dg(i[1][0].meta[1][0].data)==1&&i[1][0];if(!f)s.forEach(function(e){i[e].forEach(function(e){var r=dg(e.meta[1][0].data)>>>0;if(r==1){if(!f)f=e;else throw new Error("Document has multiple roots")}})});if(!f)throw new Error("Cannot find Document root");return Pg(i,f)}function Mg(e,r,t){var a,n,i,s;if(!((a=e[6])==null?void 0:a[0])||!((n=e[7])==null?void 0:n[0]))throw"Mutation only works on post-BNC storages!";var f=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&dg(e[8][0].data)>0||false;if(f)throw"Math only works with normal offsets";var o=0;var c=ag(e[7][0].data),l=0,u=[];var h=ag(e[4][0].data),d=0,v=[];for(var p=0;p<r.length;++p){if(r[p]==null){c.setUint16(p*2,65535,true);h.setUint16(p*2,65535);continue}c.setUint16(p*2,l,true);h.setUint16(p*2,d,true);var m,b;switch(typeof r[p]){case"string":m=Sg({t:"s",v:r[p]},t);b=_g({t:"s",v:r[p]},t);break;case"number":m=Sg({t:"n",v:r[p]},t);b=_g({t:"n",v:r[p]},t);break;case"boolean":m=Sg({t:"b",v:r[p]},t);b=_g({t:"b",v:r[p]},t);break;default:throw new Error("Unsupported value "+r[p]);}u.push(m);l+=m.length;v.push(b);d+=b.length;++o}e[2][0].data=hg(o);for(;p<e[7][0].data.length/2;++p){c.setUint16(p*2,65535,true);h.setUint16(p*2,65535,true)}e[6][0].data=fg(u);e[3][0].data=fg(v);return o}function Ug(e,r){if(!r||!r.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=e.Sheets[e.SheetNames[0]];if(e.SheetNames.length>1)console.error("The Numbers writer currently writes only the first table");var a=Ia(t["!ref"]);a.s.r=a.s.c=0;var n=false;if(a.e.c>9){n=true;a.e.c=9}if(a.e.r>49){n=true;a.e.r=49}if(n)console.error("The Numbers writer is currently limited to ".concat(Na(a)));var i=Ew(t,{range:a,header:1});var s=["~Sh33tJ5~"];i.forEach(function(e){return e.forEach(function(e){if(typeof e=="string")s.push(e)})});var f={};var o=[];var c=Ke.read(r.numbers,{type:"base64"});c.FileIndex.map(function(e,r){return[e,c.FullPaths[r]]}).forEach(function(e){var r=e[0],t=e[1];if(r.type!=2)return;if(!r.name.match(/\.iwa/))return;var a=r.content;var n=kg(a);var i=bg(n);i.forEach(function(e){o.push(e.id);f[e.id]={deps:[],location:t,type:dg(e.messages[0].meta[1][0].data)}})});o.sort(function(e,r){return e-r});var l=o.filter(function(e){return e>1}).map(function(e){return[e,hg(e)]});c.FileIndex.map(function(e,r){return[e,c.FullPaths[r]]}).forEach(function(e){var r=e[0],t=e[1];if(!r.name.match(/\.iwa/))return;var a=bg(kg(r.content));a.forEach(function(e){e.messages.forEach(function(r){l.forEach(function(r){if(e.messages.some(function(e){return dg(e.meta[1][0].data)!=11006&&sg(e.data,r[1])})){f[r[0]].deps.push(e.id)}})})})});function u(){for(var e=927262;e<2e6;++e)if(!f[e])return e;throw new Error("Too many messages")}var h=Ke.find(c,f[1].location);var d=bg(kg(h.content));var v;for(var p=0;p<d.length;++p){var m=d[p];if(m.id==1)v=m}var b=xg(vg(v.messages[0].data)[1][0].data);h=Ke.find(c,f[b].location);d=bg(kg(h.content));for(p=0;p<d.length;++p){m=d[p];if(m.id==b)v=m}b=xg(vg(v.messages[0].data)[2][0].data);h=Ke.find(c,f[b].location);d=bg(kg(h.content));for(p=0;p<d.length;++p){m=d[p];if(m.id==b)v=m}b=xg(vg(v.messages[0].data)[2][0].data);h=Ke.find(c,f[b].location);d=bg(kg(h.content));for(p=0;p<d.length;++p){m=d[p];if(m.id==b)v=m}var g=vg(v.messages[0].data);{g[6][0].data=hg(a.e.r+1);g[7][0].data=hg(a.e.c+1);var w=xg(g[46][0].data);var k=Ke.find(c,f[w].location);var T=bg(kg(k.content));{for(var E=0;E<T.length;++E){if(T[E].id==w)break}if(T[E].id!=w)throw"Bad ColumnRowUIDMapArchive";var y=vg(T[E].messages[0].data);y[1]=[];y[2]=[],y[3]=[];for(var S=0;S<=a.e.c;++S){var _=[];_[1]=_[2]=[{type:0,data:hg(S+420690)}];y[1].push({type:2,data:pg(_)});y[2].push({type:0,data:hg(S)});y[3].push({type:0,data:hg(S)})}y[4]=[];y[5]=[],y[6]=[];for(var A=0;A<=a.e.r;++A){_=[];_[1]=_[2]=[{type:0,data:hg(A+726270)}];y[4].push({type:2,data:pg(_)});y[5].push({type:0,data:hg(A)});y[6].push({type:0,data:hg(A)})}T[E].messages[0].data=pg(y)}k.content=Tg(gg(T));k.size=k.content.length;delete g[46];var x=vg(g[4][0].data);{x[7][0].data=hg(a.e.r+1);var C=vg(x[1][0].data);var R=xg(C[2][0].data);k=Ke.find(c,f[R].location);T=bg(kg(k.content));{if(T[0].id!=R)throw"Bad HeaderStorageBucket";var O=vg(T[0].messages[0].data);for(A=0;A<i.length;++A){var I=vg(O[2][0].data);I[1][0].data=hg(A);I[4][0].data=hg(i[A].length);O[2][A]={type:O[2][0].type,data:pg(I)}}T[0].messages[0].data=pg(O)}k.content=Tg(gg(T));k.size=k.content.length;var N=xg(x[2][0].data);k=Ke.find(c,f[N].location);T=bg(kg(k.content));{if(T[0].id!=N)throw"Bad HeaderStorageBucket";O=vg(T[0].messages[0].data);for(S=0;S<=a.e.c;++S){I=vg(O[2][0].data);I[1][0].data=hg(S);I[4][0].data=hg(a.e.r+1);O[2][S]={type:O[2][0].type,data:pg(I)}}T[0].messages[0].data=pg(O)}k.content=Tg(gg(T));k.size=k.content.length;var F=xg(x[4][0].data);(function(){var e=Ke.find(c,f[F].location);var r=bg(kg(e.content));var t;for(var a=0;a<r.length;++a){var n=r[a];if(n.id==F)t=n}var i=vg(t.messages[0].data);{i[3]=[];var o=[];s.forEach(function(e,r){o[1]=[{type:0,data:hg(r)}];o[2]=[{type:0,data:hg(1)}];o[3]=[{type:2,data:ig(e)}];i[3].push({type:2,data:pg(o)})})}t.messages[0].data=pg(i);var l=gg(r);var u=Tg(l);e.content=u;e.size=e.content.length})();var D=vg(x[3][0].data);{var P=D[1][0];delete D[2];var L=vg(P.data);{var M=xg(L[2][0].data);(function(){var e=Ke.find(c,f[M].location);var r=bg(kg(e.content));var t;for(var n=0;n<r.length;++n){var o=r[n];if(o.id==M)t=o}var l=vg(t.messages[0].data);{delete l[6];delete D[7];var u=new Uint8Array(l[5][0].data);l[5]=[];var h=0;for(var d=0;d<=a.e.r;++d){var v=vg(u);h+=Mg(v,i[d],s);v[1][0].data=hg(d);l[5].push({data:pg(v),type:2})}l[1]=[{type:0,data:hg(a.e.c+1)}];l[2]=[{type:0,data:hg(a.e.r+1)}];l[3]=[{type:0,data:hg(h)}];l[4]=[{type:0,data:hg(a.e.r+1)}]}t.messages[0].data=pg(l);var p=gg(r);var m=Tg(p);e.content=m;e.size=e.content.length})()}P.data=pg(L)}x[3][0].data=pg(D)}g[4][0].data=pg(x)}v.messages[0].data=pg(g);var U=gg(d);var B=Tg(U);h.content=B;h.size=h.content.length;return c}function Bg(e){return function r(t){for(var a=0;a!=e.length;++a){var n=e[a];if(t[n[0]]===undefined)t[n[0]]=n[1];if(n[2]==="n")t[n[0]]=Number(t[n[0]])}}}function Wg(e){Bg([["cellNF",false],["cellHTML",true],["cellFormula",true],["cellStyles",false],["cellText",true],["cellDates",false],["sheetStubs",false],["sheetRows",0,"n"],["bookDeps",false],["bookSheets",false],["bookProps",false],["bookFiles",false],["bookVBA",false],["password",""],["WTF",false]])(e)}function Hg(e){Bg([["cellDates",false],["bookSST",false],["bookType","xlsx"],["compression",false],["WTF",false]])(e)}function zg(e){if(qn.WS.indexOf(e)>-1)return"sheet";if(qn.CS&&e==qn.CS)return"chart";if(qn.DS&&e==qn.DS)return"dialog";if(qn.MS&&e==qn.MS)return"macro";return e&&e.length?e:"sheet"}function Vg(e,r){if(!e)return 0;try{e=r.map(function a(r){if(!r.id)r.id=r.strRelID;return[r.name,e["!id"][r.id].Target,zg(e["!id"][r.id].Type)]})}catch(t){return null}return!e||e.length===0?null:e}function Gg(e,r,t,a,n,i,s,f,o,c,l,u){try{i[a]=Qn(Or(e,t,true),r);var h=Rr(e,r);var d;switch(f){case"sheet":d=pm(h,r,n,o,i[a],c,l,u);break;case"chart":d=mm(h,r,n,o,i[a],c,l,u);if(!d||!d["!drawel"])break;var v=Lr(d["!drawel"].Target,r);var p=Zn(v);var m=tu(Or(e,v,true),Qn(Or(e,p,true),v));var b=Lr(m,v);var g=Zn(b);d=Pp(Or(e,b,true),b,o,Qn(Or(e,g,true),b),c,d);break;case"macro":d=bm(h,r,n,o,i[a],c,l,u);break;case"dialog":d=gm(h,r,n,o,i[a],c,l,u);break;default:throw new Error("Unrecognized sheet type "+f);}s[a]=d;var w=[];if(i&&i[a])rr(i[a]).forEach(function(t){var n="";if(i[a][t].Type==qn.CMNT){n=Lr(i[a][t].Target,r);var s=Em(Rr(e,n,true),n,o);if(!s||!s.length)return;iu(d,s,false)}if(i[a][t].Type==qn.TCMNT){n=Lr(i[a][t].Target,r);w=w.concat(ou(Rr(e,n,true),o))}});if(w&&w.length)iu(d,w,true,o.people||[])}catch(k){if(o.WTF)throw k}}function jg(e){return e.charAt(0)=="/"?e.slice(1):e}function Xg(e,r){ze();r=r||{};Wg(r);if(xr(e,"META-INF/manifest.xml"))return Zb(e,r);if(xr(e,"objectdata.xml"))return Zb(e,r);if(xr(e,"Index/Document.iwa")){if(typeof Uint8Array=="undefined")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Lg!="undefined"){if(e.FileIndex)return Lg(e);var t=Ke.utils.cfb_new();Nr(e).forEach(function(r){Fr(t,r,Ir(e,r))});return Lg(t)}throw new Error("Unsupported NUMBERS file")}if(!xr(e,"[Content_Types].xml")){if(xr(e,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");
if(xr(e,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");throw new Error("Unsupported ZIP file")}var a=Nr(e);var n=Kn(Or(e,"[Content_Types].xml"));var i=false;var s,f;if(n.workbooks.length===0){f="xl/workbook.xml";if(Rr(e,f,true))n.workbooks.push(f)}if(n.workbooks.length===0){f="xl/workbook.bin";if(!Rr(e,f,true))throw new Error("Could not find workbook");n.workbooks.push(f);i=true}if(n.workbooks[0].slice(-3)=="bin")i=true;var o={};var c={};if(!r.bookSheets&&!r.bookProps){Cd=[];if(n.sst)try{Cd=Tm(Rr(e,jg(n.sst)),n.sst,r)}catch(l){if(r.WTF)throw l}if(r.cellStyles&&n.themes.length)o=km(Or(e,n.themes[0].replace(/^\//,""),true)||"",n.themes[0],r);if(n.style)c=wm(Rr(e,jg(n.style)),n.style,o,r)}n.links.map(function(t){try{var a=Qn(Or(e,Zn(jg(t))),t);return Sm(Rr(e,jg(t)),a,t,r)}catch(n){}});var u=vm(Rr(e,jg(n.workbooks[0])),n.workbooks[0],r);var h={},d="";if(n.coreprops.length){d=Rr(e,jg(n.coreprops[0]),true);if(d)h=ui(d);if(n.extprops.length!==0){d=Rr(e,jg(n.extprops[0]),true);if(d)bi(d,h,r)}}var v={};if(!r.bookSheets||r.bookProps){if(n.custprops.length!==0){d=Or(e,jg(n.custprops[0]),true);if(d)v=ki(d,r)}}var p={};if(r.bookSheets||r.bookProps){if(u.Sheets)s=u.Sheets.map(function I(e){return e.name});else if(h.Worksheets&&h.SheetNames.length>0)s=h.SheetNames;if(r.bookProps){p.Props=h;p.Custprops=v}if(r.bookSheets&&typeof s!=="undefined")p.SheetNames=s;if(r.bookSheets?p.SheetNames:r.bookProps)return p}s={};var m={};if(r.bookDeps&&n.calcchain)m=ym(Rr(e,jg(n.calcchain)),n.calcchain,r);var b=0;var g={};var w,k;{var T=u.Sheets;h.Worksheets=T.length;h.SheetNames=[];for(var E=0;E!=T.length;++E){h.SheetNames[E]=T[E].name}}var y=i?"bin":"xml";var S=n.workbooks[0].lastIndexOf("/");var _=(n.workbooks[0].slice(0,S+1)+"_rels/"+n.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");if(!xr(e,_))_="xl/_rels/workbook."+y+".rels";var A=Qn(Or(e,_,true),_.replace(/_rels.*/,"s5s"));if((n.metadata||[]).length>=1){r.xlmeta=_m(Rr(e,jg(n.metadata[0])),n.metadata[0],r)}if((n.people||[]).length>=1){r.people=lu(Rr(e,jg(n.people[0])),r)}if(A)A=Vg(A,u.Sheets);var x=Rr(e,"xl/worksheets/sheet.xml",true)?1:0;e:for(b=0;b!=h.Worksheets;++b){var C="sheet";if(A&&A[b]){w="xl/"+A[b][1].replace(/[\/]?xl\//,"");if(!xr(e,w))w=A[b][1];if(!xr(e,w))w=_.replace(/_rels\/.*$/,"")+A[b][1];C=A[b][2]}else{w="xl/worksheets/sheet"+(b+1-x)+"."+y;w=w.replace(/sheet0\./,"sheet.")}k=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels");if(r&&r.sheets!=null)switch(typeof r.sheets){case"number":if(b!=r.sheets)continue e;break;case"string":if(h.SheetNames[b].toLowerCase()!=r.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(r.sheets)){var R=false;for(var O=0;O!=r.sheets.length;++O){if(typeof r.sheets[O]=="number"&&r.sheets[O]==b)R=1;if(typeof r.sheets[O]=="string"&&r.sheets[O].toLowerCase()==h.SheetNames[b].toLowerCase())R=1}if(!R)continue e};}Gg(e,w,k,h.SheetNames[b],b,g,s,C,r,u,o,c)}p={Directory:n,Workbook:u,Props:h,Custprops:v,Deps:m,Sheets:s,SheetNames:h.SheetNames,Strings:Cd,Styles:c,Themes:o,SSF:gr(X)};if(r&&r.bookFiles){if(e.files){p.keys=a;p.files=e.files}else{p.keys=[];p.files={};e.FullPaths.forEach(function(r,t){r=r.replace(/^Root Entry[\/]/,"");p.keys.push(r);p.files[r]=e.FileIndex[t]})}}if(r&&r.bookVBA){if(n.vba.length>0)p.vbaraw=Rr(e,jg(n.vba[0]),true);else if(n.defaults&&n.defaults.bin===gu)p.vbaraw=Rr(e,"xl/vbaProject.bin",true)}return p}function $g(e,r){var t=r||{};var a="Workbook",n=Ke.find(e,a);try{a="/!DataSpaces/Version";n=Ke.find(e,a);if(!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);Ko(n.content);a="/!DataSpaces/DataSpaceMap";n=Ke.find(e,a);if(!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var i=qo(n.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+a);a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace";n=Ke.find(e,a);if(!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var s=Zo(n.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+a);a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary";n=Ke.find(e,a);if(!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);ec(n.content)}catch(f){}a="/EncryptionInfo";n=Ke.find(e,a);if(!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var o=ac(n.content);a="/EncryptedPackage";n=Ke.find(e,a);if(!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(o[0]==4&&typeof decrypt_agile!=="undefined")return decrypt_agile(o[1],n.content,t.password||"",t);if(o[0]==2&&typeof decrypt_std76!=="undefined")return decrypt_std76(o[1],n.content,t.password||"",t);throw new Error("File is password-protected")}function Yg(e,r){if(r.bookType=="ods")return tg(e,r);if(r.bookType=="numbers")return Ug(e,r);if(r.bookType=="xlsb")return Kg(e,r);return Jg(e,r)}function Kg(e,r){au=1024;if(e&&!e.SSF){e.SSF=gr(X)}if(e&&e.SSF){ze();He(e.SSF);r.revssf=nr(e.SSF);r.revssf[e.SSF[65535]]=0;r.ssf=e.SSF}r.rels={};r.wbrels={};r.Strings=[];r.Strings.Count=0;r.Strings.Unique=0;if(Od)r.revStrings=new Map;else{r.revStrings={};r.revStrings.foo=[];delete r.revStrings.foo}var t=r.bookType=="xlsb"?"bin":"xml";var a=Tu.indexOf(r.bookType)>-1;var n=Yn();Hg(r=r||{});var i=Dr();var s="",f=0;r.cellXfs=[];Dd(r.cellXfs,{},{revssf:{General:0}});if(!e.Props)e.Props={};s="docProps/core.xml";Fr(i,s,di(e.Props,r));n.coreprops.push(s);ri(r.rels,2,s,qn.CORE_PROPS);s="docProps/app.xml";if(e.Props&&e.Props.SheetNames){}else if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{var o=[];for(var c=0;c<e.SheetNames.length;++c)if((e.Workbook.Sheets[c]||{}).Hidden!=2)o.push(e.SheetNames[c]);e.Props.SheetNames=o}e.Props.Worksheets=e.Props.SheetNames.length;Fr(i,s,gi(e.Props,r));n.extprops.push(s);ri(r.rels,3,s,qn.EXT_PROPS);if(e.Custprops!==e.Props&&rr(e.Custprops||{}).length>0){s="docProps/custom.xml";Fr(i,s,Ti(e.Custprops,r));n.custprops.push(s);ri(r.rels,4,s,qn.CUST_PROPS)}for(f=1;f<=e.SheetNames.length;++f){var l={"!id":{}};var u=e.Sheets[e.SheetNames[f-1]];var h=(u||{})["!type"]||"sheet";switch(h){case"chart":;default:s="xl/worksheets/sheet"+f+"."+t;Fr(i,s,xm(f-1,s,r,e,l));n.sheets.push(s);ri(r.wbrels,-1,"worksheets/sheet"+f+"."+t,qn.WS[0]);}if(u){var d=u["!comments"];var v=false;var p="";if(d&&d.length>0){p="xl/comments"+f+"."+t;Fr(i,p,Im(d,p,r));n.comments.push(p);ri(l,-1,"../comments"+f+"."+t,qn.CMNT);v=true}if(u["!legacy"]){if(v)Fr(i,"xl/drawings/vmlDrawing"+f+".vml",nu(f,u["!comments"]))}delete u["!comments"];delete u["!legacy"]}if(l["!id"].rId1)Fr(i,Zn(s),ei(l))}if(r.Strings!=null&&r.Strings.length>0){s="xl/sharedStrings."+t;Fr(i,s,Om(r.Strings,s,r));n.strs.push(s);ri(r.wbrels,-1,"sharedStrings."+t,qn.SST)}s="xl/workbook."+t;Fr(i,s,Am(e,s,r));n.workbooks.push(s);ri(r.rels,1,s,qn.WB);s="xl/theme/theme1.xml";Fr(i,s,Il(e.Themes,r));n.themes.push(s);ri(r.wbrels,-1,"theme/theme1.xml",qn.THEME);s="xl/styles."+t;Fr(i,s,Rm(e,s,r));n.styles.push(s);ri(r.wbrels,-1,"styles."+t,qn.STY);if(e.vbaraw&&a){s="xl/vbaProject.bin";Fr(i,s,e.vbaraw);n.vba.push(s);ri(r.wbrels,-1,"vbaProject.bin",qn.VBA)}s="xl/metadata."+t;Fr(i,s,Nm(s));n.metadata.push(s);ri(r.wbrels,-1,"metadata."+t,qn.XLMETA);Fr(i,"[Content_Types].xml",Jn(n,r));Fr(i,"_rels/.rels",ei(r.rels));Fr(i,"xl/_rels/workbook."+t+".rels",ei(r.wbrels));delete r.revssf;delete r.ssf;return i}function Jg(e,r){au=1024;if(e&&!e.SSF){e.SSF=gr(X)}if(e&&e.SSF){ze();He(e.SSF);r.revssf=nr(e.SSF);r.revssf[e.SSF[65535]]=0;r.ssf=e.SSF}r.rels={};r.wbrels={};r.Strings=[];r.Strings.Count=0;r.Strings.Unique=0;if(Od)r.revStrings=new Map;else{r.revStrings={};r.revStrings.foo=[];delete r.revStrings.foo}var t="xml";var a=Tu.indexOf(r.bookType)>-1;var n=Yn();Hg(r=r||{});var i=Dr();var s="",f=0;r.cellXfs=[];Dd(r.cellXfs,{},{revssf:{General:0}});if(!e.Props)e.Props={};s="docProps/core.xml";Fr(i,s,di(e.Props,r));n.coreprops.push(s);ri(r.rels,2,s,qn.CORE_PROPS);s="docProps/app.xml";if(e.Props&&e.Props.SheetNames){}else if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{var o=[];for(var c=0;c<e.SheetNames.length;++c)if((e.Workbook.Sheets[c]||{}).Hidden!=2)o.push(e.SheetNames[c]);e.Props.SheetNames=o}e.Props.Worksheets=e.Props.SheetNames.length;Fr(i,s,gi(e.Props,r));n.extprops.push(s);ri(r.rels,3,s,qn.EXT_PROPS);if(e.Custprops!==e.Props&&rr(e.Custprops||{}).length>0){s="docProps/custom.xml";Fr(i,s,Ti(e.Custprops,r));n.custprops.push(s);ri(r.rels,4,s,qn.CUST_PROPS)}var l=["SheetJ5"];r.tcid=0;for(f=1;f<=e.SheetNames.length;++f){var u={"!id":{}};var h=e.Sheets[e.SheetNames[f-1]];var d=(h||{})["!type"]||"sheet";switch(d){case"chart":;default:s="xl/worksheets/sheet"+f+"."+t;Fr(i,s,pv(f-1,r,e,u));n.sheets.push(s);ri(r.wbrels,-1,"worksheets/sheet"+f+"."+t,qn.WS[0]);}if(h){var v=h["!comments"];var p=false;var m="";if(v&&v.length>0){var b=false;v.forEach(function(e){e[1].forEach(function(e){if(e.T==true)b=true})});if(b){m="xl/threadedComments/threadedComment"+f+"."+t;Fr(i,m,cu(v,l,r));n.threadedcomments.push(m);ri(u,-1,"../threadedComments/threadedComment"+f+"."+t,qn.TCMNT)}m="xl/comments"+f+"."+t;Fr(i,m,fu(v,r));n.comments.push(m);ri(u,-1,"../comments"+f+"."+t,qn.CMNT);p=true}if(h["!legacy"]){if(p)Fr(i,"xl/drawings/vmlDrawing"+f+".vml",nu(f,h["!comments"]))}delete h["!comments"];delete h["!legacy"]}if(u["!id"].rId1)Fr(i,Zn(s),ei(u))}if(r.Strings!=null&&r.Strings.length>0){s="xl/sharedStrings."+t;Fr(i,s,Ho(r.Strings,r));n.strs.push(s);ri(r.wbrels,-1,"sharedStrings."+t,qn.SST)}s="xl/workbook."+t;Fr(i,s,rm(e,r));n.workbooks.push(s);ri(r.rels,1,s,qn.WB);s="xl/theme/theme1.xml";Fr(i,s,Il(e.Themes,r));n.themes.push(s);ri(r.wbrels,-1,"theme/theme1.xml",qn.THEME);s="xl/styles."+t;Fr(i,s,$c(e,r));n.styles.push(s);ri(r.wbrels,-1,"styles."+t,qn.STY);if(e.vbaraw&&a){s="xl/vbaProject.bin";Fr(i,s,e.vbaraw);n.vba.push(s);ri(r.wbrels,-1,"vbaProject.bin",qn.VBA)}s="xl/metadata."+t;Fr(i,s,Jl());n.metadata.push(s);ri(r.wbrels,-1,"metadata."+t,qn.XLMETA);if(l.length>1){s="xl/persons/person.xml";Fr(i,s,uu(l,r));n.people.push(s);ri(r.wbrels,-1,"persons/person.xml",qn.PEOPLE)}Fr(i,"[Content_Types].xml",Jn(n,r));Fr(i,"_rels/.rels",ei(r.rels));Fr(i,"xl/_rels/workbook."+t+".rels",ei(r.wbrels));delete r.revssf;delete r.ssf;return i}function qg(e,r){var t="";switch((r||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":t=k(e.slice(0,12));break;case"binary":t=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(r&&r.type||"undefined"));}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function Zg(e,r){if(Ke.find(e,"EncryptedPackage"))return $g(e,r);return vb(e,r)}function Qg(e,r){var t,a=e;var n=r||{};if(!n.type)n.type=T&&Buffer.isBuffer(e)?"buffer":"base64";t=Pr(a,n);return Xg(t,n)}function ew(e,r){var t=0;e:while(t<e.length)switch(e.charCodeAt(t)){case 10:;case 13:;case 32:++t;break;case 60:return jm(e.slice(t),r);default:break e;}return Ao.to_workbook(e,r)}function rw(e,r){var t="",a=qg(e,r);switch(r.type){case"base64":t=k(e);break;case"binary":t=e;break;case"buffer":t=e.toString("binary");break;case"array":t=br(e);break;default:throw new Error("Unrecognized type "+r.type);}if(a[0]==239&&a[1]==187&&a[2]==191)t=ct(t);r.type="binary";return ew(t,r)}function tw(e,r){var t=e;if(r.type=="base64")t=k(t);t=a.utils.decode(1200,t.slice(2),"str");r.type="binary";return ew(t,r)}function aw(e){return!e.match(/[^\x00-\x7F]/)?e:lt(e)}function nw(e,r,t,a){if(a){t.type="string";return Ao.to_workbook(e,t)}return Ao.to_workbook(r,t)}function iw(e,r){c();var t=r||{};if(typeof ArrayBuffer!=="undefined"&&e instanceof ArrayBuffer)return iw(new Uint8Array(e),(t=gr(t),t.type="array",t));if(typeof Uint8Array!=="undefined"&&e instanceof Uint8Array&&!t.type)t.type=typeof Deno!=="undefined"?"buffer":"array";var a=e,n=[0,0,0,0],i=false;if(t.cellStyles){t.cellNF=true;t.sheetStubs=true}Rd={};if(t.dateNF)Rd.dateNF=t.dateNF;if(!t.type)t.type=T&&Buffer.isBuffer(e)?"buffer":"base64";if(t.type=="file"){t.type=T?"buffer":"binary";a=er(e);if(typeof Uint8Array!=="undefined"&&!T)t.type="array"}if(t.type=="string"){i=true;t.type="binary";t.codepage=65001;a=aw(e)}if(t.type=="array"&&typeof Uint8Array!=="undefined"&&e instanceof Uint8Array&&typeof ArrayBuffer!=="undefined"){var s=new ArrayBuffer(3),f=new Uint8Array(s);f.foo="bar";if(!f.foo){t=gr(t);t.type="array";return iw(R(a),t)}}switch((n=qg(a,t))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return Zg(Ke.read(a,t),t);break;case 9:if(n[1]<=8)return vb(a,t);break;case 60:return jm(a,t);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return xo(a,t);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return So.to_workbook(a,t);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?Qg(a,t):nw(e,a,t,i);case 239:return n[3]===60?jm(a,t):nw(e,a,t,i);case 255:if(n[1]===254){return tw(a,t)}else if(n[1]===0&&n[2]===2&&n[3]===0)return Co.to_workbook(a,t);break;case 0:if(n[1]===0){if(n[2]>=2&&n[3]===0)return Co.to_workbook(a,t);if(n[2]===0&&(n[3]===8||n[3]===9))return Co.to_workbook(a,t)}break;case 3:;case 131:;case 139:;case 140:return Eo.to_workbook(a,t);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return mc.to_workbook(a,t);break;case 10:;case 13:;case 32:return rw(a,t);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break;}if(To.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31)return Eo.to_workbook(a,t);return nw(e,a,t,i)}function sw(e,r){var t=r||{};t.type="file";return iw(e,t)}function fw(e,r){switch(r.type){case"base64":;case"binary":break;case"buffer":;case"array":r.type="";break;case"file":return Qe(r.file,Ke.write(e,{type:T?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");default:throw new Error("Unrecognized type "+r.type);}return Ke.write(e,r)}function ow(e,r){var t=gr(r||{});var a=Yg(e,t);return lw(a,t)}function cw(e,r){var t=gr(r||{});var a=Jg(e,t);return lw(a,t)}function lw(e,r){var t={};var a=T?"nodebuffer":typeof Uint8Array!=="undefined"?"array":"string";if(r.compression)t.compression="DEFLATE";if(r.password)t.type=a;else switch(r.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");case"buffer":;case"file":t.type=a;break;default:throw new Error("Unrecognized type "+r.type);}var n=e.FullPaths?Ke.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!r.compression}):e.generate(t);if(typeof Deno!=="undefined"){if(typeof n=="string"){if(r.type=="binary"||r.type=="base64")return n;n=new Uint8Array(A(n))}}if(r.password&&typeof encrypt_agile!=="undefined")return fw(encrypt_agile(n,r.password),r);if(r.type==="file")return Qe(r.file,n);return r.type=="string"?ct(n):n}function uw(e,r){var t=r||{};var a=pb(e,t);return fw(a,t)}function hw(e,r,t){if(!t)t="";var a=t+e;switch(r.type){case"base64":return w(lt(a));case"binary":return lt(a);case"string":return e;case"file":return Qe(r.file,a,"utf8");case"buffer":{if(T)return E(a,"utf8");else if(typeof TextEncoder!=="undefined")return(new TextEncoder).encode(a);else return hw(a,{type:"binary"}).split("").map(function(e){return e.charCodeAt(0)})};}throw new Error("Unrecognized type "+r.type)}function dw(e,r){switch(r.type){case"base64":return w(e);case"binary":return e;case"string":return e;case"file":return Qe(r.file,e,"binary");case"buffer":{if(T)return E(e,"binary");else return e.split("").map(function(e){return e.charCodeAt(0)})};}throw new Error("Unrecognized type "+r.type)}function vw(e,r){switch(r.type){case"string":;case"base64":;case"binary":var t="";for(var a=0;a<e.length;++a)t+=String.fromCharCode(e[a]);return r.type=="base64"?w(t):r.type=="string"?ct(t):t;case"file":return Qe(r.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+r.type);}}function pw(e,r){c();Zp(e);var t=gr(r||{});if(t.cellStyles){t.cellNF=true;t.sheetStubs=true}if(t.type=="array"){t.type="binary";var a=pw(e,t);t.type="array";return A(a)}return cw(e,t)}function mw(e,r){c();Zp(e);var t=gr(r||{});if(t.cellStyles){t.cellNF=true;t.sheetStubs=true}if(t.type=="array"){t.type="binary";var a=mw(e,t);t.type="array";return A(a)}var n=0;if(t.sheet){if(typeof t.sheet=="number")n=t.sheet;else n=e.SheetNames.indexOf(t.sheet);if(!e.SheetNames[n])throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet)}switch(t.bookType||"xlsb"){case"xml":;case"xlml":return hw(nb(e,t),t);case"slk":;case"sylk":return hw(yo.from_sheet(e.Sheets[e.SheetNames[n]],t),t);case"htm":;case"html":return hw(Vb(e.Sheets[e.SheetNames[n]],t),t);case"txt":return dw(Aw(e.Sheets[e.SheetNames[n]],t),t);case"csv":return hw(_w(e.Sheets[e.SheetNames[n]],t),t,"\ufeff");case"dif":return hw(So.from_sheet(e.Sheets[e.SheetNames[n]],t),t);case"dbf":return vw(Eo.from_sheet(e.Sheets[e.SheetNames[n]],t),t);case"prn":return hw(Ao.from_sheet(e.Sheets[e.SheetNames[n]],t),t);case"rtf":return hw(mc.from_sheet(e.Sheets[e.SheetNames[n]],t),t);case"eth":return hw(_o.from_sheet(e.Sheets[e.SheetNames[n]],t),t);case"fods":return hw(tg(e,t),t);case"wk1":return vw(Co.sheet_to_wk1(e.Sheets[e.SheetNames[n]],t),t);case"wk3":return vw(Co.book_to_wk3(e,t),t);case"biff2":if(!t.biff)t.biff=2;case"biff3":if(!t.biff)t.biff=3;case"biff4":if(!t.biff)t.biff=4;return vw(Lb(e,t),t);case"biff5":if(!t.biff)t.biff=5;case"biff8":;case"xla":;case"xls":if(!t.biff)t.biff=8;return uw(e,t);case"xlsx":;case"xlsm":;case"xlam":;case"xlsb":;case"numbers":;case"ods":return ow(e,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|");}}function bw(e){if(e.bookType)return;var r={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"};var t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();if(t.match(/^\.[a-z]+$/))e.bookType=t.slice(1);e.bookType=r[e.bookType]||e.bookType}function gw(e,r,t){var a=t||{};a.type="file";a.file=r;bw(a);return mw(e,a)}function ww(e,r,t){var a=t||{};a.type="file";a.file=r;bw(a);return pw(e,a)}function kw(e,r,t,a){var n=t||{};n.type="file";n.file=e;bw(n);n.type="buffer";var i=a;if(!(i instanceof Function))i=t;return Je.writeFile(e,mw(r,n),i)}function Tw(e,r,t,a,n,i,s,f){var o=Ta(t);var c=f.defval,l=f.raw||!Object.prototype.hasOwnProperty.call(f,"raw");var u=true;var h=n===1?[]:{};if(n!==1){if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:t,enumerable:false})}catch(d){h.__rowNum__=t}else h.__rowNum__=t}if(!s||e[t])for(var v=r.s.c;v<=r.e.c;++v){var p=s?e[t][v]:e[a[v]+o];if(p===undefined||p.t===undefined){if(c===undefined)continue;if(i[v]!=null){h[i[v]]=c}continue}var m=p.v;switch(p.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":;case"d":;case"b":;case"n":break;default:throw new Error("unrecognized type "+p.t);}if(i[v]!=null){if(m==null){if(p.t=="e"&&m===null)h[i[v]]=null;else if(c!==undefined)h[i[v]]=c;else if(l&&m===null)h[i[v]]=null;else continue}else{h[i[v]]=l&&(p.t!=="n"||p.t==="n"&&f.rawNumbers!==false)?m:Pa(p,m,f)}if(m!=null)u=false}}return{row:h,isempty:u}}function Ew(e,r){if(e==null||e["!ref"]==null)return[];var t={t:"n",v:0},a=0,n=1,i=[],s=0,f="";var o={s:{r:0,c:0},e:{r:0,c:0}};var c=r||{};var l=c.range!=null?c.range:e["!ref"];if(c.header===1)a=1;else if(c.header==="A")a=2;else if(Array.isArray(c.header))a=3;else if(c.header==null)a=0;switch(typeof l){case"string":o=Fa(l);break;case"number":o=Fa(e["!ref"]);o.s.r=l;break;default:o=l;}if(a>0)n=0;var u=Ta(o.s.r);var h=[];var d=[];var v=0,p=0;var m=Array.isArray(e);var b=o.s.r,g=0;var w={};if(m&&!e[b])e[b]=[];var k=c.skipHidden&&e["!cols"]||[];var T=c.skipHidden&&e["!rows"]||[];for(g=o.s.c;g<=o.e.c;++g){if((k[g]||{}).hidden)continue;h[g]=_a(g);t=m?e[b][g]:e[h[g]+u];switch(a){case 1:i[g]=g-o.s.c;break;case 2:i[g]=h[g];break;case 3:i[g]=c.header[g-o.s.c];break;default:if(t==null)t={w:"__EMPTY",t:"s"};f=s=Pa(t,null,c);p=w[s]||0;if(!p)w[s]=1;else{do{f=s+"_"+p++}while(w[f]);w[s]=p;w[f]=1}i[g]=f;}}for(b=o.s.r+n;b<=o.e.r;++b){if((T[b]||{}).hidden)continue;var E=Tw(e,o,b,h,a,i,m,c);if(E.isempty===false||(a===1?c.blankrows!==false:!!c.blankrows))d[v++]=E.row}d.length=v;return d}var yw=/"/g;function Sw(e,r,t,a,n,i,s,f){var o=true;var c=[],l="",u=Ta(t);for(var h=r.s.c;h<=r.e.c;++h){if(!a[h])continue;var d=f.dense?(e[t]||[])[h]:e[a[h]+u];if(d==null)l="";else if(d.v!=null){o=false;l=""+(f.rawNumbers&&d.t=="n"?d.v:Pa(d,null,f));for(var v=0,p=0;v!==l.length;++v)if((p=l.charCodeAt(v))===n||p===i||p===34||f.forceQuotes){l='"'+l.replace(yw,'""')+'"';break}if(l=="ID")l='"ID"'}else if(d.f!=null&&!d.F){o=false;l="="+d.f;if(l.indexOf(",")>=0)l='"'+l.replace(yw,'""')+'"'}else l="";c.push(l)}if(f.blankrows===false&&o)return null;return c.join(s)}function _w(e,r){var t=[];var a=r==null?{}:r;if(e==null||e["!ref"]==null)return"";var n=Fa(e["!ref"]);var i=a.FS!==undefined?a.FS:",",s=i.charCodeAt(0);var f=a.RS!==undefined?a.RS:"\n",o=f.charCodeAt(0);var c=new RegExp((i=="|"?"\\|":i)+"+$");var l="",u=[];a.dense=Array.isArray(e);var h=a.skipHidden&&e["!cols"]||[];var d=a.skipHidden&&e["!rows"]||[];for(var v=n.s.c;v<=n.e.c;++v)if(!(h[v]||{}).hidden)u[v]=_a(v);var p=0;for(var m=n.s.r;m<=n.e.r;++m){if((d[m]||{}).hidden)continue;l=Sw(e,n,m,u,s,o,i,a);if(l==null){continue}if(a.strip)l=l.replace(c,"");if(l||a.blankrows!==false)t.push((p++?f:"")+l)}delete a.dense;return t.join("")}function Aw(e,r){if(!r)r={};r.FS="\t";r.RS="\n";var t=_w(e,r);if(typeof a=="undefined"||r.type=="string")return t;var n=a.utils.encode(1200,t,"str");return String.fromCharCode(255)+String.fromCharCode(254)+n}function xw(e){var r="",t,a="";if(e==null||e["!ref"]==null)return[];var n=Fa(e["!ref"]),i="",s=[],f;var o=[];var c=Array.isArray(e);for(f=n.s.c;f<=n.e.c;++f)s[f]=_a(f);for(var l=n.s.r;l<=n.e.r;++l){i=Ta(l);for(f=n.s.c;f<=n.e.c;++f){r=s[f]+i;t=c?(e[l]||[])[f]:e[r];a="";if(t===undefined)continue;else if(t.F!=null){r=t.F;if(!t.f)continue;a=t.f;if(r.indexOf(":")==-1)r=r+":"+r}if(t.f!=null)a=t.f;else if(t.t=="z")continue;else if(t.t=="n"&&t.v!=null)a=""+t.v;else if(t.t=="b")a=t.v?"TRUE":"FALSE";else if(t.w!==undefined)a="'"+t.w;else if(t.v===undefined)continue;else if(t.t=="s")a="'"+t.v;else a=""+t.v;o[o.length]=r+"="+a}}return o}function Cw(e,r,t){var a=t||{};var n=+!a.skipHeader;var i=e||{};var s=0,f=0;if(i&&a.origin!=null){if(typeof a.origin=="number")s=a.origin;else{var o=typeof a.origin=="string"?Ra(a.origin):a.origin;s=o.r;f=o.c}}var c;var l={s:{c:0,r:0},e:{c:f,r:s+r.length-1+n}};if(i["!ref"]){var u=Fa(i["!ref"]);l.e.c=Math.max(l.e.c,u.e.c);l.e.r=Math.max(l.e.r,u.e.r);if(s==-1){s=u.e.r+1;l.e.r=s+r.length-1+n}}else{if(s==-1){s=0;l.e.r=r.length-1+n}}var h=a.header||[],d=0;r.forEach(function(e,r){rr(e).forEach(function(t){if((d=h.indexOf(t))==-1)h[d=h.length]=t;var o=e[t];var l="z";var u="";var v=Oa({c:f+d,r:s+r+n});c=Ow(i,v);if(o&&typeof o==="object"&&!(o instanceof Date)){i[v]=o}else{if(typeof o=="number")l="n";else if(typeof o=="boolean")l="b";else if(typeof o=="string")l="s";else if(o instanceof Date){l="d";if(!a.cellDates){l="n";o=fr(o)}u=a.dateNF||X[14]}else if(o===null&&a.nullError){l="e";o=0}if(!c)i[v]=c={t:l,v:o};else{c.t=l;c.v=o;delete c.w;delete c.R;if(u)c.z=u}if(u)c.z=u}})});l.e.c=Math.max(l.e.c,f+h.length-1);var v=Ta(s);if(n)for(d=0;d<h.length;++d)i[_a(d+f)+v]={t:"s",v:h[d]};i["!ref"]=Na(l);return i}function Rw(e,r){return Cw(null,e,r)}function Ow(e,r,t){if(typeof r=="string"){if(Array.isArray(e)){var a=Ra(r);if(!e[a.r])e[a.r]=[];return e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[r]||(e[r]={t:"z"})}if(typeof r!="number")return Ow(e,Oa(r));return Ow(e,Oa({r:r,c:t||0}))}function Iw(e,r){if(typeof r=="number"){if(r>=0&&e.SheetNames.length>r)return r;throw new Error("Cannot find sheet # "+r)}else if(typeof r=="string"){var t=e.SheetNames.indexOf(r);if(t>-1)return t;throw new Error("Cannot find sheet name |"+r+"|")}else throw new Error("Cannot find sheet |"+r+"|")}function Nw(){return{SheetNames:[],Sheets:{}}}function Fw(e,r,t,a){var n=1;if(!t)for(;n<=65535;++n,t=undefined)if(e.SheetNames.indexOf(t="Sheet"+n)==-1)break;if(!t||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(t)>=0){var i=t.match(/(^.*?)(\d+)$/);n=i&&+i[2]||0;var s=i&&i[1]||t;for(++n;n<=65535;++n)if(e.SheetNames.indexOf(t=s+n)==-1)break}Jp(t);if(e.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");e.SheetNames.push(t);e.Sheets[t]=r;return t}function Dw(e,r,t){if(!e.Workbook)e.Workbook={};if(!e.Workbook.Sheets)e.Workbook.Sheets=[];var a=Iw(e,r);if(!e.Workbook.Sheets[a])e.Workbook.Sheets[a]={};switch(t){case 0:;case 1:;case 2:break;default:throw new Error("Bad sheet visibility setting "+t);}e.Workbook.Sheets[a].Hidden=t}function Pw(e,r){e.z=r;return e}function Lw(e,r,t){if(!r){delete e.l}else{e.l={Target:r};if(t)e.l.Tooltip=t}return e}function Mw(e,r,t){return Lw(e,"#"+r,t)}function Uw(e,r,t){if(!e.c)e.c=[];e.c.push({t:r,a:t||"SheetJS"})}function Bw(e,r,t,a){var n=typeof r!="string"?r:Fa(r);var i=typeof r=="string"?r:Na(r);for(var s=n.s.r;s<=n.e.r;++s)for(var f=n.s.c;f<=n.e.c;++f){var o=Ow(e,s,f);o.t="n";o.F=i;delete o.v;if(s==n.s.r&&f==n.s.c){o.f=t;if(a)o.D=true}}return e}var Ww={encode_col:_a,encode_row:Ta,encode_cell:Oa,encode_range:Na,decode_col:Sa,decode_row:ka,split_cell:Ca,decode_cell:Ra,decode_range:Ia,format_cell:Pa,sheet_add_aoa:Ma,sheet_add_json:Cw,sheet_add_dom:Gb,aoa_to_sheet:Ua,json_to_sheet:Rw,table_to_sheet:jb,table_to_book:Xb,sheet_to_csv:_w,sheet_to_txt:Aw,sheet_to_json:Ew,sheet_to_html:Vb,sheet_to_formulae:xw,sheet_to_row_object_array:Ew,sheet_get_cell:Ow,book_new:Nw,book_append_sheet:Fw,book_set_sheet_visibility:Dw,cell_set_number_format:Pw,cell_set_hyperlink:Lw,cell_set_internal_link:Mw,cell_add_comment:Uw,sheet_set_array_formula:Bw,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};var Hw;function zw(e){Hw=e}function Vw(e,r){var t=Hw();var a=r==null?{}:r;if(e==null||e["!ref"]==null){t.push(null);return t}var n=Fa(e["!ref"]);var i=a.FS!==undefined?a.FS:",",s=i.charCodeAt(0);var f=a.RS!==undefined?a.RS:"\n",o=f.charCodeAt(0);var c=new RegExp((i=="|"?"\\|":i)+"+$");var l="",u=[];a.dense=Array.isArray(e);var h=a.skipHidden&&e["!cols"]||[];var d=a.skipHidden&&e["!rows"]||[];for(var v=n.s.c;v<=n.e.c;++v)if(!(h[v]||{}).hidden)u[v]=_a(v);var p=n.s.r;var m=false,b=0;t._read=function(){if(!m){m=true;return t.push("\ufeff")}while(p<=n.e.r){++p;if((d[p-1]||{}).hidden)continue;l=Sw(e,n,p-1,u,s,o,i,a);if(l!=null){if(a.strip)l=l.replace(c,"");if(l||a.blankrows!==false)return t.push((b++?f:"")+l)}}return t.push(null)};return t}function Gw(e,r){var t=Hw();var a=r||{};var n=a.header!=null?a.header:Bb;var i=a.footer!=null?a.footer:Wb;t.push(n);var s=Ia(e["!ref"]);a.dense=Array.isArray(e);t.push(zb(e,s,a));var f=s.s.r;var o=false;t._read=function(){if(f>s.e.r){if(!o){o=true;t.push("</table>"+i)}return t.push(null)}while(f<=s.e.r){t.push(Ub(e,s,f,a));++f;break}};return t}function jw(e,r){var t=Hw({objectMode:true});if(e==null||e["!ref"]==null){t.push(null);return t}var a={t:"n",v:0},n=0,i=1,s=[],f=0,o="";var c={s:{r:0,c:0},e:{r:0,c:0}};var l=r||{};var u=l.range!=null?l.range:e["!ref"];if(l.header===1)n=1;else if(l.header==="A")n=2;else if(Array.isArray(l.header))n=3;switch(typeof u){case"string":c=Fa(u);break;case"number":c=Fa(e["!ref"]);c.s.r=u;break;default:c=u;}if(n>0)i=0;var h=Ta(c.s.r);var d=[];var v=0;var p=Array.isArray(e);var m=c.s.r,b=0;var g={};if(p&&!e[m])e[m]=[];var w=l.skipHidden&&e["!cols"]||[];var k=l.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b){if((w[b]||{}).hidden)continue;d[b]=_a(b);a=p?e[m][b]:e[d[b]+h];switch(n){case 1:s[b]=b-c.s.c;break;case 2:s[b]=d[b];break;case 3:s[b]=l.header[b-c.s.c];break;default:if(a==null)a={w:"__EMPTY",t:"s"};o=f=Pa(a,null,l);v=g[f]||0;if(!v)g[f]=1;else{do{o=f+"_"+v++}while(g[o]);g[f]=v;g[o]=1}s[b]=o;}}m=c.s.r+i;t._read=function(){while(m<=c.e.r){if((k[m-1]||{}).hidden)continue;var r=Tw(e,c,m,d,n,s,p,l);++m;if(r.isempty===false||(n===1?l.blankrows!==false:!!l.blankrows)){t.push(r.row);return}}return t.push(null)};return t}var Xw={to_json:jw,to_html:Gw,to_csv:Vw,set_readable:zw};if(typeof vb!=="undefined")e.parse_xlscfb=vb;e.parse_zip=Xg;e.read=iw;e.readFile=sw;e.readFileSync=sw;e.write=mw;e.writeFile=gw;e.writeFileSync=gw;e.writeFileAsync=kw;e.utils=Ww;e.writeXLSX=pw;e.writeFileXLSX=ww;e.SSF=Ve;if(typeof Xw!=="undefined")e.stream=Xw;if(typeof Ke!=="undefined")e.CFB=Ke;if(typeof require!=="undefined"){var $w=undefined;if(($w||{}).Readable)zw($w.Readable)}}if(typeof exports!=="undefined")make_xlsx_lib(exports);else if(typeof module!=="undefined"&&module.exports)make_xlsx_lib(module.exports);else if(typeof define==="function"&&define.amd)define("xlsx",function(){if(!XLSX.version)make_xlsx_lib(XLSX);return XLSX});else make_xlsx_lib(XLSX);if(typeof window!=="undefined"&&!window.XLSX)try{window.XLSX=XLSX}catch(e){}

(function(a,b){if("function"==typeof define&&define.amd)define([],b);else if("undefined"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){"use strict";function b(a,b){return"undefined"==typeof b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error("could not download file")},d.send()}function d(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(c){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement("a");g=g||b.name||"download",j.download=g,j.rel="noopener","string"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target="_blank")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:"msSaveOrOpenBlob"in navigator?function(f,g,h){if(g=g||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement("a");i.href=f,i.target="_blank",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return c(b,d,e);var h="application/octet-stream"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&"undefined"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,"undefined"!=typeof module&&(module.exports=g)});

'use strict';

(function (factory) {
  if (typeof module === 'object' && typeof module.exports === 'object') {
    factory(require('jquery'), window, document);
  } else {
    factory(jQuery, window, document);
  }
}(function ($, window, document, undefined) {
  var OrgChart = function (elem, opts) {
    this.$chartContainer = $(elem);
    this.opts = opts;
    this.defaultOptions = {
      'icons': {
        'theme': 'oci',
        'parentNode': 'oci-menu',
        'expandToUp': 'oci-chevron-up',
        'collapseToDown': 'oci-chevron-down',
        'collapseToLeft': 'oci-chevron-left',
        'expandToRight': 'oci-chevron-right',
        'backToCompact': 'oci-corner-top-left',
        'backToLoose': 'oci-corner-bottom-right',
        'collapsed': 'oci-plus-square',
        'expanded': 'oci-minus-square',
        'spinner': 'oci-spinner'
      },
      'nodeTitle': 'name',
      'nodeId': 'id',
      'toggleSiblingsResp': false,
      'visibleLevel': 999,
      'chartClass': '',
      'exportButton': false,
      'exportButtonName': 'Export',
      'exportFilename': 'OrgChart',
      'exportFileextension': 'png',
      'draggable': false,
      'direction': 't2b',
      'pan': false,
      'zoom': false,
      'zoominLimit': 7,
      'zoomoutLimit': 0.5
    };
  };
  OrgChart.prototype = {
    init: function (opts) {
      var that = this;
      this.options = $.extend({}, this.defaultOptions, this.opts, opts);
      var $chartContainer = this.$chartContainer;
      if (this.$chart) {
        this.$chart.remove();
      }
      var data = this.options.data;
      var $chart = this.$chart = $('<div>', {
        'data': { 'options': this.options },
        'class': 'orgchart' + (this.options.chartClass !== '' ? ' ' + this.options.chartClass : '') + (this.options.direction !== 't2b' ? ' ' + this.options.direction : ''),
        'click': function(event) {
          if (!$(event.target).closest('.node').length) {
            $chart.find('.node.focused').removeClass('focused');
          }
        }
      });
      if (typeof MutationObserver !== 'undefined') {
        this.triggerInitEvent();
      }
      var $root = $chart.append($('<ul class="nodes"><li class="hierarchy"></li></ul>')).find('.hierarchy');

        if (data instanceof $) { 
          this.buildHierarchy($root, this.buildJsonDS(data.children()), 0, this.options);
        } else { 
          if (data.relationship) {
            this.buildHierarchy($root, data);
          } else {
            this.buildHierarchy($root, this.attachRel(data, '00'));
          }
        }

      $chartContainer.append($chart);

      if (this.options.exportButton && !$('.oc-export-btn').length) {
        this.attachExportButton();
      }

      if (this.options.pan) {
        this.bindPan();
      }

      if (this.options.zoom) {
        this.bindZoom();
      }

      return this;
    },
    handleCompactNodes: function () {
      this.$chart.find('.node.compact')
        .each((index, node) => {
          $(node).addClass($(node).parents('.compact').length % 2 === 0 ? 'even' : 'odd');
        }); 
    },
    triggerInitEvent: function () {
      var that = this;
      var mo = new MutationObserver(function (mutations) {
        mo.disconnect();
        initTime:
        for (var i = 0; i < mutations.length; i++) {
          for (var j = 0; j < mutations[i].addedNodes.length; j++) {
            if (mutations[i].addedNodes[j].classList.contains('orgchart')) {
              that.handleCompactNodes();
              if (that.options.initCompleted && typeof that.options.initCompleted === 'function') {
                that.options.initCompleted(that.$chart);
              }
              var initEvent = $.Event('init.orgchart');
              that.$chart.trigger(initEvent);
              break initTime;
            }
          }
        }
      });
      mo.observe(this.$chartContainer[0], { childList: true });
    },
    triggerShowEvent: function ($target, rel) {
      var initEvent = $.Event('show-' + rel + '.orgchart');
      $target.trigger(initEvent);
    },
    triggerHideEvent: function ($target, rel) {
      var initEvent = $.Event('hide-' + rel + '.orgchart');
      $target.trigger(initEvent);
    },
    attachExportButton: function () {
      var that = this;
      var $exportBtn = $('<button>', {
        'class': 'oc-export-btn',
        'text': this.options.exportButtonName,
        'click': function(e) {
          e.preventDefault();
          that.export();
        }
      });
      this.$chartContainer.after($exportBtn);
    },
    setOptions: function (opts, val) {
      if (typeof opts === 'string') {
        if (opts === 'pan') {
          if (val) {
            this.bindPan();
          } else {
            this.unbindPan();
          }
        }
        if (opts === 'zoom') {
          if (val) {
            this.bindZoom();
          } else {
            this.unbindZoom();
          }
        }
      }
      if (typeof opts === 'object') {
        if (opts.data) {
          this.init(opts);
        } else {
          if (typeof opts.pan !== 'undefined') {
            if (opts.pan) {
              this.bindPan();
            } else {
              this.unbindPan();
            }
          }
          if (typeof opts.zoom !== 'undefined') {
            if (opts.zoom) {
              this.bindZoom();
            } else {
              this.unbindZoom();
            }
          }
        }
      }

      return this;
    },
    panStartHandler: function (e) {
      var $chart = $(e.delegateTarget);
      if ($(e.target).closest('.node').length || (e.touches && e.touches.length > 1)) {
        $chart.data('panning', false);
        return;
      } else {
        $chart.css('cursor', 'move').data('panning', true);
      }
      var lastX = 0;
      var lastY = 0;
      var lastTf = $chart.css('transform');
      if (lastTf !== 'none') {
        var temp = lastTf.split(',');
        if (lastTf.indexOf('3d') === -1) {
          lastX = parseInt(temp[4]);
          lastY = parseInt(temp[5]);
        } else {
          lastX = parseInt(temp[12]);
          lastY = parseInt(temp[13]);
        }
      }
      var startX = 0;
      var startY = 0;
      if (!e.targetTouches) { 
        startX = e.pageX - lastX;
        startY = e.pageY - lastY;
      } else if (e.targetTouches.length === 1) { 
        startX = e.targetTouches[0].pageX - lastX;
        startY = e.targetTouches[0].pageY - lastY;
      } else if (e.targetTouches.length > 1) {
        return;
      }
      $chart.on('mousemove touchmove',function(e) {
        if (!$chart.data('panning')) {
          return;
        }
        var newX = 0;
        var newY = 0;
        if (!e.targetTouches) { 
          newX = e.pageX - startX;
          newY = e.pageY - startY;
        } else if (e.targetTouches.length === 1) { 
          newX = e.targetTouches[0].pageX - startX;
          newY = e.targetTouches[0].pageY - startY;
        } else if (e.targetTouches.length > 1) {
          return;
        }
        var lastTf = $chart.css('transform');
        if (lastTf === 'none') {
          if (lastTf.indexOf('3d') === -1) {
            $chart.css('transform', 'matrix(1, 0, 0, 1, ' + newX + ', ' + newY + ')');
          } else {
            $chart.css('transform', 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + newX + ', ' + newY + ', 0, 1)');
          }
        } else {
          var matrix = lastTf.split(',');
          if (lastTf.indexOf('3d') === -1) {
            matrix[4] = ' ' + newX;
            matrix[5] = ' ' + newY + ')';
          } else {
            matrix[12] = ' ' + newX;
            matrix[13] = ' ' + newY;
          }
          $chart.css('transform', matrix.join(','));
        }
      });
    },
    panEndHandler: function (e) {
      if (e.data.chart.data('panning')) {
        e.data.chart.data('panning', false).css('cursor', 'default').off('mousemove');
      }
    },
    bindPan: function () {
      this.$chartContainer.css('overflow', 'hidden');
      this.$chart.on('mousedown touchstart', this.panStartHandler);
      $(document).on('mouseup touchend', { 'chart': this.$chart }, this.panEndHandler);
    },
    unbindPan: function () {
      this.$chartContainer.css('overflow', 'auto');
      this.$chart.off('mousedown touchstart', this.panStartHandler);
      $(document).off('mouseup touchend', this.panEndHandler);
    },
    zoomWheelHandler: function (e) {
      var oc = e.data.oc;
      e.preventDefault();
      var newScale  = 1 + (e.originalEvent.deltaY > 0 ? -0.2 : 0.2);
      oc.setChartScale(oc.$chart, newScale);
    },
    zoomStartHandler: function (e) {
      if(e.touches && e.touches.length === 2) {
        var oc = e.data.oc;
        oc.$chart.data('pinching', true);
        var dist = oc.getPinchDist(e);
        oc.$chart.data('pinchDistStart', dist);
      }
    },
    zoomingHandler: function (e) {
      var oc = e.data.oc;
      if(oc.$chart.data('pinching')) {
        var dist = oc.getPinchDist(e);
        oc.$chart.data('pinchDistEnd', dist);
      }
    },
    zoomEndHandler: function (e) {
      var oc = e.data.oc;
      if(oc.$chart.data('pinching')) {
        oc.$chart.data('pinching', false);
        var diff = oc.$chart.data('pinchDistEnd') - oc.$chart.data('pinchDistStart');
        if (diff > 0) {
          oc.setChartScale(oc.$chart, 1.2);
        } else if (diff < 0) {
          oc.setChartScale(oc.$chart, 0.8);
        }
      }
    },
    bindZoom: function () {
      this.$chartContainer.on('wheel', { 'oc': this }, this.zoomWheelHandler);
      this.$chartContainer.on('touchstart', { 'oc': this }, this.zoomStartHandler);
      $(document).on('touchmove', { 'oc': this }, this.zoomingHandler);
      $(document).on('touchend', { 'oc': this }, this.zoomEndHandler);
    },
    unbindZoom: function () {
      this.$chartContainer.off('wheel', this.zoomWheelHandler);
      this.$chartContainer.off('touchstart', this.zoomStartHandler);
      $(document).off('touchmove', this.zoomingHandler);
      $(document).off('touchend', this.zoomEndHandler);
    },
    getPinchDist: function (e) {
      return Math.sqrt((e.touches[0].clientX - e.touches[1].clientX) * (e.touches[0].clientX - e.touches[1].clientX) +
      (e.touches[0].clientY - e.touches[1].clientY) * (e.touches[0].clientY - e.touches[1].clientY));
    },
    setChartScale: function ($chart, newScale) {
      var opts = $chart.data('options');
      var lastTf = $chart.css('transform');
      var matrix = '';
      var targetScale = 1;
      if (lastTf === 'none') {
        $chart.css('transform', 'scale(' + newScale + ',' + newScale + ')');
      } else {
        matrix = lastTf.split(',');
        if (lastTf.indexOf('3d') === -1) {
          targetScale = Math.abs(window.parseFloat(matrix[3]) * newScale);
          if (targetScale > opts.zoomoutLimit && targetScale < opts.zoominLimit) {
            $chart.css('transform', lastTf + ' scale(' + newScale + ',' + newScale + ')');
          }
        } else {
          targetScale = Math.abs(window.parseFloat(matrix[1]) * newScale);
          if (targetScale > opts.zoomoutLimit && targetScale < opts.zoominLimit) {
            $chart.css('transform', lastTf + ' scale3d(' + newScale + ',' + newScale + ', 1)');
          }
        }
      }
    },
    buildJsonDS: function ($li) {
      var that = this;
      var subObj = {
        'name': $li.contents().eq(0).text().trim(),
        'relationship': ($li.parent().parent().is('li') ? '1': '0') + ($li.siblings('li').length ? 1: 0) + ($li.children('ul').length ? 1 : 0)
      };
      $.each($li.data(), function(key, value) {
         subObj[key] = value;
      });
      $li.children('ul').children().each(function() {
        if (!subObj.children) { subObj.children = []; }
        subObj.children.push(that.buildJsonDS($(this)));
      });
      return subObj;
    },
    attachRel: function (data, flags) {
      var that = this;
      data.relationship = flags + (data.children && data.children.length > 0 ? 1 : 0);
      if (this.options?.compact?.constructor === Function && this.options.compact(data)) {
        data.compact = true;
      }
      if (data.children) {
        data.children.forEach(function(item) {
          if (data.hybrid || data.vertical) { 
            item.vertical = true;
          } else if (data.compact && item.children) { 
            item.compact = true;
          } else if (data.compact && !item.children) { 
            item.associatedCompact = true;
          }
          that.attachRel(item, '1' + (data.children.length > 1 ? 1 : 0));
        });
      }
      return data;
    },
    loopChart: function ($chart, includeNodeData) {
      includeNodeData = (includeNodeData !== null && includeNodeData !== undefined) ? includeNodeData : false;
      var that = this;
      var $node = $chart.find('.node:first');
      var subObj = { 'id': $node[0].id };
      if (includeNodeData) {
        $.each($node.data('nodeData'), function (key, value) {
          subObj[key] = value;
        });
      }
      $node.siblings('.nodes').children().each(function() {
        if (!subObj.children) { subObj.children = []; }
        subObj.children.push(that.loopChart($(this), includeNodeData));
      });
      return subObj;
    },
    getHierarchy: function (includeNodeData) {
      includeNodeData = (includeNodeData !== null && includeNodeData !== undefined) ? includeNodeData : false;
      if (typeof this.$chart === 'undefined') {
        return 'Error: orgchart does not exist'
      } else {
        if (!this.$chart.find('.node').length) {
          return 'Error: nodes do not exist'
        } else {
          var valid = true;
          this.$chart.find('.node').each(function () {
            if (!this.id) {
              valid = false;
              return false;
            }
          });
          if (!valid) {
            return 'Error: All nodes of orghcart to be exported must have data-id attribute!';
          }
        }
      }
      return this.loopChart(this.$chart, includeNodeData);
    },
    getNodeState: function ($node, relation) {
      var $target = {};
      var isVerticalNode = !!$node.closest('vertical').length;
      var relation = relation || 'self';
      if (relation === 'parent') {
        if (isVerticalNode) {
          $target = $node.closest('ul').parents('ul');
          if (!$target.length) {
            $target = $node.closest('.nodes');
            if (!$target.length) {
              $target = $node.closest('.vertical').siblings(':first');
            }
          }
        } else {
          $target = $node.closest('.nodes').siblings('.node');
        }
        if ($target.length) {
          if ($target.is('.hidden') || (!$target.is('.hidden') && $target.closest('.nodes').is('.hidden')) || (!$target.is('.hidden') && $target.closest('.vertical').is('.hidden'))) {
            return { 'exist': true, 'visible': false };
          }
          return { 'exist': true, 'visible': true };
        }
      } else if (relation === 'children') {
        $target = isVerticalNode ? $node.parent().children('ul') : $node.siblings('.nodes');
        if ($target.length) {
          if (!$target.is('.hidden')) {
            return { 'exist': true, 'visible': true };
          }
          return { 'exist': true, 'visible': false };
        }
      } else if (relation === 'siblings') {
        $target = isVerticalNode ? $node.closest('ul') : $node.parent().siblings();
        if ($target.length && (!isVerticalNode || $target.children('li').length > 1)) {
          if (!$target.is('.hidden') && !$target.parent().is('.hidden') && (!isVerticalNode || !$target.closest('.vertical').is('.hidden'))) {
            return { 'exist': true, 'visible': true };
          }
          return { 'exist': true, 'visible': false };
        }
      } else {
        $target = $node;
        if ($target.length) {
          if (!(($target.closest('.nodes').length && $target.closest('.nodes').is('.hidden')) ||
            ($target.closest('.hierarchy').length && $target.closest('.hierarchy').is('.hidden')) ||
            ($target.closest('.vertical').length && ($target.closest('.nodes').is('.hidden') || $target.closest('.vertical').is('.hidden')))
          )) {
            return { 'exist': true, 'visible': true };
          }
          return { 'exist': true, 'visible': false };
        }
      }
      return { 'exist': false, 'visible': false };
    },
    getParent: function ($node) {
      return this.getRelatedNodes($node, 'parent');
    },
    getChildren: function ($node) {
      return this.getRelatedNodes($node, 'children');
    },
    getSiblings: function ($node) {
      return this.getRelatedNodes($node, 'siblings');
    },
    getRelatedNodes: function ($node, relation) {
      if (!$node || !($node instanceof $) || !$node.is('.node')) {
        return $();
      }
      if (relation === 'parent') {
        return $node.closest('.nodes').siblings('.node');
      } else if (relation === 'children') {
        return $node.siblings('.nodes').children('.hierarchy').find('.node:first');
      } else if (relation === 'siblings') {
        return $node.closest('.hierarchy').siblings().find('.node:first');
      } else {
        return $();
      }
    },
    hideParentEnd: function (event) {
      $(event.target).removeClass('sliding');
      event.data.parent.addClass('hidden');
    },
    hideParent: function ($node) {
      var $parent = $node.closest('.nodes').siblings('.node');
      if ($parent.find('.spinner').length) {
        $node.closest('.orgchart').data('inAjax', false);
      }
      if (this.getNodeState($node, 'siblings').visible) {
        this.hideSiblings($node);
      }
      $node.parent().addClass('isAncestorsCollapsed');
      if (this.getNodeState($parent).visible) {
        $parent.addClass('sliding slide-down').one('transitionend', { 'parent': $parent }, this.hideParentEnd);
      }
      if (this.getNodeState($parent, 'parent').visible) {
        this.hideParent($parent);
      }
    },
    showParentEnd: function (event) {
      var $node = event.data.node;
      $(event.target).removeClass('sliding');
      if (this.isInAction($node)) {
        this.switchVerticalArrow($node.children('.topEdge'));
      }
    },
    showParent: function ($node) {
      var $parent = $node.closest('.nodes').siblings('.node').removeClass('hidden');
      $node.closest('.hierarchy').removeClass('isAncestorsCollapsed');
      this.repaint($parent[0]);
      $parent.addClass('sliding').removeClass('slide-down').one('transitionend', { 'node': $node }, this.showParentEnd.bind(this));
    },
    stopAjax: function ($nodeLevel) {
      if ($nodeLevel.find('.spinner').length) {
        $nodeLevel.closest('.orgchart').data('inAjax', false);
      }
    },
    isVisibleNode: function (index, elem) {
      return this.getNodeState($(elem)).visible;
    },
    isCompactDescendant: function (index, elem) {
      return $(elem).parent().is('.node.compact');
    },
    hideChildrenEnd: function (event) {
      var $node = event.data.node;
      event.data.animatedNodes.removeClass('sliding');
      event.data.animatedNodes.closest('.nodes').addClass('hidden');
      if (this.isInAction($node)) {
        this.switchVerticalArrow($node.children('.bottomEdge'));
      }
    },
    hideChildren: function ($node) {
      $node.closest('.hierarchy').addClass('isChildrenCollapsed');
      var $lowerLevel = $node.siblings('.nodes');
      this.stopAjax($lowerLevel);
      var $animatedNodes = $lowerLevel.find('.node').filter(this.isVisibleNode.bind(this)).not(this.isCompactDescendant.bind(this));
      var isVerticalDesc = $lowerLevel.is('.vertical');
      if (!isVerticalDesc) {
        $animatedNodes.closest('.hierarchy').addClass('isCollapsedDescendant');
      }
      if ($lowerLevel.is('.vertical') || $lowerLevel.find('.vertical').length) {
        $animatedNodes.find(this.options.icons.expanded).removeClass(this.options.icons.expanded).addClass(this.options.icons.collapsed);
      }
      this.repaint($animatedNodes.get(0));
      $animatedNodes.addClass('sliding slide-up').eq(0).one('transitionend', { 'animatedNodes': $animatedNodes, 'lowerLevel': $lowerLevel, 'node': $node }, this.hideChildrenEnd.bind(this));
    },
    showChildrenEnd: function (event) {
      var $node = event.data.node;
      event.data.animatedNodes.removeClass('sliding');
      if (this.isInAction($node)) {
        this.switchVerticalArrow($node.children('.bottomEdge'));
      }
    },
    showChildren: function ($node) {
      var that = this;
      $node.closest('.hierarchy').removeClass('isChildrenCollapsed');
      var $levels = $node.siblings('.nodes');
      var isVerticalDesc = $levels.is('.vertical');
      var $animatedNodes = isVerticalDesc
        ? $levels.removeClass('hidden').find('.node').filter(this.isVisibleNode.bind(this))
        : $levels.removeClass('hidden').children('.hierarchy').find('.node:first').filter(this.isVisibleNode.bind(this));
      if (!isVerticalDesc) {
        $animatedNodes.filter(':not(:only-child)').closest('.hierarchy').addClass('isChildrenCollapsed');
        $animatedNodes.closest('.hierarchy').removeClass('isCollapsedDescendant');
      }
      this.repaint($animatedNodes.get(0));
      $animatedNodes.addClass('sliding').removeClass('slide-up').eq(0).one('transitionend', { 'node': $node, 'animatedNodes': $animatedNodes }, this.showChildrenEnd.bind(this));
    },
    hideSiblingsEnd: function (event) {
      var that = this;
      var $node = event.data.node;
      var $nodeContainer = event.data.nodeContainer;
      var direction = event.data.direction;
      var $siblings = direction ? (direction === 'left' ? $nodeContainer.prevAll(':not(.hidden)') : $nodeContainer.nextAll(':not(.hidden)')) : $nodeContainer.siblings();
      event.data.animatedNodes.removeClass('sliding');
      $siblings.find('.node:gt(0)').filter(this.isVisibleNode.bind(this))
        .removeClass('slide-left slide-right')
        .addClass(function() {
          if (that.options.compact) {
            return '';
          } else {
            return 'slide-up';
          }
        });
      $siblings.find('.nodes, .vertical').addClass('hidden')
        .end().addClass('hidden');

      if (this.isInAction($node)) {
        this.switchHorizontalArrow($node);
      }
    },
    hideSiblings: function ($node, direction) {
      var that = this;
      var $nodeContainer = $node.closest('.hierarchy').addClass('isSiblingsCollapsed');
      if ($nodeContainer.siblings().find('.spinner').length) {
        $node.closest('.orgchart').data('inAjax', false);
      }
      if (direction) {
        if (direction === 'left') {
          $nodeContainer.addClass('left-sibs')
            .prevAll('.isSiblingsCollapsed').removeClass('isSiblingsCollapsed left-sibs').end()
            .prevAll().addClass('isCollapsedSibling isChildrenCollapsed')
            .find('.node').filter(this.isVisibleNode.bind(this)).addClass('sliding slide-right');
        } else {
          $nodeContainer.addClass('right-sibs')
            .nextAll('.isSiblingsCollapsed').removeClass('isSiblingsCollapsed right-sibs').end()
            .nextAll().addClass('isCollapsedSibling isChildrenCollapsed')
            .find('.node').filter(this.isVisibleNode.bind(this)).addClass('sliding slide-left');
        }
      } else {
        $nodeContainer.prevAll().find('.node').filter(this.isVisibleNode.bind(this)).addClass('sliding slide-right');
        $nodeContainer.nextAll().find('.node').filter(this.isVisibleNode.bind(this)).addClass('sliding slide-left');
        $nodeContainer.siblings().addClass('isCollapsedSibling isChildrenCollapsed');
      }
      var $animatedNodes = $nodeContainer.siblings().find('.sliding');
      $animatedNodes.eq(0).one('transitionend', { 'node': $node, 'nodeContainer': $nodeContainer, 'direction': direction, 'animatedNodes': $animatedNodes }, this.hideSiblingsEnd.bind(this));
    },
    showSiblingsEnd: function (event) {
      var $node = event.data.node;
      event.data.visibleNodes.removeClass('sliding');
      if (this.isInAction($node)) {
        this.switchHorizontalArrow($node);
        $node.children('.topEdge').removeClass(this.options.icons.expandToUp).addClass(this.options.icons.collapseToDown);
      }
    },
    showRelatedParentEnd: function(event) {
      $(event.target).removeClass('sliding');
    },
    showSiblings: function ($node, direction) {
      var that = this;
      var $siblings = $();
      var $nodeContainer = $node.closest('.hierarchy');
      if (direction) {
        if (direction === 'left') {
          $siblings = $nodeContainer.prevAll().removeClass('hidden');
        } else {
          $siblings = $nodeContainer.nextAll().removeClass('hidden');
        }
      } else {
        $siblings = $node.closest('.hierarchy').siblings().removeClass('hidden');
      }
      var $upperLevel = $node.closest('.nodes').siblings('.node');
      if (direction) {
        $nodeContainer.removeClass(direction + '-sibs');
        if (!$nodeContainer.is('[class*=-sibs]')) {
          $nodeContainer.removeClass('isSiblingsCollapsed');
        }
        $siblings.removeClass('isCollapsedSibling ' + direction + '-sibs');
      } else {
        $node.closest('.hierarchy').removeClass('isSiblingsCollapsed');
        $siblings.removeClass('isCollapsedSibling');
      }
      if (!this.getNodeState($node, 'parent').visible) {
        $node.closest('.hierarchy').removeClass('isAncestorsCollapsed');
        $upperLevel.removeClass('hidden');
        this.repaint($upperLevel[0]);
        $upperLevel.addClass('sliding').removeClass('slide-down').one('transitionend', this.showRelatedParentEnd);
      }
      var $visibleNodes = $siblings.find('.node').filter(this.isVisibleNode.bind(this));
      this.repaint($visibleNodes.get(0));
      $visibleNodes.addClass('sliding').removeClass('slide-left slide-right');
      $visibleNodes.eq(0).one('transitionend', { 'node': $node, 'visibleNodes': $visibleNodes }, this.showSiblingsEnd.bind(this));
    },
    startLoading: function ($edge) {
      var $chart = this.$chart;
      if (typeof $chart.data('inAjax') !== 'undefined' && $chart.data('inAjax') === true) {
        return false;
      }

      $edge.addClass('hidden');
      $edge.parent().append(`<i class="${this.options.icons.theme} ${this.options.icons.spinner} spinner"></i>`)
        .children().not('.spinner').css('opacity', 0.2);
      $chart.data('inAjax', true);
      $('.oc-export-btn').prop('disabled', true);
      return true;
    },
    endLoading: function ($edge) {
      var $node = $edge.parent();
      $edge.removeClass('hidden');
      $node.find('.spinner').remove();
      $node.children().removeAttr('style');
      this.$chart.data('inAjax', false);
      $('.oc-export-btn').prop('disabled', false);
    },
    isInAction: function ($node) {
      return [
        this.options.icons.expandToUp,
        this.options.icons.collapseToDown,
        this.options.icons.collapseToLeft,
        this.options.icons.expandToRight
      ].some((icon) => $node.children('.edge').attr('class').indexOf(icon) > -1);
    },
    switchVerticalArrow: function ($arrow) {
      $arrow.toggleClass(`${this.options.icons.expandToUp} ${this.options.icons.collapseToDown}`);
    },
    switchHorizontalArrow: function ($node) {
      var opts = this.options;
      if (opts.toggleSiblingsResp && (typeof opts.ajaxURL === 'undefined' || $node.closest('.nodes').data('siblingsLoaded'))) {
        var $prevSib = $node.parent().prev();
        if ($prevSib.length) {
          if ($prevSib.is('.hidden')) {
            $node.children('.leftEdge').addClass(opts.icons.collapseToLeft).removeClass(opts.icons.expandToRight);
          } else {
            $node.children('.leftEdge').addClass(opts.icons.expandToRight).removeClass(opts.icons.collapseToLeft);
          }
        }
        var $nextSib = $node.parent().next();
        if ($nextSib.length) {
          if ($nextSib.is('.hidden')) {
            $node.children('.rightEdge').addClass(opts.icons.expandToRight).removeClass(opts.icons.collapseToLeft);
          } else {
            $node.children('.rightEdge').addClass(opts.icons.collapseToLeft).removeClass(opts.icons.expandToRight);
          }
        }
      } else {
        var $sibs = $node.parent().siblings();
        var sibsVisible = $sibs.length ? !$sibs.is('.hidden') : false;
        $node.children('.leftEdge').toggleClass(opts.icons.expandToRight, sibsVisible).toggleClass(opts.icons.collapseToLeft, !sibsVisible);
        $node.children('.rightEdge').toggleClass(opts.icons.collapseToLeft, sibsVisible).toggleClass(opts.icons.expandToRight, !sibsVisible);
      }
    },
    repaint: function (node) {
      if (node) {
        node.style.offsetWidth = node.offsetWidth;
      }
    },
    nodeEnterLeaveHandler: function (event) {
      var $node = $(event.delegateTarget);
      var flag = false;
      if ($node.closest('.nodes.vertical').length) {
        var $toggleBtn = $node.children('.toggleBtn');
        if (event.type === 'mouseenter') {
          if ($node.children('.toggleBtn').length) {
            flag = this.getNodeState($node, 'children').visible;
            $toggleBtn.toggleClass(this.options.icons.collapsed, !flag).toggleClass(this.options.icons.expanded, flag);
          }
        } else {
          $toggleBtn.removeClass(`${this.options.icons.collapsed} ${this.options.icons.expanded}`);
        }
      } else {
        var $topEdge = $node.children('.topEdge');
        var $rightEdge = $node.children('.rightEdge');
        var $bottomEdge = $node.children('.bottomEdge');
        var $leftEdge = $node.children('.leftEdge');
        if (event.type === 'mouseenter') {
          if ($topEdge.length) {
            flag = this.getNodeState($node, 'parent').visible;
            $topEdge.toggleClass(this.options.icons.expandToUp, !flag).toggleClass(this.options.icons.collapseToDown, flag);
          }
          if ($bottomEdge.length) {
            flag = this.getNodeState($node, 'children').visible;
            $bottomEdge.toggleClass(this.options.icons.collapseToDown, !flag).toggleClass(this.options.icons.expandToUp, flag);
          }
          if ($leftEdge.length) {
            this.switchHorizontalArrow($node);
          }
        } else {
          $node.children('.edge').removeClass(`${this.options.icons.expandToUp} ${this.options.icons.collapseToDown} ${this.options.icons.collapseToLeft} ${this.options.icons.expandToRight}`);
        }
      }
    },
    nodeClickHandler: function (event) {
      this.$chart.find('.focused').removeClass('focused');
      $(event.delegateTarget).addClass('focused');
    },
    addAncestors: function (data, parentId) {
      var $root = this.$chart.children('.nodes').children('.hierarchy');
      this.buildHierarchy($root, data);
      $root.children().slice(0, 2)
        .wrapAll('<li class="hierarchy"></li>').parent()
        .appendTo($('#' + parentId).siblings('.nodes'));
    },
    addDescendants:function (data, $parent) {
      var that = this;
      var $descendants = $('<ul class="nodes"></ul>');
      $parent.after($descendants);
      $.each(data, function (i) {
        $descendants.append($('<li class="hierarchy"></li>'));
        that.buildHierarchy($descendants.children().eq(i), this);
      });
    },
    HideFirstParentEnd: function (event) {
      var $topEdge = event.data.topEdge;
      var $node = $topEdge.parent();
      if (this.isInAction($node)) {
        this.switchVerticalArrow($topEdge);
        this.switchHorizontalArrow($node);
      }
    },
    topEdgeClickHandler: function (event) {
      var that = this;
      var $topEdge = $(event.target);
      var $node = $(event.delegateTarget);
      var parentState = this.getNodeState($node, 'parent');
      if (parentState.exist) {
        var $parent = $node.closest('.nodes').siblings('.node');
        if ($parent.is('.sliding')) { return; }
        if (parentState.visible) {
          this.hideParent($node);
          $parent.one('transitionend', { 'topEdge': $topEdge }, this.HideFirstParentEnd.bind(this));
          this.triggerHideEvent($node, 'parent');
        } else { 
          this.showParent($node);
          this.triggerShowEvent($node, 'parent');
        }
      }
    },
    bottomEdgeClickHandler: function (event) {
      var $bottomEdge = $(event.target);
      var $node = $(event.delegateTarget);
      var childrenState = this.getNodeState($node, 'children');
      if (childrenState.exist) {
        var $children = $node.siblings('.nodes').children().children('.node');
        if ($children.is('.sliding')) { return; }
        if (childrenState.visible) {
          this.hideChildren($node);
          this.triggerHideEvent($node, 'children');
        } else { 
          this.showChildren($node);
          this.triggerShowEvent($node, 'children');
        }
      }
    },
    hEdgeClickHandler: function (event) {
      var $hEdge = $(event.target);
      var $node = $(event.delegateTarget);
      var opts = this.options;
      var siblingsState = this.getNodeState($node, 'siblings');
      if (siblingsState.exist) {
        var $siblings = $node.closest('.hierarchy').siblings();
        if ($siblings.find('.sliding').length) { return; }
        if (opts.toggleSiblingsResp) {
          var $prevSib = $node.closest('.hierarchy').prev();
          var $nextSib = $node.closest('.hierarchy').next();
          if ($hEdge.is('.leftEdge')) {
            if ($prevSib.is('.hidden')) {
              this.showSiblings($node, 'left');
              this.triggerShowEvent($node,'siblings');
            } else {
              this.hideSiblings($node, 'left');
              this.triggerHideEvent($node, 'siblings');
            }
          } else {
            if ($nextSib.is('.hidden')) {
              this.showSiblings($node, 'right');
              this.triggerShowEvent($node,'siblings');
            } else {
              this.hideSiblings($node, 'right');
              this.triggerHideEvent($node, 'siblings');
            }
          }
        } else {
          if (siblingsState.visible) {
            this.hideSiblings($node);
            this.triggerHideEvent($node, 'siblings');
          } else {
            this.showSiblings($node);
            this.triggerShowEvent($node, 'siblings');
          }
        }
      }
    },
    backToCompactHandler: function (event) {
      $(event.delegateTarget).removeClass('looseMode')
        .find('.looseMode').removeClass('looseMode')
        .children('.backToCompactSymbol').addClass('hidden').end()
        .children('.backToLooseSymbol').removeClass('hidden');
      $(event.delegateTarget).children('.backToCompactSymbol').addClass('hidden').end()
        .children('.backToLooseSymbol').removeClass('hidden');
    },
    backToLooseHandler: function (event) {
      $(event.delegateTarget)
        .addClass('looseMode')
        .children('.backToLooseSymbol').addClass('hidden').end()
        .children('.backToCompactSymbol').removeClass('hidden');
    },
    expandVNodesEnd: function (event) {
      event.data.vNodes.removeClass('sliding');
    },
    collapseVNodesEnd: function (event) {
      event.data.vNodes.removeClass('sliding').closest('ul').addClass('hidden');
    },
    toggleVNodes: function (event) {
      var $toggleBtn = $(event.target);
      var $descWrapper = $toggleBtn.parent().next();
      var $descendants = $descWrapper.find('.node');
      var $children = $descWrapper.children().children('.node');
      if ($children.is('.sliding')) { return; }
      $toggleBtn.toggleClass(`${this.options.icons.collapsed} ${this.options.icons.expanded}`);
      if ($descendants.eq(0).is('.slide-up')) {
        $descWrapper.removeClass('hidden');
        this.repaint($children.get(0));
        $children.addClass('sliding').removeClass('slide-up').eq(0).one('transitionend', { 'vNodes': $children }, this.expandVNodesEnd);
      } else {
        $descendants.addClass('sliding slide-up').eq(0).one('transitionend', { 'vNodes': $descendants }, this.collapseVNodesEnd);
        $descendants.find('.toggleBtn').removeClass(`${this.options.icons.collapsed} ${this.options.icons.expanded}`);
      }
    },
    createGhostNode: function (event) {
      var $nodeDiv = $(event.target);
      var opts = this.options;
      var origEvent = event.originalEvent;
      var isFirefox = /firefox/.test(window.navigator.userAgent.toLowerCase());
      var ghostNode, nodeCover;
      if (!document.querySelector('.ghost-node')) {
        ghostNode = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        if (!ghostNode.classList) return;
        ghostNode.classList.add('ghost-node');
        nodeCover = document.createElementNS('http://www.w3.org/2000/svg','rect');
        ghostNode.appendChild(nodeCover);
        $nodeDiv.closest('.orgchart').append(ghostNode);
      } else {
        ghostNode = $nodeDiv.closest('.orgchart').children('.ghost-node').get(0);
        nodeCover = $(ghostNode).children().get(0);
      }
      var transValues = $nodeDiv.closest('.orgchart').css('transform').split(',');
      var isHorizontal = opts.direction === 't2b' || opts.direction === 'b2t';
      var scale = Math.abs(window.parseFloat(isHorizontal ? transValues[0].slice(transValues[0].indexOf('(') + 1) : transValues[1]));
      ghostNode.setAttribute('width', isHorizontal ? $nodeDiv.outerWidth(false) : $nodeDiv.outerHeight(false));
      ghostNode.setAttribute('height', isHorizontal ? $nodeDiv.outerHeight(false) : $nodeDiv.outerWidth(false));
      nodeCover.setAttribute('x',5 * scale);
      nodeCover.setAttribute('y',5 * scale);
      nodeCover.setAttribute('width', 120 * scale);
      nodeCover.setAttribute('height', 40 * scale);
      nodeCover.setAttribute('rx', 4 * scale);
      nodeCover.setAttribute('ry', 4 * scale);
      nodeCover.setAttribute('stroke-width', 1 * scale);
      var xOffset = origEvent.offsetX * scale;
      var yOffset = origEvent.offsetY * scale;
      if (opts.direction === 'l2r') {
        xOffset = origEvent.offsetY * scale;
        yOffset = origEvent.offsetX * scale;
      } else if (opts.direction === 'r2l') {
        xOffset = $nodeDiv.outerWidth(false) - origEvent.offsetY * scale;
        yOffset = origEvent.offsetX * scale;
      } else if (opts.direction === 'b2t') {
        xOffset = $nodeDiv.outerWidth(false) - origEvent.offsetX * scale;
        yOffset = $nodeDiv.outerHeight(false) - origEvent.offsetY * scale;
      }
      if (isFirefox) { 
        nodeCover.setAttribute('fill', 'rgb(255, 255, 255)');
        nodeCover.setAttribute('stroke', 'rgb(191, 0, 0)');
        var ghostNodeWrapper = document.createElement('img');
        ghostNodeWrapper.src = 'data:image/svg+xml;utf8,' + (new XMLSerializer()).serializeToString(ghostNode);
        origEvent.dataTransfer.setDragImage(ghostNodeWrapper, xOffset, yOffset);
      } else {
        if (origEvent.dataTransfer.setDragImage)
          origEvent.dataTransfer.setDragImage(ghostNode, xOffset, yOffset);
      }
    },
    getUpperLevel: function ($node) {
      if (!$node.is('.node')) {
        return 0;
      }
      return $node.parents('.hierarchy').length;
    },
    getLowerLevel: function ($node) {
      if (!$node.is('.node')) {
        return 0;
      }
      return $node.closest('.hierarchy').find('.nodes').length + 1;
    },
    getLevelOrderNodes: function ($root) {
      if(!$root) return [];
      var queue = [];
      var output = [];
      queue.push($root);
      while(queue.length) {
        var row = [];
        for(var i = 0; i < queue.length; i++) {
            var cur = queue.shift();
            var children = this.getChildren(cur);
            if(children.length) {
              queue.push(children.toArray().flat());
            }
            row.push($(cur));
        }
        output.push(row);
      }
      return output;
    },
    filterAllowedDropNodes: function ($dragged) {
      var opts = this.options;
      var draggingNode = $dragged.closest('[draggable]').hasClass('node');
      var $dragZone = $dragged.closest('.nodes').siblings('.node'); 
      var $dragHier = $dragged.closest('.hierarchy').find('.node'); 
      this.$chart.data('dragged', $dragged)
        .find('.node').each(function (index, node) {
          if (!draggingNode || $dragHier.index(node) === -1) {
            if (opts.dropCriteria) {
              if (opts.dropCriteria($dragged, $dragZone, $(node))) {
                $(node).addClass('allowedDrop');
              }
            } else {
              $(node).addClass('allowedDrop');
            }
          }
        });
    },
    dragstartHandler: function (event) {
      event.originalEvent.dataTransfer.setData('text/html', 'hack for firefox');
      if (this.$chart.css('transform') !== 'none') {
        this.createGhostNode(event);
      }
      this.filterAllowedDropNodes($(event.target));
    },
    dragoverHandler: function (event) {
      if (!$(event.delegateTarget).is('.allowedDrop')) {
        event.originalEvent.dataTransfer.dropEffect = 'none';
      } else {
        event.preventDefault();
      }
    },
    dragendHandler: function (event) {
      this.$chart.find('.allowedDrop').removeClass('allowedDrop');
    },
    dropHandler: async function (event) {
      var that = this;
      var $dropZone = $(event.delegateTarget);
      var $dragged = this.$chart.data('dragged');

      if (!$dragged.hasClass('node')) {
        this.$chart.triggerHandler({ 'type': 'otherdropped.orgchart', 'draggedItem': $dragged, 'dropZone': $dropZone });
        return;
      }

      if (!$dropZone.hasClass('allowedDrop')) {
          return;
      }

      var $dragZone = $dragged.closest('.nodes').siblings('.node');
      var dropEvent = $.Event('nodedrop.orgchart');
      this.$chart.trigger(dropEvent, { 'draggedNode': $dragged, 'dragZone': $dragZone, 'dropZone': $dropZone });
      if (dropEvent.isDefaultPrevented()) {
        return;
      }
      var datasource = this.$chart.data('options').data;
      var digger = new JSONDigger(datasource, this.$chart.data('options').nodeId, 'children');
      const hybridNode = digger.findOneNode({ 'hybrid': true });
      if (this.$chart.data('options').verticalLevel > 1 || hybridNode) {
        var draggedNode = digger.findNodeById($dragged.data('nodeData').id);
        var copy = Object.assign({}, draggedNode);
        digger.removeNode(draggedNode.id);
        var dropNode = digger.findNodeById($dropZone.data('nodeData').id);
        if (dropNode.children) {
          dropNode.children.push(copy);
        } else {
          dropNode.children = [copy];
        }
        that.init({ 'data': datasource });
      } else {
        if (!$dropZone.siblings('.nodes').length) { 
          $dropZone.append(`<i class="edge verticalEdge bottomEdge ${this.options.icons.theme}"></i>`)
            .after('<ul class="nodes"></ul>')
            .siblings('.nodes').append($dragged.find('.horizontalEdge').remove().end().closest('.hierarchy'));
          if ($dropZone.children('.title').length) {
            $dropZone.children('.title').prepend(`<i class="${this.options.icons.theme} ${this.$chart.data('options').icons.parentNode} parentNodeSymbol"></i>`);
          }
        } else {
          var horizontalEdges = `<i class="edge horizontalEdge rightEdge ${this.options.icons.theme}"></i><i class="edge horizontalEdge leftEdge ${this.options.icons.theme}"></i>`;
          if (!$dragged.find('.horizontalEdge').length) {
            $dragged.append(horizontalEdges);
          }
          $dropZone.siblings('.nodes').append($dragged.closest('.hierarchy'));
          var $dropSibs = $dragged.closest('.hierarchy').siblings().find('.node:first');
          if ($dropSibs.length === 1) {
            $dropSibs.append(horizontalEdges);
          }
        }
        if ($dragZone.siblings('.nodes').children('.hierarchy').length === 1) { 
          $dragZone.siblings('.nodes').children('.hierarchy').find('.node:first')
            .find('.horizontalEdge').remove();
        } else if ($dragZone.siblings('.nodes').children('.hierarchy').length === 0) {
          $dragZone.find('.bottomEdge, .parentNodeSymbol').remove()
            .end().siblings('.nodes').remove();
        }
      }
    },
    touchstartHandler: function (event) {
      if (this.touchHandled)
        return;

      if (event.touches && event.touches.length > 1)
        return;

      this.touchHandled = true;
      this.touchMoved = false; 
      event.preventDefault();
    },
    touchmoveHandler: function (event) {
      if (!this.touchHandled)
        return;

      if (event.touches && event.touches.length > 1)
        return;

      event.preventDefault();

      if (!this.touchMoved) {
        this.filterAllowedDropNodes($(event.currentTarget));  
        this.touchDragImage = this.createDragImage(event, this.$chart.data('dragged')[0]);
      }
      this.touchMoved = true;

      this.moveDragImage(event, this.touchDragImage);

      var $touching = $(document.elementFromPoint(event.touches[0].clientX, event.touches[0].clientY));
      var $touchingNodes = $touching.closest('div.node');
      if ($touchingNodes.length > 0) {
        var touchingNodeElement = $touchingNodes[0];
        if ($touchingNodes.is('.allowedDrop')) {
          this.touchTargetNode = touchingNodeElement;
        }
        else {
          this.touchTargetNode = null;
        }
      }
      else {
        this.touchTargetNode = null;
      }
    },
    touchendHandler: function (event) {
      if (!this.touchHandled) {
          return;
      }
      this.destroyDragImage();
      if (this.touchMoved) {
          if (this.touchTargetNode) {
              var fakeEventForDropHandler = { delegateTarget: this.touchTargetNode };
              this.dropHandler(fakeEventForDropHandler);
              this.touchTargetNode = null;
          }
          this.dragendHandler(event);
      }
      else {
          var firstTouch = event.changedTouches[0];
          var fakeMouseClickEvent = document.createEvent('MouseEvents');
          fakeMouseClickEvent.initMouseEvent('click', true, true, window, 1, firstTouch.screenX, firstTouch.screenY, firstTouch.clientX, firstTouch.clientY, event.ctrlKey, event.altKey, event.shiftKey, event.metaKey, 0, null);
          event.target.dispatchEvent(fakeMouseClickEvent);
      }
      this.touchHandled = false;
    },
    createDragImage: function (event, source) {
      var dragImage = source.cloneNode(true);
      this.copyStyle(source, dragImage);
      dragImage.style.top = dragImage.style.left = '-9999px';
      var sourceRectangle = source.getBoundingClientRect();
      var sourcePoint = this.getTouchPoint(event);
      this.touchDragImageOffset = { x: sourcePoint.x - sourceRectangle.left, y: sourcePoint.y - sourceRectangle.top };
      dragImage.style.opacity = '0.5';
      document.body.appendChild(dragImage);
      return dragImage;
    },
    destroyDragImage: function () {
      if (this.touchDragImage && this.touchDragImage.parentElement)
        this.touchDragImage.parentElement.removeChild(this.touchDragImage);
      this.touchDragImageOffset = null;
      this.touchDragImage = null;
    },
    copyStyle: function (src, dst) {
      var badAttributes = ['id', 'class', 'style', 'draggable'];
      badAttributes.forEach(function (att) {
          dst.removeAttribute(att);
      });
      if (src instanceof HTMLCanvasElement) {
        var cSrc = src, cDst = dst;
        cDst.width = cSrc.width;
        cDst.height = cSrc.height;
        cDst.getContext('2d').drawImage(cSrc, 0, 0);
      }
      var cs = getComputedStyle(src);
      for (var i = 0; i < cs.length; i++) {
        var key = cs[i];
        if (key.indexOf('transition') < 0) {
          dst.style[key] = cs[key];
        }
      }
      dst.style.pointerEvents = 'none';
      for (var i = 0; i < src.children.length; i++) {
        this.copyStyle(src.children[i], dst.children[i]);
      }
    },
    getTouchPoint: function (event) {
      if (event && event.touches) {
        event = event.touches[0];
      }
      return {
        x: event.clientX,
        y: event.clientY
      };
    },
    moveDragImage: function (event, image) {
      if (!event || !image)
        return;
      var orgChartMaster = this;
      requestAnimationFrame(function () {
        var pt = orgChartMaster.getTouchPoint(event);
        var s = image.style;
        s.position = 'absolute';
        s.pointerEvents = 'none';
        s.zIndex = '999999';
        if (orgChartMaster.touchDragImageOffset) {
            s.left = Math.round(pt.x - orgChartMaster.touchDragImageOffset.x) + 'px';
            s.top = Math.round(pt.y - orgChartMaster.touchDragImageOffset.y) + 'px';
        }
      });
    },
    bindDragDrop: function ($node) {
      $node.on('dragstart', this.dragstartHandler.bind(this))
        .on('dragover', this.dragoverHandler.bind(this))
        .on('dragend', this.dragendHandler.bind(this))
        .on('drop', this.dropHandler.bind(this))
        .on('touchstart', this.touchstartHandler.bind(this))
        .on('touchmove', this.touchmoveHandler.bind(this))
        .on('touchend', this.touchendHandler.bind(this));
    },
    createNode: function (data) {
      var that = this;
      var opts = this.options;
      var level = data.level;
      if (data.children && data[opts.nodeId]) {
        $.each(data.children, function (index, child) {
          child.parentId = data[opts.nodeId]
        });
      }
      var $nodeDiv = $('<div' + (opts.draggable ? ' draggable="true"' : '') + (data[opts.nodeId] ? ' id="' + data[opts.nodeId] + '"' : '') + (data.parentId ? ' data-parent="' + data.parentId + '"' : '') + '>')
        .addClass('node ' + (data.className || '') +  (level > opts.visibleLevel ? ' slide-up' : ''));
      if (opts.nodeTemplate) {
        $nodeDiv.append(opts.nodeTemplate(data));
      } else {
        $nodeDiv.append('<div class="title">' + data[opts.nodeTitle] + '</div>')
          .append(typeof opts.nodeContent !== 'undefined' ? '<div class="content">' + (data[opts.nodeContent] || '') + '</div>' : '');
      }
      var nodeData = $.extend({}, data);
      delete nodeData.children;
      $nodeDiv.data('nodeData', nodeData);
      var flags = data.relationship || '';
      if ((opts.verticalLevel && level >= opts.verticalLevel) || data.vertical) {
        if (Number(flags.substr(2,1))) {
          $nodeDiv.append(`<i class="toggleBtn ${opts.icons.theme}"></i>`)
            .children('.title').prepend(`<i class="${opts.icons.theme} ${opts.icons.parentNode} parentNodeSymbol"></i>`);
        }
      } else if (data.hybrid) {
        if (Number(flags.substr(2,1))) {
          $nodeDiv.append(`<i class="edge verticalEdge bottomEdge ${opts.icons.theme}"></i>`)
            .children('.title').prepend(`<i class="${opts.icons.theme} ${opts.icons.parentNode} parentNodeSymbol"></i>`);
        }
      } else if (data.compact) {
        $nodeDiv.css('grid-template-columns', `repeat(${Math.floor(Math.sqrt(data.children.length + 1))}, auto)`);
        if (Number(flags.substr(2,1))) {
          $nodeDiv.append(`
            <i class="${opts.icons.theme} ${opts.icons.backToCompact} backToCompactSymbol hidden"></i>
            <i class="${opts.icons.theme} ${opts.icons.backToLoose} backToLooseSymbol"></i>
            `)
            .children('.title').prepend(`<i class="${opts.icons.theme} ${opts.icons.parentNode} parentNodeSymbol"></i>`);
        }
      } else if (data.associatedCompact) {

         } else {
        if (Number(flags.substr(0,1))) {
          $nodeDiv.append(`<i class="edge verticalEdge topEdge ${opts.icons.theme}"></i>`);
        }
        if(Number(flags.substr(1,1))) {
          $nodeDiv.append(`<i class="edge horizontalEdge rightEdge ${opts.icons.theme}"></i><i class="edge horizontalEdge leftEdge ${opts.icons.theme}"></i>`);
        }
        if(Number(flags.substr(2,1))) {
          $nodeDiv.append(`<i class="edge verticalEdge bottomEdge ${opts.icons.theme}"></i>`)
            .children('.title').prepend(`<i class="${opts.icons.theme} ${opts.icons.parentNode} parentNodeSymbol"></i>`);
        }
      }

      $nodeDiv.on('mouseenter mouseleave', this.nodeEnterLeaveHandler.bind(this));
      $nodeDiv.on('click', this.nodeClickHandler.bind(this));
      $nodeDiv.on('click', '.topEdge', this.topEdgeClickHandler.bind(this));
      $nodeDiv.on('click', '.bottomEdge', this.bottomEdgeClickHandler.bind(this));
      $nodeDiv.on('click', '.leftEdge, .rightEdge', this.hEdgeClickHandler.bind(this));
      $nodeDiv.on('click', '.toggleBtn', this.toggleVNodes.bind(this));
      $nodeDiv.on('click', '> .backToCompactSymbol',this.backToCompactHandler.bind(this));
      $nodeDiv.on('click', '> .backToLooseSymbol',this.backToLooseHandler.bind(this));

      if (opts.draggable) {
        this.bindDragDrop($nodeDiv);
        this.touchHandled = false;
        this.touchMoved = false;
        this.touchTargetNode = null;
      }
      if (opts.createNode) {
        opts.createNode($nodeDiv, data);
      }

      return $nodeDiv;
    },
    buildHierarchy: function ($appendTo, data) {
      var that = this;
      var opts = this.options;
      var level = 0;
      var $nodeDiv;
      if (data.level) {
        level = data.level;
      } else {
        level = data.level = $appendTo.parentsUntil('.orgchart', '.nodes').length;
      }
      if (Object.keys(data).length > 2) {
        $nodeDiv = this.createNode(data);
        $appendTo.append($nodeDiv);
      }
      if (data.children && data.children.length) {
        var isHidden = level + 1 > opts.visibleLevel || (data.collapsed !== undefined && data.collapsed);
        var $nodesLayer;
        if ((opts.verticalLevel && (level + 1) >= opts.verticalLevel) || data.hybrid) {
          $nodesLayer = $('<ul class="nodes">');
          if (isHidden && (opts.verticalLevel && (level + 1) >= opts.verticalLevel)) {
            $nodesLayer.addClass('hidden');
          }
          if (((opts.verticalLevel && level + 1 === opts.verticalLevel) || data.hybrid)
            && !$appendTo.closest('.vertical').length) {
              $appendTo.append($nodesLayer.addClass('vertical'));
          } else {
            $appendTo.append($nodesLayer);
          }
        } else if (data.compact) {
          $nodeDiv.addClass('compact');
        } else {
          $nodesLayer = $('<ul class="nodes' + (isHidden ? ' hidden' : '') + '">');
          if (Object.keys(data).length === 2) {
            $appendTo.append($nodesLayer);
          } else {
            if (isHidden) {
              $appendTo.addClass('isChildrenCollapsed');
            }
            $appendTo.append($nodesLayer);
          }
        }
        $.each(data.children, function () {
          this.level = level + 1;
          if (data.compact) {
            that.buildHierarchy($nodeDiv, this);
          } else {
            var $nodeCell = $('<li class="hierarchy">');
            $nodesLayer.append($nodeCell);
            that.buildHierarchy($nodeCell, this);
          }
        });
      }
    },
    buildChildNode: function ($appendTo, data) {
      this.buildHierarchy($appendTo, { 'children': data });
    },
    addChildren: function ($node, data) {
      this.buildChildNode($node.closest('.hierarchy'), data);
      if (!$node.find('.parentNodeSymbol').length) {
        $node.children('.title').prepend(`<i class="${this.options.icons.theme} ${this.options.icons.parentNode} parentNodeSymbol"></i>`);
      }
      if ($node.closest('.nodes.vertical').length) {
        if (!$node.children('.toggleBtn').length) {
          $node.append(`<i class="toggleBtn ${this.options.icons.theme}"></i>`);
        }
      } else {
        if (!$node.children('.bottomEdge').length) {
          $node.append(`<i class="edge verticalEdge bottomEdge ${this.options.icons.theme}"></i>`);
        }
      }
      if (this.isInAction($node)) {
        this.switchVerticalArrow($node.children('.bottomEdge'));
      }
    },
    buildParentNode: function ($currentRoot, data) {
      data.relationship = data.relationship || '001';
      var $newRootWrapper = $('<ul class="nodes"><li class="hierarchy"></li></ul>')
        .find('.hierarchy').append(this.createNode(data)).end();
      this.$chart.prepend($newRootWrapper)
        .find('.hierarchy:first').append($currentRoot.closest('ul').addClass('nodes'));
    },
    addParent: function ($currentRoot, data) {
      this.buildParentNode($currentRoot, data);
      if (!$currentRoot.children('.topEdge').length) {
        $currentRoot.children('.title').after(`<i class="edge verticalEdge topEdge ${this.options.icons.theme}"></i>`);
      }
      if (this.isInAction($currentRoot)) {
        this.switchVerticalArrow($currentRoot.children('.topEdge'));
      }
    },
    buildSiblingNode: function ($nodeChart, data) {
      var newSiblingCount = $.isArray(data) ? data.length : data.children.length;
      var existingSibligCount = $nodeChart.parent().is('.nodes') ? $nodeChart.siblings().length + 1 : 1;
      var siblingCount = existingSibligCount + newSiblingCount;
      var insertPostion = (siblingCount > 1) ? Math.floor(siblingCount/2 - 1) : 0;
      if ($nodeChart.closest('.nodes').parent().is('.hierarchy')) {
        this.buildChildNode($nodeChart.parent().closest('.hierarchy'), data);
        var $siblings = $nodeChart.parent().closest('.hierarchy').children('.nodes:last').children('.hierarchy');
        if (existingSibligCount > 1) {
          $siblings.eq(0).before($nodeChart.siblings().addBack().unwrap());
        } else {
          $siblings.eq(insertPostion).after($nodeChart.unwrap());
        }
      } else { 
        this.buildHierarchy($nodeChart.parent().prepend($('<li class="hierarchy">')).children('.hierarchy:first'), data);
        $nodeChart.prevAll('.hierarchy').children('.nodes').children().eq(insertPostion).after($nodeChart);
      }
    },
    addSiblings: function ($node, data) {
      this.buildSiblingNode($node.closest('.hierarchy'), data);
      $node.closest('.nodes').data('siblingsLoaded', true);
      if (!$node.children('.leftEdge').length) {
        $node.children('.topEdge').after(`<i class="edge horizontalEdge rightEdge ${this.options.icons.theme}"></i><i class="edge horizontalEdge leftEdge ${this.options.icons.theme}"></i>`);
      }
      if (this.isInAction($node)) {
        this.switchHorizontalArrow($node);
        $node.children('.topEdge').removeClass(this.options.icons.expandToUp).addClass(this.options.icons.collapseToDown);
      }
    },
    removeNodes: function ($node) {
      var $wrapper = $node.closest('.hierarchy').parent();
      if ($wrapper.parent().is('.hierarchy')) {
        if (this.getNodeState($node, 'siblings').exist) {
          $node.closest('.hierarchy').remove();
          if ($wrapper.children().length === 1) {
            $wrapper.find('.node:first .horizontalEdge').remove();
          }
        } else {
          $wrapper.siblings('.node').find('.bottomEdge').remove()
            .end().end().remove();
        }
      } else { 
        $wrapper.closest('.orgchart').remove();
      }
    },
    hideDropZones: function () {
      var orgChartObj = this;
      orgChartObj.$chart.find('.allowedDrop')
        .removeClass('allowedDrop');
    },
    showDropZones: function (dragged) {
      var orgChartObj = this;
      orgChartObj.$chart.find('.node')
        .each(function (index, node) {
          $(node).addClass('allowedDrop');
        });
      orgChartObj.$chart.data('dragged', $(dragged));
    },
    processExternalDrop: function (dropZone, dragged) {
      if (dragged) {
        this.$chart.data('dragged', $(dragged));
      }
      var droppedOnNode = dropZone.closest('.node');
      droppedOnNode.triggerHandler({ 'type': 'drop' });
    },
    exportPDF: function(canvas, exportFilename){
      var doc = {};
      var docWidth = Math.floor(canvas.width);
      var docHeight = Math.floor(canvas.height);
      if (!window.jsPDF) {
        window.jsPDF = window.jspdf.jsPDF;
      }

      if (docWidth > docHeight) {
        doc = new jsPDF({
          orientation: 'landscape',
          unit: 'px',
          format: [docWidth, docHeight]
        });
      } else {
        doc = new jsPDF({
          orientation: 'portrait',
          unit: 'px',
          format: [docHeight, docWidth]
        });
      }
      doc.addImage(canvas.toDataURL(), 'png', 0, 0);
      doc.save(exportFilename + '.pdf');
    },
    exportPNG: function(canvas, exportFilename){
      var that = this;
      var isWebkit = 'WebkitAppearance' in document.documentElement.style;
      var isFf = !!window.sidebar;
      var isEdge = navigator.appName === 'Microsoft Internet Explorer' || (navigator.appName === "Netscape" && navigator.appVersion.indexOf('Edge') > -1);
      var $chartContainer = this.$chartContainer;

      if ((!isWebkit && !isFf) || isEdge) {
        window.navigator.msSaveBlob(canvas.msToBlob(), exportFilename + '.png');
      } else {
        var selector = '.download-btn' + (that.options.chartClass !== '' ? '.' + that.options.chartClass : '');

        if (!$chartContainer.find(selector).length) {
          $chartContainer.append('<a class="download-btn' + (that.options.chartClass !== '' ? ' ' + that.options.chartClass : '') + '"'
                                 + ' download="' + exportFilename + '.png"></a>');
        }

        $chartContainer.find(selector).attr('href', canvas.toDataURL())[0].click();
      }
    },
    export: function (exportFilename, exportFileextension) {
      var that = this;
      exportFilename = (typeof exportFilename !== 'undefined') ?  exportFilename : this.options.exportFilename;
      exportFileextension = (typeof exportFileextension !== 'undefined') ?  exportFileextension : this.options.exportFileextension;
      if ($(this).children('.spinner').length) {
        return false;
      }
      var $chartContainer = this.$chartContainer;
      var $mask = $chartContainer.find('.mask');
      if (!$mask.length) {
        $chartContainer.append(`<div class="mask"><i class="${this.options.icons.theme} ${this.options.icons.spinner} spinner"></i></div>`);
      } else {
        $mask.removeClass('hidden');
      }
      var sourceChart = $chartContainer.addClass('canvasContainer').find('.orgchart:not(".hidden")').get(0);
      var flag = that.options.direction === 'l2r' || that.options.direction === 'r2l';
      html2canvas(sourceChart, {
        'width': flag ? sourceChart.clientHeight : sourceChart.clientWidth,
        'height': flag ? sourceChart.clientWidth : sourceChart.clientHeight,
        'onclone': function (cloneDoc) {
          $(cloneDoc).find('.canvasContainer').css('overflow', 'visible')
            .find('.orgchart:not(".hidden"):first').css('transform', '');
        }
      })
      .then(function (canvas) {
        $chartContainer.find('.mask').addClass('hidden');

        if (exportFileextension.toLowerCase() === 'pdf') {
          that.exportPDF(canvas, exportFilename);
        } else {
          that.exportPNG(canvas, exportFilename);
        }

        $chartContainer.removeClass('canvasContainer');
      }, function () {
        $chartContainer.removeClass('canvasContainer');
      });
    }
  };

  $.fn.orgchart = function (opts) {
    return new OrgChart(this, opts).init();
  };

}));










(function( factory ) {
	"use strict";

	if ( typeof define === 'function' && define.amd ) {
		define( ['jquery'], function ( $ ) {
			return factory( $, window, document );
		} );
	}
	else if ( typeof exports === 'object' ) {
		module.exports = function (root, $) {
			if ( ! root ) {
				root = window;
			}

			if ( ! $ ) {
				$ = typeof window !== 'undefined' ? 
					require('jquery') :
					require('jquery')( root );
			}

			return factory( $, root, root.document );
		};
	}
	else {
		factory( jQuery, window, document );
	}
}
(function( $, window, document, undefined ) {
	"use strict";


	var DataTable = function ( options )
	{

		this.$ = function ( sSelector, oOpts )
		{
			return this.api(true).$( sSelector, oOpts );
		};



		this._ = function ( sSelector, oOpts )
		{
			return this.api(true).rows( sSelector, oOpts ).data();
		};



		this.api = function ( traditional )
		{
			return traditional ?
				new _Api(
					_fnSettingsFromNode( this[ _ext.iApiIndex ] )
				) :
				new _Api( this );
		};



		this.fnAddData = function( data, redraw )
		{
			var api = this.api( true );


			var rows = Array.isArray(data) && ( Array.isArray(data[0]) || $.isPlainObject(data[0]) ) ?
				api.rows.add( data ) :
				api.row.add( data );

					if ( redraw === undefined || redraw ) {
				api.draw();
			}

					return rows.flatten().toArray();
		};



		this.fnAdjustColumnSizing = function ( bRedraw )
		{
			var api = this.api( true ).columns.adjust();
			var settings = api.settings()[0];
			var scroll = settings.oScroll;

					if ( bRedraw === undefined || bRedraw ) {
				api.draw( false );
			}
			else if ( scroll.sX !== "" || scroll.sY !== "" ) {

				_fnScrollDraw( settings );
			}
		};



		this.fnClearTable = function( bRedraw )
		{
			var api = this.api( true ).clear();

					if ( bRedraw === undefined || bRedraw ) {
				api.draw();
			}
		};



		this.fnClose = function( nTr )
		{
			this.api( true ).row( nTr ).child.hide();
		};



		this.fnDeleteRow = function( target, callback, redraw )
		{
			var api = this.api( true );
			var rows = api.rows( target );
			var settings = rows.settings()[0];
			var data = settings.aoData[ rows[0][0] ];

					rows.remove();

					if ( callback ) {
				callback.call( this, settings, data );
			}

					if ( redraw === undefined || redraw ) {
				api.draw();
			}

					return data;
		};



		this.fnDestroy = function ( remove )
		{
			this.api( true ).destroy( remove );
		};



		this.fnDraw = function( complete )
		{
			this.api( true ).draw( complete );
		};



		this.fnFilter = function( sInput, iColumn, bRegex, bSmart, bShowGlobal, bCaseInsensitive )
		{
			var api = this.api( true );

					if ( iColumn === null || iColumn === undefined ) {
				api.search( sInput, bRegex, bSmart, bCaseInsensitive );
			}
			else {
				api.column( iColumn ).search( sInput, bRegex, bSmart, bCaseInsensitive );
			}

					api.draw();
		};



		this.fnGetData = function( src, col )
		{
			var api = this.api( true );

					if ( src !== undefined ) {
				var type = src.nodeName ? src.nodeName.toLowerCase() : '';

						return col !== undefined || type == 'td' || type == 'th' ?
					api.cell( src, col ).data() :
					api.row( src ).data() || null;
			}

					return api.data().toArray();
		};



		this.fnGetNodes = function( iRow )
		{
			var api = this.api( true );

					return iRow !== undefined ?
				api.row( iRow ).node() :
				api.rows().nodes().flatten().toArray();
		};



		this.fnGetPosition = function( node )
		{
			var api = this.api( true );
			var nodeName = node.nodeName.toUpperCase();

					if ( nodeName == 'TR' ) {
				return api.row( node ).index();
			}
			else if ( nodeName == 'TD' || nodeName == 'TH' ) {
				var cell = api.cell( node ).index();

						return [
					cell.row,
					cell.columnVisible,
					cell.column
				];
			}
			return null;
		};



		this.fnIsOpen = function( nTr )
		{
			return this.api( true ).row( nTr ).child.isShown();
		};



		this.fnOpen = function( nTr, mHtml, sClass )
		{
			return this.api( true )
				.row( nTr )
				.child( mHtml, sClass )
				.show()
				.child()[0];
		};



		this.fnPageChange = function ( mAction, bRedraw )
		{
			var api = this.api( true ).page( mAction );

					if ( bRedraw === undefined || bRedraw ) {
				api.draw(false);
			}
		};



		this.fnSetColumnVis = function ( iCol, bShow, bRedraw )
		{
			var api = this.api( true ).column( iCol ).visible( bShow );

					if ( bRedraw === undefined || bRedraw ) {
				api.columns.adjust().draw();
			}
		};



		this.fnSettings = function()
		{
			return _fnSettingsFromNode( this[_ext.iApiIndex] );
		};



		this.fnSort = function( aaSort )
		{
			this.api( true ).order( aaSort ).draw();
		};



		this.fnSortListener = function( nNode, iColumn, fnCallback )
		{
			this.api( true ).order.listener( nNode, iColumn, fnCallback );
		};



		this.fnUpdate = function( mData, mRow, iColumn, bRedraw, bAction )
		{
			var api = this.api( true );

					if ( iColumn === undefined || iColumn === null ) {
				api.row( mRow ).data( mData );
			}
			else {
				api.cell( mRow, iColumn ).data( mData );
			}

					if ( bAction === undefined || bAction ) {
				api.columns.adjust();
			}

					if ( bRedraw === undefined || bRedraw ) {
				api.draw();
			}
			return 0;
		};



		this.fnVersionCheck = _ext.fnVersionCheck;


				var _that = this;
		var emptyInit = options === undefined;
		var len = this.length;

		if ( emptyInit ) {
			options = {};
		}

		this.oApi = this.internal = _ext.internal;

		for ( var fn in DataTable.ext.internal ) {
			if ( fn ) {
				this[fn] = _fnExternApiFunc(fn);
			}
		}

		this.each(function() {
			var o = {};
			var oInit = len > 1 ? 
				_fnExtend( o, options, true ) :
				options;


			var i=0, iLen, j, jLen, k, kLen;
			var sId = this.getAttribute( 'id' );
			var bInitHandedOff = false;
			var defaults = DataTable.defaults;
			var $this = $(this);



			if ( this.nodeName.toLowerCase() != 'table' )
			{
				_fnLog( null, 0, 'Non-table node initialisation ('+this.nodeName+')', 2 );
				return;
			}


			_fnCompatOpts( defaults );
			_fnCompatCols( defaults.column );


			_fnCamelToHungarian( defaults, defaults, true );
			_fnCamelToHungarian( defaults.column, defaults.column, true );


			_fnCamelToHungarian( defaults, $.extend( oInit, $this.data() ), true );




			var allSettings = DataTable.settings;
			for ( i=0, iLen=allSettings.length ; i<iLen ; i++ )
			{
				var s = allSettings[i];


				if (
					s.nTable == this ||
					(s.nTHead && s.nTHead.parentNode == this) ||
					(s.nTFoot && s.nTFoot.parentNode == this)
				) {
					var bRetrieve = oInit.bRetrieve !== undefined ? oInit.bRetrieve : defaults.bRetrieve;
					var bDestroy = oInit.bDestroy !== undefined ? oInit.bDestroy : defaults.bDestroy;

								if ( emptyInit || bRetrieve )
					{
						return s.oInstance;
					}
					else if ( bDestroy )
					{
						s.oInstance.fnDestroy();
						break;
					}
					else
					{
						_fnLog( s, 0, 'Cannot reinitialise DataTable', 3 );
						return;
					}
				}


				if ( s.sTableId == this.id )
				{
					allSettings.splice( i, 1 );
					break;
				}
			}


			if ( sId === null || sId === "" )
			{
				sId = "DataTables_Table_"+(DataTable.ext._unique++);
				this.id = sId;
			}


			var oSettings = $.extend( true, {}, DataTable.models.oSettings, {
				"sDestroyWidth": $this[0].style.width,
				"sInstance":     sId,
				"sTableId":      sId
			} );
			oSettings.nTable = this;
			oSettings.oApi   = _that.internal;
			oSettings.oInit  = oInit;

						allSettings.push( oSettings );

			oSettings.oInstance = (_that.length===1) ? _that : $this.dataTable();

			_fnCompatOpts( oInit );
			_fnLanguageCompat( oInit.oLanguage );

			if ( oInit.aLengthMenu && ! oInit.iDisplayLength )
			{
				oInit.iDisplayLength = Array.isArray( oInit.aLengthMenu[0] ) ?
					oInit.aLengthMenu[0][0] : oInit.aLengthMenu[0];
			}

			oInit = _fnExtend( $.extend( true, {}, defaults ), oInit );


			_fnMap( oSettings.oFeatures, oInit, [
				"bPaginate",
				"bLengthChange",
				"bFilter",
				"bSort",
				"bSortMulti",
				"bInfo",
				"bProcessing",
				"bAutoWidth",
				"bSortClasses",
				"bServerSide",
				"bDeferRender"
			] );
			_fnMap( oSettings, oInit, [
				"asStripeClasses",
				"ajax",
				"fnServerData",
				"fnFormatNumber",
				"sServerMethod",
				"aaSorting",
				"aaSortingFixed",
				"aLengthMenu",
				"sPaginationType",
				"sAjaxSource",
				"sAjaxDataProp",
				"iStateDuration",
				"sDom",
				"bSortCellsTop",
				"iTabIndex",
				"fnStateLoadCallback",
				"fnStateSaveCallback",
				"renderer",
				"searchDelay",
				"rowId",
				[ "iCookieDuration", "iStateDuration" ], 
				[ "oSearch", "oPreviousSearch" ],
				[ "aoSearchCols", "aoPreSearchCols" ],
				[ "iDisplayLength", "_iDisplayLength" ]
			] );
			_fnMap( oSettings.oScroll, oInit, [
				[ "sScrollX", "sX" ],
				[ "sScrollXInner", "sXInner" ],
				[ "sScrollY", "sY" ],
				[ "bScrollCollapse", "bCollapse" ]
			] );
			_fnMap( oSettings.oLanguage, oInit, "fnInfoCallback" );


			_fnCallbackReg( oSettings, 'aoDrawCallback',       oInit.fnDrawCallback,      'user' );
			_fnCallbackReg( oSettings, 'aoServerParams',       oInit.fnServerParams,      'user' );
			_fnCallbackReg( oSettings, 'aoStateSaveParams',    oInit.fnStateSaveParams,   'user' );
			_fnCallbackReg( oSettings, 'aoStateLoadParams',    oInit.fnStateLoadParams,   'user' );
			_fnCallbackReg( oSettings, 'aoStateLoaded',        oInit.fnStateLoaded,       'user' );
			_fnCallbackReg( oSettings, 'aoRowCallback',        oInit.fnRowCallback,       'user' );
			_fnCallbackReg( oSettings, 'aoRowCreatedCallback', oInit.fnCreatedRow,        'user' );
			_fnCallbackReg( oSettings, 'aoHeaderCallback',     oInit.fnHeaderCallback,    'user' );
			_fnCallbackReg( oSettings, 'aoFooterCallback',     oInit.fnFooterCallback,    'user' );
			_fnCallbackReg( oSettings, 'aoInitComplete',       oInit.fnInitComplete,      'user' );
			_fnCallbackReg( oSettings, 'aoPreDrawCallback',    oInit.fnPreDrawCallback,   'user' );

						oSettings.rowIdFn = _fnGetObjectDataFn( oInit.rowId );


			_fnBrowserDetect( oSettings );

						var oClasses = oSettings.oClasses;

						$.extend( oClasses, DataTable.ext.classes, oInit.oClasses );
			$this.addClass( oClasses.sTable );


									if ( oSettings.iInitDisplayStart === undefined )
			{

				oSettings.iInitDisplayStart = oInit.iDisplayStart;
				oSettings._iDisplayStart = oInit.iDisplayStart;
			}

						if ( oInit.iDeferLoading !== null )
			{
				oSettings.bDeferLoading = true;
				var tmp = Array.isArray( oInit.iDeferLoading );
				oSettings._iRecordsDisplay = tmp ? oInit.iDeferLoading[0] : oInit.iDeferLoading;
				oSettings._iRecordsTotal = tmp ? oInit.iDeferLoading[1] : oInit.iDeferLoading;
			}


			var oLanguage = oSettings.oLanguage;
			$.extend( true, oLanguage, oInit.oLanguage );

						if ( oLanguage.sUrl )
			{

				$.ajax( {
					dataType: 'json',
					url: oLanguage.sUrl,
					success: function ( json ) {
						_fnLanguageCompat( json );
						_fnCamelToHungarian( defaults.oLanguage, json );
						$.extend( true, oLanguage, json );

									_fnCallbackFire( oSettings, null, 'i18n', [oSettings]);
						_fnInitialise( oSettings );
					},
					error: function () {
						_fnInitialise( oSettings );
					}
				} );
				bInitHandedOff = true;
			}
			else {
				_fnCallbackFire( oSettings, null, 'i18n', [oSettings]);
			}


			if ( oInit.asStripeClasses === null )
			{
				oSettings.asStripeClasses =[
					oClasses.sStripeOdd,
					oClasses.sStripeEven
				];
			}


			var stripeClasses = oSettings.asStripeClasses;
			var rowOne = $this.children('tbody').find('tr').eq(0);
			if ( $.inArray( true, $.map( stripeClasses, function(el, i) {
				return rowOne.hasClass(el);
			} ) ) !== -1 ) {
				$('tbody tr', this).removeClass( stripeClasses.join(' ') );
				oSettings.asDestroyStripes = stripeClasses.slice();
			}


			var anThs = [];
			var aoColumnsInit;
			var nThead = this.getElementsByTagName('thead');
			if ( nThead.length !== 0 )
			{
				_fnDetectHeader( oSettings.aoHeader, nThead[0] );
				anThs = _fnGetUniqueThs( oSettings );
			}


			if ( oInit.aoColumns === null )
			{
				aoColumnsInit = [];
				for ( i=0, iLen=anThs.length ; i<iLen ; i++ )
				{
					aoColumnsInit.push( null );
				}
			}
			else
			{
				aoColumnsInit = oInit.aoColumns;
			}


			for ( i=0, iLen=aoColumnsInit.length ; i<iLen ; i++ )
			{
				_fnAddColumn( oSettings, anThs ? anThs[i] : null );
			}


			_fnApplyColumnDefs( oSettings, oInit.aoColumnDefs, aoColumnsInit, function (iCol, oDef) {
				_fnColumnOptions( oSettings, iCol, oDef );
			} );


			if ( rowOne.length ) {
				var a = function ( cell, name ) {
					return cell.getAttribute( 'data-'+name ) !== null ? name : null;
				};

							$( rowOne[0] ).children('th, td').each( function (i, cell) {
					var col = oSettings.aoColumns[i];

								if ( col.mData === i ) {
						var sort = a( cell, 'sort' ) || a( cell, 'order' );
						var filter = a( cell, 'filter' ) || a( cell, 'search' );

									if ( sort !== null || filter !== null ) {
							col.mData = {
								_:      i+'.display',
								sort:   sort !== null   ? i+'.@data-'+sort   : undefined,
								type:   sort !== null   ? i+'.@data-'+sort   : undefined,
								filter: filter !== null ? i+'.@data-'+filter : undefined
							};

										_fnColumnOptions( oSettings, i );
						}
					}
				} );
			}

						var features = oSettings.oFeatures;
			var loadedInit = function () {


				if ( oInit.aaSorting === undefined ) {
					var sorting = oSettings.aaSorting;
					for ( i=0, iLen=sorting.length ; i<iLen ; i++ ) {
						sorting[i][1] = oSettings.aoColumns[ i ].asSorting[0];
					}
				}


				_fnSortingClasses( oSettings );

							if ( features.bSort ) {
					_fnCallbackReg( oSettings, 'aoDrawCallback', function () {
						if ( oSettings.bSorted ) {
							var aSort = _fnSortFlatten( oSettings );
							var sortedColumns = {};

										$.each( aSort, function (i, val) {
								sortedColumns[ val.src ] = val.dir;
							} );

										_fnCallbackFire( oSettings, null, 'order', [oSettings, aSort, sortedColumns] );
							_fnSortAria( oSettings );
						}
					} );
				}

							_fnCallbackReg( oSettings, 'aoDrawCallback', function () {
					if ( oSettings.bSorted || _fnDataSource( oSettings ) === 'ssp' || features.bDeferRender ) {
						_fnSortingClasses( oSettings );
					}
				}, 'sc' );




				var captions = $this.children('caption').each( function () {
					this._captionSide = $(this).css('caption-side');
				} );

							var thead = $this.children('thead');
				if ( thead.length === 0 ) {
					thead = $('<thead/>').appendTo($this);
				}
				oSettings.nTHead = thead[0];

							var tbody = $this.children('tbody');
				if ( tbody.length === 0 ) {
					tbody = $('<tbody/>').appendTo($this);
				}
				oSettings.nTBody = tbody[0];

							var tfoot = $this.children('tfoot');
				if ( tfoot.length === 0 && captions.length > 0 && (oSettings.oScroll.sX !== "" || oSettings.oScroll.sY !== "") ) {
					tfoot = $('<tfoot/>').appendTo($this);
				}

							if ( tfoot.length === 0 || tfoot.children().length === 0 ) {
					$this.addClass( oClasses.sNoFooter );
				}
				else if ( tfoot.length > 0 ) {
					oSettings.nTFoot = tfoot[0];
					_fnDetectHeader( oSettings.aoFooter, oSettings.nTFoot );
				}


				if ( oInit.aaData ) {
					for ( i=0 ; i<oInit.aaData.length ; i++ ) {
						_fnAddData( oSettings, oInit.aaData[ i ] );
					}
				}
				else if ( oSettings.bDeferLoading || _fnDataSource( oSettings ) == 'dom' ) {

					_fnAddTr( oSettings, $(oSettings.nTBody).children('tr') );
				}


				oSettings.aiDisplay = oSettings.aiDisplayMaster.slice();


				oSettings.bInitialised = true;


				if ( bInitHandedOff === false ) {
					_fnInitialise( oSettings );
				}
			};


			if ( oInit.bStateSave )
			{
				features.bStateSave = true;
				_fnCallbackReg( oSettings, 'aoDrawCallback', _fnSaveState, 'state_save' );
				_fnLoadState( oSettings, oInit, loadedInit );
			}
			else {
				loadedInit();
			}

					} );
		_that = null;
		return this;
	};






		var _ext; 
	var _Api; 
	var _api_register; 
	var _api_registerPlural; 

		var _re_dic = {};
	var _re_new_lines = /[\r\n\u2028]/g;
	var _re_html = /<.*?>/g;

	var _re_date = /^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/;

	var _re_escape_regex = new RegExp( '(\\' + [ '/', '.', '*', '+', '?', '|', '(', ')', '[', ']', '{', '}', '\\', '$', '^', '-' ].join('|\\') + ')', 'g' );

	var _re_formatted_numeric = /['\u00A0,$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi;


			var _empty = function ( d ) {
		return !d || d === true || d === '-' ? true : false;
	};


			var _intVal = function ( s ) {
		var integer = parseInt( s, 10 );
		return !isNaN(integer) && isFinite(s) ? integer : null;
	};

	var _numToDecimal = function ( num, decimalPoint ) {
		if ( ! _re_dic[ decimalPoint ] ) {
			_re_dic[ decimalPoint ] = new RegExp( _fnEscapeRegex( decimalPoint ), 'g' );
		}
		return typeof num === 'string' && decimalPoint !== '.' ?
			num.replace( /\./g, '' ).replace( _re_dic[ decimalPoint ], '.' ) :
			num;
	};


			var _isNumber = function ( d, decimalPoint, formatted ) {
		var strType = typeof d === 'string';

		if ( _empty( d ) ) {
			return true;
		}

			if ( decimalPoint && strType ) {
			d = _numToDecimal( d, decimalPoint );
		}

			if ( formatted && strType ) {
			d = d.replace( _re_formatted_numeric, '' );
		}

			return !isNaN( parseFloat(d) ) && isFinite( d );
	};


	var _isHtml = function ( d ) {
		return _empty( d ) || typeof d === 'string';
	};


			var _htmlNumeric = function ( d, decimalPoint, formatted ) {
		if ( _empty( d ) ) {
			return true;
		}

			var html = _isHtml( d );
		return ! html ?
			null :
			_isNumber( _stripHtml( d ), decimalPoint, formatted ) ?
				true :
				null;
	};


			var _pluck = function ( a, prop, prop2 ) {
		var out = [];
		var i=0, ien=a.length;

		if ( prop2 !== undefined ) {
			for ( ; i<ien ; i++ ) {
				if ( a[i] && a[i][ prop ] ) {
					out.push( a[i][ prop ][ prop2 ] );
				}
			}
		}
		else {
			for ( ; i<ien ; i++ ) {
				if ( a[i] ) {
					out.push( a[i][ prop ] );
				}
			}
		}

			return out;
	};


	var _pluck_order = function ( a, order, prop, prop2 )
	{
		var out = [];
		var i=0, ien=order.length;

		if ( prop2 !== undefined ) {
			for ( ; i<ien ; i++ ) {
				if ( a[ order[i] ][ prop ] ) {
					out.push( a[ order[i] ][ prop ][ prop2 ] );
				}
			}
		}
		else {
			for ( ; i<ien ; i++ ) {
				out.push( a[ order[i] ][ prop ] );
			}
		}

			return out;
	};


			var _range = function ( len, start )
	{
		var out = [];
		var end;

			if ( start === undefined ) {
			start = 0;
			end = len;
		}
		else {
			end = start;
			start = len;
		}

			for ( var i=start ; i<end ; i++ ) {
			out.push( i );
		}

			return out;
	};


			var _removeEmpty = function ( a )
	{
		var out = [];

			for ( var i=0, ien=a.length ; i<ien ; i++ ) {
			if ( a[i] ) { 
				out.push( a[i] );
			}
		}

			return out;
	};


			var _stripHtml = function ( d ) {
		return d.replace( _re_html, '' );
	};



	var _areAllUnique = function ( src ) {
		if ( src.length < 2 ) {
			return true;
		}

			var sorted = src.slice().sort();
		var last = sorted[0];

			for ( var i=1, ien=sorted.length ; i<ien ; i++ ) {
			if ( sorted[i] === last ) {
				return false;
			}

				last = sorted[i];
		}

			return true;
	};



	var _unique = function ( src )
	{
		if ( _areAllUnique( src ) ) {
			return src.slice();
		}

		var
			out = [],
			val,
			i, ien=src.length,
			j, k=0;

			again: for ( i=0 ; i<ien ; i++ ) {
			val = src[i];

				for ( j=0 ; j<k ; j++ ) {
				if ( out[j] === val ) {
					continue again;
				}
			}

				out.push( val );
			k++;
		}

			return out;
	};

	var _flatten = function (out, val) {
		if (Array.isArray(val)) {
			for (var i=0 ; i<val.length ; i++) {
				_flatten(out, val[i]);
			}
		}
		else {
			out.push(val);
		}

	  		return out;
	}

	if (! Array.isArray) {
	    Array.isArray = function(arg) {
	        return Object.prototype.toString.call(arg) === '[object Array]';
	    };
	}

	if (!String.prototype.trim) {
	  String.prototype.trim = function () {
	    return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '');
	  };
	}


	DataTable.util = {

		throttle: function ( fn, freq ) {
			var
				frequency = freq !== undefined ? freq : 200,
				last,
				timer;

				return function () {
				var
					that = this,
					now  = +new Date(),
					args = arguments;

					if ( last && now < last + frequency ) {
					clearTimeout( timer );

						timer = setTimeout( function () {
						last = undefined;
						fn.apply( that, args );
					}, frequency );
				}
				else {
					last = now;
					fn.apply( that, args );
				}
			};
		},



		escapeRegex: function ( val ) {
			return val.replace( _re_escape_regex, '\\$1' );
		}
	};




	function _fnHungarianMap ( o )
	{
		var
			hungarian = 'a aa ai ao as b fn i m o s ',
			match,
			newKey,
			map = {};

			$.each( o, function (key, val) {
			match = key.match(/^([^A-Z]+?)([A-Z])/);

				if ( match && hungarian.indexOf(match[1]+' ') !== -1 )
			{
				newKey = key.replace( match[0], match[2].toLowerCase() );
				map[ newKey ] = key;

					if ( match[1] === 'o' )
				{
					_fnHungarianMap( o[key] );
				}
			}
		} );

			o._hungarianMap = map;
	}



	function _fnCamelToHungarian ( src, user, force )
	{
		if ( ! src._hungarianMap ) {
			_fnHungarianMap( src );
		}

			var hungarianKey;

			$.each( user, function (key, val) {
			hungarianKey = src._hungarianMap[ key ];

				if ( hungarianKey !== undefined && (force || user[hungarianKey] === undefined) )
			{
				if ( hungarianKey.charAt(0) === 'o' )
				{
					if ( ! user[ hungarianKey ] ) {
						user[ hungarianKey ] = {};
					}
					$.extend( true, user[hungarianKey], user[key] );

						_fnCamelToHungarian( src[hungarianKey], user[hungarianKey], force );
				}
				else {
					user[hungarianKey] = user[ key ];
				}
			}
		} );
	}



	function _fnLanguageCompat( lang )
	{
		var defaults = DataTable.defaults.oLanguage;

		var defaultDecimal = defaults.sDecimal;
		if ( defaultDecimal ) {
			_addNumericSort( defaultDecimal );
		}

			if ( lang ) {
			var zeroRecords = lang.sZeroRecords;

			if ( ! lang.sEmptyTable && zeroRecords &&
				defaults.sEmptyTable === "No data available in table" )
			{
				_fnMap( lang, lang, 'sZeroRecords', 'sEmptyTable' );
			}

			if ( ! lang.sLoadingRecords && zeroRecords &&
				defaults.sLoadingRecords === "Loading..." )
			{
				_fnMap( lang, lang, 'sZeroRecords', 'sLoadingRecords' );
			}

			if ( lang.sInfoThousands ) {
				lang.sThousands = lang.sInfoThousands;
			}

				var decimal = lang.sDecimal;
			if ( decimal && defaultDecimal !== decimal ) {
				_addNumericSort( decimal );
			}
		}
	}



	var _fnCompatMap = function ( o, knew, old ) {
		if ( o[ knew ] !== undefined ) {
			o[ old ] = o[ knew ];
		}
	};



	function _fnCompatOpts ( init )
	{
		_fnCompatMap( init, 'ordering',      'bSort' );
		_fnCompatMap( init, 'orderMulti',    'bSortMulti' );
		_fnCompatMap( init, 'orderClasses',  'bSortClasses' );
		_fnCompatMap( init, 'orderCellsTop', 'bSortCellsTop' );
		_fnCompatMap( init, 'order',         'aaSorting' );
		_fnCompatMap( init, 'orderFixed',    'aaSortingFixed' );
		_fnCompatMap( init, 'paging',        'bPaginate' );
		_fnCompatMap( init, 'pagingType',    'sPaginationType' );
		_fnCompatMap( init, 'pageLength',    'iDisplayLength' );
		_fnCompatMap( init, 'searching',     'bFilter' );

		if ( typeof init.sScrollX === 'boolean' ) {
			init.sScrollX = init.sScrollX ? '100%' : '';
		}
		if ( typeof init.scrollX === 'boolean' ) {
			init.scrollX = init.scrollX ? '100%' : '';
		}

		var searchCols = init.aoSearchCols;

			if ( searchCols ) {
			for ( var i=0, ien=searchCols.length ; i<ien ; i++ ) {
				if ( searchCols[i] ) {
					_fnCamelToHungarian( DataTable.models.oSearch, searchCols[i] );
				}
			}
		}
	}



	function _fnCompatCols ( init )
	{
		_fnCompatMap( init, 'orderable',     'bSortable' );
		_fnCompatMap( init, 'orderData',     'aDataSort' );
		_fnCompatMap( init, 'orderSequence', 'asSorting' );
		_fnCompatMap( init, 'orderDataType', 'sortDataType' );

		var dataSort = init.aDataSort;
		if ( typeof dataSort === 'number' && ! Array.isArray( dataSort ) ) {
			init.aDataSort = [ dataSort ];
		}
	}



	function _fnBrowserDetect( settings )
	{
		if ( ! DataTable.__browser ) {
			var browser = {};
			DataTable.__browser = browser;

			var n = $('<div/>')
				.css( {
					position: 'fixed',
					top: 0,
					left: $(window).scrollLeft()*-1, 
					height: 1,
					width: 1,
					overflow: 'hidden'
				} )
				.append(
					$('<div/>')
						.css( {
							position: 'absolute',
							top: 1,
							left: 1,
							width: 100,
							overflow: 'scroll'
						} )
						.append(
							$('<div/>')
								.css( {
									width: '100%',
									height: 10
								} )
						)
				)
				.appendTo( 'body' );

				var outer = n.children();
			var inner = outer.children();


			browser.barWidth = outer[0].offsetWidth - outer[0].clientWidth;

			browser.bScrollOversize = inner[0].offsetWidth === 100 && outer[0].clientWidth !== 100;

			browser.bScrollbarLeft = Math.round( inner.offset().left ) !== 1;

			browser.bBounding = n[0].getBoundingClientRect().width ? true : false;

				n.remove();
		}

			$.extend( settings.oBrowser, DataTable.__browser );
		settings.oScroll.iBarWidth = DataTable.__browser.barWidth;
	}



	function _fnReduce ( that, fn, init, start, end, inc )
	{
		var
			i = start,
			value,
			isSet = false;

			if ( init !== undefined ) {
			value = init;
			isSet = true;
		}

			while ( i !== end ) {
			if ( ! that.hasOwnProperty(i) ) {
				continue;
			}

				value = isSet ?
				fn( value, that[i], i, that ) :
				that[i];

				isSet = true;
			i += inc;
		}

			return value;
	}


	function _fnAddColumn( oSettings, nTh )
	{
		var oDefaults = DataTable.defaults.column;
		var iCol = oSettings.aoColumns.length;
		var oCol = $.extend( {}, DataTable.models.oColumn, oDefaults, {
			"nTh": nTh ? nTh : document.createElement('th'),
			"sTitle":    oDefaults.sTitle    ? oDefaults.sTitle    : nTh ? nTh.innerHTML : '',
			"aDataSort": oDefaults.aDataSort ? oDefaults.aDataSort : [iCol],
			"mData": oDefaults.mData ? oDefaults.mData : iCol,
			idx: iCol
		} );
		oSettings.aoColumns.push( oCol );

		var searchCols = oSettings.aoPreSearchCols;
		searchCols[ iCol ] = $.extend( {}, DataTable.models.oSearch, searchCols[ iCol ] );

		_fnColumnOptions( oSettings, iCol, $(nTh).data() );
	}



	function _fnColumnOptions( oSettings, iCol, oOptions )
	{
		var oCol = oSettings.aoColumns[ iCol ];
		var oClasses = oSettings.oClasses;
		var th = $(oCol.nTh);

		if ( ! oCol.sWidthOrig ) {
			oCol.sWidthOrig = th.attr('width') || null;

			var t = (th.attr('style') || '').match(/width:\s*(\d+[pxem%]+)/);
			if ( t ) {
				oCol.sWidthOrig = t[1];
			}
		}


		if ( oOptions !== undefined && oOptions !== null )
		{
			_fnCompatCols( oOptions );

			_fnCamelToHungarian( DataTable.defaults.column, oOptions, true );


			if ( oOptions.mDataProp !== undefined && !oOptions.mData )
			{
				oOptions.mData = oOptions.mDataProp;
			}

				if ( oOptions.sType )
			{
				oCol._sManualType = oOptions.sType;
			}

			if ( oOptions.className && ! oOptions.sClass )
			{
				oOptions.sClass = oOptions.className;
			}
			if ( oOptions.sClass ) {
				th.addClass( oOptions.sClass );
			}

				$.extend( oCol, oOptions );
			_fnMap( oCol, oOptions, "sWidth", "sWidthOrig" );


			if ( oOptions.iDataSort !== undefined )
			{
				oCol.aDataSort = [ oOptions.iDataSort ];
			}
			_fnMap( oCol, oOptions, "aDataSort" );
		}


		var mDataSrc = oCol.mData;
		var mData = _fnGetObjectDataFn( mDataSrc );
		var mRender = oCol.mRender ? _fnGetObjectDataFn( oCol.mRender ) : null;

			var attrTest = function( src ) {
			return typeof src === 'string' && src.indexOf('@') !== -1;
		};
		oCol._bAttrSrc = $.isPlainObject( mDataSrc ) && (
			attrTest(mDataSrc.sort) || attrTest(mDataSrc.type) || attrTest(mDataSrc.filter)
		);
		oCol._setter = null;

			oCol.fnGetData = function (rowData, type, meta) {
			var innerData = mData( rowData, type, undefined, meta );

				return mRender && type ?
				mRender( innerData, type, rowData, meta ) :
				innerData;
		};
		oCol.fnSetData = function ( rowData, val, meta ) {
			return _fnSetObjectDataFn( mDataSrc )( rowData, val, meta );
		};

		if ( typeof mDataSrc !== 'number' ) {
			oSettings._rowReadObject = true;
		}


		if ( !oSettings.oFeatures.bSort )
		{
			oCol.bSortable = false;
			th.addClass( oClasses.sSortableNone ); 
		}


		var bAsc = $.inArray('asc', oCol.asSorting) !== -1;
		var bDesc = $.inArray('desc', oCol.asSorting) !== -1;
		if ( !oCol.bSortable || (!bAsc && !bDesc) )
		{
			oCol.sSortingClass = oClasses.sSortableNone;
			oCol.sSortingClassJUI = "";
		}
		else if ( bAsc && !bDesc )
		{
			oCol.sSortingClass = oClasses.sSortableAsc;
			oCol.sSortingClassJUI = oClasses.sSortJUIAscAllowed;
		}
		else if ( !bAsc && bDesc )
		{
			oCol.sSortingClass = oClasses.sSortableDesc;
			oCol.sSortingClassJUI = oClasses.sSortJUIDescAllowed;
		}
		else
		{
			oCol.sSortingClass = oClasses.sSortable;
			oCol.sSortingClassJUI = oClasses.sSortJUI;
		}
	}



	function _fnAdjustColumnSizing ( settings )
	{

		if ( settings.oFeatures.bAutoWidth !== false )
		{
			var columns = settings.aoColumns;

				_fnCalculateColumnWidths( settings );
			for ( var i=0 , iLen=columns.length ; i<iLen ; i++ )
			{
				columns[i].nTh.style.width = columns[i].sWidth;
			}
		}

			var scroll = settings.oScroll;
		if ( scroll.sY !== '' || scroll.sX !== '')
		{
			_fnScrollDraw( settings );
		}

			_fnCallbackFire( settings, null, 'column-sizing', [settings] );
	}



	function _fnVisibleToColumnIndex( oSettings, iMatch )
	{
		var aiVis = _fnGetColumns( oSettings, 'bVisible' );

			return typeof aiVis[iMatch] === 'number' ?
			aiVis[iMatch] :
			null;
	}



	function _fnColumnIndexToVisible( oSettings, iMatch )
	{
		var aiVis = _fnGetColumns( oSettings, 'bVisible' );
		var iPos = $.inArray( iMatch, aiVis );

			return iPos !== -1 ? iPos : null;
	}



	function _fnVisbleColumns( oSettings )
	{
		var vis = 0;

		$.each( oSettings.aoColumns, function ( i, col ) {
			if ( col.bVisible && $(col.nTh).css('display') !== 'none' ) {
				vis++;
			}
		} );

			return vis;
	}



	function _fnGetColumns( oSettings, sParam )
	{
		var a = [];

			$.map( oSettings.aoColumns, function(val, i) {
			if ( val[sParam] ) {
				a.push( i );
			}
		} );

			return a;
	}



	function _fnColumnTypes ( settings )
	{
		var columns = settings.aoColumns;
		var data = settings.aoData;
		var types = DataTable.ext.type.detect;
		var i, ien, j, jen, k, ken;
		var col, cell, detectedType, cache;

		for ( i=0, ien=columns.length ; i<ien ; i++ ) {
			col = columns[i];
			cache = [];

				if ( ! col.sType && col._sManualType ) {
				col.sType = col._sManualType;
			}
			else if ( ! col.sType ) {
				for ( j=0, jen=types.length ; j<jen ; j++ ) {
					for ( k=0, ken=data.length ; k<ken ; k++ ) {
						if ( cache[k] === undefined ) {
							cache[k] = _fnGetCellData( settings, k, i, 'type' );
						}

							detectedType = types[j]( cache[k], settings );

						if ( ! detectedType && j !== types.length-1 ) {
							break;
						}

						if ( detectedType === 'html' ) {
							break;
						}
					}

					if ( detectedType ) {
						col.sType = detectedType;
						break;
					}
				}

				if ( ! col.sType ) {
					col.sType = 'string';
				}
			}
		}
	}



	function _fnApplyColumnDefs( oSettings, aoColDefs, aoCols, fn )
	{
		var i, iLen, j, jLen, k, kLen, def;
		var columns = oSettings.aoColumns;

		if ( aoColDefs )
		{

			for ( i=aoColDefs.length-1 ; i>=0 ; i-- )
			{
				def = aoColDefs[i];


				var aTargets = def.targets !== undefined ?
					def.targets :
					def.aTargets;

					if ( ! Array.isArray( aTargets ) )
				{
					aTargets = [ aTargets ];
				}

					for ( j=0, jLen=aTargets.length ; j<jLen ; j++ )
				{
					if ( typeof aTargets[j] === 'number' && aTargets[j] >= 0 )
					{

						while( columns.length <= aTargets[j] )
						{
							_fnAddColumn( oSettings );
						}


						fn( aTargets[j], def );
					}
					else if ( typeof aTargets[j] === 'number' && aTargets[j] < 0 )
					{

						fn( columns.length+aTargets[j], def );
					}
					else if ( typeof aTargets[j] === 'string' )
					{

						for ( k=0, kLen=columns.length ; k<kLen ; k++ )
						{
							if ( aTargets[j] == "_all" ||
							     $(columns[k].nTh).hasClass( aTargets[j] ) )
							{
								fn( k, def );
							}
						}
					}
				}
			}
		}

		if ( aoCols )
		{
			for ( i=0, iLen=aoCols.length ; i<iLen ; i++ )
			{
				fn( i, aoCols[i] );
			}
		}
	}


	function _fnAddData ( oSettings, aDataIn, nTr, anTds )
	{

		var iRow = oSettings.aoData.length;
		var oData = $.extend( true, {}, DataTable.models.oRow, {
			src: nTr ? 'dom' : 'data',
			idx: iRow
		} );

			oData._aData = aDataIn;
		oSettings.aoData.push( oData );


		var nTd, sThisType;
		var columns = oSettings.aoColumns;

		for ( var i=0, iLen=columns.length ; i<iLen ; i++ )
		{
			columns[i].sType = null;
		}


		oSettings.aiDisplayMaster.push( iRow );

			var id = oSettings.rowIdFn( aDataIn );
		if ( id !== undefined ) {
			oSettings.aIds[ id ] = oData;
		}


		if ( nTr || ! oSettings.oFeatures.bDeferRender )
		{
			_fnCreateTr( oSettings, iRow, nTr, anTds );
		}

			return iRow;
	}



	function _fnAddTr( settings, trs )
	{
		var row;

		if ( ! (trs instanceof $) ) {
			trs = $(trs);
		}

			return trs.map( function (i, el) {
			row = _fnGetRowElements( settings, el );
			return _fnAddData( settings, row.data, el, row.cells );
		} );
	}



	function _fnNodeToDataIndex( oSettings, n )
	{
		return (n._DT_RowIndex!==undefined) ? n._DT_RowIndex : null;
	}



	function _fnNodeToColumnIndex( oSettings, iRow, n )
	{
		return $.inArray( n, oSettings.aoData[ iRow ].anCells );
	}



	function _fnGetCellData( settings, rowIdx, colIdx, type )
	{
		var draw           = settings.iDraw;
		var col            = settings.aoColumns[colIdx];
		var rowData        = settings.aoData[rowIdx]._aData;
		var defaultContent = col.sDefaultContent;
		var cellData       = col.fnGetData( rowData, type, {
			settings: settings,
			row:      rowIdx,
			col:      colIdx
		} );

			if ( cellData === undefined ) {
			if ( settings.iDrawError != draw && defaultContent === null ) {
				_fnLog( settings, 0, "Requested unknown parameter "+
					(typeof col.mData=='function' ? '{function}' : "'"+col.mData+"'")+
					" for row "+rowIdx+", column "+colIdx, 4 );
				settings.iDrawError = draw;
			}
			return defaultContent;
		}

		if ( (cellData === rowData || cellData === null) && defaultContent !== null && type !== undefined ) {
			cellData = defaultContent;
		}
		else if ( typeof cellData === 'function' ) {
			return cellData.call( rowData );
		}

			if ( cellData === null && type == 'display' ) {
			return '';
		}
		return cellData;
	}



	function _fnSetCellData( settings, rowIdx, colIdx, val )
	{
		var col     = settings.aoColumns[colIdx];
		var rowData = settings.aoData[rowIdx]._aData;

			col.fnSetData( rowData, val, {
			settings: settings,
			row:      rowIdx,
			col:      colIdx
		}  );
	}


	var __reArray = /\[.*?\]$/;
	var __reFn = /\(\)$/;


	function _fnSplitObjNotation( str )
	{
		return $.map( str.match(/(\\.|[^\.])+/g) || [''], function ( s ) {
			return s.replace(/\\\./g, '.');
		} );
	}



	function _fnGetObjectDataFn( mSource )
	{
		if ( $.isPlainObject( mSource ) )
		{

			var o = {};
			$.each( mSource, function (key, val) {
				if ( val ) {
					o[key] = _fnGetObjectDataFn( val );
				}
			} );

				return function (data, type, row, meta) {
				var t = o[type] || o._;
				return t !== undefined ?
					t(data, type, row, meta) :
					data;
			};
		}
		else if ( mSource === null )
		{

			return function (data) { 
				return data;
			};
		}
		else if ( typeof mSource === 'function' )
		{
			return function (data, type, row, meta) {
				return mSource( data, type, row, meta );
			};
		}
		else if ( typeof mSource === 'string' && (mSource.indexOf('.') !== -1 ||
			      mSource.indexOf('[') !== -1 || mSource.indexOf('(') !== -1) )
		{

			var fetchData = function (data, type, src) {
				var arrayNotation, funcNotation, out, innerSrc;

					if ( src !== "" )
				{
					var a = _fnSplitObjNotation( src );

						for ( var i=0, iLen=a.length ; i<iLen ; i++ )
					{
						arrayNotation = a[i].match(__reArray);
						funcNotation = a[i].match(__reFn);

							if ( arrayNotation )
						{
							a[i] = a[i].replace(__reArray, '');

							if ( a[i] !== "" ) {
								data = data[ a[i] ];
							}
							out = [];

							a.splice( 0, i+1 );
							innerSrc = a.join('.');

							if ( Array.isArray( data ) ) {
								for ( var j=0, jLen=data.length ; j<jLen ; j++ ) {
									out.push( fetchData( data[j], type, innerSrc ) );
								}
							}

							var join = arrayNotation[0].substring(1, arrayNotation[0].length-1);
							data = (join==="") ? out : out.join(join);

							break;
						}
						else if ( funcNotation )
						{
							a[i] = a[i].replace(__reFn, '');
							data = data[ a[i] ]();
							continue;
						}

							if ( data === null || data[ a[i] ] === undefined )
						{
							return undefined;
						}
						data = data[ a[i] ];
					}
				}

					return data;
			};

				return function (data, type) { 
				return fetchData( data, type, mSource );
			};
		}
		else
		{

			return function (data, type) { 
				return data[mSource];
			};
		}
	}



	function _fnSetObjectDataFn( mSource )
	{
		if ( $.isPlainObject( mSource ) )
		{

			return _fnSetObjectDataFn( mSource._ );
		}
		else if ( mSource === null )
		{

			return function () {};
		}
		else if ( typeof mSource === 'function' )
		{
			return function (data, val, meta) {
				mSource( data, 'set', val, meta );
			};
		}
		else if ( typeof mSource === 'string' && (mSource.indexOf('.') !== -1 ||
			      mSource.indexOf('[') !== -1 || mSource.indexOf('(') !== -1) )
		{

			var setData = function (data, val, src) {
				var a = _fnSplitObjNotation( src ), b;
				var aLast = a[a.length-1];
				var arrayNotation, funcNotation, o, innerSrc;

					for ( var i=0, iLen=a.length-1 ; i<iLen ; i++ )
				{
					if (a[i] === '__proto__' || a[i] === 'constructor') {
						throw new Error('Cannot set prototype values');
					}

					arrayNotation = a[i].match(__reArray);
					funcNotation = a[i].match(__reFn);

						if ( arrayNotation )
					{
						a[i] = a[i].replace(__reArray, '');
						data[ a[i] ] = [];

						b = a.slice();
						b.splice( 0, i+1 );
						innerSrc = b.join('.');

						if ( Array.isArray( val ) )
						{
							for ( var j=0, jLen=val.length ; j<jLen ; j++ )
							{
								o = {};
								setData( o, val[j], innerSrc );
								data[ a[i] ].push( o );
							}
						}
						else
						{
							data[ a[i] ] = val;
						}

						return;
					}
					else if ( funcNotation )
					{
						a[i] = a[i].replace(__reFn, '');
						data = data[ a[i] ]( val );
					}

					if ( data[ a[i] ] === null || data[ a[i] ] === undefined )
					{
						data[ a[i] ] = {};
					}
					data = data[ a[i] ];
				}

				if ( aLast.match(__reFn ) )
				{
					data = data[ aLast.replace(__reFn, '') ]( val );
				}
				else
				{
					data[ aLast.replace(__reArray, '') ] = val;
				}
			};

				return function (data, val) { 
				return setData( data, val, mSource );
			};
		}
		else
		{

			return function (data, val) { 
				data[mSource] = val;
			};
		}
	}



	function _fnGetDataMaster ( settings )
	{
		return _pluck( settings.aoData, '_aData' );
	}



	function _fnClearTable( settings )
	{
		settings.aoData.length = 0;
		settings.aiDisplayMaster.length = 0;
		settings.aiDisplay.length = 0;
		settings.aIds = {};
	}



	function _fnDeleteIndex( a, iTarget, splice )
	{
		var iTargetIndex = -1;

			for ( var i=0, iLen=a.length ; i<iLen ; i++ )
		{
			if ( a[i] == iTarget )
			{
				iTargetIndex = i;
			}
			else if ( a[i] > iTarget )
			{
				a[i]--;
			}
		}

			if ( iTargetIndex != -1 && splice === undefined )
		{
			a.splice( iTargetIndex, 1 );
		}
	}



	function _fnInvalidate( settings, rowIdx, src, colIdx )
	{
		var row = settings.aoData[ rowIdx ];
		var i, ien;
		var cellWrite = function ( cell, col ) {
			while ( cell.childNodes.length ) {
				cell.removeChild( cell.firstChild );
			}

				cell.innerHTML = _fnGetCellData( settings, rowIdx, col, 'display' );
		};

		if ( src === 'dom' || ((! src || src === 'auto') && row.src === 'dom') ) {
			row._aData = _fnGetRowElements(
					settings, row, colIdx, colIdx === undefined ? undefined : row._aData
				)
				.data;
		}
		else {
			var cells = row.anCells;

				if ( cells ) {
				if ( colIdx !== undefined ) {
					cellWrite( cells[colIdx], colIdx );
				}
				else {
					for ( i=0, ien=cells.length ; i<ien ; i++ ) {
						cellWrite( cells[i], i );
					}
				}
			}
		}

		row._aSortData = null;
		row._aFilterData = null;

		var cols = settings.aoColumns;
		if ( colIdx !== undefined ) {
			cols[ colIdx ].sType = null;
		}
		else {
			for ( i=0, ien=cols.length ; i<ien ; i++ ) {
				cols[i].sType = null;
			}

			_fnRowAttributes( settings, row );
		}
	}



	function _fnGetRowElements( settings, row, colIdx, d )
	{
		var
			tds = [],
			td = row.firstChild,
			name, col, o, i=0, contents,
			columns = settings.aoColumns,
			objectRead = settings._rowReadObject;

		d = d !== undefined ?
			d :
			objectRead ?
				{} :
				[];

			var attr = function ( str, td  ) {
			if ( typeof str === 'string' ) {
				var idx = str.indexOf('@');

					if ( idx !== -1 ) {
					var attr = str.substring( idx+1 );
					var setter = _fnSetObjectDataFn( str );
					setter( d, td.getAttribute( attr ) );
				}
			}
		};

		var cellProcess = function ( cell ) {
			if ( colIdx === undefined || colIdx === i ) {
				col = columns[i];
				contents = (cell.innerHTML).trim();

					if ( col && col._bAttrSrc ) {
					var setter = _fnSetObjectDataFn( col.mData._ );
					setter( d, contents );

						attr( col.mData.sort, cell );
					attr( col.mData.type, cell );
					attr( col.mData.filter, cell );
				}
				else {
					if ( objectRead ) {
						if ( ! col._setter ) {
							col._setter = _fnSetObjectDataFn( col.mData );
						}
						col._setter( d, contents );
					}
					else {
						d[i] = contents;
					}
				}
			}

				i++;
		};

			if ( td ) {
			while ( td ) {
				name = td.nodeName.toUpperCase();

					if ( name == "TD" || name == "TH" ) {
					cellProcess( td );
					tds.push( td );
				}

					td = td.nextSibling;
			}
		}
		else {
			tds = row.anCells;

				for ( var j=0, jen=tds.length ; j<jen ; j++ ) {
				cellProcess( tds[j] );
			}
		}

		var rowNode = row.firstChild ? row : row.nTr;

			if ( rowNode ) {
			var id = rowNode.getAttribute( 'id' );

				if ( id ) {
				_fnSetObjectDataFn( settings.rowId )( d, id );
			}
		}

			return {
			data: d,
			cells: tds
		};
	}

	function _fnCreateTr ( oSettings, iRow, nTrIn, anTds )
	{
		var
			row = oSettings.aoData[iRow],
			rowData = row._aData,
			cells = [],
			nTr, nTd, oCol,
			i, iLen, create;

			if ( row.nTr === null )
		{
			nTr = nTrIn || document.createElement('tr');

				row.nTr = nTr;
			row.anCells = cells;


			nTr._DT_RowIndex = iRow;


			_fnRowAttributes( oSettings, row );


			for ( i=0, iLen=oSettings.aoColumns.length ; i<iLen ; i++ )
			{
				oCol = oSettings.aoColumns[i];
				create = nTrIn ? false : true;

					nTd = create ? document.createElement( oCol.sCellType ) : anTds[i];
				nTd._DT_CellIndex = {
					row: iRow,
					column: i
				};

								cells.push( nTd );

				if ( create || ((oCol.mRender || oCol.mData !== i) &&
					 (!$.isPlainObject(oCol.mData) || oCol.mData._ !== i+'.display')
				)) {
					nTd.innerHTML = _fnGetCellData( oSettings, iRow, i, 'display' );
				}


				if ( oCol.sClass )
				{
					nTd.className += ' '+oCol.sClass;
				}

				if ( oCol.bVisible && ! nTrIn )
				{
					nTr.appendChild( nTd );
				}
				else if ( ! oCol.bVisible && nTrIn )
				{
					nTd.parentNode.removeChild( nTd );
				}

					if ( oCol.fnCreatedCell )
				{
					oCol.fnCreatedCell.call( oSettings.oInstance,
						nTd, _fnGetCellData( oSettings, iRow, i ), rowData, iRow, i
					);
				}
			}

				_fnCallbackFire( oSettings, 'aoRowCreatedCallback', null, [nTr, rowData, iRow, cells] );
		}
	}



	function _fnRowAttributes( settings, row )
	{
		var tr = row.nTr;
		var data = row._aData;

			if ( tr ) {
			var id = settings.rowIdFn( data );

				if ( id ) {
				tr.id = id;
			}

				if ( data.DT_RowClass ) {
				var a = data.DT_RowClass.split(' ');
				row.__rowc = row.__rowc ?
					_unique( row.__rowc.concat( a ) ) :
					a;

					$(tr)
					.removeClass( row.__rowc.join(' ') )
					.addClass( data.DT_RowClass );
			}

				if ( data.DT_RowAttr ) {
				$(tr).attr( data.DT_RowAttr );
			}

				if ( data.DT_RowData ) {
				$(tr).data( data.DT_RowData );
			}
		}
	}



	function _fnBuildHead( oSettings )
	{
		var i, ien, cell, row, column;
		var thead = oSettings.nTHead;
		var tfoot = oSettings.nTFoot;
		var createHeader = $('th, td', thead).length === 0;
		var classes = oSettings.oClasses;
		var columns = oSettings.aoColumns;

			if ( createHeader ) {
			row = $('<tr/>').appendTo( thead );
		}

			for ( i=0, ien=columns.length ; i<ien ; i++ ) {
			column = columns[i];
			cell = $( column.nTh ).addClass( column.sClass );

				if ( createHeader ) {
				cell.appendTo( row );
			}

			if ( oSettings.oFeatures.bSort ) {
				cell.addClass( column.sSortingClass );

					if ( column.bSortable !== false ) {
					cell
						.attr( 'tabindex', oSettings.iTabIndex )
						.attr( 'aria-controls', oSettings.sTableId );

						_fnSortAttachListener( oSettings, column.nTh, i );
				}
			}

				if ( column.sTitle != cell[0].innerHTML ) {
				cell.html( column.sTitle );
			}

				_fnRenderer( oSettings, 'header' )(
				oSettings, cell, column, classes
			);
		}

			if ( createHeader ) {
			_fnDetectHeader( oSettings.aoHeader, thead );
		}


		$(thead).children('tr').attr('role', 'row');


		$(thead).children('tr').children('th, td').addClass( classes.sHeaderTH );
		$(tfoot).children('tr').children('th, td').addClass( classes.sFooterTH );

		if ( tfoot !== null ) {
			var cells = oSettings.aoFooter[0];

				for ( i=0, ien=cells.length ; i<ien ; i++ ) {
				column = columns[i];
				column.nTf = cells[i].cell;

					if ( column.sClass ) {
					$(column.nTf).addClass( column.sClass );
				}
			}
		}
	}



	function _fnDrawHead( oSettings, aoSource, bIncludeHidden )
	{
		var i, iLen, j, jLen, k, kLen, n, nLocalTr;
		var aoLocal = [];
		var aApplied = [];
		var iColumns = oSettings.aoColumns.length;
		var iRowspan, iColspan;

			if ( ! aoSource )
		{
			return;
		}

			if (  bIncludeHidden === undefined )
		{
			bIncludeHidden = false;
		}


		for ( i=0, iLen=aoSource.length ; i<iLen ; i++ )
		{
			aoLocal[i] = aoSource[i].slice();
			aoLocal[i].nTr = aoSource[i].nTr;


			for ( j=iColumns-1 ; j>=0 ; j-- )
			{
				if ( !oSettings.aoColumns[j].bVisible && !bIncludeHidden )
				{
					aoLocal[i].splice( j, 1 );
				}
			}


			aApplied.push( [] );
		}

			for ( i=0, iLen=aoLocal.length ; i<iLen ; i++ )
		{
			nLocalTr = aoLocal[i].nTr;


			if ( nLocalTr )
			{
				while( (n = nLocalTr.firstChild) )
				{
					nLocalTr.removeChild( n );
				}
			}

				for ( j=0, jLen=aoLocal[i].length ; j<jLen ; j++ )
			{
				iRowspan = 1;
				iColspan = 1;


				if ( aApplied[i][j] === undefined )
				{
					nLocalTr.appendChild( aoLocal[i][j].cell );
					aApplied[i][j] = 1;


					while ( aoLocal[i+iRowspan] !== undefined &&
					        aoLocal[i][j].cell == aoLocal[i+iRowspan][j].cell )
					{
						aApplied[i+iRowspan][j] = 1;
						iRowspan++;
					}


					while ( aoLocal[i][j+iColspan] !== undefined &&
					        aoLocal[i][j].cell == aoLocal[i][j+iColspan].cell )
					{

						for ( k=0 ; k<iRowspan ; k++ )
						{
							aApplied[i+k][j+iColspan] = 1;
						}
						iColspan++;
					}


					$(aoLocal[i][j].cell)
						.attr('rowspan', iRowspan)
						.attr('colspan', iColspan);
				}
			}
		}
	}



	function _fnDraw( oSettings )
	{

		var aPreDraw = _fnCallbackFire( oSettings, 'aoPreDrawCallback', 'preDraw', [oSettings] );
		if ( $.inArray( false, aPreDraw ) !== -1 )
		{
			_fnProcessingDisplay( oSettings, false );
			return;
		}

			var i, iLen, n;
		var anRows = [];
		var iRowCount = 0;
		var asStripeClasses = oSettings.asStripeClasses;
		var iStripes = asStripeClasses.length;
		var iOpenRows = oSettings.aoOpenRows.length;
		var oLang = oSettings.oLanguage;
		var iInitDisplayStart = oSettings.iInitDisplayStart;
		var bServerSide = _fnDataSource( oSettings ) == 'ssp';
		var aiDisplay = oSettings.aiDisplay;

			oSettings.bDrawing = true;


		if ( iInitDisplayStart !== undefined && iInitDisplayStart !== -1 )
		{
			oSettings._iDisplayStart = bServerSide ?
				iInitDisplayStart :
				iInitDisplayStart >= oSettings.fnRecordsDisplay() ?
					0 :
					iInitDisplayStart;

				oSettings.iInitDisplayStart = -1;
		}

			var iDisplayStart = oSettings._iDisplayStart;
		var iDisplayEnd = oSettings.fnDisplayEnd();


		if ( oSettings.bDeferLoading )
		{
			oSettings.bDeferLoading = false;
			oSettings.iDraw++;
			_fnProcessingDisplay( oSettings, false );
		}
		else if ( !bServerSide )
		{
			oSettings.iDraw++;
		}
		else if ( !oSettings.bDestroying && !_fnAjaxUpdate( oSettings ) )
		{
			return;
		}

			if ( aiDisplay.length !== 0 )
		{
			var iStart = bServerSide ? 0 : iDisplayStart;
			var iEnd = bServerSide ? oSettings.aoData.length : iDisplayEnd;

				for ( var j=iStart ; j<iEnd ; j++ )
			{
				var iDataIndex = aiDisplay[j];
				var aoData = oSettings.aoData[ iDataIndex ];
				if ( aoData.nTr === null )
				{
					_fnCreateTr( oSettings, iDataIndex );
				}

					var nRow = aoData.nTr;


				if ( iStripes !== 0 )
				{
					var sStripe = asStripeClasses[ iRowCount % iStripes ];
					if ( aoData._sRowStripe != sStripe )
					{
						$(nRow).removeClass( aoData._sRowStripe ).addClass( sStripe );
						aoData._sRowStripe = sStripe;
					}
				}

				_fnCallbackFire( oSettings, 'aoRowCallback', null,
					[nRow, aoData._aData, iRowCount, j, iDataIndex] );

					anRows.push( nRow );
				iRowCount++;
			}
		}
		else
		{

			var sZero = oLang.sZeroRecords;
			if ( oSettings.iDraw == 1 &&  _fnDataSource( oSettings ) == 'ajax' )
			{
				sZero = oLang.sLoadingRecords;
			}
			else if ( oLang.sEmptyTable && oSettings.fnRecordsTotal() === 0 )
			{
				sZero = oLang.sEmptyTable;
			}

				anRows[ 0 ] = $( '<tr/>', { 'class': iStripes ? asStripeClasses[0] : '' } )
				.append( $('<td />', {
					'valign':  'top',
					'colSpan': _fnVisbleColumns( oSettings ),
					'class':   oSettings.oClasses.sRowEmpty
				} ).html( sZero ) )[0];
		}


		_fnCallbackFire( oSettings, 'aoHeaderCallback', 'header', [ $(oSettings.nTHead).children('tr')[0],
			_fnGetDataMaster( oSettings ), iDisplayStart, iDisplayEnd, aiDisplay ] );

			_fnCallbackFire( oSettings, 'aoFooterCallback', 'footer', [ $(oSettings.nTFoot).children('tr')[0],
			_fnGetDataMaster( oSettings ), iDisplayStart, iDisplayEnd, aiDisplay ] );

			var body = $(oSettings.nTBody);

			body.children().detach();
		body.append( $(anRows) );


		_fnCallbackFire( oSettings, 'aoDrawCallback', 'draw', [oSettings] );


		oSettings.bSorted = false;
		oSettings.bFiltered = false;
		oSettings.bDrawing = false;
	}



	function _fnReDraw( settings, holdPosition )
	{
		var
			features = settings.oFeatures,
			sort     = features.bSort,
			filter   = features.bFilter;

			if ( sort ) {
			_fnSort( settings );
		}

			if ( filter ) {
			_fnFilterComplete( settings, settings.oPreviousSearch );
		}
		else {
			settings.aiDisplay = settings.aiDisplayMaster.slice();
		}

			if ( holdPosition !== true ) {
			settings._iDisplayStart = 0;
		}

		settings._drawHold = holdPosition;

			_fnDraw( settings );

			settings._drawHold = false;
	}



	function _fnAddOptionsHtml ( oSettings )
	{
		var classes = oSettings.oClasses;
		var table = $(oSettings.nTable);
		var holding = $('<div/>').insertBefore( table ); 
		var features = oSettings.oFeatures;

		var insert = $('<div/>', {
			id:      oSettings.sTableId+'_wrapper',
			'class': classes.sWrapper + (oSettings.nTFoot ? '' : ' '+classes.sNoFooter)
		} );

			oSettings.nHolding = holding[0];
		oSettings.nTableWrapper = insert[0];
		oSettings.nTableReinsertBefore = oSettings.nTable.nextSibling;


		var aDom = oSettings.sDom.split('');
		var featureNode, cOption, nNewNode, cNext, sAttr, j;
		for ( var i=0 ; i<aDom.length ; i++ )
		{
			featureNode = null;
			cOption = aDom[i];

				if ( cOption == '<' )
			{

				nNewNode = $('<div/>')[0];


				cNext = aDom[i+1];
				if ( cNext == "'" || cNext == '"' )
				{
					sAttr = "";
					j = 2;
					while ( aDom[i+j] != cNext )
					{
						sAttr += aDom[i+j];
						j++;
					}


					if ( sAttr == "H" )
					{
						sAttr = classes.sJUIHeader;
					}
					else if ( sAttr == "F" )
					{
						sAttr = classes.sJUIFooter;
					}


					if ( sAttr.indexOf('.') != -1 )
					{
						var aSplit = sAttr.split('.');
						nNewNode.id = aSplit[0].substr(1, aSplit[0].length-1);
						nNewNode.className = aSplit[1];
					}
					else if ( sAttr.charAt(0) == "#" )
					{
						nNewNode.id = sAttr.substr(1, sAttr.length-1);
					}
					else
					{
						nNewNode.className = sAttr;
					}

						i += j; 
				}

					insert.append( nNewNode );
				insert = $(nNewNode);
			}
			else if ( cOption == '>' )
			{

				insert = insert.parent();
			}
			else if ( cOption == 'l' && features.bPaginate && features.bLengthChange )
			{

				featureNode = _fnFeatureHtmlLength( oSettings );
			}
			else if ( cOption == 'f' && features.bFilter )
			{

				featureNode = _fnFeatureHtmlFilter( oSettings );
			}
			else if ( cOption == 'r' && features.bProcessing )
			{

				featureNode = _fnFeatureHtmlProcessing( oSettings );
			}
			else if ( cOption == 't' )
			{

				featureNode = _fnFeatureHtmlTable( oSettings );
			}
			else if ( cOption ==  'i' && features.bInfo )
			{

				featureNode = _fnFeatureHtmlInfo( oSettings );
			}
			else if ( cOption == 'p' && features.bPaginate )
			{

				featureNode = _fnFeatureHtmlPaginate( oSettings );
			}
			else if ( DataTable.ext.feature.length !== 0 )
			{

				var aoFeatures = DataTable.ext.feature;
				for ( var k=0, kLen=aoFeatures.length ; k<kLen ; k++ )
				{
					if ( cOption == aoFeatures[k].cFeature )
					{
						featureNode = aoFeatures[k].fnInit( oSettings );
						break;
					}
				}
			}


			if ( featureNode )
			{
				var aanFeatures = oSettings.aanFeatures;

					if ( ! aanFeatures[cOption] )
				{
					aanFeatures[cOption] = [];
				}

					aanFeatures[cOption].push( featureNode );
				insert.append( featureNode );
			}
		}


		holding.replaceWith( insert );
		oSettings.nHolding = null;
	}



	function _fnDetectHeader ( aLayout, nThead )
	{
		var nTrs = $(nThead).children('tr');
		var nTr, nCell;
		var i, k, l, iLen, jLen, iColShifted, iColumn, iColspan, iRowspan;
		var bUnique;
		var fnShiftCol = function ( a, i, j ) {
			var k = a[i];
	                while ( k[j] ) {
				j++;
			}
			return j;
		};

			aLayout.splice( 0, aLayout.length );


		for ( i=0, iLen=nTrs.length ; i<iLen ; i++ )
		{
			aLayout.push( [] );
		}


		for ( i=0, iLen=nTrs.length ; i<iLen ; i++ )
		{
			nTr = nTrs[i];
			iColumn = 0;


			nCell = nTr.firstChild;
			while ( nCell ) {
				if ( nCell.nodeName.toUpperCase() == "TD" ||
				     nCell.nodeName.toUpperCase() == "TH" )
				{

					iColspan = nCell.getAttribute('colspan') * 1;
					iRowspan = nCell.getAttribute('rowspan') * 1;
					iColspan = (!iColspan || iColspan===0 || iColspan===1) ? 1 : iColspan;
					iRowspan = (!iRowspan || iRowspan===0 || iRowspan===1) ? 1 : iRowspan;


					iColShifted = fnShiftCol( aLayout, i, iColumn );


					bUnique = iColspan === 1 ? true : false;


					for ( l=0 ; l<iColspan ; l++ )
					{
						for ( k=0 ; k<iRowspan ; k++ )
						{
							aLayout[i+k][iColShifted+l] = {
								"cell": nCell,
								"unique": bUnique
							};
							aLayout[i+k].nTr = nTr;
						}
					}
				}
				nCell = nCell.nextSibling;
			}
		}
	}



	function _fnGetUniqueThs ( oSettings, nHeader, aLayout )
	{
		var aReturn = [];
		if ( !aLayout )
		{
			aLayout = oSettings.aoHeader;
			if ( nHeader )
			{
				aLayout = [];
				_fnDetectHeader( aLayout, nHeader );
			}
		}

			for ( var i=0, iLen=aLayout.length ; i<iLen ; i++ )
		{
			for ( var j=0, jLen=aLayout[i].length ; j<jLen ; j++ )
			{
				if ( aLayout[i][j].unique &&
					 (!aReturn[j] || !oSettings.bSortCellsTop) )
				{
					aReturn[j] = aLayout[i][j].cell;
				}
			}
		}

			return aReturn;
	}


	function _fnBuildAjax( oSettings, data, fn )
	{
		_fnCallbackFire( oSettings, 'aoServerParams', 'serverParams', [data] );

		if ( data && Array.isArray(data) ) {
			var tmp = {};
			var rbracket = /(.*?)\[\]$/;

				$.each( data, function (key, val) {
				var match = val.name.match(rbracket);

					if ( match ) {
					var name = match[0];

						if ( ! tmp[ name ] ) {
						tmp[ name ] = [];
					}
					tmp[ name ].push( val.value );
				}
				else {
					tmp[val.name] = val.value;
				}
			} );
			data = tmp;
		}

			var ajaxData;
		var ajax = oSettings.ajax;
		var instance = oSettings.oInstance;
		var callback = function ( json ) {
			_fnCallbackFire( oSettings, null, 'xhr', [oSettings, json, oSettings.jqXHR] );
			fn( json );
		};

			if ( $.isPlainObject( ajax ) && ajax.data )
		{
			ajaxData = ajax.data;

				var newData = typeof ajaxData === 'function' ?
				ajaxData( data, oSettings ) :  
				ajaxData;                      

			data = typeof ajaxData === 'function' && newData ?
				newData :
				$.extend( true, data, newData );

			delete ajax.data;
		}

			var baseAjax = {
			"data": data,
			"success": function (json) {
				var error = json.error || json.sError;
				if ( error ) {
					_fnLog( oSettings, 0, error );
				}

					oSettings.json = json;
				callback( json );
			},
			"dataType": "json",
			"cache": false,
			"type": oSettings.sServerMethod,
			"error": function (xhr, error, thrown) {
				var ret = _fnCallbackFire( oSettings, null, 'xhr', [oSettings, null, oSettings.jqXHR] );

					if ( $.inArray( true, ret ) === -1 ) {
					if ( error == "parsererror" ) {
						_fnLog( oSettings, 0, 'Invalid JSON response', 1 );
					}
					else if ( xhr.readyState === 4 ) {
						_fnLog( oSettings, 0, 'Ajax error', 7 );
					}
				}

					_fnProcessingDisplay( oSettings, false );
			}
		};

		oSettings.oAjaxData = data;

		_fnCallbackFire( oSettings, null, 'preXhr', [oSettings, data] );

			if ( oSettings.fnServerData )
		{
			oSettings.fnServerData.call( instance,
				oSettings.sAjaxSource,
				$.map( data, function (val, key) { 
					return { name: key, value: val };
				} ),
				callback,
				oSettings
			);
		}
		else if ( oSettings.sAjaxSource || typeof ajax === 'string' )
		{
			oSettings.jqXHR = $.ajax( $.extend( baseAjax, {
				url: ajax || oSettings.sAjaxSource
			} ) );
		}
		else if ( typeof ajax === 'function' )
		{
			oSettings.jqXHR = ajax.call( instance, data, callback, oSettings );
		}
		else
		{
			oSettings.jqXHR = $.ajax( $.extend( baseAjax, ajax ) );

			ajax.data = ajaxData;
		}
	}



	function _fnAjaxUpdate( settings )
	{
		if ( settings.bAjaxDataGet ) {
			settings.iDraw++;
			_fnProcessingDisplay( settings, true );

				_fnBuildAjax(
				settings,
				_fnAjaxParameters( settings ),
				function(json) {
					_fnAjaxUpdateDraw( settings, json );
				}
			);

				return false;
		}
		return true;
	}



	function _fnAjaxParameters( settings )
	{
		var
			columns = settings.aoColumns,
			columnCount = columns.length,
			features = settings.oFeatures,
			preSearch = settings.oPreviousSearch,
			preColSearch = settings.aoPreSearchCols,
			i, data = [], dataProp, column, columnSearch,
			sort = _fnSortFlatten( settings ),
			displayStart = settings._iDisplayStart,
			displayLength = features.bPaginate !== false ?
				settings._iDisplayLength :
				-1;

			var param = function ( name, value ) {
			data.push( { 'name': name, 'value': value } );
		};

		param( 'sEcho',          settings.iDraw );
		param( 'iColumns',       columnCount );
		param( 'sColumns',       _pluck( columns, 'sName' ).join(',') );
		param( 'iDisplayStart',  displayStart );
		param( 'iDisplayLength', displayLength );

		var d = {
			draw:    settings.iDraw,
			columns: [],
			order:   [],
			start:   displayStart,
			length:  displayLength,
			search:  {
				value: preSearch.sSearch,
				regex: preSearch.bRegex
			}
		};

			for ( i=0 ; i<columnCount ; i++ ) {
			column = columns[i];
			columnSearch = preColSearch[i];
			dataProp = typeof column.mData=="function" ? 'function' : column.mData ;

				d.columns.push( {
				data:       dataProp,
				name:       column.sName,
				searchable: column.bSearchable,
				orderable:  column.bSortable,
				search:     {
					value: columnSearch.sSearch,
					regex: columnSearch.bRegex
				}
			} );

				param( "mDataProp_"+i, dataProp );

				if ( features.bFilter ) {
				param( 'sSearch_'+i,     columnSearch.sSearch );
				param( 'bRegex_'+i,      columnSearch.bRegex );
				param( 'bSearchable_'+i, column.bSearchable );
			}

				if ( features.bSort ) {
				param( 'bSortable_'+i, column.bSortable );
			}
		}

			if ( features.bFilter ) {
			param( 'sSearch', preSearch.sSearch );
			param( 'bRegex', preSearch.bRegex );
		}

			if ( features.bSort ) {
			$.each( sort, function ( i, val ) {
				d.order.push( { column: val.col, dir: val.dir } );

					param( 'iSortCol_'+i, val.col );
				param( 'sSortDir_'+i, val.dir );
			} );

				param( 'iSortingCols', sort.length );
		}

		var legacy = DataTable.ext.legacy.ajax;
		if ( legacy === null ) {
			return settings.sAjaxSource ? data : d;
		}

		return legacy ? data : d;
	}



	function _fnAjaxUpdateDraw ( settings, json )
	{
		var compat = function ( old, modern ) {
			return json[old] !== undefined ? json[old] : json[modern];
		};

			var data = _fnAjaxDataSrc( settings, json );
		var draw            = compat( 'sEcho',                'draw' );
		var recordsTotal    = compat( 'iTotalRecords',        'recordsTotal' );
		var recordsFiltered = compat( 'iTotalDisplayRecords', 'recordsFiltered' );

			if ( draw !== undefined ) {
			if ( draw*1 < settings.iDraw ) {
				return;
			}
			settings.iDraw = draw * 1;
		}

			_fnClearTable( settings );
		settings._iRecordsTotal   = parseInt(recordsTotal, 10);
		settings._iRecordsDisplay = parseInt(recordsFiltered, 10);

			for ( var i=0, ien=data.length ; i<ien ; i++ ) {
			_fnAddData( settings, data[i] );
		}
		settings.aiDisplay = settings.aiDisplayMaster.slice();

			settings.bAjaxDataGet = false;
		_fnDraw( settings );

			if ( ! settings._bInitComplete ) {
			_fnInitComplete( settings, json );
		}

			settings.bAjaxDataGet = true;
		_fnProcessingDisplay( settings, false );
	}



	function _fnAjaxDataSrc ( oSettings, json )
	{
		var dataSrc = $.isPlainObject( oSettings.ajax ) && oSettings.ajax.dataSrc !== undefined ?
			oSettings.ajax.dataSrc :
			oSettings.sAjaxDataProp; 

		if ( dataSrc === 'data' ) {
			return json.aaData || json[dataSrc];
		}

			return dataSrc !== "" ?
			_fnGetObjectDataFn( dataSrc )( json ) :
			json;
	}


	function _fnFeatureHtmlFilter ( settings )
	{
		var classes = settings.oClasses;
		var tableId = settings.sTableId;
		var language = settings.oLanguage;
		var previousSearch = settings.oPreviousSearch;
		var features = settings.aanFeatures;
		var input = '<input type="search" class="'+classes.sFilterInput+'"/>';

			var str = language.sSearch;
		str = str.match(/_INPUT_/) ?
			str.replace('_INPUT_', input) :
			str+input;

			var filter = $('<div/>', {
				'id': ! features.f ? tableId+'_filter' : null,
				'class': classes.sFilter
			} )
			.append( $('<label/>' ).append( str ) );

			var searchFn = function() {

			var n = features.f;
			var val = !this.value ? "" : this.value; 


			if ( val != previousSearch.sSearch ) {
				_fnFilterComplete( settings, {
					"sSearch": val,
					"bRegex": previousSearch.bRegex,
					"bSmart": previousSearch.bSmart ,
					"bCaseInsensitive": previousSearch.bCaseInsensitive
				} );

				settings._iDisplayStart = 0;
				_fnDraw( settings );
			}
		};

			var searchDelay = settings.searchDelay !== null ?
			settings.searchDelay :
			_fnDataSource( settings ) === 'ssp' ?
				400 :
				0;

			var jqFilter = $('input', filter)
			.val( previousSearch.sSearch )
			.attr( 'placeholder', language.sSearchPlaceholder )
			.on(
				'keyup.DT search.DT input.DT paste.DT cut.DT',
				searchDelay ?
					_fnThrottle( searchFn, searchDelay ) :
					searchFn
			)
			.on( 'mouseup', function(e) {
				setTimeout( function () {
					searchFn.call(jqFilter[0]);
				}, 10);
			} )
			.on( 'keypress.DT', function(e) {

				if ( e.keyCode == 13 ) {
					return false;
				}
			} )
			.attr('aria-controls', tableId);

		$(settings.nTable).on( 'search.dt.DT', function ( ev, s ) {
			if ( settings === s ) {
				try {
					if ( jqFilter[0] !== document.activeElement ) {
						jqFilter.val( previousSearch.sSearch );
					}
				}
				catch ( e ) {}
			}
		} );

			return filter[0];
	}



	function _fnFilterComplete ( oSettings, oInput, iForce )
	{
		var oPrevSearch = oSettings.oPreviousSearch;
		var aoPrevSearch = oSettings.aoPreSearchCols;
		var fnSaveFilter = function ( oFilter ) {

			oPrevSearch.sSearch = oFilter.sSearch;
			oPrevSearch.bRegex = oFilter.bRegex;
			oPrevSearch.bSmart = oFilter.bSmart;
			oPrevSearch.bCaseInsensitive = oFilter.bCaseInsensitive;
		};
		var fnRegex = function ( o ) {
			return o.bEscapeRegex !== undefined ? !o.bEscapeRegex : o.bRegex;
		};

		_fnColumnTypes( oSettings );


		if ( _fnDataSource( oSettings ) != 'ssp' )
		{

			_fnFilter( oSettings, oInput.sSearch, iForce, fnRegex(oInput), oInput.bSmart, oInput.bCaseInsensitive );
			fnSaveFilter( oInput );


			for ( var i=0 ; i<aoPrevSearch.length ; i++ )
			{
				_fnFilterColumn( oSettings, aoPrevSearch[i].sSearch, i, fnRegex(aoPrevSearch[i]),
					aoPrevSearch[i].bSmart, aoPrevSearch[i].bCaseInsensitive );
			}


			_fnFilterCustom( oSettings );
		}
		else
		{
			fnSaveFilter( oInput );
		}


		oSettings.bFiltered = true;
		_fnCallbackFire( oSettings, null, 'search', [oSettings] );
	}



	function _fnFilterCustom( settings )
	{
		var filters = DataTable.ext.search;
		var displayRows = settings.aiDisplay;
		var row, rowIdx;

			for ( var i=0, ien=filters.length ; i<ien ; i++ ) {
			var rows = [];

			for ( var j=0, jen=displayRows.length ; j<jen ; j++ ) {
				rowIdx = displayRows[ j ];
				row = settings.aoData[ rowIdx ];

					if ( filters[i]( settings, row._aFilterData, rowIdx, row._aData, j ) ) {
					rows.push( rowIdx );
				}
			}

			displayRows.length = 0;
			$.merge( displayRows, rows );
		}
	}



	function _fnFilterColumn ( settings, searchStr, colIdx, regex, smart, caseInsensitive )
	{
		if ( searchStr === '' ) {
			return;
		}

			var data;
		var out = [];
		var display = settings.aiDisplay;
		var rpSearch = _fnFilterCreateSearch( searchStr, regex, smart, caseInsensitive );

			for ( var i=0 ; i<display.length ; i++ ) {
			data = settings.aoData[ display[i] ]._aFilterData[ colIdx ];

				if ( rpSearch.test( data ) ) {
				out.push( display[i] );
			}
		}

			settings.aiDisplay = out;
	}



	function _fnFilter( settings, input, force, regex, smart, caseInsensitive )
	{
		var rpSearch = _fnFilterCreateSearch( input, regex, smart, caseInsensitive );
		var prevSearch = settings.oPreviousSearch.sSearch;
		var displayMaster = settings.aiDisplayMaster;
		var display, invalidated, i;
		var filtered = [];

		if ( DataTable.ext.search.length !== 0 ) {
			force = true;
		}

		invalidated = _fnFilterData( settings );

		if ( input.length <= 0 ) {
			settings.aiDisplay = displayMaster.slice();
		}
		else {
			if ( invalidated ||
				 force ||
				 regex ||
				 prevSearch.length > input.length ||
				 input.indexOf(prevSearch) !== 0 ||
				 settings.bSorted 
			) {
				settings.aiDisplay = displayMaster.slice();
			}

			display = settings.aiDisplay;

				for ( i=0 ; i<display.length ; i++ ) {
				if ( rpSearch.test( settings.aoData[ display[i] ]._sFilterRow ) ) {
					filtered.push( display[i] );
				}
			}

				settings.aiDisplay = filtered;
		}
	}



	function _fnFilterCreateSearch( search, regex, smart, caseInsensitive )
	{
		search = regex ?
			search :
			_fnEscapeRegex( search );

				if ( smart ) {

			var a = $.map( search.match( /"[^"]+"|[^ ]+/g ) || [''], function ( word ) {
				if ( word.charAt(0) === '"' ) {
					var m = word.match( /^"(.*)"$/ );
					word = m ? m[1] : word;
				}

					return word.replace('"', '');
			} );

				search = '^(?=.*?'+a.join( ')(?=.*?' )+').*$';
		}

			return new RegExp( search, caseInsensitive ? 'i' : '' );
	}



	var _fnEscapeRegex = DataTable.util.escapeRegex;

		var __filter_div = $('<div>')[0];
	var __filter_div_textContent = __filter_div.textContent !== undefined;

	function _fnFilterData ( settings )
	{
		var columns = settings.aoColumns;
		var column;
		var i, j, ien, jen, filterData, cellData, row;
		var fomatters = DataTable.ext.type.search;
		var wasInvalidated = false;

			for ( i=0, ien=settings.aoData.length ; i<ien ; i++ ) {
			row = settings.aoData[i];

				if ( ! row._aFilterData ) {
				filterData = [];

					for ( j=0, jen=columns.length ; j<jen ; j++ ) {
					column = columns[j];

						if ( column.bSearchable ) {
						cellData = _fnGetCellData( settings, i, j, 'filter' );

							if ( fomatters[ column.sType ] ) {
							cellData = fomatters[ column.sType ]( cellData );
						}

						if ( cellData === null ) {
							cellData = '';
						}

							if ( typeof cellData !== 'string' && cellData.toString ) {
							cellData = cellData.toString();
						}
					}
					else {
						cellData = '';
					}

					if ( cellData.indexOf && cellData.indexOf('&') !== -1 ) {
						__filter_div.innerHTML = cellData;
						cellData = __filter_div_textContent ?
							__filter_div.textContent :
							__filter_div.innerText;
					}

						if ( cellData.replace ) {
						cellData = cellData.replace(/[\r\n\u2028]/g, '');
					}

						filterData.push( cellData );
				}

					row._aFilterData = filterData;
				row._sFilterRow = filterData.join('  ');
				wasInvalidated = true;
			}
		}

			return wasInvalidated;
	}



	function _fnSearchToCamel ( obj )
	{
		return {
			search:          obj.sSearch,
			smart:           obj.bSmart,
			regex:           obj.bRegex,
			caseInsensitive: obj.bCaseInsensitive
		};
	}




	function _fnSearchToHung ( obj )
	{
		return {
			sSearch:          obj.search,
			bSmart:           obj.smart,
			bRegex:           obj.regex,
			bCaseInsensitive: obj.caseInsensitive
		};
	}


	function _fnFeatureHtmlInfo ( settings )
	{
		var
			tid = settings.sTableId,
			nodes = settings.aanFeatures.i,
			n = $('<div/>', {
				'class': settings.oClasses.sInfo,
				'id': ! nodes ? tid+'_info' : null
			} );

			if ( ! nodes ) {
			settings.aoDrawCallback.push( {
				"fn": _fnUpdateInfo,
				"sName": "information"
			} );

				n
				.attr( 'role', 'status' )
				.attr( 'aria-live', 'polite' );

			$(settings.nTable).attr( 'aria-describedby', tid+'_info' );
		}

			return n[0];
	}



	function _fnUpdateInfo ( settings )
	{

		var nodes = settings.aanFeatures.i;
		if ( nodes.length === 0 ) {
			return;
		}

			var
			lang  = settings.oLanguage,
			start = settings._iDisplayStart+1,
			end   = settings.fnDisplayEnd(),
			max   = settings.fnRecordsTotal(),
			total = settings.fnRecordsDisplay(),
			out   = total ?
				lang.sInfo :
				lang.sInfoEmpty;

			if ( total !== max ) {

			out += ' ' + lang.sInfoFiltered;
		}

		out += lang.sInfoPostFix;
		out = _fnInfoMacros( settings, out );

			var callback = lang.fnInfoCallback;
		if ( callback !== null ) {
			out = callback.call( settings.oInstance,
				settings, start, end, max, total, out
			);
		}

			$(nodes).html( out );
	}


			function _fnInfoMacros ( settings, str )
	{
		var
			formatter  = settings.fnFormatNumber,
			start      = settings._iDisplayStart+1,
			len        = settings._iDisplayLength,
			vis        = settings.fnRecordsDisplay(),
			all        = len === -1;

			return str.
			replace(/_START_/g, formatter.call( settings, start ) ).
			replace(/_END_/g,   formatter.call( settings, settings.fnDisplayEnd() ) ).
			replace(/_MAX_/g,   formatter.call( settings, settings.fnRecordsTotal() ) ).
			replace(/_TOTAL_/g, formatter.call( settings, vis ) ).
			replace(/_PAGE_/g,  formatter.call( settings, all ? 1 : Math.ceil( start / len ) ) ).
			replace(/_PAGES_/g, formatter.call( settings, all ? 1 : Math.ceil( vis / len ) ) );
	}




	function _fnInitialise ( settings )
	{
		var i, iLen, iAjaxStart=settings.iInitDisplayStart;
		var columns = settings.aoColumns, column;
		var features = settings.oFeatures;
		var deferLoading = settings.bDeferLoading; 


		if ( ! settings.bInitialised ) {
			setTimeout( function(){ _fnInitialise( settings ); }, 200 );
			return;
		}


		_fnAddOptionsHtml( settings );


		_fnBuildHead( settings );
		_fnDrawHead( settings, settings.aoHeader );
		_fnDrawHead( settings, settings.aoFooter );


		_fnProcessingDisplay( settings, true );


		if ( features.bAutoWidth ) {
			_fnCalculateColumnWidths( settings );
		}

			for ( i=0, iLen=columns.length ; i<iLen ; i++ ) {
			column = columns[i];

				if ( column.sWidth ) {
				column.nTh.style.width = _fnStringToCss( column.sWidth );
			}
		}

			_fnCallbackFire( settings, null, 'preInit', [settings] );

		_fnReDraw( settings );

		var dataSrc = _fnDataSource( settings );
		if ( dataSrc != 'ssp' || deferLoading ) {
			if ( dataSrc == 'ajax' ) {
				_fnBuildAjax( settings, [], function(json) {
					var aData = _fnAjaxDataSrc( settings, json );

					for ( i=0 ; i<aData.length ; i++ ) {
						_fnAddData( settings, aData[i] );
					}

					settings.iInitDisplayStart = iAjaxStart;

						_fnReDraw( settings );

						_fnProcessingDisplay( settings, false );
					_fnInitComplete( settings, json );
				}, settings );
			}
			else {
				_fnProcessingDisplay( settings, false );
				_fnInitComplete( settings );
			}
		}
	}



	function _fnInitComplete ( settings, json )
	{
		settings._bInitComplete = true;

		if ( json || settings.oInit.aaData ) {
			_fnAdjustColumnSizing( settings );
		}

			_fnCallbackFire( settings, null, 'plugin-init', [settings, json] );
		_fnCallbackFire( settings, 'aoInitComplete', 'init', [settings, json] );
	}


			function _fnLengthChange ( settings, val )
	{
		var len = parseInt( val, 10 );
		settings._iDisplayLength = len;

			_fnLengthOverflow( settings );

		_fnCallbackFire( settings, null, 'length', [settings, len] );
	}



	function _fnFeatureHtmlLength ( settings )
	{
		var
			classes  = settings.oClasses,
			tableId  = settings.sTableId,
			menu     = settings.aLengthMenu,
			d2       = Array.isArray( menu[0] ),
			lengths  = d2 ? menu[0] : menu,
			language = d2 ? menu[1] : menu;

			var select = $('<select/>', {
			'name':          tableId+'_length',
			'aria-controls': tableId,
			'class':         classes.sLengthSelect
		} );

			for ( var i=0, ien=lengths.length ; i<ien ; i++ ) {
			select[0][ i ] = new Option(
				typeof language[i] === 'number' ?
					settings.fnFormatNumber( language[i] ) :
					language[i],
				lengths[i]
			);
		}

			var div = $('<div><label/></div>').addClass( classes.sLength );
		if ( ! settings.aanFeatures.l ) {
			div[0].id = tableId+'_length';
		}

			div.children().append(
			settings.oLanguage.sLengthMenu.replace( '_MENU_', select[0].outerHTML )
		);

		$('select', div)
			.val( settings._iDisplayLength )
			.on( 'change.DT', function(e) {
				_fnLengthChange( settings, $(this).val() );
				_fnDraw( settings );
			} );

		$(settings.nTable).on( 'length.dt.DT', function (e, s, len) {
			if ( settings === s ) {
				$('select', div).val( len );
			}
		} );

			return div[0];
	}






	function _fnFeatureHtmlPaginate ( settings )
	{
		var
			type   = settings.sPaginationType,
			plugin = DataTable.ext.pager[ type ],
			modern = typeof plugin === 'function',
			redraw = function( settings ) {
				_fnDraw( settings );
			},
			node = $('<div/>').addClass( settings.oClasses.sPaging + type )[0],
			features = settings.aanFeatures;

			if ( ! modern ) {
			plugin.fnInit( settings, node, redraw );
		}


		if ( ! features.p )
		{
			node.id = settings.sTableId+'_paginate';

				settings.aoDrawCallback.push( {
				"fn": function( settings ) {
					if ( modern ) {
						var
							start      = settings._iDisplayStart,
							len        = settings._iDisplayLength,
							visRecords = settings.fnRecordsDisplay(),
							all        = len === -1,
							page = all ? 0 : Math.ceil( start / len ),
							pages = all ? 1 : Math.ceil( visRecords / len ),
							buttons = plugin(page, pages),
							i, ien;

							for ( i=0, ien=features.p.length ; i<ien ; i++ ) {
							_fnRenderer( settings, 'pageButton' )(
								settings, features.p[i], i, buttons, page, pages
							);
						}
					}
					else {
						plugin.fnUpdate( settings, redraw );
					}
				},
				"sName": "pagination"
			} );
		}

			return node;
	}



	function _fnPageChange ( settings, action, redraw )
	{
		var
			start     = settings._iDisplayStart,
			len       = settings._iDisplayLength,
			records   = settings.fnRecordsDisplay();

			if ( records === 0 || len === -1 )
		{
			start = 0;
		}
		else if ( typeof action === "number" )
		{
			start = action * len;

				if ( start > records )
			{
				start = 0;
			}
		}
		else if ( action == "first" )
		{
			start = 0;
		}
		else if ( action == "previous" )
		{
			start = len >= 0 ?
				start - len :
				0;

				if ( start < 0 )
			{
			  start = 0;
			}
		}
		else if ( action == "next" )
		{
			if ( start + len < records )
			{
				start += len;
			}
		}
		else if ( action == "last" )
		{
			start = Math.floor( (records-1) / len) * len;
		}
		else
		{
			_fnLog( settings, 0, "Unknown paging action: "+action, 5 );
		}

			var changed = settings._iDisplayStart !== start;
		settings._iDisplayStart = start;

			if ( changed ) {
			_fnCallbackFire( settings, null, 'page', [settings] );

				if ( redraw ) {
				_fnDraw( settings );
			}
		}

			return changed;
	}




	function _fnFeatureHtmlProcessing ( settings )
	{
		return $('<div/>', {
				'id': ! settings.aanFeatures.r ? settings.sTableId+'_processing' : null,
				'class': settings.oClasses.sProcessing
			} )
			.html( settings.oLanguage.sProcessing )
			.insertBefore( settings.nTable )[0];
	}



	function _fnProcessingDisplay ( settings, show )
	{
		if ( settings.oFeatures.bProcessing ) {
			$(settings.aanFeatures.r).css( 'display', show ? 'block' : 'none' );
		}

			_fnCallbackFire( settings, null, 'processing', [settings, show] );
	}


	function _fnFeatureHtmlTable ( settings )
	{
		var table = $(settings.nTable);

		table.attr( 'role', 'grid' );

		var scroll = settings.oScroll;

			if ( scroll.sX === '' && scroll.sY === '' ) {
			return settings.nTable;
		}

			var scrollX = scroll.sX;
		var scrollY = scroll.sY;
		var classes = settings.oClasses;
		var caption = table.children('caption');
		var captionSide = caption.length ? caption[0]._captionSide : null;
		var headerClone = $( table[0].cloneNode(false) );
		var footerClone = $( table[0].cloneNode(false) );
		var footer = table.children('tfoot');
		var _div = '<div/>';
		var size = function ( s ) {
			return !s ? null : _fnStringToCss( s );
		};

			if ( ! footer.length ) {
			footer = null;
		}


		var scroller = $( _div, { 'class': classes.sScrollWrapper } )
			.append(
				$(_div, { 'class': classes.sScrollHead } )
					.css( {
						overflow: 'hidden',
						position: 'relative',
						border: 0,
						width: scrollX ? size(scrollX) : '100%'
					} )
					.append(
						$(_div, { 'class': classes.sScrollHeadInner } )
							.css( {
								'box-sizing': 'content-box',
								width: scroll.sXInner || '100%'
							} )
							.append(
								headerClone
									.removeAttr('id')
									.css( 'margin-left', 0 )
									.append( captionSide === 'top' ? caption : null )
									.append(
										table.children('thead')
									)
							)
					)
			)
			.append(
				$(_div, { 'class': classes.sScrollBody } )
					.css( {
						position: 'relative',
						overflow: 'auto',
						width: size( scrollX )
					} )
					.append( table )
			);

			if ( footer ) {
			scroller.append(
				$(_div, { 'class': classes.sScrollFoot } )
					.css( {
						overflow: 'hidden',
						border: 0,
						width: scrollX ? size(scrollX) : '100%'
					} )
					.append(
						$(_div, { 'class': classes.sScrollFootInner } )
							.append(
								footerClone
									.removeAttr('id')
									.css( 'margin-left', 0 )
									.append( captionSide === 'bottom' ? caption : null )
									.append(
										table.children('tfoot')
									)
							)
					)
			);
		}

			var children = scroller.children();
		var scrollHead = children[0];
		var scrollBody = children[1];
		var scrollFoot = footer ? children[2] : null;

		if ( scrollX ) {
			$(scrollBody).on( 'scroll.DT', function (e) {
				var scrollLeft = this.scrollLeft;

					scrollHead.scrollLeft = scrollLeft;

					if ( footer ) {
					scrollFoot.scrollLeft = scrollLeft;
				}
			} );
		}

			$(scrollBody).css('max-height', scrollY);
		if (! scroll.bCollapse) {
			$(scrollBody).css('height', scrollY);
		}

			settings.nScrollHead = scrollHead;
		settings.nScrollBody = scrollBody;
		settings.nScrollFoot = scrollFoot;

		settings.aoDrawCallback.push( {
			"fn": _fnScrollDraw,
			"sName": "scrolling"
		} );

			return scroller[0];
	}




	function _fnScrollDraw ( settings )
	{
		var
			scroll         = settings.oScroll,
			scrollX        = scroll.sX,
			scrollXInner   = scroll.sXInner,
			scrollY        = scroll.sY,
			barWidth       = scroll.iBarWidth,
			divHeader      = $(settings.nScrollHead),
			divHeaderStyle = divHeader[0].style,
			divHeaderInner = divHeader.children('div'),
			divHeaderInnerStyle = divHeaderInner[0].style,
			divHeaderTable = divHeaderInner.children('table'),
			divBodyEl      = settings.nScrollBody,
			divBody        = $(divBodyEl),
			divBodyStyle   = divBodyEl.style,
			divFooter      = $(settings.nScrollFoot),
			divFooterInner = divFooter.children('div'),
			divFooterTable = divFooterInner.children('table'),
			header         = $(settings.nTHead),
			table          = $(settings.nTable),
			tableEl        = table[0],
			tableStyle     = tableEl.style,
			footer         = settings.nTFoot ? $(settings.nTFoot) : null,
			browser        = settings.oBrowser,
			ie67           = browser.bScrollOversize,
			dtHeaderCells  = _pluck( settings.aoColumns, 'nTh' ),
			headerTrgEls, footerTrgEls,
			headerSrcEls, footerSrcEls,
			headerCopy, footerCopy,
			headerWidths=[], footerWidths=[],
			headerContent=[], footerContent=[],
			idx, correction, sanityWidth,
			zeroOut = function(nSizer) {
				var style = nSizer.style;
				style.paddingTop = "0";
				style.paddingBottom = "0";
				style.borderTopWidth = "0";
				style.borderBottomWidth = "0";
				style.height = 0;
			};

		var scrollBarVis = divBodyEl.scrollHeight > divBodyEl.clientHeight;

				if ( settings.scrollBarVis !== scrollBarVis && settings.scrollBarVis !== undefined ) {
			settings.scrollBarVis = scrollBarVis;
			_fnAdjustColumnSizing( settings );
			return; 
		}
		else {
			settings.scrollBarVis = scrollBarVis;
		}



		table.children('thead, tfoot').remove();

			if ( footer ) {
			footerCopy = footer.clone().prependTo( table );
			footerTrgEls = footer.find('tr'); 
			footerSrcEls = footerCopy.find('tr');
		}

		headerCopy = header.clone().prependTo( table );
		headerTrgEls = header.find('tr'); 
		headerSrcEls = headerCopy.find('tr');
		headerCopy.find('th, td').removeAttr('tabindex');




		if ( ! scrollX )
		{
			divBodyStyle.width = '100%';
			divHeader[0].style.width = '100%';
		}

			$.each( _fnGetUniqueThs( settings, headerCopy ), function ( i, el ) {
			idx = _fnVisibleToColumnIndex( settings, i );
			el.style.width = settings.aoColumns[idx].sWidth;
		} );

			if ( footer ) {
			_fnApplyToChildren( function(n) {
				n.style.width = "";
			}, footerSrcEls );
		}

		sanityWidth = table.outerWidth();
		if ( scrollX === "" ) {
			tableStyle.width = "100%";

			if ( ie67 && (table.find('tbody').height() > divBodyEl.offsetHeight ||
				divBody.css('overflow-y') == "scroll")
			) {
				tableStyle.width = _fnStringToCss( table.outerWidth() - barWidth);
			}

			sanityWidth = table.outerWidth();
		}
		else if ( scrollXInner !== "" ) {
			tableStyle.width = _fnStringToCss(scrollXInner);

			sanityWidth = table.outerWidth();
		}


		_fnApplyToChildren( zeroOut, headerSrcEls );

		_fnApplyToChildren( function(nSizer) {
			headerContent.push( nSizer.innerHTML );
			headerWidths.push( _fnStringToCss( $(nSizer).css('width') ) );
		}, headerSrcEls );

		_fnApplyToChildren( function(nToSize, i) {
			if ( $.inArray( nToSize, dtHeaderCells ) !== -1 ) {
				nToSize.style.width = headerWidths[i];
			}
		}, headerTrgEls );

			$(headerSrcEls).height(0);


		if ( footer )
		{
			_fnApplyToChildren( zeroOut, footerSrcEls );

				_fnApplyToChildren( function(nSizer) {
				footerContent.push( nSizer.innerHTML );
				footerWidths.push( _fnStringToCss( $(nSizer).css('width') ) );
			}, footerSrcEls );

				_fnApplyToChildren( function(nToSize, i) {
				nToSize.style.width = footerWidths[i];
			}, footerTrgEls );

				$(footerSrcEls).height(0);
		}




		_fnApplyToChildren( function(nSizer, i) {
			nSizer.innerHTML = '<div class="dataTables_sizing">'+headerContent[i]+'</div>';
			nSizer.childNodes[0].style.height = "0";
			nSizer.childNodes[0].style.overflow = "hidden";
			nSizer.style.width = headerWidths[i];
		}, headerSrcEls );

			if ( footer )
		{
			_fnApplyToChildren( function(nSizer, i) {
				nSizer.innerHTML = '<div class="dataTables_sizing">'+footerContent[i]+'</div>';
				nSizer.childNodes[0].style.height = "0";
				nSizer.childNodes[0].style.overflow = "hidden";
				nSizer.style.width = footerWidths[i];
			}, footerSrcEls );
		}

		if ( table.outerWidth() < sanityWidth )
		{
			correction = ((divBodyEl.scrollHeight > divBodyEl.offsetHeight ||
				divBody.css('overflow-y') == "scroll")) ?
					sanityWidth+barWidth :
					sanityWidth;

			if ( ie67 && (divBodyEl.scrollHeight >
				divBodyEl.offsetHeight || divBody.css('overflow-y') == "scroll")
			) {
				tableStyle.width = _fnStringToCss( correction-barWidth );
			}

			if ( scrollX === "" || scrollXInner !== "" ) {
				_fnLog( settings, 1, 'Possible column misalignment', 6 );
			}
		}
		else
		{
			correction = '100%';
		}

		divBodyStyle.width = _fnStringToCss( correction );
		divHeaderStyle.width = _fnStringToCss( correction );

			if ( footer ) {
			settings.nScrollFoot.style.width = _fnStringToCss( correction );
		}



		if ( ! scrollY ) {

			if ( ie67 ) {
				divBodyStyle.height = _fnStringToCss( tableEl.offsetHeight+barWidth );
			}
		}


		var iOuterWidth = table.outerWidth();
		divHeaderTable[0].style.width = _fnStringToCss( iOuterWidth );
		divHeaderInnerStyle.width = _fnStringToCss( iOuterWidth );

		var bScrolling = table.height() > divBodyEl.clientHeight || divBody.css('overflow-y') == "scroll";
		var padding = 'padding' + (browser.bScrollbarLeft ? 'Left' : 'Right' );
		divHeaderInnerStyle[ padding ] = bScrolling ? barWidth+"px" : "0px";

			if ( footer ) {
			divFooterTable[0].style.width = _fnStringToCss( iOuterWidth );
			divFooterInner[0].style.width = _fnStringToCss( iOuterWidth );
			divFooterInner[0].style[padding] = bScrolling ? barWidth+"px" : "0px";
		}

		table.children('colgroup').insertBefore( table.children('thead') );


		divBody.trigger('scroll');

		if ( (settings.bSorted || settings.bFiltered) && ! settings._drawHold ) {
			divBodyEl.scrollTop = 0;
		}
	}




	function _fnApplyToChildren( fn, an1, an2 )
	{
		var index=0, i=0, iLen=an1.length;
		var nNode1, nNode2;

			while ( i < iLen ) {
			nNode1 = an1[i].firstChild;
			nNode2 = an2 ? an2[i].firstChild : null;

				while ( nNode1 ) {
				if ( nNode1.nodeType === 1 ) {
					if ( an2 ) {
						fn( nNode1, nNode2, index );
					}
					else {
						fn( nNode1, index );
					}

						index++;
				}

					nNode1 = nNode1.nextSibling;
				nNode2 = an2 ? nNode2.nextSibling : null;
			}

				i++;
		}
	}



				var __re_html_remove = /<.*?>/g;



	function _fnCalculateColumnWidths ( oSettings )
	{
		var
			table = oSettings.nTable,
			columns = oSettings.aoColumns,
			scroll = oSettings.oScroll,
			scrollY = scroll.sY,
			scrollX = scroll.sX,
			scrollXInner = scroll.sXInner,
			columnCount = columns.length,
			visibleColumns = _fnGetColumns( oSettings, 'bVisible' ),
			headerCells = $('th', oSettings.nTHead),
			tableWidthAttr = table.getAttribute('width'), 
			tableContainer = table.parentNode,
			userInputs = false,
			i, column, columnIdx, width, outerWidth,
			browser = oSettings.oBrowser,
			ie67 = browser.bScrollOversize;

			var styleWidth = table.style.width;
		if ( styleWidth && styleWidth.indexOf('%') !== -1 ) {
			tableWidthAttr = styleWidth;
		}


		for ( i=0 ; i<visibleColumns.length ; i++ ) {
			column = columns[ visibleColumns[i] ];

				if ( column.sWidth !== null ) {
				column.sWidth = _fnConvertToWidth( column.sWidthOrig, tableContainer );

					userInputs = true;
			}
		}


		if ( ie67 || ! userInputs && ! scrollX && ! scrollY &&
		     columnCount == _fnVisbleColumns( oSettings ) &&
		     columnCount == headerCells.length
		) {
			for ( i=0 ; i<columnCount ; i++ ) {
				var colIdx = _fnVisibleToColumnIndex( oSettings, i );

					if ( colIdx !== null ) {
					columns[ colIdx ].sWidth = _fnStringToCss( headerCells.eq(i).width() );
				}
			}
		}
		else
		{
			var tmpTable = $(table).clone() 
				.css( 'visibility', 'hidden' )
				.removeAttr( 'id' );

			tmpTable.find('tbody tr').remove();
			var tr = $('<tr/>').appendTo( tmpTable.find('tbody') );

			tmpTable.find('thead, tfoot').remove();
			tmpTable
				.append( $(oSettings.nTHead).clone() )
				.append( $(oSettings.nTFoot).clone() );

			tmpTable.find('tfoot th, tfoot td').css('width', '');

			headerCells = _fnGetUniqueThs( oSettings, tmpTable.find('thead')[0] );

				for ( i=0 ; i<visibleColumns.length ; i++ ) {
				column = columns[ visibleColumns[i] ];

					headerCells[i].style.width = column.sWidthOrig !== null && column.sWidthOrig !== '' ?
					_fnStringToCss( column.sWidthOrig ) :
					'';

				if ( column.sWidthOrig && scrollX ) {
					$( headerCells[i] ).append( $('<div/>').css( {
						width: column.sWidthOrig,
						margin: 0,
						padding: 0,
						border: 0,
						height: 1
					} ) );
				}
			}

			if ( oSettings.aoData.length ) {
				for ( i=0 ; i<visibleColumns.length ; i++ ) {
					columnIdx = visibleColumns[i];
					column = columns[ columnIdx ];

						$( _fnGetWidestNode( oSettings, columnIdx ) )
						.clone( false )
						.append( column.sContentPadding )
						.appendTo( tr );
				}
			}

			$('[name]', tmpTable).removeAttr('name');

			var holder = $('<div/>').css( scrollX || scrollY ?
					{
						position: 'absolute',
						top: 0,
						left: 0,
						height: 1,
						right: 0,
						overflow: 'hidden'
					} :
					{}
				)
				.append( tmpTable )
				.appendTo( tableContainer );

			if ( scrollX && scrollXInner ) {
				tmpTable.width( scrollXInner );
			}
			else if ( scrollX ) {
				tmpTable.css( 'width', 'auto' );
				tmpTable.removeAttr('width');

				if ( tmpTable.width() < tableContainer.clientWidth && tableWidthAttr ) {
					tmpTable.width( tableContainer.clientWidth );
				}
			}
			else if ( scrollY ) {
				tmpTable.width( tableContainer.clientWidth );
			}
			else if ( tableWidthAttr ) {
				tmpTable.width( tableWidthAttr );
			}

			var total = 0;
			for ( i=0 ; i<visibleColumns.length ; i++ ) {
				var cell = $(headerCells[i]);
				var border = cell.outerWidth() - cell.width();

				var bounding = browser.bBounding ?
					Math.ceil( headerCells[i].getBoundingClientRect().width ) :
					cell.outerWidth();

				total += bounding;

				columns[ visibleColumns[i] ].sWidth = _fnStringToCss( bounding - border );
			}

				table.style.width = _fnStringToCss( total );

			holder.remove();
		}

		if ( tableWidthAttr ) {
			table.style.width = _fnStringToCss( tableWidthAttr );
		}

			if ( (tableWidthAttr || scrollX) && ! oSettings._reszEvt ) {
			var bindResize = function () {
				$(window).on('resize.DT-'+oSettings.sInstance, _fnThrottle( function () {
					_fnAdjustColumnSizing( oSettings );
				} ) );
			};

			if ( ie67 ) {
				setTimeout( bindResize, 1000 );
			}
			else {
				bindResize();
			}

				oSettings._reszEvt = true;
		}
	}



	var _fnThrottle = DataTable.util.throttle;



	function _fnConvertToWidth ( width, parent )
	{
		if ( ! width ) {
			return 0;
		}

			var n = $('<div/>')
			.css( 'width', _fnStringToCss( width ) )
			.appendTo( parent || document.body );

			var val = n[0].offsetWidth;
		n.remove();

			return val;
	}



	function _fnGetWidestNode( settings, colIdx )
	{
		var idx = _fnGetMaxLenString( settings, colIdx );
		if ( idx < 0 ) {
			return null;
		}

			var data = settings.aoData[ idx ];
		return ! data.nTr ? 
			$('<td/>').html( _fnGetCellData( settings, idx, colIdx, 'display' ) )[0] :
			data.anCells[ colIdx ];
	}



	function _fnGetMaxLenString( settings, colIdx )
	{
		var s, max=-1, maxIdx = -1;

			for ( var i=0, ien=settings.aoData.length ; i<ien ; i++ ) {
			s = _fnGetCellData( settings, i, colIdx, 'display' )+'';
			s = s.replace( __re_html_remove, '' );
			s = s.replace( /&nbsp;/g, ' ' );

				if ( s.length > max ) {
				max = s.length;
				maxIdx = i;
			}
		}

			return maxIdx;
	}



	function _fnStringToCss( s )
	{
		if ( s === null ) {
			return '0px';
		}

			if ( typeof s == 'number' ) {
			return s < 0 ?
				'0px' :
				s+'px';
		}

		return s.match(/\d$/) ?
			s+'px' :
			s;
	}



				function _fnSortFlatten ( settings )
	{
		var
			i, iLen, k, kLen,
			aSort = [],
			aiOrig = [],
			aoColumns = settings.aoColumns,
			aDataSort, iCol, sType, srcCol,
			fixed = settings.aaSortingFixed,
			fixedObj = $.isPlainObject( fixed ),
			nestedSort = [],
			add = function ( a ) {
				if ( a.length && ! Array.isArray( a[0] ) ) {
					nestedSort.push( a );
				}
				else {
					$.merge( nestedSort, a );
				}
			};

		if ( Array.isArray( fixed ) ) {
			add( fixed );
		}

			if ( fixedObj && fixed.pre ) {
			add( fixed.pre );
		}

			add( settings.aaSorting );

			if (fixedObj && fixed.post ) {
			add( fixed.post );
		}

			for ( i=0 ; i<nestedSort.length ; i++ )
		{
			srcCol = nestedSort[i][0];
			aDataSort = aoColumns[ srcCol ].aDataSort;

				for ( k=0, kLen=aDataSort.length ; k<kLen ; k++ )
			{
				iCol = aDataSort[k];
				sType = aoColumns[ iCol ].sType || 'string';

					if ( nestedSort[i]._idx === undefined ) {
					nestedSort[i]._idx = $.inArray( nestedSort[i][1], aoColumns[iCol].asSorting );
				}

					aSort.push( {
					src:       srcCol,
					col:       iCol,
					dir:       nestedSort[i][1],
					index:     nestedSort[i]._idx,
					type:      sType,
					formatter: DataTable.ext.type.order[ sType+"-pre" ]
				} );
			}
		}

			return aSort;
	}


	function _fnSort ( oSettings )
	{
		var
			i, ien, iLen, j, jLen, k, kLen,
			sDataType, nTh,
			aiOrig = [],
			oExtSort = DataTable.ext.type.order,
			aoData = oSettings.aoData,
			aoColumns = oSettings.aoColumns,
			aDataSort, data, iCol, sType, oSort,
			formatters = 0,
			sortCol,
			displayMaster = oSettings.aiDisplayMaster,
			aSort;

		_fnColumnTypes( oSettings );

			aSort = _fnSortFlatten( oSettings );

			for ( i=0, ien=aSort.length ; i<ien ; i++ ) {
			sortCol = aSort[i];

			if ( sortCol.formatter ) {
				formatters++;
			}

			_fnSortData( oSettings, sortCol.col );
		}


		if ( _fnDataSource( oSettings ) != 'ssp' && aSort.length !== 0 )
		{
			for ( i=0, iLen=displayMaster.length ; i<iLen ; i++ ) {
				aiOrig[ displayMaster[i] ] = i;
			}


			if ( formatters === aSort.length ) {
				displayMaster.sort( function ( a, b ) {
					var
						x, y, k, test, sort,
						len=aSort.length,
						dataA = aoData[a]._aSortData,
						dataB = aoData[b]._aSortData;

						for ( k=0 ; k<len ; k++ ) {
						sort = aSort[k];

							x = dataA[ sort.col ];
						y = dataB[ sort.col ];

							test = x<y ? -1 : x>y ? 1 : 0;
						if ( test !== 0 ) {
							return sort.dir === 'asc' ? test : -test;
						}
					}

						x = aiOrig[a];
					y = aiOrig[b];
					return x<y ? -1 : x>y ? 1 : 0;
				} );
			}
			else {
				displayMaster.sort( function ( a, b ) {
					var
						x, y, k, l, test, sort, fn,
						len=aSort.length,
						dataA = aoData[a]._aSortData,
						dataB = aoData[b]._aSortData;

						for ( k=0 ; k<len ; k++ ) {
						sort = aSort[k];

							x = dataA[ sort.col ];
						y = dataB[ sort.col ];

							fn = oExtSort[ sort.type+"-"+sort.dir ] || oExtSort[ "string-"+sort.dir ];
						test = fn( x, y );
						if ( test !== 0 ) {
							return test;
						}
					}

						x = aiOrig[a];
					y = aiOrig[b];
					return x<y ? -1 : x>y ? 1 : 0;
				} );
			}
		}


		oSettings.bSorted = true;
	}


			function _fnSortAria ( settings )
	{
		var label;
		var nextSort;
		var columns = settings.aoColumns;
		var aSort = _fnSortFlatten( settings );
		var oAria = settings.oLanguage.oAria;

		for ( var i=0, iLen=columns.length ; i<iLen ; i++ )
		{
			var col = columns[i];
			var asSorting = col.asSorting;
			var sTitle = col.sTitle.replace( /<.*?>/g, "" );
			var th = col.nTh;

			th.removeAttribute('aria-sort');


			if ( col.bSortable ) {
				if ( aSort.length > 0 && aSort[0].col == i ) {
					th.setAttribute('aria-sort', aSort[0].dir=="asc" ? "ascending" : "descending" );
					nextSort = asSorting[ aSort[0].index+1 ] || asSorting[0];
				}
				else {
					nextSort = asSorting[0];
				}

					label = sTitle + ( nextSort === "asc" ?
					oAria.sSortAscending :
					oAria.sSortDescending
				);
			}
			else {
				label = sTitle;
			}

				th.setAttribute('aria-label', label);
		}
	}



	function _fnSortListener ( settings, colIdx, append, callback )
	{
		var col = settings.aoColumns[ colIdx ];
		var sorting = settings.aaSorting;
		var asSorting = col.asSorting;
		var nextSortIdx;
		var next = function ( a, overflow ) {
			var idx = a._idx;
			if ( idx === undefined ) {
				idx = $.inArray( a[1], asSorting );
			}

				return idx+1 < asSorting.length ?
				idx+1 :
				overflow ?
					null :
					0;
		};

		if ( typeof sorting[0] === 'number' ) {
			sorting = settings.aaSorting = [ sorting ];
		}

		if ( append && settings.oFeatures.bSortMulti ) {
			var sortIdx = $.inArray( colIdx, _pluck(sorting, '0') );

				if ( sortIdx !== -1 ) {
				nextSortIdx = next( sorting[sortIdx], true );

					if ( nextSortIdx === null && sorting.length === 1 ) {
					nextSortIdx = 0; 
				}

					if ( nextSortIdx === null ) {
					sorting.splice( sortIdx, 1 );
				}
				else {
					sorting[sortIdx][1] = asSorting[ nextSortIdx ];
					sorting[sortIdx]._idx = nextSortIdx;
				}
			}
			else {
				sorting.push( [ colIdx, asSorting[0], 0 ] );
				sorting[sorting.length-1]._idx = 0;
			}
		}
		else if ( sorting.length && sorting[0][0] == colIdx ) {
			nextSortIdx = next( sorting[0] );

				sorting.length = 1;
			sorting[0][1] = asSorting[ nextSortIdx ];
			sorting[0]._idx = nextSortIdx;
		}
		else {
			sorting.length = 0;
			sorting.push( [ colIdx, asSorting[0] ] );
			sorting[0]._idx = 0;
		}

		_fnReDraw( settings );

		if ( typeof callback == 'function' ) {
			callback( settings );
		}
	}



	function _fnSortAttachListener ( settings, attachTo, colIdx, callback )
	{
		var col = settings.aoColumns[ colIdx ];

			_fnBindAction( attachTo, {}, function (e) {

			if ( col.bSortable === false ) {
				return;
			}

			if ( settings.oFeatures.bProcessing ) {
				_fnProcessingDisplay( settings, true );

					setTimeout( function() {
					_fnSortListener( settings, colIdx, e.shiftKey, callback );

					if ( _fnDataSource( settings ) !== 'ssp' ) {
						_fnProcessingDisplay( settings, false );
					}
				}, 0 );
			}
			else {
				_fnSortListener( settings, colIdx, e.shiftKey, callback );
			}
		} );
	}



	function _fnSortingClasses( settings )
	{
		var oldSort = settings.aLastSort;
		var sortClass = settings.oClasses.sSortColumn;
		var sort = _fnSortFlatten( settings );
		var features = settings.oFeatures;
		var i, ien, colIdx;

			if ( features.bSort && features.bSortClasses ) {
			for ( i=0, ien=oldSort.length ; i<ien ; i++ ) {
				colIdx = oldSort[i].src;

				$( _pluck( settings.aoData, 'anCells', colIdx ) )
					.removeClass( sortClass + (i<2 ? i+1 : 3) );
			}

			for ( i=0, ien=sort.length ; i<ien ; i++ ) {
				colIdx = sort[i].src;

					$( _pluck( settings.aoData, 'anCells', colIdx ) )
					.addClass( sortClass + (i<2 ? i+1 : 3) );
			}
		}

			settings.aLastSort = sort;
	}


	function _fnSortData( settings, idx )
	{
		var column = settings.aoColumns[ idx ];
		var customSort = DataTable.ext.order[ column.sSortDataType ];
		var customData;

			if ( customSort ) {
			customData = customSort.call( settings.oInstance, settings, idx,
				_fnColumnIndexToVisible( settings, idx )
			);
		}

		var row, cellData;
		var formatter = DataTable.ext.type.order[ column.sType+"-pre" ];

			for ( var i=0, ien=settings.aoData.length ; i<ien ; i++ ) {
			row = settings.aoData[i];

				if ( ! row._aSortData ) {
				row._aSortData = [];
			}

				if ( ! row._aSortData[idx] || customSort ) {
				cellData = customSort ?
					customData[i] : 
					_fnGetCellData( settings, i, idx, 'sort' );

					row._aSortData[ idx ] = formatter ?
					formatter( cellData ) :
					cellData;
			}
		}
	}




	function _fnSaveState ( settings )
	{
		if ( !settings.oFeatures.bStateSave || settings.bDestroying )
		{
			return;
		}


		var state = {
			time:    +new Date(),
			start:   settings._iDisplayStart,
			length:  settings._iDisplayLength,
			order:   $.extend( true, [], settings.aaSorting ),
			search:  _fnSearchToCamel( settings.oPreviousSearch ),
			columns: $.map( settings.aoColumns, function ( col, i ) {
				return {
					visible: col.bVisible,
					search: _fnSearchToCamel( settings.aoPreSearchCols[i] )
				};
			} )
		};

			_fnCallbackFire( settings, "aoStateSaveParams", 'stateSaveParams', [settings, state] );

			settings.oSavedState = state;
		settings.fnStateSaveCallback.call( settings.oInstance, settings, state );
	}



	function _fnLoadState ( settings, oInit, callback )
	{
		var i, ien;
		var columns = settings.aoColumns;
		var loaded = function ( s ) {
			if ( ! s || ! s.time ) {
				callback();
				return;
			}

			var abStateLoad = _fnCallbackFire( settings, 'aoStateLoadParams', 'stateLoadParams', [settings, s] );
			if ( $.inArray( false, abStateLoad ) !== -1 ) {
				callback();
				return;
			}

			var duration = settings.iStateDuration;
			if ( duration > 0 && s.time < +new Date() - (duration*1000) ) {
				callback();
				return;
			}

			if ( s.columns && columns.length !== s.columns.length ) {
				callback();
				return;
			}

			settings.oLoadedState = $.extend( true, {}, s );

			if ( s.start !== undefined ) {
				settings._iDisplayStart    = s.start;
				settings.iInitDisplayStart = s.start;
			}
			if ( s.length !== undefined ) {
				settings._iDisplayLength   = s.length;
			}

			if ( s.order !== undefined ) {
				settings.aaSorting = [];
				$.each( s.order, function ( i, col ) {
					settings.aaSorting.push( col[0] >= columns.length ?
						[ 0, col[1] ] :
						col
					);
				} );
			}

			if ( s.search !== undefined ) {
				$.extend( settings.oPreviousSearch, _fnSearchToHung( s.search ) );
			}

			if ( s.columns ) {
				for ( i=0, ien=s.columns.length ; i<ien ; i++ ) {
					var col = s.columns[i];

					if ( col.visible !== undefined ) {
						columns[i].bVisible = col.visible;
					}

					if ( col.search !== undefined ) {
						$.extend( settings.aoPreSearchCols[i], _fnSearchToHung( col.search ) );
					}
				}
			}

				_fnCallbackFire( settings, 'aoStateLoaded', 'stateLoaded', [settings, s] );
			callback();
		};

			if ( ! settings.oFeatures.bStateSave ) {
			callback();
			return;
		}

			var state = settings.fnStateLoadCallback.call( settings.oInstance, settings, loaded );

			if ( state !== undefined ) {
			loaded( state );
		}
	}



	function _fnSettingsFromNode ( table )
	{
		var settings = DataTable.settings;
		var idx = $.inArray( table, _pluck( settings, 'nTable' ) );

			return idx !== -1 ?
			settings[ idx ] :
			null;
	}



	function _fnLog( settings, level, msg, tn )
	{
		msg = 'DataTables warning: '+
			(settings ? 'table id='+settings.sTableId+' - ' : '')+msg;

			if ( tn ) {
			msg += '. For more information about this error, please see '+
			'http://datatables.net/tn/'+tn;
		}

			if ( ! level  ) {
			var ext = DataTable.ext;
			var type = ext.sErrMode || ext.errMode;

				if ( settings ) {
				_fnCallbackFire( settings, null, 'error', [ settings, tn, msg ] );
			}

				if ( type == 'alert' ) {
				alert( msg );
			}
			else if ( type == 'throw' ) {
				throw new Error(msg);
			}
			else if ( typeof type == 'function' ) {
				type( settings, tn, msg );
			}
		}
		else if ( window.console && console.log ) {
			console.log( msg );
		}
	}



	function _fnMap( ret, src, name, mappedName )
	{
		if ( Array.isArray( name ) ) {
			$.each( name, function (i, val) {
				if ( Array.isArray( val ) ) {
					_fnMap( ret, src, val[0], val[1] );
				}
				else {
					_fnMap( ret, src, val );
				}
			} );

				return;
		}

			if ( mappedName === undefined ) {
			mappedName = name;
		}

			if ( src[name] !== undefined ) {
			ret[mappedName] = src[name];
		}
	}



	function _fnExtend( out, extender, breakRefs )
	{
		var val;

			for ( var prop in extender ) {
			if ( extender.hasOwnProperty(prop) ) {
				val = extender[prop];

					if ( $.isPlainObject( val ) ) {
					if ( ! $.isPlainObject( out[prop] ) ) {
						out[prop] = {};
					}
					$.extend( true, out[prop], val );
				}
				else if ( breakRefs && prop !== 'data' && prop !== 'aaData' && Array.isArray(val) ) {
					out[prop] = val.slice();
				}
				else {
					out[prop] = val;
				}
			}
		}

			return out;
	}



	function _fnBindAction( n, oData, fn )
	{
		$(n)
			.on( 'click.DT', oData, function (e) {
					$(n).trigger('blur'); 
					fn(e);
				} )
			.on( 'keypress.DT', oData, function (e){
					if ( e.which === 13 ) {
						e.preventDefault();
						fn(e);
					}
				} )
			.on( 'selectstart.DT', function () {

					return false;
				} );
	}



	function _fnCallbackReg( oSettings, sStore, fn, sName )
	{
		if ( fn )
		{
			oSettings[sStore].push( {
				"fn": fn,
				"sName": sName
			} );
		}
	}



	function _fnCallbackFire( settings, callbackArr, eventName, args )
	{
		var ret = [];

			if ( callbackArr ) {
			ret = $.map( settings[callbackArr].slice().reverse(), function (val, i) {
				return val.fn.apply( settings.oInstance, args );
			} );
		}

			if ( eventName !== null ) {
			var e = $.Event( eventName+'.dt' );

				$(settings.nTable).trigger( e, args );

				ret.push( e.result );
		}

			return ret;
	}


			function _fnLengthOverflow ( settings )
	{
		var
			start = settings._iDisplayStart,
			end = settings.fnDisplayEnd(),
			len = settings._iDisplayLength;


		if ( start >= end )
		{
			start = end - len;
		}

		start -= (start % len);

			if ( len === -1 || start < 0 )
		{
			start = 0;
		}

			settings._iDisplayStart = start;
	}


			function _fnRenderer( settings, type )
	{
		var renderer = settings.renderer;
		var host = DataTable.ext.renderer[type];

			if ( $.isPlainObject( renderer ) && renderer[type] ) {
			return host[renderer[type]] || host._;
		}
		else if ( typeof renderer === 'string' ) {
			return host[renderer] || host._;
		}

		return host._;
	}



	function _fnDataSource ( settings )
	{
		if ( settings.oFeatures.bServerSide ) {
			return 'ssp';
		}
		else if ( settings.ajax || settings.sAjaxSource ) {
			return 'ajax';
		}
		return 'dom';
	}





	var __apiStruct = [];



	var __arrayProto = Array.prototype;



	var _toSettings = function ( mixed )
	{
		var idx, jq;
		var settings = DataTable.settings;
		var tables = $.map( settings, function (el, i) {
			return el.nTable;
		} );

			if ( ! mixed ) {
			return [];
		}
		else if ( mixed.nTable && mixed.oApi ) {
			return [ mixed ];
		}
		else if ( mixed.nodeName && mixed.nodeName.toLowerCase() === 'table' ) {
			idx = $.inArray( mixed, tables );
			return idx !== -1 ? [ settings[idx] ] : null;
		}
		else if ( mixed && typeof mixed.settings === 'function' ) {
			return mixed.settings().toArray();
		}
		else if ( typeof mixed === 'string' ) {
			jq = $(mixed);
		}
		else if ( mixed instanceof $ ) {
			jq = mixed;
		}

			if ( jq ) {
			return jq.map( function(i) {
				idx = $.inArray( this, tables );
				return idx !== -1 ? settings[idx] : null;
			} ).toArray();
		}
	};



	_Api = function ( context, data )
	{
		if ( ! (this instanceof _Api) ) {
			return new _Api( context, data );
		}

			var settings = [];
		var ctxSettings = function ( o ) {
			var a = _toSettings( o );
			if ( a ) {
				settings.push.apply( settings, a );
			}
		};

			if ( Array.isArray( context ) ) {
			for ( var i=0, ien=context.length ; i<ien ; i++ ) {
				ctxSettings( context[i] );
			}
		}
		else {
			ctxSettings( context );
		}

		this.context = _unique( settings );

		if ( data ) {
			$.merge( this, data );
		}

		this.selector = {
			rows: null,
			cols: null,
			opts: null
		};

			_Api.extend( this, this, __apiStruct );
	};

		DataTable.Api = _Api;

	$.extend( _Api.prototype, {
		any: function ()
		{
			return this.count() !== 0;
		},


				concat:  __arrayProto.concat,


				context: [], 


				count: function ()
		{
			return this.flatten().length;
		},


				each: function ( fn )
		{
			for ( var i=0, ien=this.length ; i<ien; i++ ) {
				fn.call( this, this[i], i, this );
			}

				return this;
		},


				eq: function ( idx )
		{
			var ctx = this.context;

				return ctx.length > idx ?
				new _Api( ctx[idx], this[idx] ) :
				null;
		},


				filter: function ( fn )
		{
			var a = [];

				if ( __arrayProto.filter ) {
				a = __arrayProto.filter.call( this, fn, this );
			}
			else {
				for ( var i=0, ien=this.length ; i<ien ; i++ ) {
					if ( fn.call( this, this[i], i, this ) ) {
						a.push( this[i] );
					}
				}
			}

				return new _Api( this.context, a );
		},


				flatten: function ()
		{
			var a = [];
			return new _Api( this.context, a.concat.apply( a, this.toArray() ) );
		},


				join:    __arrayProto.join,


				indexOf: __arrayProto.indexOf || function (obj, start)
		{
			for ( var i=(start || 0), ien=this.length ; i<ien ; i++ ) {
				if ( this[i] === obj ) {
					return i;
				}
			}
			return -1;
		},

			iterator: function ( flatten, type, fn, alwaysNew ) {
			var
				a = [], ret,
				i, ien, j, jen,
				context = this.context,
				rows, items, item,
				selector = this.selector;

			if ( typeof flatten === 'string' ) {
				alwaysNew = fn;
				fn = type;
				type = flatten;
				flatten = false;
			}

				for ( i=0, ien=context.length ; i<ien ; i++ ) {
				var apiInst = new _Api( context[i] );

					if ( type === 'table' ) {
					ret = fn.call( apiInst, context[i], i );

						if ( ret !== undefined ) {
						a.push( ret );
					}
				}
				else if ( type === 'columns' || type === 'rows' ) {
					ret = fn.call( apiInst, context[i], this[i], i );

						if ( ret !== undefined ) {
						a.push( ret );
					}
				}
				else if ( type === 'column' || type === 'column-rows' || type === 'row' || type === 'cell' ) {
					items = this[i];

						if ( type === 'column-rows' ) {
						rows = _selector_row_indexes( context[i], selector.opts );
					}

						for ( j=0, jen=items.length ; j<jen ; j++ ) {
						item = items[j];

							if ( type === 'cell' ) {
							ret = fn.call( apiInst, context[i], item.row, item.column, i, j );
						}
						else {
							ret = fn.call( apiInst, context[i], item, i, j, rows );
						}

							if ( ret !== undefined ) {
							a.push( ret );
						}
					}
				}
			}

				if ( a.length || alwaysNew ) {
				var api = new _Api( context, flatten ? a.concat.apply( [], a ) : a );
				var apiSelector = api.selector;
				apiSelector.rows = selector.rows;
				apiSelector.cols = selector.cols;
				apiSelector.opts = selector.opts;
				return api;
			}
			return this;
		},


				lastIndexOf: __arrayProto.lastIndexOf || function (obj, start)
		{
			return this.indexOf.apply( this.toArray.reverse(), arguments );
		},


				length:  0,


				map: function ( fn )
		{
			var a = [];

				if ( __arrayProto.map ) {
				a = __arrayProto.map.call( this, fn, this );
			}
			else {
				for ( var i=0, ien=this.length ; i<ien ; i++ ) {
					a.push( fn.call( this, this[i], i ) );
				}
			}

				return new _Api( this.context, a );
		},


				pluck: function ( prop )
		{
			return this.map( function ( el ) {
				return el[ prop ];
			} );
		},

			pop:     __arrayProto.pop,


				push:    __arrayProto.push,


		reduce: __arrayProto.reduce || function ( fn, init )
		{
			return _fnReduce( this, fn, init, 0, this.length, 1 );
		},


				reduceRight: __arrayProto.reduceRight || function ( fn, init )
		{
			return _fnReduce( this, fn, init, this.length-1, -1, -1 );
		},


				reverse: __arrayProto.reverse,


		selector: null,


				shift:   __arrayProto.shift,


				slice: function () {
			return new _Api( this.context, this );
		},


				sort:    __arrayProto.sort, 


				splice:  __arrayProto.splice,


				toArray: function ()
		{
			return __arrayProto.slice.call( this );
		},


				to$: function ()
		{
			return $( this );
		},


				toJQuery: function ()
		{
			return $( this );
		},


				unique: function ()
		{
			return new _Api( this.context, _unique(this) );
		},


				unshift: __arrayProto.unshift
	} );


			_Api.extend = function ( scope, obj, ext )
	{
		if ( ! ext.length || ! obj || ( ! (obj instanceof _Api) && ! obj.__dt_wrapper ) ) {
			return;
		}

			var
			i, ien,
			struct,
			methodScoping = function ( scope, fn, struc ) {
				return function () {
					var ret = fn.apply( scope, arguments );

					_Api.extend( ret, ret, struc.methodExt );
					return ret;
				};
			};

			for ( i=0, ien=ext.length ; i<ien ; i++ ) {
			struct = ext[i];

			obj[ struct.name ] = struct.type === 'function' ?
				methodScoping( scope, struct.val, struct ) :
				struct.type === 'object' ?
					{} :
					struct.val;

				obj[ struct.name ].__dt_wrapper = true;

			_Api.extend( scope, obj[ struct.name ], struct.propExt );
		}
	};






		_Api.register = _api_register = function ( name, val )
	{
		if ( Array.isArray( name ) ) {
			for ( var j=0, jen=name.length ; j<jen ; j++ ) {
				_Api.register( name[j], val );
			}
			return;
		}

			var
			i, ien,
			heir = name.split('.'),
			struct = __apiStruct,
			key, method;

			var find = function ( src, name ) {
			for ( var i=0, ien=src.length ; i<ien ; i++ ) {
				if ( src[i].name === name ) {
					return src[i];
				}
			}
			return null;
		};

			for ( i=0, ien=heir.length ; i<ien ; i++ ) {
			method = heir[i].indexOf('()') !== -1;
			key = method ?
				heir[i].replace('()', '') :
				heir[i];

				var src = find( struct, key );
			if ( ! src ) {
				src = {
					name:      key,
					val:       {},
					methodExt: [],
					propExt:   [],
					type:      'object'
				};
				struct.push( src );
			}

				if ( i === ien-1 ) {
				src.val = val;
				src.type = typeof val === 'function' ?
					'function' :
					$.isPlainObject( val ) ?
						'object' :
						'other';
			}
			else {
				struct = method ?
					src.methodExt :
					src.propExt;
			}
		}
	};

		_Api.registerPlural = _api_registerPlural = function ( pluralName, singularName, val ) {
		_Api.register( pluralName, val );

			_Api.register( singularName, function () {
			var ret = val.apply( this, arguments );

				if ( ret === this ) {
				return this;
			}
			else if ( ret instanceof _Api ) {
				return ret.length ?
					Array.isArray( ret[0] ) ?
						new _Api( ret.context, ret[0] ) : 
						ret[0] :
					undefined;
			}

			return ret;
		} );
	};



	var __table_selector = function ( selector, a )
	{
		if ( Array.isArray(selector) ) {
			return $.map( selector, function (item) {
				return __table_selector(item, a);
			} );
		}

		if ( typeof selector === 'number' ) {
			return [ a[ selector ] ];
		}

		var nodes = $.map( a, function (el, i) {
			return el.nTable;
		} );

			return $(nodes)
			.filter( selector )
			.map( function (i) {
				var idx = $.inArray( this, nodes );
				return a[ idx ];
			} )
			.toArray();
	};




	_api_register( 'tables()', function ( selector ) {
		return selector !== undefined && selector !== null ?
			new _Api( __table_selector( selector, this.context ) ) :
			this;
	} );


			_api_register( 'table()', function ( selector ) {
		var tables = this.tables( selector );
		var ctx = tables.context;

		return ctx.length ?
			new _Api( ctx[0] ) :
			tables;
	} );


			_api_registerPlural( 'tables().nodes()', 'table().node()' , function () {
		return this.iterator( 'table', function ( ctx ) {
			return ctx.nTable;
		}, 1 );
	} );


			_api_registerPlural( 'tables().body()', 'table().body()' , function () {
		return this.iterator( 'table', function ( ctx ) {
			return ctx.nTBody;
		}, 1 );
	} );


			_api_registerPlural( 'tables().header()', 'table().header()' , function () {
		return this.iterator( 'table', function ( ctx ) {
			return ctx.nTHead;
		}, 1 );
	} );


			_api_registerPlural( 'tables().footer()', 'table().footer()' , function () {
		return this.iterator( 'table', function ( ctx ) {
			return ctx.nTFoot;
		}, 1 );
	} );


			_api_registerPlural( 'tables().containers()', 'table().container()' , function () {
		return this.iterator( 'table', function ( ctx ) {
			return ctx.nTableWrapper;
		}, 1 );
	} );




	_api_register( 'draw()', function ( paging ) {
		return this.iterator( 'table', function ( settings ) {
			if ( paging === 'page' ) {
				_fnDraw( settings );
			}
			else {
				if ( typeof paging === 'string' ) {
					paging = paging === 'full-hold' ?
						false :
						true;
				}

					_fnReDraw( settings, paging===false );
			}
		} );
	} );




	_api_register( 'page()', function ( action ) {
		if ( action === undefined ) {
			return this.page.info().page; 
		}

		return this.iterator( 'table', function ( settings ) {
			_fnPageChange( settings, action );
		} );
	} );



	_api_register( 'page.info()', function ( action ) {
		if ( this.context.length === 0 ) {
			return undefined;
		}

			var
			settings   = this.context[0],
			start      = settings._iDisplayStart,
			len        = settings.oFeatures.bPaginate ? settings._iDisplayLength : -1,
			visRecords = settings.fnRecordsDisplay(),
			all        = len === -1;

			return {
			"page":           all ? 0 : Math.floor( start / len ),
			"pages":          all ? 1 : Math.ceil( visRecords / len ),
			"start":          start,
			"end":            settings.fnDisplayEnd(),
			"length":         len,
			"recordsTotal":   settings.fnRecordsTotal(),
			"recordsDisplay": visRecords,
			"serverSide":     _fnDataSource( settings ) === 'ssp'
		};
	} );



	_api_register( 'page.len()', function ( len ) {
		if ( len === undefined ) {
			return this.context.length !== 0 ?
				this.context[0]._iDisplayLength :
				undefined;
		}

		return this.iterator( 'table', function ( settings ) {
			_fnLengthChange( settings, len );
		} );
	} );



				var __reload = function ( settings, holdPosition, callback ) {
		if ( callback ) {
			var api = new _Api( settings );

				api.one( 'draw', function () {
				callback( api.ajax.json() );
			} );
		}

			if ( _fnDataSource( settings ) == 'ssp' ) {
			_fnReDraw( settings, holdPosition );
		}
		else {
			_fnProcessingDisplay( settings, true );

			var xhr = settings.jqXHR;
			if ( xhr && xhr.readyState !== 4 ) {
				xhr.abort();
			}

			_fnBuildAjax( settings, [], function( json ) {
				_fnClearTable( settings );

					var data = _fnAjaxDataSrc( settings, json );
				for ( var i=0, ien=data.length ; i<ien ; i++ ) {
					_fnAddData( settings, data[i] );
				}

					_fnReDraw( settings, holdPosition );
				_fnProcessingDisplay( settings, false );
			} );
		}
	};



	_api_register( 'ajax.json()', function () {
		var ctx = this.context;

			if ( ctx.length > 0 ) {
			return ctx[0].json;
		}

	} );



	_api_register( 'ajax.params()', function () {
		var ctx = this.context;

			if ( ctx.length > 0 ) {
			return ctx[0].oAjaxData;
		}

	} );



	_api_register( 'ajax.reload()', function ( callback, resetPaging ) {
		return this.iterator( 'table', function (settings) {
			__reload( settings, resetPaging===false, callback );
		} );
	} );



	_api_register( 'ajax.url()', function ( url ) {
		var ctx = this.context;

			if ( url === undefined ) {
			if ( ctx.length === 0 ) {
				return undefined;
			}
			ctx = ctx[0];

				return ctx.ajax ?
				$.isPlainObject( ctx.ajax ) ?
					ctx.ajax.url :
					ctx.ajax :
				ctx.sAjaxSource;
		}

		return this.iterator( 'table', function ( settings ) {
			if ( $.isPlainObject( settings.ajax ) ) {
				settings.ajax.url = url;
			}
			else {
				settings.ajax = url;
			}
		} );
	} );



	_api_register( 'ajax.url().load()', function ( callback, resetPaging ) {
		return this.iterator( 'table', function ( ctx ) {
			__reload( ctx, resetPaging===false, callback );
		} );
	} );




					var _selector_run = function ( type, selector, selectFn, settings, opts )
	{
		var
			out = [], res,
			a, i, ien, j, jen,
			selectorType = typeof selector;

		if ( ! selector || selectorType === 'string' || selectorType === 'function' || selector.length === undefined ) {
			selector = [ selector ];
		}

			for ( i=0, ien=selector.length ; i<ien ; i++ ) {
			a = selector[i] && selector[i].split && ! selector[i].match(/[\[\(:]/) ?
				selector[i].split(',') :
				[ selector[i] ];

				for ( j=0, jen=a.length ; j<jen ; j++ ) {
				res = selectFn( typeof a[j] === 'string' ? (a[j]).trim() : a[j] );

					if ( res && res.length ) {
					out = out.concat( res );
				}
			}
		}

		var ext = _ext.selector[ type ];
		if ( ext.length ) {
			for ( i=0, ien=ext.length ; i<ien ; i++ ) {
				out = ext[i]( settings, opts, out );
			}
		}

			return _unique( out );
	};


			var _selector_opts = function ( opts )
	{
		if ( ! opts ) {
			opts = {};
		}

		if ( opts.filter && opts.search === undefined ) {
			opts.search = opts.filter;
		}

			return $.extend( {
			search: 'none',
			order: 'current',
			page: 'all'
		}, opts );
	};


			var _selector_first = function ( inst )
	{
		for ( var i=0, ien=inst.length ; i<ien ; i++ ) {
			if ( inst[i].length > 0 ) {
				inst[0] = inst[i];
				inst[0].length = 1;
				inst.length = 1;
				inst.context = [ inst.context[i] ];

					return inst;
			}
		}

		inst.length = 0;
		return inst;
	};


			var _selector_row_indexes = function ( settings, opts )
	{
		var
			i, ien, tmp, a=[],
			displayFiltered = settings.aiDisplay,
			displayMaster = settings.aiDisplayMaster;

			var
			search = opts.search,  
			order  = opts.order,   
			page   = opts.page;    

			if ( _fnDataSource( settings ) == 'ssp' ) {
			return search === 'removed' ?
				[] :
				_range( 0, displayMaster.length );
		}
		else if ( page == 'current' ) {
			for ( i=settings._iDisplayStart, ien=settings.fnDisplayEnd() ; i<ien ; i++ ) {
				a.push( displayFiltered[i] );
			}
		}
		else if ( order == 'current' || order == 'applied' ) {
			if ( search == 'none') {
				a = displayMaster.slice();
			}
			else if ( search == 'applied' ) {
				a = displayFiltered.slice();
			}
			else if ( search == 'removed' ) {
				var displayFilteredMap = {};

					for ( var i=0, ien=displayFiltered.length ; i<ien ; i++ ) {
					displayFilteredMap[displayFiltered[i]] = null;
				}

					a = $.map( displayMaster, function (el) {
					return ! displayFilteredMap.hasOwnProperty(el) ?
						el :
						null;
				} );
			}
		}
		else if ( order == 'index' || order == 'original' ) {
			for ( i=0, ien=settings.aoData.length ; i<ien ; i++ ) {
				if ( search == 'none' ) {
					a.push( i );
				}
				else { 
					tmp = $.inArray( i, displayFiltered );

						if ((tmp === -1 && search == 'removed') ||
						(tmp >= 0   && search == 'applied') )
					{
						a.push( i );
					}
				}
			}
		}

			return a;
	};



	var __row_selector = function ( settings, selector, opts )
	{
		var rows;
		var run = function ( sel ) {
			var selInt = _intVal( sel );
			var i, ien;
			var aoData = settings.aoData;

			if ( selInt !== null && ! opts ) {
				return [ selInt ];
			}

				if ( ! rows ) {
				rows = _selector_row_indexes( settings, opts );
			}

				if ( selInt !== null && $.inArray( selInt, rows ) !== -1 ) {
				return [ selInt ];
			}
			else if ( sel === null || sel === undefined || sel === '' ) {
				return rows;
			}

			if ( typeof sel === 'function' ) {
				return $.map( rows, function (idx) {
					var row = aoData[ idx ];
					return sel( idx, row._aData, row.nTr ) ? idx : null;
				} );
			}

			if ( sel.nodeName ) {
				var rowIdx = sel._DT_RowIndex;  
				var cellIdx = sel._DT_CellIndex;

					if ( rowIdx !== undefined ) {
					return aoData[ rowIdx ] && aoData[ rowIdx ].nTr === sel ?
						[ rowIdx ] :
						[];
				}
				else if ( cellIdx ) {
					return aoData[ cellIdx.row ] && aoData[ cellIdx.row ].nTr === sel.parentNode ?
						[ cellIdx.row ] :
						[];
				}
				else {
					var host = $(sel).closest('*[data-dt-row]');
					return host.length ?
						[ host.data('dt-row') ] :
						[];
				}
			}

			if ( typeof sel === 'string' && sel.charAt(0) === '#' ) {
				var rowObj = settings.aIds[ sel.replace( /^#/, '' ) ];
				if ( rowObj !== undefined ) {
					return [ rowObj.idx ];
				}

			}

			var nodes = _removeEmpty(
				_pluck_order( settings.aoData, rows, 'nTr' )
			);

			return $(nodes)
				.filter( sel )
				.map( function () {
					return this._DT_RowIndex;
				} )
				.toArray();
		};

			return _selector_run( 'row', selector, run, settings, opts );
	};


			_api_register( 'rows()', function ( selector, opts ) {
		if ( selector === undefined ) {
			selector = '';
		}
		else if ( $.isPlainObject( selector ) ) {
			opts = selector;
			selector = '';
		}

			opts = _selector_opts( opts );

			var inst = this.iterator( 'table', function ( settings ) {
			return __row_selector( settings, selector, opts );
		}, 1 );

		inst.selector.rows = selector;
		inst.selector.opts = opts;

			return inst;
	} );

		_api_register( 'rows().nodes()', function () {
		return this.iterator( 'row', function ( settings, row ) {
			return settings.aoData[ row ].nTr || undefined;
		}, 1 );
	} );

		_api_register( 'rows().data()', function () {
		return this.iterator( true, 'rows', function ( settings, rows ) {
			return _pluck_order( settings.aoData, rows, '_aData' );
		}, 1 );
	} );

		_api_registerPlural( 'rows().cache()', 'row().cache()', function ( type ) {
		return this.iterator( 'row', function ( settings, row ) {
			var r = settings.aoData[ row ];
			return type === 'search' ? r._aFilterData : r._aSortData;
		}, 1 );
	} );

		_api_registerPlural( 'rows().invalidate()', 'row().invalidate()', function ( src ) {
		return this.iterator( 'row', function ( settings, row ) {
			_fnInvalidate( settings, row, src );
		} );
	} );

		_api_registerPlural( 'rows().indexes()', 'row().index()', function () {
		return this.iterator( 'row', function ( settings, row ) {
			return row;
		}, 1 );
	} );

		_api_registerPlural( 'rows().ids()', 'row().id()', function ( hash ) {
		var a = [];
		var context = this.context;

		for ( var i=0, ien=context.length ; i<ien ; i++ ) {
			for ( var j=0, jen=this[i].length ; j<jen ; j++ ) {
				var id = context[i].rowIdFn( context[i].aoData[ this[i][j] ]._aData );
				a.push( (hash === true ? '#' : '' )+ id );
			}
		}

			return new _Api( context, a );
	} );

		_api_registerPlural( 'rows().remove()', 'row().remove()', function () {
		var that = this;

			this.iterator( 'row', function ( settings, row, thatIdx ) {
			var data = settings.aoData;
			var rowData = data[ row ];
			var i, ien, j, jen;
			var loopRow, loopCells;

				data.splice( row, 1 );

			for ( i=0, ien=data.length ; i<ien ; i++ ) {
				loopRow = data[i];
				loopCells = loopRow.anCells;

				if ( loopRow.nTr !== null ) {
					loopRow.nTr._DT_RowIndex = i;
				}

				if ( loopCells !== null ) {
					for ( j=0, jen=loopCells.length ; j<jen ; j++ ) {
						loopCells[j]._DT_CellIndex.row = i;
					}
				}
			}

			_fnDeleteIndex( settings.aiDisplayMaster, row );
			_fnDeleteIndex( settings.aiDisplay, row );
			_fnDeleteIndex( that[ thatIdx ], row, false ); 

			if ( settings._iRecordsDisplay > 0 ) {
				settings._iRecordsDisplay--;
			}

			_fnLengthOverflow( settings );

			var id = settings.rowIdFn( rowData._aData );
			if ( id !== undefined ) {
				delete settings.aIds[ id ];
			}
		} );

			this.iterator( 'table', function ( settings ) {
			for ( var i=0, ien=settings.aoData.length ; i<ien ; i++ ) {
				settings.aoData[i].idx = i;
			}
		} );

			return this;
	} );


			_api_register( 'rows.add()', function ( rows ) {
		var newRows = this.iterator( 'table', function ( settings ) {
				var row, i, ien;
				var out = [];

					for ( i=0, ien=rows.length ; i<ien ; i++ ) {
					row = rows[i];

						if ( row.nodeName && row.nodeName.toUpperCase() === 'TR' ) {
						out.push( _fnAddTr( settings, row )[0] );
					}
					else {
						out.push( _fnAddData( settings, row ) );
					}
				}

					return out;
			}, 1 );

		var modRows = this.rows( -1 );
		modRows.pop();
		$.merge( modRows, newRows );

			return modRows;
	} );






	_api_register( 'row()', function ( selector, opts ) {
		return _selector_first( this.rows( selector, opts ) );
	} );


			_api_register( 'row().data()', function ( data ) {
		var ctx = this.context;

			if ( data === undefined ) {
			return ctx.length && this.length ?
				ctx[0].aoData[ this[0] ]._aData :
				undefined;
		}

		var row = ctx[0].aoData[ this[0] ];
		row._aData = data;

		if ( Array.isArray( data ) && row.nTr && row.nTr.id ) {
			_fnSetObjectDataFn( ctx[0].rowId )( data, row.nTr.id );
		}

		_fnInvalidate( ctx[0], this[0], 'data' );

			return this;
	} );


			_api_register( 'row().node()', function () {
		var ctx = this.context;

			return ctx.length && this.length ?
			ctx[0].aoData[ this[0] ].nTr || null :
			null;
	} );


			_api_register( 'row.add()', function ( row ) {
		if ( row instanceof $ && row.length ) {
			row = row[0];
		}

			var rows = this.iterator( 'table', function ( settings ) {
			if ( row.nodeName && row.nodeName.toUpperCase() === 'TR' ) {
				return _fnAddTr( settings, row )[0];
			}
			return _fnAddData( settings, row );
		} );

		return this.row( rows[0] );
	} );



				var __details_add = function ( ctx, row, data, klass )
	{
		var rows = [];
		var addRow = function ( r, k ) {
			if ( Array.isArray( r ) || r instanceof $ ) {
				for ( var i=0, ien=r.length ; i<ien ; i++ ) {
					addRow( r[i], k );
				}
				return;
			}

			if ( r.nodeName && r.nodeName.toLowerCase() === 'tr' ) {
				rows.push( r );
			}
			else {
				var created = $('<tr><td></td></tr>').addClass( k );
				$('td', created)
					.addClass( k )
					.html( r )
					[0].colSpan = _fnVisbleColumns( ctx );

					rows.push( created[0] );
			}
		};

			addRow( data, klass );

			if ( row._details ) {
			row._details.detach();
		}

			row._details = $(rows);

		if ( row._detailsShow ) {
			row._details.insertAfter( row.nTr );
		}
	};


			var __details_remove = function ( api, idx )
	{
		var ctx = api.context;

			if ( ctx.length ) {
			var row = ctx[0].aoData[ idx !== undefined ? idx : api[0] ];

				if ( row && row._details ) {
				row._details.remove();

					row._detailsShow = undefined;
				row._details = undefined;
			}
		}
	};


			var __details_display = function ( api, show ) {
		var ctx = api.context;

			if ( ctx.length && api.length ) {
			var row = ctx[0].aoData[ api[0] ];

				if ( row._details ) {
				row._detailsShow = show;

					if ( show ) {
					row._details.insertAfter( row.nTr );
				}
				else {
					row._details.detach();
				}

					__details_events( ctx[0] );
			}
		}
	};


			var __details_events = function ( settings )
	{
		var api = new _Api( settings );
		var namespace = '.dt.DT_details';
		var drawEvent = 'draw'+namespace;
		var colvisEvent = 'column-visibility'+namespace;
		var destroyEvent = 'destroy'+namespace;
		var data = settings.aoData;

			api.off( drawEvent +' '+ colvisEvent +' '+ destroyEvent );

			if ( _pluck( data, '_details' ).length > 0 ) {
			api.on( drawEvent, function ( e, ctx ) {
				if ( settings !== ctx ) {
					return;
				}

					api.rows( {page:'current'} ).eq(0).each( function (idx) {
					var row = data[ idx ];

						if ( row._detailsShow ) {
						row._details.insertAfter( row.nTr );
					}
				} );
			} );

			api.on( colvisEvent, function ( e, ctx, idx, vis ) {
				if ( settings !== ctx ) {
					return;
				}

				var row, visible = _fnVisbleColumns( ctx );

					for ( var i=0, ien=data.length ; i<ien ; i++ ) {
					row = data[i];

						if ( row._details ) {
						row._details.children('td[colspan]').attr('colspan', visible );
					}
				}
			} );

			api.on( destroyEvent, function ( e, ctx ) {
				if ( settings !== ctx ) {
					return;
				}

					for ( var i=0, ien=data.length ; i<ien ; i++ ) {
					if ( data[i]._details ) {
						__details_remove( api, i );
					}
				}
			} );
		}
	};

	var _emp = '';
	var _child_obj = _emp+'row().child';
	var _child_mth = _child_obj+'()';

	_api_register( _child_mth, function ( data, klass ) {
		var ctx = this.context;

			if ( data === undefined ) {
			return ctx.length && this.length ?
				ctx[0].aoData[ this[0] ]._details :
				undefined;
		}
		else if ( data === true ) {
			this.child.show();
		}
		else if ( data === false ) {
			__details_remove( this );
		}
		else if ( ctx.length && this.length ) {
			__details_add( ctx[0], ctx[0].aoData[ this[0] ], data, klass );
		}

			return this;
	} );


			_api_register( [
		_child_obj+'.show()',
		_child_mth+'.show()' 
	], function ( show ) {   
		__details_display( this, true );
		return this;
	} );


			_api_register( [
		_child_obj+'.hide()',
		_child_mth+'.hide()' 
	], function () {         
		__details_display( this, false );
		return this;
	} );


			_api_register( [
		_child_obj+'.remove()',
		_child_mth+'.remove()' 
	], function () {           
		__details_remove( this );
		return this;
	} );


			_api_register( _child_obj+'.isShown()', function () {
		var ctx = this.context;

			if ( ctx.length && this.length ) {
			return ctx[0].aoData[ this[0] ]._detailsShow || false;
		}
		return false;
	} );






		var __re_column_selector = /^([^:]+):(name|visIdx|visible)$/;


	var __columnData = function ( settings, column, r1, r2, rows ) {
		var a = [];
		for ( var row=0, ien=rows.length ; row<ien ; row++ ) {
			a.push( _fnGetCellData( settings, rows[row], column ) );
		}
		return a;
	};


			var __column_selector = function ( settings, selector, opts )
	{
		var
			columns = settings.aoColumns,
			names = _pluck( columns, 'sName' ),
			nodes = _pluck( columns, 'nTh' );

			var run = function ( s ) {
			var selInt = _intVal( s );

			if ( s === '' ) {
				return _range( columns.length );
			}

			if ( selInt !== null ) {
				return [ selInt >= 0 ?
					selInt : 
					columns.length + selInt 
				];
			}

			if ( typeof s === 'function' ) {
				var rows = _selector_row_indexes( settings, opts );

					return $.map( columns, function (col, idx) {
					return s(
							idx,
							__columnData( settings, idx, 0, 0, rows ),
							nodes[ idx ]
						) ? idx : null;
				} );
			}

			var match = typeof s === 'string' ?
				s.match( __re_column_selector ) :
				'';

				if ( match ) {
				switch( match[2] ) {
					case 'visIdx':
					case 'visible':
						var idx = parseInt( match[1], 10 );
						if ( idx < 0 ) {
							var visColumns = $.map( columns, function (col,i) {
								return col.bVisible ? i : null;
							} );
							return [ visColumns[ visColumns.length + idx ] ];
						}
						return [ _fnVisibleToColumnIndex( settings, idx ) ];

						case 'name':
						return $.map( names, function (name, i) {
							return name === match[1] ? i : null;
						} );

						default:
						return [];
				}
			}

			if ( s.nodeName && s._DT_CellIndex ) {
				return [ s._DT_CellIndex.column ];
			}

			var jqResult = $( nodes )
				.filter( s )
				.map( function () {
					return $.inArray( this, nodes ); 
				} )
				.toArray();

				if ( jqResult.length || ! s.nodeName ) {
				return jqResult;
			}

			var host = $(s).closest('*[data-dt-column]');
			return host.length ?
				[ host.data('dt-column') ] :
				[];
		};

			return _selector_run( 'column', selector, run, settings, opts );
	};


			var __setColumnVis = function ( settings, column, vis ) {
		var
			cols = settings.aoColumns,
			col  = cols[ column ],
			data = settings.aoData,
			row, cells, i, ien, tr;

		if ( vis === undefined ) {
			return col.bVisible;
		}

		if ( col.bVisible === vis ) {
			return;
		}

			if ( vis ) {
			var insertBefore = $.inArray( true, _pluck(cols, 'bVisible'), column+1 );

				for ( i=0, ien=data.length ; i<ien ; i++ ) {
				tr = data[i].nTr;
				cells = data[i].anCells;

					if ( tr ) {
					tr.insertBefore( cells[ column ], cells[ insertBefore ] || null );
				}
			}
		}
		else {
			$( _pluck( settings.aoData, 'anCells', column ) ).detach();
		}

		col.bVisible = vis;
	};


			_api_register( 'columns()', function ( selector, opts ) {
		if ( selector === undefined ) {
			selector = '';
		}
		else if ( $.isPlainObject( selector ) ) {
			opts = selector;
			selector = '';
		}

			opts = _selector_opts( opts );

			var inst = this.iterator( 'table', function ( settings ) {
			return __column_selector( settings, selector, opts );
		}, 1 );

		inst.selector.cols = selector;
		inst.selector.opts = opts;

			return inst;
	} );

		_api_registerPlural( 'columns().header()', 'column().header()', function ( selector, opts ) {
		return this.iterator( 'column', function ( settings, column ) {
			return settings.aoColumns[column].nTh;
		}, 1 );
	} );

		_api_registerPlural( 'columns().footer()', 'column().footer()', function ( selector, opts ) {
		return this.iterator( 'column', function ( settings, column ) {
			return settings.aoColumns[column].nTf;
		}, 1 );
	} );

		_api_registerPlural( 'columns().data()', 'column().data()', function () {
		return this.iterator( 'column-rows', __columnData, 1 );
	} );

		_api_registerPlural( 'columns().dataSrc()', 'column().dataSrc()', function () {
		return this.iterator( 'column', function ( settings, column ) {
			return settings.aoColumns[column].mData;
		}, 1 );
	} );

		_api_registerPlural( 'columns().cache()', 'column().cache()', function ( type ) {
		return this.iterator( 'column-rows', function ( settings, column, i, j, rows ) {
			return _pluck_order( settings.aoData, rows,
				type === 'search' ? '_aFilterData' : '_aSortData', column
			);
		}, 1 );
	} );

		_api_registerPlural( 'columns().nodes()', 'column().nodes()', function () {
		return this.iterator( 'column-rows', function ( settings, column, i, j, rows ) {
			return _pluck_order( settings.aoData, rows, 'anCells', column ) ;
		}, 1 );
	} );

		_api_registerPlural( 'columns().visible()', 'column().visible()', function ( vis, calc ) {
		var that = this;
		var ret = this.iterator( 'column', function ( settings, column ) {
			if ( vis === undefined ) {
				return settings.aoColumns[ column ].bVisible;
			} 
			__setColumnVis( settings, column, vis );
		} );

		if ( vis !== undefined ) {
			this.iterator( 'table', function ( settings ) {
				_fnDrawHead( settings, settings.aoHeader );
				_fnDrawHead( settings, settings.aoFooter );

				if ( ! settings.aiDisplay.length ) {
					$(settings.nTBody).find('td[colspan]').attr('colspan', _fnVisbleColumns(settings));
				}

						_fnSaveState( settings );

				that.iterator( 'column', function ( settings, column ) {
					_fnCallbackFire( settings, null, 'column-visibility', [settings, column, vis, calc] );
				} );

					if ( calc === undefined || calc ) {
					that.columns.adjust();
				}
			});
		}

			return ret;
	} );

		_api_registerPlural( 'columns().indexes()', 'column().index()', function ( type ) {
		return this.iterator( 'column', function ( settings, column ) {
			return type === 'visible' ?
				_fnColumnIndexToVisible( settings, column ) :
				column;
		}, 1 );
	} );

		_api_register( 'columns.adjust()', function () {
		return this.iterator( 'table', function ( settings ) {
			_fnAdjustColumnSizing( settings );
		}, 1 );
	} );

		_api_register( 'column.index()', function ( type, idx ) {
		if ( this.context.length !== 0 ) {
			var ctx = this.context[0];

				if ( type === 'fromVisible' || type === 'toData' ) {
				return _fnVisibleToColumnIndex( ctx, idx );
			}
			else if ( type === 'fromData' || type === 'toVisible' ) {
				return _fnColumnIndexToVisible( ctx, idx );
			}
		}
	} );

		_api_register( 'column()', function ( selector, opts ) {
		return _selector_first( this.columns( selector, opts ) );
	} );

		var __cell_selector = function ( settings, selector, opts )
	{
		var data = settings.aoData;
		var rows = _selector_row_indexes( settings, opts );
		var cells = _removeEmpty( _pluck_order( data, rows, 'anCells' ) );
		var allCells = $(_flatten( [], cells ));
		var row;
		var columns = settings.aoColumns.length;
		var a, i, ien, j, o, host;

			var run = function ( s ) {
			var fnSelector = typeof s === 'function';

				if ( s === null || s === undefined || fnSelector ) {
				a = [];

					for ( i=0, ien=rows.length ; i<ien ; i++ ) {
					row = rows[i];

						for ( j=0 ; j<columns ; j++ ) {
						o = {
							row: row,
							column: j
						};

							if ( fnSelector ) {
							host = data[ row ];

								if ( s( o, _fnGetCellData(settings, row, j), host.anCells ? host.anCells[j] : null ) ) {
								a.push( o );
							}
						}
						else {
							a.push( o );
						}
					}
				}

					return a;
			}

			if ( $.isPlainObject( s ) ) {
				return s.column !== undefined && s.row !== undefined && $.inArray( s.row, rows ) !== -1 ?
					[s] :
					[];
			}

			var jqResult = allCells
				.filter( s )
				.map( function (i, el) {
					return { 
						row:    el._DT_CellIndex.row,
						column: el._DT_CellIndex.column
	 				};
				} )
				.toArray();

				if ( jqResult.length || ! s.nodeName ) {
				return jqResult;
			}

			host = $(s).closest('*[data-dt-row]');
			return host.length ?
				[ {
					row: host.data('dt-row'),
					column: host.data('dt-column')
				} ] :
				[];
		};

			return _selector_run( 'cell', selector, run, settings, opts );
	};




					_api_register( 'cells()', function ( rowSelector, columnSelector, opts ) {
		if ( $.isPlainObject( rowSelector ) ) {
			if ( rowSelector.row === undefined ) {
				opts = rowSelector;
				rowSelector = null;
			}
			else {
				opts = columnSelector;
				columnSelector = null;
			}
		}
		if ( $.isPlainObject( columnSelector ) ) {
			opts = columnSelector;
			columnSelector = null;
		}

		if ( columnSelector === null || columnSelector === undefined ) {
			return this.iterator( 'table', function ( settings ) {
				return __cell_selector( settings, rowSelector, _selector_opts( opts ) );
			} );
		}

		var internalOpts = opts ? {
			page: opts.page,
			order: opts.order,
			search: opts.search
		} : {};

		var columns = this.columns( columnSelector, internalOpts );
		var rows = this.rows( rowSelector, internalOpts );
		var i, ien, j, jen;

			var cellsNoOpts = this.iterator( 'table', function ( settings, idx ) {
			var a = [];

				for ( i=0, ien=rows[idx].length ; i<ien ; i++ ) {
				for ( j=0, jen=columns[idx].length ; j<jen ; j++ ) {
					a.push( {
						row:    rows[idx][i],
						column: columns[idx][j]
					} );
				}
			}

				return a;
		}, 1 );

		var cells = opts && opts.selected ?
			this.cells( cellsNoOpts, opts ) :
			cellsNoOpts;

			$.extend( cells.selector, {
			cols: columnSelector,
			rows: rowSelector,
			opts: opts
		} );

			return cells;
	} );


			_api_registerPlural( 'cells().nodes()', 'cell().node()', function () {
		return this.iterator( 'cell', function ( settings, row, column ) {
			var data = settings.aoData[ row ];

				return data && data.anCells ?
				data.anCells[ column ] :
				undefined;
		}, 1 );
	} );


			_api_register( 'cells().data()', function () {
		return this.iterator( 'cell', function ( settings, row, column ) {
			return _fnGetCellData( settings, row, column );
		}, 1 );
	} );


			_api_registerPlural( 'cells().cache()', 'cell().cache()', function ( type ) {
		type = type === 'search' ? '_aFilterData' : '_aSortData';

			return this.iterator( 'cell', function ( settings, row, column ) {
			return settings.aoData[ row ][ type ][ column ];
		}, 1 );
	} );


			_api_registerPlural( 'cells().render()', 'cell().render()', function ( type ) {
		return this.iterator( 'cell', function ( settings, row, column ) {
			return _fnGetCellData( settings, row, column, type );
		}, 1 );
	} );


			_api_registerPlural( 'cells().indexes()', 'cell().index()', function () {
		return this.iterator( 'cell', function ( settings, row, column ) {
			return {
				row: row,
				column: column,
				columnVisible: _fnColumnIndexToVisible( settings, column )
			};
		}, 1 );
	} );


			_api_registerPlural( 'cells().invalidate()', 'cell().invalidate()', function ( src ) {
		return this.iterator( 'cell', function ( settings, row, column ) {
			_fnInvalidate( settings, row, src, column );
		} );
	} );



				_api_register( 'cell()', function ( rowSelector, columnSelector, opts ) {
		return _selector_first( this.cells( rowSelector, columnSelector, opts ) );
	} );


			_api_register( 'cell().data()', function ( data ) {
		var ctx = this.context;
		var cell = this[0];

			if ( data === undefined ) {
			return ctx.length && cell.length ?
				_fnGetCellData( ctx[0], cell[0].row, cell[0].column ) :
				undefined;
		}

		_fnSetCellData( ctx[0], cell[0].row, cell[0].column, data );
		_fnInvalidate( ctx[0], cell[0].row, 'data', cell[0].column );

			return this;
	} );




	_api_register( 'order()', function ( order, dir ) {
		var ctx = this.context;

			if ( order === undefined ) {
			return ctx.length !== 0 ?
				ctx[0].aaSorting :
				undefined;
		}

		if ( typeof order === 'number' ) {
			order = [ [ order, dir ] ];
		}
		else if ( order.length && ! Array.isArray( order[0] ) ) {
			order = Array.prototype.slice.call( arguments );
		}

			return this.iterator( 'table', function ( settings ) {
			settings.aaSorting = order.slice();
		} );
	} );



	_api_register( 'order.listener()', function ( node, column, callback ) {
		return this.iterator( 'table', function ( settings ) {
			_fnSortAttachListener( settings, node, column, callback );
		} );
	} );


			_api_register( 'order.fixed()', function ( set ) {
		if ( ! set ) {
			var ctx = this.context;
			var fixed = ctx.length ?
				ctx[0].aaSortingFixed :
				undefined;

				return Array.isArray( fixed ) ?
				{ pre: fixed } :
				fixed;
		}

			return this.iterator( 'table', function ( settings ) {
			settings.aaSortingFixed = $.extend( true, {}, set );
		} );
	} );


	_api_register( [
		'columns().order()',
		'column().order()'
	], function ( dir ) {
		var that = this;

			return this.iterator( 'table', function ( settings, i ) {
			var sort = [];

				$.each( that[i], function (j, col) {
				sort.push( [ col, dir ] );
			} );

				settings.aaSorting = sort;
		} );
	} );



				_api_register( 'search()', function ( input, regex, smart, caseInsen ) {
		var ctx = this.context;

			if ( input === undefined ) {
			return ctx.length !== 0 ?
				ctx[0].oPreviousSearch.sSearch :
				undefined;
		}

		return this.iterator( 'table', function ( settings ) {
			if ( ! settings.oFeatures.bFilter ) {
				return;
			}

				_fnFilterComplete( settings, $.extend( {}, settings.oPreviousSearch, {
				"sSearch": input+"",
				"bRegex":  regex === null ? false : regex,
				"bSmart":  smart === null ? true  : smart,
				"bCaseInsensitive": caseInsen === null ? true : caseInsen
			} ), 1 );
		} );
	} );


			_api_registerPlural(
		'columns().search()',
		'column().search()',
		function ( input, regex, smart, caseInsen ) {
			return this.iterator( 'column', function ( settings, column ) {
				var preSearch = settings.aoPreSearchCols;

					if ( input === undefined ) {
					return preSearch[ column ].sSearch;
				}

				if ( ! settings.oFeatures.bFilter ) {
					return;
				}

					$.extend( preSearch[ column ], {
					"sSearch": input+"",
					"bRegex":  regex === null ? false : regex,
					"bSmart":  smart === null ? true  : smart,
					"bCaseInsensitive": caseInsen === null ? true : caseInsen
				} );

					_fnFilterComplete( settings, settings.oPreviousSearch, 1 );
			} );
		}
	);



		_api_register( 'state()', function () {
		return this.context.length ?
			this.context[0].oSavedState :
			null;
	} );


			_api_register( 'state.clear()', function () {
		return this.iterator( 'table', function ( settings ) {
			settings.fnStateSaveCallback.call( settings.oInstance, settings, {} );
		} );
	} );


			_api_register( 'state.loaded()', function () {
		return this.context.length ?
			this.context[0].oLoadedState :
			null;
	} );


			_api_register( 'state.save()', function () {
		return this.iterator( 'table', function ( settings ) {
			_fnSaveState( settings );
		} );
	} );




	DataTable.versionCheck = DataTable.fnVersionCheck = function( version )
	{
		var aThis = DataTable.version.split('.');
		var aThat = version.split('.');
		var iThis, iThat;

			for ( var i=0, iLen=aThat.length ; i<iLen ; i++ ) {
			iThis = parseInt( aThis[i], 10 ) || 0;
			iThat = parseInt( aThat[i], 10 ) || 0;

			if (iThis === iThat) {
				continue;
			}

			return iThis > iThat;
		}

			return true;
	};



	DataTable.isDataTable = DataTable.fnIsDataTable = function ( table )
	{
		var t = $(table).get(0);
		var is = false;

			if ( table instanceof DataTable.Api ) {
			return true;
		}

			$.each( DataTable.settings, function (i, o) {
			var head = o.nScrollHead ? $('table', o.nScrollHead)[0] : null;
			var foot = o.nScrollFoot ? $('table', o.nScrollFoot)[0] : null;

				if ( o.nTable === t || head === t || foot === t ) {
				is = true;
			}
		} );

			return is;
	};



	DataTable.tables = DataTable.fnTables = function ( visible )
	{
		var api = false;

			if ( $.isPlainObject( visible ) ) {
			api = visible.api;
			visible = visible.visible;
		}

			var a = $.map( DataTable.settings, function (o) {
			if ( !visible || (visible && $(o.nTable).is(':visible')) ) {
				return o.nTable;
			}
		} );

			return api ?
			new _Api( a ) :
			a;
	};



	DataTable.camelToHungarian = _fnCamelToHungarian;




	_api_register( '$()', function ( selector, opts ) {
		var
			rows   = this.rows( opts ).nodes(), 
			jqRows = $(rows);

			return $( [].concat(
			jqRows.filter( selector ).toArray(),
			jqRows.find( selector ).toArray()
		) );
	} );


	$.each( [ 'on', 'one', 'off' ], function (i, key) {
		_api_register( key+'()', function (  ) {
			var args = Array.prototype.slice.call(arguments);

			args[0] = $.map( args[0].split( /\s/ ), function ( e ) {
				return ! e.match(/\.dt\b/) ?
					e+'.dt' :
					e;
				} ).join( ' ' );

				var inst = $( this.tables().nodes() );
			inst[key].apply( inst, args );
			return this;
		} );
	} );


			_api_register( 'clear()', function () {
		return this.iterator( 'table', function ( settings ) {
			_fnClearTable( settings );
		} );
	} );


			_api_register( 'settings()', function () {
		return new _Api( this.context, this.context );
	} );


			_api_register( 'init()', function () {
		var ctx = this.context;
		return ctx.length ? ctx[0].oInit : null;
	} );


			_api_register( 'data()', function () {
		return this.iterator( 'table', function ( settings ) {
			return _pluck( settings.aoData, '_aData' );
		} ).flatten();
	} );


			_api_register( 'destroy()', function ( remove ) {
		remove = remove || false;

			return this.iterator( 'table', function ( settings ) {
			var orig      = settings.nTableWrapper.parentNode;
			var classes   = settings.oClasses;
			var table     = settings.nTable;
			var tbody     = settings.nTBody;
			var thead     = settings.nTHead;
			var tfoot     = settings.nTFoot;
			var jqTable   = $(table);
			var jqTbody   = $(tbody);
			var jqWrapper = $(settings.nTableWrapper);
			var rows      = $.map( settings.aoData, function (r) { return r.nTr; } );
			var i, ien;

			settings.bDestroying = true;

			_fnCallbackFire( settings, "aoDestroyCallback", "destroy", [settings] );

			if ( ! remove ) {
				new _Api( settings ).columns().visible( true );
			}

			jqWrapper.off('.DT').find(':not(tbody *)').off('.DT');
			$(window).off('.DT-'+settings.sInstance);

			if ( table != thead.parentNode ) {
				jqTable.children('thead').detach();
				jqTable.append( thead );
			}

				if ( tfoot && table != tfoot.parentNode ) {
				jqTable.children('tfoot').detach();
				jqTable.append( tfoot );
			}

				settings.aaSorting = [];
			settings.aaSortingFixed = [];
			_fnSortingClasses( settings );

				$( rows ).removeClass( settings.asStripeClasses.join(' ') );

				$('th, td', thead).removeClass( classes.sSortable+' '+
				classes.sSortableAsc+' '+classes.sSortableDesc+' '+classes.sSortableNone
			);

			jqTbody.children().detach();
			jqTbody.append( rows );

			var removedMethod = remove ? 'remove' : 'detach';
			jqTable[ removedMethod ]();
			jqWrapper[ removedMethod ]();

			if ( ! remove && orig ) {
				orig.insertBefore( table, settings.nTableReinsertBefore );

				jqTable
					.css( 'width', settings.sDestroyWidth )
					.removeClass( classes.sTable );

				ien = settings.asDestroyStripes.length;

					if ( ien ) {
					jqTbody.children().each( function (i) {
						$(this).addClass( settings.asDestroyStripes[i % ien] );
					} );
				}
			}


			var idx = $.inArray( settings, DataTable.settings );
			if ( idx !== -1 ) {
				DataTable.settings.splice( idx, 1 );
			}
		} );
	} );


	$.each( [ 'column', 'row', 'cell' ], function ( i, type ) {
		_api_register( type+'s().every()', function ( fn ) {
			var opts = this.selector.opts;
			var api = this;

				return this.iterator( type, function ( settings, arg1, arg2, arg3, arg4 ) {
				fn.call(
					api[ type ](
						arg1,
						type==='cell' ? arg2 : opts,
						type==='cell' ? opts : undefined
					),
					arg1, arg2, arg3, arg4
				);
			} );
		} );
	} );


	_api_register( 'i18n()', function ( token, def, plural ) {
		var ctx = this.context[0];
		var resolved = _fnGetObjectDataFn( token )( ctx.oLanguage );

			if ( resolved === undefined ) {
			resolved = def;
		}

			if ( plural !== undefined && $.isPlainObject( resolved ) ) {
			resolved = resolved[ plural ] !== undefined ?
				resolved[ plural ] :
				resolved._;
		}

			return resolved.replace( '%d', plural ); 
	} );

	DataTable.version = "1.10.24";


	DataTable.settings = [];


	DataTable.models = {};




	DataTable.models.oSearch = {

		"bCaseInsensitive": true,


		"sSearch": "",


		"bRegex": false,


		"bSmart": true
	};





	DataTable.models.oRow = {

		"nTr": null,


		"anCells": null,


		"_aData": [],


		"_aSortData": null,


		"_aFilterData": null,


		"_sFilterRow": null,


		"_sRowStripe": "",


		"src": null,


		"idx": -1
	};



	DataTable.models.oColumn = {

		"idx": null,


		"aDataSort": null,


		"asSorting": null,


		"bSearchable": null,


		"bSortable": null,


		"bVisible": null,


		"_sManualType": null,


		"_bAttrSrc": false,


		"fnCreatedCell": null,


		"fnGetData": null,


		"fnSetData": null,


		"mData": null,


		"mRender": null,


		"nTh": null,


		"nTf": null,


		"sClass": null,


		"sContentPadding": null,


		"sDefaultContent": null,


		"sName": null,


		"sSortDataType": 'std',


		"sSortingClass": null,


		"sSortingClassJUI": null,


		"sTitle": null,


		"sType": null,


		"sWidth": null,


		"sWidthOrig": null
	};





	DataTable.defaults = {

		"aaData": null,



		"aaSorting": [[0,'asc']],



		"aaSortingFixed": [],



		"ajax": null,



		"aLengthMenu": [ 10, 25, 50, 100 ],



		"aoColumns": null,


		"aoColumnDefs": null,



		"aoSearchCols": [],



		"asStripeClasses": null,



		"bAutoWidth": true,



		"bDeferRender": false,



		"bDestroy": false,



		"bFilter": true,



		"bInfo": true,



		"bLengthChange": true,



		"bPaginate": true,



		"bProcessing": false,



		"bRetrieve": false,



		"bScrollCollapse": false,



		"bServerSide": false,



		"bSort": true,



		"bSortMulti": true,



		"bSortCellsTop": false,



		"bSortClasses": true,



		"bStateSave": false,



		"fnCreatedRow": null,



		"fnDrawCallback": null,



		"fnFooterCallback": null,



		"fnFormatNumber": function ( toFormat ) {
			return toFormat.toString().replace(
				/\B(?=(\d{3})+(?!\d))/g,
				this.oLanguage.sThousands
			);
		},



		"fnHeaderCallback": null,



		"fnInfoCallback": null,



		"fnInitComplete": null,



		"fnPreDrawCallback": null,



		"fnRowCallback": null,



		"fnServerData": null,



		"fnServerParams": null,



		"fnStateLoadCallback": function ( settings ) {
			try {
				return JSON.parse(
					(settings.iStateDuration === -1 ? sessionStorage : localStorage).getItem(
						'DataTables_'+settings.sInstance+'_'+location.pathname
					)
				);
			} catch (e) {
				return {};
			}
		},



		"fnStateLoadParams": null,



		"fnStateLoaded": null,



		"fnStateSaveCallback": function ( settings, data ) {
			try {
				(settings.iStateDuration === -1 ? sessionStorage : localStorage).setItem(
					'DataTables_'+settings.sInstance+'_'+location.pathname,
					JSON.stringify( data )
				);
			} catch (e) {}
		},



		"fnStateSaveParams": null,



		"iStateDuration": 7200,



		"iDeferLoading": null,



		"iDisplayLength": 10,



		"iDisplayStart": 0,



		"iTabIndex": 0,



		"oClasses": {},



		"oLanguage": {

			"oAria": {

				"sSortAscending": ": activate to sort column ascending",


				"sSortDescending": ": activate to sort column descending"
			},


			"oPaginate": {

				"sFirst": "First",



				"sLast": "Last",



				"sNext": "Next",



				"sPrevious": "Previous"
			},


			"sEmptyTable": "No data available in table",



			"sInfo": "Showing _START_ to _END_ of _TOTAL_ entries",



			"sInfoEmpty": "Showing 0 to 0 of 0 entries",



			"sInfoFiltered": "(filtered from _MAX_ total entries)",



			"sInfoPostFix": "",



			"sDecimal": "",



			"sThousands": ",",



			"sLengthMenu": "Show _MENU_ entries",



			"sLoadingRecords": "Loading...",



			"sProcessing": "Processing...",



			"sSearch": "Search:",



			"sSearchPlaceholder": "",



			"sUrl": "",



			"sZeroRecords": "No matching records found"
		},



		"oSearch": $.extend( {}, DataTable.models.oSearch ),



		"sAjaxDataProp": "data",



		"sAjaxSource": null,



		"sDom": "lfrtip",



		"searchDelay": null,



		"sPaginationType": "simple_numbers",



		"sScrollX": "",



		"sScrollXInner": "",



		"sScrollY": "",



		"sServerMethod": "GET",



		"renderer": null,



		"rowId": "DT_RowId"
	};

		_fnHungarianMap( DataTable.defaults );






	DataTable.defaults.column = {

		"aDataSort": null,
		"iDataSort": -1,



		"asSorting": [ 'asc', 'desc' ],



		"bSearchable": true,



		"bSortable": true,



		"bVisible": true,



		"fnCreatedCell": null,






		"mData": null,



		"mRender": null,



		"sCellType": "td",



		"sClass": "",


		"sContentPadding": "",



		"sDefaultContent": null,



		"sName": "",



		"sSortDataType": "std",



		"sTitle": null,



		"sType": null,



		"sWidth": null
	};

		_fnHungarianMap( DataTable.defaults.column );




	DataTable.models.oSettings = {

		"oFeatures": {


			"bAutoWidth": null,


			"bDeferRender": null,


			"bFilter": null,


			"bInfo": null,


			"bLengthChange": null,


			"bPaginate": null,


			"bProcessing": null,


			"bServerSide": null,


			"bSort": null,


			"bSortMulti": null,


			"bSortClasses": null,


			"bStateSave": null
		},



		"oScroll": {

			"bCollapse": null,


			"iBarWidth": 0,


			"sX": null,


			"sXInner": null,


			"sY": null
		},


		"oLanguage": {

			"fnInfoCallback": null
		},


		"oBrowser": {

			"bScrollOversize": false,


			"bScrollbarLeft": false,


			"bBounding": false,


			"barWidth": 0
		},


				"ajax": null,



		"aanFeatures": [],


		"aoData": [],


		"aiDisplay": [],


		"aiDisplayMaster": [],


		"aIds": {},


		"aoColumns": [],


		"aoHeader": [],


		"aoFooter": [],


		"oPreviousSearch": {},


		"aoPreSearchCols": [],


		"aaSorting": null,


		"aaSortingFixed": [],


		"asStripeClasses": null,


		"asDestroyStripes": [],


		"sDestroyWidth": 0,


		"aoRowCallback": [],


		"aoHeaderCallback": [],


		"aoFooterCallback": [],


		"aoDrawCallback": [],


		"aoRowCreatedCallback": [],


		"aoPreDrawCallback": [],


		"aoInitComplete": [],



		"aoStateSaveParams": [],


		"aoStateLoadParams": [],


		"aoStateLoaded": [],


		"sTableId": "",


		"nTable": null,


		"nTHead": null,


		"nTFoot": null,


		"nTBody": null,


		"nTableWrapper": null,


		"bDeferLoading": false,


		"bInitialised": false,


		"aoOpenRows": [],


		"sDom": null,


		"searchDelay": null,


		"sPaginationType": "two_button",


		"iStateDuration": 0,


		"aoStateSave": [],


		"aoStateLoad": [],


		"oSavedState": null,


		"oLoadedState": null,


		"sAjaxSource": null,


		"sAjaxDataProp": null,


		"bAjaxDataGet": true,


		"jqXHR": null,


		"json": undefined,


		"oAjaxData": undefined,


		"fnServerData": null,


		"aoServerParams": [],


		"sServerMethod": null,


		"fnFormatNumber": null,


		"aLengthMenu": null,


		"iDraw": 0,


		"bDrawing": false,


		"iDrawError": -1,


		"_iDisplayLength": 10,


		"_iDisplayStart": 0,


		"_iRecordsTotal": 0,


		"_iRecordsDisplay": 0,


		"oClasses": {},


		"bFiltered": false,


		"bSorted": false,


		"bSortCellsTop": null,


		"oInit": null,


		"aoDestroyCallback": [],



		"fnRecordsTotal": function ()
		{
			return _fnDataSource( this ) == 'ssp' ?
				this._iRecordsTotal * 1 :
				this.aiDisplayMaster.length;
		},


		"fnRecordsDisplay": function ()
		{
			return _fnDataSource( this ) == 'ssp' ?
				this._iRecordsDisplay * 1 :
				this.aiDisplay.length;
		},


		"fnDisplayEnd": function ()
		{
			var
				len      = this._iDisplayLength,
				start    = this._iDisplayStart,
				calc     = start + len,
				records  = this.aiDisplay.length,
				features = this.oFeatures,
				paginate = features.bPaginate;

				if ( features.bServerSide ) {
				return paginate === false || len === -1 ?
					start + records :
					Math.min( start+len, this._iRecordsDisplay );
			}
			else {
				return ! paginate || calc>records || len===-1 ?
					records :
					calc;
			}
		},


		"oInstance": null,


		"sInstance": null,


		"iTabIndex": 0,


		"nScrollHead": null,


		"nScrollFoot": null,


		"aLastSort": [],


		"oPlugins": {},


		"rowIdFn": null,


		"rowId": null
	};





	DataTable.ext = _ext = {

		buttons: {},



		classes: {},



		build:"dt/dt-1.10.24/fc-3.3.2/fh-3.1.8/r-2.2.7/rg-1.1.2/sc-2.0.3/sp-1.2.2/sl-1.3.3",



		errMode: "alert",



		feature: [],



		search: [],



		selector: {
			cell: [],
			column: [],
			row: []
		},



		internal: {},



		legacy: {

			ajax: null
		},



		pager: {},


				renderer: {
			pageButton: {},
			header: {}
		},



		order: {},



		type: {

			detect: [],



			search: {},



			order: {}
		},


		_unique: 0,




		fnVersionCheck: DataTable.fnVersionCheck,



		iApiIndex: 0,



		oJUIClasses: {},



		sVersion: DataTable.version
	};


	$.extend( _ext, {
		afnFiltering: _ext.search,
		aTypes:       _ext.type.detect,
		ofnSearch:    _ext.type.search,
		oSort:        _ext.type.order,
		afnSortData:  _ext.order,
		aoFeatures:   _ext.feature,
		oApi:         _ext.internal,
		oStdClasses:  _ext.classes,
		oPagination:  _ext.pager
	} );


			$.extend( DataTable.ext.classes, {
		"sTable": "dataTable",
		"sNoFooter": "no-footer",


		"sPageButton": "paginate_button",
		"sPageButtonActive": "current",
		"sPageButtonDisabled": "disabled",


		"sStripeOdd": "odd",
		"sStripeEven": "even",


		"sRowEmpty": "dataTables_empty",


		"sWrapper": "dataTables_wrapper",
		"sFilter": "dataTables_filter",
		"sInfo": "dataTables_info",
		"sPaging": "dataTables_paginate paging_", 
		"sLength": "dataTables_length",
		"sProcessing": "dataTables_processing",


		"sSortAsc": "sorting_asc",
		"sSortDesc": "sorting_desc",
		"sSortable": "sorting", 
		"sSortableAsc": "sorting_desc_disabled",
		"sSortableDesc": "sorting_asc_disabled",
		"sSortableNone": "sorting_disabled",
		"sSortColumn": "sorting_", 


		"sFilterInput": "",


		"sLengthSelect": "",


		"sScrollWrapper": "dataTables_scroll",
		"sScrollHead": "dataTables_scrollHead",
		"sScrollHeadInner": "dataTables_scrollHeadInner",
		"sScrollBody": "dataTables_scrollBody",
		"sScrollFoot": "dataTables_scrollFoot",
		"sScrollFootInner": "dataTables_scrollFootInner",


		"sHeaderTH": "",
		"sFooterTH": "",

		"sSortJUIAsc": "",
		"sSortJUIDesc": "",
		"sSortJUI": "",
		"sSortJUIAscAllowed": "",
		"sSortJUIDescAllowed": "",
		"sSortJUIWrapper": "",
		"sSortIcon": "",
		"sJUIHeader": "",
		"sJUIFooter": ""
	} );


			var extPagination = DataTable.ext.pager;

		function _numbers ( page, pages ) {
		var
			numbers = [],
			buttons = extPagination.numbers_length,
			half = Math.floor( buttons / 2 ),
			i = 1;

			if ( pages <= buttons ) {
			numbers = _range( 0, pages );
		}
		else if ( page <= half ) {
			numbers = _range( 0, buttons-2 );
			numbers.push( 'ellipsis' );
			numbers.push( pages-1 );
		}
		else if ( page >= pages - 1 - half ) {
			numbers = _range( pages-(buttons-2), pages );
			numbers.splice( 0, 0, 'ellipsis' ); 
			numbers.splice( 0, 0, 0 );
		}
		else {
			numbers = _range( page-half+2, page+half-1 );
			numbers.push( 'ellipsis' );
			numbers.push( pages-1 );
			numbers.splice( 0, 0, 'ellipsis' );
			numbers.splice( 0, 0, 0 );
		}

			numbers.DT_el = 'span';
		return numbers;
	}


			$.extend( extPagination, {
		simple: function ( page, pages ) {
			return [ 'previous', 'next' ];
		},

			full: function ( page, pages ) {
			return [  'first', 'previous', 'next', 'last' ];
		},

			numbers: function ( page, pages ) {
			return [ _numbers(page, pages) ];
		},

			simple_numbers: function ( page, pages ) {
			return [ 'previous', _numbers(page, pages), 'next' ];
		},

			full_numbers: function ( page, pages ) {
			return [ 'first', 'previous', _numbers(page, pages), 'next', 'last' ];
		},

				first_last_numbers: function (page, pages) {
	 		return ['first', _numbers(page, pages), 'last'];
	 	},

		_numbers: _numbers,

		numbers_length: 7
	} );


			$.extend( true, DataTable.ext.renderer, {
		pageButton: {
			_: function ( settings, host, idx, buttons, page, pages ) {
				var classes = settings.oClasses;
				var lang = settings.oLanguage.oPaginate;
				var aria = settings.oLanguage.oAria.paginate || {};
				var btnDisplay, btnClass, counter=0;

					var attach = function( container, buttons ) {
					var i, ien, node, button, tabIndex;
					var disabledClass = classes.sPageButtonDisabled;
					var clickHandler = function ( e ) {
						_fnPageChange( settings, e.data.action, true );
					};

						for ( i=0, ien=buttons.length ; i<ien ; i++ ) {
						button = buttons[i];

							if ( Array.isArray( button ) ) {
							var inner = $( '<'+(button.DT_el || 'div')+'/>' )
								.appendTo( container );
							attach( inner, button );
						}
						else {
							btnDisplay = null;
							btnClass = button;
							tabIndex = settings.iTabIndex;

								switch ( button ) {
								case 'ellipsis':
									container.append('<span class="ellipsis">&#x2026;</span>');
									break;

									case 'first':
									btnDisplay = lang.sFirst;

										if ( page === 0 ) {
										tabIndex = -1;
										btnClass += ' ' + disabledClass;
									}
									break;

									case 'previous':
									btnDisplay = lang.sPrevious;

										if ( page === 0 ) {
										tabIndex = -1;
										btnClass += ' ' + disabledClass;
									}
									break;

									case 'next':
									btnDisplay = lang.sNext;

										if ( pages === 0 || page === pages-1 ) {
										tabIndex = -1;
										btnClass += ' ' + disabledClass;
									}
									break;

									case 'last':
									btnDisplay = lang.sLast;

										if ( pages === 0 || page === pages-1 ) {
										tabIndex = -1;
										btnClass += ' ' + disabledClass;
									}
									break;

									default:
									btnDisplay = settings.fnFormatNumber( button + 1 );
									btnClass = page === button ?
										classes.sPageButtonActive : '';
									break;
							}

								if ( btnDisplay !== null ) {
								node = $('<a>', {
										'class': classes.sPageButton+' '+btnClass,
										'aria-controls': settings.sTableId,
										'aria-label': aria[ button ],
										'data-dt-idx': counter,
										'tabindex': tabIndex,
										'id': idx === 0 && typeof button === 'string' ?
											settings.sTableId +'_'+ button :
											null
									} )
									.html( btnDisplay )
									.appendTo( container );

									_fnBindAction(
									node, {action: button}, clickHandler
								);

									counter++;
							}
						}
					}
				};

				var activeEl;

					try {
					activeEl = $(host).find(document.activeElement).data('dt-idx');
				}
				catch (e) {}

					attach( $(host).empty(), buttons );

					if ( activeEl !== undefined ) {
					$(host).find( '[data-dt-idx='+activeEl+']' ).trigger('focus');
				}
			}
		}
	} );



	$.extend( DataTable.ext.type.detect, [
		function ( d, settings )
		{
			var decimal = settings.oLanguage.sDecimal;
			return _isNumber( d, decimal ) ? 'num'+decimal : null;
		},

		function ( d, settings )
		{
			if ( d && !(d instanceof Date) && ! _re_date.test(d) ) {
				return null;
			}
			var parsed = Date.parse(d);
			return (parsed !== null && !isNaN(parsed)) || _empty(d) ? 'date' : null;
		},

		function ( d, settings )
		{
			var decimal = settings.oLanguage.sDecimal;
			return _isNumber( d, decimal, true ) ? 'num-fmt'+decimal : null;
		},

		function ( d, settings )
		{
			var decimal = settings.oLanguage.sDecimal;
			return _htmlNumeric( d, decimal ) ? 'html-num'+decimal : null;
		},

		function ( d, settings )
		{
			var decimal = settings.oLanguage.sDecimal;
			return _htmlNumeric( d, decimal, true ) ? 'html-num-fmt'+decimal : null;
		},

		function ( d, settings )
		{
			return _empty( d ) || (typeof d === 'string' && d.indexOf('<') !== -1) ?
				'html' : null;
		}
	] );





			$.extend( DataTable.ext.type.search, {
		html: function ( data ) {
			return _empty(data) ?
				data :
				typeof data === 'string' ?
					data
						.replace( _re_new_lines, " " )
						.replace( _re_html, "" ) :
					'';
		},

			string: function ( data ) {
			return _empty(data) ?
				data :
				typeof data === 'string' ?
					data.replace( _re_new_lines, " " ) :
					data;
		}
	} );



				var __numericReplace = function ( d, decimalPlace, re1, re2 ) {
		if ( d !== 0 && (!d || d === '-') ) {
			return -Infinity;
		}

		if ( decimalPlace ) {
			d = _numToDecimal( d, decimalPlace );
		}

			if ( d.replace ) {
			if ( re1 ) {
				d = d.replace( re1, '' );
			}

				if ( re2 ) {
				d = d.replace( re2, '' );
			}
		}

			return d * 1;
	};


	function _addNumericSort ( decimalPlace ) {
		$.each(
			{
				"num": function ( d ) {
					return __numericReplace( d, decimalPlace );
				},

				"num-fmt": function ( d ) {
					return __numericReplace( d, decimalPlace, _re_formatted_numeric );
				},

				"html-num": function ( d ) {
					return __numericReplace( d, decimalPlace, _re_html );
				},

				"html-num-fmt": function ( d ) {
					return __numericReplace( d, decimalPlace, _re_html, _re_formatted_numeric );
				}
			},
			function ( key, fn ) {
				_ext.type.order[ key+decimalPlace+'-pre' ] = fn;

				if ( key.match(/^html\-/) ) {
					_ext.type.search[ key+decimalPlace ] = _ext.type.search.html;
				}
			}
		);
	}


	$.extend( _ext.type.order, {
		"date-pre": function ( d ) {
			var ts = Date.parse( d );
			return isNaN(ts) ? -Infinity : ts;
		},

		"html-pre": function ( a ) {
			return _empty(a) ?
				'' :
				a.replace ?
					a.replace( /<.*?>/g, "" ).toLowerCase() :
					a+'';
		},

		"string-pre": function ( a ) {
			return _empty(a) ?
				'' :
				typeof a === 'string' ?
					a.toLowerCase() :
					! a.toString ?
						'' :
						a.toString();
		},

		"string-asc": function ( x, y ) {
			return ((x < y) ? -1 : ((x > y) ? 1 : 0));
		},

			"string-desc": function ( x, y ) {
			return ((x < y) ? 1 : ((x > y) ? -1 : 0));
		}
	} );


	_addNumericSort( '' );


			$.extend( true, DataTable.ext.renderer, {
		header: {
			_: function ( settings, cell, column, classes ) {
				$(settings.nTable).on( 'order.dt.DT', function ( e, ctx, sorting, columns ) {
					if ( settings !== ctx ) { 
						return;               
					}

						var colIdx = column.idx;

						cell
						.removeClass(
							classes.sSortAsc +' '+
							classes.sSortDesc
						)
						.addClass( columns[ colIdx ] == 'asc' ?
							classes.sSortAsc : columns[ colIdx ] == 'desc' ?
								classes.sSortDesc :
								column.sSortingClass
						);
				} );
			},

				jqueryui: function ( settings, cell, column, classes ) {
				$('<div/>')
					.addClass( classes.sSortJUIWrapper )
					.append( cell.contents() )
					.append( $('<span/>')
						.addClass( classes.sSortIcon+' '+column.sSortingClassJUI )
					)
					.appendTo( cell );

				$(settings.nTable).on( 'order.dt.DT', function ( e, ctx, sorting, columns ) {
					if ( settings !== ctx ) {
						return;
					}

						var colIdx = column.idx;

						cell
						.removeClass( classes.sSortAsc +" "+classes.sSortDesc )
						.addClass( columns[ colIdx ] == 'asc' ?
							classes.sSortAsc : columns[ colIdx ] == 'desc' ?
								classes.sSortDesc :
								column.sSortingClass
						);

						cell
						.find( 'span.'+classes.sSortIcon )
						.removeClass(
							classes.sSortJUIAsc +" "+
							classes.sSortJUIDesc +" "+
							classes.sSortJUI +" "+
							classes.sSortJUIAscAllowed +" "+
							classes.sSortJUIDescAllowed
						)
						.addClass( columns[ colIdx ] == 'asc' ?
							classes.sSortJUIAsc : columns[ colIdx ] == 'desc' ?
								classes.sSortJUIDesc :
								column.sSortingClassJUI
						);
				} );
			}
		}
	} );



		var __htmlEscapeEntities = function ( d ) {
		return typeof d === 'string' ?
			d
				.replace(/&/g, '&amp;')
				.replace(/</g, '&lt;')
				.replace(/>/g, '&gt;')
				.replace(/"/g, '&quot;') :
			d;
	};


	DataTable.render = {
		number: function ( thousands, decimal, precision, prefix, postfix ) {
			return {
				display: function ( d ) {
					if ( typeof d !== 'number' && typeof d !== 'string' ) {
						return d;
					}

						var negative = d < 0 ? '-' : '';
					var flo = parseFloat( d );

					if ( isNaN( flo ) ) {
						return __htmlEscapeEntities( d );
					}

						flo = flo.toFixed( precision );
					d = Math.abs( flo );

						var intPart = parseInt( d, 10 );
					var floatPart = precision ?
						decimal+(d - intPart).toFixed( precision ).substring( 2 ):
						'';

						return negative + (prefix||'') +
						intPart.toString().replace(
							/\B(?=(\d{3})+(?!\d))/g, thousands
						) +
						floatPart +
						(postfix||'');
				}
			};
		},

			text: function () {
			return {
				display: __htmlEscapeEntities,
				filter: __htmlEscapeEntities
			};
		}
	};






	function _fnExternApiFunc (fn)
	{
		return function() {
			var args = [_fnSettingsFromNode( this[DataTable.ext.iApiIndex] )].concat(
				Array.prototype.slice.call(arguments)
			);
			return DataTable.ext.internal[fn].apply( this, args );
		};
	}



	$.extend( DataTable.ext.internal, {
		_fnExternApiFunc: _fnExternApiFunc,
		_fnBuildAjax: _fnBuildAjax,
		_fnAjaxUpdate: _fnAjaxUpdate,
		_fnAjaxParameters: _fnAjaxParameters,
		_fnAjaxUpdateDraw: _fnAjaxUpdateDraw,
		_fnAjaxDataSrc: _fnAjaxDataSrc,
		_fnAddColumn: _fnAddColumn,
		_fnColumnOptions: _fnColumnOptions,
		_fnAdjustColumnSizing: _fnAdjustColumnSizing,
		_fnVisibleToColumnIndex: _fnVisibleToColumnIndex,
		_fnColumnIndexToVisible: _fnColumnIndexToVisible,
		_fnVisbleColumns: _fnVisbleColumns,
		_fnGetColumns: _fnGetColumns,
		_fnColumnTypes: _fnColumnTypes,
		_fnApplyColumnDefs: _fnApplyColumnDefs,
		_fnHungarianMap: _fnHungarianMap,
		_fnCamelToHungarian: _fnCamelToHungarian,
		_fnLanguageCompat: _fnLanguageCompat,
		_fnBrowserDetect: _fnBrowserDetect,
		_fnAddData: _fnAddData,
		_fnAddTr: _fnAddTr,
		_fnNodeToDataIndex: _fnNodeToDataIndex,
		_fnNodeToColumnIndex: _fnNodeToColumnIndex,
		_fnGetCellData: _fnGetCellData,
		_fnSetCellData: _fnSetCellData,
		_fnSplitObjNotation: _fnSplitObjNotation,
		_fnGetObjectDataFn: _fnGetObjectDataFn,
		_fnSetObjectDataFn: _fnSetObjectDataFn,
		_fnGetDataMaster: _fnGetDataMaster,
		_fnClearTable: _fnClearTable,
		_fnDeleteIndex: _fnDeleteIndex,
		_fnInvalidate: _fnInvalidate,
		_fnGetRowElements: _fnGetRowElements,
		_fnCreateTr: _fnCreateTr,
		_fnBuildHead: _fnBuildHead,
		_fnDrawHead: _fnDrawHead,
		_fnDraw: _fnDraw,
		_fnReDraw: _fnReDraw,
		_fnAddOptionsHtml: _fnAddOptionsHtml,
		_fnDetectHeader: _fnDetectHeader,
		_fnGetUniqueThs: _fnGetUniqueThs,
		_fnFeatureHtmlFilter: _fnFeatureHtmlFilter,
		_fnFilterComplete: _fnFilterComplete,
		_fnFilterCustom: _fnFilterCustom,
		_fnFilterColumn: _fnFilterColumn,
		_fnFilter: _fnFilter,
		_fnFilterCreateSearch: _fnFilterCreateSearch,
		_fnEscapeRegex: _fnEscapeRegex,
		_fnFilterData: _fnFilterData,
		_fnFeatureHtmlInfo: _fnFeatureHtmlInfo,
		_fnUpdateInfo: _fnUpdateInfo,
		_fnInfoMacros: _fnInfoMacros,
		_fnInitialise: _fnInitialise,
		_fnInitComplete: _fnInitComplete,
		_fnLengthChange: _fnLengthChange,
		_fnFeatureHtmlLength: _fnFeatureHtmlLength,
		_fnFeatureHtmlPaginate: _fnFeatureHtmlPaginate,
		_fnPageChange: _fnPageChange,
		_fnFeatureHtmlProcessing: _fnFeatureHtmlProcessing,
		_fnProcessingDisplay: _fnProcessingDisplay,
		_fnFeatureHtmlTable: _fnFeatureHtmlTable,
		_fnScrollDraw: _fnScrollDraw,
		_fnApplyToChildren: _fnApplyToChildren,
		_fnCalculateColumnWidths: _fnCalculateColumnWidths,
		_fnThrottle: _fnThrottle,
		_fnConvertToWidth: _fnConvertToWidth,
		_fnGetWidestNode: _fnGetWidestNode,
		_fnGetMaxLenString: _fnGetMaxLenString,
		_fnStringToCss: _fnStringToCss,
		_fnSortFlatten: _fnSortFlatten,
		_fnSort: _fnSort,
		_fnSortAria: _fnSortAria,
		_fnSortListener: _fnSortListener,
		_fnSortAttachListener: _fnSortAttachListener,
		_fnSortingClasses: _fnSortingClasses,
		_fnSortData: _fnSortData,
		_fnSaveState: _fnSaveState,
		_fnLoadState: _fnLoadState,
		_fnSettingsFromNode: _fnSettingsFromNode,
		_fnLog: _fnLog,
		_fnMap: _fnMap,
		_fnBindAction: _fnBindAction,
		_fnCallbackReg: _fnCallbackReg,
		_fnCallbackFire: _fnCallbackFire,
		_fnLengthOverflow: _fnLengthOverflow,
		_fnRenderer: _fnRenderer,
		_fnDataSource: _fnDataSource,
		_fnRowAttributes: _fnRowAttributes,
		_fnExtend: _fnExtend,
		_fnCalculateEnd: function () {} 
	} );


	$.fn.dataTable = DataTable;

	DataTable.$ = $;

	$.fn.dataTableSettings = DataTable.settings;
	$.fn.dataTableExt = DataTable.ext;

	$.fn.DataTable = function ( opts ) {
		return $(this).dataTable( opts ).api();
	};

	$.each( DataTable, function ( prop, val ) {
		$.fn.DataTable[ prop ] = val;
	} );






























	return $.fn.dataTable;
}));





(function( factory ){
	if ( typeof define === 'function' && define.amd ) {
		define( ['jquery', 'datatables.net'], function ( $ ) {
			return factory( $, window, document );
		} );
	}
	else if ( typeof exports === 'object' ) {
		module.exports = function (root, $) {
			if ( ! root ) {
				root = window;
			}

			if ( ! $ || ! $.fn.dataTable ) {
				$ = require('datatables.net')(root, $).$;
			}

			return factory( $, root, root.document );
		};
	}
	else {
		factory( jQuery, window, document );
	}
}(function( $, window, document, undefined ) {
'use strict';
var DataTable = $.fn.dataTable;
var _firefoxScroll;


var FixedColumns = function ( dt, init ) {
	var that = this;


	if ( ! ( this instanceof FixedColumns ) ) {
		alert( "FixedColumns warning: FixedColumns must be initialised with the 'new' keyword." );
		return;
	}

	if ( init === undefined || init === true ) {
		init = {};
	}

	var camelToHungarian = $.fn.dataTable.camelToHungarian;
	if ( camelToHungarian ) {
		camelToHungarian( FixedColumns.defaults, FixedColumns.defaults, true );
		camelToHungarian( FixedColumns.defaults, init );
	}

	var dtSettings = new $.fn.dataTable.Api( dt ).settings()[0];


	this.s = {

		"dt": dtSettings,


		"iTableColumns": dtSettings.aoColumns.length,


		"aiOuterWidths": [],


		"aiInnerWidths": [],



		rtl: $(dtSettings.nTable).css('direction') === 'rtl'
	};



	this.dom = {

		"scroller": null,


		"header": null,


		"body": null,


		"footer": null,


		"grid": {

			"wrapper": null,


			"dt": null,


			"left": {
				"wrapper": null,
				"head": null,
				"body": null,
				"foot": null
			},


			"right": {
				"wrapper": null,
				"head": null,
				"body": null,
				"foot": null
			}
		},


		"clone": {

			"left": {

				"header": null,


				"body": null,


				"footer": null
			},


			"right": {

				"header": null,


				"body": null,


				"footer": null
			}
		}
	};

	if ( dtSettings._oFixedColumns ) {
		throw 'FixedColumns already initialised on this table';
	}


	dtSettings._oFixedColumns = this;


	if ( ! dtSettings._bInitComplete )
	{
		dtSettings.oApi._fnCallbackReg( dtSettings, 'aoInitComplete', function () {
			that._fnConstruct( init );
		}, 'FixedColumns' );
	}
	else
	{
		this._fnConstruct( init );
	}
};



$.extend( FixedColumns.prototype , {



	"fnUpdate": function ()
	{
		this._fnDraw( true );
	},



	"fnRedrawLayout": function ()
	{
		this._fnColCalc();
		this._fnGridLayout();
		this.fnUpdate();
	},



	"fnRecalculateHeight": function ( nTr )
	{
		delete nTr._DTTC_iHeight;
		nTr.style.height = 'auto';
	},



	"fnSetRowHeight": function ( nTarget, iHeight )
	{
		nTarget.style.height = iHeight+"px";
	},



	"fnGetPosition": function ( node )
	{
		var idx;
		var inst = this.s.dt.oInstance;

		if ( ! $(node).parents('.DTFC_Cloned').length )
		{
			return inst.fnGetPosition( node );
		}
		else
		{
			if ( node.nodeName.toLowerCase() === 'tr' ) {
				idx = $(node).index();
				return inst.fnGetPosition( $('tr', this.s.dt.nTBody)[ idx ] );
			}
			else
			{
				var colIdx = $(node).index();
				idx = $(node.parentNode).index();
				var row = inst.fnGetPosition( $('tr', this.s.dt.nTBody)[ idx ] );

				return [
					row,
					colIdx,
					inst.oApi._fnVisibleToColumnIndex( this.s.dt, colIdx )
				];
			}
		}
	},

	fnToFixedNode: function ( rowIdx, colIdx )
	{
		var found;

		if ( colIdx < this.s.iLeftColumns ) {
			found = $(this.dom.clone.left.body).find('[data-dt-row='+rowIdx+'][data-dt-column='+colIdx+']');
		}
		else if ( colIdx >= this.s.iRightColumns ) {
			found = $(this.dom.clone.right.body).find('[data-dt-row='+rowIdx+'][data-dt-column='+colIdx+']');
		}

		if ( found && found.length ) {
			return found[0];
		}

		var table = new $.fn.dataTable.Api(this.s.dt);
		return table.cell(rowIdx, colIdx).node();
	},





	"_fnConstruct": function ( oInit )
	{
		var i, iLen, iWidth,
			that = this;


		if ( typeof this.s.dt.oInstance.fnVersionCheck != 'function' ||
		     this.s.dt.oInstance.fnVersionCheck( '1.8.0' ) !== true )
		{
			alert( "FixedColumns "+FixedColumns.VERSION+" required DataTables 1.8.0 or later. "+
				"Please upgrade your DataTables installation" );
			return;
		}

		if ( this.s.dt.oScroll.sX === "" )
		{
			this.s.dt.oInstance.oApi._fnLog( this.s.dt, 1, "FixedColumns is not needed (no "+
				"x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for "+
				"column fixing when scrolling is not enabled" );
			return;
		}


		this.s = $.extend( true, this.s, FixedColumns.defaults, oInit );


		var classes = this.s.dt.oClasses;
		this.dom.grid.dt = $(this.s.dt.nTable).parents('div.'+classes.sScrollWrapper)[0];
		this.dom.scroller = $('div.'+classes.sScrollBody, this.dom.grid.dt )[0];


		this._fnColCalc();
		this._fnGridSetup();


		var mouseController;
		var mouseDown = false;

		$(this.s.dt.nTableWrapper).on( 'mousedown.DTFC', function (e) {
			if ( e.button === 0 ) {
				mouseDown = true;

				$(document).one( 'mouseup', function () {
					mouseDown = false;
				} );
			}
		} );

		$(this.dom.scroller)
			.on( 'mouseover.DTFC touchstart.DTFC', function () {
				if ( ! mouseDown ) {
					mouseController = 'main';
				}
			} )
			.on( 'scroll.DTFC', function (e) {
				if ( ! mouseController && e.originalEvent ) {
					mouseController = 'main';
				}

				if ( mouseController === 'main' || mouseController === 'key' ) {
					if ( that.s.iLeftColumns > 0 ) {
						that.dom.grid.left.liner.scrollTop = that.dom.scroller.scrollTop;
					}
					if ( that.s.iRightColumns > 0 ) {
						that.dom.grid.right.liner.scrollTop = that.dom.scroller.scrollTop;
					}
				}
			} );

		var wheelType = 'onwheel' in document.createElement('div') ?
			'wheel.DTFC' :
			'mousewheel.DTFC';

		if ( that.s.iLeftColumns > 0 ) {
			$(that.dom.grid.left.liner)
				.on( 'mouseover.DTFC touchstart.DTFC', function () {
					if ( ! mouseDown && mouseController !== 'key' ) {
						mouseController = 'left';
					}
				} )
				.on( 'scroll.DTFC', function ( e ) {
					if ( ! mouseController && e.originalEvent ) {
						mouseController = 'left';
					}

					if ( mouseController === 'left' ) {
						that.dom.scroller.scrollTop = that.dom.grid.left.liner.scrollTop;
						if ( that.s.iRightColumns > 0 ) {
							that.dom.grid.right.liner.scrollTop = that.dom.grid.left.liner.scrollTop;
						}
					}
				} )
				.on( wheelType, function(e) {
					mouseController = 'left';

					var xDelta = e.type === 'wheel' ?
						-e.originalEvent.deltaX :
						e.originalEvent.wheelDeltaX;
					that.dom.scroller.scrollLeft -= xDelta;
				} );

			$(that.dom.grid.left.head).on( 'mouseover.DTFC touchstart.DTFC', function () {
				mouseController = 'main';
			});
		}

		if ( that.s.iRightColumns > 0 ) {
			$(that.dom.grid.right.liner)
				.on( 'mouseover.DTFC touchstart.DTFC', function () {
					if ( ! mouseDown && mouseController !== 'key' ) {
						mouseController = 'right';
					}
				} )
				.on( 'scroll.DTFC', function ( e ) {
					if ( ! mouseController && e.originalEvent ) {
						mouseController = 'right';
					}

					if ( mouseController === 'right' ) {
						that.dom.scroller.scrollTop = that.dom.grid.right.liner.scrollTop;
						if ( that.s.iLeftColumns > 0 ) {
							that.dom.grid.left.liner.scrollTop = that.dom.grid.right.liner.scrollTop;
						}
					}
				} )
				.on( wheelType, function(e) {
					mouseController = 'right';

					var xDelta = e.type === 'wheel' ?
						-e.originalEvent.deltaX :
						e.originalEvent.wheelDeltaX;
					that.dom.scroller.scrollLeft -= xDelta;
				} );

			$(that.dom.grid.right.head).on( 'mouseover.DTFC touchstart.DTFC', function () {
				mouseController = 'main';
			});
		}

		$(window).on( 'resize.DTFC', function () {
			that._fnGridLayout.call( that );
		} );

		var bFirstDraw = true;
		var jqTable = $(this.s.dt.nTable);

		jqTable
			.on( 'draw.dt.DTFC', function () {
				that._fnColCalc();
				that._fnDraw.call( that, bFirstDraw );
				bFirstDraw = false;
			} )
			.on('key-focus.dt.DTFC', function () {
				mouseController = 'key';
			})
			.on( 'column-sizing.dt.DTFC', function () {
				that._fnColCalc();
				that._fnGridLayout( that );
			} )
			.on( 'column-visibility.dt.DTFC', function ( e, settings, column, vis, recalc ) {
				if ( recalc === undefined || recalc ) {
					that._fnColCalc();
					that._fnGridLayout( that );
					that._fnDraw( true );
				}
			} )
			.on( 'select.dt.DTFC deselect.dt.DTFC', function ( e, dt, type, indexes ) {
				if ( e.namespace === 'dt' ) {
					that._fnDraw( false );
				}
			} )
			.on( 'position.dts.dt.DTFC', function (e, tableTop) {
				if (that.dom.grid.left.body) {
					$(that.dom.grid.left.body).find('table').eq(0).css('top', tableTop);
				}

				if (that.dom.grid.right.body) {
					$(that.dom.grid.right.body).find('table').eq(0).css('top', tableTop);
				}
			} )
			.on( 'destroy.dt.DTFC', function () {
				jqTable.off( '.DTFC' );

				$(that.dom.scroller).off( '.DTFC' );
				$(window).off( '.DTFC' );
				$(that.s.dt.nTableWrapper).off( '.DTFC' );

				$(that.dom.grid.left.liner).off( '.DTFC '+wheelType );
				$(that.dom.grid.left.wrapper).remove();

				$(that.dom.grid.right.liner).off( '.DTFC '+wheelType );
				$(that.dom.grid.right.wrapper).remove();
			} );


		this._fnGridLayout();
		this.s.dt.oInstance.fnDraw(false);
	},



	"_fnColCalc": function ()
	{
		var that = this;
		var iLeftWidth = 0;
		var iRightWidth = 0;

		this.s.aiInnerWidths = [];
		this.s.aiOuterWidths = [];

		$.each( this.s.dt.aoColumns, function (i, col) {
			var th = $(col.nTh);
			var border;

			if ( ! th.filter(':visible').length ) {
				that.s.aiInnerWidths.push( 0 );
				that.s.aiOuterWidths.push( 0 );
			}
			else
			{
				var iWidth = th.outerWidth();

				if ( that.s.aiOuterWidths.length === 0 ) {
					border = $(that.s.dt.nTable).css('border-left-width');
					iWidth += typeof border === 'string' && border.indexOf('px') === -1 ?
						1 :
						parseInt( border, 10 );
				}

				if ( that.s.aiOuterWidths.length === that.s.dt.aoColumns.length-1 ) {
					border = $(that.s.dt.nTable).css('border-right-width');
					iWidth += typeof border === 'string' && border.indexOf('px') === -1 ?
						1 :
						parseInt( border, 10 );
				}

				that.s.aiOuterWidths.push( iWidth );
				that.s.aiInnerWidths.push( th.width() );

				if ( i < that.s.iLeftColumns )
				{
					iLeftWidth += iWidth;
				}

				if ( that.s.iTableColumns-that.s.iRightColumns <= i )
				{
					iRightWidth += iWidth;
				}
			}
		} );

		this.s.iLeftWidth = iLeftWidth;
		this.s.iRightWidth = iRightWidth;
	},



	"_fnGridSetup": function ()
	{
		var that = this;
		var oOverflow = this._fnDTOverflow();
		var block;

		this.dom.body = this.s.dt.nTable;
		this.dom.header = this.s.dt.nTHead.parentNode;
		this.dom.header.parentNode.parentNode.style.position = "relative";

		var nSWrapper =
			$('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;">'+
				'<div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;" aria-hidden="true">'+
					'<div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div>'+
					'<div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; height:0; overflow:hidden;">'+
						'<div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div>'+
					'</div>'+
					'<div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div>'+
				'</div>'+
				'<div class="DTFC_RightWrapper" style="position:absolute; top:0; right:0;" aria-hidden="true">'+
					'<div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;">'+
						'<div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div>'+
					'</div>'+
					'<div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; height:0; overflow:hidden;">'+
						'<div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div>'+
					'</div>'+
					'<div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;">'+
						'<div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div>'+
					'</div>'+
				'</div>'+
			'</div>')[0];
		var nLeft = nSWrapper.childNodes[0];
		var nRight = nSWrapper.childNodes[1];

		this.dom.grid.dt.parentNode.insertBefore( nSWrapper, this.dom.grid.dt );
		nSWrapper.appendChild( this.dom.grid.dt );

		this.dom.grid.wrapper = nSWrapper;

		if ( this.s.iLeftColumns > 0 )
		{
			this.dom.grid.left.wrapper = nLeft;
			this.dom.grid.left.head = nLeft.childNodes[0];
			this.dom.grid.left.body = nLeft.childNodes[1];
			this.dom.grid.left.liner = $('div.DTFC_LeftBodyLiner', nSWrapper)[0];

			nSWrapper.appendChild( nLeft );
		}

		if ( this.s.iRightColumns > 0 )
		{
			this.dom.grid.right.wrapper = nRight;
			this.dom.grid.right.head = nRight.childNodes[0];
			this.dom.grid.right.body = nRight.childNodes[1];
			this.dom.grid.right.liner = $('div.DTFC_RightBodyLiner', nSWrapper)[0];

			nRight.style.right = oOverflow.bar+"px";

			block = $('div.DTFC_RightHeadBlocker', nSWrapper)[0];
			block.style.width = oOverflow.bar+"px";
			block.style.right = -oOverflow.bar+"px";
			this.dom.grid.right.headBlock = block;

			block = $('div.DTFC_RightFootBlocker', nSWrapper)[0];
			block.style.width = oOverflow.bar+"px";
			block.style.right = -oOverflow.bar+"px";
			this.dom.grid.right.footBlock = block;

			nSWrapper.appendChild( nRight );
		}

		if ( this.s.dt.nTFoot )
		{
			this.dom.footer = this.s.dt.nTFoot.parentNode;
			if ( this.s.iLeftColumns > 0 )
			{
				this.dom.grid.left.foot = nLeft.childNodes[2];
			}
			if ( this.s.iRightColumns > 0 )
			{
				this.dom.grid.right.foot = nRight.childNodes[2];
			}
		}

		if ( this.s.rtl ) {
			$('div.DTFC_RightHeadBlocker', nSWrapper).css( {
				left: -oOverflow.bar+'px',
				right: ''
			} );
		}
	},



	"_fnGridLayout": function ()
	{
		var that = this;
		var oGrid = this.dom.grid;
		var iWidth = $(oGrid.wrapper).width();
		var iBodyHeight = this.s.dt.nTable.parentNode.offsetHeight;
		var iFullHeight = this.s.dt.nTable.parentNode.parentNode.offsetHeight;
		var oOverflow = this._fnDTOverflow();
		var iLeftWidth = this.s.iLeftWidth;
		var iRightWidth = this.s.iRightWidth;
		var rtl = $(this.dom.body).css('direction') === 'rtl';
		var wrapper;
		var scrollbarAdjust = function ( node, width ) {
			if ( ! oOverflow.bar ) {
				node.style.width = (width+20)+"px";
				node.style.paddingRight = "20px";
				node.style.boxSizing = "border-box";
			}
			else if ( that._firefoxScrollError() ) {
				if ( $(node).height() > 34 ) {
					node.style.width = (width+oOverflow.bar)+"px";
				}
			}
			else {
				node.style.width = (width+oOverflow.bar)+"px";
			}
		};

		if ( oOverflow.x )
		{
			iBodyHeight -= oOverflow.bar;
		}

		oGrid.wrapper.style.height = iFullHeight+"px";

		if ( this.s.iLeftColumns > 0 )
		{
			wrapper = oGrid.left.wrapper;
			wrapper.style.width = iLeftWidth+'px';
			wrapper.style.height = '1px';

			if ( rtl ) {
				wrapper.style.left = '';
				wrapper.style.right = 0;
			}
			else {
				wrapper.style.left = 0;
				wrapper.style.right = '';
			}

			oGrid.left.body.style.height = iBodyHeight+"px";
			if ( oGrid.left.foot ) {
				oGrid.left.foot.style.top = (oOverflow.x ? oOverflow.bar : 0)+"px"; 
			}

			scrollbarAdjust( oGrid.left.liner, iLeftWidth );
			oGrid.left.liner.style.height = iBodyHeight+"px";
			oGrid.left.liner.style.maxHeight = iBodyHeight+"px";
		}

		if ( this.s.iRightColumns > 0 )
		{
			wrapper = oGrid.right.wrapper;
			wrapper.style.width = iRightWidth+'px';
			wrapper.style.height = '1px';

			if ( this.s.rtl ) {
				wrapper.style.left = oOverflow.y ? oOverflow.bar+'px' : 0;
				wrapper.style.right = '';
			}
			else {
				wrapper.style.left = '';
				wrapper.style.right = oOverflow.y ? oOverflow.bar+'px' : 0;
			}

			oGrid.right.body.style.height = iBodyHeight+"px";
			if ( oGrid.right.foot ) {
				oGrid.right.foot.style.top = (oOverflow.x ? oOverflow.bar : 0)+"px";
			}

			scrollbarAdjust( oGrid.right.liner, iRightWidth );
			oGrid.right.liner.style.height = iBodyHeight+"px";
			oGrid.right.liner.style.maxHeight = iBodyHeight+"px";

			oGrid.right.headBlock.style.display = oOverflow.y ? 'block' : 'none';
			oGrid.right.footBlock.style.display = oOverflow.y ? 'block' : 'none';
		}
	},



	"_fnDTOverflow": function ()
	{
		var nTable = this.s.dt.nTable;
		var nTableScrollBody = nTable.parentNode;
		var out = {
			"x": false,
			"y": false,
			"bar": this.s.dt.oScroll.iBarWidth
		};

		if ( nTable.offsetWidth > nTableScrollBody.clientWidth )
		{
			out.x = true;
		}

		if ( nTable.offsetHeight > nTableScrollBody.clientHeight )
		{
			out.y = true;
		}

		return out;
	},



	"_fnDraw": function ( bAll )
	{
		this._fnGridLayout();
		this._fnCloneLeft( bAll );
		this._fnCloneRight( bAll );

		$(this.dom.scroller).trigger('scroll');


		if ( this.s.fnDrawCallback !== null )
		{
			this.s.fnDrawCallback.call( this, this.dom.clone.left, this.dom.clone.right );
		}


		$(this).trigger( 'draw.dtfc', {
			"leftClone": this.dom.clone.left,
			"rightClone": this.dom.clone.right
		} );
	},



	"_fnCloneRight": function ( bAll )
	{
		if ( this.s.iRightColumns <= 0 ) {
			return;
		}

		var that = this,
			i, jq,
			aiColumns = [];

		for ( i=this.s.iTableColumns-this.s.iRightColumns ; i<this.s.iTableColumns ; i++ ) {
			if ( this.s.dt.aoColumns[i].bVisible ) {
				aiColumns.push( i );
			}
		}

		this._fnClone( this.dom.clone.right, this.dom.grid.right, aiColumns, bAll );
	},



	"_fnCloneLeft": function ( bAll )
	{
		if ( this.s.iLeftColumns <= 0 ) {
			return;
		}

		var that = this,
			i, jq,
			aiColumns = [];

		for ( i=0 ; i<this.s.iLeftColumns ; i++ ) {
			if ( this.s.dt.aoColumns[i].bVisible ) {
				aiColumns.push( i );
			}
		}

		this._fnClone( this.dom.clone.left, this.dom.grid.left, aiColumns, bAll );
	},



	"_fnCopyLayout": function ( aoOriginal, aiColumns, events )
	{
		var aReturn = [];
		var aClones = [];
		var aCloned = [];

		for ( var i=0, iLen=aoOriginal.length ; i<iLen ; i++ )
		{
			var aRow = [];
			aRow.nTr = $(aoOriginal[i].nTr).clone(events, false)[0];

			for ( var j=0, jLen=this.s.iTableColumns ; j<jLen ; j++ )
			{
				if ( $.inArray( j, aiColumns ) === -1 )
				{
					continue;
				}

				var iCloned = $.inArray( aoOriginal[i][j].cell, aCloned );
				if ( iCloned === -1 )
				{
					var nClone = $(aoOriginal[i][j].cell).clone(events, false)[0];
					aClones.push( nClone );
					aCloned.push( aoOriginal[i][j].cell );

					aRow.push( {
						"cell": nClone,
						"unique": aoOriginal[i][j].unique
					} );
				}
				else
				{
					aRow.push( {
						"cell": aClones[ iCloned ],
						"unique": aoOriginal[i][j].unique
					} );
				}
			}

			aReturn.push( aRow );
		}

		return aReturn;
	},



	"_fnClone": function ( oClone, oGrid, aiColumns, bAll )
	{
		var that = this,
			i, iLen, j, jLen, jq, nTarget, iColumn, nClone, iIndex, aoCloneLayout,
			jqCloneThead, aoFixedHeader,
			dt = this.s.dt;


		if ( bAll )
		{
			$(oClone.header).remove();

			oClone.header = $(this.dom.header).clone(true, false)[0];
			oClone.header.className += " DTFC_Cloned";
			oClone.header.style.width = "100%";
			oGrid.head.appendChild( oClone.header );


			aoCloneLayout = this._fnCopyLayout( dt.aoHeader, aiColumns, true );
			jqCloneThead = $('>thead', oClone.header);
			jqCloneThead.empty();


			for ( i=0, iLen=aoCloneLayout.length ; i<iLen ; i++ )
			{
				jqCloneThead[0].appendChild( aoCloneLayout[i].nTr );
			}


			dt.oApi._fnDrawHead( dt, aoCloneLayout, true );
		}
		else
		{

			aoCloneLayout = this._fnCopyLayout( dt.aoHeader, aiColumns, false );
			aoFixedHeader=[];

			dt.oApi._fnDetectHeader( aoFixedHeader, $('>thead', oClone.header)[0] );

			for ( i=0, iLen=aoCloneLayout.length ; i<iLen ; i++ )
			{
				for ( j=0, jLen=aoCloneLayout[i].length ; j<jLen ; j++ )
				{
					aoFixedHeader[i][j].cell.className = aoCloneLayout[i][j].cell.className;

					$('span.DataTables_sort_icon', aoFixedHeader[i][j].cell).each( function () {
						this.className = $('span.DataTables_sort_icon', aoCloneLayout[i][j].cell)[0].className;
					} );
				}
			}
		}
		this._fnEqualiseHeights( 'thead', this.dom.header, oClone.header );


		if ( this.s.sHeightMatch == 'auto' )
		{

			$('>tbody>tr', that.dom.body).css('height', 'auto');
		}

		if ( oClone.body !== null )
		{
			$(oClone.body).remove();
			oClone.body = null;
		}

		oClone.body = $(this.dom.body).clone(true)[0];
		oClone.body.className += " DTFC_Cloned";
		oClone.body.style.paddingBottom = dt.oScroll.iBarWidth+"px";
		oClone.body.style.marginBottom = (dt.oScroll.iBarWidth*2)+"px"; 
		if ( oClone.body.getAttribute('id') !== null )
		{
			oClone.body.removeAttribute('id');
		}

		$('>thead>tr', oClone.body).empty();
		$('>tfoot', oClone.body).remove();

		var nBody = $('tbody', oClone.body)[0];
		$(nBody).empty();
		if ( dt.aiDisplay.length > 0 )
		{

			var nInnerThead = $('>thead>tr', oClone.body)[0];
			for ( iIndex=0 ; iIndex<aiColumns.length ; iIndex++ )
			{
				iColumn = aiColumns[iIndex];

				nClone = $(dt.aoColumns[iColumn].nTh).clone(true)[0];
				nClone.innerHTML = "";

				var oStyle = nClone.style;
				oStyle.paddingTop = "0";
				oStyle.paddingBottom = "0";
				oStyle.borderTopWidth = "0";
				oStyle.borderBottomWidth = "0";
				oStyle.height = 0;
				oStyle.width = that.s.aiInnerWidths[iColumn]+"px";

				nInnerThead.appendChild( nClone );
			}


			$('>tbody>tr', that.dom.body).each( function (z) {
				var i = that.s.dt.oFeatures.bServerSide===false ?
					that.s.dt.aiDisplay[ that.s.dt._iDisplayStart+z ] : z;
				var aTds = that.s.dt.aoData[ i ].anCells || $(this).children('td, th');

				var n = this.cloneNode(false);
				n.removeAttribute('id');
				n.setAttribute( 'data-dt-row', i );

				for ( iIndex=0 ; iIndex<aiColumns.length ; iIndex++ )
				{
					iColumn = aiColumns[iIndex];

					if ( aTds.length > 0 )
					{
						nClone = $( aTds[iColumn] ).clone(true, true)[0];
						nClone.removeAttribute( 'id' );
						nClone.setAttribute( 'data-dt-row', i );
						nClone.setAttribute( 'data-dt-column', iColumn );
						n.appendChild( nClone );
					}
				}
				nBody.appendChild( n );
			} );
		}
		else
		{
			$('>tbody>tr', that.dom.body).each( function (z) {
				nClone = this.cloneNode(true);
				nClone.className += ' DTFC_NoData';
				$('td', nClone).html('');
				nBody.appendChild( nClone );
			} );
		}

		oClone.body.style.width = "100%";
		oClone.body.style.margin = "0";
		oClone.body.style.padding = "0";

		if ( dt.oScroller !== undefined )
		{
			var scrollerForcer = dt.oScroller.dom.force;

			if ( ! oGrid.forcer ) {
				oGrid.forcer = scrollerForcer.cloneNode( true );
				oGrid.liner.appendChild( oGrid.forcer );
			}
			else {
				oGrid.forcer.style.height = scrollerForcer.style.height;
			}
		}

		oGrid.liner.appendChild( oClone.body );

		this._fnEqualiseHeights( 'tbody', that.dom.body, oClone.body );


		if ( dt.nTFoot !== null )
		{
			if ( bAll )
			{
				if ( oClone.footer !== null )
				{
					oClone.footer.parentNode.removeChild( oClone.footer );
				}
				oClone.footer = $(this.dom.footer).clone(true, true)[0];
				oClone.footer.className += " DTFC_Cloned";
				oClone.footer.style.width = "100%";
				oGrid.foot.appendChild( oClone.footer );


				aoCloneLayout = this._fnCopyLayout( dt.aoFooter, aiColumns, true );
				var jqCloneTfoot = $('>tfoot', oClone.footer);
				jqCloneTfoot.empty();

				for ( i=0, iLen=aoCloneLayout.length ; i<iLen ; i++ )
				{
					jqCloneTfoot[0].appendChild( aoCloneLayout[i].nTr );
				}
				dt.oApi._fnDrawHead( dt, aoCloneLayout, true );
			}
			else
			{
				aoCloneLayout = this._fnCopyLayout( dt.aoFooter, aiColumns, false );
				var aoCurrFooter=[];

				dt.oApi._fnDetectHeader( aoCurrFooter, $('>tfoot', oClone.footer)[0] );

				for ( i=0, iLen=aoCloneLayout.length ; i<iLen ; i++ )
				{
					for ( j=0, jLen=aoCloneLayout[i].length ; j<jLen ; j++ )
					{
						aoCurrFooter[i][j].cell.className = aoCloneLayout[i][j].cell.className;
					}
				}
			}
			this._fnEqualiseHeights( 'tfoot', this.dom.footer, oClone.footer );
		}


		var anUnique = dt.oApi._fnGetUniqueThs( dt, $('>thead', oClone.header)[0] );
		$(anUnique).each( function (i) {
			iColumn = aiColumns[i];
			this.style.width = that.s.aiInnerWidths[iColumn]+"px";
		} );

		if ( that.s.dt.nTFoot !== null )
		{
			anUnique = dt.oApi._fnGetUniqueThs( dt, $('>tfoot', oClone.footer)[0] );
			$(anUnique).each( function (i) {
				iColumn = aiColumns[i];
				this.style.width = that.s.aiInnerWidths[iColumn]+"px";
			} );
		}
	},



	"_fnGetTrNodes": function ( nIn )
	{
		var aOut = [];
		for ( var i=0, iLen=nIn.childNodes.length ; i<iLen ; i++ )
		{
			if ( nIn.childNodes[i].nodeName.toUpperCase() == "TR" )
			{
				aOut.push( nIn.childNodes[i] );
			}
		}
		return aOut;
	},



	"_fnEqualiseHeights": function ( nodeName, original, clone )
	{
		if ( this.s.sHeightMatch == 'none' && nodeName !== 'thead' && nodeName !== 'tfoot' )
		{
			return;
		}

		var that = this,
			i, iLen, iHeight, iHeight2, iHeightOriginal, iHeightClone,
			rootOriginal = original.getElementsByTagName(nodeName)[0],
			rootClone    = clone.getElementsByTagName(nodeName)[0],
			jqBoxHack    = $('>'+nodeName+'>tr:eq(0)', original).children(':first'),
			iBoxHack     = jqBoxHack.outerHeight() - jqBoxHack.height(),
			anOriginal   = this._fnGetTrNodes( rootOriginal ),
			anClone      = this._fnGetTrNodes( rootClone ),
			heights      = [];

		for ( i=0, iLen=anClone.length ; i<iLen ; i++ )
		{
			iHeightOriginal = anOriginal[i].offsetHeight;
			iHeightClone = anClone[i].offsetHeight;
			iHeight = iHeightClone > iHeightOriginal ? iHeightClone : iHeightOriginal;

			if ( this.s.sHeightMatch == 'semiauto' )
			{
				anOriginal[i]._DTTC_iHeight = iHeight;
			}

			heights.push( iHeight );
		}

		for ( i=0, iLen=anClone.length ; i<iLen ; i++ )
		{
			anClone[i].style.height = heights[i]+"px";
			anOriginal[i].style.height = heights[i]+"px";
		}
	},


	_firefoxScrollError: function () {
		if ( _firefoxScroll === undefined ) {
			var test = $('<div/>')
				.css( {
					position: 'absolute',
					top: 0,
					left: 0,
					height: 10,
					width: 50,
					overflow: 'scroll'
				} )
				.appendTo( 'body' );

			_firefoxScroll = (
				test[0].clientWidth === test[0].offsetWidth && this._fnDTOverflow().bar !== 0
			);

			test.remove();
		}

		return _firefoxScroll;
	}
} );






FixedColumns.defaults = {

	"iLeftColumns": 1,


	"iRightColumns": 0,


	"fnDrawCallback": null,


	"sHeightMatch": "semiauto"
};







FixedColumns.version = "3.3.2";





DataTable.Api.register( 'fixedColumns()', function () {
	return this;
} );

DataTable.Api.register( 'fixedColumns().update()', function () {
	return this.iterator( 'table', function ( ctx ) {
		if ( ctx._oFixedColumns ) {
			ctx._oFixedColumns.fnUpdate();
		}
	} );
} );

DataTable.Api.register( 'fixedColumns().relayout()', function () {
	return this.iterator( 'table', function ( ctx ) {
		if ( ctx._oFixedColumns ) {
			ctx._oFixedColumns.fnRedrawLayout();
		}
	} );
} );

DataTable.Api.register( 'rows().recalcHeight()', function () {
	return this.iterator( 'row', function ( ctx, idx ) {
		if ( ctx._oFixedColumns ) {
			ctx._oFixedColumns.fnRecalculateHeight( this.row(idx).node() );
		}
	} );
} );

DataTable.Api.register( 'fixedColumns().rowIndex()', function ( row ) {
	row = $(row);

	return row.parents('.DTFC_Cloned').length ?
		this.rows( { page: 'current' } ).indexes()[ row.index() ] :
		this.row( row ).index();
} );

DataTable.Api.register( 'fixedColumns().cellIndex()', function ( cell ) {
	cell = $(cell);

	if ( cell.parents('.DTFC_Cloned').length ) {
		var rowClonedIdx = cell.parent().index();
		var rowIdx = this.rows( { page: 'current' } ).indexes()[ rowClonedIdx ];
		var columnIdx;

		if ( cell.parents('.DTFC_LeftWrapper').length ) {
			columnIdx = cell.index();
		}
		else {
			var columns = this.columns().flatten().length;
			columnIdx = columns - this.context[0]._oFixedColumns.s.iRightColumns + cell.index();
		}

		return {
			row: rowIdx,
			column: this.column.index( 'toData', columnIdx ),
			columnVisible: columnIdx
		};
	}
	else {
		return this.cell( cell ).index();
	}
} );

DataTable.Api.registerPlural( 'cells().fixedNodes()', 'cell().fixedNode()', function () {
	return this.iterator( 'cell', function ( settings, row, column ) {
		return settings._oFixedColumns
			? settings._oFixedColumns.fnToFixedNode( row, column )
			: this.cell(row, column).node();
	}, 1 );
} );






$(document).on( 'init.dt.fixedColumns', function (e, settings) {
	if ( e.namespace !== 'dt' ) {
		return;
	}

	var init = settings.oInit.fixedColumns;
	var defaults = DataTable.defaults.fixedColumns;

	if ( init || defaults ) {
		var opts = $.extend( {}, init, defaults );

		if ( init !== false ) {
			new FixedColumns( settings, opts );
		}
	}
} );



$.fn.dataTable.FixedColumns = FixedColumns;
$.fn.DataTable.FixedColumns = FixedColumns;

return FixedColumns;
}));






(function( factory ){
	if ( typeof define === 'function' && define.amd ) {
		define( ['jquery', 'datatables.net'], function ( $ ) {
			return factory( $, window, document );
		} );
	}
	else if ( typeof exports === 'object' ) {
		module.exports = function (root, $) {
			if ( ! root ) {
				root = window;
			}

			if ( ! $ || ! $.fn.dataTable ) {
				$ = require('datatables.net')(root, $).$;
			}

			return factory( $, root, root.document );
		};
	}
	else {
		factory( jQuery, window, document );
	}
}(function( $, window, document, undefined ) {
'use strict';
var DataTable = $.fn.dataTable;


var _instCounter = 0;

var FixedHeader = function ( dt, config ) {
	if ( ! (this instanceof FixedHeader) ) {
		throw "FixedHeader must be initialised with the 'new' keyword.";
	}

	if ( config === true ) {
		config = {};
	}

	dt = new DataTable.Api( dt );

	this.c = $.extend( true, {}, FixedHeader.defaults, config );

	this.s = {
		dt: dt,
		position: {
			theadTop: 0,
			tbodyTop: 0,
			tfootTop: 0,
			tfootBottom: 0,
			width: 0,
			left: 0,
			tfootHeight: 0,
			theadHeight: 0,
			windowHeight: $(window).height(),
			visible: true
		},
		headerMode: null,
		footerMode: null,
		autoWidth: dt.settings()[0].oFeatures.bAutoWidth,
		namespace: '.dtfc'+(_instCounter++),
		scrollLeft: {
			header: -1,
			footer: -1
		},
		enable: true
	};

	this.dom = {
		floatingHeader: null,
		thead: $(dt.table().header()),
		tbody: $(dt.table().body()),
		tfoot: $(dt.table().footer()),
		header: {
			host: null,
			floating: null,
			placeholder: null
		},
		footer: {
			host: null,
			floating: null,
			placeholder: null
		}
	};

	this.dom.header.host = this.dom.thead.parent();
	this.dom.footer.host = this.dom.tfoot.parent();

	var dtSettings = dt.settings()[0];
	if ( dtSettings._fixedHeader ) {
		throw "FixedHeader already initialised on table "+dtSettings.nTable.id;
	}

	dtSettings._fixedHeader = this;

	this._constructor();
};



$.extend( FixedHeader.prototype, {



	destroy: function () {
		this.s.dt.off( '.dtfc' );
		$(window).off( this.s.namespace );

		if ( this.c.header ) {
			this._modeChange( 'in-place', 'header', true );
		}

		if ( this.c.footer && this.dom.tfoot.length ) {
			this._modeChange( 'in-place', 'footer', true );
		}
	},


	enable: function ( enable, update )
	{
		this.s.enable = enable;

		if ( update || update === undefined ) {
			this._positions();
			this._scroll( true );
		}
	},


	enabled: function ()
	{
		return this.s.enable;
	},


	headerOffset: function ( offset )
	{
		if ( offset !== undefined ) {
			this.c.headerOffset = offset;
			this.update();
		}

		return this.c.headerOffset;
	},


	footerOffset: function ( offset )
	{
		if ( offset !== undefined ) {
			this.c.footerOffset = offset;
			this.update();
		}

		return this.c.footerOffset;
	},



	update: function ()
	{
		var table = this.s.dt.table().node();

		if ( $(table).is(':visible') ) {
			this.enable( true, false );
		}
		else {
			this.enable( false, false );
		}

		this._positions();
		this._scroll( true );
	},





	_constructor: function ()
	{
		var that = this;
		var dt = this.s.dt;

		$(window)
			.on( 'scroll'+this.s.namespace, function () {
				that._scroll();
			} )
			.on( 'resize'+this.s.namespace, DataTable.util.throttle( function () {
				that.s.position.windowHeight = $(window).height();
				that.update();
			}, 50 ) );

		var autoHeader = $('.fh-fixedHeader');
		if ( ! this.c.headerOffset && autoHeader.length ) {
			this.c.headerOffset = autoHeader.outerHeight();
		}

		var autoFooter = $('.fh-fixedFooter');
		if ( ! this.c.footerOffset && autoFooter.length ) {
			this.c.footerOffset = autoFooter.outerHeight();
		}

		dt.on( 'column-reorder.dt.dtfc column-visibility.dt.dtfc draw.dt.dtfc column-sizing.dt.dtfc responsive-display.dt.dtfc', function () {
			that.update();
		} );

		dt.on( 'destroy.dtfc', function () {
			that.destroy();
		} );

		this._positions();
		this._scroll();
	},





	_clone: function ( item, force )
	{
		var dt = this.s.dt;
		var itemDom = this.dom[ item ];
		var itemElement = item === 'header' ?
			this.dom.thead :
			this.dom.tfoot;

		if ( ! force && itemDom.floating ) {
			itemDom.floating.removeClass( 'fixedHeader-floating fixedHeader-locked' );
		}
		else {
			if ( itemDom.floating ) {
				itemDom.placeholder.remove();
				this._unsize( item );
				itemDom.floating.children().detach();
				itemDom.floating.remove();
			}

			itemDom.floating = $( dt.table().node().cloneNode( false ) )
				.css( 'table-layout', 'fixed' )
				.attr( 'aria-hidden', 'true' )
				.removeAttr( 'id' )
				.append( itemElement )
				.appendTo( 'body' );

			itemDom.placeholder = itemElement.clone( false );
			itemDom.placeholder
				.find( '*[id]' )
				.removeAttr( 'id' );

			itemDom.host.prepend( itemDom.placeholder );

			this._matchWidths( itemDom.placeholder, itemDom.floating );
		}
	},


	_matchWidths: function ( from, to ) {
		var get = function ( name ) {
			return $(name, from)
				.map( function () {
					return $(this).css('width').replace(/[^\d\.]/g, '') * 1;
				} ).toArray();
		};

		var set = function ( name, toWidths ) {
			$(name, to).each( function ( i ) {
				$(this).css( {
					width: toWidths[i],
					minWidth: toWidths[i]
				} );
			} );
		};

		var thWidths = get( 'th' );
		var tdWidths = get( 'td' );

		set( 'th', thWidths );
		set( 'td', tdWidths );
	},


	_unsize: function ( item ) {
		var el = this.dom[ item ].floating;

		if ( el && (item === 'footer' || (item === 'header' && ! this.s.autoWidth)) ) {
			$('th, td', el).css( {
				width: '',
				minWidth: ''
			} );
		}
		else if ( el && item === 'header' ) {
			$('th, td', el).css( 'min-width', '' );
		}
	},


	_horizontal: function ( item, scrollLeft )
	{
		var itemDom = this.dom[ item ];
		var position = this.s.position;
		var lastScrollLeft = this.s.scrollLeft;

		if ( itemDom.floating && lastScrollLeft[ item ] !== scrollLeft ) {
			itemDom.floating.css( 'left', position.left - scrollLeft );

			lastScrollLeft[ item ] = scrollLeft;
		}
	},


	_modeChange: function ( mode, item, forceChange )
	{
		var dt = this.s.dt;
		var itemDom = this.dom[ item ];
		var position = this.s.position;

		var importantWidth = function (w) {
			itemDom.floating.attr('style', function(i,s) {
				return (s || '') + 'width: '+w+'px !important;';
			});
		};

		var tablePart = this.dom[ item==='footer' ? 'tfoot' : 'thead' ];
		var focus = $.contains( tablePart[0], document.activeElement ) ?
			document.activeElement :
			null;

				if ( focus ) {
			focus.blur();
		}

		if ( mode === 'in-place' ) {
			if ( itemDom.placeholder ) {
				itemDom.placeholder.remove();
				itemDom.placeholder = null;
			}

			this._unsize( item );

			if ( item === 'header' ) {
				itemDom.host.prepend( tablePart );
			}
			else {
				itemDom.host.append( tablePart );
			}

			if ( itemDom.floating ) {
				itemDom.floating.remove();
				itemDom.floating = null;
			}
		}
		else if ( mode === 'in' ) {
			this._clone( item, forceChange );

			itemDom.floating
				.addClass( 'fixedHeader-floating' )
				.css( item === 'header' ? 'top' : 'bottom', this.c[item+'Offset'] )
				.css( 'left', position.left+'px' );

			importantWidth(position.width);

			if ( item === 'footer' ) {
				itemDom.floating.css( 'top', '' );
			}
		}
		else if ( mode === 'below' ) { 
			this._clone( item, forceChange );

			itemDom.floating
				.addClass( 'fixedHeader-locked' )
				.css( 'top', position.tfootTop - position.theadHeight )
				.css( 'left', position.left+'px' );

			importantWidth(position.width);
		}
		else if ( mode === 'above' ) { 
			this._clone( item, forceChange );

			itemDom.floating
				.addClass( 'fixedHeader-locked' )
				.css( 'top', position.tbodyTop )
				.css( 'left', position.left+'px' );

			importantWidth(position.width);
		}

		if ( focus && focus !== document.activeElement ) {
			setTimeout( function () {
				focus.focus();
			}, 10 );
		}

		this.s.scrollLeft.header = -1;
		this.s.scrollLeft.footer = -1;
		this.s[item+'Mode'] = mode;
	},


	_positions: function ()
	{
		var dt = this.s.dt;
		var table = dt.table();
		var position = this.s.position;
		var dom = this.dom;
		var tableNode = $(table.node());

		var thead = tableNode.children('thead');
		var tfoot = tableNode.children('tfoot');
		var tbody = dom.tbody;

		position.visible = tableNode.is(':visible');
		position.width = tableNode.outerWidth();
		position.left = tableNode.offset().left;
		position.theadTop = thead.offset().top;
		position.tbodyTop = tbody.offset().top;
		position.tbodyHeight = tbody.outerHeight();
		position.theadHeight = position.tbodyTop - position.theadTop;

		if ( tfoot.length ) {
			position.tfootTop = tfoot.offset().top;
			position.tfootBottom = position.tfootTop + tfoot.outerHeight();
			position.tfootHeight = position.tfootBottom - position.tfootTop;
		}
		else {
			position.tfootTop = position.tbodyTop + tbody.outerHeight();
			position.tfootBottom = position.tfootTop;
			position.tfootHeight = position.tfootTop;
		}
	},



	_scroll: function ( forceChange )
	{
		var windowTop = $(document).scrollTop();
		var windowLeft = $(document).scrollLeft();
		var position = this.s.position;
		var headerMode, footerMode;

		if ( this.c.header ) {
			if ( ! this.s.enable ) {
				headerMode = 'in-place';
			}
			else if ( ! position.visible || windowTop <= position.theadTop - this.c.headerOffset ) {
				headerMode = 'in-place';
			}
			else if ( windowTop <= position.tfootTop - position.theadHeight - this.c.headerOffset ) {
				headerMode = 'in';
			}
			else {
				headerMode = 'below';
			}

			if ( forceChange || headerMode !== this.s.headerMode ) {
				this._modeChange( headerMode, 'header', forceChange );
			}

			this._horizontal( 'header', windowLeft );
		}

		if ( this.c.footer && this.dom.tfoot.length ) {
			if ( ! this.s.enable ) {
				footerMode = 'in-place';
			}
			else if ( ! position.visible || windowTop + position.windowHeight >= position.tfootBottom + this.c.footerOffset ) {
				footerMode = 'in-place';
			}
			else if ( position.windowHeight + windowTop > position.tbodyTop + position.tfootHeight + this.c.footerOffset ) {
				footerMode = 'in';
			}
			else {
				footerMode = 'above';
			}

			if ( forceChange || footerMode !== this.s.footerMode ) {
				this._modeChange( footerMode, 'footer', forceChange );
			}

			this._horizontal( 'footer', windowLeft );
		}
	}
} );



FixedHeader.version = "3.1.8";


FixedHeader.defaults = {
	header: true,
	footer: false,
	headerOffset: 0,
	footerOffset: 0
};




$.fn.dataTable.FixedHeader = FixedHeader;
$.fn.DataTable.FixedHeader = FixedHeader;


$(document).on( 'init.dt.dtfh', function (e, settings, json) {
	if ( e.namespace !== 'dt' ) {
		return;
	}

	var init = settings.oInit.fixedHeader;
	var defaults = DataTable.defaults.fixedHeader;

	if ( (init || defaults) && ! settings._fixedHeader ) {
		var opts = $.extend( {}, defaults, init );

		if ( init !== false ) {
			new FixedHeader( settings, opts );
		}
	}
} );

DataTable.Api.register( 'fixedHeader()', function () {} );

DataTable.Api.register( 'fixedHeader.adjust()', function () {
	return this.iterator( 'table', function ( ctx ) {
		var fh = ctx._fixedHeader;

		if ( fh ) {
			fh.update();
		}
	} );
} );

DataTable.Api.register( 'fixedHeader.enable()', function ( flag ) {
	return this.iterator( 'table', function ( ctx ) {
		var fh = ctx._fixedHeader;

		flag = ( flag !== undefined ? flag : true );
		if ( fh && flag !== fh.enabled() ) {
			fh.enable( flag );
		}
	} );
} );

DataTable.Api.register( 'fixedHeader.enabled()', function () {
	if ( this.context.length ) {
		var fh = this.context[0]._fixedHeader;

		if ( fh ) {
			return fh.enabled();
		}
	}

	return false;
} );

DataTable.Api.register( 'fixedHeader.disable()', function ( ) {
	return this.iterator( 'table', function ( ctx ) {
		var fh = ctx._fixedHeader;

		if ( fh && fh.enabled() ) {
			fh.enable( false );
		}
	} );
} );

$.each( ['header', 'footer'], function ( i, el ) {
	DataTable.Api.register( 'fixedHeader.'+el+'Offset()', function ( offset ) {
		var ctx = this.context;

		if ( offset === undefined ) {
			return ctx.length && ctx[0]._fixedHeader ?
				ctx[0]._fixedHeader[el +'Offset']() :
				undefined;
		}

		return this.iterator( 'table', function ( ctx ) {
			var fh = ctx._fixedHeader;

			if ( fh ) {
				fh[ el +'Offset' ]( offset );
			}
		} );
	} );
} );


return FixedHeader;
}));





(function( factory ){
	if ( typeof define === 'function' && define.amd ) {
		define( ['jquery', 'datatables.net'], function ( $ ) {
			return factory( $, window, document );
		} );
	}
	else if ( typeof exports === 'object' ) {
		module.exports = function (root, $) {
			if ( ! root ) {
				root = window;
			}

			if ( ! $ || ! $.fn.dataTable ) {
				$ = require('datatables.net')(root, $).$;
			}

			return factory( $, root, root.document );
		};
	}
	else {
		factory( jQuery, window, document );
	}
}(function( $, window, document, undefined ) {
'use strict';
var DataTable = $.fn.dataTable;



var Responsive = function ( settings, opts ) {
	if ( ! DataTable.versionCheck || ! DataTable.versionCheck( '1.10.10' ) ) {
		throw 'DataTables Responsive requires DataTables 1.10.10 or newer';
	}

	this.s = {
		dt: new DataTable.Api( settings ),
		columns: [],
		current: []
	};

	if ( this.s.dt.settings()[0].responsive ) {
		return;
	}

	if ( opts && typeof opts.details === 'string' ) {
		opts.details = { type: opts.details };
	}
	else if ( opts && opts.details === false ) {
		opts.details = { type: false };
	}
	else if ( opts && opts.details === true ) {
		opts.details = { type: 'inline' };
	}

	this.c = $.extend( true, {}, Responsive.defaults, DataTable.defaults.responsive, opts );
	settings.responsive = this;
	this._constructor();
};

$.extend( Responsive.prototype, {



	_constructor: function ()
	{
		var that = this;
		var dt = this.s.dt;
		var dtPrivateSettings = dt.settings()[0];
		var oldWindowWidth = $(window).innerWidth();

		dt.settings()[0]._responsive = this;

		$(window).on( 'resize.dtr orientationchange.dtr', DataTable.util.throttle( function () {
			var width = $(window).innerWidth();

			if ( width !== oldWindowWidth ) {
				that._resize();
				oldWindowWidth = width;
			}
		} ) );

		dtPrivateSettings.oApi._fnCallbackReg( dtPrivateSettings, 'aoRowCreatedCallback', function (tr, data, idx) {
			if ( $.inArray( false, that.s.current ) !== -1 ) {
				$('>td, >th', tr).each( function ( i ) {
					var idx = dt.column.index( 'toData', i );

					if ( that.s.current[idx] === false ) {
						$(this).css('display', 'none');
					}
				} );
			}
		} );

		dt.on( 'destroy.dtr', function () {
			dt.off( '.dtr' );
			$( dt.table().body() ).off( '.dtr' );
			$(window).off( 'resize.dtr orientationchange.dtr' );
			dt.cells('.dtr-control').nodes().to$().removeClass('dtr-control');

			$.each( that.s.current, function ( i, val ) {
				if ( val === false ) {
					that._setColumnVis( i, true );
				}
			} );
		} );

		this.c.breakpoints.sort( function (a, b) {
			return a.width < b.width ? 1 :
				a.width > b.width ? -1 : 0;
		} );

		this._classLogic();
		this._resizeAuto();

		var details = this.c.details;

		if ( details.type !== false ) {
			that._detailsInit();

			dt.on( 'column-visibility.dtr', function () {
				if ( that._timer ) {
					clearTimeout( that._timer );
				}

				that._timer = setTimeout( function () {
					that._timer = null;

					that._classLogic();
					that._resizeAuto();
					that._resize(true);

					that._redrawChildren();
				}, 100 );
			} );

			dt.on( 'draw.dtr', function () {
				that._redrawChildren();
			} );

			$(dt.table().node()).addClass( 'dtr-'+details.type );
		}

		dt.on( 'column-reorder.dtr', function (e, settings, details) {
			that._classLogic();
			that._resizeAuto();
			that._resize(true);
		} );

		dt.on( 'column-sizing.dtr', function () {
			that._resizeAuto();
			that._resize();
		});

		dt.on( 'preXhr.dtr', function () {
			var rowIds = [];
			dt.rows().every( function () {
				if ( this.child.isShown() ) {
					rowIds.push( this.id(true) );
				}
			} );

			dt.one( 'draw.dtr', function () {
				that._resizeAuto();
				that._resize();

				dt.rows( rowIds ).every( function () {
					that._detailsDisplay( this, false );
				} );
			} );
		});

		dt
			.on( 'draw.dtr', function () {
				that._controlClass();
			})
			.on( 'init.dtr', function (e, settings, details) {
				if ( e.namespace !== 'dt' ) {
					return;
				}

				that._resizeAuto();
				that._resize();

				if ( $.inArray( false, that.s.current ) ) {
					dt.columns.adjust();
				}
			} );

		this._resize();
	},





	_columnsVisiblity: function ( breakpoint )
	{
		var dt = this.s.dt;
		var columns = this.s.columns;
		var i, ien;

		var order = columns
			.map( function ( col, idx ) {
				return {
					columnIdx: idx,
					priority: col.priority
				};
			} )
			.sort( function ( a, b ) {
				if ( a.priority !== b.priority ) {
					return a.priority - b.priority;
				}
				return a.columnIdx - b.columnIdx;
			} );

		var display = $.map( columns, function ( col, i ) {
			if ( dt.column(i).visible() === false ) {
				return 'not-visible';
			}
			return col.auto && col.minWidth === null ?
				false :
				col.auto === true ?
					'-' :
					$.inArray( breakpoint, col.includeIn ) !== -1;
		} );

		var requiredWidth = 0;
		for ( i=0, ien=display.length ; i<ien ; i++ ) {
			if ( display[i] === true ) {
				requiredWidth += columns[i].minWidth;
			}
		}

		var scrolling = dt.settings()[0].oScroll;
		var bar = scrolling.sY || scrolling.sX ? scrolling.iBarWidth : 0;
		var widthAvailable = dt.table().container().offsetWidth - bar;
		var usedWidth = widthAvailable - requiredWidth;

		for ( i=0, ien=display.length ; i<ien ; i++ ) {
			if ( columns[i].control ) {
				usedWidth -= columns[i].minWidth;
			}
		}

		var empty = false;
		for ( i=0, ien=order.length ; i<ien ; i++ ) {
			var colIdx = order[i].columnIdx;

			if ( display[colIdx] === '-' && ! columns[colIdx].control && columns[colIdx].minWidth ) {
				if ( empty || usedWidth - columns[colIdx].minWidth < 0 ) {
					empty = true;
					display[colIdx] = false;
				}
				else {
					display[colIdx] = true;
				}

				usedWidth -= columns[colIdx].minWidth;
			}
		}

		var showControl = false;

		for ( i=0, ien=columns.length ; i<ien ; i++ ) {
			if ( ! columns[i].control && ! columns[i].never && display[i] === false ) {
				showControl = true;
				break;
			}
		}

		for ( i=0, ien=columns.length ; i<ien ; i++ ) {
			if ( columns[i].control ) {
				display[i] = showControl;
			}

			if ( display[i] === 'not-visible' ) {
				display[i] = false;
			}
		}

		if ( $.inArray( true, display ) === -1 ) {
			display[0] = true;
		}

		return display;
	},



	_classLogic: function ()
	{
		var that = this;
		var calc = {};
		var breakpoints = this.c.breakpoints;
		var dt = this.s.dt;
		var columns = dt.columns().eq(0).map( function (i) {
			var column = this.column(i);
			var className = column.header().className;
			var priority = dt.settings()[0].aoColumns[i].responsivePriority;
			var dataPriority = column.header().getAttribute('data-priority');

			if ( priority === undefined ) {
				priority = dataPriority === undefined || dataPriority === null?
					10000 :
					dataPriority * 1;
			}

			return {
				className: className,
				includeIn: [],
				auto:      false,
				control:   false,
				never:     className.match(/\bnever\b/) ? true : false,
				priority:  priority
			};
		} );

		var add = function ( colIdx, name ) {
			var includeIn = columns[ colIdx ].includeIn;

			if ( $.inArray( name, includeIn ) === -1 ) {
				includeIn.push( name );
			}
		};

		var column = function ( colIdx, name, operator, matched ) {
			var size, i, ien;

			if ( ! operator ) {
				columns[ colIdx ].includeIn.push( name );
			}
			else if ( operator === 'max-' ) {
				size = that._find( name ).width;

				for ( i=0, ien=breakpoints.length ; i<ien ; i++ ) {
					if ( breakpoints[i].width <= size ) {
						add( colIdx, breakpoints[i].name );
					}
				}
			}
			else if ( operator === 'min-' ) {
				size = that._find( name ).width;

				for ( i=0, ien=breakpoints.length ; i<ien ; i++ ) {
					if ( breakpoints[i].width >= size ) {
						add( colIdx, breakpoints[i].name );
					}
				}
			}
			else if ( operator === 'not-' ) {
				for ( i=0, ien=breakpoints.length ; i<ien ; i++ ) {
					if ( breakpoints[i].name.indexOf( matched ) === -1 ) {
						add( colIdx, breakpoints[i].name );
					}
				}
			}
		};

		columns.each( function ( col, i ) {
			var classNames = col.className.split(' ');
			var hasClass = false;

			for ( var k=0, ken=classNames.length ; k<ken ; k++ ) {
				var className = classNames[k].trim();

				if ( className === 'all' ) {
					hasClass = true;
					col.includeIn = $.map( breakpoints, function (a) {
						return a.name;
					} );
					return;
				}
				else if ( className === 'none' || col.never ) {
					hasClass = true;
					return;
				}
				else if ( className === 'control' || className === 'dtr-control' ) {
					hasClass = true;
					col.control = true;
					return;
				}

				$.each( breakpoints, function ( j, breakpoint ) {
					var brokenPoint = breakpoint.name.split('-');
					var re = new RegExp( '(min\\-|max\\-|not\\-)?('+brokenPoint[0]+')(\\-[_a-zA-Z0-9])?' );
					var match = className.match( re );

					if ( match ) {
						hasClass = true;

						if ( match[2] === brokenPoint[0] && match[3] === '-'+brokenPoint[1] ) {
							column( i, breakpoint.name, match[1], match[2]+match[3] );
						}
						else if ( match[2] === brokenPoint[0] && ! match[3] ) {
							column( i, breakpoint.name, match[1], match[2] );
						}
					}
				} );
			}

			if ( ! hasClass ) {
				col.auto = true;
			}
		} );

		this.s.columns = columns;
	},


	_controlClass: function ()
	{
		if ( this.c.details.type === 'inline' ) {
			var dt = this.s.dt;
			var columnsVis = this.s.current;
			var firstVisible = $.inArray(true, columnsVis);

			dt.cells(
				null,
				function(idx) {
					return idx !== firstVisible;
				},
				{page: 'current'}
			)
				.nodes()
				.to$()
				.filter('.dtr-control')
				.removeClass('dtr-control');

			dt.cells(null, firstVisible, {page: 'current'})
				.nodes()
				.to$()
				.addClass('dtr-control');
		}
	},


	_detailsDisplay: function ( row, update )
	{
		var that = this;
		var dt = this.s.dt;
		var details = this.c.details;

		if ( details && details.type !== false ) {
			var res = details.display( row, update, function () {
				return details.renderer(
					dt, row[0], that._detailsObj(row[0])
				);
			} );

			if ( res === true || res === false ) {
				$(dt.table().node()).triggerHandler( 'responsive-display.dt', [dt, row, res, update] );
			}
		}
	},



	_detailsInit: function ()
	{
		var that    = this;
		var dt      = this.s.dt;
		var details = this.c.details;

		if ( details.type === 'inline' ) {
			details.target = 'td.dtr-control, th.dtr-control';
		}

		dt.on( 'draw.dtr', function () {
			that._tabIndexes();
		} );
		that._tabIndexes(); 

		$( dt.table().body() ).on( 'keyup.dtr', 'td, th', function (e) {
			if ( e.keyCode === 13 && $(this).data('dtr-keyboard') ) {
				$(this).click();
			}
		} );

		var target   = details.target;
		var selector = typeof target === 'string' ? target : 'td, th';

		if ( target !== undefined || target !== null ) {
			$( dt.table().body() )
				.on( 'click.dtr mousedown.dtr mouseup.dtr', selector, function (e) {
					if ( ! $(dt.table().node()).hasClass('collapsed' ) ) {
						return;
					}

					if ( $.inArray( $(this).closest('tr').get(0), dt.rows().nodes().toArray() ) === -1 ) {
						return;
					}

					if ( typeof target === 'number' ) {
						var targetIdx = target < 0 ?
							dt.columns().eq(0).length + target :
							target;

						if ( dt.cell( this ).index().column !== targetIdx ) {
							return;
						}
					}

					var row = dt.row( $(this).closest('tr') );

					if ( e.type === 'click' ) {
						that._detailsDisplay( row, false );
					}
					else if ( e.type === 'mousedown' ) {
						$(this).css('outline', 'none');
					}
					else if ( e.type === 'mouseup' ) {
						$(this).trigger('blur').css('outline', '');
					}
				} );
		}
	},



	_detailsObj: function ( rowIdx )
	{
		var that = this;
		var dt = this.s.dt;

		return $.map( this.s.columns, function( col, i ) {
			if ( col.never || col.control ) {
				return;
			}

			var dtCol = dt.settings()[0].aoColumns[ i ];

			return {
				className:   dtCol.sClass,
				columnIndex: i,
				data:        dt.cell( rowIdx, i ).render( that.c.orthogonal ),
				hidden:      dt.column( i ).visible() && !that.s.current[ i ],
				rowIndex:    rowIdx,
				title:       dtCol.sTitle !== null ?
					dtCol.sTitle :
					$(dt.column(i).header()).text()
			};
		} );
	},



	_find: function ( name )
	{
		var breakpoints = this.c.breakpoints;

		for ( var i=0, ien=breakpoints.length ; i<ien ; i++ ) {
			if ( breakpoints[i].name === name ) {
				return breakpoints[i];
			}
		}
	},



	_redrawChildren: function ()
	{
		var that = this;
		var dt = this.s.dt;

		dt.rows( {page: 'current'} ).iterator( 'row', function ( settings, idx ) {
			var row = dt.row( idx );

			that._detailsDisplay( dt.row( idx ), true );
		} );
	},



	_resize: function (forceRedraw)
	{
		var that = this;
		var dt = this.s.dt;
		var width = $(window).innerWidth();
		var breakpoints = this.c.breakpoints;
		var breakpoint = breakpoints[0].name;
		var columns = this.s.columns;
		var i, ien;
		var oldVis = this.s.current.slice();

		for ( i=breakpoints.length-1 ; i>=0 ; i-- ) {
			if ( width <= breakpoints[i].width ) {
				breakpoint = breakpoints[i].name;
				break;
			}
		}

		var columnsVis = this._columnsVisiblity( breakpoint );
		this.s.current = columnsVis;

		var collapsedClass = false;

			for ( i=0, ien=columns.length ; i<ien ; i++ ) {
			if ( columnsVis[i] === false && ! columns[i].never && ! columns[i].control && ! dt.column(i).visible() === false ) {
				collapsedClass = true;
				break;
			}
		}

		$( dt.table().node() ).toggleClass( 'collapsed', collapsedClass );

		var changed = false;
		var visible = 0;

		dt.columns().eq(0).each( function ( colIdx, i ) {
			if ( columnsVis[i] === true ) {
				visible++;
			}

			if ( forceRedraw || columnsVis[i] !== oldVis[i] ) {
				changed = true;
				that._setColumnVis( colIdx, columnsVis[i] );
			}
		} );

		if ( changed ) {
			this._redrawChildren();

			$(dt.table().node()).trigger( 'responsive-resize.dt', [dt, this.s.current] );

			if ( dt.page.info().recordsDisplay === 0 ) {
				$('td', dt.table().body()).eq(0).attr('colspan', visible);
			}
		}

		that._controlClass();
	},



	_resizeAuto: function ()
	{
		var dt = this.s.dt;
		var columns = this.s.columns;

		if ( ! this.c.auto ) {
			return;
		}

		if ( $.inArray( true, $.map( columns, function (c) { return c.auto; } ) ) === -1 ) {
			return;
		}

		if ( ! $.isEmptyObject( _childNodeStore ) ) {
			$.each( _childNodeStore, function ( key ) {
				var idx = key.split('-');

				_childNodesRestore( dt, idx[0]*1, idx[1]*1 );
			} );
		}

		var tableWidth   = dt.table().node().offsetWidth;
		var columnWidths = dt.columns;
		var clonedTable  = dt.table().node().cloneNode( false );
		var clonedHeader = $( dt.table().header().cloneNode( false ) ).appendTo( clonedTable );
		var clonedBody   = $( dt.table().body() ).clone( false, false ).empty().appendTo( clonedTable ); 

		clonedTable.style.width = 'auto';

		var headerCells = dt.columns()
			.header()
			.filter( function (idx) {
				return dt.column(idx).visible();
			} )
			.to$()
			.clone( false )
			.css( 'display', 'table-cell' )
			.css( 'width', 'auto' )
			.css( 'min-width', 0 );

		$(clonedBody)
			.append( $(dt.rows( { page: 'current' } ).nodes()).clone( false ) )
			.find( 'th, td' ).css( 'display', '' );

		var footer = dt.table().footer();
		if ( footer ) {
			var clonedFooter = $( footer.cloneNode( false ) ).appendTo( clonedTable );
			var footerCells = dt.columns()
				.footer()
				.filter( function (idx) {
					return dt.column(idx).visible();
				} )
				.to$()
				.clone( false )
				.css( 'display', 'table-cell' );

			$('<tr/>')
				.append( footerCells )
				.appendTo( clonedFooter );
		}

		$('<tr/>')
			.append( headerCells )
			.appendTo( clonedHeader );

		if ( this.c.details.type === 'inline' ) {
			$(clonedTable).addClass( 'dtr-inline collapsed' );
		}

		$( clonedTable ).find( '[name]' ).removeAttr( 'name' );

		$( clonedTable ).css( 'position', 'relative' )

				var inserted = $('<div/>')
			.css( {
				width: 1,
				height: 1,
				overflow: 'hidden',
				clear: 'both'
			} )
			.append( clonedTable );

		inserted.insertBefore( dt.table().node() );

		headerCells.each( function (i) {
			var idx = dt.column.index( 'fromVisible', i );
			columns[ idx ].minWidth =  this.offsetWidth || 0;
		} );

		inserted.remove();
	},


	_responsiveOnlyHidden: function ()
	{
		var dt = this.s.dt;

		return $.map( this.s.current, function (v, i) {
			if ( dt.column(i).visible() === false ) {
				return true;
			}
			return v;
		} );
	},


	_setColumnVis: function ( col, showHide )
	{
		var dt = this.s.dt;
		var display = showHide ? '' : 'none'; 

		$( dt.column( col ).header() ).css( 'display', display );
		$( dt.column( col ).footer() ).css( 'display', display );
		dt.column( col ).nodes().to$().css( 'display', display );

		if ( ! $.isEmptyObject( _childNodeStore ) ) {
			dt.cells( null, col ).indexes().each( function (idx) {
				_childNodesRestore( dt, idx.row, idx.column );
			} );
		}
	},



	_tabIndexes: function ()
	{
		var dt = this.s.dt;
		var cells = dt.cells( { page: 'current' } ).nodes().to$();
		var ctx = dt.settings()[0];
		var target = this.c.details.target;

		cells.filter( '[data-dtr-keyboard]' ).removeData( '[data-dtr-keyboard]' );

		if ( typeof target === 'number' ) {
			dt.cells( null, target, { page: 'current' } ).nodes().to$()
				.attr( 'tabIndex', ctx.iTabIndex )
				.data( 'dtr-keyboard', 1 );
		}
		else {
			if ( target === 'td:first-child, th:first-child' ) {
				target = '>td:first-child, >th:first-child';
			}

			$( target, dt.rows( { page: 'current' } ).nodes() )
				.attr( 'tabIndex', ctx.iTabIndex )
				.data( 'dtr-keyboard', 1 );
		}
	}
} );



Responsive.breakpoints = [
	{ name: 'desktop',  width: Infinity },
	{ name: 'tablet-l', width: 1024 },
	{ name: 'tablet-p', width: 768 },
	{ name: 'mobile-l', width: 480 },
	{ name: 'mobile-p', width: 320 }
];



Responsive.display = {
	childRow: function ( row, update, render ) {
		if ( update ) {
			if ( $(row.node()).hasClass('parent') ) {
				row.child( render(), 'child' ).show();

				return true;
			}
		}
		else {
			if ( ! row.child.isShown()  ) {
				row.child( render(), 'child' ).show();
				$( row.node() ).addClass( 'parent' );

				return true;
			}
			else {
				row.child( false );
				$( row.node() ).removeClass( 'parent' );

				return false;
			}
		}
	},

	childRowImmediate: function ( row, update, render ) {
		if ( (! update && row.child.isShown()) || ! row.responsive.hasHidden() ) {
			row.child( false );
			$( row.node() ).removeClass( 'parent' );

			return false;
		}
		else {
			row.child( render(), 'child' ).show();
			$( row.node() ).addClass( 'parent' );

			return true;
		}
	},

	modal: function ( options ) {
		return function ( row, update, render ) {
			if ( ! update ) {
				var close = function () {
					modal.remove(); 
					$(document).off( 'keypress.dtr' );
				};

				var modal = $('<div class="dtr-modal"/>')
					.append( $('<div class="dtr-modal-display"/>')
						.append( $('<div class="dtr-modal-content"/>')
							.append( render() )
						)
						.append( $('<div class="dtr-modal-close">&times;</div>' )
							.click( function () {
								close();
							} )
						)
					)
					.append( $('<div class="dtr-modal-background"/>')
						.click( function () {
							close();
						} )
					)
					.appendTo( 'body' );

				$(document).on( 'keyup.dtr', function (e) {
					if ( e.keyCode === 27 ) {
						e.stopPropagation();

						close();
					}
				} );
			}
			else {
				$('div.dtr-modal-content')
					.empty()
					.append( render() );
			}

			if ( options && options.header ) {
				$('div.dtr-modal-content').prepend(
					'<h2>'+options.header( row )+'</h2>'
				);
			}
		};
	}
};


var _childNodeStore = {};

function _childNodes( dt, row, col ) {
	var name = row+'-'+col;

	if ( _childNodeStore[ name ] ) {
		return _childNodeStore[ name ];
	}

	var nodes = [];
	var children = dt.cell( row, col ).node().childNodes;
	for ( var i=0, ien=children.length ; i<ien ; i++ ) {
		nodes.push( children[i] );
	}

	_childNodeStore[ name ] = nodes;

	return nodes;
}

function _childNodesRestore( dt, row, col ) {
	var name = row+'-'+col;

	if ( ! _childNodeStore[ name ] ) {
		return;
	}

	var node = dt.cell( row, col ).node();
	var store = _childNodeStore[ name ];
	var parent = store[0].parentNode;
	var parentChildren = parent.childNodes;
	var a = [];

	for ( var i=0, ien=parentChildren.length ; i<ien ; i++ ) {
		a.push( parentChildren[i] );
	}

	for ( var j=0, jen=a.length ; j<jen ; j++ ) {
		node.appendChild( a[j] );
	}

	_childNodeStore[ name ] = undefined;
}



Responsive.renderer = {
	listHiddenNodes: function () {
		return function ( api, rowIdx, columns ) {
			var ul = $('<ul data-dtr-index="'+rowIdx+'" class="dtr-details"/>');
			var found = false;

			var data = $.each( columns, function ( i, col ) {
				if ( col.hidden ) {
					var klass = col.className ?
						'class="'+ col.className +'"' :
						'';

						$(
						'<li '+klass+' data-dtr-index="'+col.columnIndex+'" data-dt-row="'+col.rowIndex+'" data-dt-column="'+col.columnIndex+'">'+
							'<span class="dtr-title">'+
								col.title+
							'</span> '+
						'</li>'
					)
						.append( $('<span class="dtr-data"/>').append( _childNodes( api, col.rowIndex, col.columnIndex ) ) )
						.appendTo( ul );

					found = true;
				}
			} );

			return found ?
				ul :
				false;
		};
	},

	listHidden: function () {
		return function ( api, rowIdx, columns ) {
			var data = $.map( columns, function ( col ) {
				var klass = col.className ?
					'class="'+ col.className +'"' :
					'';

				return col.hidden ?
					'<li '+klass+' data-dtr-index="'+col.columnIndex+'" data-dt-row="'+col.rowIndex+'" data-dt-column="'+col.columnIndex+'">'+
						'<span class="dtr-title">'+
							col.title+
						'</span> '+
						'<span class="dtr-data">'+
							col.data+
						'</span>'+
					'</li>' :
					'';
			} ).join('');

			return data ?
				$('<ul data-dtr-index="'+rowIdx+'" class="dtr-details"/>').append( data ) :
				false;
		}
	},

	tableAll: function ( options ) {
		options = $.extend( {
			tableClass: ''
		}, options );

		return function ( api, rowIdx, columns ) {
			var data = $.map( columns, function ( col ) {
				var klass = col.className ?
					'class="'+ col.className +'"' :
					'';

				return '<tr '+klass+' data-dt-row="'+col.rowIndex+'" data-dt-column="'+col.columnIndex+'">'+
						'<td>'+col.title+':'+'</td> '+
						'<td>'+col.data+'</td>'+
					'</tr>';
			} ).join('');

			return $('<table class="'+options.tableClass+' dtr-details" width="100%"/>').append( data );
		}
	}
};


Responsive.defaults = {

	breakpoints: Responsive.breakpoints,


	auto: true,


	details: {
		display: Responsive.display.childRow,

		renderer: Responsive.renderer.listHidden(),

		target: 0,

		type: 'inline'
	},


	orthogonal: 'display'
};



var Api = $.fn.dataTable.Api;

Api.register( 'responsive()', function () {
	return this;
} );

Api.register( 'responsive.index()', function ( li ) {
	li = $(li);

	return {
		column: li.data('dtr-index'),
		row:    li.parent().data('dtr-index')
	};
} );

Api.register( 'responsive.rebuild()', function () {
	return this.iterator( 'table', function ( ctx ) {
		if ( ctx._responsive ) {
			ctx._responsive._classLogic();
		}
	} );
} );

Api.register( 'responsive.recalc()', function () {
	return this.iterator( 'table', function ( ctx ) {
		if ( ctx._responsive ) {
			ctx._responsive._resizeAuto();
			ctx._responsive._resize();
		}
	} );
} );

Api.register( 'responsive.hasHidden()', function () {
	var ctx = this.context[0];

	return ctx._responsive ?
		$.inArray( false, ctx._responsive._responsiveOnlyHidden() ) !== -1 :
		false;
} );

Api.registerPlural( 'columns().responsiveHidden()', 'column().responsiveHidden()', function () {
	return this.iterator( 'column', function ( settings, column ) {
		return settings._responsive ?
			settings._responsive._responsiveOnlyHidden()[ column ] :
			false;
	}, 1 );
} );



Responsive.version = '2.2.7';


$.fn.dataTable.Responsive = Responsive;
$.fn.DataTable.Responsive = Responsive;

$(document).on( 'preInit.dt.dtr', function (e, settings, json) {
	if ( e.namespace !== 'dt' ) {
		return;
	}

	if ( $(settings.nTable).hasClass( 'responsive' ) ||
		 $(settings.nTable).hasClass( 'dt-responsive' ) ||
		 settings.oInit.responsive ||
		 DataTable.defaults.responsive
	) {
		var init = settings.oInit.responsive;

		if ( init !== false ) {
			new Responsive( settings, $.isPlainObject( init ) ? init : {}  );
		}
	}
} );


return Responsive;
}));






(function( factory ){
	if ( typeof define === 'function' && define.amd ) {
		define( ['jquery', 'datatables.net'], function ( $ ) {
			return factory( $, window, document );
		} );
	}
	else if ( typeof exports === 'object' ) {
		module.exports = function (root, $) {
			if ( ! root ) {
				root = window;
			}

			if ( ! $ || ! $.fn.dataTable ) {
				$ = require('datatables.net')(root, $).$;
			}

			return factory( $, root, root.document );
		};
	}
	else {
		factory( jQuery, window, document );
	}
}(function( $, window, document, undefined ) {
'use strict';
var DataTable = $.fn.dataTable;


var RowGroup = function ( dt, opts ) {
	if ( ! DataTable.versionCheck || ! DataTable.versionCheck( '1.10.8' ) ) {
		throw 'RowGroup requires DataTables 1.10.8 or newer';
	}

	this.c = $.extend( true, {},
		DataTable.defaults.rowGroup,
		RowGroup.defaults,
		opts
	);

	this.s = {
		dt: new DataTable.Api( dt )
	};

	this.dom = {

	};

	var settings = this.s.dt.settings()[0];
	var existing = settings.rowGroup;
	if ( existing ) {
		return existing;
	}

	settings.rowGroup = this;
	this._constructor();
};


$.extend( RowGroup.prototype, {



	dataSrc: function ( val )
	{
		if ( val === undefined ) {
			return this.c.dataSrc;
		}

		var dt = this.s.dt;

		this.c.dataSrc = val;

		$(dt.table().node()).triggerHandler( 'rowgroup-datasrc.dt', [ dt, val ] );

		return this;
	},


	disable: function ()
	{
		this.c.enable = false;
		return this;
	},


	enable: function ( flag )
	{
		if ( flag === false ) {
			return this.disable();
		}

		this.c.enable = true;
		return this;
	},


	enabled: function ()
	{
		return this.c.enable;
	},



	_constructor: function ()
	{
		var that = this;
		var dt = this.s.dt;
		var hostSettings = dt.settings()[0];

		dt.on( 'draw.dtrg', function (e, s) {
			if ( that.c.enable && hostSettings === s ) {
				that._draw();
			}
		} );

		dt.on( 'column-visibility.dt.dtrg responsive-resize.dt.dtrg', function () {
			that._adjustColspan();
		} );

		dt.on( 'destroy', function () {
			dt.off( '.dtrg' );
		} );
	},





	_adjustColspan: function ()
	{
		$( 'tr.'+this.c.className, this.s.dt.table().body() ).find('td:visible')
			.attr( 'colspan', this._colspan() );
	},


	_colspan: function ()
	{
		return this.s.dt.columns().visible().reduce( function (a, b) {
			return a + b;
		}, 0 );
	},



	_draw: function ()
	{
		var dt = this.s.dt;
		var groupedRows = this._group( 0, dt.rows( { page: 'current' } ).indexes() );

		this._groupDisplay( 0, groupedRows );
	},


	_group: function ( level, rows ) {
		var fns = $.isArray( this.c.dataSrc ) ? this.c.dataSrc : [ this.c.dataSrc ];
		var fn = DataTable.ext.oApi._fnGetObjectDataFn( fns[ level ] );
		var dt = this.s.dt;
		var group, last;
		var data = [];
		var that = this;

		for ( var i=0, ien=rows.length ; i<ien ; i++ ) {
			var rowIndex = rows[i];
			var rowData = dt.row( rowIndex ).data();
			var group = fn( rowData );

			if ( group === null || group === undefined ) {
				group = that.c.emptyDataGroup;
			}

						if ( last === undefined || group !== last ) {
				data.push( {
					dataPoint: group,
					rows: []
				} );

				last = group;
			}

			data[ data.length-1 ].rows.push( rowIndex );
		}

		if ( fns[ level+1 ] !== undefined ) {
			for ( var i=0, ien=data.length ; i<ien ; i++ ) {
				data[i].children = this._group( level+1, data[i].rows );
			}
		}

		return data;
	},


	_groupDisplay: function ( level, groups )
	{
		var dt = this.s.dt;
		var display;

			for ( var i=0, ien=groups.length ; i<ien ; i++ ) {
			var group = groups[i];
			var groupName = group.dataPoint;
			var row;
			var rows = group.rows;

			if ( this.c.startRender ) {
				display = this.c.startRender.call( this, dt.rows(rows), groupName, level );
				row = this._rowWrap( display, this.c.startClassName, level );

				if ( row ) {
					row.insertBefore( dt.row( rows[0] ).node() );
				}
			}

			if ( this.c.endRender ) {
				display = this.c.endRender.call( this, dt.rows(rows), groupName, level );
				row = this._rowWrap( display, this.c.endClassName, level );

				if ( row ) {
					row.insertAfter( dt.row( rows[ rows.length-1 ] ).node() );
				}
			}

			if ( group.children ) {
				this._groupDisplay( level+1, group.children );
			}
		}
	},


	_rowWrap: function ( display, className, level )
	{
		var row;

				if ( display === null || display === '' ) {
			display = this.c.emptyDataGroup;
		}

		if ( display === undefined || display === null ) {
			return null;
		}

				if ( typeof display === 'object' && display.nodeName && display.nodeName.toLowerCase() === 'tr') {
			row = $(display);
		}
		else if (display instanceof $ && display.length && display[0].nodeName.toLowerCase() === 'tr') {
			row = display;
		}
		else {
			row = $('<tr/>')
				.append(
					$('<td/>')
						.attr( 'colspan', this._colspan() )
						.append( display  )
				);
		}

		return row
			.addClass( this.c.className )
			.addClass( className )
			.addClass( 'dtrg-level-'+level );
	}
} );



RowGroup.defaults = {

	className: 'dtrg-group',


	dataSrc: 0,


	emptyDataGroup: 'No group',


	enable: true,


	endClassName: 'dtrg-end',


	endRender: null,


	startClassName: 'dtrg-start',


	startRender: function ( rows, group ) {
		return group;
	}
};


RowGroup.version = "1.1.2";


$.fn.dataTable.RowGroup = RowGroup;
$.fn.DataTable.RowGroup = RowGroup;


DataTable.Api.register( 'rowGroup()', function () {
	return this;
} );

DataTable.Api.register( 'rowGroup().disable()', function () {
	return this.iterator( 'table', function (ctx) {
		if ( ctx.rowGroup ) {
			ctx.rowGroup.enable( false );
		}
	} );
} );

DataTable.Api.register( 'rowGroup().enable()', function ( opts ) {
	return this.iterator( 'table', function (ctx) {
		if ( ctx.rowGroup ) {
			ctx.rowGroup.enable( opts === undefined ? true : opts );
		}
	} );
} );

DataTable.Api.register( 'rowGroup().enabled()', function () {
	var ctx = this.context;

	return ctx.length && ctx[0].rowGroup ?
		ctx[0].rowGroup.enabled() :
		false;
} );

DataTable.Api.register( 'rowGroup().dataSrc()', function ( val ) {
	if ( val === undefined ) {
		return this.context[0].rowGroup.dataSrc();
	}

	return this.iterator( 'table', function (ctx) {
		if ( ctx.rowGroup ) {
			ctx.rowGroup.dataSrc( val );
		}
	} );
} );


$(document).on( 'preInit.dt.dtrg', function (e, settings, json) {
	if ( e.namespace !== 'dt' ) {
		return;
	}

	var init = settings.oInit.rowGroup;
	var defaults = DataTable.defaults.rowGroup;

	if ( init || defaults ) {
		var opts = $.extend( {}, defaults, init );

		if ( init !== false ) {
			new RowGroup( settings, opts  );
		}
	}
} );


return RowGroup;

}));






(function( factory ){
	if ( typeof define === 'function' && define.amd ) {
		define( ['jquery', 'datatables.net'], function ( $ ) {
			return factory( $, window, document );
		} );
	}
	else if ( typeof exports === 'object' ) {
		module.exports = function (root, $) {
			if ( ! root ) {
				root = window;
			}

			if ( ! $ || ! $.fn.dataTable ) {
				$ = require('datatables.net')(root, $).$;
			}

			return factory( $, root, root.document );
		};
	}
	else {
		factory( jQuery, window, document );
	}
}(function( $, window, document, undefined ) {
'use strict';
var DataTable = $.fn.dataTable;



var Scroller = function ( dt, opts ) {

	if ( ! (this instanceof Scroller) ) {
		alert( "Scroller warning: Scroller must be initialised with the 'new' keyword." );
		return;
	}

	if ( opts === undefined ) {
		opts = {};
	}

	var dtApi = $.fn.dataTable.Api( dt );


	this.s = {

		dt: dtApi.settings()[0],


		dtApi: dtApi,


		tableTop: 0,


		tableBottom: 0,


		redrawTop: 0,


		redrawBottom: 0,


		autoHeight: true,


		viewportRows: 0,


		stateTO: null,

		stateSaveThrottle: function () {},


		drawTO: null,

		heights: {
			jump: null,
			page: null,
			virtual: null,
			scroll: null,


			row: null,


			viewport: null,
			labelFactor: 1
		},

		topRowFloat: 0,
		scrollDrawDiff: null,
		loaderVisible: false,
		forceReposition: false,
		baseRowTop: 0,
		baseScrollTop: 0,
		mousedown: false,
		lastScrollTop: 0
	};

	this.s = $.extend( this.s, Scroller.oDefaults, opts );

	this.s.heights.row = this.s.rowHeight;


	this.dom = {
		"force":    document.createElement('div'),
		"label":    $('<div class="dts_label">0</div>'),
		"scroller": null,
		"table":    null,
		"loader":   null
	};

	if ( this.s.dt.oScroller ) {
		return;
	}

	this.s.dt.oScroller = this;


	this.construct();
};



$.extend( Scroller.prototype, {



	measure: function ( redraw )
	{
		if ( this.s.autoHeight )
		{
			this._calcRowHeight();
		}

		var heights = this.s.heights;

		if ( heights.row ) {
			heights.viewport = this._parseHeight($(this.dom.scroller).css('max-height'));

			this.s.viewportRows = parseInt( heights.viewport / heights.row, 10 )+1;
			this.s.dt._iDisplayLength = this.s.viewportRows * this.s.displayBuffer;
		}

		var label = this.dom.label.outerHeight();
		heights.labelFactor = (heights.viewport-label) / heights.scroll;

		if ( redraw === undefined || redraw )
		{
			this.s.dt.oInstance.fnDraw( false );
		}
	},


	pageInfo: function()
	{
		var 
			dt = this.s.dt,
			iScrollTop = this.dom.scroller.scrollTop,
			iTotal = dt.fnRecordsDisplay(),
			iPossibleEnd = Math.ceil(this.pixelsToRow(iScrollTop + this.s.heights.viewport, false, this.s.ani));

		return {
			start: Math.floor(this.pixelsToRow(iScrollTop, false, this.s.ani)),
			end: iTotal < iPossibleEnd ? iTotal-1 : iPossibleEnd-1
		};
	},


	pixelsToRow: function ( pixels, intParse, virtual )
	{
		var diff = pixels - this.s.baseScrollTop;
		var row = virtual ?
			(this._domain( 'physicalToVirtual', this.s.baseScrollTop ) + diff) / this.s.heights.row :
			( diff / this.s.heights.row ) + this.s.baseRowTop;

		return intParse || intParse === undefined ?
			parseInt( row, 10 ) :
			row;
	},


	rowToPixels: function ( rowIdx, intParse, virtual )
	{
		var pixels;
		var diff = rowIdx - this.s.baseRowTop;

		if ( virtual ) {
			pixels = this._domain( 'virtualToPhysical', this.s.baseScrollTop );
			pixels += diff * this.s.heights.row;
		}
		else {
			pixels = this.s.baseScrollTop;
			pixels += diff * this.s.heights.row;
		}

		return intParse || intParse === undefined ?
			parseInt( pixels, 10 ) :
			pixels;
	},



	scrollToRow: function ( row, animate )
	{
		var that = this;
		var ani = false;
		var px = this.rowToPixels( row );

		var preRows = ((this.s.displayBuffer-1)/2) * this.s.viewportRows;
		var drawRow = row - preRows;
		if ( drawRow < 0 ) {
			drawRow = 0;
		}

		if ( (px > this.s.redrawBottom || px < this.s.redrawTop) && this.s.dt._iDisplayStart !== drawRow ) {
			ani = true;
			px = this._domain( 'virtualToPhysical', row * this.s.heights.row );

			if ( this.s.redrawTop < px && px < this.s.redrawBottom ) {
				this.s.forceReposition = true;
				animate = false;
			}
		}

		if ( animate === undefined || animate )
		{
			this.s.ani = ani;
			$(this.dom.scroller).animate( {
				"scrollTop": px
			}, function () {
				setTimeout( function () {
					that.s.ani = false;
				}, 250 );
			} );
		}
		else
		{
			$(this.dom.scroller).scrollTop( px );
		}
	},





	construct: function ()
	{
		var that = this;
		var dt = this.s.dtApi;


		if ( !this.s.dt.oFeatures.bPaginate ) {
			this.s.dt.oApi._fnLog( this.s.dt, 0, 'Pagination must be enabled for Scroller' );
			return;
		}


		this.dom.force.style.position = "relative";
		this.dom.force.style.top = "0px";
		this.dom.force.style.left = "0px";
		this.dom.force.style.width = "1px";

		this.dom.scroller = $('div.'+this.s.dt.oClasses.sScrollBody, this.s.dt.nTableWrapper)[0];
		this.dom.scroller.appendChild( this.dom.force );
		this.dom.scroller.style.position = "relative";

		this.dom.table = $('>table', this.dom.scroller)[0];
		this.dom.table.style.position = "absolute";
		this.dom.table.style.top = "0px";
		this.dom.table.style.left = "0px";

		$(dt.table().container()).addClass('dts DTS');

		if ( this.s.loadingIndicator )
		{
			this.dom.loader = $('<div class="dataTables_processing dts_loading">'+this.s.dt.oLanguage.sLoadingRecords+'</div>')
				.css('display', 'none');

			$(this.dom.scroller.parentNode)
				.css('position', 'relative')
				.append( this.dom.loader );
		}

		this.dom.label.appendTo(this.dom.scroller);


		if ( this.s.heights.row && this.s.heights.row != 'auto' )
		{
			this.s.autoHeight = false;
		}

		this.s.ingnoreScroll = true;
		$(this.dom.scroller).on( 'scroll.dt-scroller', function (e) {
			that._scroll.call( that );
		} );

		$(this.dom.scroller).on('touchstart.dt-scroller', function () {
			that._scroll.call( that );
		} );

		$(this.dom.scroller)
			.on('mousedown.dt-scroller', function () {
				that.s.mousedown = true;
			})
			.on('mouseup.dt-scroller', function () {
				that.s.labelVisible = false;
				that.s.mousedown = false;
				that.dom.label.css('display', 'none');
			});

		$(window).on( 'resize.dt-scroller', function () {
			that.measure( false );
			that._info();
		} );

		var initialStateSave = true;
		var loadedState = dt.state.loaded();

		dt.on( 'stateSaveParams.scroller', function ( e, settings, data ) {
			if ( initialStateSave && loadedState ) {
				data.scroller = loadedState.scroller;
				initialStateSave = false;
			}
			else {
				data.scroller = {
					topRow: that.s.topRowFloat,
					baseScrollTop: that.s.baseScrollTop,
					baseRowTop: that.s.baseRowTop,
					scrollTop: that.s.lastScrollTop
				};
			}
		} );

		if ( loadedState && loadedState.scroller ) {
			this.s.topRowFloat = loadedState.scroller.topRow;
			this.s.baseScrollTop = loadedState.scroller.baseScrollTop;
			this.s.baseRowTop = loadedState.scroller.baseRowTop;
		}

		this.measure( false );

			that.s.stateSaveThrottle = that.s.dt.oApi._fnThrottle( function () {
			that.s.dtApi.state.save();
		}, 500 );

		dt.on( 'init.scroller', function () {
			that.measure( false );

			that.s.scrollType = 'jump';
			that._draw();

			dt.on( 'draw.scroller', function () {
				that._draw();
			});
		} );

		dt.on( 'preDraw.dt.scroller', function () {
			that._scrollForce();
		} );

		dt.on( 'destroy.scroller', function () {
			$(window).off( 'resize.dt-scroller' );
			$(that.dom.scroller).off('.dt-scroller');
			$(that.s.dt.nTable).off( '.scroller' );

			$(that.s.dt.nTableWrapper).removeClass('DTS');
			$('div.DTS_Loading', that.dom.scroller.parentNode).remove();

			that.dom.table.style.position = "";
			that.dom.table.style.top = "";
			that.dom.table.style.left = "";
		} );
	},





	_calcRowHeight: function ()
	{
		var dt = this.s.dt;
		var origTable = dt.nTable;
		var nTable = origTable.cloneNode( false );
		var tbody = $('<tbody/>').appendTo( nTable );
		var container = $(
			'<div class="'+dt.oClasses.sWrapper+' DTS">'+
				'<div class="'+dt.oClasses.sScrollWrapper+'">'+
					'<div class="'+dt.oClasses.sScrollBody+'"></div>'+
				'</div>'+
			'</div>'
		);

		$('tbody tr:lt(4)', origTable).clone().appendTo( tbody );
        var rowsCount = $('tr', tbody).length;

        if ( rowsCount === 1 ) {
            tbody.prepend('<tr><td>&#160;</td></tr>');
            tbody.append('<tr><td>&#160;</td></tr>');
		}
		else {
            for (; rowsCount < 3; rowsCount++) {
                tbody.append('<tr><td>&#160;</td></tr>');
            }
		}

			$('div.'+dt.oClasses.sScrollBody, container).append( nTable );

		var insertEl = this.s.dt.nHolding || origTable.parentNode;

		if ( ! $(insertEl).is(':visible') ) {
			insertEl = 'body';
		}

		container.find("input").removeAttr("name");

		container.appendTo( insertEl );
		this.s.heights.row = $('tr', tbody).eq(1).outerHeight();

		container.remove();
	},


	_draw: function ()
	{
		var
			that = this,
			heights = this.s.heights,
			iScrollTop = this.dom.scroller.scrollTop,
			iTableHeight = $(this.s.dt.nTable).height(),
			displayStart = this.s.dt._iDisplayStart,
			displayLen = this.s.dt._iDisplayLength,
			displayEnd = this.s.dt.fnRecordsDisplay();

		this.s.skip = true;

		if ( (this.s.dt.bSorted || this.s.dt.bFiltered) && displayStart === 0 && !this.s.dt._drawHold ) {
			this.s.topRowFloat = 0;
		}

		iScrollTop = this.s.scrollType === 'jump' ?
			this._domain( 'virtualToPhysical', this.s.topRowFloat * heights.row ) :
			iScrollTop;

		this.s.baseScrollTop = iScrollTop;
		this.s.baseRowTop = this.s.topRowFloat;

		var tableTop = iScrollTop - ((this.s.topRowFloat - displayStart) * heights.row);
		if ( displayStart === 0 ) {
			tableTop = 0;
		}
		else if ( displayStart + displayLen >= displayEnd ) {
			tableTop = heights.scroll - iTableHeight;
		}

		this.dom.table.style.top = tableTop+'px';


		this.s.tableTop = tableTop;
		this.s.tableBottom = iTableHeight + this.s.tableTop;

		var boundaryPx = (iScrollTop - this.s.tableTop) * this.s.boundaryScale;
		this.s.redrawTop = iScrollTop - boundaryPx;
		this.s.redrawBottom = iScrollTop + boundaryPx > heights.scroll - heights.viewport - heights.row ?
			heights.scroll - heights.viewport - heights.row :
			iScrollTop + boundaryPx;

		this.s.skip = false;

		if ( this.s.dt.oFeatures.bStateSave && this.s.dt.oLoadedState !== null &&
			 typeof this.s.dt.oLoadedState.scroller != 'undefined' )
		{
			var ajaxSourced = (this.s.dt.sAjaxSource || that.s.dt.ajax) && ! this.s.dt.oFeatures.bServerSide ?
				true :
				false;

			if ( ( ajaxSourced && this.s.dt.iDraw == 2) ||
			     (!ajaxSourced && this.s.dt.iDraw == 1) )
			{
				setTimeout( function () {
					$(that.dom.scroller).scrollTop( that.s.dt.oLoadedState.scroller.scrollTop );

					setTimeout( function () {
						that.s.ingnoreScroll = false;
					}, 0 );
				}, 0 );
			}
		}
		else {
			that.s.ingnoreScroll = false;
		}

		if ( this.s.dt.oFeatures.bInfo ) {
			setTimeout( function () {
				that._info.call( that );
			}, 0 );
		}

		if ( this.dom.loader && this.s.loaderVisible ) {
			this.dom.loader.css( 'display', 'none' );
			this.s.loaderVisible = false;
		}
	},


	_domain: function ( dir, val )
	{
		var heights = this.s.heights;
		var diff;
		var magic = 10000; 

		if ( heights.virtual === heights.scroll ) {
			return val;
		}

		if ( val < magic ) {
			return val;
		}
		else if ( dir === 'virtualToPhysical' && val >= heights.virtual - magic ) {
			diff = heights.virtual - val;
			return heights.scroll - diff;
		}
		else if ( dir === 'physicalToVirtual' && val >= heights.scroll - magic ) {
			diff = heights.scroll - val;
			return heights.virtual - diff;
		}

		var m = (heights.virtual - magic - magic) / (heights.scroll - magic - magic);
		var c = magic - (m*magic);

		return dir === 'virtualToPhysical' ?
			(val-c) / m :
			(m*val) + c;
	},


	_info: function ()
	{
		if ( !this.s.dt.oFeatures.bInfo )
		{
			return;
		}

		var
			dt = this.s.dt,
			language = dt.oLanguage,
			iScrollTop = this.dom.scroller.scrollTop,
			iStart = Math.floor( this.pixelsToRow(iScrollTop, false, this.s.ani)+1 ),
			iMax = dt.fnRecordsTotal(),
			iTotal = dt.fnRecordsDisplay(),
			iPossibleEnd = Math.ceil( this.pixelsToRow(iScrollTop+this.s.heights.viewport, false, this.s.ani) ),
			iEnd = iTotal < iPossibleEnd ? iTotal : iPossibleEnd,
			sStart = dt.fnFormatNumber( iStart ),
			sEnd = dt.fnFormatNumber( iEnd ),
			sMax = dt.fnFormatNumber( iMax ),
			sTotal = dt.fnFormatNumber( iTotal ),
			sOut;

		if ( dt.fnRecordsDisplay() === 0 &&
			   dt.fnRecordsDisplay() == dt.fnRecordsTotal() )
		{

			sOut = language.sInfoEmpty+ language.sInfoPostFix;
		}
		else if ( dt.fnRecordsDisplay() === 0 )
		{

			sOut = language.sInfoEmpty +' '+
				language.sInfoFiltered.replace('_MAX_', sMax)+
					language.sInfoPostFix;
		}
		else if ( dt.fnRecordsDisplay() == dt.fnRecordsTotal() )
		{

			sOut = language.sInfo.
					replace('_START_', sStart).
					replace('_END_',   sEnd).
					replace('_MAX_',   sMax).
					replace('_TOTAL_', sTotal)+
				language.sInfoPostFix;
		}
		else
		{

			sOut = language.sInfo.
					replace('_START_', sStart).
					replace('_END_',   sEnd).
					replace('_MAX_',   sMax).
					replace('_TOTAL_', sTotal) +' '+
				language.sInfoFiltered.replace(
					'_MAX_',
					dt.fnFormatNumber(dt.fnRecordsTotal())
				)+
				language.sInfoPostFix;
		}

		var callback = language.fnInfoCallback;
		if ( callback ) {
			sOut = callback.call( dt.oInstance,
				dt, iStart, iEnd, iMax, iTotal, sOut
			);
		}

		var n = dt.aanFeatures.i;
		if ( typeof n != 'undefined' )
		{
			for ( var i=0, iLen=n.length ; i<iLen ; i++ )
			{
				$(n[i]).html( sOut );
			}
		}

		$(dt.nTable).triggerHandler( 'info.dt' );
	},


	_parseHeight: function(cssHeight) {
		var height;
		var matches = /^([+-]?(?:\d+(?:\.\d+)?|\.\d+))(px|em|rem|vh)$/.exec(cssHeight);

		if (matches === null) {
			return 0;
		}

		var value = parseFloat(matches[1]);
		var unit = matches[2];

		if ( unit === 'px' ) {
			height = value;
		}
		else if ( unit === 'vh' ) {
			height = ( value / 100 ) * $(window).height();
		}
		else if ( unit === 'rem' ) {
			height = value * parseFloat($(':root').css('font-size'));
		}
		else if ( unit === 'em' ) {
			height = value * parseFloat($('body').css('font-size'));
		}

		return height ?
			height :
			0;
	},


	_scroll: function ()
	{
		var
			that = this,
			heights = this.s.heights,
			iScrollTop = this.dom.scroller.scrollTop,
			iTopRow;

		if ( this.s.skip ) {
			return;
		}

		if ( this.s.ingnoreScroll ) {
			return;
		}

		if ( iScrollTop === this.s.lastScrollTop ) {
			return;
		}


		if ( this.s.dt.bFiltered || this.s.dt.bSorted ) {
			this.s.lastScrollTop = 0;
			return;
		}


		this._info();


		clearTimeout( this.s.stateTO );
		this.s.stateTO = setTimeout( function () {
			that.s.dtApi.state.save();
		}, 250 );

		this.s.scrollType = Math.abs(iScrollTop - this.s.lastScrollTop) > heights.viewport ?
			'jump' :
			'cont';

		this.s.topRowFloat = this.s.scrollType === 'cont' ?
			this.pixelsToRow( iScrollTop, false, false ) :
			this._domain( 'physicalToVirtual', iScrollTop ) / heights.row;

		if ( this.s.topRowFloat < 0 ) {
			this.s.topRowFloat = 0;
		}


		if ( this.s.forceReposition || iScrollTop < this.s.redrawTop || iScrollTop > this.s.redrawBottom ) {
			var preRows = Math.ceil( ((this.s.displayBuffer-1)/2) * this.s.viewportRows );

			iTopRow = parseInt(this.s.topRowFloat, 10) - preRows;
			this.s.forceReposition = false;

			if ( iTopRow <= 0 ) {

				iTopRow = 0;
			}
			else if ( iTopRow + this.s.dt._iDisplayLength > this.s.dt.fnRecordsDisplay() ) {

				iTopRow = this.s.dt.fnRecordsDisplay() - this.s.dt._iDisplayLength;
				if ( iTopRow < 0 ) {
					iTopRow = 0;
				}
			}
			else if ( iTopRow % 2 !== 0 ) {
				iTopRow++;
			}

			this.s.targetTop = iTopRow;

			if ( iTopRow != this.s.dt._iDisplayStart ) {

				this.s.tableTop = $(this.s.dt.nTable).offset().top;
				this.s.tableBottom = $(this.s.dt.nTable).height() + this.s.tableTop;

				var draw = function () {
					that.s.dt._iDisplayStart = that.s.targetTop;
					that.s.dt.oApi._fnDraw( that.s.dt );
				};


				if ( this.s.dt.oFeatures.bServerSide ) {
					this.s.forceReposition = true;

					clearTimeout( this.s.drawTO );
					this.s.drawTO = setTimeout( draw, this.s.serverWait );
				}
				else {
					draw();
				}

				if ( this.dom.loader && ! this.s.loaderVisible ) {
					this.dom.loader.css( 'display', 'block' );
					this.s.loaderVisible = true;
				}
			}
		}
		else {
			this.s.topRowFloat = this.pixelsToRow( iScrollTop, false, true );
		}

		this.s.lastScrollTop = iScrollTop;
		this.s.stateSaveThrottle();

		if ( this.s.scrollType === 'jump' && this.s.mousedown ) {
			this.s.labelVisible = true;
		}
		if (this.s.labelVisible) {
			this.dom.label
				.html( this.s.dt.fnFormatNumber( parseInt( this.s.topRowFloat, 10 )+1 ) )
				.css( 'top', iScrollTop + (iScrollTop * heights.labelFactor ) )
				.css( 'display', 'block' );
		}
	},


	_scrollForce: function ()
	{
		var heights = this.s.heights;
		var max = 1000000;

		heights.virtual = heights.row * this.s.dt.fnRecordsDisplay();
		heights.scroll = heights.virtual;

		if ( heights.scroll > max ) {
			heights.scroll = max;
		}

		this.dom.force.style.height = heights.scroll > this.s.heights.row ?
			heights.scroll+'px' :
			this.s.heights.row+'px';
	}
} );







Scroller.defaults = {

	boundaryScale: 0.5,


	displayBuffer: 9,


	loadingIndicator: false,


	rowHeight: "auto",


	serverWait: 200
};

Scroller.oDefaults = Scroller.defaults;






Scroller.version = "2.0.3";





$(document).on( 'preInit.dt.dtscroller', function (e, settings) {
	if ( e.namespace !== 'dt' ) {
		return;
	}

	var init = settings.oInit.scroller;
	var defaults = DataTable.defaults.scroller;

	if ( init || defaults ) {
		var opts = $.extend( {}, init, defaults );

		if ( init !== false ) {
			new Scroller( settings, opts  );
		}
	}
} );


$.fn.dataTable.Scroller = Scroller;
$.fn.DataTable.Scroller = Scroller;


var Api = $.fn.dataTable.Api;

Api.register( 'scroller()', function () {
	return this;
} );

Api.register( 'scroller().rowToPixels()', function ( rowIdx, intParse, virtual ) {
	var ctx = this.context;

	if ( ctx.length && ctx[0].oScroller ) {
		return ctx[0].oScroller.rowToPixels( rowIdx, intParse, virtual );
	}
} );

Api.register( 'scroller().pixelsToRow()', function ( pixels, intParse, virtual ) {
	var ctx = this.context;

	if ( ctx.length && ctx[0].oScroller ) {
		return ctx[0].oScroller.pixelsToRow( pixels, intParse, virtual );
	}
} );

Api.register( ['scroller().scrollToRow()', 'scroller.toPosition()'], function ( idx, ani ) {
	this.iterator( 'table', function ( ctx ) {
		if ( ctx.oScroller ) {
			ctx.oScroller.scrollToRow( idx, ani );
		}
	} );

	return this;
} );

Api.register( 'row().scrollTo()', function ( ani ) {
	var that = this;

	this.iterator( 'row', function ( ctx, rowIdx ) {
		if ( ctx.oScroller ) {
			var displayIdx = that
				.rows( { order: 'applied', search: 'applied' } )
				.indexes()
				.indexOf( rowIdx );

			ctx.oScroller.scrollToRow( displayIdx, ani );
		}
	} );

	return this;
} );

Api.register( 'scroller.measure()', function ( redraw ) {
	this.iterator( 'table', function ( ctx ) {
		if ( ctx.oScroller ) {
			ctx.oScroller.measure( redraw );
		}
	} );

	return this;
} );

Api.register( 'scroller.page()', function() {
	var ctx = this.context;

	if ( ctx.length && ctx[0].oScroller ) {
		return ctx[0].oScroller.pageInfo();
	}
} );

return Scroller;
}));



(function () {
    'use strict';

    var $;
    var DataTable;
    function setJQuery(jq) {
        $ = jq;
        DataTable = jq.fn.dataTable;
    }
    var SearchPane =  (function () {

        function SearchPane(paneSettings, opts, idx, layout, panesContainer, panes) {
            var _this = this;
            if (panes === void 0) { panes = null; }
            if (!DataTable || !DataTable.versionCheck || !DataTable.versionCheck('1.10.0')) {
                throw new Error('SearchPane requires DataTables 1.10 or newer');
            }
            if (!DataTable.select) {
                throw new Error('SearchPane requires Select');
            }
            var table = new DataTable.Api(paneSettings);
            this.classes = $.extend(true, {}, SearchPane.classes);
            this.c = $.extend(true, {}, SearchPane.defaults, opts);
            this.customPaneSettings = panes;
            this.s = {
                cascadeRegen: false,
                clearing: false,
                colOpts: [],
                deselect: false,
                displayed: false,
                dt: table,
                dtPane: undefined,
                filteringActive: false,
                index: idx,
                indexes: [],
                lastCascade: false,
                lastSelect: false,
                listSet: false,
                name: undefined,
                redraw: false,
                rowData: {
                    arrayFilter: [],
                    arrayOriginal: [],
                    arrayTotals: [],
                    bins: {},
                    binsOriginal: {},
                    binsTotal: {},
                    filterMap: new Map(),
                    totalOptions: 0
                },
                scrollTop: 0,
                searchFunction: undefined,
                selectPresent: false,
                serverSelect: [],
                serverSelecting: false,
                showFiltered: false,
                tableLength: null,
                updating: false
            };
            var rowLength = table.columns().eq(0).toArray().length;
            this.colExists = this.s.index < rowLength;
            this.c.layout = layout;
            var layVal = parseInt(layout.split('-')[1], 10);
            this.dom = {
                buttonGroup: $('<div/>').addClass(this.classes.buttonGroup),
                clear: $('<button type="button">&#215;</button>')
                    .addClass(this.classes.dull)
                    .addClass(this.classes.paneButton)
                    .addClass(this.classes.clearButton),
                container: $('<div/>').addClass(this.classes.container).addClass(this.classes.layout +
                    (layVal < 10 ? layout : layout.split('-')[0] + '-9')),
                countButton: $('<button type="button"></button>')
                    .addClass(this.classes.paneButton)
                    .addClass(this.classes.countButton),
                dtP: $('<table><thead><tr><th>' +
                    (this.colExists
                        ? $(table.column(this.colExists ? this.s.index : 0).header()).text()
                        : this.customPaneSettings.header || 'Custom Pane') + '</th><th/></tr></thead></table>'),
                lower: $('<div/>').addClass(this.classes.subRow2).addClass(this.classes.narrowButton),
                nameButton: $('<button type="button"></button>').addClass(this.classes.paneButton).addClass(this.classes.nameButton),
                panesContainer: panesContainer,
                searchBox: $('<input/>').addClass(this.classes.paneInputButton).addClass(this.classes.search),
                searchButton: $('<button type = "button" class="' + this.classes.searchIcon + '"></button>')
                    .addClass(this.classes.paneButton),
                searchCont: $('<div/>').addClass(this.classes.searchCont),
                searchLabelCont: $('<div/>').addClass(this.classes.searchLabelCont),
                topRow: $('<div/>').addClass(this.classes.topRow),
                upper: $('<div/>').addClass(this.classes.subRow1).addClass(this.classes.narrowSearch)
            };
            this.s.displayed = false;
            table = this.s.dt;
            this.selections = [];
            this.s.colOpts = this.colExists ? this._getOptions() : this._getBonusOptions();
            var colOpts = this.s.colOpts;
            var clear = $('<button type="button">X</button>').addClass(this.classes.paneButton);
            $(clear).text(table.i18n('searchPanes.clearPane', 'X'));
            this.dom.container.addClass(colOpts.className);
            this.dom.container.addClass((this.customPaneSettings !== null && this.customPaneSettings.className !== undefined)
                ? this.customPaneSettings.className
                : '');
            if (this.s.colOpts.name !== undefined) {
                this.s.name = this.s.colOpts.name;
            }
            else if (this.customPaneSettings !== null && this.customPaneSettings.name !== undefined) {
                this.s.name = this.customPaneSettings.name;
            }
            else {
                this.s.name = this.colExists ?
                    $(table.column(this.s.index).header()).text() :
                    this.customPaneSettings.header || 'Custom Pane';
            }
            $(panesContainer).append(this.dom.container);
            var tableNode = table.table(0).node();
            this.s.searchFunction = function (settings, searchData, dataIndex, origData) {
                if (_this.selections.length === 0) {
                    return true;
                }
                if (settings.nTable !== tableNode) {
                    return true;
                }
                var filter = null;
                if (_this.colExists) {
                    filter = searchData[_this.s.index];
                    if (colOpts.orthogonal.filter !== 'filter') {
                        filter = _this.s.rowData.filterMap.get(dataIndex);
                        if (filter instanceof $.fn.dataTable.Api) {
                            filter = filter.toArray();
                        }
                    }
                }
                return _this._search(filter, dataIndex);
            };
            $.fn.dataTable.ext.search.push(this.s.searchFunction);
            if (this.c.clear) {
                $(clear).on('click', function () {
                    var searches = _this.dom.container.find(_this.classes.search);
                    searches.each(function () {
                        $(this).val('');
                        $(this).trigger('input');
                    });
                    _this.clearPane();
                });
            }
            table.on('draw.dtsp', function () {
                _this._adjustTopRow();
            });
            table.on('buttons-action', function () {
                _this._adjustTopRow();
            });
            $(window).on('resize.dtsp', DataTable.util.throttle(function () {
                _this._adjustTopRow();
            }));
            table.on('column-reorder.dtsp', function (e, settings, details) {
                _this.s.index = details.mapping[_this.s.index];
            });
            return this;
        }

        SearchPane.prototype.clearData = function () {
            this.s.rowData = {
                arrayFilter: [],
                arrayOriginal: [],
                arrayTotals: [],
                bins: {},
                binsOriginal: {},
                binsTotal: {},
                filterMap: new Map(),
                totalOptions: 0
            };
        };

        SearchPane.prototype.clearPane = function () {
            this.s.dtPane.rows({ selected: true }).deselect();
            this.updateTable();
            return this;
        };

        SearchPane.prototype.destroy = function () {
            $(this.s.dtPane).off('.dtsp');
            $(this.s.dt).off('.dtsp');
            $(this.dom.nameButton).off('.dtsp');
            $(this.dom.countButton).off('.dtsp');
            $(this.dom.clear).off('.dtsp');
            $(this.dom.searchButton).off('.dtsp');
            $(this.dom.container).remove();
            var searchIdx = $.fn.dataTable.ext.search.indexOf(this.s.searchFunction);
            while (searchIdx !== -1) {
                $.fn.dataTable.ext.search.splice(searchIdx, 1);
                searchIdx = $.fn.dataTable.ext.search.indexOf(this.s.searchFunction);
            }
            if (this.s.dtPane !== undefined) {
                this.s.dtPane.destroy();
            }
            this.s.listSet = false;
        };

        SearchPane.prototype.getPaneCount = function () {
            return this.s.dtPane !== undefined ?
                this.s.dtPane.rows({ selected: true }).data().toArray().length :
                0;
        };

        SearchPane.prototype.rebuildPane = function (last, dataIn, init, maintainSelection) {
            if (last === void 0) { last = false; }
            if (dataIn === void 0) { dataIn = null; }
            if (init === void 0) { init = null; }
            if (maintainSelection === void 0) { maintainSelection = false; }
            this.clearData();
            var selectedRows = [];
            this.s.serverSelect = [];
            var prevEl = null;
            if (this.s.dtPane !== undefined) {
                if (maintainSelection) {
                    if (!this.s.dt.page.info().serverSide) {
                        selectedRows = this.s.dtPane.rows({ selected: true }).data().toArray();
                    }
                    else {
                        this.s.serverSelect = this.s.dtPane.rows({ selected: true }).data().toArray();
                    }
                }
                this.s.dtPane.clear().destroy();
                prevEl = $(this.dom.container).prev();
                this.destroy();
                this.s.dtPane = undefined;
                $.fn.dataTable.ext.search.push(this.s.searchFunction);
            }
            this.dom.container.removeClass(this.classes.hidden);
            this.s.displayed = false;
            this._buildPane(!this.s.dt.page.info().serverSide ?
                selectedRows :
                this.s.serverSelect, last, dataIn, init, prevEl);
            return this;
        };

        SearchPane.prototype.removePane = function () {
            this.s.displayed = false;
            $(this.dom.container).hide();
        };

        SearchPane.prototype.setCascadeRegen = function (val) {
            this.s.cascadeRegen = val;
        };

        SearchPane.prototype.setClear = function (val) {
            this.s.clearing = val;
        };

        SearchPane.prototype.updatePane = function (draw) {
            if (draw === void 0) { draw = false; }
            this.s.updating = true;
            this._updateCommon(draw);
            this.s.updating = false;
        };

        SearchPane.prototype.updateTable = function () {
            var selectedRows = this.s.dtPane.rows({ selected: true }).data().toArray();
            this.selections = selectedRows;
            this._searchExtras();
            if (this.c.cascadePanes || this.c.viewTotal) {
                this.updatePane();
            }
        };

        SearchPane.prototype._setListeners = function () {
            var _this = this;
            var rowData = this.s.rowData;
            var t0;
            this.s.dtPane.on('select.dtsp', function () {
                clearTimeout(t0);
                if (_this.s.dt.page.info().serverSide && !_this.s.updating) {
                    if (!_this.s.serverSelecting) {
                        _this.s.serverSelect = _this.s.dtPane.rows({ selected: true }).data().toArray();
                        _this.s.scrollTop = $(_this.s.dtPane.table().node()).parent()[0].scrollTop;
                        _this.s.selectPresent = true;
                        _this.s.dt.draw(false);
                    }
                }
                else {
                    $(_this.dom.clear).removeClass(_this.classes.dull);
                    _this.s.selectPresent = true;
                    if (!_this.s.updating) {
                        _this._makeSelection();
                    }
                    _this.s.selectPresent = false;
                }
            });
            this.s.dtPane.on('deselect.dtsp', function () {
                t0 = setTimeout(function () {
                    if (_this.s.dt.page.info().serverSide && !_this.s.updating) {
                        if (!_this.s.serverSelecting) {
                            _this.s.serverSelect = _this.s.dtPane.rows({ selected: true }).data().toArray();
                            _this.s.deselect = true;
                            _this.s.dt.draw(false);
                        }
                    }
                    else {
                        _this.s.deselect = true;
                        if (_this.s.dtPane.rows({ selected: true }).data().toArray().length === 0) {
                            $(_this.dom.clear).addClass(_this.classes.dull);
                        }
                        _this._makeSelection();
                        _this.s.deselect = false;
                        _this.s.dt.state.save();
                    }
                }, 50);
            });
            this.s.dt.on('stateSaveParams.dtsp', function (e, settings, data) {
                if ($.isEmptyObject(data)) {
                    _this.s.dtPane.state.clear();
                    return;
                }
                var selected = [];
                var searchTerm;
                var order;
                var bins;
                var arrayFilter;
                if (_this.s.dtPane !== undefined) {
                    selected = _this.s.dtPane.rows({ selected: true }).data().map(function (item) { return item.filter.toString(); }).toArray();
                    searchTerm = $(_this.dom.searchBox).val();
                    order = _this.s.dtPane.order();
                    bins = rowData.binsOriginal;
                    arrayFilter = rowData.arrayOriginal;
                }
                if (data.searchPanes === undefined) {
                    data.searchPanes = {};
                }
                if (data.searchPanes.panes === undefined) {
                    data.searchPanes.panes = [];
                }
                for (var i = 0; i < data.searchPanes.panes.length; i++) {
                    if (data.searchPanes.panes[i].id === _this.s.index) {
                        data.searchPanes.panes.splice(i, 1);
                        i--;
                    }
                }
                data.searchPanes.panes.push({
                    arrayFilter: arrayFilter,
                    bins: bins,
                    id: _this.s.index,
                    order: order,
                    searchTerm: searchTerm,
                    selected: selected
                });
            });
            this.s.dtPane.on('user-select.dtsp', function (e, _dt, type, cell, originalEvent) {
                originalEvent.stopPropagation();
            });
            this.s.dtPane.on('draw.dtsp', function () {
                _this._adjustTopRow();
            });
            $(this.dom.nameButton).on('click.dtsp', function () {
                var currentOrder = _this.s.dtPane.order()[0][1];
                _this.s.dtPane.order([0, currentOrder === 'asc' ? 'desc' : 'asc']).draw();
                _this.s.dt.state.save();
            });
            $(this.dom.countButton).on('click.dtsp', function () {
                var currentOrder = _this.s.dtPane.order()[0][1];
                _this.s.dtPane.order([1, currentOrder === 'asc' ? 'desc' : 'asc']).draw();
                _this.s.dt.state.save();
            });
            $(this.dom.clear).on('click.dtsp', function () {
                var searches = _this.dom.container.find('.' + _this.classes.search);
                searches.each(function () {
                    $(this).val('');
                    $(this).trigger('input');
                });
                _this.clearPane();
            });
            $(this.dom.searchButton).on('click.dtsp', function () {
                $(_this.dom.searchBox).focus();
            });
            $(this.dom.searchBox).on('input.dtsp', function () {
                _this.s.dtPane.search($(_this.dom.searchBox).val()).draw();
                _this.s.dt.state.save();
            });
            this.s.dt.state.save();
            return true;
        };

        SearchPane.prototype._addOption = function (filter, display, sort, type, arrayFilter, bins) {
            if (Array.isArray(filter) || filter instanceof DataTable.Api) {
                if (filter instanceof DataTable.Api) {
                    filter = filter.toArray();
                    display = display.toArray();
                }
                if (filter.length === display.length) {
                    for (var i = 0; i < filter.length; i++) {
                        if (!bins[filter[i]]) {
                            bins[filter[i]] = 1;
                            arrayFilter.push({
                                display: display[i],
                                filter: filter[i],
                                sort: sort[i],
                                type: type[i]
                            });
                        }
                        else {
                            bins[filter[i]]++;
                        }
                        this.s.rowData.totalOptions++;
                    }
                    return;
                }
                else {
                    throw new Error('display and filter not the same length');
                }
            }
            else if (typeof this.s.colOpts.orthogonal === 'string') {
                if (!bins[filter]) {
                    bins[filter] = 1;
                    arrayFilter.push({
                        display: display,
                        filter: filter,
                        sort: sort,
                        type: type
                    });
                    this.s.rowData.totalOptions++;
                }
                else {
                    bins[filter]++;
                    this.s.rowData.totalOptions++;
                    return;
                }
            }
            else {
                arrayFilter.push({
                    display: display,
                    filter: filter,
                    sort: sort,
                    type: type
                });
            }
        };

        SearchPane.prototype._addRow = function (display, filter, shown, total, sort, type, className) {
            var index;
            for (var _i = 0, _a = this.s.indexes; _i < _a.length; _i++) {
                var entry = _a[_i];
                if (entry.filter === filter) {
                    index = entry.index;
                }
            }
            if (index === undefined) {
                index = this.s.indexes.length;
                this.s.indexes.push({ filter: filter, index: index });
            }
            return this.s.dtPane.row.add({
                className: className,
                display: display !== '' ?
                    display :
                    this.s.colOpts.emptyMessage !== false ?
                        this.s.colOpts.emptyMessage :
                        this.c.emptyMessage,
                filter: filter,
                index: index,
                shown: shown,
                sort: sort !== '' ?
                    sort :
                    this.s.colOpts.emptyMessage !== false ?
                        this.s.colOpts.emptyMessage :
                        this.c.emptyMessage,
                total: total,
                type: type
            });
        };

        SearchPane.prototype._adjustTopRow = function () {
            var subContainers = this.dom.container.find('.' + this.classes.subRowsContainer);
            var subRow1 = this.dom.container.find('.dtsp-subRow1');
            var subRow2 = this.dom.container.find('.dtsp-subRow2');
            var topRow = this.dom.container.find('.' + this.classes.topRow);
            if (($(subContainers[0]).width() < 252 || $(topRow[0]).width() < 252) && $(subContainers[0]).width() !== 0) {
                $(subContainers[0]).addClass(this.classes.narrow);
                $(subRow1[0]).addClass(this.classes.narrowSub).removeClass(this.classes.narrowSearch);
                $(subRow2[0]).addClass(this.classes.narrowSub).removeClass(this.classes.narrowButton);
            }
            else {
                $(subContainers[0]).removeClass(this.classes.narrow);
                $(subRow1[0]).removeClass(this.classes.narrowSub).addClass(this.classes.narrowSearch);
                $(subRow2[0]).removeClass(this.classes.narrowSub).addClass(this.classes.narrowButton);
            }
        };

        SearchPane.prototype._buildPane = function (selectedRows, last, dataIn, init, prevEl) {
            var _this = this;
            if (selectedRows === void 0) { selectedRows = []; }
            if (last === void 0) { last = false; }
            if (dataIn === void 0) { dataIn = null; }
            if (init === void 0) { init = null; }
            if (prevEl === void 0) { prevEl = null; }
            this.selections = [];
            var table = this.s.dt;
            var column = table.column(this.colExists ? this.s.index : 0);
            var colOpts = this.s.colOpts;
            var rowData = this.s.rowData;
            var countMessage = table.i18n('searchPanes.count', '{total}');
            var filteredMessage = table.i18n('searchPanes.countFiltered', '{shown} ({total})');
            var loadedFilter = table.state.loaded();
            if (this.s.listSet) {
                loadedFilter = table.state();
            }
            if (this.colExists) {
                var idx = -1;
                if (loadedFilter && loadedFilter.searchPanes && loadedFilter.searchPanes.panes) {
                    for (var i = 0; i < loadedFilter.searchPanes.panes.length; i++) {
                        if (loadedFilter.searchPanes.panes[i].id === this.s.index) {
                            idx = i;
                            break;
                        }
                    }
                }
                if ((colOpts.show === false
                    || (colOpts.show !== undefined && colOpts.show !== true)) &&
                    idx === -1) {
                    this.dom.container.addClass(this.classes.hidden);
                    this.s.displayed = false;
                    return false;
                }
                else if (colOpts.show === true || idx !== -1) {
                    this.s.displayed = true;
                }
                if (!this.s.dt.page.info().serverSide &&
                    (dataIn === null ||
                        dataIn.searchPanes === null ||
                        dataIn.searchPanes.options === null)) {
                    if (rowData.arrayFilter.length === 0) {
                        this._populatePane(last);
                        this.s.rowData.totalOptions = 0;
                        this._detailsPane();
                        if (loadedFilter && loadedFilter.searchPanes && loadedFilter.searchPanes.panes && idx === -1) {
                            this.dom.container.addClass(this.classes.hidden);
                            this.s.displayed = false;
                            return;
                        }
                        rowData.arrayOriginal = rowData.arrayTotals;
                        rowData.binsOriginal = rowData.binsTotal;
                    }
                    var binLength = Object.keys(rowData.binsOriginal).length;
                    var uniqueRatio = this._uniqueRatio(binLength, table.rows()[0].length);
                    if (this.s.displayed === false && ((colOpts.show === undefined && colOpts.threshold === null ?
                        uniqueRatio > this.c.threshold :
                        uniqueRatio > colOpts.threshold)
                        || (colOpts.show !== true && binLength <= 1))) {
                        this.dom.container.addClass(this.classes.hidden);
                        this.s.displayed = false;
                        return;
                    }
                    if (this.c.viewTotal && rowData.arrayTotals.length === 0) {
                        this.s.rowData.totalOptions = 0;
                        this._detailsPane();
                    }
                    else {
                        rowData.binsTotal = rowData.bins;
                    }
                    this.dom.container.addClass(this.classes.show);
                    this.s.displayed = true;
                }
                else if (dataIn !== null && dataIn.searchPanes !== null && dataIn.searchPanes.options !== null) {
                    if (dataIn.tableLength !== undefined) {
                        this.s.tableLength = dataIn.tableLength;
                        this.s.rowData.totalOptions = this.s.tableLength;
                    }
                    else if (this.s.tableLength === null || table.rows()[0].length > this.s.tableLength) {
                        this.s.tableLength = table.rows()[0].length;
                        this.s.rowData.totalOptions = this.s.tableLength;
                    }
                    var colTitle = table.column(this.s.index).dataSrc();
                    if (dataIn.searchPanes.options[colTitle] !== undefined) {
                        for (var _i = 0, _a = dataIn.searchPanes.options[colTitle]; _i < _a.length; _i++) {
                            var dataPoint = _a[_i];
                            this.s.rowData.arrayFilter.push({
                                display: dataPoint.label,
                                filter: dataPoint.value,
                                sort: dataPoint.label,
                                type: dataPoint.label
                            });
                            this.s.rowData.bins[dataPoint.value] = this.c.viewTotal || this.c.cascadePanes ?
                                dataPoint.count :
                                dataPoint.total;
                            this.s.rowData.binsTotal[dataPoint.value] = dataPoint.total;
                        }
                    }
                    var binLength = Object.keys(rowData.binsTotal).length;
                    var uniqueRatio = this._uniqueRatio(binLength, this.s.tableLength);
                    if (this.s.displayed === false && ((colOpts.show === undefined && colOpts.threshold === null ?
                        uniqueRatio > this.c.threshold :
                        uniqueRatio > colOpts.threshold)
                        || (colOpts.show !== true && binLength <= 1))) {
                        this.dom.container.addClass(this.classes.hidden);
                        this.s.displayed = false;
                        return;
                    }
                    this.s.rowData.arrayOriginal = this.s.rowData.arrayFilter;
                    this.s.rowData.binsOriginal = this.s.rowData.bins;
                    this.s.displayed = true;
                }
            }
            else {
                this.s.displayed = true;
            }
            this._displayPane();
            if (!this.s.listSet) {
                this.dom.dtP.on('stateLoadParams.dt', function (e, settings, data) {
                    if ($.isEmptyObject(table.state.loaded())) {
                        $.each(data, function (index, value) {
                            delete data[index];
                        });
                    }
                });
            }
            if (prevEl !== null && $(this.dom.panesContainer).has(prevEl).length > 0) {
                $(this.dom.container).insertAfter(prevEl);
            }
            else {
                $(this.dom.panesContainer).prepend(this.dom.container);
            }
            var errMode = $.fn.dataTable.ext.errMode;
            $.fn.dataTable.ext.errMode = 'none';
            var haveScroller = DataTable.Scroller;
            this.s.dtPane = $(this.dom.dtP).DataTable($.extend(true, {
                columnDefs: [
                    {
                        className: 'dtsp-nameColumn',
                        data: 'display',
                        render: function (data, type, row) {
                            if (type === 'sort') {
                                return row.sort;
                            }
                            else if (type === 'type') {
                                return row.type;
                            }
                            var message;
                            (_this.s.filteringActive || _this.s.showFiltered) && _this.c.viewTotal
                                ? message = filteredMessage.replace(/{total}/, row.total)
                                : message = countMessage.replace(/{total}/, row.total);
                            message = message.replace(/{shown}/, row.shown);
                            while (message.indexOf('{total}') !== -1) {
                                message = message.replace(/{total}/, row.total);
                            }
                            while (message.indexOf('{shown}') !== -1) {
                                message = message.replace(/{shown}/, row.shown);
                            }
                            var pill = '<span class="' + _this.classes.pill + '">' + message + '</span>';
                            if (_this.c.hideCount || colOpts.hideCount) {
                                pill = '';
                            }
                            return '<div class="' + _this.classes.nameCont + '"><span title="' +
                                (typeof data === 'string' && data.match(/<[^>]*>/) !== null ? data.replace(/<[^>]*>/g, '') : data) +
                                '" class="' + _this.classes.name + '">' +
                                data + '</span>' +
                                pill + '</div>';
                        },
                        targets: 0,
                        type: table.settings()[0].aoColumns[this.s.index] !== undefined ?
                            table.settings()[0].aoColumns[this.s.index]._sManualType :
                            null
                    },
                    {
                        className: 'dtsp-countColumn ' + this.classes.badgePill,
                        data: 'shown',
                        orderData: [1, 2],
                        targets: 1,
                        visible: false
                    },
                    {
                        data: 'total',
                        targets: 2,
                        visible: false
                    }
                ],
                deferRender: true,
                dom: 't',
                info: false,
                language: this.s.dt.settings()[0].oLanguage,
                paging: haveScroller ? true : false,
                scrollX: false,
                scrollY: '200px',
                scroller: haveScroller ? true : false,
                select: true,
                stateSave: table.settings()[0].oFeatures.bStateSave ? true : false
            }, this.c.dtOpts, colOpts !== undefined ? colOpts.dtOpts : {}, (this.s.colOpts.options !== undefined || !this.colExists)
                ? {
                    createdRow: function (row, data, dataIndex) {
                        $(row).addClass(data.className);
                    }
                }
                : undefined, (this.customPaneSettings !== null && this.customPaneSettings.dtOpts !== undefined)
                ? this.customPaneSettings.dtOpts
                : {}));
            $(this.dom.dtP).addClass(this.classes.table);
            $(this.dom.searchBox).attr('placeholder', colOpts.header !== undefined
                ? colOpts.header
                : this.colExists
                    ? table.settings()[0].aoColumns[this.s.index].sTitle
                    : this.customPaneSettings.header || 'Custom Pane');
            $.fn.dataTable.select.init(this.s.dtPane);
            $.fn.dataTable.ext.errMode = errMode;
            if (this.colExists) {
                var search = column.search();
                search = search ? search.substr(1, search.length - 2).split('|') : [];
                var count_1 = 0;
                rowData.arrayFilter.forEach(function (element) {
                    if (element.filter === '') {
                        count_1++;
                    }
                });
                for (var i = 0, ien = rowData.arrayFilter.length; i < ien; i++) {
                    var selected = false;
                    for (var _b = 0, _c = this.s.serverSelect; _b < _c.length; _b++) {
                        var option = _c[_b];
                        if (option.filter === rowData.arrayFilter[i].filter) {
                            selected = true;
                        }
                    }
                    if (this.s.dt.page.info().serverSide &&
                        (!this.c.cascadePanes ||
                            (this.c.cascadePanes && rowData.bins[rowData.arrayFilter[i].filter] !== 0) ||
                            (this.c.cascadePanes && init !== null) ||
                            selected)) {
                        var row = this._addRow(rowData.arrayFilter[i].display, rowData.arrayFilter[i].filter, init ?
                            rowData.binsTotal[rowData.arrayFilter[i].filter] :
                            rowData.bins[rowData.arrayFilter[i].filter], this.c.viewTotal || init
                            ? String(rowData.binsTotal[rowData.arrayFilter[i].filter])
                            : rowData.bins[rowData.arrayFilter[i].filter], rowData.arrayFilter[i].sort, rowData.arrayFilter[i].type);
                        for (var _d = 0, _e = this.s.serverSelect; _d < _e.length; _d++) {
                            var option = _e[_d];
                            if (option.filter === rowData.arrayFilter[i].filter) {
                                this.s.serverSelecting = true;
                                row.select();
                                this.s.serverSelecting = false;
                            }
                        }
                    }
                    else if (!this.s.dt.page.info().serverSide &&
                        rowData.arrayFilter[i] &&
                        (rowData.bins[rowData.arrayFilter[i].filter] !== undefined || !this.c.cascadePanes)) {
                        this._addRow(rowData.arrayFilter[i].display, rowData.arrayFilter[i].filter, rowData.bins[rowData.arrayFilter[i].filter], rowData.binsTotal[rowData.arrayFilter[i].filter], rowData.arrayFilter[i].sort, rowData.arrayFilter[i].type);
                    }
                    else if (!this.s.dt.page.info().serverSide) {
                        this._addRow('', count_1, count_1, '', '', '');
                    }
                }
            }
            DataTable.select.init(this.s.dtPane);
            if (colOpts.options !== undefined ||
                (this.customPaneSettings !== null && this.customPaneSettings.options !== undefined)) {
                this._getComparisonRows();
            }
            this.s.dtPane.draw();
            this._adjustTopRow();
            if (!this.s.listSet) {
                this._setListeners();
                this.s.listSet = true;
            }
            for (var _f = 0, selectedRows_1 = selectedRows; _f < selectedRows_1.length; _f++) {
                var selection = selectedRows_1[_f];
                if (selection !== undefined) {
                    for (var _g = 0, _h = this.s.dtPane.rows().indexes().toArray(); _g < _h.length; _g++) {
                        var row = _h[_g];
                        if (this.s.dtPane.row(row).data() !== undefined && selection.filter === this.s.dtPane.row(row).data().filter) {
                            if (this.s.dt.page.info().serverSide) {
                                this.s.serverSelecting = true;
                                this.s.dtPane.row(row).select();
                                this.s.serverSelecting = false;
                            }
                            else {
                                this.s.dtPane.row(row).select();
                            }
                        }
                    }
                }
            }
            if (this.s.dt.page.info().serverSide) {
                this.s.dtPane.search($(this.dom.searchBox).val()).draw();
            }
            if (loadedFilter &&
                loadedFilter.searchPanes &&
                loadedFilter.searchPanes.panes &&
                (dataIn === null ||
                    dataIn.draw === 1)) {
                if (!this.c.cascadePanes) {
                    this._reloadSelect(loadedFilter);
                }
                for (var _j = 0, _k = loadedFilter.searchPanes.panes; _j < _k.length; _j++) {
                    var pane = _k[_j];
                    if (pane.id === this.s.index) {
                        $(this.dom.searchBox).val(pane.searchTerm);
                        $(this.dom.searchBox).trigger('input');
                        this.s.dtPane.order(pane.order).draw();
                    }
                }
            }
            this.s.dt.state.save();
            return true;
        };

        SearchPane.prototype._detailsPane = function () {
            var table = this.s.dt;
            this.s.rowData.arrayTotals = [];
            this.s.rowData.binsTotal = {};
            var settings = this.s.dt.settings()[0];
            var indexArray = table.rows().indexes();
            if (!this.s.dt.page.info().serverSide) {
                for (var _i = 0, indexArray_1 = indexArray; _i < indexArray_1.length; _i++) {
                    var rowIdx = indexArray_1[_i];
                    this._populatePaneArray(rowIdx, this.s.rowData.arrayTotals, settings, this.s.rowData.binsTotal);
                }
            }
        };

        SearchPane.prototype._displayPane = function () {
            var container = this.dom.container;
            var colOpts = this.s.colOpts;
            var layVal = parseInt(this.c.layout.split('-')[1], 10);
            $(this.dom.topRow).empty();
            $(this.dom.dtP).empty();
            $(this.dom.topRow).addClass(this.classes.topRow);
            if (layVal > 3) {
                $(this.dom.container).addClass(this.classes.smallGap);
            }
            $(this.dom.topRow).addClass(this.classes.subRowsContainer);
            $(this.dom.upper).appendTo(this.dom.topRow);
            $(this.dom.lower).appendTo(this.dom.topRow);
            $(this.dom.searchCont).appendTo(this.dom.upper);
            $(this.dom.buttonGroup).appendTo(this.dom.lower);
            if (this.c.dtOpts.searching === false ||
                (colOpts.dtOpts !== undefined &&
                    colOpts.dtOpts.searching === false) ||
                (!this.c.controls || !colOpts.controls) ||
                (this.customPaneSettings !== null &&
                    this.customPaneSettings.dtOpts !== undefined &&
                    this.customPaneSettings.dtOpts.searching !== undefined &&
                    !this.customPaneSettings.dtOpts.searching)) {
                $(this.dom.searchBox).attr('disabled', 'disabled')
                    .removeClass(this.classes.paneInputButton)
                    .addClass(this.classes.disabledButton);
            }
            $(this.dom.searchBox).appendTo(this.dom.searchCont);
            this._searchContSetup();
            if (this.c.clear && this.c.controls && colOpts.controls) {
                $(this.dom.clear).appendTo(this.dom.buttonGroup);
            }
            if (this.c.orderable && colOpts.orderable && this.c.controls && colOpts.controls) {
                $(this.dom.nameButton).appendTo(this.dom.buttonGroup);
            }
            if (!this.c.hideCount &&
                !colOpts.hideCount &&
                this.c.orderable &&
                colOpts.orderable &&
                this.c.controls &&
                colOpts.controls) {
                $(this.dom.countButton).appendTo(this.dom.buttonGroup);
            }
            $(this.dom.topRow).prependTo(this.dom.container);
            $(container).append(this.dom.dtP);
            $(container).show();
        };

        SearchPane.prototype._getBonusOptions = function () {
            var defaultMutator = {
                orthogonal: {
                    threshold: null
                },
                threshold: null
            };
            return $.extend(true, {}, SearchPane.defaults, defaultMutator, this.c !== undefined ? this.c : {});
        };

        SearchPane.prototype._getComparisonRows = function () {
            var colOpts = this.s.colOpts;
            var options = colOpts.options !== undefined
                ? colOpts.options
                : this.customPaneSettings !== null && this.customPaneSettings.options !== undefined
                    ? this.customPaneSettings.options
                    : undefined;
            if (options === undefined) {
                return;
            }
            var tableVals = this.s.dt.rows({ search: 'applied' }).data().toArray();
            var appRows = this.s.dt.rows({ search: 'applied' });
            var tableValsTotal = this.s.dt.rows().data().toArray();
            var allRows = this.s.dt.rows();
            var rows = [];
            this.s.dtPane.clear();
            for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {
                var comp = options_1[_i];
                var insert = comp.label !== '' ? comp.label : this.c.emptyMessage;
                var comparisonObj = {
                    className: comp.className,
                    display: insert,
                    filter: typeof comp.value === 'function' ? comp.value : [],
                    shown: 0,
                    sort: insert,
                    total: 0,
                    type: insert
                };
                if (typeof comp.value === 'function') {
                    for (var tVal = 0; tVal < tableVals.length; tVal++) {
                        if (comp.value.call(this.s.dt, tableVals[tVal], appRows[0][tVal])) {
                            comparisonObj.shown++;
                        }
                    }
                    for (var i = 0; i < tableValsTotal.length; i++) {
                        if (comp.value.call(this.s.dt, tableValsTotal[i], allRows[0][i])) {
                            comparisonObj.total++;
                        }
                    }
                    if (typeof comparisonObj.filter !== 'function') {
                        comparisonObj.filter.push(comp.filter);
                    }
                }
                if (!this.c.cascadePanes || (this.c.cascadePanes && comparisonObj.shown !== 0)) {
                    rows.push(this._addRow(comparisonObj.display, comparisonObj.filter, comparisonObj.shown, comparisonObj.total, comparisonObj.sort, comparisonObj.type, comparisonObj.className));
                }
            }
            return rows;
        };

        SearchPane.prototype._getOptions = function () {
            var table = this.s.dt;
            var defaultMutator = {
                emptyMessage: false,
                orthogonal: {
                    threshold: null
                },
                threshold: null
            };
            return $.extend(true, {}, SearchPane.defaults, defaultMutator, table.settings()[0].aoColumns[this.s.index].searchPanes);
        };

        SearchPane.prototype._makeSelection = function () {
            this.updateTable();
            this.s.updating = true;
            this.s.dt.draw();
            this.s.updating = false;
        };

        SearchPane.prototype._populatePane = function (last) {
            if (last === void 0) { last = false; }
            var table = this.s.dt;
            this.s.rowData.arrayFilter = [];
            this.s.rowData.bins = {};
            var settings = this.s.dt.settings()[0];
            if (!this.s.dt.page.info().serverSide) {
                var indexArray = (this.c.cascadePanes || this.c.viewTotal) && (!this.s.clearing && !last) ?
                    table.rows({ search: 'applied' }).indexes() :
                    table.rows().indexes();
                for (var _i = 0, _a = indexArray.toArray(); _i < _a.length; _i++) {
                    var index = _a[_i];
                    this._populatePaneArray(index, this.s.rowData.arrayFilter, settings);
                }
            }
        };

        SearchPane.prototype._populatePaneArray = function (rowIdx, arrayFilter, settings, bins) {
            if (bins === void 0) { bins = this.s.rowData.bins; }
            var colOpts = this.s.colOpts;
            if (typeof colOpts.orthogonal === 'string') {
                var rendered = settings.oApi._fnGetCellData(settings, rowIdx, this.s.index, colOpts.orthogonal);
                this.s.rowData.filterMap.set(rowIdx, rendered);
                this._addOption(rendered, rendered, rendered, rendered, arrayFilter, bins);
            }
            else {
                var filter = settings.oApi._fnGetCellData(settings, rowIdx, this.s.index, colOpts.orthogonal.search);
                if (filter === null) {
                    filter = '';
                }
                if (typeof filter === 'string') {
                    filter = filter.replace(/<[^>]*>/g, '');
                }
                this.s.rowData.filterMap.set(rowIdx, filter);
                if (!bins[filter]) {
                    bins[filter] = 1;
                    this._addOption(filter, settings.oApi._fnGetCellData(settings, rowIdx, this.s.index, colOpts.orthogonal.display), settings.oApi._fnGetCellData(settings, rowIdx, this.s.index, colOpts.orthogonal.sort), settings.oApi._fnGetCellData(settings, rowIdx, this.s.index, colOpts.orthogonal.type), arrayFilter, bins);
                    this.s.rowData.totalOptions++;
                }
                else {
                    bins[filter]++;
                    this.s.rowData.totalOptions++;
                    return;
                }
            }
        };

        SearchPane.prototype._reloadSelect = function (loadedFilter) {
            if (loadedFilter === undefined) {
                return;
            }
            var idx;
            for (var i = 0; i < loadedFilter.searchPanes.panes.length; i++) {
                if (loadedFilter.searchPanes.panes[i].id === this.s.index) {
                    idx = i;
                    break;
                }
            }
            if (idx !== undefined) {
                var table = this.s.dtPane;
                var rows = table.rows({ order: 'index' }).data().map(function (item) { return item.filter !== null ?
                    item.filter.toString() :
                    null; }).toArray();
                for (var _i = 0, _a = loadedFilter.searchPanes.panes[idx].selected; _i < _a.length; _i++) {
                    var filter = _a[_i];
                    var id = -1;
                    if (filter !== null) {
                        id = rows.indexOf(filter.toString());
                    }
                    if (id > -1) {
                        this.s.serverSelecting = true;
                        table.row(id).select();
                        this.s.serverSelecting = false;
                    }
                }
            }
        };

        SearchPane.prototype._search = function (filter, dataIndex) {
            var colOpts = this.s.colOpts;
            var table = this.s.dt;
            for (var _i = 0, _a = this.selections; _i < _a.length; _i++) {
                var colSelect = _a[_i];
                if (typeof colSelect.filter === 'string') {
                    colSelect.filter = colSelect.filter.replaceAll('&amp;', '&');
                }
                if (Array.isArray(filter)) {
                    if (filter.indexOf(colSelect.filter) !== -1) {
                        return true;
                    }
                }
                else if (typeof colSelect.filter === 'function') {
                    if (colSelect.filter.call(table, table.row(dataIndex).data(), dataIndex)) {
                        if (colOpts.combiner === 'or') {
                            return true;
                        }
                    }
                    else if (colOpts.combiner === 'and') {
                        return false;
                    }
                }
                else if ((filter === colSelect.filter) ||
                    (!(typeof filter === 'string' && filter.length === 0) && filter == colSelect.filter) ||
                    (colSelect.filter === null && typeof filter === 'string' && filter === '')) {
                    return true;
                }
            }
            if (colOpts.combiner === 'and') {
                return true;
            }
            else {
                return false;
            }
        };

        SearchPane.prototype._searchContSetup = function () {
            if (this.c.controls && this.s.colOpts.controls) {
                $(this.dom.searchButton).appendTo(this.dom.searchLabelCont);
            }
            if (!(this.c.dtOpts.searching === false ||
                this.s.colOpts.dtOpts.searching === false ||
                (this.customPaneSettings !== null &&
                    this.customPaneSettings.dtOpts !== undefined &&
                    this.customPaneSettings.dtOpts.searching !== undefined &&
                    !this.customPaneSettings.dtOpts.searching))) {
                $(this.dom.searchLabelCont).appendTo(this.dom.searchCont);
            }
        };

        SearchPane.prototype._searchExtras = function () {
            var updating = this.s.updating;
            this.s.updating = true;
            var filters = this.s.dtPane.rows({ selected: true }).data().pluck('filter').toArray();
            var nullIndex = filters.indexOf(this.s.colOpts.emptyMessage !== false ?
                this.s.colOpts.emptyMessage :
                this.c.emptyMessage);
            var container = $(this.s.dtPane.table().container());
            if (nullIndex > -1) {
                filters[nullIndex] = '';
            }
            if (filters.length > 0) {
                container.addClass(this.classes.selected);
            }
            else if (filters.length === 0) {
                container.removeClass(this.classes.selected);
            }
            this.s.updating = updating;
        };

        SearchPane.prototype._uniqueRatio = function (bins, rowCount) {
            if (rowCount > 0 &&
                ((this.s.rowData.totalOptions > 0 && !this.s.dt.page.info().serverSide) ||
                    (this.s.dt.page.info().serverSide && this.s.tableLength > 0))) {
                return bins / this.s.rowData.totalOptions;
            }
            else {
                return 1;
            }
        };

        SearchPane.prototype._updateCommon = function (draw) {
            if (draw === void 0) { draw = false; }
            if (!this.s.dt.page.info().serverSide &&
                this.s.dtPane !== undefined &&
                (!this.s.filteringActive || this.c.cascadePanes || draw === true) &&
                (this.c.cascadePanes !== true || this.s.selectPresent !== true) && (!this.s.lastSelect || !this.s.lastCascade)) {
                var colOpts = this.s.colOpts;
                var selected = this.s.dtPane.rows({ selected: true }).data().toArray();
                var scrollTop = $(this.s.dtPane.table().node()).parent()[0].scrollTop;
                var rowData = this.s.rowData;
                this.s.dtPane.clear();
                if (this.colExists) {
                    if (rowData.arrayFilter.length === 0) {
                        this._populatePane();
                    }
                    else if (this.c.cascadePanes
                        && this.s.dt.rows().data().toArray().length === this.s.dt.rows({ search: 'applied' }).data().toArray().length) {
                        rowData.arrayFilter = rowData.arrayOriginal;
                        rowData.bins = rowData.binsOriginal;
                    }
                    else if (this.c.viewTotal || this.c.cascadePanes) {
                        this._populatePane();
                    }
                    if (this.c.viewTotal) {
                        this._detailsPane();
                    }
                    else {
                        rowData.binsTotal = rowData.bins;
                    }
                    if (this.c.viewTotal && !this.c.cascadePanes) {
                        rowData.arrayFilter = rowData.arrayTotals;
                    }
                    var _loop_1 = function (dataP) {
                        if (dataP && ((rowData.bins[dataP.filter] !== undefined && rowData.bins[dataP.filter] !== 0 && this_1.c.cascadePanes)
                            || !this_1.c.cascadePanes
                            || this_1.s.clearing)) {
                            var row = this_1._addRow(dataP.display, dataP.filter, !this_1.c.viewTotal
                                ? rowData.bins[dataP.filter]
                                : rowData.bins[dataP.filter] !== undefined
                                    ? rowData.bins[dataP.filter]
                                    : 0, this_1.c.viewTotal
                                ? String(rowData.binsTotal[dataP.filter])
                                : rowData.bins[dataP.filter], dataP.sort, dataP.type);
                            var selectIndex = selected.findIndex(function (element) {
                                return element.filter === dataP.filter;
                            });
                            if (selectIndex !== -1) {
                                row.select();
                                selected.splice(selectIndex, 1);
                            }
                        }
                    };
                    var this_1 = this;
                    for (var _i = 0, _a = rowData.arrayFilter; _i < _a.length; _i++) {
                        var dataP = _a[_i];
                        _loop_1(dataP);
                    }
                }
                if ((colOpts.searchPanes !== undefined && colOpts.searchPanes.options !== undefined) ||
                    colOpts.options !== undefined ||
                    (this.customPaneSettings !== null && this.customPaneSettings.options !== undefined)) {
                    var rows = this._getComparisonRows();
                    var _loop_2 = function (row) {
                        var selectIndex = selected.findIndex(function (element) {
                            if (element.display === row.data().display) {
                                return true;
                            }
                        });
                        if (selectIndex !== -1) {
                            row.select();
                            selected.splice(selectIndex, 1);
                        }
                    };
                    for (var _b = 0, rows_1 = rows; _b < rows_1.length; _b++) {
                        var row = rows_1[_b];
                        _loop_2(row);
                    }
                }
                for (var _c = 0, selected_1 = selected; _c < selected_1.length; _c++) {
                    var selectedEl = selected_1[_c];
                    var row = this._addRow(selectedEl.display, selectedEl.filter, 0, this.c.viewTotal
                        ? selectedEl.total
                        : 0, selectedEl.display, selectedEl.display);
                    this.s.updating = true;
                    row.select();
                    this.s.updating = false;
                }
                this.s.dtPane.draw();
                this.s.dtPane.table().node().parentNode.scrollTop = scrollTop;
            }
        };
        SearchPane.version = '1.1.0';
        SearchPane.classes = {
            buttonGroup: 'dtsp-buttonGroup',
            buttonSub: 'dtsp-buttonSub',
            clear: 'dtsp-clear',
            clearAll: 'dtsp-clearAll',
            clearButton: 'clearButton',
            container: 'dtsp-searchPane',
            countButton: 'dtsp-countButton',
            disabledButton: 'dtsp-disabledButton',
            dull: 'dtsp-dull',
            hidden: 'dtsp-hidden',
            hide: 'dtsp-hide',
            layout: 'dtsp-',
            name: 'dtsp-name',
            nameButton: 'dtsp-nameButton',
            nameCont: 'dtsp-nameCont',
            narrow: 'dtsp-narrow',
            paneButton: 'dtsp-paneButton',
            paneInputButton: 'dtsp-paneInputButton',
            pill: 'dtsp-pill',
            search: 'dtsp-search',
            searchCont: 'dtsp-searchCont',
            searchIcon: 'dtsp-searchIcon',
            searchLabelCont: 'dtsp-searchButtonCont',
            selected: 'dtsp-selected',
            smallGap: 'dtsp-smallGap',
            subRow1: 'dtsp-subRow1',
            subRow2: 'dtsp-subRow2',
            subRowsContainer: 'dtsp-subRowsContainer',
            title: 'dtsp-title',
            topRow: 'dtsp-topRow'
        };
        SearchPane.defaults = {
            cascadePanes: false,
            clear: true,
            combiner: 'or',
            controls: true,
            container: function (dt) {
                return dt.table().container();
            },
            dtOpts: {},
            emptyMessage: '<i>No Data</i>',
            hideCount: false,
            layout: 'columns-3',
            name: undefined,
            orderable: true,
            orthogonal: {
                display: 'display',
                filter: 'filter',
                hideCount: false,
                search: 'filter',
                show: undefined,
                sort: 'sort',
                threshold: 0.6,
                type: 'type'
            },
            preSelect: [],
            threshold: 0.6,
            viewTotal: false
        };
        return SearchPane;
    }());

    var $$1;
    var DataTable$1;
    function setJQuery$1(jq) {
        $$1 = jq;
        DataTable$1 = jq.fn.dataTable;
    }
    var SearchPanes =  (function () {
        function SearchPanes(paneSettings, opts, fromInit) {
            var _this = this;
            if (fromInit === void 0) { fromInit = false; }
            this.regenerating = false;
            if (!DataTable$1 || !DataTable$1.versionCheck || !DataTable$1.versionCheck('1.10.0')) {
                throw new Error('SearchPane requires DataTables 1.10 or newer');
            }
            if (!DataTable$1.select) {
                throw new Error('SearchPane requires Select');
            }
            var table = new DataTable$1.Api(paneSettings);
            this.classes = $$1.extend(true, {}, SearchPanes.classes);
            this.c = $$1.extend(true, {}, SearchPanes.defaults, opts);
            this.dom = {
                clearAll: $$1('<button type="button">Clear All</button>').addClass(this.classes.clearAll),
                container: $$1('<div/>').addClass(this.classes.panes).text(table.i18n('searchPanes.loadMessage', 'Loading Search Panes...')),
                emptyMessage: $$1('<div/>').addClass(this.classes.emptyMessage),
                options: $$1('<div/>').addClass(this.classes.container),
                panes: $$1('<div/>').addClass(this.classes.container),
                title: $$1('<div/>').addClass(this.classes.title),
                titleRow: $$1('<div/>').addClass(this.classes.titleRow),
                wrapper: $$1('<div/>')
            };
            this.s = {
                colOpts: [],
                dt: table,
                filterCount: 0,
                filterPane: -1,
                page: 0,
                panes: [],
                selectionList: [],
                serverData: {},
                stateRead: false,
                updating: false
            };
            if (table.settings()[0]._searchPanes !== undefined) {
                return;
            }
            this._getState();
            if (this.s.dt.page.info().serverSide) {
                table.on('preXhr.dt', function (e, settings, data) {
                    if (data.searchPanes === undefined) {
                        data.searchPanes = {};
                    }
                    for (var _i = 0, _a = _this.s.selectionList; _i < _a.length; _i++) {
                        var selection = _a[_i];
                        var src = _this.s.dt.column(selection.index).dataSrc();
                        if (data.searchPanes[src] === undefined) {
                            data.searchPanes[src] = {};
                        }
                        for (var i = 0; i < selection.rows.length; i++) {
                            data.searchPanes[src][i] = selection.rows[i].filter;
                        }
                    }
                });
            }
            table.on('xhr', function (e, settings, json, xhr) {
                if (json && json.searchPanes && json.searchPanes.options) {
                    _this.s.serverData = json;
                    _this.s.serverData.tableLength = json.recordsTotal;
                    _this._serverTotals();
                }
            });
            table.settings()[0]._searchPanes = this;
            this.dom.clearAll.text(table.i18n('searchPanes.clearMessage', 'Clear All'));
            if (this.s.dt.settings()[0]._bInitComplete || fromInit) {
                this._paneDeclare(table, paneSettings, opts);
            }
            else {
                table.one('preInit.dt', function (settings) {
                    _this._paneDeclare(table, paneSettings, opts);
                });
            }
            return this;
        }

        SearchPanes.prototype.clearSelections = function () {
            var searches = this.dom.container.find(this.classes.search);
            searches.each(function () {
                $$1(this).val('');
                $$1(this).trigger('input');
            });
            var returnArray = [];
            for (var _i = 0, _a = this.s.panes; _i < _a.length; _i++) {
                var pane = _a[_i];
                if (pane.s.dtPane !== undefined) {
                    returnArray.push(pane.clearPane());
                }
            }
            this.s.dt.draw();
            return returnArray;
        };

        SearchPanes.prototype.getNode = function () {
            return this.dom.container;
        };

        SearchPanes.prototype.rebuild = function (targetIdx, maintainSelection) {
            if (targetIdx === void 0) { targetIdx = false; }
            if (maintainSelection === void 0) { maintainSelection = false; }
            $$1(this.dom.emptyMessage).remove();
            var returnArray = [];
            if (targetIdx === false) {
                $$1(this.dom.panes).empty();
            }
            for (var _i = 0, _a = this.s.panes; _i < _a.length; _i++) {
                var pane = _a[_i];
                if (targetIdx !== false && pane.s.index !== targetIdx) {
                    continue;
                }
                pane.clearData();
                returnArray.push(
                pane.rebuildPane(this.s.selectionList[this.s.selectionList.length - 1] !== undefined ?
                    pane.s.index === this.s.selectionList[this.s.selectionList.length - 1].index :
                    false, this.s.dt.page.info().serverSide ?
                    this.s.serverData :
                    undefined, null, maintainSelection));
                $$1(this.dom.panes).append(pane.dom.container);
            }
            if (!this.s.dt.page.info().serverSide) {
                this.s.dt.draw();
            }
            if (this.c.cascadePanes || this.c.viewTotal) {
                this.redrawPanes(true);
            }
            else {
                this._updateSelection();
            }
            this._updateFilterCount();
            this._attachPaneContainer();
            this.s.dt.draw();
            if (returnArray.length === 1) {
                return returnArray[0];
            }
            else {
                return returnArray;
            }
        };

        SearchPanes.prototype.redrawPanes = function (rebuild) {
            if (rebuild === void 0) { rebuild = false; }
            var table = this.s.dt;
            if (!this.s.updating && !this.s.dt.page.info().serverSide) {
                var filterActive = true;
                var filterPane = this.s.filterPane;
                if (table.rows({ search: 'applied' }).data().toArray().length === table.rows().data().toArray().length) {
                    filterActive = false;
                }
                else if (this.c.viewTotal) {
                    for (var _i = 0, _a = this.s.panes; _i < _a.length; _i++) {
                        var pane = _a[_i];
                        if (pane.s.dtPane !== undefined) {
                            var selectLength = pane.s.dtPane.rows({ selected: true }).data().toArray().length;
                            if (selectLength === 0) {
                                for (var _b = 0, _c = this.s.selectionList; _b < _c.length; _b++) {
                                    var selection = _c[_b];
                                    if (selection.index === pane.s.index && selection.rows.length !== 0) {
                                        selectLength = selection.rows.length;
                                    }
                                }
                            }
                            if (selectLength > 0 && filterPane === -1) {
                                filterPane = pane.s.index;
                            }
                            else if (selectLength > 0) {
                                filterPane = null;
                            }
                        }
                    }
                }
                var deselectIdx = void 0;
                var newSelectionList = [];
                if (!this.regenerating) {
                    for (var _d = 0, _e = this.s.panes; _d < _e.length; _d++) {
                        var pane = _e[_d];
                        if (pane.s.selectPresent) {
                            this.s.selectionList.push({ index: pane.s.index, rows: pane.s.dtPane.rows({ selected: true }).data().toArray(), protect: false });
                            table.state.save();
                            break;
                        }
                        else if (pane.s.deselect) {
                            deselectIdx = pane.s.index;
                            var selectedData = pane.s.dtPane.rows({ selected: true }).data().toArray();
                            if (selectedData.length > 0) {
                                this.s.selectionList.push({ index: pane.s.index, rows: selectedData, protect: true });
                            }
                        }
                    }
                    if (this.s.selectionList.length > 0) {
                        var last = this.s.selectionList[this.s.selectionList.length - 1].index;
                        for (var _f = 0, _g = this.s.panes; _f < _g.length; _f++) {
                            var pane = _g[_f];
                            pane.s.lastSelect = (pane.s.index === last);
                        }
                    }
                    for (var i = 0; i < this.s.selectionList.length; i++) {
                        if (this.s.selectionList[i].index !== deselectIdx || this.s.selectionList[i].protect === true) {
                            var further = false;
                            for (var j = i + 1; j < this.s.selectionList.length; j++) {
                                if (this.s.selectionList[j].index === this.s.selectionList[i].index) {
                                    further = true;
                                }
                            }
                            if (!further) {
                                newSelectionList.push(this.s.selectionList[i]);
                                this.s.selectionList[i].protect = false;
                            }
                        }
                    }
                    var solePane = -1;
                    if (newSelectionList.length === 1) {
                        solePane = newSelectionList[0].index;
                    }
                    for (var _h = 0, _j = this.s.panes; _h < _j.length; _h++) {
                        var pane = _j[_h];
                        if (pane.s.dtPane !== undefined) {
                            var tempFilter = true;
                            pane.s.filteringActive = true;
                            if ((filterPane !== -1 && filterPane !== null && filterPane === pane.s.index) ||
                                filterActive === false ||
                                pane.s.index === solePane) {
                                tempFilter = false;
                                pane.s.filteringActive = false;
                            }
                            pane.updatePane(!tempFilter ? false : filterActive);
                        }
                    }
                    this._updateFilterCount();
                    if (newSelectionList.length > 0 && (newSelectionList.length < this.s.selectionList.length || rebuild)) {
                        this._cascadeRegen(newSelectionList);
                        var last = newSelectionList[newSelectionList.length - 1].index;
                        for (var _k = 0, _l = this.s.panes; _k < _l.length; _k++) {
                            var pane = _l[_k];
                            pane.s.lastSelect = (pane.s.index === last);
                        }
                    }
                    else if (newSelectionList.length > 0) {
                        for (var _m = 0, _o = this.s.panes; _m < _o.length; _m++) {
                            var paneUpdate = _o[_m];
                            if (paneUpdate.s.dtPane !== undefined) {
                                var tempFilter = true;
                                paneUpdate.s.filteringActive = true;
                                if ((filterPane !== -1 && filterPane !== null && filterPane === paneUpdate.s.index) || filterActive === false) {
                                    tempFilter = false;
                                    paneUpdate.s.filteringActive = false;
                                }
                                paneUpdate.updatePane(!tempFilter ? tempFilter : filterActive);
                            }
                        }
                    }
                }
                else {
                    var solePane = -1;
                    if (newSelectionList.length === 1) {
                        solePane = newSelectionList[0].index;
                    }
                    for (var _p = 0, _q = this.s.panes; _p < _q.length; _p++) {
                        var pane = _q[_p];
                        if (pane.s.dtPane !== undefined) {
                            var tempFilter = true;
                            pane.s.filteringActive = true;
                            if ((filterPane !== -1 && filterPane !== null && filterPane === pane.s.index) ||
                                filterActive === false ||
                                pane.s.index === solePane) {
                                tempFilter = false;
                                pane.s.filteringActive = false;
                            }
                            pane.updatePane(!tempFilter ? tempFilter : filterActive);
                        }
                    }
                    this._updateFilterCount();
                }
                if (!filterActive) {
                    this.s.selectionList = [];
                }
            }
        };

        SearchPanes.prototype._attach = function () {
            var _this = this;
            $$1(this.dom.container).removeClass(this.classes.hide);
            $$1(this.dom.titleRow).removeClass(this.classes.hide);
            $$1(this.dom.titleRow).remove();
            $$1(this.dom.title).appendTo(this.dom.titleRow);
            if (this.c.clear) {
                $$1(this.dom.clearAll).appendTo(this.dom.titleRow);
                $$1(this.dom.clearAll).on('click.dtsps', function () {
                    _this.clearSelections();
                });
            }
            $$1(this.dom.titleRow).appendTo(this.dom.container);
            for (var _i = 0, _a = this.s.panes; _i < _a.length; _i++) {
                var pane = _a[_i];
                $$1(pane.dom.container).appendTo(this.dom.panes);
            }
            $$1(this.dom.panes).appendTo(this.dom.container);
            if ($$1('div.' + this.classes.container).length === 0) {
                $$1(this.dom.container).prependTo(this.s.dt);
            }
            return this.dom.container;
        };

        SearchPanes.prototype._attachExtras = function () {
            $$1(this.dom.container).removeClass(this.classes.hide);
            $$1(this.dom.titleRow).removeClass(this.classes.hide);
            $$1(this.dom.titleRow).remove();
            $$1(this.dom.title).appendTo(this.dom.titleRow);
            if (this.c.clear) {
                $$1(this.dom.clearAll).appendTo(this.dom.titleRow);
            }
            $$1(this.dom.titleRow).appendTo(this.dom.container);
            return this.dom.container;
        };

        SearchPanes.prototype._attachMessage = function () {
            var message;
            try {
                message = this.s.dt.i18n('searchPanes.emptyPanes', 'No SearchPanes');
            }
            catch (error) {
                message = null;
            }
            if (message === null) {
                $$1(this.dom.container).addClass(this.classes.hide);
                $$1(this.dom.titleRow).removeClass(this.classes.hide);
                return;
            }
            else {
                $$1(this.dom.container).removeClass(this.classes.hide);
                $$1(this.dom.titleRow).addClass(this.classes.hide);
            }
            $$1(this.dom.emptyMessage).text(message);
            this.dom.emptyMessage.appendTo(this.dom.container);
            return this.dom.container;
        };

        SearchPanes.prototype._attachPaneContainer = function () {
            for (var _i = 0, _a = this.s.panes; _i < _a.length; _i++) {
                var pane = _a[_i];
                if (pane.s.displayed === true) {
                    return this._attach();
                }
            }
            return this._attachMessage();
        };

        SearchPanes.prototype._cascadeRegen = function (newSelectionList) {
            this.regenerating = true;
            var solePane = -1;
            if (newSelectionList.length === 1) {
                solePane = newSelectionList[0].index;
            }
            for (var _i = 0, _a = this.s.panes; _i < _a.length; _i++) {
                var pane = _a[_i];
                pane.setCascadeRegen(true);
                pane.setClear(true);
                if ((pane.s.dtPane !== undefined && pane.s.index === solePane) || pane.s.dtPane !== undefined) {
                    pane.clearPane();
                }
                pane.setClear(false);
            }
            this._makeCascadeSelections(newSelectionList);
            this.s.selectionList = newSelectionList;
            for (var _b = 0, _c = this.s.panes; _b < _c.length; _b++) {
                var pane = _c[_b];
                pane.setCascadeRegen(false);
            }
            this.regenerating = false;
        };

        SearchPanes.prototype._checkMessage = function () {
            for (var _i = 0, _a = this.s.panes; _i < _a.length; _i++) {
                var pane = _a[_i];
                if (pane.s.displayed === true) {
                    return;
                }
            }
            return this._attachMessage();
        };

        SearchPanes.prototype._getState = function () {
            var loadedFilter = this.s.dt.state.loaded();
            if (loadedFilter && loadedFilter.searchPanes && loadedFilter.searchPanes.selectionList !== undefined) {
                this.s.selectionList = loadedFilter.searchPanes.selectionList;
            }
        };

        SearchPanes.prototype._makeCascadeSelections = function (newSelectionList) {
            for (var i = 0; i < newSelectionList.length; i++) {
                var _loop_1 = function (pane) {
                    if (pane.s.index === newSelectionList[i].index && pane.s.dtPane !== undefined) {
                        if (i === newSelectionList.length - 1) {
                            pane.s.lastCascade = true;
                        }
                        if (pane.s.dtPane.rows({ selected: true }).data().toArray().length > 0 && pane.s.dtPane !== undefined) {
                            pane.setClear(true);
                            pane.clearPane();
                            pane.setClear(false);
                        }
                        var _loop_2 = function (row) {
                            pane.s.dtPane.rows().every(function (rowIdx) {
                                if (pane.s.dtPane.row(rowIdx).data() !== undefined &&
                                    row !== undefined &&
                                    pane.s.dtPane.row(rowIdx).data().filter === row.filter) {
                                    pane.s.dtPane.row(rowIdx).select();
                                }
                            });
                        };
                        for (var _i = 0, _a = newSelectionList[i].rows; _i < _a.length; _i++) {
                            var row = _a[_i];
                            _loop_2(row);
                        }
                        this_1._updateFilterCount();
                        pane.s.lastCascade = false;
                    }
                };
                var this_1 = this;
                for (var _i = 0, _a = this.s.panes; _i < _a.length; _i++) {
                    var pane = _a[_i];
                    _loop_1(pane);
                }
            }
            this.s.dt.state.save();
        };

        SearchPanes.prototype._paneDeclare = function (table, paneSettings, opts) {
            var _this = this;
            table
                .columns(this.c.columns.length > 0 ? this.c.columns : undefined)
                .eq(0)
                .each(function (idx) {
                _this.s.panes.push(new SearchPane(paneSettings, opts, idx, _this.c.layout, _this.dom.panes));
            });
            var rowLength = table.columns().eq(0).toArray().length;
            var paneLength = this.c.panes.length;
            for (var i = 0; i < paneLength; i++) {
                var id = rowLength + i;
                this.s.panes.push(new SearchPane(paneSettings, opts, id, this.c.layout, this.dom.panes, this.c.panes[i]));
            }
            if (this.c.order.length > 0) {
                var newPanes = this.c.order.map(function (name, index, values) {
                    return _this._findPane(name);
                });
                this.dom.panes.empty();
                this.s.panes = newPanes;
                for (var _i = 0, _a = this.s.panes; _i < _a.length; _i++) {
                    var pane = _a[_i];
                    this.dom.panes.append(pane.dom.container);
                }
            }
            if (this.s.dt.settings()[0]._bInitComplete) {
                this._startup(table);
            }
            else {
                this.s.dt.settings()[0].aoInitComplete.push({ fn: function () {
                        _this._startup(table);
                    } });
            }
        };

        SearchPanes.prototype._findPane = function (name) {
            for (var _i = 0, _a = this.s.panes; _i < _a.length; _i++) {
                var pane = _a[_i];
                if (name === pane.s.name) {
                    return pane;
                }
            }
        };

        SearchPanes.prototype._serverTotals = function () {
            var selectPresent = false;
            var deselectPresent = false;
            var table = this.s.dt;
            for (var _i = 0, _a = this.s.panes; _i < _a.length; _i++) {
                var pane = _a[_i];
                if (pane.s.selectPresent) {
                    this.s.selectionList.push({ index: pane.s.index, rows: pane.s.dtPane.rows({ selected: true }).data().toArray(), protect: false });
                    table.state.save();
                    pane.s.selectPresent = false;
                    selectPresent = true;
                    break;
                }
                else if (pane.s.deselect) {
                    var selectedData = pane.s.dtPane.rows({ selected: true }).data().toArray();
                    if (selectedData.length > 0) {
                        this.s.selectionList.push({ index: pane.s.index, rows: selectedData, protect: true });
                    }
                    selectPresent = true;
                    deselectPresent = true;
                }
            }
            if (!selectPresent) {
                this.s.selectionList = [];
            }
            else {
                var newSelectionList = [];
                for (var i = 0; i < this.s.selectionList.length; i++) {
                    var further = false;
                    for (var j = i + 1; j < this.s.selectionList.length; j++) {
                        if (this.s.selectionList[j].index === this.s.selectionList[i].index) {
                            further = true;
                        }
                    }
                    if (!further) {
                        var push = false;
                        for (var _b = 0, _c = this.s.panes; _b < _c.length; _b++) {
                            var pane = _c[_b];
                            if (pane.s.index === this.s.selectionList[i].index &&
                                pane.s.dtPane.rows({ selected: true }).data().toArray().length > 0) {
                                push = true;
                            }
                        }
                        if (push) {
                            newSelectionList.push(this.s.selectionList[i]);
                        }
                    }
                }
                this.s.selectionList = newSelectionList;
            }
            var initIdx = -1;
            if (deselectPresent && this.s.selectionList.length === 1) {
                for (var _d = 0, _e = this.s.panes; _d < _e.length; _d++) {
                    var pane = _e[_d];
                    pane.s.lastSelect = false;
                    pane.s.deselect = false;
                    if (pane.s.dtPane !== undefined && pane.s.dtPane.rows({ selected: true }).data().toArray().length > 0) {
                        initIdx = pane.s.index;
                    }
                }
            }
            else if (this.s.selectionList.length > 0) {
                var last = this.s.selectionList[this.s.selectionList.length - 1].index;
                for (var _f = 0, _g = this.s.panes; _f < _g.length; _f++) {
                    var pane = _g[_f];
                    pane.s.lastSelect = (pane.s.index === last);
                    pane.s.deselect = false;
                }
            }
            else if (this.s.selectionList.length === 0) {
                for (var _h = 0, _j = this.s.panes; _h < _j.length; _h++) {
                    var pane = _j[_h];
                    pane.s.lastSelect = false;
                    pane.s.deselect = false;
                }
            }
            $$1(this.dom.panes).empty();
            for (var _k = 0, _l = this.s.panes; _k < _l.length; _k++) {
                var pane = _l[_k];
                if (!pane.s.lastSelect) {
                    pane.rebuildPane(undefined, this.s.dt.page.info().serverSide ? this.s.serverData : undefined, pane.s.index === initIdx ? true : null, true);
                }
                else {
                    pane._setListeners();
                }
                $$1(this.dom.panes).append(pane.dom.container);
                if (pane.s.dtPane !== undefined) {
                    $$1(pane.s.dtPane.table().node()).parent()[0].scrollTop = pane.s.scrollTop;
                    $$1.fn.dataTable.select.init(pane.s.dtPane);
                }
            }
            if (!this.s.dt.page.info().serverSide) {
                this.s.dt.draw();
            }
        };

        SearchPanes.prototype._startup = function (table) {
            var _this = this;
            $$1(this.dom.container).text('');
            this._attachExtras();
            $$1(this.dom.container).append(this.dom.panes);
            $$1(this.dom.panes).empty();
            var loadedFilter = this.s.dt.state.loaded();
            if (this.c.viewTotal && !this.c.cascadePanes) {
                if (loadedFilter !== null &&
                    loadedFilter !== undefined &&
                    loadedFilter.searchPanes !== undefined &&
                    loadedFilter.searchPanes.panes !== undefined) {
                    var filterActive = false;
                    for (var _i = 0, _a = loadedFilter.searchPanes.panes; _i < _a.length; _i++) {
                        var pane = _a[_i];
                        if (pane.selected.length > 0) {
                            filterActive = true;
                            break;
                        }
                    }
                    if (filterActive) {
                        for (var _b = 0, _c = this.s.panes; _b < _c.length; _b++) {
                            var pane = _c[_b];
                            pane.s.showFiltered = true;
                        }
                    }
                }
            }
            for (var _d = 0, _e = this.s.panes; _d < _e.length; _d++) {
                var pane = _e[_d];
                pane.rebuildPane(undefined, Object.keys(this.s.serverData).length > 0 ? this.s.serverData : undefined);
                $$1(this.dom.panes).append(pane.dom.container);
            }
            if (!this.s.dt.page.info().serverSide) {
                this.s.dt.draw();
            }
            if (!this.s.stateRead && loadedFilter !== null && loadedFilter !== undefined) {
                this.s.dt.page((loadedFilter.start / this.s.dt.page.len()));
                this.s.dt.draw('page');
            }
            this.s.stateRead = true;
            if (this.c.viewTotal && !this.c.cascadePanes) {
                for (var _f = 0, _g = this.s.panes; _f < _g.length; _f++) {
                    var pane = _g[_f];
                    pane.updatePane();
                }
            }
            this._updateFilterCount();
            this._checkMessage();
            table.on('preDraw.dtsps', function () {
                _this._updateFilterCount();
                if ((_this.c.cascadePanes || _this.c.viewTotal) && !_this.s.dt.page.info().serverSide) {
                    _this.redrawPanes();
                }
                else {
                    _this._updateSelection();
                }
                _this.s.filterPane = -1;
            });
            this.s.dt.on('stateSaveParams.dtsp', function (e, settings, data) {
                if (data.searchPanes === undefined) {
                    data.searchPanes = {};
                }
                data.searchPanes.selectionList = _this.s.selectionList;
            });
            if (this.s.dt.page.info().serverSide) {
                table.off('page');
                table.on('page', function () {
                    _this.s.page = _this.s.dt.page();
                });
                table.off('preXhr.dt');
                table.on('preXhr.dt', function (e, settings, data) {
                    if (data.searchPanes === undefined) {
                        data.searchPanes = {};
                    }
                    var filterCount = 0;
                    for (var _i = 0, _a = _this.s.panes; _i < _a.length; _i++) {
                        var pane = _a[_i];
                        var src = _this.s.dt.column(pane.s.index).dataSrc();
                        if (data.searchPanes[src] === undefined) {
                            data.searchPanes[src] = {};
                        }
                        if (pane.s.dtPane !== undefined) {
                            var rowData = pane.s.dtPane.rows({ selected: true }).data().toArray();
                            for (var i = 0; i < rowData.length; i++) {
                                data.searchPanes[src][i] = rowData[i].filter;
                                filterCount++;
                            }
                        }
                    }
                    if (_this.c.viewTotal) {
                        _this._prepViewTotal();
                    }
                    if (filterCount > 0) {
                        if (filterCount !== _this.s.filterCount) {
                            data.start = 0;
                            _this.s.page = 0;
                        }
                        else {
                            data.start = _this.s.page * _this.s.dt.page.len();
                        }
                        _this.s.dt.page(_this.s.page);
                        _this.s.filterCount = filterCount;
                    }
                });
            }
            else {
                table.on('preXhr.dt', function (e, settings, data) {
                    for (var _i = 0, _a = _this.s.panes; _i < _a.length; _i++) {
                        var pane = _a[_i];
                        pane.clearData();
                    }
                });
            }
            this.s.dt.on('xhr', function (e, settings, json, xhr) {
                var processing = false;
                if (!_this.s.dt.page.info().serverSide) {
                    _this.s.dt.one('preDraw', function () {
                        if (processing) {
                            return;
                        }
                        var page = _this.s.dt.page();
                        processing = true;
                        $$1(_this.dom.panes).empty();
                        for (var _i = 0, _a = _this.s.panes; _i < _a.length; _i++) {
                            var pane = _a[_i];
                            pane.clearData(); 
                            pane.rebuildPane(_this.s.selectionList[_this.s.selectionList.length - 1] !== undefined ?
                                pane.s.index === _this.s.selectionList[_this.s.selectionList.length - 1].index :
                                false, undefined, undefined, true);
                            $$1(_this.dom.panes).append(pane.dom.container);
                        }
                        if (!_this.s.dt.page.info().serverSide) {
                            _this.s.dt.draw();
                        }
                        if (_this.c.cascadePanes || _this.c.viewTotal) {
                            _this.redrawPanes(_this.c.cascadePanes);
                        }
                        else {
                            _this._updateSelection();
                        }
                        _this._checkMessage();
                        _this.s.dt.one('draw', function () {
                            _this.s.dt.page(page).draw(false);
                        });
                    });
                }
            });
            for (var _h = 0, _j = this.s.panes; _h < _j.length; _h++) {
                var pane = _j[_h];
                if (pane !== undefined &&
                    pane.s.dtPane !== undefined &&
                    ((pane.s.colOpts.preSelect !== undefined && pane.s.colOpts.preSelect.length > 0) ||
                        (pane.customPaneSettings !== null &&
                            pane.customPaneSettings.preSelect !== undefined &&
                            pane.customPaneSettings.preSelect.length > 0))) {
                    var tableLength = pane.s.dtPane.rows().data().toArray().length;
                    for (var i = 0; i < tableLength; i++) {
                        if (pane.s.colOpts.preSelect.indexOf(pane.s.dtPane.cell(i, 0).data()) !== -1 ||
                            (pane.customPaneSettings !== null &&
                                pane.customPaneSettings.preSelect !== undefined &&
                                pane.customPaneSettings.preSelect.indexOf(pane.s.dtPane.cell(i, 0).data()) !== -1)) {
                            pane.s.dtPane.row(i).select();
                        }
                    }
                    pane.updateTable();
                }
            }
            if (this.s.selectionList !== undefined && this.s.selectionList.length > 0) {
                var last = this.s.selectionList[this.s.selectionList.length - 1].index;
                for (var _k = 0, _l = this.s.panes; _k < _l.length; _k++) {
                    var pane = _l[_k];
                    pane.s.lastSelect = (pane.s.index === last);
                }
            }
            if (this.s.selectionList.length > 0 && this.c.cascadePanes) {
                this._cascadeRegen(this.s.selectionList);
            }
            this._updateFilterCount();
            table.on('destroy.dtsps', function () {
                for (var _i = 0, _a = _this.s.panes; _i < _a.length; _i++) {
                    var pane = _a[_i];
                    pane.destroy();
                }
                table.off('.dtsps');
                $$1(_this.dom.clearAll).off('.dtsps');
                $$1(_this.dom.container).remove();
                _this.clearSelections();
            });
            if (this.c.clear) {
                $$1(this.dom.clearAll).on('click.dtsps', function () {
                    _this.clearSelections();
                });
            }
            table.settings()[0]._searchPanes = this;
        };
        SearchPanes.prototype._prepViewTotal = function () {
            var filterPane = this.s.filterPane;
            var filterActive = false;
            for (var _i = 0, _a = this.s.panes; _i < _a.length; _i++) {
                var pane = _a[_i];
                if (pane.s.dtPane !== undefined) {
                    var selectLength = pane.s.dtPane.rows({ selected: true }).data().toArray().length;
                    if (selectLength > 0 && filterPane === -1) {
                        filterPane = pane.s.index;
                        filterActive = true;
                    }
                    else if (selectLength > 0) {
                        filterPane = null;
                    }
                }
            }
            for (var _b = 0, _c = this.s.panes; _b < _c.length; _b++) {
                var pane = _c[_b];
                if (pane.s.dtPane !== undefined) {
                    pane.s.filteringActive = true;
                    if ((filterPane !== -1 && filterPane !== null && filterPane === pane.s.index) || filterActive === false) {
                        pane.s.filteringActive = false;
                    }
                }
            }
        };

        SearchPanes.prototype._updateFilterCount = function () {
            var filterCount = 0;
            for (var _i = 0, _a = this.s.panes; _i < _a.length; _i++) {
                var pane = _a[_i];
                if (pane.s.dtPane !== undefined) {
                    filterCount += pane.getPaneCount();
                }
            }
            var message = this.s.dt.i18n('searchPanes.title', 'Filters Active - %d', filterCount);
            $$1(this.dom.title).text(message);
            if (this.c.filterChanged !== undefined && typeof this.c.filterChanged === 'function') {
                this.c.filterChanged.call(this.s.dt, filterCount);
            }
        };

        SearchPanes.prototype._updateSelection = function () {
            this.s.selectionList = [];
            for (var _i = 0, _a = this.s.panes; _i < _a.length; _i++) {
                var pane = _a[_i];
                if (pane.s.dtPane !== undefined) {
                    this.s.selectionList.push({ index: pane.s.index, rows: pane.s.dtPane.rows({ selected: true }).data().toArray(), protect: false });
                }
            }
            this.s.dt.state.save();
        };
        SearchPanes.version = '1.2.2';
        SearchPanes.classes = {
            clear: 'dtsp-clear',
            clearAll: 'dtsp-clearAll',
            container: 'dtsp-searchPanes',
            emptyMessage: 'dtsp-emptyMessage',
            hide: 'dtsp-hidden',
            panes: 'dtsp-panesContainer',
            search: 'dtsp-search',
            title: 'dtsp-title',
            titleRow: 'dtsp-titleRow'
        };
        SearchPanes.defaults = {
            cascadePanes: false,
            clear: true,
            container: function (dt) {
                return dt.table().container();
            },
            columns: [],
            filterChanged: undefined,
            layout: 'columns-3',
            order: [],
            panes: [],
            viewTotal: false
        };
        return SearchPanes;
    }());


    (function (factory) {
        if (typeof define === 'function' && define.amd) {
            define(['jquery', 'datatables.net'], function ($) {
                return factory($, window, document);
            });
        }
        else if (typeof exports === 'object') {
            module.exports = function (root, $) {
                if (!root) {
                    root = window;
                }
                if (!$ || !$.fn.dataTable) {
                    $ = require('datatables.net')(root, $).$;
                }
                return factory($, root, root.document);
            };
        }
        else {
            factory(window.jQuery, window, document);
        }
    }(function ($, window, document) {
        setJQuery($);
        setJQuery$1($);
        var DataTable = $.fn.dataTable;
        $.fn.dataTable.SearchPanes = SearchPanes;
        $.fn.DataTable.SearchPanes = SearchPanes;
        $.fn.dataTable.SearchPane = SearchPane;
        $.fn.DataTable.SearchPane = SearchPane;
        var apiRegister = $.fn.dataTable.Api.register;
        apiRegister('searchPanes()', function () {
            return this;
        });
        apiRegister('searchPanes.clearSelections()', function () {
            return this.iterator('table', function (ctx) {
                if (ctx._searchPanes) {
                    ctx._searchPanes.clearSelections();
                }
            });
        });
        apiRegister('searchPanes.rebuildPane()', function (targetIdx, maintainSelections) {
            return this.iterator('table', function (ctx) {
                if (ctx._searchPanes) {
                    ctx._searchPanes.rebuild(targetIdx, maintainSelections);
                }
            });
        });
        apiRegister('searchPanes.container()', function () {
            var ctx = this.context[0];
            return ctx._searchPanes
                ? ctx._searchPanes.getNode()
                : null;
        });
        $.fn.dataTable.ext.buttons.searchPanesClear = {
            text: 'Clear Panes',
            action: function (e, dt, node, config) {
                dt.searchPanes.clearSelections();
            }
        };
        $.fn.dataTable.ext.buttons.searchPanes = {
            action: function (e, dt, node, config) {
                e.stopPropagation();
                this.popover(config._panes.getNode(), {
                    align: 'dt-container'
                });
                config._panes.rebuild(undefined, true);
            },
            config: {},
            init: function (dt, node, config) {
                var panes = new $.fn.dataTable.SearchPanes(dt, $.extend({
                    filterChanged: function (count) {
                        dt.button(node).text(dt.i18n('searchPanes.collapse', { 0: 'SearchPanes', _: 'SearchPanes (%d)' }, count));
                    }
                }, config.config));
                var message = dt.i18n('searchPanes.collapse', 'SearchPanes', 0);
                dt.button(node).text(message);
                config._panes = panes;
            },
            text: 'Search Panes'
        };
        function _init(settings, fromPre) {
            if (fromPre === void 0) { fromPre = false; }
            var api = new DataTable.Api(settings);
            var opts = api.init().searchPanes || DataTable.defaults.searchPanes;
            var searchPanes = new SearchPanes(api, opts, fromPre);
            var node = searchPanes.getNode();
            return node;
        }
        $(document).on('preInit.dt.dtsp', function (e, settings, json) {
            if (e.namespace !== 'dt') {
                return;
            }
            if (settings.oInit.searchPanes ||
                DataTable.defaults.searchPanes) {
                if (!settings._searchPanes) {
                    _init(settings, true);
                }
            }
        });
        DataTable.ext.feature.push({
            cFeature: 'P',
            fnInit: _init
        });
        if (DataTable.ext.features) {
            DataTable.ext.features.register('searchPanes', _init);
        }
    }));

}());


(function (factory) {
    if (typeof define === 'function' && define.amd) {
        define(['jquery', 'datatables.net-dt', 'datatables.net-searchpanes'], function ($) {
            return factory($, window, document);
        });
    }
    else if (typeof exports === 'object') {
        module.exports = function (root, $) {
            if (!root) {
                root = window;
            }
            if (!$ || !$.fn.dataTable) {
                $ = require('datatables.net-dt')(root, $).$;
            }
            if (!$.fn.dataTable.SearchPanes) {
                require('datatables.net-searchpanes')(root, $);
            }
            return factory($, root, root.document);
        };
    }
    else {
        factory(jQuery, window, document);
    }
}(function ($, window, document) {
    'use strict';
    var DataTable = $.fn.dataTable;
    return DataTable.searchPanes;
}));





(function( factory ){
	if ( typeof define === 'function' && define.amd ) {
		define( ['jquery', 'datatables.net'], function ( $ ) {
			return factory( $, window, document );
		} );
	}
	else if ( typeof exports === 'object' ) {
		module.exports = function (root, $) {
			if ( ! root ) {
				root = window;
			}

			if ( ! $ || ! $.fn.dataTable ) {
				$ = require('datatables.net')(root, $).$;
			}

			return factory( $, root, root.document );
		};
	}
	else {
		factory( jQuery, window, document );
	}
}(function( $, window, document, undefined ) {
'use strict';
var DataTable = $.fn.dataTable;


DataTable.select = {};

DataTable.select.version = '1.3.3';

DataTable.select.init = function ( dt ) {
	var ctx = dt.settings()[0];
	var init = ctx.oInit.select;
	var defaults = DataTable.defaults.select;
	var opts = init === undefined ?
		defaults :
		init;

	var items = 'row';
	var style = 'api';
	var blurable = false;
	var toggleable = true;
	var info = true;
	var selector = 'td, th';
	var className = 'selected';
	var setStyle = false;

	ctx._select = {};

	if ( opts === true ) {
		style = 'os';
		setStyle = true;
	}
	else if ( typeof opts === 'string' ) {
		style = opts;
		setStyle = true;
	}
	else if ( $.isPlainObject( opts ) ) {
		if ( opts.blurable !== undefined ) {
			blurable = opts.blurable;
		}

				if ( opts.toggleable !== undefined ) {
			toggleable = opts.toggleable;
		}

		if ( opts.info !== undefined ) {
			info = opts.info;
		}

		if ( opts.items !== undefined ) {
			items = opts.items;
		}

		if ( opts.style !== undefined ) {
			style = opts.style;
			setStyle = true;
		}
		else {
			style = 'os';
			setStyle = true;
		}

		if ( opts.selector !== undefined ) {
			selector = opts.selector;
		}

		if ( opts.className !== undefined ) {
			className = opts.className;
		}
	}

	dt.select.selector( selector );
	dt.select.items( items );
	dt.select.style( style );
	dt.select.blurable( blurable );
	dt.select.toggleable( toggleable );
	dt.select.info( info );
	ctx._select.className = className;


	$.fn.dataTable.ext.order['select-checkbox'] = function ( settings, col ) {
		return this.api().column( col, {order: 'index'} ).nodes().map( function ( td ) {
			if ( settings._select.items === 'row' ) {
				return $( td ).parent().hasClass( settings._select.className );
			} else if ( settings._select.items === 'cell' ) {
				return $( td ).hasClass( settings._select.className );
			}
			return false;
		});
	};

	if ( ! setStyle && $( dt.table().node() ).hasClass( 'selectable' ) ) {
		dt.select.style( 'os' );
	}
};







function cellRange( dt, idx, last )
{
	var indexes;
	var columnIndexes;
	var rowIndexes;
	var selectColumns = function ( start, end ) {
		if ( start > end ) {
			var tmp = end;
			end = start;
			start = tmp;
		}

				var record = false;
		return dt.columns( ':visible' ).indexes().filter( function (i) {
			if ( i === start ) {
				record = true;
			}

						if ( i === end ) { 
				record = false;
				return true;
			}

			return record;
		} );
	};

	var selectRows = function ( start, end ) {
		var indexes = dt.rows( { search: 'applied' } ).indexes();

		if ( indexes.indexOf( start ) > indexes.indexOf( end ) ) {
			var tmp = end;
			end = start;
			start = tmp;
		}

		var record = false;
		return indexes.filter( function (i) {
			if ( i === start ) {
				record = true;
			}

						if ( i === end ) {
				record = false;
				return true;
			}

			return record;
		} );
	};

	if ( ! dt.cells( { selected: true } ).any() && ! last ) {
		columnIndexes = selectColumns( 0, idx.column );
		rowIndexes = selectRows( 0 , idx.row );
	}
	else {
		columnIndexes = selectColumns( last.column, idx.column );
		rowIndexes = selectRows( last.row , idx.row );
	}

	indexes = dt.cells( rowIndexes, columnIndexes ).flatten();

	if ( ! dt.cells( idx, { selected: true } ).any() ) {
		dt.cells( indexes ).select();
	}
	else {
		dt.cells( indexes ).deselect();
	}
}


function disableMouseSelection( dt )
{
	var ctx = dt.settings()[0];
	var selector = ctx._select.selector;

	$( dt.table().container() )
		.off( 'mousedown.dtSelect', selector )
		.off( 'mouseup.dtSelect', selector )
		.off( 'click.dtSelect', selector );

	$('body').off( 'click.dtSelect' + _safeId(dt.table().node()) );
}


function enableMouseSelection ( dt )
{
	var container = $( dt.table().container() );
	var ctx = dt.settings()[0];
	var selector = ctx._select.selector;
	var matchSelection;

	container
		.on( 'mousedown.dtSelect', selector, function(e) {
			if ( e.shiftKey || e.metaKey || e.ctrlKey ) {
				container
					.css( '-moz-user-select', 'none' )
					.one('selectstart.dtSelect', selector, function () {
						return false;
					} );
			}

			if ( window.getSelection ) {
				matchSelection = window.getSelection();
			}
		} )
		.on( 'mouseup.dtSelect', selector, function() {
			container.css( '-moz-user-select', '' );
		} )
		.on( 'click.dtSelect', selector, function ( e ) {
			var items = dt.select.items();
			var idx;

			if ( matchSelection ) {
				var selection = window.getSelection();

				if ( ! selection.anchorNode || $(selection.anchorNode).closest('table')[0] === dt.table().node() ) {
					if ( selection !== matchSelection ) {
						return;
					}
				}
			}

			var ctx = dt.settings()[0];
			var wrapperClass = dt.settings()[0].oClasses.sWrapper.trim().replace(/ +/g, '.');

			if ( $(e.target).closest('div.'+wrapperClass)[0] != dt.table().container() ) {
				return;
			}

			var cell = dt.cell( $(e.target).closest('td, th') );

			if ( ! cell.any() ) {
				return;
			}

			var event = $.Event('user-select.dt');
			eventTrigger( dt, event, [ items, cell, e ] );

			if ( event.isDefaultPrevented() ) {
				return;
			}

			var cellIndex = cell.index();
			if ( items === 'row' ) {
				idx = cellIndex.row;
				typeSelect( e, dt, ctx, 'row', idx );
			}
			else if ( items === 'column' ) {
				idx = cell.index().column;
				typeSelect( e, dt, ctx, 'column', idx );
			}
			else if ( items === 'cell' ) {
				idx = cell.index();
				typeSelect( e, dt, ctx, 'cell', idx );
			}

			ctx._select_lastCell = cellIndex;
		} );

	$('body').on( 'click.dtSelect' + _safeId(dt.table().node()), function ( e ) {
		if ( ctx._select.blurable ) {
			if ( $(e.target).parents().filter( dt.table().container() ).length ) {
				return;
			}

			if ( $(e.target).parents('html').length === 0 ) {
			 	return;
			}

			if ( $(e.target).parents('div.DTE').length ) {
				return;
			}

			clear( ctx, true );
		}
	} );
}


function eventTrigger ( api, type, args, any )
{
	if ( any && ! api.flatten().length ) {
		return;
	}

	if ( typeof type === 'string' ) {
		type = type +'.dt';
	}

	args.unshift( api );

	$(api.table().node()).trigger( type, args );
}


function info ( api )
{
	var ctx = api.settings()[0];

	if ( ! ctx._select.info || ! ctx.aanFeatures.i ) {
		return;
	}

	if ( api.select.style() === 'api' ) {
		return;
	}

	var rows    = api.rows( { selected: true } ).flatten().length;
	var columns = api.columns( { selected: true } ).flatten().length;
	var cells   = api.cells( { selected: true } ).flatten().length;

	var add = function ( el, name, num ) {
		el.append( $('<span class="select-item"/>').append( api.i18n(
			'select.'+name+'s',
			{ _: '%d '+name+'s selected', 0: '', 1: '1 '+name+' selected' },
			num
		) ) );
	};

	$.each( ctx.aanFeatures.i, function ( i, el ) {
		el = $(el);

		var output  = $('<span class="select-info"/>');
		add( output, 'row', rows );
		add( output, 'column', columns );
		add( output, 'cell', cells  );

		var exisiting = el.children('span.select-info');
		if ( exisiting.length ) {
			exisiting.remove();
		}

		if ( output.text() !== '' ) {
			el.append( output );
		}
	} );
}


function init ( ctx ) {
	var api = new DataTable.Api( ctx );

	ctx.aoRowCreatedCallback.push( {
		fn: function ( row, data, index ) {
			var i, ien;
			var d = ctx.aoData[ index ];

			if ( d._select_selected ) {
				$( row ).addClass( ctx._select.className );
			}

			for ( i=0, ien=ctx.aoColumns.length ; i<ien ; i++ ) {
				if ( ctx.aoColumns[i]._select_selected || (d._selected_cells && d._selected_cells[i]) ) {
					$(d.anCells[i]).addClass( ctx._select.className );
				}
			}
		},
		sName: 'select-deferRender'
	} );

	api.on( 'preXhr.dt.dtSelect', function (e, settings) {
		if (settings !== api.settings()[0]) {
			return;
		}

		var rows = api.rows( { selected: true } ).ids( true ).filter( function ( d ) {
			return d !== undefined;
		} );

		var cells = api.cells( { selected: true } ).eq(0).map( function ( cellIdx ) {
			var id = api.row( cellIdx.row ).id( true );
			return id ?
				{ row: id, column: cellIdx.column } :
				undefined;
		} ).filter( function ( d ) {
			return d !== undefined;
		} );

		api.one( 'draw.dt.dtSelect', function () {
			api.rows( rows ).select();

			if ( cells.any() ) {
				cells.each( function ( id ) {
					api.cells( id.row, id.column ).select();
				} );
			}
		} );
	} );

	api.on( 'draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt info.dt', function () {
		info( api );
	} );

	api.on( 'destroy.dtSelect', function () {
		api.rows({selected: true}).deselect();

		disableMouseSelection( api );
		api.off( '.dtSelect' );
	} );
}


function rowColumnRange( dt, type, idx, last )
{
	var indexes = dt[type+'s']( { search: 'applied' } ).indexes();
	var idx1 = $.inArray( last, indexes );
	var idx2 = $.inArray( idx, indexes );

	if ( ! dt[type+'s']( { selected: true } ).any() && idx1 === -1 ) {
		indexes.splice( $.inArray( idx, indexes )+1, indexes.length );
	}
	else {
		if ( idx1 > idx2 ) {
			var tmp = idx2;
			idx2 = idx1;
			idx1 = tmp;
		}

		indexes.splice( idx2+1, indexes.length );
		indexes.splice( 0, idx1 );
	}

	if ( ! dt[type]( idx, { selected: true } ).any() ) {
		dt[type+'s']( indexes ).select();
	}
	else {
		indexes.splice( $.inArray( idx, indexes ), 1 );
		dt[type+'s']( indexes ).deselect();
	}
}


function clear( ctx, force )
{
	if ( force || ctx._select.style === 'single' ) {
		var api = new DataTable.Api( ctx );

				api.rows( { selected: true } ).deselect();
		api.columns( { selected: true } ).deselect();
		api.cells( { selected: true } ).deselect();
	}
}


function typeSelect ( e, dt, ctx, type, idx )
{
	var style = dt.select.style();
	var toggleable = dt.select.toggleable();
	var isSelected = dt[type]( idx, { selected: true } ).any();

		if ( isSelected && ! toggleable ) {
		return;
	}

	if ( style === 'os' ) {
		if ( e.ctrlKey || e.metaKey ) {
			dt[type]( idx ).select( ! isSelected );
		}
		else if ( e.shiftKey ) {
			if ( type === 'cell' ) {
				cellRange( dt, idx, ctx._select_lastCell || null );
			}
			else {
				rowColumnRange( dt, type, idx, ctx._select_lastCell ?
					ctx._select_lastCell[type] :
					null
				);
			}
		}
		else {
			var selected = dt[type+'s']( { selected: true } );

			if ( isSelected && selected.flatten().length === 1 ) {
				dt[type]( idx ).deselect();
			}
			else {
				selected.deselect();
				dt[type]( idx ).select();
			}
		}
	} else if ( style == 'multi+shift' ) {
		if ( e.shiftKey ) {
			if ( type === 'cell' ) {
				cellRange( dt, idx, ctx._select_lastCell || null );
			}
			else {
				rowColumnRange( dt, type, idx, ctx._select_lastCell ?
					ctx._select_lastCell[type] :
					null
				);
			}
		}
		else {
			dt[ type ]( idx ).select( ! isSelected );
		}
	}
	else {
		dt[ type ]( idx ).select( ! isSelected );
	}
}

function _safeId( node ) {
	return node.id.replace(/[^a-zA-Z0-9\-\_]/g, '-');
}





$.each( [
	{ type: 'row', prop: 'aoData' },
	{ type: 'column', prop: 'aoColumns' }
], function ( i, o ) {
	DataTable.ext.selector[ o.type ].push( function ( settings, opts, indexes ) {
		var selected = opts.selected;
		var data;
		var out = [];

		if ( selected !== true && selected !== false ) {
			return indexes;
		}

		for ( var i=0, ien=indexes.length ; i<ien ; i++ ) {
			data = settings[ o.prop ][ indexes[i] ];

			if ( (selected === true && data._select_selected === true) ||
			     (selected === false && ! data._select_selected )
			) {
				out.push( indexes[i] );
			}
		}

		return out;
	} );
} );

DataTable.ext.selector.cell.push( function ( settings, opts, cells ) {
	var selected = opts.selected;
	var rowData;
	var out = [];

	if ( selected === undefined ) {
		return cells;
	}

	for ( var i=0, ien=cells.length ; i<ien ; i++ ) {
		rowData = settings.aoData[ cells[i].row ];

		if ( (selected === true && rowData._selected_cells && rowData._selected_cells[ cells[i].column ] === true) ||
		     (selected === false && ( ! rowData._selected_cells || ! rowData._selected_cells[ cells[i].column ] ) )
		) {
			out.push( cells[i] );
		}
	}

	return out;
} );





var apiRegister = DataTable.Api.register;
var apiRegisterPlural = DataTable.Api.registerPlural;

apiRegister( 'select()', function () {
	return this.iterator( 'table', function ( ctx ) {
		DataTable.select.init( new DataTable.Api( ctx ) );
	} );
} );

apiRegister( 'select.blurable()', function ( flag ) {
	if ( flag === undefined ) {
		return this.context[0]._select.blurable;
	}

	return this.iterator( 'table', function ( ctx ) {
		ctx._select.blurable = flag;
	} );
} );

apiRegister( 'select.toggleable()', function ( flag ) {
	if ( flag === undefined ) {
		return this.context[0]._select.toggleable;
	}

	return this.iterator( 'table', function ( ctx ) {
		ctx._select.toggleable = flag;
	} );
} );

apiRegister( 'select.info()', function ( flag ) {
	if ( flag === undefined ) {
		return this.context[0]._select.info;
	}

	return this.iterator( 'table', function ( ctx ) {
		ctx._select.info = flag;
	} );
} );

apiRegister( 'select.items()', function ( items ) {
	if ( items === undefined ) {
		return this.context[0]._select.items;
	}

	return this.iterator( 'table', function ( ctx ) {
		ctx._select.items = items;

		eventTrigger( new DataTable.Api( ctx ), 'selectItems', [ items ] );
	} );
} );

apiRegister( 'select.style()', function ( style ) {
	if ( style === undefined ) {
		return this.context[0]._select.style;
	}

	return this.iterator( 'table', function ( ctx ) {
		ctx._select.style = style;

		if ( ! ctx._select_init ) {
			init( ctx );
		}

		var dt = new DataTable.Api( ctx );
		disableMouseSelection( dt );

				if ( style !== 'api' ) {
			enableMouseSelection( dt );
		}

		eventTrigger( new DataTable.Api( ctx ), 'selectStyle', [ style ] );
	} );
} );

apiRegister( 'select.selector()', function ( selector ) {
	if ( selector === undefined ) {
		return this.context[0]._select.selector;
	}

	return this.iterator( 'table', function ( ctx ) {
		disableMouseSelection( new DataTable.Api( ctx ) );

		ctx._select.selector = selector;

		if ( ctx._select.style !== 'api' ) {
			enableMouseSelection( new DataTable.Api( ctx ) );
		}
	} );
} );



apiRegisterPlural( 'rows().select()', 'row().select()', function ( select ) {
	var api = this;

	if ( select === false ) {
		return this.deselect();
	}

	this.iterator( 'row', function ( ctx, idx ) {
		clear( ctx );

		ctx.aoData[ idx ]._select_selected = true;
		$( ctx.aoData[ idx ].nTr ).addClass( ctx._select.className );
	} );

	this.iterator( 'table', function ( ctx, i ) {
		eventTrigger( api, 'select', [ 'row', api[i] ], true );
	} );

	return this;
} );

apiRegisterPlural( 'columns().select()', 'column().select()', function ( select ) {
	var api = this;

	if ( select === false ) {
		return this.deselect();
	}

	this.iterator( 'column', function ( ctx, idx ) {
		clear( ctx );

		ctx.aoColumns[ idx ]._select_selected = true;

		var column = new DataTable.Api( ctx ).column( idx );

		$( column.header() ).addClass( ctx._select.className );
		$( column.footer() ).addClass( ctx._select.className );

		column.nodes().to$().addClass( ctx._select.className );
	} );

	this.iterator( 'table', function ( ctx, i ) {
		eventTrigger( api, 'select', [ 'column', api[i] ], true );
	} );

	return this;
} );

apiRegisterPlural( 'cells().select()', 'cell().select()', function ( select ) {
	var api = this;

	if ( select === false ) {
		return this.deselect();
	}

	this.iterator( 'cell', function ( ctx, rowIdx, colIdx ) {
		clear( ctx );

		var data = ctx.aoData[ rowIdx ];

		if ( data._selected_cells === undefined ) {
			data._selected_cells = [];
		}

		data._selected_cells[ colIdx ] = true;

		if ( data.anCells ) {
			$( data.anCells[ colIdx ] ).addClass( ctx._select.className );
		}
	} );

	this.iterator( 'table', function ( ctx, i ) {
		eventTrigger( api, 'select', [ 'cell', api.cells(api[i]).indexes().toArray() ], true );
	} );

	return this;
} );


apiRegisterPlural( 'rows().deselect()', 'row().deselect()', function () {
	var api = this;

	this.iterator( 'row', function ( ctx, idx ) {
		ctx.aoData[ idx ]._select_selected = false;
		ctx._select_lastCell = null;
		$( ctx.aoData[ idx ].nTr ).removeClass( ctx._select.className );
	} );

	this.iterator( 'table', function ( ctx, i ) {
		eventTrigger( api, 'deselect', [ 'row', api[i] ], true );
	} );

	return this;
} );

apiRegisterPlural( 'columns().deselect()', 'column().deselect()', function () {
	var api = this;

	this.iterator( 'column', function ( ctx, idx ) {
		ctx.aoColumns[ idx ]._select_selected = false;

		var api = new DataTable.Api( ctx );
		var column = api.column( idx );

		$( column.header() ).removeClass( ctx._select.className );
		$( column.footer() ).removeClass( ctx._select.className );

		api.cells( null, idx ).indexes().each( function (cellIdx) {
			var data = ctx.aoData[ cellIdx.row ];
			var cellSelected = data._selected_cells;

			if ( data.anCells && (! cellSelected || ! cellSelected[ cellIdx.column ]) ) {
				$( data.anCells[ cellIdx.column  ] ).removeClass( ctx._select.className );
			}
		} );
	} );

	this.iterator( 'table', function ( ctx, i ) {
		eventTrigger( api, 'deselect', [ 'column', api[i] ], true );
	} );

	return this;
} );

apiRegisterPlural( 'cells().deselect()', 'cell().deselect()', function () {
	var api = this;

	this.iterator( 'cell', function ( ctx, rowIdx, colIdx ) {
		var data = ctx.aoData[ rowIdx ];

		data._selected_cells[ colIdx ] = false;

		if ( data.anCells && ! ctx.aoColumns[ colIdx ]._select_selected ) {
			$( data.anCells[ colIdx ] ).removeClass( ctx._select.className );
		}
	} );

	this.iterator( 'table', function ( ctx, i ) {
		eventTrigger( api, 'deselect', [ 'cell', api[i] ], true );
	} );

	return this;
} );




function i18n( label, def ) {
	return function (dt) {
		return dt.i18n( 'buttons.'+label, def );
	};
}

function namespacedEvents ( config ) {
	var unique = config._eventNamespace;

	return 'draw.dt.DT'+unique+' select.dt.DT'+unique+' deselect.dt.DT'+unique;
}

function enabled ( dt, config ) {
	if ( $.inArray( 'rows', config.limitTo ) !== -1 && dt.rows( { selected: true } ).any() ) {
		return true;
	}

	if ( $.inArray( 'columns', config.limitTo ) !== -1 && dt.columns( { selected: true } ).any() ) {
		return true;
	}

	if ( $.inArray( 'cells', config.limitTo ) !== -1 && dt.cells( { selected: true } ).any() ) {
		return true;
	}

	return false;
}

var _buttonNamespace = 0;

$.extend( DataTable.ext.buttons, {
	selected: {
		text: i18n( 'selected', 'Selected' ),
		className: 'buttons-selected',
		limitTo: [ 'rows', 'columns', 'cells' ],
		init: function ( dt, node, config ) {
			var that = this;
			config._eventNamespace = '.select'+(_buttonNamespace++);

			dt.on( namespacedEvents(config), function () {
				that.enable( enabled(dt, config) );
			} );

			this.disable();
		},
		destroy: function ( dt, node, config ) {
			dt.off( config._eventNamespace );
		}
	},
	selectedSingle: {
		text: i18n( 'selectedSingle', 'Selected single' ),
		className: 'buttons-selected-single',
		init: function ( dt, node, config ) {
			var that = this;
			config._eventNamespace = '.select'+(_buttonNamespace++);

			dt.on( namespacedEvents(config), function () {
				var count = dt.rows( { selected: true } ).flatten().length +
				            dt.columns( { selected: true } ).flatten().length +
				            dt.cells( { selected: true } ).flatten().length;

				that.enable( count === 1 );
			} );

			this.disable();
		},
		destroy: function ( dt, node, config ) {
			dt.off( config._eventNamespace );
		}
	},
	selectAll: {
		text: i18n( 'selectAll', 'Select all' ),
		className: 'buttons-select-all',
		action: function () {
			var items = this.select.items();
			this[ items+'s' ]().select();
		}
	},
	selectNone: {
		text: i18n( 'selectNone', 'Deselect all' ),
		className: 'buttons-select-none',
		action: function () {
			clear( this.settings()[0], true );
		},
		init: function ( dt, node, config ) {
			var that = this;
			config._eventNamespace = '.select'+(_buttonNamespace++);

			dt.on( namespacedEvents(config), function () {
				var count = dt.rows( { selected: true } ).flatten().length +
				            dt.columns( { selected: true } ).flatten().length +
				            dt.cells( { selected: true } ).flatten().length;

				that.enable( count > 0 );
			} );

			this.disable();
		},
		destroy: function ( dt, node, config ) {
			dt.off( config._eventNamespace );
		}
	}
} );

$.each( [ 'Row', 'Column', 'Cell' ], function ( i, item ) {
	var lc = item.toLowerCase();

	DataTable.ext.buttons[ 'select'+item+'s' ] = {
		text: i18n( 'select'+item+'s', 'Select '+lc+'s' ),
		className: 'buttons-select-'+lc+'s',
		action: function () {
			this.select.items( lc );
		},
		init: function ( dt ) {
			var that = this;

			dt.on( 'selectItems.dt.DT', function ( e, ctx, items ) {
				that.active( items === lc );
			} );
		}
	};
} );





$(document).on( 'preInit.dt.dtSelect', function (e, ctx) {
	if ( e.namespace !== 'dt' ) {
		return;
	}

	DataTable.select.init( new DataTable.Api( ctx ) );
} );


return DataTable.select;
}));




(function( factory ){

   if ( typeof define === 'function' && define.amd ) {
      define( ['jquery', 'datatables.net'], function ( $ ) {
         return factory( $, window, document );
      } );
   }
   else if ( typeof exports === 'object' ) {
      module.exports = function (root, $) {
         if ( ! root ) {
            root = window;
         }

         if ( ! $ || ! $.fn.dataTable ) {
            $ = require('datatables.net')(root, $).$;
         }

         return factory( $, root, root.document );
      };
   }
   else {
      factory( jQuery, window, document );
   }

}(function( $, window, document ) {
   'use strict';
   var DataTable = $.fn.dataTable;



   var Checkboxes = function ( settings ) {
      if ( ! DataTable.versionCheck || ! DataTable.versionCheck( '1.10.8' ) ) {
         throw 'DataTables Checkboxes requires DataTables 1.10.8 or newer';
      }

      this.s = {
         dt: new DataTable.Api( settings ),
         columns: [],
         data: {},
         dataDisabled: {},
         ignoreSelect: false
      };

      this.s.ctx = this.s.dt.settings()[0];

      if ( this.s.ctx.checkboxes ) {
         return;
      }

      settings.checkboxes = this;

      this._constructor();
   };


   Checkboxes.prototype = {



      _constructor: function ()
      {
         var self = this;
         var dt = self.s.dt;
         var ctx = self.s.ctx;
         var hasCheckboxes = false;
         var hasCheckboxesSelectRow = false;

         for(var i = 0; i < ctx.aoColumns.length; i++){
            if (ctx.aoColumns[i].checkboxes){
               var $colHeader = $(dt.column(i).header());


               hasCheckboxes = true;

               if(!$.isPlainObject(ctx.aoColumns[i].checkboxes)){
                  ctx.aoColumns[i].checkboxes = {};
               }

               ctx.aoColumns[i].checkboxes = $.extend(
                  {}, Checkboxes.defaults, ctx.aoColumns[i].checkboxes
               );


               var colOptions = {
                  'searchable': false,
                  'orderable': false
               };

               if(ctx.aoColumns[i].sClass === ''){
                  colOptions['className'] = 'dt-checkboxes-cell';
               } else {
                  colOptions['className'] = ctx.aoColumns[i].sClass + ' dt-checkboxes-cell';
               }

               if(ctx.aoColumns[i].sWidthOrig === null){
                  colOptions['width'] = '1%';
               }

               if(ctx.aoColumns[i].mRender === null){
                  colOptions['render'] = function(){
                     return '<input type="checkbox" class="dt-checkboxes" autocomplete="off">';
                  };
               }

               DataTable.ext.internal._fnColumnOptions(ctx, i, colOptions);


               $colHeader.removeClass('sorting');

               $colHeader.off('.dt');

               if(ctx.sAjaxSource === null){
                  var cells = dt.cells('tr', i);
                  cells.invalidate('data');

                  $(cells.nodes()).addClass(colOptions['className']);
               }



               self.s.data[i] = {};
               self.s.dataDisabled[i] = {};

               self.s.columns.push(i);



               if(ctx.aoColumns[i].checkboxes.selectRow){

                  if(ctx._select){
                     hasCheckboxesSelectRow = true;

                  } else {
                     ctx.aoColumns[i].checkboxes.selectRow = false;
                  }
               }

               if(ctx.aoColumns[i].checkboxes.selectAll){
                  $colHeader.data('html', $colHeader.html());

                  if(ctx.aoColumns[i].checkboxes.selectAllRender !== null){
                     var selectAllHtml = '';

                     if($.isFunction(ctx.aoColumns[i].checkboxes.selectAllRender)){
                        selectAllHtml = ctx.aoColumns[i].checkboxes.selectAllRender();

                     } else if(typeof ctx.aoColumns[i].checkboxes.selectAllRender === 'string'){
                        selectAllHtml = ctx.aoColumns[i].checkboxes.selectAllRender;
                     }

                     $colHeader
                        .html(selectAllHtml)
                        .addClass('dt-checkboxes-select-all')
                        .attr('data-col', i);
                  }
               }
            }
         }

         if(hasCheckboxes){

            self.loadState();


            var $table = $(dt.table().node());
            var $tableBody = $(dt.table().body());
            var $tableContainer = $(dt.table().container());

            if(hasCheckboxesSelectRow){
               $table.addClass('dt-checkboxes-select');

               $table.on('user-select.dt.dtCheckboxes', function (e, dt, type, cell , originalEvent){
                  self.onDataTablesUserSelect(e, dt, type, cell , originalEvent);
               });

               $table.on('select.dt.dtCheckboxes deselect.dt.dtCheckboxes', function(e, api, type, indexes){
                  self.onDataTablesSelectDeselect(e, type, indexes);
               });

               if(ctx._select.info){
                  dt.select.info(false);

                  $table.on('draw.dt.dtCheckboxes select.dt.dtCheckboxes deselect.dt.dtCheckboxes', function(){
                     self.showInfoSelected();
                  });
               }
            }

            $table.on('draw.dt.dtCheckboxes', function(e){
               self.onDataTablesDraw(e);
            });

            $tableBody.on('click.dtCheckboxes', 'input.dt-checkboxes', function(e){
               self.onClick(e, this);
            });

            $tableContainer.on('click.dtCheckboxes', 'thead th.dt-checkboxes-select-all input[type="checkbox"]', function(e){
               self.onClickSelectAll(e, this);
            });

            $tableContainer.on('click.dtCheckboxes', 'thead th.dt-checkboxes-select-all', function() {
               $('input[type="checkbox"]', this).not(':disabled').trigger('click');
            });

            if(!hasCheckboxesSelectRow){
               $tableContainer.on('click.dtCheckboxes', 'tbody td.dt-checkboxes-cell', function() {
                  $('input[type="checkbox"]', this).not(':disabled').trigger('click');
               });
            }

            $tableContainer.on('click.dtCheckboxes', 'thead th.dt-checkboxes-select-all label, tbody td.dt-checkboxes-cell label', function(e) {
               e.preventDefault();
            });

            $(document).on('click.dtCheckboxes', '.fixedHeader-floating thead th.dt-checkboxes-select-all input[type="checkbox"]', function(e){
               if(ctx._fixedHeader){
                  if(ctx._fixedHeader.dom['header'].floating){
                     self.onClickSelectAll(e, this);
                  }
               }
            });

            $(document).on('click.dtCheckboxes', '.fixedHeader-floating thead th.dt-checkboxes-select-all', function() {
               if(ctx._fixedHeader){
                  if(ctx._fixedHeader.dom['header'].floating){
                     $('input[type="checkbox"]', this).trigger('click');
                  }
               }
            });

            $table.on('init.dt.dtCheckboxes', function(){
               setTimeout(function(){
                   self.onDataTablesInit();
               }, 0);
            });

            $table.on('stateSaveParams.dt.dtCheckboxes', function (e, settings, data) {
               self.onDataTablesStateSave(e, settings, data);
            });

            $table.one('destroy.dt.dtCheckboxes', function(e, settings){
               self.onDataTablesDestroy(e, settings);
            });
         }
      },

      onDataTablesInit: function(){
         var self = this;
         var dt = self.s.dt;
         var ctx = self.s.ctx;

         if(!ctx.oFeatures.bServerSide){

            if(ctx.oFeatures.bStateSave){
               self.updateState();
            }

            $(dt.table().node()).on('xhr.dt.dtCheckboxes', function ( e, settings , json, xhr ) {
               self.onDataTablesXhr(e. settings, json, xhr);
            });
         }
      },

      onDataTablesUserSelect: function ( e, dt, type, cell  ){
         var self = this;

         var cellIdx = cell.index();
         var rowIdx = cellIdx.row;
         var colIdx = self.getSelectRowColIndex();
         var cellData = dt.cell({ row: rowIdx, column: colIdx }).data();

         if(!self.isCellSelectable(colIdx, cellData)){
            e.preventDefault();
         }
      },

      onDataTablesSelectDeselect: function(e, type, indexes){
         var self = this;
         var dt = self.s.dt;

         if(self.s.ignoreSelect){ return; }

         if(type === 'row'){
            var colIdx = self.getSelectRowColIndex();
            if(colIdx !== null){
               var cells = dt.cells(indexes, colIdx);

               self.updateData(cells, colIdx, (e.type === 'select') ? true : false);
               self.updateCheckbox(cells, colIdx, (e.type === 'select') ? true : false);
               self.updateSelectAll(colIdx);
            }
         }
      },

      onDataTablesStateSave: function (e, settings, data) {
         var self = this;
         var ctx = self.s.ctx;

         $.each(self.s.columns, function(index, colIdx){
            if(ctx.aoColumns[colIdx].checkboxes.stateSave){
               if(!Object.prototype.hasOwnProperty.call(data, 'checkboxes')){
                  data.checkboxes = [];
               }

               data.checkboxes[colIdx] = self.s.data[colIdx];
            }
         });
      },

      onDataTablesDestroy: function(){
         var self = this;
         var dt = self.s.dt;

         var $table = $(dt.table().node());
         var $tableBody = $(dt.table().body());
         var $tableContainer = $(dt.table().container());

         $(document).off('click.dtCheckboxes');
         $tableContainer.off('.dtCheckboxes');
         $tableBody.off('.dtCheckboxes');
         $table.off('.dtCheckboxes');

         self.s.data = {};
         self.s.dataDisabled = {};

         $('.dt-checkboxes-select-all', $table).each(function(index, el){
            $(el)
               .html($(el).data('html'))
               .removeClass('dt-checkboxes-select-all');
         });
      },

      onDataTablesDraw: function(){
         var self = this;
         var ctx = self.s.ctx;

         if(ctx.oFeatures.bServerSide || ctx.oFeatures.bDeferRender){
            self.updateStateCheckboxes({ page: 'current', search: 'none' });
         }

         $.each(self.s.columns, function(index, colIdx){
            self.updateSelectAll(colIdx);
         });         
      },

      onDataTablesXhr: function(  ){
         var self = this;
         var dt = self.s.dt;
         var ctx = self.s.ctx;

         var $table = $(dt.table().node());

         $.each(self.s.columns, function(index, colIdx){
            self.s.data[colIdx] = {};
            self.s.dataDisabled[colIdx] = {};
         });

         if(ctx.oFeatures.bStateSave){
            self.loadState();

            $table.one('draw.dt.dtCheckboxes', function(){
               self.updateState();
            });
         }
      },

      updateData: function(cells, colIdx, isSelected){
         var self = this;
         var dt = self.s.dt;
         var ctx = self.s.ctx;

         if(ctx.aoColumns[colIdx].checkboxes){
            var cellsData = cells.data();
            cellsData.each(function(cellData){
               if(isSelected){
                  ctx.checkboxes.s.data[colIdx][cellData] = 1;

               } else {
                  delete ctx.checkboxes.s.data[colIdx][cellData];
               }
            });

            if(ctx.oFeatures.bStateSave){
               if(ctx.aoColumns[colIdx].checkboxes.stateSave){
                  dt.state.save();
               }
            }
         }
      },

      updateSelect: function(selector, isSelected){
         var self = this;
         var dt = self.s.dt;
         var ctx = self.s.ctx;

         if(ctx._select){
            self.s.ignoreSelect = true;

            if(isSelected){
               dt.rows(selector).select();
            } else {
               dt.rows(selector).deselect();
            }

            self.s.ignoreSelect = false;
         }
      },

      updateCheckbox: function(cells, colIdx, isSelected){
         var self = this;
         var ctx = self.s.ctx;

         var cellNodes = cells.nodes();
         if(cellNodes.length){
            $('input.dt-checkboxes', cellNodes).not(':disabled').prop('checked', isSelected);

            if($.isFunction(ctx.aoColumns[colIdx].checkboxes.selectCallback)){
               ctx.aoColumns[colIdx].checkboxes.selectCallback(cellNodes, isSelected);
            }
         }
      },

      updateState: function(){
         var self = this;
         var dt = self.s.dt;
         var ctx = self.s.ctx;

         self.updateStateCheckboxes({ page: 'all', search: 'none' });

         if(ctx._oFixedColumns){                   
            setTimeout(function(){
               $.each(self.s.columns, function(index, colIdx){
                  self.updateSelectAll(colIdx);
               });
            }, 0);
         }
      },

      updateStateCheckboxes: function(opts){
         var self = this;
         var dt = self.s.dt;
         var ctx = self.s.ctx;

         dt.cells('tr', self.s.columns, opts).every(function(rowIdx, colIdx){
            var cellData = this.data();

            var isCellSelectable = self.isCellSelectable(colIdx, cellData);

            if(
               Object.prototype.hasOwnProperty.call(ctx.checkboxes.s.data, colIdx)
               && Object.prototype.hasOwnProperty.call(ctx.checkboxes.s.data[colIdx], cellData)
            ) {
               if(ctx.aoColumns[colIdx].checkboxes.selectRow && isCellSelectable){
                  self.updateSelect(rowIdx, true);
               }

               self.updateCheckbox(this, colIdx, true);
            }

            if(!isCellSelectable){
               $('input.dt-checkboxes', this.node()).prop('disabled', true);
            }
         });
      },

      onClick: function(e, ctrl){
         var self = this;
         var dt = self.s.dt;
         var ctx = self.s.ctx;

         var cellSelector;

         var $cell = $(ctrl).closest('td');

         if($cell.parents('.DTFC_Cloned').length){
            cellSelector = dt.fixedColumns().cellIndex($cell);

         } else {
            cellSelector = $cell;
         }

         var cell    = dt.cell(cellSelector);
         var cellIdx = cell.index();
         var colIdx  = cellIdx.column;

         if(!ctx.aoColumns[colIdx].checkboxes.selectRow){
            cell.checkboxes.select(ctrl.checked);

            e.stopPropagation();

         } else {
            setTimeout(function(){
               var cellData = cell.data();

               var hasData = (
                  Object.prototype.hasOwnProperty.call(self.s.data, colIdx)
                  && Object.prototype.hasOwnProperty.call(self.s.data[colIdx], cellData)
               );

               if(hasData !== ctrl.checked){
                  self.updateCheckbox(cell, colIdx, hasData);
                  self.updateSelectAll(colIdx);
               }
            }, 0);
         }
      },

      onClickSelectAll: function(e, ctrl){
         var self = this;
         var dt = self.s.dt;
         var ctx = self.s.ctx;

         var colIdx = null;
         var $th = $(ctrl).closest('th');

         if($th.parents('.DTFC_Cloned').length){
            var cellIdx = dt.fixedColumns().cellIndex($th);
            colIdx = cellIdx.column;
         } else {
            colIdx = dt.column($th).index();
         }

         $(ctrl).data('is-changed', true);

         dt.column(colIdx, {
            page: (
               (ctx.aoColumns[colIdx].checkboxes && ctx.aoColumns[colIdx].checkboxes.selectAllPages)
                  ? 'all'
                  : 'current'
            ),
            search: 'applied'
         }).checkboxes.select(ctrl.checked);

         e.stopPropagation();
      },

      loadState: function () {
         var self = this;
         var dt = self.s.dt;
         var ctx = self.s.ctx;

         if(ctx.oFeatures.bStateSave){
            var state = dt.state.loaded();

            $.each(self.s.columns, function(index, colIdx){
               if(state && state.checkboxes && state.checkboxes.hasOwnProperty(colIdx)){
                  if(ctx.aoColumns[colIdx].checkboxes.stateSave){
                     self.s.data[colIdx] = state.checkboxes[colIdx];
                  }
               }
            });
         }
      },

      updateSelectAll: function(colIdx){
         var self = this;
         var dt = self.s.dt;
         var ctx = self.s.ctx;

         if(ctx.aoColumns[colIdx].checkboxes && ctx.aoColumns[colIdx].checkboxes.selectAll){
            var cells = dt.cells('tr', colIdx, {
               page: (
                  (ctx.aoColumns[colIdx].checkboxes.selectAllPages)
                     ? 'all'
                     : 'current'
               ),
               search: 'applied'
            });

            var $tableContainer = dt.table().container();
            var $checkboxesSelectAll = $('.dt-checkboxes-select-all[data-col="' + colIdx + '"] input[type="checkbox"]', $tableContainer);

            var countChecked = 0;
            var countDisabled = 0;
            var cellsData = cells.data();
            $.each(cellsData, function(index, cellData){
               if(self.isCellSelectable(colIdx, cellData)){
                  if(
                     Object.prototype.hasOwnProperty.call(self.s.data, colIdx)
                     && Object.prototype.hasOwnProperty.call(self.s.data[colIdx], cellData)
                  ) {
                     countChecked++;
                  }

               } else {
                  countDisabled++;
               }
            });

            if(ctx._fixedHeader){
               if(ctx._fixedHeader.dom['header'].floating){
                  $checkboxesSelectAll = $('.fixedHeader-floating .dt-checkboxes-select-all[data-col="' + colIdx + '"] input[type="checkbox"]');
               }
            }

            var isSelected;
            var isIndeterminate;

            if (countChecked === 0){
               isSelected      = false;
               isIndeterminate = false;

            } else if ((countChecked + countDisabled) === cellsData.length){
               isSelected      = true;
               isIndeterminate = false;

            } else {
               isSelected      = true;
               isIndeterminate = true;
            }

            var isChanged          = $checkboxesSelectAll.data('is-changed');
            var isSelectedNow      = $checkboxesSelectAll.prop('checked');
            var isIndeterminateNow = $checkboxesSelectAll.prop('indeterminate');

            if(isChanged || isSelectedNow !== isSelected || isIndeterminateNow !== isIndeterminate){
               $checkboxesSelectAll.data('is-changed', false);

               $checkboxesSelectAll.prop({
                  'checked': isIndeterminate ? false : isSelected,
                  'indeterminate': isIndeterminate
               });

               if($.isFunction(ctx.aoColumns[colIdx].checkboxes.selectAllCallback)){
                  ctx.aoColumns[colIdx].checkboxes.selectAllCallback($checkboxesSelectAll.closest('th').get(0), isSelected, isIndeterminate);
               }
            }
         }
      },

      showInfoSelected: function(){
         var self = this;
         var dt = self.s.dt;
         var ctx = self.s.ctx;

         if ( ! ctx.aanFeatures.i ) {
            return;
         }

         var colIdx = self.getSelectRowColIndex();

         if(colIdx !== null){
            var countRows = 0;
            for (var cellData in ctx.checkboxes.s.data[colIdx]){
               if(
                  Object.prototype.hasOwnProperty.call(ctx.checkboxes.s.data, colIdx)
                  && Object.prototype.hasOwnProperty.call(ctx.checkboxes.s.data[colIdx], cellData)
               ) {
                  countRows++;
               }
            }

            var add = function($el, name, num){
               $el.append( $('<span class="select-item"/>').append( dt.i18n(
                  'select.'+name+'s',
                  { _: '%d '+name+'s selected', 0: '', 1: '1 '+name+' selected' },
                  num
               ) ) );
            };

            $.each( ctx.aanFeatures.i, function ( i, el ) {
               var $el = $(el);

               var $output  = $('<span class="select-info"/>');
               add($output, 'row', countRows);

               var $existing = $el.children('span.select-info');
               if($existing.length){
                  $existing.remove();
               }

               if($output.text() !== ''){
                  $el.append($output);
               }
            });
         }
      },

      isCellSelectable: function(colIdx, cellData){
         var self = this;
         var ctx = self.s.ctx;

         if(
            Object.prototype.hasOwnProperty.call(ctx.checkboxes.s.dataDisabled, colIdx)
            && Object.prototype.hasOwnProperty.call(ctx.checkboxes.s.dataDisabled[colIdx], cellData)
         ) {
            return false;

         } else {
            return true;
         }
      },

      getCellIndex: function(cell){
         var self = this;
         var dt = self.s.dt;
         var ctx = self.s.ctx;

         if(ctx._oFixedColumns){
            return dt.fixedColumns().cellIndex(cell);

         } else {
            return dt.cell(cell).index();
         }
      },

      getSelectRowColIndex: function(){
         var self = this;
         var ctx = self.s.ctx;

         var colIdx = null;

         for(var i = 0; i < ctx.aoColumns.length; i++){
            if(ctx.aoColumns[i].checkboxes && ctx.aoColumns[i].checkboxes.selectRow){
               colIdx = i;
               break;
            }
         }

         return colIdx;
      },

      updateFixedColumn: function(colIdx){
         var self = this;
         var dt = self.s.dt;
         var ctx = self.s.ctx;

         if(ctx._oFixedColumns){
            var leftCols = ctx._oFixedColumns.s.iLeftColumns;
            var rightCols = ctx.aoColumns.length - ctx._oFixedColumns.s.iRightColumns - 1;

            if (colIdx < leftCols || colIdx > rightCols){
               dt.fixedColumns().update();

               setTimeout(function(){
                  $.each(self.s.columns, function(index, colIdx){
                     self.updateSelectAll(colIdx);
                  });
               }, 0);
            }
         }
      }
   };



   Checkboxes.defaults = {

      stateSave: true,


      selectRow: false,


      selectAll: true,


      selectAllPages: true,


      selectCallback: null,


      selectAllCallback: null,


      selectAllRender: '<input type="checkbox" autocomplete="off">'
   };



   var Api = $.fn.dataTable.Api;

   Api.register( 'checkboxes()', function () {
      return this;
   } );

   Api.registerPlural( 'columns().checkboxes.select()', 'column().checkboxes.select()', function ( state ) {
      if(typeof state === 'undefined'){ state = true; }

      return this.iterator( 'column-rows', function ( ctx, colIdx, i, j, rowsIdx ) {
         if(ctx.aoColumns[colIdx].checkboxes){
            var selector = [];
            $.each(rowsIdx, function(index, rowIdx){
               selector.push({ row: rowIdx, column: colIdx });
            });

            var cells = this.cells(selector);
            var cellsData = cells.data();

            var rowsSelectableIdx = [];
            selector = [];
            $.each(cellsData, function(index, cellData){
               if(ctx.checkboxes.isCellSelectable(colIdx, cellData)){
                  selector.push({ row: rowsIdx[index], column: colIdx });
                  rowsSelectableIdx.push(rowsIdx[index]);
               }
            });

            cells = this.cells(selector);

            ctx.checkboxes.updateData(cells, colIdx, state);

            if(ctx.aoColumns[colIdx].checkboxes.selectRow){
               ctx.checkboxes.updateSelect(rowsSelectableIdx, state);
            }

            ctx.checkboxes.updateCheckbox(cells, colIdx, state);

            ctx.checkboxes.updateSelectAll(colIdx);

            ctx.checkboxes.updateFixedColumn(colIdx);
         }
      }, 1 );
   } );

   Api.registerPlural( 'cells().checkboxes.select()', 'cell().checkboxes.select()', function ( state ) {
      if(typeof state === 'undefined'){ state = true; }

      return this.iterator( 'cell', function ( ctx, rowIdx, colIdx ) {
         if(ctx.aoColumns[colIdx].checkboxes){
            var cells = this.cells([{ row: rowIdx, column: colIdx }]);
            var cellData = this.cell({ row: rowIdx, column: colIdx }).data();

            if(ctx.checkboxes.isCellSelectable(colIdx, cellData)){
               ctx.checkboxes.updateData(cells, colIdx, state);

               if(ctx.aoColumns[colIdx].checkboxes.selectRow){
                  ctx.checkboxes.updateSelect(rowIdx, state);
               }

               ctx.checkboxes.updateCheckbox(cells, colIdx, state);

               ctx.checkboxes.updateSelectAll(colIdx);

               ctx.checkboxes.updateFixedColumn(colIdx);
            }
         }
      }, 1 );
   } );

   Api.registerPlural( 'cells().checkboxes.enable()', 'cell().checkboxes.enable()', function ( state ) {
      if(typeof state === 'undefined'){ state = true; }

      return this.iterator( 'cell', function ( ctx, rowIdx, colIdx ) {
         if(ctx.aoColumns[colIdx].checkboxes){
            var cell = this.cell({ row: rowIdx, column: colIdx });

            var cellData = cell.data();

            if(state){
               delete ctx.checkboxes.s.dataDisabled[colIdx][cellData];

            } else {
               ctx.checkboxes.s.dataDisabled[colIdx][cellData] = 1;
            }

            var cellNode = cell.node();
            if(cellNode){
               $('input.dt-checkboxes', cellNode).prop('disabled', !state);
            }

            if(ctx.aoColumns[colIdx].checkboxes.selectRow){
               if(
                  Object.prototype.hasOwnProperty.call(ctx.checkboxes.s.data, colIdx)
                  && Object.prototype.hasOwnProperty.call(ctx.checkboxes.s.data[colIdx], cellData)
               ) {
                  ctx.checkboxes.updateSelect(rowIdx, state);
               }
            }
         }
      }, 1 );
   } );

   Api.registerPlural( 'cells().checkboxes.disable()', 'cell().checkboxes.disable()', function ( state ) {
      if(typeof state === 'undefined'){ state = true; }
      return this.checkboxes.enable(!state);
   } );

   Api.registerPlural( 'columns().checkboxes.deselect()', 'column().checkboxes.deselect()', function ( state ) {
      if(typeof state === 'undefined'){ state = true; }
      return this.checkboxes.select(!state);
   } );

   Api.registerPlural( 'cells().checkboxes.deselect()', 'cell().checkboxes.deselect()', function ( state ) {
      if(typeof state === 'undefined'){ state = true; }
      return this.checkboxes.select(!state);
   } );

   Api.registerPlural( 'columns().checkboxes.deselectAll()', 'column().checkboxes.deselectAll()', function () {
      return this.iterator( 'column', function (ctx, colIdx){
         if(ctx.aoColumns[colIdx].checkboxes){
            ctx.checkboxes.s.data[colIdx] = {};

            this.column(colIdx).checkboxes.select(false);
         }
      }, 1 );
   } );

   Api.registerPlural( 'columns().checkboxes.selected()', 'column().checkboxes.selected()', function () {
      return this.iterator( 'column-rows', function ( ctx, colIdx, i, j, rowsIdx ) {

         if(ctx.aoColumns[colIdx].checkboxes){
            var data = [];

            if(ctx.oFeatures.bServerSide){
               $.each(ctx.checkboxes.s.data[colIdx], function(cellData){
                  if(ctx.checkboxes.isCellSelectable(colIdx, cellData)){
                     data.push(cellData);
                  }
               });

            } else {
               var selector = [];
               $.each(rowsIdx, function(index, rowIdx){
                  selector.push({ row: rowIdx, column: colIdx });
               });

               var cells = this.cells(selector);
               var cellsData = cells.data();

               $.each(cellsData, function(index, cellData){
                  if(
                     Object.prototype.hasOwnProperty.call(ctx.checkboxes.s.data, colIdx)
                     && Object.prototype.hasOwnProperty.call(ctx.checkboxes.s.data[colIdx], cellData)
                  ) {
                     if(ctx.checkboxes.isCellSelectable(colIdx, cellData)){
                        data.push(cellData);
                     }
                  }
               });
            }

            return data;

         } else {
            return [];
         }
      }, 1 );
   } );



   Checkboxes.version = '1.2.13-dev';



   $.fn.DataTable.Checkboxes = Checkboxes;
   $.fn.dataTable.Checkboxes = Checkboxes;


   $(document).on( 'preInit.dt.dtCheckboxes', function (e, settings  ) {
      if ( e.namespace !== 'dt' ) {
         return;
      }

      new Checkboxes( settings );
   } );


   return Checkboxes;
}));


(function (root, factory) {
    if (typeof define === "function" && define.amd) {
        define([], factory);
    } else if (typeof module === "object" && module.exports) {
        module.exports = factory();
    } else {
        root.PDFObject = factory();
  }
}(this, function () {

    "use strict";


    if(typeof window === "undefined" || window.navigator === undefined || window.navigator.userAgent === undefined){ return false; }

    let pdfobjectversion = "2.3.0";
    let win = window;
    let nav = win.navigator;
    let ua = nav.userAgent;
    let suppressConsole = false;

    let isModernBrowser = function (){


        let isChromium = (win.chrome !== undefined);

        let isSafari = (win.safari !== undefined || (nav.vendor !== undefined && /Apple/.test(nav.vendor) && /Safari/.test(ua)));

        let isFirefox = (win.Mozilla !== undefined || /irefox/.test(ua));

        return isChromium || isSafari || isFirefox;  

    };

    let validateAX = function (type){
        var ax = null;
        try {
            ax = new ActiveXObject(type);
        } catch (e) {
            ax = null;
        }
        return !!ax; 
    };

    let hasActiveXPDFPlugin = function (){ return ("ActiveXObject" in win) && (validateAX("AcroPDF.PDF") || validateAX("PDF.PdfCtrl")) };

    let checkSupport = function (){

        let isSafariIOSDesktopMode = (nav.platform !== undefined && nav.platform === "MacIntel" && nav.maxTouchPoints !== undefined && nav.maxTouchPoints > 1);

        let isMobileDevice = (isSafariIOSDesktopMode || /Mobi|Tablet|Android|iPad|iPhone/.test(ua));

        if(isMobileDevice){ return false; }

        let supportsPDFVE = (typeof nav.pdfViewerEnabled === "boolean");

        if(supportsPDFVE && !nav.pdfViewerEnabled){ return false; }

        return (supportsPDFVE && nav.pdfViewerEnabled) || isModernBrowser() || hasActiveXPDFPlugin();

    };

    let supportsPDFs = checkSupport();

    let buildURLFragmentString = function(pdfParams){

        let string = "";
        let prop;
        let paramArray = [];
        let fdf = "";


        if(pdfParams.comment || pdfParams.viewrect || pdfParams.highlight){

            if(!pdfParams.page){

                pdfParams.page = 1;

                embedError("The comment, viewrect, and highlight parameters require a page parameter, but none was specified. Defaulting to page 1.");

                        }

        }

        if(pdfParams.page){
            paramArray.push("page=" + encodeURIComponent(pdfParams.page));
            delete pdfParams.page;
        }

        if(pdfParams.fdf){
            fdf = pdfParams.fdf;
            delete pdfParams.fdf;
        }

        if(pdfParams){

            for (prop in pdfParams) {
                if (pdfParams.hasOwnProperty(prop)) {
                    paramArray.push(encodeURIComponent(prop) + "=" + encodeURIComponent(pdfParams[prop]));
                }
            }

            if(fdf){
                paramArray.push("fdf=" + encodeURIComponent(fdf));
            }

            string = paramArray.join("&");

            if(string){
                string = "#" + string;
            }

        }

        return string;

    };

    let embedError = function (msg){
        if(!suppressConsole){
            console.log("[PDFObject]", msg);
        }
        return false;
    };

    let emptyNodeContents = function (node){
        while(node.firstChild){
            node.removeChild(node.firstChild);
        }
    };

    let getTargetElement = function (targetSelector){

        let targetNode = document.body;


        if(typeof targetSelector === "string"){

            targetNode = document.querySelector(targetSelector);

        } else if (win.jQuery !== undefined && targetSelector instanceof jQuery && targetSelector.length) {

            targetNode = targetSelector.get(0);

        } else if (targetSelector.nodeType !== undefined && targetSelector.nodeType === 1){

            targetNode = targetSelector;

        }

        return targetNode;

    };

    let convertBase64ToDownloadableLink = function (b64, filename, targetNode, fallbackHTML) {

        if (window.Blob && window.URL && window.URL.createObjectURL) {

            var xhr = new XMLHttpRequest();
            xhr.open('GET', b64, true);
            xhr.responseType = 'blob';
            xhr.onload = function() {

                if (xhr.status === 200) {

                     var blob = xhr.response;
                    var link = document.createElement('a');
                    link.innerText = "Download PDF";
                    link.href = URL.createObjectURL(blob);
                    link.setAttribute('download', filename);
                    targetNode.innerHTML = fallbackHTML.replace(/\[pdflink\]/g, link.outerHTML);

                }

            };

            xhr.send();

                    }

    };


    let generatePDFObjectMarkup = function (embedType, targetNode, url, pdfOpenFragment, width, height, id, title, omitInlineStyles, customAttribute, PDFJS_URL){

        emptyNodeContents(targetNode);

        let source = url;

        if(embedType === "pdfjs"){ 
            let connector = (PDFJS_URL.indexOf("?") !== -1) ? "&" : "?"; 
            source = PDFJS_URL + connector + "file=" + encodeURIComponent(url) + pdfOpenFragment;
        } else {
            source += pdfOpenFragment;
        }

        let el = document.createElement("iframe");
        el.className = "pdfobject";
        el.type = "application/pdf";
        el.title = title;
        el.src = source;
        el.allow = "fullscreen";
        el.frameborder = "0";
        if(id){ el.id = id; }

        if(!omitInlineStyles){

            let style = "border: none;";

            if(targetNode !== document.body){
                style += "width: " + width + "; height: " + height + ";";
            } else {
                style += "position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%;";
            }

            el.style.cssText = style; 

        }

        let reservedTokens = ["className", "type", "title", "src", "style", "id", "allow", "frameborder"];
        if(customAttribute && customAttribute.key && reservedTokens.indexOf(customAttribute.key) === -1){
            el.setAttribute(customAttribute.key, (typeof customAttribute.value !== "undefined") ? customAttribute.value : "");
        }

        targetNode.classList.add("pdfobject-container");
        targetNode.appendChild(el);

        return targetNode.getElementsByTagName("iframe")[0];

    };

    let embed = function(url, targetSelector, options){

        let selector = targetSelector || false;

        let opt = options || {};

        suppressConsole = (typeof opt.suppressConsole === "boolean") ? opt.suppressConsole : false;
        let id = (typeof opt.id === "string") ? opt.id : "";
        let page = opt.page || false;
        let pdfOpenParams = opt.pdfOpenParams || {};
        let fallbackLink = (typeof opt.fallbackLink === "string" || typeof opt.fallbackLink === "boolean") ? opt.fallbackLink : true;
        let width = opt.width || "100%";
        let height = opt.height || "100%";
        let title = opt.title || "Embedded PDF";
        let forcePDFJS = (typeof opt.forcePDFJS === "boolean") ? opt.forcePDFJS : false;
        let omitInlineStyles = (typeof opt.omitInlineStyles === "boolean") ? opt.omitInlineStyles : false;
        let PDFJS_URL = opt.PDFJS_URL || false;
        let targetNode = getTargetElement(selector);
        let pdfOpenFragment = "";
        let customAttribute = opt.customAttribute || {};
        let fallbackHTML_default = "<p>This browser does not support inline PDFs. Please download the PDF to view it: [pdflink]</p>";

        if(typeof url !== "string"){ return embedError("URL is not valid"); }

        if(!targetNode){ return embedError("Target element cannot be determined"); }

        if(page){ pdfOpenParams.page = page; }

        pdfOpenFragment = buildURLFragmentString(pdfOpenParams);



        if(forcePDFJS && PDFJS_URL){
            return generatePDFObjectMarkup("pdfjs", targetNode, url, pdfOpenFragment, width, height, id, title, omitInlineStyles, customAttribute, PDFJS_URL);
        }


        if(supportsPDFs){
            return generatePDFObjectMarkup("iframe", targetNode, url, pdfOpenFragment, width, height, id, title, omitInlineStyles, customAttribute);
        }


        if(PDFJS_URL){
            return generatePDFObjectMarkup("pdfjs", targetNode, url, pdfOpenFragment, width, height, id, title, omitInlineStyles, customAttribute, PDFJS_URL);
        }


        if(fallbackLink){

            if(typeof fallbackLink === "string"){

                targetNode.innerHTML = fallbackLink.replace(/\[url\]/g, url);

            } else {

                if(url.indexOf("data:application/pdf;base64") !== -1){

                    convertBase64ToDownloadableLink(url, "file.pdf", targetNode, fallbackHTML_default);

                                } else {

                    let link = "<a href='" + url + "'>Download PDF</a>";
                    targetNode.innerHTML = fallbackHTML_default.replace(/\[pdflink\]/g, link);

                }

            }

        }

        return embedError("This browser does not support embedded PDFs");

    };

    return {
        embed: function (a,b,c){ return embed(a,b,c); },
        pdfobjectversion: (function () { return pdfobjectversion; })(),
        supportsPDFs: (function (){ return supportsPDFs; })()
    };

}));

(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
  typeof define === 'function' && define.amd ? define(['exports'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.Popper = {}));
}(this, (function (exports) { 'use strict';

  function getWindow(node) {
    if (node == null) {
      return window;
    }

    if (node.toString() !== '[object Window]') {
      var ownerDocument = node.ownerDocument;
      return ownerDocument ? ownerDocument.defaultView || window : window;
    }

    return node;
  }

  function isElement(node) {
    var OwnElement = getWindow(node).Element;
    return node instanceof OwnElement || node instanceof Element;
  }

  function isHTMLElement(node) {
    var OwnElement = getWindow(node).HTMLElement;
    return node instanceof OwnElement || node instanceof HTMLElement;
  }

  function isShadowRoot(node) {
    if (typeof ShadowRoot === 'undefined') {
      return false;
    }

    var OwnElement = getWindow(node).ShadowRoot;
    return node instanceof OwnElement || node instanceof ShadowRoot;
  }

  var max = Math.max;
  var min = Math.min;
  var round = Math.round;

  function getUAString() {
    var uaData = navigator.userAgentData;

    if (uaData != null && uaData.brands && Array.isArray(uaData.brands)) {
      return uaData.brands.map(function (item) {
        return item.brand + "/" + item.version;
      }).join(' ');
    }

    return navigator.userAgent;
  }

  function isLayoutViewport() {
    return !/^((?!chrome|android).)*safari/i.test(getUAString());
  }

  function getBoundingClientRect(element, includeScale, isFixedStrategy) {
    if (includeScale === void 0) {
      includeScale = false;
    }

    if (isFixedStrategy === void 0) {
      isFixedStrategy = false;
    }

    var clientRect = element.getBoundingClientRect();
    var scaleX = 1;
    var scaleY = 1;

    if (includeScale && isHTMLElement(element)) {
      scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1;
      scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1;
    }

    var _ref = isElement(element) ? getWindow(element) : window,
        visualViewport = _ref.visualViewport;

    var addVisualOffsets = !isLayoutViewport() && isFixedStrategy;
    var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX;
    var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY;
    var width = clientRect.width / scaleX;
    var height = clientRect.height / scaleY;
    return {
      width: width,
      height: height,
      top: y,
      right: x + width,
      bottom: y + height,
      left: x,
      x: x,
      y: y
    };
  }

  function getWindowScroll(node) {
    var win = getWindow(node);
    var scrollLeft = win.pageXOffset;
    var scrollTop = win.pageYOffset;
    return {
      scrollLeft: scrollLeft,
      scrollTop: scrollTop
    };
  }

  function getHTMLElementScroll(element) {
    return {
      scrollLeft: element.scrollLeft,
      scrollTop: element.scrollTop
    };
  }

  function getNodeScroll(node) {
    if (node === getWindow(node) || !isHTMLElement(node)) {
      return getWindowScroll(node);
    } else {
      return getHTMLElementScroll(node);
    }
  }

  function getNodeName(element) {
    return element ? (element.nodeName || '').toLowerCase() : null;
  }

  function getDocumentElement(element) {
    return ((isElement(element) ? element.ownerDocument : 
    element.document) || window.document).documentElement;
  }

  function getWindowScrollBarX(element) {
    return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;
  }

  function getComputedStyle(element) {
    return getWindow(element).getComputedStyle(element);
  }

  function isScrollParent(element) {
    var _getComputedStyle = getComputedStyle(element),
        overflow = _getComputedStyle.overflow,
        overflowX = _getComputedStyle.overflowX,
        overflowY = _getComputedStyle.overflowY;

    return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);
  }

  function isElementScaled(element) {
    var rect = element.getBoundingClientRect();
    var scaleX = round(rect.width) / element.offsetWidth || 1;
    var scaleY = round(rect.height) / element.offsetHeight || 1;
    return scaleX !== 1 || scaleY !== 1;
  } 


  function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {
    if (isFixed === void 0) {
      isFixed = false;
    }

    var isOffsetParentAnElement = isHTMLElement(offsetParent);
    var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);
    var documentElement = getDocumentElement(offsetParent);
    var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled, isFixed);
    var scroll = {
      scrollLeft: 0,
      scrollTop: 0
    };
    var offsets = {
      x: 0,
      y: 0
    };

    if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {
      if (getNodeName(offsetParent) !== 'body' || 
      isScrollParent(documentElement)) {
        scroll = getNodeScroll(offsetParent);
      }

      if (isHTMLElement(offsetParent)) {
        offsets = getBoundingClientRect(offsetParent, true);
        offsets.x += offsetParent.clientLeft;
        offsets.y += offsetParent.clientTop;
      } else if (documentElement) {
        offsets.x = getWindowScrollBarX(documentElement);
      }
    }

    return {
      x: rect.left + scroll.scrollLeft - offsets.x,
      y: rect.top + scroll.scrollTop - offsets.y,
      width: rect.width,
      height: rect.height
    };
  }


  function getLayoutRect(element) {
    var clientRect = getBoundingClientRect(element); 

    var width = element.offsetWidth;
    var height = element.offsetHeight;

    if (Math.abs(clientRect.width - width) <= 1) {
      width = clientRect.width;
    }

    if (Math.abs(clientRect.height - height) <= 1) {
      height = clientRect.height;
    }

    return {
      x: element.offsetLeft,
      y: element.offsetTop,
      width: width,
      height: height
    };
  }

  function getParentNode(element) {
    if (getNodeName(element) === 'html') {
      return element;
    }

    return (
      element.assignedSlot || 
      element.parentNode || ( 
      isShadowRoot(element) ? element.host : null) || 
      getDocumentElement(element) 

    );
  }

  function getScrollParent(node) {
    if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {
      return node.ownerDocument.body;
    }

    if (isHTMLElement(node) && isScrollParent(node)) {
      return node;
    }

    return getScrollParent(getParentNode(node));
  }


  function listScrollParents(element, list) {
    var _element$ownerDocumen;

    if (list === void 0) {
      list = [];
    }

    var scrollParent = getScrollParent(element);
    var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);
    var win = getWindow(scrollParent);
    var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;
    var updatedList = list.concat(target);
    return isBody ? updatedList : 
    updatedList.concat(listScrollParents(getParentNode(target)));
  }

  function isTableElement(element) {
    return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;
  }

  function getTrueOffsetParent(element) {
    if (!isHTMLElement(element) || 
    getComputedStyle(element).position === 'fixed') {
      return null;
    }

    return element.offsetParent;
  } 


  function getContainingBlock(element) {
    var isFirefox = /firefox/i.test(getUAString());
    var isIE = /Trident/i.test(getUAString());

    if (isIE && isHTMLElement(element)) {
      var elementCss = getComputedStyle(element);

      if (elementCss.position === 'fixed') {
        return null;
      }
    }

    var currentNode = getParentNode(element);

    if (isShadowRoot(currentNode)) {
      currentNode = currentNode.host;
    }

    while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {
      var css = getComputedStyle(currentNode); 

      if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {
        return currentNode;
      } else {
        currentNode = currentNode.parentNode;
      }
    }

    return null;
  } 


  function getOffsetParent(element) {
    var window = getWindow(element);
    var offsetParent = getTrueOffsetParent(element);

    while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {
      offsetParent = getTrueOffsetParent(offsetParent);
    }

    if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {
      return window;
    }

    return offsetParent || getContainingBlock(element) || window;
  }

  var top = 'top';
  var bottom = 'bottom';
  var right = 'right';
  var left = 'left';
  var auto = 'auto';
  var basePlacements = [top, bottom, right, left];
  var start = 'start';
  var end = 'end';
  var clippingParents = 'clippingParents';
  var viewport = 'viewport';
  var popper = 'popper';
  var reference = 'reference';
  var variationPlacements = basePlacements.reduce(function (acc, placement) {
    return acc.concat([placement + "-" + start, placement + "-" + end]);
  }, []);
  var placements = [].concat(basePlacements, [auto]).reduce(function (acc, placement) {
    return acc.concat([placement, placement + "-" + start, placement + "-" + end]);
  }, []); 

  var beforeRead = 'beforeRead';
  var read = 'read';
  var afterRead = 'afterRead'; 

  var beforeMain = 'beforeMain';
  var main = 'main';
  var afterMain = 'afterMain'; 

  var beforeWrite = 'beforeWrite';
  var write = 'write';
  var afterWrite = 'afterWrite';
  var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];

  function order(modifiers) {
    var map = new Map();
    var visited = new Set();
    var result = [];
    modifiers.forEach(function (modifier) {
      map.set(modifier.name, modifier);
    }); 

    function sort(modifier) {
      visited.add(modifier.name);
      var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);
      requires.forEach(function (dep) {
        if (!visited.has(dep)) {
          var depModifier = map.get(dep);

          if (depModifier) {
            sort(depModifier);
          }
        }
      });
      result.push(modifier);
    }

    modifiers.forEach(function (modifier) {
      if (!visited.has(modifier.name)) {
        sort(modifier);
      }
    });
    return result;
  }

  function orderModifiers(modifiers) {
    var orderedModifiers = order(modifiers); 

    return modifierPhases.reduce(function (acc, phase) {
      return acc.concat(orderedModifiers.filter(function (modifier) {
        return modifier.phase === phase;
      }));
    }, []);
  }

  function debounce(fn) {
    var pending;
    return function () {
      if (!pending) {
        pending = new Promise(function (resolve) {
          Promise.resolve().then(function () {
            pending = undefined;
            resolve(fn());
          });
        });
      }

      return pending;
    };
  }

  function mergeByName(modifiers) {
    var merged = modifiers.reduce(function (merged, current) {
      var existing = merged[current.name];
      merged[current.name] = existing ? Object.assign({}, existing, current, {
        options: Object.assign({}, existing.options, current.options),
        data: Object.assign({}, existing.data, current.data)
      }) : current;
      return merged;
    }, {}); 

    return Object.keys(merged).map(function (key) {
      return merged[key];
    });
  }

  function getViewportRect(element, strategy) {
    var win = getWindow(element);
    var html = getDocumentElement(element);
    var visualViewport = win.visualViewport;
    var width = html.clientWidth;
    var height = html.clientHeight;
    var x = 0;
    var y = 0;

    if (visualViewport) {
      width = visualViewport.width;
      height = visualViewport.height;
      var layoutViewport = isLayoutViewport();

      if (layoutViewport || !layoutViewport && strategy === 'fixed') {
        x = visualViewport.offsetLeft;
        y = visualViewport.offsetTop;
      }
    }

    return {
      width: width,
      height: height,
      x: x + getWindowScrollBarX(element),
      y: y
    };
  }


  function getDocumentRect(element) {
    var _element$ownerDocumen;

    var html = getDocumentElement(element);
    var winScroll = getWindowScroll(element);
    var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;
    var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);
    var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);
    var x = -winScroll.scrollLeft + getWindowScrollBarX(element);
    var y = -winScroll.scrollTop;

    if (getComputedStyle(body || html).direction === 'rtl') {
      x += max(html.clientWidth, body ? body.clientWidth : 0) - width;
    }

    return {
      width: width,
      height: height,
      x: x,
      y: y
    };
  }

  function contains(parent, child) {
    var rootNode = child.getRootNode && child.getRootNode(); 

    if (parent.contains(child)) {
      return true;
    } 
    else if (rootNode && isShadowRoot(rootNode)) {
        var next = child;

        do {
          if (next && parent.isSameNode(next)) {
            return true;
          } 


          next = next.parentNode || next.host;
        } while (next);
      } 


    return false;
  }

  function rectToClientRect(rect) {
    return Object.assign({}, rect, {
      left: rect.x,
      top: rect.y,
      right: rect.x + rect.width,
      bottom: rect.y + rect.height
    });
  }

  function getInnerBoundingClientRect(element, strategy) {
    var rect = getBoundingClientRect(element, false, strategy === 'fixed');
    rect.top = rect.top + element.clientTop;
    rect.left = rect.left + element.clientLeft;
    rect.bottom = rect.top + element.clientHeight;
    rect.right = rect.left + element.clientWidth;
    rect.width = element.clientWidth;
    rect.height = element.clientHeight;
    rect.x = rect.left;
    rect.y = rect.top;
    return rect;
  }

  function getClientRectFromMixedType(element, clippingParent, strategy) {
    return clippingParent === viewport ? rectToClientRect(getViewportRect(element, strategy)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : rectToClientRect(getDocumentRect(getDocumentElement(element)));
  } 


  function getClippingParents(element) {
    var clippingParents = listScrollParents(getParentNode(element));
    var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;
    var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;

    if (!isElement(clipperElement)) {
      return [];
    } 


    return clippingParents.filter(function (clippingParent) {
      return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';
    });
  } 


  function getClippingRect(element, boundary, rootBoundary, strategy) {
    var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);
    var clippingParents = [].concat(mainClippingParents, [rootBoundary]);
    var firstClippingParent = clippingParents[0];
    var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {
      var rect = getClientRectFromMixedType(element, clippingParent, strategy);
      accRect.top = max(rect.top, accRect.top);
      accRect.right = min(rect.right, accRect.right);
      accRect.bottom = min(rect.bottom, accRect.bottom);
      accRect.left = max(rect.left, accRect.left);
      return accRect;
    }, getClientRectFromMixedType(element, firstClippingParent, strategy));
    clippingRect.width = clippingRect.right - clippingRect.left;
    clippingRect.height = clippingRect.bottom - clippingRect.top;
    clippingRect.x = clippingRect.left;
    clippingRect.y = clippingRect.top;
    return clippingRect;
  }

  function getBasePlacement(placement) {
    return placement.split('-')[0];
  }

  function getVariation(placement) {
    return placement.split('-')[1];
  }

  function getMainAxisFromPlacement(placement) {
    return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';
  }

  function computeOffsets(_ref) {
    var reference = _ref.reference,
        element = _ref.element,
        placement = _ref.placement;
    var basePlacement = placement ? getBasePlacement(placement) : null;
    var variation = placement ? getVariation(placement) : null;
    var commonX = reference.x + reference.width / 2 - element.width / 2;
    var commonY = reference.y + reference.height / 2 - element.height / 2;
    var offsets;

    switch (basePlacement) {
      case top:
        offsets = {
          x: commonX,
          y: reference.y - element.height
        };
        break;

      case bottom:
        offsets = {
          x: commonX,
          y: reference.y + reference.height
        };
        break;

      case right:
        offsets = {
          x: reference.x + reference.width,
          y: commonY
        };
        break;

      case left:
        offsets = {
          x: reference.x - element.width,
          y: commonY
        };
        break;

      default:
        offsets = {
          x: reference.x,
          y: reference.y
        };
    }

    var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;

    if (mainAxis != null) {
      var len = mainAxis === 'y' ? 'height' : 'width';

      switch (variation) {
        case start:
          offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);
          break;

        case end:
          offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);
          break;
      }
    }

    return offsets;
  }

  function getFreshSideObject() {
    return {
      top: 0,
      right: 0,
      bottom: 0,
      left: 0
    };
  }

  function mergePaddingObject(paddingObject) {
    return Object.assign({}, getFreshSideObject(), paddingObject);
  }

  function expandToHashMap(value, keys) {
    return keys.reduce(function (hashMap, key) {
      hashMap[key] = value;
      return hashMap;
    }, {});
  }

  function detectOverflow(state, options) {
    if (options === void 0) {
      options = {};
    }

    var _options = options,
        _options$placement = _options.placement,
        placement = _options$placement === void 0 ? state.placement : _options$placement,
        _options$strategy = _options.strategy,
        strategy = _options$strategy === void 0 ? state.strategy : _options$strategy,
        _options$boundary = _options.boundary,
        boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,
        _options$rootBoundary = _options.rootBoundary,
        rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,
        _options$elementConte = _options.elementContext,
        elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,
        _options$altBoundary = _options.altBoundary,
        altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,
        _options$padding = _options.padding,
        padding = _options$padding === void 0 ? 0 : _options$padding;
    var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));
    var altContext = elementContext === popper ? reference : popper;
    var popperRect = state.rects.popper;
    var element = state.elements[altBoundary ? altContext : elementContext];
    var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary, strategy);
    var referenceClientRect = getBoundingClientRect(state.elements.reference);
    var popperOffsets = computeOffsets({
      reference: referenceClientRect,
      element: popperRect,
      strategy: 'absolute',
      placement: placement
    });
    var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));
    var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; 

    var overflowOffsets = {
      top: clippingClientRect.top - elementClientRect.top + paddingObject.top,
      bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,
      left: clippingClientRect.left - elementClientRect.left + paddingObject.left,
      right: elementClientRect.right - clippingClientRect.right + paddingObject.right
    };
    var offsetData = state.modifiersData.offset; 

    if (elementContext === popper && offsetData) {
      var offset = offsetData[placement];
      Object.keys(overflowOffsets).forEach(function (key) {
        var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;
        var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';
        overflowOffsets[key] += offset[axis] * multiply;
      });
    }

    return overflowOffsets;
  }

  var DEFAULT_OPTIONS = {
    placement: 'bottom',
    modifiers: [],
    strategy: 'absolute'
  };

  function areValidElements() {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return !args.some(function (element) {
      return !(element && typeof element.getBoundingClientRect === 'function');
    });
  }

  function popperGenerator(generatorOptions) {
    if (generatorOptions === void 0) {
      generatorOptions = {};
    }

    var _generatorOptions = generatorOptions,
        _generatorOptions$def = _generatorOptions.defaultModifiers,
        defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,
        _generatorOptions$def2 = _generatorOptions.defaultOptions,
        defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;
    return function createPopper(reference, popper, options) {
      if (options === void 0) {
        options = defaultOptions;
      }

      var state = {
        placement: 'bottom',
        orderedModifiers: [],
        options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),
        modifiersData: {},
        elements: {
          reference: reference,
          popper: popper
        },
        attributes: {},
        styles: {}
      };
      var effectCleanupFns = [];
      var isDestroyed = false;
      var instance = {
        state: state,
        setOptions: function setOptions(setOptionsAction) {
          var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;
          cleanupModifierEffects();
          state.options = Object.assign({}, defaultOptions, state.options, options);
          state.scrollParents = {
            reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],
            popper: listScrollParents(popper)
          }; 

          var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); 

          state.orderedModifiers = orderedModifiers.filter(function (m) {
            return m.enabled;
          });
          runModifierEffects();
          return instance.update();
        },
        forceUpdate: function forceUpdate() {
          if (isDestroyed) {
            return;
          }

          var _state$elements = state.elements,
              reference = _state$elements.reference,
              popper = _state$elements.popper; 

          if (!areValidElements(reference, popper)) {
            return;
          } 


          state.rects = {
            reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),
            popper: getLayoutRect(popper)
          }; 

          state.reset = false;
          state.placement = state.options.placement; 

          state.orderedModifiers.forEach(function (modifier) {
            return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);
          });

          for (var index = 0; index < state.orderedModifiers.length; index++) {
            if (state.reset === true) {
              state.reset = false;
              index = -1;
              continue;
            }

            var _state$orderedModifie = state.orderedModifiers[index],
                fn = _state$orderedModifie.fn,
                _state$orderedModifie2 = _state$orderedModifie.options,
                _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,
                name = _state$orderedModifie.name;

            if (typeof fn === 'function') {
              state = fn({
                state: state,
                options: _options,
                name: name,
                instance: instance
              }) || state;
            }
          }
        },
        update: debounce(function () {
          return new Promise(function (resolve) {
            instance.forceUpdate();
            resolve(state);
          });
        }),
        destroy: function destroy() {
          cleanupModifierEffects();
          isDestroyed = true;
        }
      };

      if (!areValidElements(reference, popper)) {
        return instance;
      }

      instance.setOptions(options).then(function (state) {
        if (!isDestroyed && options.onFirstUpdate) {
          options.onFirstUpdate(state);
        }
      }); 

      function runModifierEffects() {
        state.orderedModifiers.forEach(function (_ref) {
          var name = _ref.name,
              _ref$options = _ref.options,
              options = _ref$options === void 0 ? {} : _ref$options,
              effect = _ref.effect;

          if (typeof effect === 'function') {
            var cleanupFn = effect({
              state: state,
              name: name,
              instance: instance,
              options: options
            });

            var noopFn = function noopFn() {};

            effectCleanupFns.push(cleanupFn || noopFn);
          }
        });
      }

      function cleanupModifierEffects() {
        effectCleanupFns.forEach(function (fn) {
          return fn();
        });
        effectCleanupFns = [];
      }

      return instance;
    };
  }

  var passive = {
    passive: true
  };

  function effect$2(_ref) {
    var state = _ref.state,
        instance = _ref.instance,
        options = _ref.options;
    var _options$scroll = options.scroll,
        scroll = _options$scroll === void 0 ? true : _options$scroll,
        _options$resize = options.resize,
        resize = _options$resize === void 0 ? true : _options$resize;
    var window = getWindow(state.elements.popper);
    var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);

    if (scroll) {
      scrollParents.forEach(function (scrollParent) {
        scrollParent.addEventListener('scroll', instance.update, passive);
      });
    }

    if (resize) {
      window.addEventListener('resize', instance.update, passive);
    }

    return function () {
      if (scroll) {
        scrollParents.forEach(function (scrollParent) {
          scrollParent.removeEventListener('scroll', instance.update, passive);
        });
      }

      if (resize) {
        window.removeEventListener('resize', instance.update, passive);
      }
    };
  } 


  var eventListeners = {
    name: 'eventListeners',
    enabled: true,
    phase: 'write',
    fn: function fn() {},
    effect: effect$2,
    data: {}
  };

  function popperOffsets(_ref) {
    var state = _ref.state,
        name = _ref.name;
    state.modifiersData[name] = computeOffsets({
      reference: state.rects.reference,
      element: state.rects.popper,
      strategy: 'absolute',
      placement: state.placement
    });
  } 


  var popperOffsets$1 = {
    name: 'popperOffsets',
    enabled: true,
    phase: 'read',
    fn: popperOffsets,
    data: {}
  };

  var unsetSides = {
    top: 'auto',
    right: 'auto',
    bottom: 'auto',
    left: 'auto'
  }; 

  function roundOffsetsByDPR(_ref, win) {
    var x = _ref.x,
        y = _ref.y;
    var dpr = win.devicePixelRatio || 1;
    return {
      x: round(x * dpr) / dpr || 0,
      y: round(y * dpr) / dpr || 0
    };
  }

  function mapToStyles(_ref2) {
    var _Object$assign2;

    var popper = _ref2.popper,
        popperRect = _ref2.popperRect,
        placement = _ref2.placement,
        variation = _ref2.variation,
        offsets = _ref2.offsets,
        position = _ref2.position,
        gpuAcceleration = _ref2.gpuAcceleration,
        adaptive = _ref2.adaptive,
        roundOffsets = _ref2.roundOffsets,
        isFixed = _ref2.isFixed;
    var _offsets$x = offsets.x,
        x = _offsets$x === void 0 ? 0 : _offsets$x,
        _offsets$y = offsets.y,
        y = _offsets$y === void 0 ? 0 : _offsets$y;

    var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({
      x: x,
      y: y
    }) : {
      x: x,
      y: y
    };

    x = _ref3.x;
    y = _ref3.y;
    var hasX = offsets.hasOwnProperty('x');
    var hasY = offsets.hasOwnProperty('y');
    var sideX = left;
    var sideY = top;
    var win = window;

    if (adaptive) {
      var offsetParent = getOffsetParent(popper);
      var heightProp = 'clientHeight';
      var widthProp = 'clientWidth';

      if (offsetParent === getWindow(popper)) {
        offsetParent = getDocumentElement(popper);

        if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') {
          heightProp = 'scrollHeight';
          widthProp = 'scrollWidth';
        }
      } 


      offsetParent = offsetParent;

      if (placement === top || (placement === left || placement === right) && variation === end) {
        sideY = bottom;
        var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : 
        offsetParent[heightProp];
        y -= offsetY - popperRect.height;
        y *= gpuAcceleration ? 1 : -1;
      }

      if (placement === left || (placement === top || placement === bottom) && variation === end) {
        sideX = right;
        var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : 
        offsetParent[widthProp];
        x -= offsetX - popperRect.width;
        x *= gpuAcceleration ? 1 : -1;
      }
    }

    var commonStyles = Object.assign({
      position: position
    }, adaptive && unsetSides);

    var _ref4 = roundOffsets === true ? roundOffsetsByDPR({
      x: x,
      y: y
    }, getWindow(popper)) : {
      x: x,
      y: y
    };

    x = _ref4.x;
    y = _ref4.y;

    if (gpuAcceleration) {
      var _Object$assign;

      return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? "translate(" + x + "px, " + y + "px)" : "translate3d(" + x + "px, " + y + "px, 0)", _Object$assign));
    }

    return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + "px" : '', _Object$assign2[sideX] = hasX ? x + "px" : '', _Object$assign2.transform = '', _Object$assign2));
  }

  function computeStyles(_ref5) {
    var state = _ref5.state,
        options = _ref5.options;
    var _options$gpuAccelerat = options.gpuAcceleration,
        gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,
        _options$adaptive = options.adaptive,
        adaptive = _options$adaptive === void 0 ? true : _options$adaptive,
        _options$roundOffsets = options.roundOffsets,
        roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;
    var commonStyles = {
      placement: getBasePlacement(state.placement),
      variation: getVariation(state.placement),
      popper: state.elements.popper,
      popperRect: state.rects.popper,
      gpuAcceleration: gpuAcceleration,
      isFixed: state.options.strategy === 'fixed'
    };

    if (state.modifiersData.popperOffsets != null) {
      state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {
        offsets: state.modifiersData.popperOffsets,
        position: state.options.strategy,
        adaptive: adaptive,
        roundOffsets: roundOffsets
      })));
    }

    if (state.modifiersData.arrow != null) {
      state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {
        offsets: state.modifiersData.arrow,
        position: 'absolute',
        adaptive: false,
        roundOffsets: roundOffsets
      })));
    }

    state.attributes.popper = Object.assign({}, state.attributes.popper, {
      'data-popper-placement': state.placement
    });
  } 


  var computeStyles$1 = {
    name: 'computeStyles',
    enabled: true,
    phase: 'beforeWrite',
    fn: computeStyles,
    data: {}
  };


  function applyStyles(_ref) {
    var state = _ref.state;
    Object.keys(state.elements).forEach(function (name) {
      var style = state.styles[name] || {};
      var attributes = state.attributes[name] || {};
      var element = state.elements[name]; 

      if (!isHTMLElement(element) || !getNodeName(element)) {
        return;
      } 


      Object.assign(element.style, style);
      Object.keys(attributes).forEach(function (name) {
        var value = attributes[name];

        if (value === false) {
          element.removeAttribute(name);
        } else {
          element.setAttribute(name, value === true ? '' : value);
        }
      });
    });
  }

  function effect$1(_ref2) {
    var state = _ref2.state;
    var initialStyles = {
      popper: {
        position: state.options.strategy,
        left: '0',
        top: '0',
        margin: '0'
      },
      arrow: {
        position: 'absolute'
      },
      reference: {}
    };
    Object.assign(state.elements.popper.style, initialStyles.popper);
    state.styles = initialStyles;

    if (state.elements.arrow) {
      Object.assign(state.elements.arrow.style, initialStyles.arrow);
    }

    return function () {
      Object.keys(state.elements).forEach(function (name) {
        var element = state.elements[name];
        var attributes = state.attributes[name] || {};
        var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); 

        var style = styleProperties.reduce(function (style, property) {
          style[property] = '';
          return style;
        }, {}); 

        if (!isHTMLElement(element) || !getNodeName(element)) {
          return;
        }

        Object.assign(element.style, style);
        Object.keys(attributes).forEach(function (attribute) {
          element.removeAttribute(attribute);
        });
      });
    };
  } 


  var applyStyles$1 = {
    name: 'applyStyles',
    enabled: true,
    phase: 'write',
    fn: applyStyles,
    effect: effect$1,
    requires: ['computeStyles']
  };

  function distanceAndSkiddingToXY(placement, rects, offset) {
    var basePlacement = getBasePlacement(placement);
    var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;

    var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {
      placement: placement
    })) : offset,
        skidding = _ref[0],
        distance = _ref[1];

    skidding = skidding || 0;
    distance = (distance || 0) * invertDistance;
    return [left, right].indexOf(basePlacement) >= 0 ? {
      x: distance,
      y: skidding
    } : {
      x: skidding,
      y: distance
    };
  }

  function offset(_ref2) {
    var state = _ref2.state,
        options = _ref2.options,
        name = _ref2.name;
    var _options$offset = options.offset,
        offset = _options$offset === void 0 ? [0, 0] : _options$offset;
    var data = placements.reduce(function (acc, placement) {
      acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);
      return acc;
    }, {});
    var _data$state$placement = data[state.placement],
        x = _data$state$placement.x,
        y = _data$state$placement.y;

    if (state.modifiersData.popperOffsets != null) {
      state.modifiersData.popperOffsets.x += x;
      state.modifiersData.popperOffsets.y += y;
    }

    state.modifiersData[name] = data;
  } 


  var offset$1 = {
    name: 'offset',
    enabled: true,
    phase: 'main',
    requires: ['popperOffsets'],
    fn: offset
  };

  var hash$1 = {
    left: 'right',
    right: 'left',
    bottom: 'top',
    top: 'bottom'
  };
  function getOppositePlacement(placement) {
    return placement.replace(/left|right|bottom|top/g, function (matched) {
      return hash$1[matched];
    });
  }

  var hash = {
    start: 'end',
    end: 'start'
  };
  function getOppositeVariationPlacement(placement) {
    return placement.replace(/start|end/g, function (matched) {
      return hash[matched];
    });
  }

  function computeAutoPlacement(state, options) {
    if (options === void 0) {
      options = {};
    }

    var _options = options,
        placement = _options.placement,
        boundary = _options.boundary,
        rootBoundary = _options.rootBoundary,
        padding = _options.padding,
        flipVariations = _options.flipVariations,
        _options$allowedAutoP = _options.allowedAutoPlacements,
        allowedAutoPlacements = _options$allowedAutoP === void 0 ? placements : _options$allowedAutoP;
    var variation = getVariation(placement);
    var placements$1 = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {
      return getVariation(placement) === variation;
    }) : basePlacements;
    var allowedPlacements = placements$1.filter(function (placement) {
      return allowedAutoPlacements.indexOf(placement) >= 0;
    });

    if (allowedPlacements.length === 0) {
      allowedPlacements = placements$1;
    } 


    var overflows = allowedPlacements.reduce(function (acc, placement) {
      acc[placement] = detectOverflow(state, {
        placement: placement,
        boundary: boundary,
        rootBoundary: rootBoundary,
        padding: padding
      })[getBasePlacement(placement)];
      return acc;
    }, {});
    return Object.keys(overflows).sort(function (a, b) {
      return overflows[a] - overflows[b];
    });
  }

  function getExpandedFallbackPlacements(placement) {
    if (getBasePlacement(placement) === auto) {
      return [];
    }

    var oppositePlacement = getOppositePlacement(placement);
    return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];
  }

  function flip(_ref) {
    var state = _ref.state,
        options = _ref.options,
        name = _ref.name;

    if (state.modifiersData[name]._skip) {
      return;
    }

    var _options$mainAxis = options.mainAxis,
        checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,
        _options$altAxis = options.altAxis,
        checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,
        specifiedFallbackPlacements = options.fallbackPlacements,
        padding = options.padding,
        boundary = options.boundary,
        rootBoundary = options.rootBoundary,
        altBoundary = options.altBoundary,
        _options$flipVariatio = options.flipVariations,
        flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,
        allowedAutoPlacements = options.allowedAutoPlacements;
    var preferredPlacement = state.options.placement;
    var basePlacement = getBasePlacement(preferredPlacement);
    var isBasePlacement = basePlacement === preferredPlacement;
    var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));
    var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {
      return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {
        placement: placement,
        boundary: boundary,
        rootBoundary: rootBoundary,
        padding: padding,
        flipVariations: flipVariations,
        allowedAutoPlacements: allowedAutoPlacements
      }) : placement);
    }, []);
    var referenceRect = state.rects.reference;
    var popperRect = state.rects.popper;
    var checksMap = new Map();
    var makeFallbackChecks = true;
    var firstFittingPlacement = placements[0];

    for (var i = 0; i < placements.length; i++) {
      var placement = placements[i];

      var _basePlacement = getBasePlacement(placement);

      var isStartVariation = getVariation(placement) === start;
      var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;
      var len = isVertical ? 'width' : 'height';
      var overflow = detectOverflow(state, {
        placement: placement,
        boundary: boundary,
        rootBoundary: rootBoundary,
        altBoundary: altBoundary,
        padding: padding
      });
      var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;

      if (referenceRect[len] > popperRect[len]) {
        mainVariationSide = getOppositePlacement(mainVariationSide);
      }

      var altVariationSide = getOppositePlacement(mainVariationSide);
      var checks = [];

      if (checkMainAxis) {
        checks.push(overflow[_basePlacement] <= 0);
      }

      if (checkAltAxis) {
        checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);
      }

      if (checks.every(function (check) {
        return check;
      })) {
        firstFittingPlacement = placement;
        makeFallbackChecks = false;
        break;
      }

      checksMap.set(placement, checks);
    }

    if (makeFallbackChecks) {
      var numberOfChecks = flipVariations ? 3 : 1;

      var _loop = function _loop(_i) {
        var fittingPlacement = placements.find(function (placement) {
          var checks = checksMap.get(placement);

          if (checks) {
            return checks.slice(0, _i).every(function (check) {
              return check;
            });
          }
        });

        if (fittingPlacement) {
          firstFittingPlacement = fittingPlacement;
          return "break";
        }
      };

      for (var _i = numberOfChecks; _i > 0; _i--) {
        var _ret = _loop(_i);

        if (_ret === "break") break;
      }
    }

    if (state.placement !== firstFittingPlacement) {
      state.modifiersData[name]._skip = true;
      state.placement = firstFittingPlacement;
      state.reset = true;
    }
  } 


  var flip$1 = {
    name: 'flip',
    enabled: true,
    phase: 'main',
    fn: flip,
    requiresIfExists: ['offset'],
    data: {
      _skip: false
    }
  };

  function getAltAxis(axis) {
    return axis === 'x' ? 'y' : 'x';
  }

  function within(min$1, value, max$1) {
    return max(min$1, min(value, max$1));
  }
  function withinMaxClamp(min, value, max) {
    var v = within(min, value, max);
    return v > max ? max : v;
  }

  function preventOverflow(_ref) {
    var state = _ref.state,
        options = _ref.options,
        name = _ref.name;
    var _options$mainAxis = options.mainAxis,
        checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,
        _options$altAxis = options.altAxis,
        checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,
        boundary = options.boundary,
        rootBoundary = options.rootBoundary,
        altBoundary = options.altBoundary,
        padding = options.padding,
        _options$tether = options.tether,
        tether = _options$tether === void 0 ? true : _options$tether,
        _options$tetherOffset = options.tetherOffset,
        tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;
    var overflow = detectOverflow(state, {
      boundary: boundary,
      rootBoundary: rootBoundary,
      padding: padding,
      altBoundary: altBoundary
    });
    var basePlacement = getBasePlacement(state.placement);
    var variation = getVariation(state.placement);
    var isBasePlacement = !variation;
    var mainAxis = getMainAxisFromPlacement(basePlacement);
    var altAxis = getAltAxis(mainAxis);
    var popperOffsets = state.modifiersData.popperOffsets;
    var referenceRect = state.rects.reference;
    var popperRect = state.rects.popper;
    var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {
      placement: state.placement
    })) : tetherOffset;
    var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {
      mainAxis: tetherOffsetValue,
      altAxis: tetherOffsetValue
    } : Object.assign({
      mainAxis: 0,
      altAxis: 0
    }, tetherOffsetValue);
    var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;
    var data = {
      x: 0,
      y: 0
    };

    if (!popperOffsets) {
      return;
    }

    if (checkMainAxis) {
      var _offsetModifierState$;

      var mainSide = mainAxis === 'y' ? top : left;
      var altSide = mainAxis === 'y' ? bottom : right;
      var len = mainAxis === 'y' ? 'height' : 'width';
      var offset = popperOffsets[mainAxis];
      var min$1 = offset + overflow[mainSide];
      var max$1 = offset - overflow[altSide];
      var additive = tether ? -popperRect[len] / 2 : 0;
      var minLen = variation === start ? referenceRect[len] : popperRect[len];
      var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; 

      var arrowElement = state.elements.arrow;
      var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {
        width: 0,
        height: 0
      };
      var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();
      var arrowPaddingMin = arrowPaddingObject[mainSide];
      var arrowPaddingMax = arrowPaddingObject[altSide]; 

      var arrowLen = within(0, referenceRect[len], arrowRect[len]);
      var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;
      var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;
      var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);
      var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;
      var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;
      var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;
      var tetherMax = offset + maxOffset - offsetModifierValue;
      var preventedOffset = within(tether ? min(min$1, tetherMin) : min$1, offset, tether ? max(max$1, tetherMax) : max$1);
      popperOffsets[mainAxis] = preventedOffset;
      data[mainAxis] = preventedOffset - offset;
    }

    if (checkAltAxis) {
      var _offsetModifierState$2;

      var _mainSide = mainAxis === 'x' ? top : left;

      var _altSide = mainAxis === 'x' ? bottom : right;

      var _offset = popperOffsets[altAxis];

      var _len = altAxis === 'y' ? 'height' : 'width';

      var _min = _offset + overflow[_mainSide];

      var _max = _offset - overflow[_altSide];

      var isOriginSide = [top, left].indexOf(basePlacement) !== -1;

      var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;

      var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;

      var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;

      var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);

      popperOffsets[altAxis] = _preventedOffset;
      data[altAxis] = _preventedOffset - _offset;
    }

    state.modifiersData[name] = data;
  } 


  var preventOverflow$1 = {
    name: 'preventOverflow',
    enabled: true,
    phase: 'main',
    fn: preventOverflow,
    requiresIfExists: ['offset']
  };

  var toPaddingObject = function toPaddingObject(padding, state) {
    padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {
      placement: state.placement
    })) : padding;
    return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));
  };

  function arrow(_ref) {
    var _state$modifiersData$;

    var state = _ref.state,
        name = _ref.name,
        options = _ref.options;
    var arrowElement = state.elements.arrow;
    var popperOffsets = state.modifiersData.popperOffsets;
    var basePlacement = getBasePlacement(state.placement);
    var axis = getMainAxisFromPlacement(basePlacement);
    var isVertical = [left, right].indexOf(basePlacement) >= 0;
    var len = isVertical ? 'height' : 'width';

    if (!arrowElement || !popperOffsets) {
      return;
    }

    var paddingObject = toPaddingObject(options.padding, state);
    var arrowRect = getLayoutRect(arrowElement);
    var minProp = axis === 'y' ? top : left;
    var maxProp = axis === 'y' ? bottom : right;
    var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];
    var startDiff = popperOffsets[axis] - state.rects.reference[axis];
    var arrowOffsetParent = getOffsetParent(arrowElement);
    var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;
    var centerToReference = endDiff / 2 - startDiff / 2; 

    var min = paddingObject[minProp];
    var max = clientSize - arrowRect[len] - paddingObject[maxProp];
    var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;
    var offset = within(min, center, max); 

    var axisProp = axis;
    state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);
  }

  function effect(_ref2) {
    var state = _ref2.state,
        options = _ref2.options;
    var _options$element = options.element,
        arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;

    if (arrowElement == null) {
      return;
    } 


    if (typeof arrowElement === 'string') {
      arrowElement = state.elements.popper.querySelector(arrowElement);

      if (!arrowElement) {
        return;
      }
    }

    if (!contains(state.elements.popper, arrowElement)) {
      return;
    }

    state.elements.arrow = arrowElement;
  } 


  var arrow$1 = {
    name: 'arrow',
    enabled: true,
    phase: 'main',
    fn: arrow,
    effect: effect,
    requires: ['popperOffsets'],
    requiresIfExists: ['preventOverflow']
  };

  function getSideOffsets(overflow, rect, preventedOffsets) {
    if (preventedOffsets === void 0) {
      preventedOffsets = {
        x: 0,
        y: 0
      };
    }

    return {
      top: overflow.top - rect.height - preventedOffsets.y,
      right: overflow.right - rect.width + preventedOffsets.x,
      bottom: overflow.bottom - rect.height + preventedOffsets.y,
      left: overflow.left - rect.width - preventedOffsets.x
    };
  }

  function isAnySideFullyClipped(overflow) {
    return [top, right, bottom, left].some(function (side) {
      return overflow[side] >= 0;
    });
  }

  function hide(_ref) {
    var state = _ref.state,
        name = _ref.name;
    var referenceRect = state.rects.reference;
    var popperRect = state.rects.popper;
    var preventedOffsets = state.modifiersData.preventOverflow;
    var referenceOverflow = detectOverflow(state, {
      elementContext: 'reference'
    });
    var popperAltOverflow = detectOverflow(state, {
      altBoundary: true
    });
    var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);
    var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);
    var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);
    var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);
    state.modifiersData[name] = {
      referenceClippingOffsets: referenceClippingOffsets,
      popperEscapeOffsets: popperEscapeOffsets,
      isReferenceHidden: isReferenceHidden,
      hasPopperEscaped: hasPopperEscaped
    };
    state.attributes.popper = Object.assign({}, state.attributes.popper, {
      'data-popper-reference-hidden': isReferenceHidden,
      'data-popper-escaped': hasPopperEscaped
    });
  } 


  var hide$1 = {
    name: 'hide',
    enabled: true,
    phase: 'main',
    requiresIfExists: ['preventOverflow'],
    fn: hide
  };

  var defaultModifiers$1 = [eventListeners, popperOffsets$1, computeStyles$1, applyStyles$1];
  var createPopper$1 = popperGenerator({
    defaultModifiers: defaultModifiers$1
  }); 

  var defaultModifiers = [eventListeners, popperOffsets$1, computeStyles$1, applyStyles$1, offset$1, flip$1, preventOverflow$1, arrow$1, hide$1];
  var createPopper = popperGenerator({
    defaultModifiers: defaultModifiers
  }); 

  exports.applyStyles = applyStyles$1;
  exports.arrow = arrow$1;
  exports.computeStyles = computeStyles$1;
  exports.createPopper = createPopper;
  exports.createPopperLite = createPopper$1;
  exports.defaultModifiers = defaultModifiers;
  exports.detectOverflow = detectOverflow;
  exports.eventListeners = eventListeners;
  exports.flip = flip$1;
  exports.hide = hide$1;
  exports.offset = offset$1;
  exports.popperGenerator = popperGenerator;
  exports.popperOffsets = popperOffsets$1;
  exports.preventOverflow = preventOverflow$1;

  Object.defineProperty(exports, '__esModule', { value: true });

})));

(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('@popperjs/core')) :
  typeof define === 'function' && define.amd ? define(['@popperjs/core'], factory) :
  (global = global || self, global.tippy = factory(global.Popper));
}(this, (function (core) { 'use strict';

  var css = ".tippy-box[data-animation=fade][data-state=hidden]{opacity:0}[data-tippy-root]{max-width:calc(100vw - 10px)}.tippy-box{position:relative;background-color:#333;color:#fff;border-radius:4px;font-size:14px;line-height:1.4;white-space:normal;outline:0;transition-property:transform,visibility,opacity}.tippy-box[data-placement^=top]>.tippy-arrow{bottom:0}.tippy-box[data-placement^=top]>.tippy-arrow:before{bottom:-7px;left:0;border-width:8px 8px 0;border-top-color:initial;transform-origin:center top}.tippy-box[data-placement^=bottom]>.tippy-arrow{top:0}.tippy-box[data-placement^=bottom]>.tippy-arrow:before{top:-7px;left:0;border-width:0 8px 8px;border-bottom-color:initial;transform-origin:center bottom}.tippy-box[data-placement^=left]>.tippy-arrow{right:0}.tippy-box[data-placement^=left]>.tippy-arrow:before{border-width:8px 0 8px 8px;border-left-color:initial;right:-7px;transform-origin:center left}.tippy-box[data-placement^=right]>.tippy-arrow{left:0}.tippy-box[data-placement^=right]>.tippy-arrow:before{left:-7px;border-width:8px 8px 8px 0;border-right-color:initial;transform-origin:center right}.tippy-box[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-arrow{width:16px;height:16px;color:#333}.tippy-arrow:before{content:\"\";position:absolute;border-color:transparent;border-style:solid}.tippy-content{position:relative;padding:5px 9px;z-index:1}";

  function injectCSS(css) {
    var style = document.createElement('style');
    style.textContent = css;
    style.setAttribute('data-tippy-stylesheet', '');
    var head = document.head;
    var firstStyleOrLinkTag = document.querySelector('head>style,head>link');

    if (firstStyleOrLinkTag) {
      head.insertBefore(style, firstStyleOrLinkTag);
    } else {
      head.appendChild(style);
    }
  }

  var isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';
  var isIE11 = isBrowser ? 
  !!window.msCrypto : false;

  var ROUND_ARROW = '<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>';
  var BOX_CLASS = "tippy-box";
  var CONTENT_CLASS = "tippy-content";
  var BACKDROP_CLASS = "tippy-backdrop";
  var ARROW_CLASS = "tippy-arrow";
  var SVG_ARROW_CLASS = "tippy-svg-arrow";
  var TOUCH_OPTIONS = {
    passive: true,
    capture: true
  };
  var TIPPY_DEFAULT_APPEND_TO = function TIPPY_DEFAULT_APPEND_TO() {
    return document.body;
  };

  function hasOwnProperty(obj, key) {
    return {}.hasOwnProperty.call(obj, key);
  }
  function getValueAtIndexOrReturn(value, index, defaultValue) {
    if (Array.isArray(value)) {
      var v = value[index];
      return v == null ? Array.isArray(defaultValue) ? defaultValue[index] : defaultValue : v;
    }

    return value;
  }
  function isType(value, type) {
    var str = {}.toString.call(value);
    return str.indexOf('[object') === 0 && str.indexOf(type + "]") > -1;
  }
  function invokeWithArgsOrReturn(value, args) {
    return typeof value === 'function' ? value.apply(void 0, args) : value;
  }
  function debounce(fn, ms) {
    if (ms === 0) {
      return fn;
    }

    var timeout;
    return function (arg) {
      clearTimeout(timeout);
      timeout = setTimeout(function () {
        fn(arg);
      }, ms);
    };
  }
  function removeProperties(obj, keys) {
    var clone = Object.assign({}, obj);
    keys.forEach(function (key) {
      delete clone[key];
    });
    return clone;
  }
  function splitBySpaces(value) {
    return value.split(/\s+/).filter(Boolean);
  }
  function normalizeToArray(value) {
    return [].concat(value);
  }
  function pushIfUnique(arr, value) {
    if (arr.indexOf(value) === -1) {
      arr.push(value);
    }
  }
  function unique(arr) {
    return arr.filter(function (item, index) {
      return arr.indexOf(item) === index;
    });
  }
  function getBasePlacement(placement) {
    return placement.split('-')[0];
  }
  function arrayFrom(value) {
    return [].slice.call(value);
  }
  function removeUndefinedProps(obj) {
    return Object.keys(obj).reduce(function (acc, key) {
      if (obj[key] !== undefined) {
        acc[key] = obj[key];
      }

      return acc;
    }, {});
  }

  function div() {
    return document.createElement('div');
  }
  function isElement(value) {
    return ['Element', 'Fragment'].some(function (type) {
      return isType(value, type);
    });
  }
  function isNodeList(value) {
    return isType(value, 'NodeList');
  }
  function isMouseEvent(value) {
    return isType(value, 'MouseEvent');
  }
  function isReferenceElement(value) {
    return !!(value && value._tippy && value._tippy.reference === value);
  }
  function getArrayOfElements(value) {
    if (isElement(value)) {
      return [value];
    }

    if (isNodeList(value)) {
      return arrayFrom(value);
    }

    if (Array.isArray(value)) {
      return value;
    }

    return arrayFrom(document.querySelectorAll(value));
  }
  function setTransitionDuration(els, value) {
    els.forEach(function (el) {
      if (el) {
        el.style.transitionDuration = value + "ms";
      }
    });
  }
  function setVisibilityState(els, state) {
    els.forEach(function (el) {
      if (el) {
        el.setAttribute('data-state', state);
      }
    });
  }
  function getOwnerDocument(elementOrElements) {
    var _element$ownerDocumen;

    var _normalizeToArray = normalizeToArray(elementOrElements),
        element = _normalizeToArray[0]; 


    return element != null && (_element$ownerDocumen = element.ownerDocument) != null && _element$ownerDocumen.body ? element.ownerDocument : document;
  }
  function isCursorOutsideInteractiveBorder(popperTreeData, event) {
    var clientX = event.clientX,
        clientY = event.clientY;
    return popperTreeData.every(function (_ref) {
      var popperRect = _ref.popperRect,
          popperState = _ref.popperState,
          props = _ref.props;
      var interactiveBorder = props.interactiveBorder;
      var basePlacement = getBasePlacement(popperState.placement);
      var offsetData = popperState.modifiersData.offset;

      if (!offsetData) {
        return true;
      }

      var topDistance = basePlacement === 'bottom' ? offsetData.top.y : 0;
      var bottomDistance = basePlacement === 'top' ? offsetData.bottom.y : 0;
      var leftDistance = basePlacement === 'right' ? offsetData.left.x : 0;
      var rightDistance = basePlacement === 'left' ? offsetData.right.x : 0;
      var exceedsTop = popperRect.top - clientY + topDistance > interactiveBorder;
      var exceedsBottom = clientY - popperRect.bottom - bottomDistance > interactiveBorder;
      var exceedsLeft = popperRect.left - clientX + leftDistance > interactiveBorder;
      var exceedsRight = clientX - popperRect.right - rightDistance > interactiveBorder;
      return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight;
    });
  }
  function updateTransitionEndListener(box, action, listener) {
    var method = action + "EventListener"; 

    ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {
      box[method](event, listener);
    });
  }

  function actualContains(parent, child) {
    var target = child;

    while (target) {
      var _target$getRootNode;

      if (parent.contains(target)) {
        return true;
      }

      target = target.getRootNode == null ? void 0 : (_target$getRootNode = target.getRootNode()) == null ? void 0 : _target$getRootNode.host;
    }

    return false;
  }

  var currentInput = {
    isTouch: false
  };
  var lastMouseMoveTime = 0;

  function onDocumentTouchStart() {
    if (currentInput.isTouch) {
      return;
    }

    currentInput.isTouch = true;

    if (window.performance) {
      document.addEventListener('mousemove', onDocumentMouseMove);
    }
  }

  function onDocumentMouseMove() {
    var now = performance.now();

    if (now - lastMouseMoveTime < 20) {
      currentInput.isTouch = false;
      document.removeEventListener('mousemove', onDocumentMouseMove);
    }

    lastMouseMoveTime = now;
  }

  function onWindowBlur() {
    var activeElement = document.activeElement;

    if (isReferenceElement(activeElement)) {
      var instance = activeElement._tippy;

      if (activeElement.blur && !instance.state.isVisible) {
        activeElement.blur();
      }
    }
  }
  function bindGlobalEventListeners() {
    document.addEventListener('touchstart', onDocumentTouchStart, TOUCH_OPTIONS);
    window.addEventListener('blur', onWindowBlur);
  }

  function createMemoryLeakWarning(method) {
    var txt = method === 'destroy' ? 'n already-' : ' ';
    return [method + "() was called on a" + txt + "destroyed instance. This is a no-op but", 'indicates a potential memory leak.'].join(' ');
  }
  function clean(value) {
    var spacesAndTabs = /[ \t]{2,}/g;
    var lineStartWithSpaces = /^[ \t]*/gm;
    return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();
  }

  function getDevMessage(message) {
    return clean("\n  %ctippy.js\n\n  %c" + clean(message) + "\n\n  %c\uD83D\uDC77\u200D This is a development-only message. It will be removed in production.\n  ");
  }

  function getFormattedMessage(message) {
    return [getDevMessage(message), 
    'color: #00C584; font-size: 1.3em; font-weight: bold;', 
    'line-height: 1.5', 
    'color: #a6a095;'];
  } 

  var visitedMessages;

  {
    resetVisitedMessages();
  }

  function resetVisitedMessages() {
    visitedMessages = new Set();
  }
  function warnWhen(condition, message) {
    if (condition && !visitedMessages.has(message)) {
      var _console;

      visitedMessages.add(message);

      (_console = console).warn.apply(_console, getFormattedMessage(message));
    }
  }
  function errorWhen(condition, message) {
    if (condition && !visitedMessages.has(message)) {
      var _console2;

      visitedMessages.add(message);

      (_console2 = console).error.apply(_console2, getFormattedMessage(message));
    }
  }
  function validateTargets(targets) {
    var didPassFalsyValue = !targets;
    var didPassPlainObject = Object.prototype.toString.call(targets) === '[object Object]' && !targets.addEventListener;
    errorWhen(didPassFalsyValue, ['tippy() was passed', '`' + String(targets) + '`', 'as its targets (first) argument. Valid types are: String, Element,', 'Element[], or NodeList.'].join(' '));
    errorWhen(didPassPlainObject, ['tippy() was passed a plain object which is not supported as an argument', 'for virtual positioning. Use props.getReferenceClientRect instead.'].join(' '));
  }

  var pluginProps = {
    animateFill: false,
    followCursor: false,
    inlinePositioning: false,
    sticky: false
  };
  var renderProps = {
    allowHTML: false,
    animation: 'fade',
    arrow: true,
    content: '',
    inertia: false,
    maxWidth: 350,
    role: 'tooltip',
    theme: '',
    zIndex: 9999
  };
  var defaultProps = Object.assign({
    appendTo: TIPPY_DEFAULT_APPEND_TO,
    aria: {
      content: 'auto',
      expanded: 'auto'
    },
    delay: 0,
    duration: [300, 250],
    getReferenceClientRect: null,
    hideOnClick: true,
    ignoreAttributes: false,
    interactive: false,
    interactiveBorder: 2,
    interactiveDebounce: 0,
    moveTransition: '',
    offset: [0, 10],
    onAfterUpdate: function onAfterUpdate() {},
    onBeforeUpdate: function onBeforeUpdate() {},
    onCreate: function onCreate() {},
    onDestroy: function onDestroy() {},
    onHidden: function onHidden() {},
    onHide: function onHide() {},
    onMount: function onMount() {},
    onShow: function onShow() {},
    onShown: function onShown() {},
    onTrigger: function onTrigger() {},
    onUntrigger: function onUntrigger() {},
    onClickOutside: function onClickOutside() {},
    placement: 'top',
    plugins: [],
    popperOptions: {},
    render: null,
    showOnCreate: false,
    touch: true,
    trigger: 'mouseenter focus',
    triggerTarget: null
  }, pluginProps, renderProps);
  var defaultKeys = Object.keys(defaultProps);
  var setDefaultProps = function setDefaultProps(partialProps) {
    {
      validateProps(partialProps, []);
    }

    var keys = Object.keys(partialProps);
    keys.forEach(function (key) {
      defaultProps[key] = partialProps[key];
    });
  };
  function getExtendedPassedProps(passedProps) {
    var plugins = passedProps.plugins || [];
    var pluginProps = plugins.reduce(function (acc, plugin) {
      var name = plugin.name,
          defaultValue = plugin.defaultValue;

      if (name) {
        var _name;

        acc[name] = passedProps[name] !== undefined ? passedProps[name] : (_name = defaultProps[name]) != null ? _name : defaultValue;
      }

      return acc;
    }, {});
    return Object.assign({}, passedProps, pluginProps);
  }
  function getDataAttributeProps(reference, plugins) {
    var propKeys = plugins ? Object.keys(getExtendedPassedProps(Object.assign({}, defaultProps, {
      plugins: plugins
    }))) : defaultKeys;
    var props = propKeys.reduce(function (acc, key) {
      var valueAsString = (reference.getAttribute("data-tippy-" + key) || '').trim();

      if (!valueAsString) {
        return acc;
      }

      if (key === 'content') {
        acc[key] = valueAsString;
      } else {
        try {
          acc[key] = JSON.parse(valueAsString);
        } catch (e) {
          acc[key] = valueAsString;
        }
      }

      return acc;
    }, {});
    return props;
  }
  function evaluateProps(reference, props) {
    var out = Object.assign({}, props, {
      content: invokeWithArgsOrReturn(props.content, [reference])
    }, props.ignoreAttributes ? {} : getDataAttributeProps(reference, props.plugins));
    out.aria = Object.assign({}, defaultProps.aria, out.aria);
    out.aria = {
      expanded: out.aria.expanded === 'auto' ? props.interactive : out.aria.expanded,
      content: out.aria.content === 'auto' ? props.interactive ? null : 'describedby' : out.aria.content
    };
    return out;
  }
  function validateProps(partialProps, plugins) {
    if (partialProps === void 0) {
      partialProps = {};
    }

    if (plugins === void 0) {
      plugins = [];
    }

    var keys = Object.keys(partialProps);
    keys.forEach(function (prop) {
      var nonPluginProps = removeProperties(defaultProps, Object.keys(pluginProps));
      var didPassUnknownProp = !hasOwnProperty(nonPluginProps, prop); 

      if (didPassUnknownProp) {
        didPassUnknownProp = plugins.filter(function (plugin) {
          return plugin.name === prop;
        }).length === 0;
      }

      warnWhen(didPassUnknownProp, ["`" + prop + "`", "is not a valid prop. You may have spelled it incorrectly, or if it's", 'a plugin, forgot to pass it in an array as props.plugins.', '\n\n', 'All props: https://atomiks.github.io/tippyjs/v6/all-props/\n', 'Plugins: https://atomiks.github.io/tippyjs/v6/plugins/'].join(' '));
    });
  }

  var innerHTML = function innerHTML() {
    return 'innerHTML';
  };

  function dangerouslySetInnerHTML(element, html) {
    element[innerHTML()] = html;
  }

  function createArrowElement(value) {
    var arrow = div();

    if (value === true) {
      arrow.className = ARROW_CLASS;
    } else {
      arrow.className = SVG_ARROW_CLASS;

      if (isElement(value)) {
        arrow.appendChild(value);
      } else {
        dangerouslySetInnerHTML(arrow, value);
      }
    }

    return arrow;
  }

  function setContent(content, props) {
    if (isElement(props.content)) {
      dangerouslySetInnerHTML(content, '');
      content.appendChild(props.content);
    } else if (typeof props.content !== 'function') {
      if (props.allowHTML) {
        dangerouslySetInnerHTML(content, props.content);
      } else {
        content.textContent = props.content;
      }
    }
  }
  function getChildren(popper) {
    var box = popper.firstElementChild;
    var boxChildren = arrayFrom(box.children);
    return {
      box: box,
      content: boxChildren.find(function (node) {
        return node.classList.contains(CONTENT_CLASS);
      }),
      arrow: boxChildren.find(function (node) {
        return node.classList.contains(ARROW_CLASS) || node.classList.contains(SVG_ARROW_CLASS);
      }),
      backdrop: boxChildren.find(function (node) {
        return node.classList.contains(BACKDROP_CLASS);
      })
    };
  }
  function render(instance) {
    var popper = div();
    var box = div();
    box.className = BOX_CLASS;
    box.setAttribute('data-state', 'hidden');
    box.setAttribute('tabindex', '-1');
    var content = div();
    content.className = CONTENT_CLASS;
    content.setAttribute('data-state', 'hidden');
    setContent(content, instance.props);
    popper.appendChild(box);
    box.appendChild(content);
    onUpdate(instance.props, instance.props);

    function onUpdate(prevProps, nextProps) {
      var _getChildren = getChildren(popper),
          box = _getChildren.box,
          content = _getChildren.content,
          arrow = _getChildren.arrow;

      if (nextProps.theme) {
        box.setAttribute('data-theme', nextProps.theme);
      } else {
        box.removeAttribute('data-theme');
      }

      if (typeof nextProps.animation === 'string') {
        box.setAttribute('data-animation', nextProps.animation);
      } else {
        box.removeAttribute('data-animation');
      }

      if (nextProps.inertia) {
        box.setAttribute('data-inertia', '');
      } else {
        box.removeAttribute('data-inertia');
      }

      box.style.maxWidth = typeof nextProps.maxWidth === 'number' ? nextProps.maxWidth + "px" : nextProps.maxWidth;

      if (nextProps.role) {
        box.setAttribute('role', nextProps.role);
      } else {
        box.removeAttribute('role');
      }

      if (prevProps.content !== nextProps.content || prevProps.allowHTML !== nextProps.allowHTML) {
        setContent(content, instance.props);
      }

      if (nextProps.arrow) {
        if (!arrow) {
          box.appendChild(createArrowElement(nextProps.arrow));
        } else if (prevProps.arrow !== nextProps.arrow) {
          box.removeChild(arrow);
          box.appendChild(createArrowElement(nextProps.arrow));
        }
      } else if (arrow) {
        box.removeChild(arrow);
      }
    }

    return {
      popper: popper,
      onUpdate: onUpdate
    };
  } 

  render.$$tippy = true;

  var idCounter = 1;
  var mouseMoveListeners = []; 

  var mountedInstances = [];
  function createTippy(reference, passedProps) {
    var props = evaluateProps(reference, Object.assign({}, defaultProps, getExtendedPassedProps(removeUndefinedProps(passedProps)))); 

    var showTimeout;
    var hideTimeout;
    var scheduleHideAnimationFrame;
    var isVisibleFromClick = false;
    var didHideDueToDocumentMouseDown = false;
    var didTouchMove = false;
    var ignoreOnFirstUpdate = false;
    var lastTriggerEvent;
    var currentTransitionEndListener;
    var onFirstUpdate;
    var listeners = [];
    var debouncedOnMouseMove = debounce(onMouseMove, props.interactiveDebounce);
    var currentTarget; 

    var id = idCounter++;
    var popperInstance = null;
    var plugins = unique(props.plugins);
    var state = {
      isEnabled: true,
      isVisible: false,
      isDestroyed: false,
      isMounted: false,
      isShown: false
    };
    var instance = {
      id: id,
      reference: reference,
      popper: div(),
      popperInstance: popperInstance,
      props: props,
      state: state,
      plugins: plugins,
      clearDelayTimeouts: clearDelayTimeouts,
      setProps: setProps,
      setContent: setContent,
      show: show,
      hide: hide,
      hideWithInteractivity: hideWithInteractivity,
      enable: enable,
      disable: disable,
      unmount: unmount,
      destroy: destroy
    }; 


    if (!props.render) {
      {
        errorWhen(true, 'render() function has not been supplied.');
      }

      return instance;
    } 


    var _props$render = props.render(instance),
        popper = _props$render.popper,
        onUpdate = _props$render.onUpdate;

    popper.setAttribute('data-tippy-root', '');
    popper.id = "tippy-" + instance.id;
    instance.popper = popper;
    reference._tippy = instance;
    popper._tippy = instance;
    var pluginsHooks = plugins.map(function (plugin) {
      return plugin.fn(instance);
    });
    var hasAriaExpanded = reference.hasAttribute('aria-expanded');
    addListeners();
    handleAriaExpandedAttribute();
    handleStyles();
    invokeHook('onCreate', [instance]);

    if (props.showOnCreate) {
      scheduleShow();
    } 


    popper.addEventListener('mouseenter', function () {
      if (instance.props.interactive && instance.state.isVisible) {
        instance.clearDelayTimeouts();
      }
    });
    popper.addEventListener('mouseleave', function () {
      if (instance.props.interactive && instance.props.trigger.indexOf('mouseenter') >= 0) {
        getDocument().addEventListener('mousemove', debouncedOnMouseMove);
      }
    });
    return instance; 

    function getNormalizedTouchSettings() {
      var touch = instance.props.touch;
      return Array.isArray(touch) ? touch : [touch, 0];
    }

    function getIsCustomTouchBehavior() {
      return getNormalizedTouchSettings()[0] === 'hold';
    }

    function getIsDefaultRenderFn() {
      var _instance$props$rende;

      return !!((_instance$props$rende = instance.props.render) != null && _instance$props$rende.$$tippy);
    }

    function getCurrentTarget() {
      return currentTarget || reference;
    }

    function getDocument() {
      var parent = getCurrentTarget().parentNode;
      return parent ? getOwnerDocument(parent) : document;
    }

    function getDefaultTemplateChildren() {
      return getChildren(popper);
    }

    function getDelay(isShow) {
      if (instance.state.isMounted && !instance.state.isVisible || currentInput.isTouch || lastTriggerEvent && lastTriggerEvent.type === 'focus') {
        return 0;
      }

      return getValueAtIndexOrReturn(instance.props.delay, isShow ? 0 : 1, defaultProps.delay);
    }

    function handleStyles(fromHide) {
      if (fromHide === void 0) {
        fromHide = false;
      }

      popper.style.pointerEvents = instance.props.interactive && !fromHide ? '' : 'none';
      popper.style.zIndex = "" + instance.props.zIndex;
    }

    function invokeHook(hook, args, shouldInvokePropsHook) {
      if (shouldInvokePropsHook === void 0) {
        shouldInvokePropsHook = true;
      }

      pluginsHooks.forEach(function (pluginHooks) {
        if (pluginHooks[hook]) {
          pluginHooks[hook].apply(pluginHooks, args);
        }
      });

      if (shouldInvokePropsHook) {
        var _instance$props;

        (_instance$props = instance.props)[hook].apply(_instance$props, args);
      }
    }

    function handleAriaContentAttribute() {
      var aria = instance.props.aria;

      if (!aria.content) {
        return;
      }

      var attr = "aria-" + aria.content;
      var id = popper.id;
      var nodes = normalizeToArray(instance.props.triggerTarget || reference);
      nodes.forEach(function (node) {
        var currentValue = node.getAttribute(attr);

        if (instance.state.isVisible) {
          node.setAttribute(attr, currentValue ? currentValue + " " + id : id);
        } else {
          var nextValue = currentValue && currentValue.replace(id, '').trim();

          if (nextValue) {
            node.setAttribute(attr, nextValue);
          } else {
            node.removeAttribute(attr);
          }
        }
      });
    }

    function handleAriaExpandedAttribute() {
      if (hasAriaExpanded || !instance.props.aria.expanded) {
        return;
      }

      var nodes = normalizeToArray(instance.props.triggerTarget || reference);
      nodes.forEach(function (node) {
        if (instance.props.interactive) {
          node.setAttribute('aria-expanded', instance.state.isVisible && node === getCurrentTarget() ? 'true' : 'false');
        } else {
          node.removeAttribute('aria-expanded');
        }
      });
    }

    function cleanupInteractiveMouseListeners() {
      getDocument().removeEventListener('mousemove', debouncedOnMouseMove);
      mouseMoveListeners = mouseMoveListeners.filter(function (listener) {
        return listener !== debouncedOnMouseMove;
      });
    }

    function onDocumentPress(event) {
      if (currentInput.isTouch) {
        if (didTouchMove || event.type === 'mousedown') {
          return;
        }
      }

      var actualTarget = event.composedPath && event.composedPath()[0] || event.target; 

      if (instance.props.interactive && actualContains(popper, actualTarget)) {
        return;
      } 


      if (normalizeToArray(instance.props.triggerTarget || reference).some(function (el) {
        return actualContains(el, actualTarget);
      })) {
        if (currentInput.isTouch) {
          return;
        }

        if (instance.state.isVisible && instance.props.trigger.indexOf('click') >= 0) {
          return;
        }
      } else {
        invokeHook('onClickOutside', [instance, event]);
      }

      if (instance.props.hideOnClick === true) {
        instance.clearDelayTimeouts();
        instance.hide(); 

        didHideDueToDocumentMouseDown = true;
        setTimeout(function () {
          didHideDueToDocumentMouseDown = false;
        }); 

        if (!instance.state.isMounted) {
          removeDocumentPress();
        }
      }
    }

    function onTouchMove() {
      didTouchMove = true;
    }

    function onTouchStart() {
      didTouchMove = false;
    }

    function addDocumentPress() {
      var doc = getDocument();
      doc.addEventListener('mousedown', onDocumentPress, true);
      doc.addEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);
      doc.addEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);
      doc.addEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);
    }

    function removeDocumentPress() {
      var doc = getDocument();
      doc.removeEventListener('mousedown', onDocumentPress, true);
      doc.removeEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);
      doc.removeEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);
      doc.removeEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);
    }

    function onTransitionedOut(duration, callback) {
      onTransitionEnd(duration, function () {
        if (!instance.state.isVisible && popper.parentNode && popper.parentNode.contains(popper)) {
          callback();
        }
      });
    }

    function onTransitionedIn(duration, callback) {
      onTransitionEnd(duration, callback);
    }

    function onTransitionEnd(duration, callback) {
      var box = getDefaultTemplateChildren().box;

      function listener(event) {
        if (event.target === box) {
          updateTransitionEndListener(box, 'remove', listener);
          callback();
        }
      } 


      if (duration === 0) {
        return callback();
      }

      updateTransitionEndListener(box, 'remove', currentTransitionEndListener);
      updateTransitionEndListener(box, 'add', listener);
      currentTransitionEndListener = listener;
    }

    function on(eventType, handler, options) {
      if (options === void 0) {
        options = false;
      }

      var nodes = normalizeToArray(instance.props.triggerTarget || reference);
      nodes.forEach(function (node) {
        node.addEventListener(eventType, handler, options);
        listeners.push({
          node: node,
          eventType: eventType,
          handler: handler,
          options: options
        });
      });
    }

    function addListeners() {
      if (getIsCustomTouchBehavior()) {
        on('touchstart', onTrigger, {
          passive: true
        });
        on('touchend', onMouseLeave, {
          passive: true
        });
      }

      splitBySpaces(instance.props.trigger).forEach(function (eventType) {
        if (eventType === 'manual') {
          return;
        }

        on(eventType, onTrigger);

        switch (eventType) {
          case 'mouseenter':
            on('mouseleave', onMouseLeave);
            break;

          case 'focus':
            on(isIE11 ? 'focusout' : 'blur', onBlurOrFocusOut);
            break;

          case 'focusin':
            on('focusout', onBlurOrFocusOut);
            break;
        }
      });
    }

    function removeListeners() {
      listeners.forEach(function (_ref) {
        var node = _ref.node,
            eventType = _ref.eventType,
            handler = _ref.handler,
            options = _ref.options;
        node.removeEventListener(eventType, handler, options);
      });
      listeners = [];
    }

    function onTrigger(event) {
      var _lastTriggerEvent;

      var shouldScheduleClickHide = false;

      if (!instance.state.isEnabled || isEventListenerStopped(event) || didHideDueToDocumentMouseDown) {
        return;
      }

      var wasFocused = ((_lastTriggerEvent = lastTriggerEvent) == null ? void 0 : _lastTriggerEvent.type) === 'focus';
      lastTriggerEvent = event;
      currentTarget = event.currentTarget;
      handleAriaExpandedAttribute();

      if (!instance.state.isVisible && isMouseEvent(event)) {
        mouseMoveListeners.forEach(function (listener) {
          return listener(event);
        });
      } 


      if (event.type === 'click' && (instance.props.trigger.indexOf('mouseenter') < 0 || isVisibleFromClick) && instance.props.hideOnClick !== false && instance.state.isVisible) {
        shouldScheduleClickHide = true;
      } else {
        scheduleShow(event);
      }

      if (event.type === 'click') {
        isVisibleFromClick = !shouldScheduleClickHide;
      }

      if (shouldScheduleClickHide && !wasFocused) {
        scheduleHide(event);
      }
    }

    function onMouseMove(event) {
      var target = event.target;
      var isCursorOverReferenceOrPopper = getCurrentTarget().contains(target) || popper.contains(target);

      if (event.type === 'mousemove' && isCursorOverReferenceOrPopper) {
        return;
      }

      var popperTreeData = getNestedPopperTree().concat(popper).map(function (popper) {
        var _instance$popperInsta;

        var instance = popper._tippy;
        var state = (_instance$popperInsta = instance.popperInstance) == null ? void 0 : _instance$popperInsta.state;

        if (state) {
          return {
            popperRect: popper.getBoundingClientRect(),
            popperState: state,
            props: props
          };
        }

        return null;
      }).filter(Boolean);

      if (isCursorOutsideInteractiveBorder(popperTreeData, event)) {
        cleanupInteractiveMouseListeners();
        scheduleHide(event);
      }
    }

    function onMouseLeave(event) {
      var shouldBail = isEventListenerStopped(event) || instance.props.trigger.indexOf('click') >= 0 && isVisibleFromClick;

      if (shouldBail) {
        return;
      }

      if (instance.props.interactive) {
        instance.hideWithInteractivity(event);
        return;
      }

      scheduleHide(event);
    }

    function onBlurOrFocusOut(event) {
      if (instance.props.trigger.indexOf('focusin') < 0 && event.target !== getCurrentTarget()) {
        return;
      } 


      if (instance.props.interactive && event.relatedTarget && popper.contains(event.relatedTarget)) {
        return;
      }

      scheduleHide(event);
    }

    function isEventListenerStopped(event) {
      return currentInput.isTouch ? getIsCustomTouchBehavior() !== event.type.indexOf('touch') >= 0 : false;
    }

    function createPopperInstance() {
      destroyPopperInstance();
      var _instance$props2 = instance.props,
          popperOptions = _instance$props2.popperOptions,
          placement = _instance$props2.placement,
          offset = _instance$props2.offset,
          getReferenceClientRect = _instance$props2.getReferenceClientRect,
          moveTransition = _instance$props2.moveTransition;
      var arrow = getIsDefaultRenderFn() ? getChildren(popper).arrow : null;
      var computedReference = getReferenceClientRect ? {
        getBoundingClientRect: getReferenceClientRect,
        contextElement: getReferenceClientRect.contextElement || getCurrentTarget()
      } : reference;
      var tippyModifier = {
        name: '$$tippy',
        enabled: true,
        phase: 'beforeWrite',
        requires: ['computeStyles'],
        fn: function fn(_ref2) {
          var state = _ref2.state;

          if (getIsDefaultRenderFn()) {
            var _getDefaultTemplateCh = getDefaultTemplateChildren(),
                box = _getDefaultTemplateCh.box;

            ['placement', 'reference-hidden', 'escaped'].forEach(function (attr) {
              if (attr === 'placement') {
                box.setAttribute('data-placement', state.placement);
              } else {
                if (state.attributes.popper["data-popper-" + attr]) {
                  box.setAttribute("data-" + attr, '');
                } else {
                  box.removeAttribute("data-" + attr);
                }
              }
            });
            state.attributes.popper = {};
          }
        }
      };
      var modifiers = [{
        name: 'offset',
        options: {
          offset: offset
        }
      }, {
        name: 'preventOverflow',
        options: {
          padding: {
            top: 2,
            bottom: 2,
            left: 5,
            right: 5
          }
        }
      }, {
        name: 'flip',
        options: {
          padding: 5
        }
      }, {
        name: 'computeStyles',
        options: {
          adaptive: !moveTransition
        }
      }, tippyModifier];

      if (getIsDefaultRenderFn() && arrow) {
        modifiers.push({
          name: 'arrow',
          options: {
            element: arrow,
            padding: 3
          }
        });
      }

      modifiers.push.apply(modifiers, (popperOptions == null ? void 0 : popperOptions.modifiers) || []);
      instance.popperInstance = core.createPopper(computedReference, popper, Object.assign({}, popperOptions, {
        placement: placement,
        onFirstUpdate: onFirstUpdate,
        modifiers: modifiers
      }));
    }

    function destroyPopperInstance() {
      if (instance.popperInstance) {
        instance.popperInstance.destroy();
        instance.popperInstance = null;
      }
    }

    function mount() {
      var appendTo = instance.props.appendTo;
      var parentNode; 

      var node = getCurrentTarget();

      if (instance.props.interactive && appendTo === TIPPY_DEFAULT_APPEND_TO || appendTo === 'parent') {
        parentNode = node.parentNode;
      } else {
        parentNode = invokeWithArgsOrReturn(appendTo, [node]);
      } 


      if (!parentNode.contains(popper)) {
        parentNode.appendChild(popper);
      }

      instance.state.isMounted = true;
      createPopperInstance();

      {
        warnWhen(instance.props.interactive && appendTo === defaultProps.appendTo && node.nextElementSibling !== popper, ['Interactive tippy element may not be accessible via keyboard', 'navigation because it is not directly after the reference element', 'in the DOM source order.', '\n\n', 'Using a wrapper <div> or <span> tag around the reference element', 'solves this by creating a new parentNode context.', '\n\n', 'Specifying `appendTo: document.body` silences this warning, but it', 'assumes you are using a focus management solution to handle', 'keyboard navigation.', '\n\n', 'See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity'].join(' '));
      }
    }

    function getNestedPopperTree() {
      return arrayFrom(popper.querySelectorAll('[data-tippy-root]'));
    }

    function scheduleShow(event) {
      instance.clearDelayTimeouts();

      if (event) {
        invokeHook('onTrigger', [instance, event]);
      }

      addDocumentPress();
      var delay = getDelay(true);

      var _getNormalizedTouchSe = getNormalizedTouchSettings(),
          touchValue = _getNormalizedTouchSe[0],
          touchDelay = _getNormalizedTouchSe[1];

      if (currentInput.isTouch && touchValue === 'hold' && touchDelay) {
        delay = touchDelay;
      }

      if (delay) {
        showTimeout = setTimeout(function () {
          instance.show();
        }, delay);
      } else {
        instance.show();
      }
    }

    function scheduleHide(event) {
      instance.clearDelayTimeouts();
      invokeHook('onUntrigger', [instance, event]);

      if (!instance.state.isVisible) {
        removeDocumentPress();
        return;
      } 


      if (instance.props.trigger.indexOf('mouseenter') >= 0 && instance.props.trigger.indexOf('click') >= 0 && ['mouseleave', 'mousemove'].indexOf(event.type) >= 0 && isVisibleFromClick) {
        return;
      }

      var delay = getDelay(false);

      if (delay) {
        hideTimeout = setTimeout(function () {
          if (instance.state.isVisible) {
            instance.hide();
          }
        }, delay);
      } else {
        scheduleHideAnimationFrame = requestAnimationFrame(function () {
          instance.hide();
        });
      }
    } 


    function enable() {
      instance.state.isEnabled = true;
    }

    function disable() {
      instance.hide();
      instance.state.isEnabled = false;
    }

    function clearDelayTimeouts() {
      clearTimeout(showTimeout);
      clearTimeout(hideTimeout);
      cancelAnimationFrame(scheduleHideAnimationFrame);
    }

    function setProps(partialProps) {
      {
        warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('setProps'));
      }

      if (instance.state.isDestroyed) {
        return;
      }

      invokeHook('onBeforeUpdate', [instance, partialProps]);
      removeListeners();
      var prevProps = instance.props;
      var nextProps = evaluateProps(reference, Object.assign({}, prevProps, removeUndefinedProps(partialProps), {
        ignoreAttributes: true
      }));
      instance.props = nextProps;
      addListeners();

      if (prevProps.interactiveDebounce !== nextProps.interactiveDebounce) {
        cleanupInteractiveMouseListeners();
        debouncedOnMouseMove = debounce(onMouseMove, nextProps.interactiveDebounce);
      } 


      if (prevProps.triggerTarget && !nextProps.triggerTarget) {
        normalizeToArray(prevProps.triggerTarget).forEach(function (node) {
          node.removeAttribute('aria-expanded');
        });
      } else if (nextProps.triggerTarget) {
        reference.removeAttribute('aria-expanded');
      }

      handleAriaExpandedAttribute();
      handleStyles();

      if (onUpdate) {
        onUpdate(prevProps, nextProps);
      }

      if (instance.popperInstance) {
        createPopperInstance(); 

        getNestedPopperTree().forEach(function (nestedPopper) {
          requestAnimationFrame(nestedPopper._tippy.popperInstance.forceUpdate);
        });
      }

      invokeHook('onAfterUpdate', [instance, partialProps]);
    }

    function setContent(content) {
      instance.setProps({
        content: content
      });
    }

    function show() {
      {
        warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('show'));
      } 


      var isAlreadyVisible = instance.state.isVisible;
      var isDestroyed = instance.state.isDestroyed;
      var isDisabled = !instance.state.isEnabled;
      var isTouchAndTouchDisabled = currentInput.isTouch && !instance.props.touch;
      var duration = getValueAtIndexOrReturn(instance.props.duration, 0, defaultProps.duration);

      if (isAlreadyVisible || isDestroyed || isDisabled || isTouchAndTouchDisabled) {
        return;
      } 


      if (getCurrentTarget().hasAttribute('disabled')) {
        return;
      }

      invokeHook('onShow', [instance], false);

      if (instance.props.onShow(instance) === false) {
        return;
      }

      instance.state.isVisible = true;

      if (getIsDefaultRenderFn()) {
        popper.style.visibility = 'visible';
      }

      handleStyles();
      addDocumentPress();

      if (!instance.state.isMounted) {
        popper.style.transition = 'none';
      } 


      if (getIsDefaultRenderFn()) {
        var _getDefaultTemplateCh2 = getDefaultTemplateChildren(),
            box = _getDefaultTemplateCh2.box,
            content = _getDefaultTemplateCh2.content;

        setTransitionDuration([box, content], 0);
      }

      onFirstUpdate = function onFirstUpdate() {
        var _instance$popperInsta2;

        if (!instance.state.isVisible || ignoreOnFirstUpdate) {
          return;
        }

        ignoreOnFirstUpdate = true; 

        void popper.offsetHeight;
        popper.style.transition = instance.props.moveTransition;

        if (getIsDefaultRenderFn() && instance.props.animation) {
          var _getDefaultTemplateCh3 = getDefaultTemplateChildren(),
              _box = _getDefaultTemplateCh3.box,
              _content = _getDefaultTemplateCh3.content;

          setTransitionDuration([_box, _content], duration);
          setVisibilityState([_box, _content], 'visible');
        }

        handleAriaContentAttribute();
        handleAriaExpandedAttribute();
        pushIfUnique(mountedInstances, instance); 

        (_instance$popperInsta2 = instance.popperInstance) == null ? void 0 : _instance$popperInsta2.forceUpdate();
        invokeHook('onMount', [instance]);

        if (instance.props.animation && getIsDefaultRenderFn()) {
          onTransitionedIn(duration, function () {
            instance.state.isShown = true;
            invokeHook('onShown', [instance]);
          });
        }
      };

      mount();
    }

    function hide() {
      {
        warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hide'));
      } 


      var isAlreadyHidden = !instance.state.isVisible;
      var isDestroyed = instance.state.isDestroyed;
      var isDisabled = !instance.state.isEnabled;
      var duration = getValueAtIndexOrReturn(instance.props.duration, 1, defaultProps.duration);

      if (isAlreadyHidden || isDestroyed || isDisabled) {
        return;
      }

      invokeHook('onHide', [instance], false);

      if (instance.props.onHide(instance) === false) {
        return;
      }

      instance.state.isVisible = false;
      instance.state.isShown = false;
      ignoreOnFirstUpdate = false;
      isVisibleFromClick = false;

      if (getIsDefaultRenderFn()) {
        popper.style.visibility = 'hidden';
      }

      cleanupInteractiveMouseListeners();
      removeDocumentPress();
      handleStyles(true);

      if (getIsDefaultRenderFn()) {
        var _getDefaultTemplateCh4 = getDefaultTemplateChildren(),
            box = _getDefaultTemplateCh4.box,
            content = _getDefaultTemplateCh4.content;

        if (instance.props.animation) {
          setTransitionDuration([box, content], duration);
          setVisibilityState([box, content], 'hidden');
        }
      }

      handleAriaContentAttribute();
      handleAriaExpandedAttribute();

      if (instance.props.animation) {
        if (getIsDefaultRenderFn()) {
          onTransitionedOut(duration, instance.unmount);
        }
      } else {
        instance.unmount();
      }
    }

    function hideWithInteractivity(event) {
      {
        warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hideWithInteractivity'));
      }

      getDocument().addEventListener('mousemove', debouncedOnMouseMove);
      pushIfUnique(mouseMoveListeners, debouncedOnMouseMove);
      debouncedOnMouseMove(event);
    }

    function unmount() {
      {
        warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('unmount'));
      }

      if (instance.state.isVisible) {
        instance.hide();
      }

      if (!instance.state.isMounted) {
        return;
      }

      destroyPopperInstance(); 

      getNestedPopperTree().forEach(function (nestedPopper) {
        nestedPopper._tippy.unmount();
      });

      if (popper.parentNode) {
        popper.parentNode.removeChild(popper);
      }

      mountedInstances = mountedInstances.filter(function (i) {
        return i !== instance;
      });
      instance.state.isMounted = false;
      invokeHook('onHidden', [instance]);
    }

    function destroy() {
      {
        warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('destroy'));
      }

      if (instance.state.isDestroyed) {
        return;
      }

      instance.clearDelayTimeouts();
      instance.unmount();
      removeListeners();
      delete reference._tippy;
      instance.state.isDestroyed = true;
      invokeHook('onDestroy', [instance]);
    }
  }

  function tippy(targets, optionalProps) {
    if (optionalProps === void 0) {
      optionalProps = {};
    }

    var plugins = defaultProps.plugins.concat(optionalProps.plugins || []);

    {
      validateTargets(targets);
      validateProps(optionalProps, plugins);
    }

    bindGlobalEventListeners();
    var passedProps = Object.assign({}, optionalProps, {
      plugins: plugins
    });
    var elements = getArrayOfElements(targets);

    {
      var isSingleContentElement = isElement(passedProps.content);
      var isMoreThanOneReferenceElement = elements.length > 1;
      warnWhen(isSingleContentElement && isMoreThanOneReferenceElement, ['tippy() was passed an Element as the `content` prop, but more than', 'one tippy instance was created by this invocation. This means the', 'content element will only be appended to the last tippy instance.', '\n\n', 'Instead, pass the .innerHTML of the element, or use a function that', 'returns a cloned version of the element instead.', '\n\n', '1) content: element.innerHTML\n', '2) content: () => element.cloneNode(true)'].join(' '));
    }

    var instances = elements.reduce(function (acc, reference) {
      var instance = reference && createTippy(reference, passedProps);

      if (instance) {
        acc.push(instance);
      }

      return acc;
    }, []);
    return isElement(targets) ? instances[0] : instances;
  }

  tippy.defaultProps = defaultProps;
  tippy.setDefaultProps = setDefaultProps;
  tippy.currentInput = currentInput;
  var hideAll = function hideAll(_temp) {
    var _ref = _temp === void 0 ? {} : _temp,
        excludedReferenceOrInstance = _ref.exclude,
        duration = _ref.duration;

    mountedInstances.forEach(function (instance) {
      var isExcluded = false;

      if (excludedReferenceOrInstance) {
        isExcluded = isReferenceElement(excludedReferenceOrInstance) ? instance.reference === excludedReferenceOrInstance : instance.popper === excludedReferenceOrInstance.popper;
      }

      if (!isExcluded) {
        var originalDuration = instance.props.duration;
        instance.setProps({
          duration: duration
        });
        instance.hide();

        if (!instance.state.isDestroyed) {
          instance.setProps({
            duration: originalDuration
          });
        }
      }
    });
  };


  var applyStylesModifier = Object.assign({}, core.applyStyles, {
    effect: function effect(_ref) {
      var state = _ref.state;
      var initialStyles = {
        popper: {
          position: state.options.strategy,
          left: '0',
          top: '0',
          margin: '0'
        },
        arrow: {
          position: 'absolute'
        },
        reference: {}
      };
      Object.assign(state.elements.popper.style, initialStyles.popper);
      state.styles = initialStyles;

      if (state.elements.arrow) {
        Object.assign(state.elements.arrow.style, initialStyles.arrow);
      } 

    }
  });

  var createSingleton = function createSingleton(tippyInstances, optionalProps) {
    var _optionalProps$popper;

    if (optionalProps === void 0) {
      optionalProps = {};
    }

    {
      errorWhen(!Array.isArray(tippyInstances), ['The first argument passed to createSingleton() must be an array of', 'tippy instances. The passed value was', String(tippyInstances)].join(' '));
    }

    var individualInstances = tippyInstances;
    var references = [];
    var triggerTargets = [];
    var currentTarget;
    var overrides = optionalProps.overrides;
    var interceptSetPropsCleanups = [];
    var shownOnCreate = false;

    function setTriggerTargets() {
      triggerTargets = individualInstances.map(function (instance) {
        return normalizeToArray(instance.props.triggerTarget || instance.reference);
      }).reduce(function (acc, item) {
        return acc.concat(item);
      }, []);
    }

    function setReferences() {
      references = individualInstances.map(function (instance) {
        return instance.reference;
      });
    }

    function enableInstances(isEnabled) {
      individualInstances.forEach(function (instance) {
        if (isEnabled) {
          instance.enable();
        } else {
          instance.disable();
        }
      });
    }

    function interceptSetProps(singleton) {
      return individualInstances.map(function (instance) {
        var originalSetProps = instance.setProps;

        instance.setProps = function (props) {
          originalSetProps(props);

          if (instance.reference === currentTarget) {
            singleton.setProps(props);
          }
        };

        return function () {
          instance.setProps = originalSetProps;
        };
      });
    } 


    function prepareInstance(singleton, target) {
      var index = triggerTargets.indexOf(target); 

      if (target === currentTarget) {
        return;
      }

      currentTarget = target;
      var overrideProps = (overrides || []).concat('content').reduce(function (acc, prop) {
        acc[prop] = individualInstances[index].props[prop];
        return acc;
      }, {});
      singleton.setProps(Object.assign({}, overrideProps, {
        getReferenceClientRect: typeof overrideProps.getReferenceClientRect === 'function' ? overrideProps.getReferenceClientRect : function () {
          var _references$index;

          return (_references$index = references[index]) == null ? void 0 : _references$index.getBoundingClientRect();
        }
      }));
    }

    enableInstances(false);
    setReferences();
    setTriggerTargets();
    var plugin = {
      fn: function fn() {
        return {
          onDestroy: function onDestroy() {
            enableInstances(true);
          },
          onHidden: function onHidden() {
            currentTarget = null;
          },
          onClickOutside: function onClickOutside(instance) {
            if (instance.props.showOnCreate && !shownOnCreate) {
              shownOnCreate = true;
              currentTarget = null;
            }
          },
          onShow: function onShow(instance) {
            if (instance.props.showOnCreate && !shownOnCreate) {
              shownOnCreate = true;
              prepareInstance(instance, references[0]);
            }
          },
          onTrigger: function onTrigger(instance, event) {
            prepareInstance(instance, event.currentTarget);
          }
        };
      }
    };
    var singleton = tippy(div(), Object.assign({}, removeProperties(optionalProps, ['overrides']), {
      plugins: [plugin].concat(optionalProps.plugins || []),
      triggerTarget: triggerTargets,
      popperOptions: Object.assign({}, optionalProps.popperOptions, {
        modifiers: [].concat(((_optionalProps$popper = optionalProps.popperOptions) == null ? void 0 : _optionalProps$popper.modifiers) || [], [applyStylesModifier])
      })
    }));
    var originalShow = singleton.show;

    singleton.show = function (target) {
      originalShow(); 

      if (!currentTarget && target == null) {
        return prepareInstance(singleton, references[0]);
      } 


      if (currentTarget && target == null) {
        return;
      } 


      if (typeof target === 'number') {
        return references[target] && prepareInstance(singleton, references[target]);
      } 


      if (individualInstances.indexOf(target) >= 0) {
        var ref = target.reference;
        return prepareInstance(singleton, ref);
      } 


      if (references.indexOf(target) >= 0) {
        return prepareInstance(singleton, target);
      }
    };

    singleton.showNext = function () {
      var first = references[0];

      if (!currentTarget) {
        return singleton.show(0);
      }

      var index = references.indexOf(currentTarget);
      singleton.show(references[index + 1] || first);
    };

    singleton.showPrevious = function () {
      var last = references[references.length - 1];

      if (!currentTarget) {
        return singleton.show(last);
      }

      var index = references.indexOf(currentTarget);
      var target = references[index - 1] || last;
      singleton.show(target);
    };

    var originalSetProps = singleton.setProps;

    singleton.setProps = function (props) {
      overrides = props.overrides || overrides;
      originalSetProps(props);
    };

    singleton.setInstances = function (nextInstances) {
      enableInstances(true);
      interceptSetPropsCleanups.forEach(function (fn) {
        return fn();
      });
      individualInstances = nextInstances;
      enableInstances(false);
      setReferences();
      setTriggerTargets();
      interceptSetPropsCleanups = interceptSetProps(singleton);
      singleton.setProps({
        triggerTarget: triggerTargets
      });
    };

    interceptSetPropsCleanups = interceptSetProps(singleton);
    return singleton;
  };

  var BUBBLING_EVENTS_MAP = {
    mouseover: 'mouseenter',
    focusin: 'focus',
    click: 'click'
  };

  function delegate(targets, props) {
    {
      errorWhen(!(props && props.target), ['You must specity a `target` prop indicating a CSS selector string matching', 'the target elements that should receive a tippy.'].join(' '));
    }

    var listeners = [];
    var childTippyInstances = [];
    var disabled = false;
    var target = props.target;
    var nativeProps = removeProperties(props, ['target']);
    var parentProps = Object.assign({}, nativeProps, {
      trigger: 'manual',
      touch: false
    });
    var childProps = Object.assign({
      touch: defaultProps.touch
    }, nativeProps, {
      showOnCreate: true
    });
    var returnValue = tippy(targets, parentProps);
    var normalizedReturnValue = normalizeToArray(returnValue);

    function onTrigger(event) {
      if (!event.target || disabled) {
        return;
      }

      var targetNode = event.target.closest(target);

      if (!targetNode) {
        return;
      } 


      var trigger = targetNode.getAttribute('data-tippy-trigger') || props.trigger || defaultProps.trigger; 

      if (targetNode._tippy) {
        return;
      }

      if (event.type === 'touchstart' && typeof childProps.touch === 'boolean') {
        return;
      }

      if (event.type !== 'touchstart' && trigger.indexOf(BUBBLING_EVENTS_MAP[event.type]) < 0) {
        return;
      }

      var instance = tippy(targetNode, childProps);

      if (instance) {
        childTippyInstances = childTippyInstances.concat(instance);
      }
    }

    function on(node, eventType, handler, options) {
      if (options === void 0) {
        options = false;
      }

      node.addEventListener(eventType, handler, options);
      listeners.push({
        node: node,
        eventType: eventType,
        handler: handler,
        options: options
      });
    }

    function addEventListeners(instance) {
      var reference = instance.reference;
      on(reference, 'touchstart', onTrigger, TOUCH_OPTIONS);
      on(reference, 'mouseover', onTrigger);
      on(reference, 'focusin', onTrigger);
      on(reference, 'click', onTrigger);
    }

    function removeEventListeners() {
      listeners.forEach(function (_ref) {
        var node = _ref.node,
            eventType = _ref.eventType,
            handler = _ref.handler,
            options = _ref.options;
        node.removeEventListener(eventType, handler, options);
      });
      listeners = [];
    }

    function applyMutations(instance) {
      var originalDestroy = instance.destroy;
      var originalEnable = instance.enable;
      var originalDisable = instance.disable;

      instance.destroy = function (shouldDestroyChildInstances) {
        if (shouldDestroyChildInstances === void 0) {
          shouldDestroyChildInstances = true;
        }

        if (shouldDestroyChildInstances) {
          childTippyInstances.forEach(function (instance) {
            instance.destroy();
          });
        }

        childTippyInstances = [];
        removeEventListeners();
        originalDestroy();
      };

      instance.enable = function () {
        originalEnable();
        childTippyInstances.forEach(function (instance) {
          return instance.enable();
        });
        disabled = false;
      };

      instance.disable = function () {
        originalDisable();
        childTippyInstances.forEach(function (instance) {
          return instance.disable();
        });
        disabled = true;
      };

      addEventListeners(instance);
    }

    normalizedReturnValue.forEach(applyMutations);
    return returnValue;
  }

  var animateFill = {
    name: 'animateFill',
    defaultValue: false,
    fn: function fn(instance) {
      var _instance$props$rende;

      if (!((_instance$props$rende = instance.props.render) != null && _instance$props$rende.$$tippy)) {
        {
          errorWhen(instance.props.animateFill, 'The `animateFill` plugin requires the default render function.');
        }

        return {};
      }

      var _getChildren = getChildren(instance.popper),
          box = _getChildren.box,
          content = _getChildren.content;

      var backdrop = instance.props.animateFill ? createBackdropElement() : null;
      return {
        onCreate: function onCreate() {
          if (backdrop) {
            box.insertBefore(backdrop, box.firstElementChild);
            box.setAttribute('data-animatefill', '');
            box.style.overflow = 'hidden';
            instance.setProps({
              arrow: false,
              animation: 'shift-away'
            });
          }
        },
        onMount: function onMount() {
          if (backdrop) {
            var transitionDuration = box.style.transitionDuration;
            var duration = Number(transitionDuration.replace('ms', '')); 

            content.style.transitionDelay = Math.round(duration / 10) + "ms";
            backdrop.style.transitionDuration = transitionDuration;
            setVisibilityState([backdrop], 'visible');
          }
        },
        onShow: function onShow() {
          if (backdrop) {
            backdrop.style.transitionDuration = '0ms';
          }
        },
        onHide: function onHide() {
          if (backdrop) {
            setVisibilityState([backdrop], 'hidden');
          }
        }
      };
    }
  };

  function createBackdropElement() {
    var backdrop = div();
    backdrop.className = BACKDROP_CLASS;
    setVisibilityState([backdrop], 'hidden');
    return backdrop;
  }

  var mouseCoords = {
    clientX: 0,
    clientY: 0
  };
  var activeInstances = [];

  function storeMouseCoords(_ref) {
    var clientX = _ref.clientX,
        clientY = _ref.clientY;
    mouseCoords = {
      clientX: clientX,
      clientY: clientY
    };
  }

  function addMouseCoordsListener(doc) {
    doc.addEventListener('mousemove', storeMouseCoords);
  }

  function removeMouseCoordsListener(doc) {
    doc.removeEventListener('mousemove', storeMouseCoords);
  }

  var followCursor = {
    name: 'followCursor',
    defaultValue: false,
    fn: function fn(instance) {
      var reference = instance.reference;
      var doc = getOwnerDocument(instance.props.triggerTarget || reference);
      var isInternalUpdate = false;
      var wasFocusEvent = false;
      var isUnmounted = true;
      var prevProps = instance.props;

      function getIsInitialBehavior() {
        return instance.props.followCursor === 'initial' && instance.state.isVisible;
      }

      function addListener() {
        doc.addEventListener('mousemove', onMouseMove);
      }

      function removeListener() {
        doc.removeEventListener('mousemove', onMouseMove);
      }

      function unsetGetReferenceClientRect() {
        isInternalUpdate = true;
        instance.setProps({
          getReferenceClientRect: null
        });
        isInternalUpdate = false;
      }

      function onMouseMove(event) {
        var isCursorOverReference = event.target ? reference.contains(event.target) : true;
        var followCursor = instance.props.followCursor;
        var clientX = event.clientX,
            clientY = event.clientY;
        var rect = reference.getBoundingClientRect();
        var relativeX = clientX - rect.left;
        var relativeY = clientY - rect.top;

        if (isCursorOverReference || !instance.props.interactive) {
          instance.setProps({
            getReferenceClientRect: function getReferenceClientRect() {
              var rect = reference.getBoundingClientRect();
              var x = clientX;
              var y = clientY;

              if (followCursor === 'initial') {
                x = rect.left + relativeX;
                y = rect.top + relativeY;
              }

              var top = followCursor === 'horizontal' ? rect.top : y;
              var right = followCursor === 'vertical' ? rect.right : x;
              var bottom = followCursor === 'horizontal' ? rect.bottom : y;
              var left = followCursor === 'vertical' ? rect.left : x;
              return {
                width: right - left,
                height: bottom - top,
                top: top,
                right: right,
                bottom: bottom,
                left: left
              };
            }
          });
        }
      }

      function create() {
        if (instance.props.followCursor) {
          activeInstances.push({
            instance: instance,
            doc: doc
          });
          addMouseCoordsListener(doc);
        }
      }

      function destroy() {
        activeInstances = activeInstances.filter(function (data) {
          return data.instance !== instance;
        });

        if (activeInstances.filter(function (data) {
          return data.doc === doc;
        }).length === 0) {
          removeMouseCoordsListener(doc);
        }
      }

      return {
        onCreate: create,
        onDestroy: destroy,
        onBeforeUpdate: function onBeforeUpdate() {
          prevProps = instance.props;
        },
        onAfterUpdate: function onAfterUpdate(_, _ref2) {
          var followCursor = _ref2.followCursor;

          if (isInternalUpdate) {
            return;
          }

          if (followCursor !== undefined && prevProps.followCursor !== followCursor) {
            destroy();

            if (followCursor) {
              create();

              if (instance.state.isMounted && !wasFocusEvent && !getIsInitialBehavior()) {
                addListener();
              }
            } else {
              removeListener();
              unsetGetReferenceClientRect();
            }
          }
        },
        onMount: function onMount() {
          if (instance.props.followCursor && !wasFocusEvent) {
            if (isUnmounted) {
              onMouseMove(mouseCoords);
              isUnmounted = false;
            }

            if (!getIsInitialBehavior()) {
              addListener();
            }
          }
        },
        onTrigger: function onTrigger(_, event) {
          if (isMouseEvent(event)) {
            mouseCoords = {
              clientX: event.clientX,
              clientY: event.clientY
            };
          }

          wasFocusEvent = event.type === 'focus';
        },
        onHidden: function onHidden() {
          if (instance.props.followCursor) {
            unsetGetReferenceClientRect();
            removeListener();
            isUnmounted = true;
          }
        }
      };
    }
  };

  function getProps(props, modifier) {
    var _props$popperOptions;

    return {
      popperOptions: Object.assign({}, props.popperOptions, {
        modifiers: [].concat((((_props$popperOptions = props.popperOptions) == null ? void 0 : _props$popperOptions.modifiers) || []).filter(function (_ref) {
          var name = _ref.name;
          return name !== modifier.name;
        }), [modifier])
      })
    };
  }

  var inlinePositioning = {
    name: 'inlinePositioning',
    defaultValue: false,
    fn: function fn(instance) {
      var reference = instance.reference;

      function isEnabled() {
        return !!instance.props.inlinePositioning;
      }

      var placement;
      var cursorRectIndex = -1;
      var isInternalUpdate = false;
      var triedPlacements = [];
      var modifier = {
        name: 'tippyInlinePositioning',
        enabled: true,
        phase: 'afterWrite',
        fn: function fn(_ref2) {
          var state = _ref2.state;

          if (isEnabled()) {
            if (triedPlacements.indexOf(state.placement) !== -1) {
              triedPlacements = [];
            }

            if (placement !== state.placement && triedPlacements.indexOf(state.placement) === -1) {
              triedPlacements.push(state.placement);
              instance.setProps({
                getReferenceClientRect: function getReferenceClientRect() {
                  return _getReferenceClientRect(state.placement);
                }
              });
            }

            placement = state.placement;
          }
        }
      };

      function _getReferenceClientRect(placement) {
        return getInlineBoundingClientRect(getBasePlacement(placement), reference.getBoundingClientRect(), arrayFrom(reference.getClientRects()), cursorRectIndex);
      }

      function setInternalProps(partialProps) {
        isInternalUpdate = true;
        instance.setProps(partialProps);
        isInternalUpdate = false;
      }

      function addModifier() {
        if (!isInternalUpdate) {
          setInternalProps(getProps(instance.props, modifier));
        }
      }

      return {
        onCreate: addModifier,
        onAfterUpdate: addModifier,
        onTrigger: function onTrigger(_, event) {
          if (isMouseEvent(event)) {
            var rects = arrayFrom(instance.reference.getClientRects());
            var cursorRect = rects.find(function (rect) {
              return rect.left - 2 <= event.clientX && rect.right + 2 >= event.clientX && rect.top - 2 <= event.clientY && rect.bottom + 2 >= event.clientY;
            });
            var index = rects.indexOf(cursorRect);
            cursorRectIndex = index > -1 ? index : cursorRectIndex;
          }
        },
        onHidden: function onHidden() {
          cursorRectIndex = -1;
        }
      };
    }
  };
  function getInlineBoundingClientRect(currentBasePlacement, boundingRect, clientRects, cursorRectIndex) {
    if (clientRects.length < 2 || currentBasePlacement === null) {
      return boundingRect;
    } 


    if (clientRects.length === 2 && cursorRectIndex >= 0 && clientRects[0].left > clientRects[1].right) {
      return clientRects[cursorRectIndex] || boundingRect;
    }

    switch (currentBasePlacement) {
      case 'top':
      case 'bottom':
        {
          var firstRect = clientRects[0];
          var lastRect = clientRects[clientRects.length - 1];
          var isTop = currentBasePlacement === 'top';
          var top = firstRect.top;
          var bottom = lastRect.bottom;
          var left = isTop ? firstRect.left : lastRect.left;
          var right = isTop ? firstRect.right : lastRect.right;
          var width = right - left;
          var height = bottom - top;
          return {
            top: top,
            bottom: bottom,
            left: left,
            right: right,
            width: width,
            height: height
          };
        }

      case 'left':
      case 'right':
        {
          var minLeft = Math.min.apply(Math, clientRects.map(function (rects) {
            return rects.left;
          }));
          var maxRight = Math.max.apply(Math, clientRects.map(function (rects) {
            return rects.right;
          }));
          var measureRects = clientRects.filter(function (rect) {
            return currentBasePlacement === 'left' ? rect.left === minLeft : rect.right === maxRight;
          });
          var _top = measureRects[0].top;
          var _bottom = measureRects[measureRects.length - 1].bottom;
          var _left = minLeft;
          var _right = maxRight;

          var _width = _right - _left;

          var _height = _bottom - _top;

          return {
            top: _top,
            bottom: _bottom,
            left: _left,
            right: _right,
            width: _width,
            height: _height
          };
        }

      default:
        {
          return boundingRect;
        }
    }
  }

  var sticky = {
    name: 'sticky',
    defaultValue: false,
    fn: function fn(instance) {
      var reference = instance.reference,
          popper = instance.popper;

      function getReference() {
        return instance.popperInstance ? instance.popperInstance.state.elements.reference : reference;
      }

      function shouldCheck(value) {
        return instance.props.sticky === true || instance.props.sticky === value;
      }

      var prevRefRect = null;
      var prevPopRect = null;

      function updatePosition() {
        var currentRefRect = shouldCheck('reference') ? getReference().getBoundingClientRect() : null;
        var currentPopRect = shouldCheck('popper') ? popper.getBoundingClientRect() : null;

        if (currentRefRect && areRectsDifferent(prevRefRect, currentRefRect) || currentPopRect && areRectsDifferent(prevPopRect, currentPopRect)) {
          if (instance.popperInstance) {
            instance.popperInstance.update();
          }
        }

        prevRefRect = currentRefRect;
        prevPopRect = currentPopRect;

        if (instance.state.isMounted) {
          requestAnimationFrame(updatePosition);
        }
      }

      return {
        onMount: function onMount() {
          if (instance.props.sticky) {
            updatePosition();
          }
        }
      };
    }
  };

  function areRectsDifferent(rectA, rectB) {
    if (rectA && rectB) {
      return rectA.top !== rectB.top || rectA.right !== rectB.right || rectA.bottom !== rectB.bottom || rectA.left !== rectB.left;
    }

    return true;
  }

  if (isBrowser) {
    injectCSS(css);
  }

  tippy.setDefaultProps({
    plugins: [animateFill, followCursor, inlinePositioning, sticky],
    render: render
  });
  tippy.createSingleton = createSingleton;
  tippy.delegate = delegate;
  tippy.hideAll = hideAll;
  tippy.roundArrow = ROUND_ARROW;

  return tippy;

})));

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).introJs=e()}(this,(function(){"use strict";function t(){t=function(){return e};var e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof f?e:f,a=Object.create(i.prototype),s=new j(r||[]);return o(a,"_invoke",{value:k(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function f(){}function d(){}function m(){}var v={};c(v,a,(function(){return this}));var b=Object.getPrototypeOf,y=b&&b(b(A([])));y&&y!==n&&r.call(y,a)&&(v=y);var g=m.prototype=f.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,s){var l=p(t[o],t,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==typeof u&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function k(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return E()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=p(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=p(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function A(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=m,o(g,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:d,configurable:!0}),d.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,l,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},w(_.prototype),c(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(g),c(g,l,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}function r(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function s(t){n(a,o,i,s,l,"next",t)}function l(t){n(a,o,i,s,l,"throw",t)}s(void 0)}))}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t,e,n){return(e=h(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=c(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function h(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function f(t,e,n){var r,o=(s(r={},t,e),s(r,"path","/"),s(r,"expires",void 0),r);if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),o.expires=i.toUTCString()}var a=[];for(var l in o)a.push("".concat(l,"=").concat(o[l]));return document.cookie=a.join("; "),d(t)}function d(t){return(e={},document.cookie.split(";").forEach((function(t){var n=l(t.split("="),2),r=n[0],o=n[1];e[r.trim()]=o})),e)[t];var e}var m="true";function v(t,e){e?f(t._options.dontShowAgainCookie,m,t._options.dontShowAgainCookieDays):f(t._options.dontShowAgainCookie,"",-1)}var b,y=(b={},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"introjs-stamp";return b[e]=b[e]||0,void 0===t[e]&&(t[e]=b[e]++),t[e]}),g=new(function(){function t(){o(this,t),s(this,"events_key","introjs_event")}return a(t,[{key:"_id",value:function(t,e,n){return t+y(e)+(n?"_".concat(y(n)):"")}},{key:"on",value:function(t,e,n,r,o){var i=this._id(e,n,r),a=function(e){return n(r||t,e||window.event)};"addEventListener"in t?t.addEventListener(e,a,o):"attachEvent"in t&&t.attachEvent("on".concat(e),a),t[this.events_key]=t[this.events_key]||{},t[this.events_key][i]=a}},{key:"off",value:function(t,e,n,r,o){var i=this._id(e,n,r),a=t[this.events_key]&&t[this.events_key][i];a&&("removeEventListener"in t?t.removeEventListener(e,a,o):"detachEvent"in t&&t.detachEvent("on".concat(e),a),t[this.events_key][i]=null)}}]),t}()),w=function(t){return"function"==typeof t};function _(t,e){if(t instanceof SVGElement){var n=t.getAttribute("class")||"";n.match(e)||t.setAttribute("class","".concat(n," ").concat(e))}else if(void 0!==t.classList){var r,o=p(e.split(" "));try{for(o.s();!(r=o.n()).done;){var i=r.value;t.classList.add(i)}}catch(t){o.e(t)}finally{o.f()}}else t.className.match(e)||(t.className+=" ".concat(e))}function k(t,e){var n="";return"currentStyle"in t?n=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),n&&n.toLowerCase?n.toLowerCase():n}function x(t){_(t,"introjs-showElement");var e=k(t,"position");"absolute"!==e&&"relative"!==e&&"sticky"!==e&&"fixed"!==e&&_(t,"introjs-relativePosition")}function C(t,e){if(t){var n=function(t){var e=window.getComputedStyle(t),n="absolute"===e.position,r=/(auto|scroll)/;if("fixed"===e.position)return document.body;for(var o=t;o=o.parentElement;)if(e=window.getComputedStyle(o),(!n||"static"!==e.position)&&r.test(e.overflow+e.overflowY+e.overflowX))return o;return document.body}(e);n!==document.body&&(n.scrollTop=e.offsetTop-n.offsetTop)}}function S(){if(void 0!==window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var t=document.documentElement;return{width:t.clientWidth,height:t.clientHeight}}function j(t,e,n,r,o){var i;if("off"!==e&&(t&&(i="tooltip"===e?o.getBoundingClientRect():r.getBoundingClientRect(),!function(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom+80<=window.innerHeight&&e.right<=window.innerWidth}(r)))){var a=S().height;i.bottom-(i.bottom-i.top)<0||r.clientHeight>a?window.scrollBy(0,i.top-(a/2-i.height/2)-n):window.scrollBy(0,i.top-(a/2-i.height/2)+n)}}function A(t){t.setAttribute("role","button"),t.tabIndex=0}function E(t){var e=t.parentElement;return!(!e||"HTML"===e.nodeName)&&("fixed"===k(t,"position")||E(e))}function N(t,e){var n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,i=window.pageXOffset||r.scrollLeft||n.scrollLeft;e=e||n;var a=t.getBoundingClientRect(),s=e.getBoundingClientRect(),l=k(e,"position"),c={width:a.width,height:a.height};return"body"!==e.tagName.toLowerCase()&&"relative"===l||"sticky"===l?Object.assign(c,{top:a.top-s.top,left:a.left-s.left}):E(t)?Object.assign(c,{top:a.top,left:a.left}):Object.assign(c,{top:a.top+o,left:a.left+i})}function L(t,e){if(t instanceof SVGElement){var n=t.getAttribute("class")||"";t.setAttribute("class",n.replace(e,"").replace(/^\s+|\s+$/g,""))}else t.className=t.className.replace(e,"").replace(/^\s+|\s+$/g,"")}function T(t,e){var n="";if(t.style.cssText&&(n+=t.style.cssText),"string"==typeof e)n+=e;else for(var r in e)n+="".concat(r,":").concat(e[r],";");t.style.cssText=n}function I(t,e,n){if(n&&e){var r=N(e.element,t._targetElement),o=t._options.helperElementPadding;e.element instanceof Element&&E(e.element)?_(n,"introjs-fixedTooltip"):L(n,"introjs-fixedTooltip"),"floating"===e.position&&(o=0),T(n,{width:"".concat(r.width+o,"px"),height:"".concat(r.height+o,"px"),top:"".concat(r.top-o/2,"px"),left:"".concat(r.left-o/2,"px")})}}function P(t,e,n,r,o){return t.left+e+n.width>r.width?(o.style.left="".concat(r.width-n.width-t.left,"px"),!1):(o.style.left="".concat(e,"px"),!0)}function O(t,e,n,r){return t.left+t.width-e-n.width<0?(r.style.left="".concat(-t.left,"px"),!1):(r.style.right="".concat(e,"px"),!0)}function q(t,e){t.includes(e)&&t.splice(t.indexOf(e),1)}function B(t,e,n,r){var o=t.slice(),i=S(),a=N(n).height+10,s=N(n).width+20,l=e.getBoundingClientRect(),c="floating";if(l.bottom+a>i.height&&q(o,"bottom"),l.top-a<0&&q(o,"top"),l.right+s>i.width&&q(o,"right"),l.left-s<0&&q(o,"left"),r&&(r=r.split("-")[0]),o.length&&(c=o[0],o.includes(r)&&(c=r)),"top"===c||"bottom"===c){var u,p=[];"top"===c?(u="top-middle-aligned",p=["top-left-aligned","top-middle-aligned","top-right-aligned"]):(u="bottom-middle-aligned",p=["bottom-left-aligned","bottom-middle-aligned","bottom-right-aligned"]),c=function(t,e,n,r){var o=e/2,i=Math.min(n,window.screen.width);return i-t<e&&(q(r,"top-left-aligned"),q(r,"bottom-left-aligned")),(t<o||i-t<o)&&(q(r,"top-middle-aligned"),q(r,"bottom-middle-aligned")),t<e&&(q(r,"top-right-aligned"),q(r,"bottom-right-aligned")),r.length?r[0]:null}(l.left,s,i.width,p)||u}return c}function H(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(e){var i,a,s,l,c="";n.style.top="",n.style.right="",n.style.bottom="",n.style.left="",n.style.marginLeft="",n.style.marginTop="",r.style.display="inherit",c="string"==typeof e.tooltipClass?e.tooltipClass:t._options.tooltipClass,n.className=["introjs-tooltip",c].filter(Boolean).join(" "),n.setAttribute("role","dialog"),"floating"!==(l=e.position)&&t._options.autoPosition&&(l=B(t._options.positionPrecedence,e.element,n,l)),a=N(e.element),i=N(n),s=S(),_(n,"introjs-".concat(l));var u=a.width/2-i.width/2;switch(l){case"top-right-aligned":r.className="introjs-arrow bottom-right";var p=0;O(a,p,i,n),n.style.bottom="".concat(a.height+20,"px");break;case"top-middle-aligned":r.className="introjs-arrow bottom-middle",o&&(u+=5),O(a,u,i,n)&&(n.style.right="",P(a,u,i,s,n)),n.style.bottom="".concat(a.height+20,"px");break;case"top-left-aligned":case"top":r.className="introjs-arrow bottom",P(a,o?0:15,i,s,n),n.style.bottom="".concat(a.height+20,"px");break;case"right":n.style.left="".concat(a.width+20,"px"),a.top+i.height>s.height?(r.className="introjs-arrow left-bottom",n.style.top="-".concat(i.height-a.height-20,"px")):r.className="introjs-arrow left";break;case"left":o||!0!==t._options.showStepNumbers||(n.style.top="15px"),a.top+i.height>s.height?(n.style.top="-".concat(i.height-a.height-20,"px"),r.className="introjs-arrow right-bottom"):r.className="introjs-arrow right",n.style.right="".concat(a.width+20,"px");break;case"floating":r.style.display="none",n.style.left="50%",n.style.top="50%",n.style.marginLeft="-".concat(i.width/2,"px"),n.style.marginTop="-".concat(i.height/2,"px");break;case"bottom-right-aligned":r.className="introjs-arrow top-right",O(a,p=0,i,n),n.style.top="".concat(a.height+20,"px");break;case"bottom-middle-aligned":r.className="introjs-arrow top-middle",o&&(u+=5),O(a,u,i,n)&&(n.style.right="",P(a,u,i,s,n)),n.style.top="".concat(a.height+20,"px");break;default:r.className="introjs-arrow top",P(a,0,i,s,n),n.style.top="".concat(a.height+20,"px")}}}function R(){for(var t=0,e=Array.from(document.querySelectorAll(".introjs-showElement"));t<e.length;t++){L(e[t],/introjs-[a-zA-Z]+/g)}}function M(t,e){var n=document.createElement(t);e=e||{};var r=/^(?:role|data-|aria-)/;for(var o in e){var i=e[o];"style"===o&&"function"!=typeof i?T(n,i):"string"==typeof i&&o.match(r)?n.setAttribute(o,i):n[o]=i}return n}function F(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n){var r=e.style.opacity||"1";T(e,{opacity:"0"}),window.setTimeout((function(){T(e,{opacity:r})}),10)}t.appendChild(e)}function D(t,e){return(t+1)/e*100}function G(t,e){var n=document.querySelector(".introjs-disableInteraction");null===n&&(n=M("div",{className:"introjs-disableInteraction"}),t._targetElement.appendChild(n)),I(t,e,n)}function V(t,e){var n=M("div",{className:"introjs-bullets"});!1===t._options.showBullets&&(n.style.display="none");var r=M("ul");r.setAttribute("role","tablist");for(var o=function(){var e=this.getAttribute("data-step-number");null!=e&&t.goToStep(parseInt(e,10))},i=0;i<t._introItems.length;i++){var a=t._introItems[i].step,s=M("li"),l=M("a");s.setAttribute("role","presentation"),l.setAttribute("role","tab"),l.onclick=o,i===e.step-1&&(l.className="active"),A(l),l.innerHTML="&nbsp;",l.setAttribute("data-step-number",a.toString()),s.appendChild(l),r.appendChild(s)}return n.appendChild(r),n}function z(t,e,n){if(t){var r=e.querySelector(".introjs-bullets li > a.active"),o=e.querySelector('.introjs-bullets li > a[data-step-number="'.concat(n.step,'"]'));r&&o&&(r.className="",o.className="active")}}function W(t){var e=M("div");e.className="introjs-progress",!1===t._options.showProgress&&(e.style.display="none");var n=M("div",{className:"introjs-progressbar"});t._options.progressBarAdditionalClass&&(n.className+=" "+t._options.progressBarAdditionalClass);var r=D(t._currentStep,t._introItems.length);return n.setAttribute("role","progress"),n.setAttribute("aria-valuemin","0"),n.setAttribute("aria-valuemax","100"),n.setAttribute("aria-valuenow",r.toString()),n.style.cssText="width:".concat(r,"%;"),e.appendChild(n),e}function Y(t,e,n){var r=t.querySelector(".introjs-progress .introjs-progressbar");if(r){var o=D(e,n);r.style.cssText="width:".concat(o,"%;"),r.setAttribute("aria-valuenow",o.toString())}}function $(t,e){return Q.apply(this,arguments)}function Q(){return(Q=r(t().mark((function e(n,o){var i,a,s,l,c,u,p,h,f,d,m,v,b,y,g,k,S,E,N,L,P,O,q,B;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w(n._introChangeCallback)){e.next=3;break}return e.next=3,n._introChangeCallback.call(n,o.element);case 3:if(i=document.querySelector(".introjs-helperLayer"),a=document.querySelector(".introjs-tooltipReferenceLayer"),s="introjs-helperLayer","string"==typeof o.highlightClass&&(s+=" ".concat(o.highlightClass)),"string"==typeof n._options.highlightClass&&(s+=" ".concat(n._options.highlightClass)),null!==i&&null!==a?(p=a.querySelector(".introjs-helperNumberLayer"),h=a.querySelector(".introjs-tooltiptext"),f=a.querySelector(".introjs-tooltip-title"),d=a.querySelector(".introjs-arrow"),m=a.querySelector(".introjs-tooltip"),u=a.querySelector(".introjs-skipbutton"),c=a.querySelector(".introjs-prevbutton"),l=a.querySelector(".introjs-nextbutton"),i.className=s,m.style.opacity="0",m.style.display="none",C(n._options.scrollToElement,o.element),I(n,o,i),I(n,o,a),R(),n._lastShowElementTimer&&window.clearTimeout(n._lastShowElementTimer),n._lastShowElementTimer=window.setTimeout((function(){null!==p&&(p.innerHTML="".concat(o.step," ").concat(n._options.stepNumbersOfLabel," ").concat(n._introItems.length)),h.innerHTML=o.intro||"",f.innerHTML=o.title||"",m.style.display="block",H(n,o,m,d),z(n._options.showBullets,a,o),Y(a,n._currentStep,n._introItems.length),m.style.opacity="1",(null!=l&&/introjs-donebutton/gi.test(l.className)||null!=l)&&l.focus(),j(n._options.scrollToElement,o.scrollTo,n._options.scrollPadding,o.element,h)}),350)):(v=M("div",{className:s}),b=M("div",{className:"introjs-tooltipReferenceLayer"}),y=M("div",{className:"introjs-arrow"}),g=M("div",{className:"introjs-tooltip"}),k=M("div",{className:"introjs-tooltiptext"}),S=M("div",{className:"introjs-tooltip-header"}),E=M("h1",{className:"introjs-tooltip-title"}),N=M("div"),T(v,{"box-shadow":"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ".concat(n._options.overlayOpacity.toString(),") 0 0 0 5000px")}),C(n._options.scrollToElement,o.element),I(n,o,v),I(n,o,b),F(n._targetElement,v,!0),F(n._targetElement,b),k.innerHTML=o.intro,E.innerHTML=o.title,N.className="introjs-tooltipbuttons",!1===n._options.showButtons&&(N.style.display="none"),S.appendChild(E),g.appendChild(S),g.appendChild(k),n._options.dontShowAgain&&(L=M("div",{className:"introjs-dontShowAgain"}),(P=M("input",{type:"checkbox",id:"introjs-dontShowAgain",name:"introjs-dontShowAgain"})).onchange=function(t){n.setDontShowAgain(t.target.checked)},(O=M("label",{htmlFor:"introjs-dontShowAgain"})).innerText=n._options.dontShowAgainLabel,L.appendChild(P),L.appendChild(O),g.appendChild(L)),g.appendChild(V(n,o)),g.appendChild(W(n)),q=M("div"),!0===n._options.showStepNumbers&&(q.className="introjs-helperNumberLayer",q.innerHTML="".concat(o.step," ").concat(n._options.stepNumbersOfLabel," ").concat(n._introItems.length),g.appendChild(q)),g.appendChild(y),b.appendChild(g),(l=M("a")).onclick=r(t().mark((function e(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n._introItems.length-1===n._currentStep){t.next=5;break}return t.next=3,K(n);case 3:t.next=11;break;case 5:if(!/introjs-donebutton/gi.test(l.className)){t.next=11;break}if(!w(n._introCompleteCallback)){t.next=9;break}return t.next=9,n._introCompleteCallback.call(n,n._currentStep,"done");case 9:return t.next=11,Nt(n,n._targetElement);case 11:case"end":return t.stop()}}),e)}))),A(l),l.innerHTML=n._options.nextLabel,(c=M("a")).onclick=r(t().mark((function e(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n._currentStep>0)){t.next=3;break}return t.next=3,et(n);case 3:case"end":return t.stop()}}),e)}))),A(c),c.innerHTML=n._options.prevLabel,A(u=M("a",{className:"introjs-skipbutton"})),u.innerHTML=n._options.skipLabel,u.onclick=r(t().mark((function e(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n._introItems.length-1!==n._currentStep||!w(n._introCompleteCallback)){t.next=3;break}return t.next=3,n._introCompleteCallback.call(n,n._currentStep,"skip");case 3:if(!w(n._introSkipCallback)){t.next=6;break}return t.next=6,n._introSkipCallback.call(n,n._currentStep);case 6:return t.next=8,Nt(n,n._targetElement);case 8:case"end":return t.stop()}}),e)}))),S.appendChild(u),n._introItems.length>1&&N.appendChild(c),N.appendChild(l),g.appendChild(N),H(n,o,g,y),j(n._options.scrollToElement,o.scrollTo,n._options.scrollPadding,o.element,g)),(B=n._targetElement.querySelector(".introjs-disableInteraction"))&&B.parentNode&&B.parentNode.removeChild(B),o.disableInteraction&&G(n,o),0===n._currentStep&&n._introItems.length>1?(null!=l&&(l.className="".concat(n._options.buttonClass," introjs-nextbutton"),l.innerHTML=n._options.nextLabel),!0===n._options.hidePrev?(null!=c&&(c.className="".concat(n._options.buttonClass," introjs-prevbutton introjs-hidden")),null!=l&&_(l,"introjs-fullbutton")):null!=c&&(c.className="".concat(n._options.buttonClass," introjs-prevbutton introjs-disabled"))):n._introItems.length-1===n._currentStep||1===n._introItems.length?(null!=c&&(c.className="".concat(n._options.buttonClass," introjs-prevbutton")),!0===n._options.hideNext?(null!=l&&(l.className="".concat(n._options.buttonClass," introjs-nextbutton introjs-hidden")),null!=c&&_(c,"introjs-fullbutton")):null!=l&&(!0===n._options.nextToDone?(l.innerHTML=n._options.doneLabel,_(l,"".concat(n._options.buttonClass," introjs-nextbutton introjs-donebutton"))):l.className="".concat(n._options.buttonClass," introjs-nextbutton introjs-disabled"))):(null!=c&&(c.className="".concat(n._options.buttonClass," introjs-prevbutton")),null!=l&&(l.className="".concat(n._options.buttonClass," introjs-nextbutton"),l.innerHTML=n._options.nextLabel)),null!=c&&c.setAttribute("role","button"),null!=l&&l.setAttribute("role","button"),null!=u&&u.setAttribute("role","button"),null!=l&&l.focus(),x(o.element),!w(n._introAfterChangeCallback)){e.next=21;break}return e.next=21,n._introAfterChangeCallback.call(n,o.element);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(t,e){return X.apply(this,arguments)}function X(){return(X=r(t().mark((function e(n,r){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n._currentStep=r-2,void 0===n._introItems){t.next=4;break}return t.next=4,K(n);case 4:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function J(t,e){return Z.apply(this,arguments)}function Z(){return(Z=r(t().mark((function e(n,r){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n._currentStepNumber=r,void 0===n._introItems){t.next=4;break}return t.next=4,K(n);case 4:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function K(t){return tt.apply(this,arguments)}function tt(){return tt=r(t().mark((function e(n){var r,o,i;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n._direction="forward",void 0!==n._currentStepNumber)for(r=0;r<n._introItems.length;r++)n._introItems[r].step===n._currentStepNumber&&(n._currentStep=r-1,n._currentStepNumber=void 0);if(-1===n._currentStep?n._currentStep=0:++n._currentStep,o=n._introItems[n._currentStep],i=!0,!w(n._introBeforeChangeCallback)){t.next=9;break}return t.next=8,n._introBeforeChangeCallback.call(n,o&&o.element,n._currentStep,n._direction);case 8:i=t.sent;case 9:if(!1!==i){t.next=12;break}return--n._currentStep,t.abrupt("return",!1);case 12:if(!(n._introItems.length<=n._currentStep)){t.next=19;break}if(!w(n._introCompleteCallback)){t.next=16;break}return t.next=16,n._introCompleteCallback.call(n,n._currentStep,"end");case 16:return t.next=18,Nt(n,n._targetElement);case 18:return t.abrupt("return",!1);case 19:return t.next=21,$(n,o);case 21:return t.abrupt("return",!0);case 22:case"end":return t.stop()}}),e)}))),tt.apply(this,arguments)}function et(t){return nt.apply(this,arguments)}function nt(){return nt=r(t().mark((function e(n){var r,o;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n._direction="backward",!(n._currentStep<=0)){t.next=3;break}return t.abrupt("return",!1);case 3:if(--n._currentStep,r=n._introItems[n._currentStep],o=!0,!w(n._introBeforeChangeCallback)){t.next=10;break}return t.next=9,n._introBeforeChangeCallback.call(n,r&&r.element,n._currentStep,n._direction);case 9:o=t.sent;case 10:if(!1!==o){t.next=13;break}return++n._currentStep,t.abrupt("return",!1);case 13:return t.next=15,$(n,r);case 15:return t.abrupt("return",!0);case 16:case"end":return t.stop()}}),e)}))),nt.apply(this,arguments)}function rt(t,e){return ot.apply(this,arguments)}function ot(){return(ot=r(t().mark((function e(n,r){var o,i;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(o=void 0===r.code?r.which:r.code)&&(o=null===r.charCode?r.keyCode:r.charCode),"Escape"!==o&&27!==o||!0!==n._options.exitOnEsc){t.next=7;break}return t.next=5,Nt(n,n._targetElement);case 5:t.next=39;break;case 7:if("ArrowLeft"!==o&&37!==o){t.next=12;break}return t.next=10,et(n);case 10:t.next=39;break;case 12:if("ArrowRight"!==o&&39!==o){t.next=17;break}return t.next=15,K(n);case 15:t.next=39;break;case 17:if("Enter"!==o&&"NumpadEnter"!==o&&13!==o){t.next=39;break}if(!(i=r.target||r.srcElement)||!i.className.match("introjs-prevbutton")){t.next=24;break}return t.next=22,et(n);case 22:t.next=38;break;case 24:if(!i||!i.className.match("introjs-skipbutton")){t.next=32;break}if(n._introItems.length-1!==n._currentStep||!w(n._introCompleteCallback)){t.next=28;break}return t.next=28,n._introCompleteCallback.call(n,n._currentStep,"skip");case 28:return t.next=30,Nt(n,n._targetElement);case 30:t.next=38;break;case 32:if(!i||!i.getAttribute("data-step-number")){t.next=36;break}i.click(),t.next=38;break;case 36:return t.next=38,K(n);case 38:r.preventDefault?r.preventDefault():r.returnValue=!1;case 39:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function it(t){if(null===t||"object"!==e(t)||"nodeType"in t)return t;var n={};for(var r in t)"jQuery"in window&&t[r]instanceof window.jQuery?n[r]=t[r]:n[r]=it(t[r]);return n}function at(t,e){var n;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];window.clearTimeout(n),n=window.setTimeout((function(){t(o)}),e)}}function st(t){var e=document.querySelector(".introjs-hints");return e?Array.from(e.querySelectorAll(t)):[]}function lt(t,e){return ct.apply(this,arguments)}function ct(){return(ct=r(t().mark((function e(n,r){var o;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=st('.introjs-hint[data-step="'.concat(r,'"]'))[0],_t(),o&&_(o,"introjs-hidehint"),!w(n._hintCloseCallback)){t.next=6;break}return t.next=6,n._hintCloseCallback.call(n,r);case 6:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function ut(t){return pt.apply(this,arguments)}function pt(){return(pt=r(t().mark((function e(n){var r,o,i,a,s;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=st(".introjs-hint"),o=p(r),t.prev=2,o.s();case 4:if((i=o.n()).done){t.next=13;break}if(a=i.value,s=a.getAttribute("data-step")){t.next=9;break}return t.abrupt("continue",11);case 9:return t.next=11,lt(n,parseInt(s,10));case 11:t.next=4;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),o.e(t.t0);case 18:return t.prev=18,o.f(),t.finish(18);case 21:case"end":return t.stop()}}),e,null,[[2,15,18,21]])})))).apply(this,arguments)}function ht(t){return ft.apply(this,arguments)}function ft(){return(ft=r(t().mark((function e(n){var r,o,i,a,s;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=st(".introjs-hint"))||!r.length){t.next=23;break}o=p(r),t.prev=3,o.s();case 5:if((i=o.n()).done){t.next=13;break}if(a=i.value,s=a.getAttribute("data-step")){t.next=10;break}return t.abrupt("continue",11);case 10:dt(parseInt(s,10));case 11:t.next=5;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),o.e(t.t0);case 18:return t.prev=18,o.f(),t.finish(18);case 21:t.next=25;break;case 23:return t.next=25,kt(n,n._targetElement);case 25:case"end":return t.stop()}}),e,null,[[3,15,18,21]])})))).apply(this,arguments)}function dt(t){var e=st('.introjs-hint[data-step="'.concat(t,'"]'))[0];e&&L(e,/introjs-hidehint/g)}function mt(t){var e=st('.introjs-hint[data-step="'.concat(t,'"]'))[0];e&&e.parentNode&&e.parentNode.removeChild(e)}function vt(t){return bt.apply(this,arguments)}function bt(){return(bt=r(t().mark((function e(n){var r,o,i,a,s,l,c;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(r=document.querySelector(".introjs-hints"))&&(r=M("div",{className:"introjs-hints"})),o=function(t){return function(e){var r=e||window.event;r&&r.stopPropagation&&r.stopPropagation(),r&&null!==r.cancelBubble&&(r.cancelBubble=!0),gt(n,t)}},i=0;case 4:if(!(i<n._hintItems.length)){t.next=25;break}if(a=n._hintItems[i],!document.querySelector('.introjs-hint[data-step="'.concat(i,'"]'))){t.next=8;break}return t.abrupt("return");case 8:A(s=M("a",{className:"introjs-hint"})),s.onclick=o(i),a.hintAnimation||_(s,"introjs-hint-no-anim"),E(a.element)&&_(s,"introjs-fixedhint"),l=M("div",{className:"introjs-hint-dot"}),c=M("div",{className:"introjs-hint-pulse"}),s.appendChild(l),s.appendChild(c),s.setAttribute("data-step",i.toString()),a.hintTargetElement=a.element,a.element=s,yt(a.hintPosition,s,a.hintTargetElement),r.appendChild(s);case 22:i++,t.next=4;break;case 25:if(document.body.appendChild(r),!w(n._hintsAddedCallback)){t.next=29;break}return t.next=29,n._hintsAddedCallback.call(n);case 29:n._options.hintAutoRefreshInterval>=0&&(n._hintsAutoRefreshFunction=at((function(){return Ct(n)}),n._options.hintAutoRefreshInterval),g.on(window,"scroll",n._hintsAutoRefreshFunction,n,!0));case 30:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function yt(t,e,n){if(void 0!==n){var r=N(n),o=20,i=20;switch(t){default:case"top-left":e.style.left="".concat(r.left,"px"),e.style.top="".concat(r.top,"px");break;case"top-right":e.style.left="".concat(r.left+r.width-o,"px"),e.style.top="".concat(r.top,"px");break;case"bottom-left":e.style.left="".concat(r.left,"px"),e.style.top="".concat(r.top+r.height-i,"px");break;case"bottom-right":e.style.left="".concat(r.left+r.width-o,"px"),e.style.top="".concat(r.top+r.height-i,"px");break;case"middle-left":e.style.left="".concat(r.left,"px"),e.style.top="".concat(r.top+(r.height-i)/2,"px");break;case"middle-right":e.style.left="".concat(r.left+r.width-o,"px"),e.style.top="".concat(r.top+(r.height-i)/2,"px");break;case"middle-middle":e.style.left="".concat(r.left+(r.width-o)/2,"px"),e.style.top="".concat(r.top+(r.height-i)/2,"px");break;case"bottom-middle":e.style.left="".concat(r.left+(r.width-o)/2,"px"),e.style.top="".concat(r.top+r.height-i,"px");break;case"top-middle":e.style.left="".concat(r.left+(r.width-o)/2,"px"),e.style.top="".concat(r.top,"px")}}}function gt(t,e){return wt.apply(this,arguments)}function wt(){return(wt=r(t().mark((function e(n,r){var o,i,a,s,l,c,u,p,h,f,d;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=document.querySelector('.introjs-hint[data-step="'.concat(r,'"]')),i=n._hintItems[r],!w(n._hintClickCallback)){t.next=5;break}return t.next=5,n._hintClickCallback.call(n,o,i,r);case 5:if(void 0===(a=_t())||parseInt(a,10)!==r){t.next=8;break}return t.abrupt("return");case 8:s=M("div",{className:"introjs-tooltip"}),l=M("div"),c=M("div"),u=M("div"),s.onclick=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},l.className="introjs-tooltiptext",(p=M("p")).innerHTML=i.hint||"",l.appendChild(p),n._options.hintShowButton&&((h=M("a")).className=n._options.buttonClass,h.setAttribute("role","button"),h.innerHTML=n._options.hintButtonLabel,h.onclick=function(){return lt(n,r)},l.appendChild(h)),c.className="introjs-arrow",s.appendChild(c),s.appendChild(l),f=o.getAttribute("data-step")||"",n._currentStep=parseInt(f,10),d=n._hintItems[n._currentStep],u.className="introjs-tooltipReferenceLayer introjs-hintReference",u.setAttribute("data-step",f),I(n,d,u),u.appendChild(s),document.body.appendChild(u),H(n,d,s,c,!0);case 30:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function _t(){var t=document.querySelector(".introjs-hintReference");if(t&&t.parentNode){var e=t.getAttribute("data-step");if(!e)return;return t.parentNode.removeChild(t),e}}function kt(t,e){return xt.apply(this,arguments)}function xt(){return(xt=r(t().mark((function e(n,r){var o,i,a,s,l,c,u,h,f,d;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n._hintItems=[],!(n._options.hints&&n._options.hints.length>0)){t.next=6;break}o=p(n._options.hints);try{for(o.s();!(i=o.n()).done;)a=i.value,"string"==typeof(s=it(a)).element&&(s.element=document.querySelector(s.element)),s.hintPosition=s.hintPosition||n._options.hintPosition,s.hintAnimation=s.hintAnimation||n._options.hintAnimation,null!==s.element&&n._hintItems.push(s)}catch(t){o.e(t)}finally{o.f()}t.next=10;break;case 6:if((l=Array.from(r.querySelectorAll("*[data-hint]")))&&l.length){t.next=9;break}return t.abrupt("return",!1);case 9:for(c=0,u=l;c<u.length;c++)h=u[c],f=h.getAttribute("data-hint-animation"),d=n._options.hintAnimation,f&&(d="true"===f),n._hintItems.push({element:h,hint:h.getAttribute("data-hint")||"",hintPosition:h.getAttribute("data-hint-position")||n._options.hintPosition,hintAnimation:d,tooltipClass:h.getAttribute("data-tooltip-class")||void 0,position:h.getAttribute("data-position")||n._options.tooltipPosition});case 10:return t.next=12,vt(n);case 12:return g.on(document,"click",_t,n,!1),g.on(window,"resize",Ct,n,!0),t.abrupt("return",!0);case 15:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function Ct(t){var e,n=p(t._hintItems);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=r.hintTargetElement;yt(r.hintPosition,r.element,o)}}catch(t){n.e(t)}finally{n.f()}}function St(t,e){var n=Array.from(e.querySelectorAll("*[data-intro]")),r=[];if(t._options.steps&&t._options.steps.length){var o,i=p(t._options.steps);try{for(i.s();!(o=i.n()).done;){var a=it(o.value);if(a.step=r.length+1,a.title=a.title||"","string"==typeof a.element&&(a.element=document.querySelector(a.element)||void 0),void 0===a.element||null===a.element){var s=document.querySelector(".introjsFloatingElement");null===s&&(s=M("div",{className:"introjsFloatingElement"}),document.body.appendChild(s)),a.element=s,a.position="floating"}a.position=a.position||t._options.tooltipPosition,a.scrollTo=a.scrollTo||t._options.scrollTo,void 0===a.disableInteraction&&(a.disableInteraction=t._options.disableInteraction),null!==a.element&&r.push(a)}}catch(t){i.e(t)}finally{i.f()}}else{var l;if(n.length<1)return[];var c,u=p(n);try{for(u.s();!(c=u.n()).done;){var h=c.value;if((!t._options.group||h.getAttribute("data-intro-group")===t._options.group)&&"none"!==h.style.display){var f=parseInt(h.getAttribute("data-step")||"",10);l=t._options.disableInteraction,h.hasAttribute("data-disable-interaction")&&(l=!!h.getAttribute("data-disable-interaction")),f>0&&(r[f-1]={step:f,element:h,title:h.getAttribute("data-title")||"",intro:h.getAttribute("data-intro")||"",tooltipClass:h.getAttribute("data-tooltip-class")||void 0,highlightClass:h.getAttribute("data-highlight-class")||void 0,position:h.getAttribute("data-position")||t._options.tooltipPosition,scrollTo:h.getAttribute("data-scroll-to")||t._options.scrollTo,disableInteraction:l})}}}catch(t){u.e(t)}finally{u.f()}var d,m=0,v=p(n);try{for(v.s();!(d=v.n()).done;){var b=d.value;if((!t._options.group||b.getAttribute("data-intro-group")===t._options.group)&&null===b.getAttribute("data-step")){for(;void 0!==r[m];)m++;l=b.hasAttribute("data-disable-interaction")?!!b.getAttribute("data-disable-interaction"):t._options.disableInteraction,r[m]={element:b,title:b.getAttribute("data-title")||"",intro:b.getAttribute("data-intro")||"",step:m+1,tooltipClass:b.getAttribute("data-tooltip-class")||void 0,highlightClass:b.getAttribute("data-highlight-class")||void 0,position:b.getAttribute("data-position")||t._options.tooltipPosition,scrollTo:b.getAttribute("data-scroll-to")||t._options.scrollTo,disableInteraction:l}}}}catch(t){v.e(t)}finally{v.f()}}for(var y=[],g=0;g<r.length;g++)r[g]&&y.push(r[g]);return(r=y).sort((function(t,e){return t.step-e.step})),r}function jt(t,e){var n=t._currentStep;if(null!=n&&-1!=n){var r=t._introItems[n],o=document.querySelector(".introjs-tooltipReferenceLayer"),i=document.querySelector(".introjs-helperLayer"),a=document.querySelector(".introjs-disableInteraction");I(t,r,i),I(t,r,o),I(t,r,a),e&&(t._introItems=St(t,t._targetElement),function(t,e){if(t._options.showBullets){var n=document.querySelector(".introjs-bullets");n&&n.parentNode&&n.parentNode.replaceChild(V(t,e),n)}}(t,r),Y(o,n,t._introItems.length));var s=document.querySelector(".introjs-arrow"),l=document.querySelector(".introjs-tooltip");return l&&s&&H(t,t._introItems[n],l,s),Ct(t),t}}function At(t){jt(t)}function Et(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&t.parentElement){var n=t.parentElement;e?(T(t,{opacity:"0"}),window.setTimeout((function(){try{n.removeChild(t)}catch(t){}}),500)):n.removeChild(t)}}function Nt(t,e){return Lt.apply(this,arguments)}function Lt(){return Lt=r(t().mark((function e(n,r){var o,i,a,s,l,c=arguments;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=c.length>2&&void 0!==c[2]&&c[2],i=!0,void 0===n._introBeforeExitCallback){t.next=6;break}return t.next=5,n._introBeforeExitCallback.call(n,r);case 5:i=t.sent;case 6:if(o||!1!==i){t.next=8;break}return t.abrupt("return");case 8:if((a=Array.from(r.querySelectorAll(".introjs-overlay")))&&a.length){s=p(a);try{for(s.s();!(l=s.n()).done;)Et(l.value)}catch(t){s.e(t)}finally{s.f()}}if(Et(r.querySelector(".introjs-helperLayer"),!0),Et(r.querySelector(".introjs-tooltipReferenceLayer")),Et(r.querySelector(".introjs-disableInteraction")),Et(document.querySelector(".introjsFloatingElement")),R(),g.off(window,"keydown",rt,n,!0),g.off(window,"resize",At,n,!0),!w(n._introExitCallback)){t.next=24;break}return t.next=24,n._introExitCallback.call(n);case 24:n._currentStep=-1;case 25:case"end":return t.stop()}}),e)}))),Lt.apply(this,arguments)}function Tt(e,n){var o=M("div",{className:"introjs-overlay"});return T(o,{top:0,bottom:0,left:0,right:0,position:"fixed"}),n.appendChild(o),!0===e._options.exitOnOverlayClick&&(T(o,{cursor:"pointer"}),o.onclick=r(t().mark((function r(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nt(e,n);case 2:case"end":return t.stop()}}),r)})))),!0}function It(t,e){return Pt.apply(this,arguments)}function Pt(){return(Pt=r(t().mark((function e(n,r){var o;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.isActive()){t.next=2;break}return t.abrupt("return",!1);case 2:if(!w(n._introStartCallback)){t.next=5;break}return t.next=5,n._introStartCallback.call(n,r);case 5:if(0!==(o=St(n,r)).length){t.next=8;break}return t.abrupt("return",!1);case 8:return n._introItems=o,Tt(n,r),t.next=12,K(n);case 12:r.addEventListener,n._options.keyboardNavigation&&g.on(window,"keydown",rt,n,!0),g.on(window,"resize",At,n,!0);case 15:return t.abrupt("return",!1);case 16:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function Ot(t,e,n){return t[e]=n,t}var qt=function(){function e(t){o(this,e),s(this,"_currentStep",-1),s(this,"_currentStepNumber",void 0),s(this,"_direction",void 0),s(this,"_targetElement",void 0),s(this,"_introItems",[]),s(this,"_hintItems",[]),s(this,"_options",void 0),s(this,"_introBeforeChangeCallback",void 0),s(this,"_introChangeCallback",void 0),s(this,"_introAfterChangeCallback",void 0),s(this,"_introCompleteCallback",void 0),s(this,"_introStartCallback",void 0),s(this,"_introExitCallback",void 0),s(this,"_introSkipCallback",void 0),s(this,"_introBeforeExitCallback",void 0),s(this,"_hintsAddedCallback",void 0),s(this,"_hintClickCallback",void 0),s(this,"_hintCloseCallback",void 0),s(this,"_lastShowElementTimer",void 0),s(this,"_hintsAutoRefreshFunction",void 0),this._targetElement=t,this._options={steps:[],hints:[],isActive:!0,nextLabel:"Next",prevLabel:"Back",skipLabel:"",doneLabel:"Done",hidePrev:!1,hideNext:!1,nextToDone:!0,tooltipPosition:"bottom",tooltipClass:"",group:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!1,stepNumbersOfLabel:"of",keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.5,autoPosition:!0,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,dontShowAgain:!1,dontShowAgainLabel:"Don't show this again",dontShowAgainCookie:"introjs-dontShowAgain",dontShowAgainCookieDays:365,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintShowButton:!0,hintAutoRefreshInterval:10,hintAnimation:!0,buttonClass:"introjs-button",progressBarAdditionalClass:!1}}var n,i,c,u,h,f,b,y,_,k;return a(e,[{key:"isActive",value:function(){return(!this._options.dontShowAgain||""===(t=d(this._options.dontShowAgainCookie))||t!==m)&&this._options.isActive;var t}},{key:"clone",value:function(){return new e(this._targetElement)}},{key:"setOption",value:function(t,e){return this._options=Ot(this._options,t,e),this}},{key:"setOptions",value:function(t){return this._options=function(t,e){for(var n=0,r=Object.entries(e);n<r.length;n++){var o=l(r[n],2);t=Ot(t,o[0],o[1])}return t}(this._options,t),this}},{key:"start",value:(k=r(t().mark((function e(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,It(this,this._targetElement);case 2:return t.abrupt("return",this);case 3:case"end":return t.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"goToStep",value:(_=r(t().mark((function e(n){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(this,n);case 2:return t.abrupt("return",this);case 3:case"end":return t.stop()}}),e,this)}))),function(t){return _.apply(this,arguments)})},{key:"addStep",value:function(t){return this._options.steps||(this._options.steps=[]),this._options.steps.push(t),this}},{key:"addSteps",value:function(t){if(!t.length)return this;for(var e=0;e<t.length;e++)this.addStep(t[e]);return this}},{key:"goToStepNumber",value:(y=r(t().mark((function e(n){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(this,n);case 2:return t.abrupt("return",this);case 3:case"end":return t.stop()}}),e,this)}))),function(t){return y.apply(this,arguments)})},{key:"nextStep",value:(b=r(t().mark((function e(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K(this);case 2:return t.abrupt("return",this);case 3:case"end":return t.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"previousStep",value:(f=r(t().mark((function e(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,et(this);case 2:return t.abrupt("return",this);case 3:case"end":return t.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"currentStep",value:function(){return this._currentStep}},{key:"exit",value:(h=r(t().mark((function e(n){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nt(this,this._targetElement,n);case 2:return t.abrupt("return",this);case 3:case"end":return t.stop()}}),e,this)}))),function(t){return h.apply(this,arguments)})},{key:"refresh",value:function(t){return jt(this,t),this}},{key:"setDontShowAgain",value:function(t){return v(this,t),this}},{key:"onbeforechange",value:function(t){if(!w(t))throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=t,this}},{key:"onchange",value:function(t){if(!w(t))throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this}},{key:"onafterchange",value:function(t){if(!w(t))throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=t,this}},{key:"oncomplete",value:function(t){if(!w(t))throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this}},{key:"onhintsadded",value:function(t){if(!w(t))throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=t,this}},{key:"onhintclick",value:function(t){if(!w(t))throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=t,this}},{key:"onhintclose",value:function(t){if(!w(t))throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=t,this}},{key:"onstart",value:function(t){if(!w(t))throw new Error("Provided callback for onstart was not a function.");return this._introStartCallback=t,this}},{key:"onexit",value:function(t){if(!w(t))throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this}},{key:"onskip",value:function(t){if(!w(t))throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=t,this}},{key:"onbeforeexit",value:function(t){if(!w(t))throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=t,this}},{key:"addHints",value:function(){var e=r(t().mark((function e(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kt(this,this._targetElement);case 2:return t.abrupt("return",this);case 3:case"end":return t.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hideHint",value:(u=r(t().mark((function e(n){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lt(this,n);case 2:return t.abrupt("return",this);case 3:case"end":return t.stop()}}),e,this)}))),function(t){return u.apply(this,arguments)})},{key:"hideHints",value:(c=r(t().mark((function e(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ut(this);case 2:return t.abrupt("return",this);case 3:case"end":return t.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"showHint",value:function(t){return dt(t),this}},{key:"showHints",value:(i=r(t().mark((function e(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ht(this);case 2:return t.abrupt("return",this);case 3:case"end":return t.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"removeHints",value:function(){return function(t){var e,n=p(st(".introjs-hint"));try{for(n.s();!(e=n.n()).done;){var r=e.value.getAttribute("data-step");r&&mt(parseInt(r,10))}}catch(t){n.e(t)}finally{n.f()}g.off(document,"click",_t,t,!1),g.off(window,"resize",Ct,t,!0),t._hintsAutoRefreshFunction&&g.off(window,"scroll",t._hintsAutoRefreshFunction,t,!0)}(this),this}},{key:"removeHint",value:function(t){return mt(t),this}},{key:"showHintDialog",value:(n=r(t().mark((function e(n){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gt(this,n);case 2:return t.abrupt("return",this);case 3:case"end":return t.stop()}}),e,this)}))),function(t){return n.apply(this,arguments)})}]),e}(),Bt=function t(n){var r;if("object"===e(n))r=new qt(n);else if("string"==typeof n){var o=document.querySelector(n);if(!o)throw new Error("There is no element with given selector.");r=new qt(o)}else r=new qt(document.body);return t.instances[y(r,"introjs-instance")]=r,r};return Bt.version="7.2.0",Bt.instances={},Bt}));

!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["@master/css"]=t():e["@master/css"]=t()}(this,(function(){return(()=>{var e={642:e=>{e.exports={"3xs":360,"2xs":480,xs:600,sm:768,md:1024,lg:1280,xl:1440,"2xl":1600,"3xl":1920,"4xl":2560}},580:e=>{e.exports={fade:{10:"131518",20:"24262d",30:"363944",40:"4c515f",50:"63697c",60:"878d9f",70:"a6abb8",80:"c3c6cf",90:"f4f4f6"},gray:{10:"151515",20:"242424",30:"39393b",40:"515153",50:"6a6a6c",60:"8d8d8f",70:"aaaaac",80:"c6c6c8",90:"f4f4f6"},brown:{10:"1c130f",20:"31221b",30:"4b3429",40:"6a4a3a",50:"8a604c",60:"af836e",70:"c4a394",80:"d8c2b8",90:"f8f3f1"},orange:{10:"221205",20:"3a1f08",30:"582f0d",40:"7c4312",50:"a15717",60:"d5731e",70:"e79855",80:"efbd92",90:"fcf1e7"},gold:{10:"1e1400",20:"342300",30:"4e3400",40:"6e4900",50:"906000",60:"c08000",70:"e89a00",80:"ffba30",90:"fff3da"},yellow:{10:"1b1500",20:"2f2500",30:"473800",40:"634f00",50:"806700",60:"ac8a00",70:"d0a700",80:"f0c100",90:"fff5ca"},grass:{10:"101803",20:"1c2a05",30:"2a4008",40:"3c5a0b",50:"4e750e",60:"689c13",70:"7dbc17",80:"92da1a",90:"ebfad4"},green:{10:"011a0b",20:"022d13",30:"03441d",40:"055f28",50:"067b34",60:"08a345",70:"0ac553",80:"0be561",90:"d5fde5"},beryl:{10:"001912",20:"002b1f",30:"00432f",40:"005d41",50:"007954",60:"00a170",70:"00c387",80:"00e19c",90:"c9ffee"},teal:{10:"001918",20:"002b28",30:"00413d",40:"005b55",50:"00776f",60:"009f94",70:"00bfb2",80:"00ddce",90:"c5fffb"},cyan:{10:"00181f",20:"002a35",30:"003f51",40:"005973",50:"007391",60:"0099c1",70:"00b9e9",80:"3dd7ff",90:"dff8ff"},sky:{10:"021726",20:"032841",30:"043c61",40:"065489",50:"086eb3",60:"0b92ee",70:"4db3f7",80:"8ccefa",90:"eaf6fe"},blue:{10:"051338",20:"09205e",30:"0d318d",40:"1344c4",50:"175fe9",60:"538cee",70:"81acf3",80:"a5c7fd",90:"edf4fe"},indigo:{10:"161031",20:"24195e",30:"332592",40:"4835cc",50:"5a5bd5",60:"7d84e8",70:"a1a5ee",80:"bfc2f4",90:"f1f2ff"},violet:{10:"1f0839",20:"310e63",30:"491595",40:"641ed2",50:"7949e5",60:"9e77f5",70:"b89bf9",80:"d0bdfb",90:"f5f1ff"},purple:{10:"220736",20:"390c5b",30:"551287",40:"7719bd",50:"9832e4",60:"b56cec",70:"ca96f1",80:"dcbaf6",90:"f9f0ff"},fuchsia:{10:"2b0720",20:"470b3d",30:"68105f",40:"8e1691",50:"b61cbb",60:"e04ee5",70:"ea86ed",80:"f1b1f3",90:"feefff"},pink:{10:"2d0519",20:"4c082b",30:"720c40",40:"9d1059",50:"ca1473",60:"ee52a3",70:"f388c0",80:"f7b2d6",90:"fff0f8"},crimson:{10:"33020f",20:"500317",30:"780522",40:"a20d35",50:"ce1a4b",60:"ea5b82",70:"f58ba7",80:"ffb1c6",90:"fff1f4"},red:{10:"350001",20:"530001",30:"780506",40:"a60708",50:"d11a1e",60:"eb5f63",70:"fa8b8d",80:"fdb3b5",90:"fff1f1"},black:"000000",white:"ffffff"}},989:(e,t,s)=>{const i=s(824),r=s(860);s(580);e.exports=function(e){"string"==typeof e&&(e={"":e});const t=""in e;let s=!1;for(const t in e)if(t&&+t>=100){s=!0;break}if(!s&&(!t||Object.keys(e).length>1)){let t,s,n=0,a="0"in e?i(e[0]):[0,0,0];const c=[],l=()=>{const i=t-n,l=s.map(((e,t)=>(e-a[t])/i));for(const t of c){const s=t-n,i=a.map(((e,t)=>Math.round(e+l[t]*s)));e[t]=r.call(this,...i)}};for(let r=1;r<100;r++){const o=r%2==0;r in e?(c.length?(t=r,s=i(e[r]),l(),c.length=0,a=s):a=i(e[r]),n=r):o&&c.push(r)}c.length&&(t=100,s="100"in e?i(e[100]):[255,255,255],l())}return t||(e[""]=e[s?"500":"50"]),e}},824:e=>{e.exports=function(e){const t=e.match(/.{1,2}/g);return[parseInt(t[0],16),parseInt(t[1],16),parseInt(t[2],16)]}},860:e=>{e.exports=function(e,t,s){return((1<<24)+(e<<16)+(t<<8)+s).toString(16).slice(1)}}},t={};function s(i){var r=t[i];if(void 0!==r)return r.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,s),n.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{"use strict";function e(e,t){return e+":"+(t.unit?t.value+t.unit:t.value)+(t.important?"!important":"")}s.r(i),s.d(i,{Style:()=>$t,StyleSheet:()=>Ct,Styles:()=>qn,breakpoints:()=>Qn,colors:()=>Fn,init:()=>Zn,sheets:()=>Nt});const t=/^([+-.]?\d+(\.?\d+)?)(.*)?/;function r(e,s,i,r,n){let a=r?r[e]:"",c="",l="";if(a)return{value:a,unit:c,unitToken:l};if("number"==typeof e)a=e,c=s||"";else{if(i){const t=Object.keys(i);e=e.replace(new RegExp(`(^|,| |\\()(${t.join("|")})(?:-([0-9]+))?(?:\\/(\\.?[0-9]+))?(?=(\\)|\\}|,| |$))`,"gm"),((e,t,s,r,n,a)=>{const c=i[s][r||""];if(c){let e="#"+c;if(n){let t=+n;t=isNaN(t)?1:Math.min(Math.max(t,0),1),e+=Math.round(255*t).toString(16).toUpperCase().padStart(2,"0")}return t+e}return e}))}if(s){const i=e.match(t);if(i){if(e.includes("/")){const t=e.split("/");return{value:+t[0]/+t[1]*100+"%",unit:c,unitToken:l}}return a=+i[1],c=l=i[3]||"",c||("rem"!==s&&"em"!==s||(a/=n),c=s||""),{value:a,unit:c,unitToken:l}}}a=(-1===e.indexOf("calc(")?e:function(e){const t=e=>"+"===e||"-"===e||"*"===e||"/"===e;let s,i="",r="",n=!1;function a(){s=null,r=""}for(let c=0;c<e.length;c++){const l=e[c];if("("===l||")"===l)n=")"===l,i+=r+l,a();else if(","===l)i+=r+l+" ",a();else{switch(s){case 1:break;case 2:if(t(l)){i+=r+" "+l+" ",a();continue}break;default:n&&(r+=" "),isNaN(+l)?t(l)||(s=1):s=2}r+=l}}return r&&(i+=r),i}(e)).replace(/\$\(((\w|-)+)\)/g,"var(--$1)")}return{value:a,unit:c,unitToken:l}}const n=[":disabled",":active",":focus",":hover"],a={"(":")","'":"'","{":"}"};var c=s(642),l=s.n(c);const o=(...e)=>e.join("-"),d="border",h="radius",u="margin",f="padding",m="font",p="currentColor",x=",",b="flow",g="template",y="column",k="columns",v="gap",w="row",O="rows",j="shadow",S="user",N="content",$="image",I="stroke",R="filter",z="blend",W="background",A="repeat",C="color",E="scroll",M="animation",V="direction",_="mode",L="behavior",T=o("overscroll",L),q="y",P="x",Z="height",F="width",Q="max",U="min",X="block",Y="inline",B="flex",D="grid",G="transition",H="origin",J="delay",K="rotate",ee="deg",te="timing-function",se="duration",ie="display",re="hidden",ne="box",ae="fill",ce="clip",le="none",oe="text",de="align",he="transform",ue="vertical",fe="word",me="space",pe="decoration",xe="break",be="size",ge="auto",ye="line",ke="object",ve="position",we="rem",Oe="style",je="smoothing",Se="antialiased",Ne="spacing",$e=o("letter",Ne),Ie=o(Q,F),Re=o(U,F),ze=o(Q,Z),We=o(U,Z),Ae="table",Ce="group",Ee="list",Me="item",Ve="span",_e="justify",Le="items",Te="self",qe="place",Pe="type",Ze="offset",Fe="outline",Qe="snap",Ue="shape",Xe="view",Ye="area",Be="start",De="blur",Ge="drop",He={full:"100%",fit:o("fit",N),max:o(Q,N),min:o(U,N)};for(const e in l())He[e]=l()[e]/16+"rem";const Je=s(989),Ke="matches",et="semantics",tt="symbol",st="max-width",it="min-width",rt="motion",nt="reduce",at="reduced-motion",ct="::scrollbar",lt="::slider-thumb",ot="::slider-runnable-track",dt="::search",ht="::meter",ut="::resizer",ft="::progress",mt="px",pt=["!","*",">","+","~",":","[","@","_"],xt=[...pt,void 0,"."],bt=new RegExp(ct,"g"),gt=new RegExp(dt,"g"),yt=new RegExp(ht,"g"),kt=new RegExp(ot,"g"),vt=new RegExp(lt,"g"),wt=new RegExp(ut,"g"),Ot=new RegExp(ft,"g"),jt=/(\\'(?:.*?)[^\\]\\')(?=[*_>~+,)])|(\[[^=]+='(?:.*?)[^\\]'\])/,St=e=>e.split(jt).map(((e,t)=>t%3?e:e.replace(/\_/g," "))).join(""),Nt=[];class $t{constructor(t,s){this.name=t,this.matching=s,this.at={},this.prioritySelectorIndex=-1;const i=this.constructor;if(void 0===s&&!(s=i.match(t)))return;let c,l,o,{id:d,semantics:h,unit:u,colors:f,key:m,values:p,colorful:x,breakpoints:b,mediaQueries:g,colorSchemes:y,rootSize:k}=i,v=t;if(x||(f=null),s.origin===et)c=s.value,o=v.slice(s.value.length),this.value=h[s.value];else{if(s.origin===Ke)if(d===Ce){let e=0;for(;e<v.length&&("{"!==v[e]||"\\"===v[e-1]);e++);l=v.slice(0,e),c=v.slice(e)}else{const e=v.indexOf(":");this.prefix=v.slice(0,e+1),this.prefix.includes("(")?(this.prefix=void 0,c=v):c=v.slice(e+1)}else s.origin===tt&&(this.symbol=v[0],c=v.slice(1));let e,t="",i=[],n=0;!function s(l,o,d=""){let h,m=!1;for(l&&(")"===l&&"$"===t.slice(-1)?h=t.length-1:"'"===l&&(m=!0),t+=c[n++]);n<c.length;n++){const x=c[n];if(x===l){if(t+=x,m){let e=0;for(let s=t.length-2;"\\"===t[s];s--)e++;if(e%2)continue}void 0!==h&&(t=t.slice(0,h)+t.slice(h).replace(/\$\((.*)\)/,"var(--$1)")),o||(m?i.push(t):(e=r(t,u,f,p,k),i.push(e.value+e.unit)),d="",t="");break}if(!m&&x in a)s(a[x],void 0===o?0:o+1,d);else if("|"!==x||"}"===l||m&&"path"!==d){if(!l){if("."===x){if(isNaN(+c[n+1]))break;"-"===c[n-1]&&(t+="0")}else{if(","===x){e=r(t,u,f,p,k),i.push(e.value+e.unit,","),t="";continue}if("#"===x&&(t||i.length&&"|"!==c[n-1])||pt.includes(x))break}d+=x}t+=x}else l?t+=" ":(e=r(t,u,f,p,k),i.push(e.value+e.unit),t="")}}(),t&&(e=r(t,u,f,p,k),i.push(e.value+e.unit)),o=c.slice(n),1===i.length?e?(this.value=e.value,this.unit=e.unit):(this.value=i[0],this.unit=""):this.value=i.reduce(((e,t,s)=>e+t+(","===t||","===i[s+1]||s===i.length-1?"":" ")),"")}o.includes(ct)&&(o=o.replace(bt,"::-webkit-scrollbar")),o.includes(dt)&&(o=o.replace(gt,"::-webkit-search")),o.includes(lt)&&(o=o.replace(vt,"::-webkit-slider-thumb")),o.includes(ot)&&(o=o.replace(kt,"::-webkit-slider-runnable-track")),o.includes(ht)&&(o=o.replace(yt,"::-webkit-meter")),o.includes(ut)&&(o=o.replace(wt,"::-webkit-resizer")),o.includes(ft)&&(o=o.replace(Ot,"::-webkit-progress")),o.includes(":first")&&(o=o.replace(/:first(?![a-z-])/g,":first-child")),o.includes(":last")&&(o=o.replace(/:last(?![a-z-])/g,":last-child")),o.includes(":even")&&(o=o.replace(/:even(?![a-z-])/g,":nth-child(2n)")),o.includes(":odd")&&(o=o.replace(/:odd(?![a-z-])/g,":nth-child(odd)")),o.includes(":nth(")&&(o=o.replace(/:nth\(/g,":nth-child(")),this.parseValue&&(this.value=this.parseValue),p&&this.value in p&&(this.value=p[this.value]),"!"===o[0]&&(this.important=!0,o=o.slice(1)),this.prefixSelector=l?St(l):"";const w=o.split("@");let O=w[0];if(O){O=St(O),this.hasWhere=O.includes(":where(");for(let e=0;e<n.length;e++)if(O.includes(n[e])){this.prioritySelectorIndex=e;break}}this.suffixSelector=O;for(let e=1;e<w.length;e++){const t=w[e];if(t)if(y.includes(t))this.colorScheme=t;else if("rtl"===t||"ltr"===t)this.direction=t;else{let e,s;const i=t.indexOf("_");if(-1!==i)e=t.slice(0,i),s=t.slice(i);else{const i=t.indexOf("(");-1!==i&&(e=t.slice(0,i),s=t.slice(i))}if(!e){e="media";const i=[];this.media={token:t,features:{}};const n=t.split("&");for(const e of n)if("all"===e||"print"===e||"screen"===e||"speech"===e)this.media.type=e;else if(""===e)this.media.type="print";else if("landscape"===e||"portrait"===e)i.push("(orientation:"+e+")");else if(e===rt||e===at)i.push("(prefers-reduced-motion:"+(e===rt?"no-preference":nt)+")");else if(e in g)i.push(g[e]);else{const t={token:e};let s="",n="",a=0;switch(e.startsWith("<=")?(n="<=",s=st):e.startsWith(">=")||b[e]?(n=">=",s=it):e.startsWith(">")?(n=">",s=it,a=.02):e.startsWith("<")&&(n="<",s=st,a=-.02),s){case st:case it:const c=n?e.replace(n,""):e,l=b[c];l?Object.assign(t,r(l,mt)):Object.assign(t,r(c,mt)),t.unit===mt&&(t.value+=a),this.media.features[s]=t,i.push("("+s+":"+(t.value+t.unit)+")")}}s="",this.media.type&&(s=this.media.type),i.length&&(s+=(s?" and ":"")+i.join(" and "))}s&&(this.at[e]=(e in this.at?this.at[e]+" and ":"")+s.replace(/\_/g," "))}}let j="";this.colorScheme&&(j+="."+this.colorScheme+" "),this.prefixSelector&&(j+=this.prefixSelector),this.direction&&(j+="[dir="+this.direction+"] "),this.text=j+"."+CSS.escape(this.name)+this.suffixSelector+(this.name in $t.relations?$t.relations[this.name].map((e=>", "+j+"."+CSS.escape(e)+this.suffixSelector)).join(""):"")+"{"+("object"==typeof this.value?Object.keys(this.value).map((t=>e(t,Object.assign(Object.assign({},this),{unit:"",value:this.value[t]})))).join(";"):this.props?Object.keys(this.props).map((t=>e(t,this.props[t]))).join(";"):e(m,this))+"}";for(const e of Object.keys(this.at).sort(((e,t)=>"supports"===t?-1:1)))this.text="@"+e+" "+this.at[e]+"{"+this.text+"}";void 0===this.order&&(this.order=0)}static match(e){if(this.matches&&this.matches.test(e))return{origin:Ke};if(this.semantics)for(const t in this.semantics)if(e===t||e.startsWith(t)&&xt.includes(e[t.length]))return{origin:et,value:t};return this.colorStarts&&(e.match("^"+this.colorStarts+"(#|(rgb|hsl)\\(.*\\))((?!\\|).)*$")||this.colorNames.length&&e.match("^"+this.colorStarts+"("+this.colorNames.join("|")+")")&&-1===e.indexOf("|"))?{origin:Ke}:this.symbol&&e.startsWith(this.symbol)?{origin:tt}:this.key&&e.startsWith(this.key+":")?{origin:Ke}:void 0}static extend(e,...t){if(!t.length)return this;const s=Object.assign({},...t),i=(e,t,i)=>{var r;for(const n in s){const a=s[n];null==a?n in e&&(null==i||i(n),delete e[n]):e[n]=null!==(r=null==t?void 0:t(n,a))&&void 0!==r?r:a}};switch(e){case"classes":i(this.classes,((e,t)=>{if(e in this.classes)for(const t in this.relations){const s=this.relations[t],i=s.indexOf(e);-1!==i&&(s.length>1?s.splice(i,1):delete this.relations[t])}const s=Array.isArray(t)?t:t.replace(/(?:\n(?:\s*))+/g," ").trim().split(" ");for(const t of s)t in this.relations?this.relations[t].push(e):this.relations[t]=[e];return s}),(e=>{for(const t of this.classes[e]){const s=this.relations[t];s.length>1?s.splice(s.indexOf(e),1):delete this.relations[t]}}));break;case"colors":i(this.colors,((e,t)=>(-1===this.colorNames.indexOf(e)&&this.colorNames.push(e),Je(t))),(e=>{const t=this.colorNames.indexOf(e);-1!==t&&this.colorNames.splice(t,1)}));break;default:let t=this[e];t||(t=this[e]={}),i(t)}return this}}$t.unit="rem",$t.rootSize=16,$t.mediaQueries={},$t.sheets=Nt,$t.colors={},$t.classes={},$t.colorNames=[],$t.relations={},$t.colorSchemes=["dark","light"],"undefined"!=typeof window&&(window.MasterStyle=$t);const It=[",",".","#","[","!","*",">","+","~",":","@"],Rt="undefined"!=typeof document;let zt;Rt&&(zt=document.createElement("style"),zt.id="master-css");const Wt="undefined"!=typeof window,At=Wt?window.MutationObserver:Object;class Ct extends At{constructor(e){if(super((e=>{const t={},s=[],i=[],r=[],n=(e,t)=>{t?e.classList.forEach(c):e.classList.forEach(a);const s=e.children;for(let e=0;e<s.length;e++){const r=s[e];r.classList&&(i.push(r),n(r,t))}},a=e=>{e in t?t[e]++:t[e]=1},c=e=>{e in t?t[e]--:e in this.countOfName&&(t[e]=-1)},l=(e,t)=>{for(let s=0;s<e.length;s++){const a=e[s];!a.classList||i.includes(a)||r.includes(a)||(a.isConnected!==t?(i.push(a),n(a,t)):r.push(a))}};for(let t=0;t<e.length;t++){const r=e[t],{addedNodes:n,removedNodes:a,type:c,target:o,oldValue:d}=r;if("attributes"===c){if(s.find((e=>e.target===o)))continue;s.push(r)}else l(n,!1),o.isConnected&&i.includes(o)||l(a,!0)}if(s.length||Object.keys(t).length){for(const{oldValue:e,target:t}of s){const s=i.includes(t),r=t.classList,n=e?e.split(" "):[];if(s){if(t.isConnected)continue;for(const e of n)r.contains(e)||c(e)}else if(t.isConnected){r.forEach((e=>{n.includes(e)||a(e)}));for(const e of n)r.contains(e)||c(e)}}for(const e in t){const s=t[e],i=(this.countOfName[e]||0)+s;0===i?(delete this.countOfName[e],this.delete(e)):(e in this.countOfName||this.findAndInsert(e),this.countOfName[e]=i)}}})),this.container=e,this.styles=[],this.styleOfName={},this.countOfName={},Rt){if(e){const t=e.querySelector('[id="master-css"]');if(t){this.element=t;const e=(t,s)=>{if(t.selectorText){const e=t.selectorText.split(", ")[0].split(" ");for(let i=0;i<e.length;i++){const r=e[i];if("."===r[0]){const e=r.slice(1);let i="";for(let t=0;t<e.length;t++){const s=e[t],r=e[t+1];if("\\"===s){if(t++,"\\"!==r){i+=r;continue}}else if(It.includes(s))break;i+=s}if(!(i in this.styleOfName)&&!(i in $t.classes)){const e=Ct.findAndNew(i);e&&(e.cssRule=null!=s?s:t,this.styles.push(e),this.styleOfName[e.name]=e)}}}}else if(t.cssRules)for(let i=0;i<t.cssRules.length;i++)e(t.cssRules[i],null!=s?s:t.cssRules[i])};e(t.sheet,void 0)}else this.element=zt.cloneNode(),null==e||e.prepend(this.element)}Nt.push(this)}}observe(e,t={subtree:!0,childList:!0}){const s=e=>{e.forEach((e=>{e in this.countOfName?this.countOfName[e]++:(this.countOfName[e]=1,this.findAndInsert(e))}))};return s(e.classList),t.subtree&&e.querySelectorAll("[class]").forEach((e=>s(e.classList))),super.observe(e,Object.assign(Object.assign({},t),{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]})),this}disconnect(){super.disconnect(),this.styleOfName={},this.countOfName={},this.styles.length=0;const e=this.element.sheet;if(e)for(let t=e.cssRules.length-1;t>=0;t--)e.deleteRule(t)}static findAndNew(e){const t=e=>{for(const t of this.Styles){const s=t.match(e);if(s)return new t(e,s)}};return e in $t.classes?$t.classes[e].map(t).filter((e=>e)):t(e)}static find(e){const t=e=>{for(const t of this.Styles){if(t.match(e))return t}};return e in $t.classes?$t.classes[e].map(t).filter((e=>e)):t(e)}static refresh(){for(const e of Nt)e.refresh()}refresh(){if(!this.element)return;const e=zt.cloneNode();this.element.replaceWith(e),this.element=e,this.styles.length=0,this.styleOfName={};for(const e in this.countOfName)this.findAndInsert(e)}destroy(){this.disconnect(),Nt.splice(Nt.indexOf(this),1),this.element.remove()}insert(e){if(this.styleOfName[e.name])return;const t=e.text;let s;const i=this.styles.length-1,r=e.media,n=e.order,a=e.prioritySelectorIndex,c=e.hasWhere,l=(e,t,s,i)=>{let r,l,o=0;t&&(o=e.findIndex(t)),s&&(l=e.findIndex(s)),-1===o&&(o=e.length),void 0!==l&&-1!==l||(l=e.length),r=e.slice(o,l);for(let e=0;e<r.length;e++){const t=r[e];if(!(-1===t.prioritySelectorIndex||i&&i(t))&&(t.prioritySelectorIndex<a||t.prioritySelectorIndex===a&&(c&&!t.hasWhere||t.order>=n)))return o+e}return o+r.length};if(r){const e=this.styles.findIndex((e=>e.media));if(-1!==e){const t=r.features["max-width"],o=r.features["min-width"];if(t&&o){const r=t.value-o.value;for(let t=i;t>=e;t--){s=t;const i=this.styles[t],n=i.media,o=n.features["max-width"],d=n.features["min-width"];if(!o||!d){s++;break}const h=o.value-d.value;if(h===r){if(c!==i.hasWhere)continue;if(-1!==a){const i=[this.styles[t]];for(let s=t-1;s>=e;s--){const e=this.styles[s];if(e.hasWhere!==c)break;const t=e.media,r=t.features["max-width"],n=t.features["min-width"];if(!r||!n||r.value-n.value!==h)break;i.unshift(this.styles[s])}s=l(this.styles,(e=>e.media&&-1!==e.prioritySelectorIndex&&e.media.features["min-width"]&&e.media.features["max-width"]))}break}if(h>r)break}}else if(o)for(let t=e;t<=i;t++){s=t;const e=this.styles[t],r=e.media,d=r.features["max-width"],h=r.features["min-width"];if(d){if(h)break;continue}const u=null==h?void 0:h.value;if(u===o.value){if(!c&&e.hasWhere){s++;continue}if(-1!==a)s=l(this.styles,(e=>e.media),(e=>e.media&&-1!==e.prioritySelectorIndex&&e.media.features["min-width"]&&e.media.features["max-width"]),(e=>!e.media.features["min-width"]&&!e.media.features["max-width"]));else for(let e=t;e<=i;e++){const t=this.styles[e],i=t.media,r=i.features["min-width"];if(!i.features["max-width"]){if(t.hasWhere!==c||r.value!==u||t.order>=n)break;s=e+1}}break}if(u>o.value)break;s++}else if(t)for(let r=i;r>=e;r--){s=r;const i=this.styles[r],o=i.media,d=o.features["max-width"];if(o.features["min-width"])continue;const h=null==d?void 0:d.value;if(!h||h>t.value){s++;break}if(h===t.value){if(c&&!i.hasWhere)continue;if(-1!==a)s=l(this.styles,(e=>e.media),(e=>e.media&&-1!==e.prioritySelectorIndex&&e.media.features["min-width"]&&e.media.features["max-width"]),(e=>!e.media.features["min-width"]&&!e.media.features["max-width"]));else{const t=[this.styles[r]];for(let s=r-1;s>=e;s--){const e=this.styles[s],i=e.media,r=i.features["min-width"],n=i.features["max-width"];if(!(r||n&&n.value===h&&e.hasWhere===c))break;t.unshift(e)}for(let e=0;e<t.length;e++){const i=t[e];if(!i.media.features["min-width"]){if(i.order>=n)break;s=r-t.length+2+e}}}break}}}if(void 0===s)if(-1===e)s=i+1;else if(-1!==a)s=e+l(this.styles.slice(e),void 0,(e=>e.media.features["max-width"]||e.media.features["min-width"]));else if(c){let t=e;for(;t<this.styles.length;t++){const e=this.styles[t];if(-1!==e.prioritySelectorIndex||!e.hasWhere||e.order>=n){s=t;break}}void 0===s&&(s=t)}else for(let t=e;t<=i;t++){s=t;const e=this.styles[t],i=e.media;if(-1!==e.prioritySelectorIndex||i.features["max-width"]||i.features["min-width"])break;if(e.hasWhere)s++;else if(e.order>=n)break}}else if(-1===a)if(c)s=this.styles.findIndex((e=>!e.hasWhere||e.media||-1!==e.prioritySelectorIndex||e.order>=n)),-1===s&&(s=i+1);else{let e=0;for(;e<this.styles.length;e++){const t=this.styles[e];if(t.media||!t.hasWhere&&(t.order>=n||-1!==t.prioritySelectorIndex)){s=e;break}}void 0===s&&(s=e)}else s=l(this.styles,void 0,(e=>e.media));try{if(this.element){const i=this.element.sheet;i.insertRule(t,s),e.cssRule=i.cssRules[s]}this.styles.splice(s,0,e),this.styleOfName[e.name]=e}catch(e){}}delete(e){const t=this.element.sheet,s=e=>{const s=this.styleOfName[e];if(!(!(null==s?void 0:s.cssRule)||e in $t.relations&&$t.relations[e].some((e=>e in this.countOfName))))for(let e=0;e<t.cssRules.length;e++){t.cssRules[e]===s.cssRule&&(t.deleteRule(e),this.styles.splice(e,1),delete this.styleOfName[s.name])}};if(e in $t.classes)for(const t of $t.classes[e])t in this.countOfName||s(t);else s(e)}findAndInsert(e){const t=Ct.findAndNew(e);if(Array.isArray(t))for(const e of t)this.insert(e);else t&&this.insert(t)}}Ct.Styles=[],Wt&&(window.MasterStyleSheet=Ct);class Et extends $t{}Et.matches=/^f(ont)?:(thin|extralight|light|regular|medium|semibold|bold|bolder|extrabold|heavy)(?!\|)/,Et.key=o(m,"weight"),Et.unit="",Et.values={thin:100,extralight:200,light:300,regular:400,medium:500,semibold:600,bold:700,extrabold:800,heavy:900};const Mt="var(--font-";class Vt extends $t{}Vt.matches=/^f(ont)?:(mono|sans|serif)(?!\|)/,Vt.key=o(m,"family"),Vt.values={mono:Mt+"mono)",sans:Mt+"sans)",serif:Mt+"serif)"};class _t extends $t{}_t.matches=/^f(ont)?:([0-9]|(max|min|calc|clamp)\(.*\))((?!\|).)*$/,_t.key=o(m,be);const Lt="top",Tt="bottom",qt="left",Pt="right",Zt="l",Ft="r",Qt="t",Ut="b",Xt="x",Yt="y";class Bt extends $t{get props(){const e="m"===this.prefix[0]?u:f,t=o(e,qt),s=o(e,Pt),i=o(e,Lt),r=o(e,Tt);switch(this.prefix[1]){case Xt:return{[t]:this,[s]:this};case Yt:return{[i]:this,[r]:this};case Zt:return{[t]:this};case Ft:return{[s]:this};case Qt:return{[i]:this};case Ut:return{[r]:this};default:return{[e]:this}}}get order(){return"p:"===this.prefix||"m:"===this.prefix?-1:0}}Bt.id="spacing",Bt.matches=/^[pm][xytblr]?:./;class Dt extends $t{}Dt.matches=/^w:./,Dt.key=F,Dt.values=He;class Gt extends $t{}Gt.matches=/^h:./,Gt.key=Z,Gt.values=He;class Ht extends $t{}Ht.matches=/^min-w:./,Ht.key=Re,Ht.values=He;class Jt extends $t{}Jt.matches=/^min-h:./,Jt.key=We,Jt.values=He;class Kt extends $t{}Kt.matches=/^ls:./,Kt.key=$e,Kt.unit="em";const es=o("subpixel",Se),ts=o("-webkit-font",je),ss=o("-moz-osxfont",je);class is extends $t{get props(){const e={};switch(this.value){case es:e[ts]=e[ss]=Object.assign(Object.assign({},this),{value:ge});break;case Se:e[ts]=Object.assign(Object.assign({},this),{value:Se}),e[ss]=Object.assign(Object.assign({},this),{value:"grayscale"})}return e}}is.id="fontSmoothing",is.matches=/^f(ont)?:(antialiased|subpixel-antialiased)(?!\|)/,is.unit="";class rs extends $t{}rs.matches=/^f(ont)?:(normal|italic|oblique)(?!\|)/,rs.key=o(m,Oe),rs.unit="deg",rs.semantics={italic:"italic",oblique:"oblique"};class ns extends $t{}ns.matches=/^f(ont)?:(ordinal|slashed-zero|lining-nums|oldstyle-nums|proportional-nums|tabular-nums|diagonal-fractions|stacked-fractions)(?!\|)/,ns.key=o(m,"variant","numeric");class as extends $t{}as.matches=/^lh:./,as.key=o(ye,Z),as.unit="";class cs extends $t{}cs.matches=/^(object|obj):(contain|cover|fill|scale-down)/,cs.key=o(ke,"fit");class ls extends $t{}ls.matches=/^(object|obj):(top|bottom|right|left|center)/,ls.key=o(ke,ve);class os extends $t{}os.matches=/^t(ext)?:(justify|center|left|right|start|end)(?!\|)/,os.key=o(oe,de);class ds extends $t{constructor(){super(...arguments),this.order=-1}}ds.matches=/^t(ext)?:(underline|line-through|overline)/,ds.key=o(oe,pe),ds.colorful=!0;class hs extends $t{}hs.matches=/^t(ext)?:(uppercase|lowercase|capitalize)(?!\|)/,hs.key=o(oe,he),hs.semantics={uppercase:"uppercase",lowercase:"lowercase",capitalize:"capitalize"};class us extends $t{}us.matches=/^(?:v|vertical):./,us.key=o(ue,de);class fs extends $t{get props(){return{overflow:Object.assign(Object.assign({},this),{value:re}),display:Object.assign(Object.assign({},this),{value:"-webkit-box"}),"overflow-wrap":Object.assign(Object.assign({},this),{value:o(xe,fe)}),"text-overflow":Object.assign(Object.assign({},this),{value:"ellipsis"}),"-webkit-box-orient":Object.assign(Object.assign({},this),{value:ue}),"-webkit-line-clamp":this}}}fs.id="lines",fs.matches=/^lines:./,fs.unit="";class ms extends $t{}ms.matches=/^transform:((top|bottom|right|left|center)|\d)/,ms.key=o(he,H),ms.unit="px";class ps extends $t{}ps.matches=/^transform:(flat|preserve-3d)(?!\|)/,ps.key=o(he,Oe);class xs extends $t{}xs.matches=/^transform:(content|border|fill|stroke|view)(?!\|)/,xs.key=o(he,ne),xs.values={content:o(N,ne),border:o(d,ne),fill:o(ae,ne),stroke:o(I,ne),view:o(Xe,ne)};class bs extends $t{get parseValue(){return this.value.replace(/(translate|scale|skew|rotate|perspective|matrix)(3d|[XYZ])?\((.*?)\)/g,((e,t,s,i)=>{let r,n;switch(t){case"translate":r=we;break;case"skew":r=ee;break;case K:"3d"===s&&(n=!0),r=ee;break;default:return e}const a=i.split(",");return e.replace(i,a.map(((e,t)=>{if(n&&a.length-1!==t)return e;return Number.isNaN(+e)?e:e/(r===we?16:1)+r})).join(","))}))}}bs.matches=/^(translate|scale|skew|rotate|perspective|matrix)(3d|[XYZ])?\(/,bs.key=he,bs.unit="";class gs extends $t{constructor(){super(...arguments),this.order=-1}}gs.symbol="~",gs.key=G;class ys extends $t{}ys.matches=/^~delay:./,ys.key=o(G,J),ys.unit="ms";class ks extends $t{}ks.matches=/^~duration:./,ks.key=o(G,se),ks.unit="ms";class vs extends $t{}vs.matches=/^~property:./,vs.key=o(G,"property");class ws extends $t{}ws.matches=/^~easing:./,ws.key=o(G,te);class Os extends $t{}Os.matches=/^max-h:./,Os.key=ze,Os.values=He;class js extends $t{}js.matches=/^max-w:./,js.key=Ie,js.values=He;class Ss extends $t{}Ss.matches=/^d:./,Ss.key=ie,Ss.semantics={hidden:le,hide:le,block:X,table:Ae,flex:B,grid:D,contents:"contents",inline:Y,"inline-block":o(Y,X),"inline-flex":o(Y,B),"inline-grid":o(Y,D),"inline-table":o(Y,Ae),"table-cell":o(Ae,"cell"),"table-caption":o(Ae,"caption"),"flow-root":o(b,"root"),"list-item":o(Ee,Me),"table-row":o(Ae,w),"table-column":o(Ae,y),"table-row-group":o(Ae,w,Ce),"table-column-group":o(Ae,y,Ce),"table-header-group":o(Ae,"header",Ce),"table-footer-group":o(Ae,"footer",Ce)};class Ns extends $t{}Ns.matches=/^box:(content|border)(?!\|)/,Ns.key=o(ne,"sizing"),Ns.values={content:o(N,ne),border:o(d,ne)};class $s extends $t{}$s.key="opacity",$s.unit="";class Is extends $t{}Is.key="visibility",Is.semantics={visible:"visible",invisible:re};class Rs extends $t{}Rs.key="clear";class zs extends $t{}zs.key="float";class Ws extends $t{}Ws.key="isolation",Ws.semantics={isolate:"isolate"};class As extends $t{get props(){if(this.prefix)switch(this.prefix.slice(-2,-1)){case P:return{"overflow-x":this};case q:return{"overflow-y":this}}return{overflow:this}}get order(){if(this.prefix)switch(this.prefix.slice(-2,-1)){case P:case q:return 0}return-1}}As.id="overflow",As.matches=/^overflow(-x|-y)?:(?:visible|overlay|hidden|scroll|auto|clip|inherit|initial|revert|revert-layer|unset|\$|var)/,As.semantics={overflow:"visible"};class Cs extends $t{get props(){switch(this.prefix.slice(-2,-1)){case P:return{[o(T,P)]:this};case q:return{[o(T,q)]:this};default:return{[T]:this}}}}Cs.id="overscrollBehavior",Cs.matches=/^overscroll-behavior(?:-[xy])?:/;class Es extends $t{}Es.matches=/^z:./,Es.key="z-index",Es.unit="";class Ms extends $t{}Ms.matches=/^\@delay:./,Ms.key=o(M,J),Ms.unit="ms";class Vs extends $t{}Vs.matches=/^\@direction:./,Vs.key=o(M,V);class _s extends $t{}_s.matches=/^\@fill-mode:./,_s.key=o(M,ae,_);class Ls extends $t{}Ls.matches=/^\@iteration-count:./,Ls.key=o(M,"iteration","count"),Ls.unit="";class Ts extends $t{}Ts.matches=/^\@name:./,Ts.key=o(M,"name");class qs extends $t{}qs.matches=/^\@play-state:./,qs.key=o(M,"play-state");class Ps extends $t{}Ps.matches=/^\@easing:./,Ps.key=o(M,te);class Zs extends $t{constructor(){super(...arguments),this.order=-1}}Zs.symbol="@",Zs.key=M,Zs.unit="";function Fs(e,t,s=""){s&&(s="-"+s);const i="border-left"+s,r="border-right"+s,n="border-top"+s,a="border-bottom"+s;switch(/^b(order)?-?(.)?/.exec(e)[2]){case Xt:return{[i]:t,[r]:t};case Yt:return{[n]:t,[a]:t};case Zt:return{[i]:t};case Ft:return{[r]:t};case Qt:return{[n]:t};case Ut:return{[a]:t};default:return{[d+s]:t}}}class Qs extends $t{get props(){return Fs(this.prefix,this,C)}get order(){return this.prefix===o(d,C)+":"||"b:"===this.prefix||"border:"===this.prefix?-1:0}}Qs.id="borderColor",Qs.matches=/^border(-(left|right|top|bottom))?-color:./,Qs.colorStarts="b([xytblr]|(order(-(left|right|top|bottom))?))?:",Qs.colorful=!0,Qs.values={current:p};const Us=o(d,Lt,qt,h),Xs=o(d,Lt,Pt,h),Ys=o(d,Tt,qt,h),Bs=o(d,Tt,Pt,h),Ds=o(d,h),Gs=[Us,Xs,Ys,Bs];class Hs extends $t{get props(){var e;if(this.prefix){let e="";const t=this.prefix.split("-");if(t.length>1)for(let s=1;s<t.length-1;s++)e+=t[s][0];else e=this.prefix.slice(1,-1);switch(e){case Qt:return{[Us]:this,[Xs]:this};case"tl":case"lt":return{[Us]:this};case"rt":case"tr":return{[Xs]:this};case Ut:return{[Ys]:this,[Bs]:this};case"bl":case"lb":return{[Ys]:this};case"br":case"rb":return{[Bs]:this};case Zt:return{[Us]:this,[Ys]:this};case Ft:return{[Xs]:this,[Bs]:this};default:return{[Ds]:this}}}const t=null===(e=this.prefix)||void 0===e?void 0:e.slice(0,-1);return{[Gs.includes(t)?t:Ds]:this}}get order(){return this.prefix===o(d,h)+":"||"r:"===this.prefix?-1:0}}Hs.id="borderRadius",Hs.matches=/^((r[tblr]?[tblr]?|border(-(top|bottom)-(left|right))?-radius):.)/,Hs.semantics={rounded:"1e9em",round:"50%"};class Js extends $t{get props(){return Fs(this.prefix,this,Oe)}get order(){return this.prefix===o(d,Oe)+":"||"b:"===this.prefix||"border:"===this.prefix?-1:0}}Js.id="borderStyle",Js.matches=/^(border(-(left|right|top|bottom))?-style:.|b([xytblr]|order(-(left|right|top|bottom))?)?:(none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset)(?!\|))/;class Ks extends $t{get props(){return Fs(this.prefix,this,F)}get order(){return this.prefix===o(d,F)+":"||"b:"===this.prefix||"border:"===this.prefix?-1:0}}Ks.id="borderWidth",Ks.matches=/^(border(-(left|right|top|bottom))?-width:.|b([xytblr]|order(-(left|right|top|bottom))?)?:(([0-9]|(max|min|calc|clamp)\(.*\))|(max|min|calc|clamp)\(.*\))((?!\|).)*$)/;class ei extends $t{get props(){return Fs(this.prefix,this)}get order(){return"border:"===this.prefix||"b:"===this.prefix?-2:-1}}ei.id="border",ei.matches=/^b([xytblr]?|order(-(left|right|top|bottom))?):./,ei.colorful=!0;class ti extends $t{}ti.matches=/^(bg|background):(fixed|local|scroll)(?!\|)/,ti.key=o(W,"attachment");class si extends $t{}si.key=o(W,z,_);class ii extends $t{get props(){return{"-webkit-background-clip":this,"background-clip":this}}}ii.matches=/^(bg|background):text(?!\|)/,ii.key=o(W,ce),ii.values={content:o(N,ne),border:o(d,ne),padding:o(f,ne)};class ri extends $t{}ri.matches=/^(bg|background):transparent(?!\|)/,ri.colorStarts="(bg|background):",ri.key=o(W,C),ri.unit="",ri.colorful=!0,ri.values={current:p};class ni extends $t{}ni.matches=/^(bg|background):(content|border|padding)(?!\|)/,ni.key=o(W,H),ni.values={content:o(N,ne),border:o(d,ne),padding:o(f,ne)};class ai extends $t{}ai.matches=/^(bg|background):(top|bottom|right|left|center)(?!\|)/,ai.key=o(W,ve),ai.unit="px";class ci extends $t{}ci.matches=/^(bg|background):(space|round|repeat|no-repeat|repeat-x|repeat-y)(?![;a-zA-Z])/,ci.key=o(W,A);class li extends $t{}li.matches=/^(bg|background):((auto|cover|contain)(?!\|)|\.?\d((?!\|).)*$)/,li.key=o(W,be);class oi extends $t{}oi.matches=/^(bg|background):(url|linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient|conic-gradient)\(.*\)((?!\|).)*$/,oi.key=o(W,$),oi.colorful=!0;class di extends $t{constructor(){super(...arguments),this.order=-1}}di.matches=/^bg:./,di.key=W,di.colorful=!0;class hi extends $t{}hi.matches=/^blend:./,hi.key=o("mix",z,_);class ui extends $t{}ui.key=ve,ui.values={abs:"absolute",rel:"relative"},ui.semantics={static:"static",fixed:"fixed",abs:"absolute",rel:"relative",sticky:"sticky"};class fi extends $t{get props(){const e=this.prefix.slice(0,-1);switch(e){case Lt:case qt:case Pt:case Tt:return{[e]:this};case"center":return{left:this,right:this,"margin-left":Object.assign(Object.assign({},this),{unit:""}),"margin-right":Object.assign(Object.assign({},this),{unit:""})};case"middle":return{top:this,bottom:this,"margin-top":Object.assign(Object.assign({},this),{unit:""}),"margin-bottom":Object.assign(Object.assign({},this),{unit:""})}}}}function mi(e,t){let s="",i=0;return function r(n,a){let c="";const l=a?t(a):"",o=()=>{c&&(s+=!l||Number.isNaN(+c)?c:+c/(l===we?16:1)+l,c="")};for(;i<e.length;i++){const t=e[i];if(t===n&&("'"!==n||")"===e[i+1])){o(),s+=t;break}","===t||" "===t?(o(),s+=t):c||"'"!==t?c&&"("===t?(s+=c+t,i++,r(")",c),c=""):c+=t:(s+=t,i++,r(t),c="")}o()}(),s}fi.matches=/^(top|left|right|bottom|center|middle):./;class pi extends $t{get props(){return{"backdrop-filter":this,"-webkit-backdrop-filter":this}}get parseValue(){return mi(this.value,(e=>{switch(e){case De:case o(Ge,j):return we;case o("hue",K):return ee}return""}))}}pi.matches=/^bd:./,pi.key=o("backdrop",R),pi.colorful=!0;class xi extends $t{}xi.key=ae,xi.colorStarts="fill:",xi.colorful=!0,xi.values={current:p};class bi extends $t{}bi.key=I,bi.colorful=!0;class gi extends $t{}gi.matches=/^stroke:([0-9]|(max|min|calc|clamp)\(.*\))((?!\|).)*$/,gi.key=o(I,F);class yi extends $t{get parseValue(){return mi(this.value,(e=>{switch(e){case De:case o(Ge,j):return we;case o("hue",K):return ee}return""}))}}yi.matches=/^(blur|brightness|contrast|drop-shadow|grayscale|hue-rotate|invert|opacity|saturate|sepia)\(/,yi.key=R,yi.colorful=!0;class ki extends $t{}ki.key="cursor";class vi extends $t{}vi.key=o("pointer","events"),vi.semantics={untouchable:"none"};class wi extends $t{}wi.key="resize";class Oi extends $t{}Oi.key=o("touch","action");class ji extends $t{get props(){return{"user-drag":this,"-webkit-user-drag":this}}}ji.key=o(S,"drag");class Si extends $t{get props(){return{"user-select":this,"-webkit-user-select":this}}}Si.key=o(S,"select");class Ni extends $t{}Ni.matches=/^s(?:hadow)?:./,Ni.key=o(ne,j),Ni.colorful=!0;class $i extends $t{}$i.key=o(oe,j),$i.colorful=!0;class Ii extends $t{get props(){return{"font-size":this,"line-height":Object.assign(Object.assign({},this),{value:this.unit===we?this.value+.375+this.unit:"calc("+this.value+this.unit+" + .375rem)",unit:""})}}}Ii.id="textSize",Ii.matches=/^t(ext)?:([0-9]|(max|min|calc|clamp)\(.*\))((?!\|).)*$/;class Ri extends $t{}Ri.key=o(fe,xe),Ri.unit="";class zi extends $t{get props(){return{[ie]:Object.assign(Object.assign({},this),{value:D}),[o(D,g,k)]:Object.assign(Object.assign({},this),{value:"repeat("+this.value+x+U+"max(0"+",1fr))"})}}}zi.matches=/^grid-cols:./,zi.key=o(D,k),zi.unit="";class Wi extends $t{get props(){return{[ie]:Object.assign(Object.assign({},this),{value:D}),[o(D,ge,b)]:Object.assign(Object.assign({},this),{value:y}),[o(D,g,O)]:Object.assign(Object.assign({},this),{value:"repeat("+this.value+x+U+"max(0"+",1fr))"})}}}Wi.key=o(D,O),Wi.unit="";class Ai extends $t{constructor(){super(...arguments),this.order=-1}get props(){switch(this.prefix[4]){case P:return{[o(y,v)]:this};case q:return{[o(w,v)]:this};default:return{[v]:this}}}}Ai.id="gap",Ai.matches=/^gap(-x|-y)?:./;class Ci extends $t{}Ci.key=o(fe,Ne);class Ei extends $t{get props(){return{["--"+this.prefix.slice(1,-1)]:this}}}Ei.id="variable",Ei.matches=/^\$.+:./,Ei.unit="";class Mi extends $t{}Mi.matches=/^aspect:./,Mi.key=o("aspect","ratio"),Mi.unit="",Mi.semantics={square:"1/1",video:"16/9"};class Vi extends $t{get props(){return{"box-decoration-break":this,"-webkit-box-decoration-break":this}}}Vi.matches=/^box:(slice|clone)(?!\|)/,Vi.key=o(ne,pe,xe);class _i extends $t{}_i.key=o(xe,"after");class Li extends $t{}Li.key=o(xe,"before");class Ti extends $t{}Ti.key=o(xe,"inside");class qi extends $t{}qi.key=o(B,"shrink"),qi.unit="";class Pi extends $t{}Pi.matches=/^flex:((row|col|column)(-reverse)?)(?!\|)/,Pi.key=o(B,V),Pi.values={col:y,"col-reverse":o(y,"reverse")};class Zi extends $t{}Zi.key=o(B,"grow"),Zi.unit="";class Fi extends $t{}Fi.matches=/^flex:(wrap(-reverse)?|nowrap)(?!\|)/,Fi.key=o(B,"wrap");class Qi extends $t{}Qi.key=o(B,"basis"),Qi.values=He;class Ui extends $t{constructor(){super(...arguments),this.order=-1}}Ui.key=B,Ui.unit="";const Xi="999999";class Yi extends $t{}Yi.matches=/^o:./,Yi.key="order",Yi.values={first:"-999999",last:Xi},Yi.unit="";class Bi extends $t{constructor(){super(...arguments),this.order=-1}get parseValue(){return"span"===this.prefix.slice(-5,-1)&&"auto"!==this.value?"span "+this.value+"/"+"span "+this.value:this.value}}Bi.matches=/^grid-col(?:umn)?(?:-span)?:./,Bi.key=o(D,y),Bi.unit="";class Di extends $t{}Di.matches=/^col-span:./,Di.key=o(y,Ve);class Gi extends $t{constructor(){super(...arguments),this.order=-1}get parseValue(){return"span"===this.prefix.slice(-5,-1)&&"auto"!==this.value?"span "+this.value+"/"+"span "+this.value:this.value}}Gi.matches=/^grid-row-span:./,Gi.key=o(D,w),Gi.unit="";class Hi extends $t{}Hi.matches=/^(font-color:.|font:current)/,Hi.colorStarts="(?:f(ont)?|color):",Hi.colorful=!0,Hi.key=C,Hi.unit="",Hi.values={current:p};class Ji extends $t{}Ji.matches=/^ac:./,Ji.key=o(de,N);class Ki extends $t{}Ki.matches=/^ai:./,Ki.key=o(de,Le);class er extends $t{}er.matches=/^as:./,er.key=o(de,Te);class tr extends $t{}tr.matches=/^grid-auto-cols:./,tr.key=o(D,ge,k),tr.values={min:o(U,N),max:o(Q,N)};class sr extends $t{}sr.matches=/^grid-flow:./,sr.key=o(D,ge,b);class ir extends $t{}ir.key=o(D,ge,O),ir.values={min:o(U,N),max:o(Q,N)};class rr extends $t{}rr.matches=/^jc:./,rr.key=o(_e,N);class nr extends $t{}nr.matches=/^ji:./,nr.key=o(_e,Le);class ar extends $t{}ar.matches=/^js:./,ar.key=o(_e,Te);class cr extends $t{constructor(){super(...arguments),this.order=-1}}cr.key=o(qe,N);class lr extends $t{constructor(){super(...arguments),this.order=-1}}lr.key=o(qe,Le);class or extends $t{constructor(){super(...arguments),this.order=-1}}or.key=o(qe,Te);class dr extends $t{get props(){return{[this.prefix.slice(0,-1)]:this}}get order(){return"padding:"===this.prefix?-1:0}}dr.id="padding",dr.matches=/^padding(?:-(?:left|right|top|bottom))?:./;class hr extends $t{get props(){return{[this.prefix.slice(0,-1)]:this}}get order(){return"margin:"===this.prefix?-1:0}}hr.id="margin",hr.matches=/^margin(-(left|right|top|bottom))?:./;class ur extends $t{}ur.matches=/^(text-(overflow|ovf):.|t(ext)?:(ellipsis|clip)(?!\|))/,ur.key=o(oe,"overflow");class fr extends $t{}fr.matches=/^list-style:(inside|outside)(?!\|)/,fr.key=o(Ee,Oe,ve);class mr extends $t{}mr.matches=/^list-style:(disc|decimal)(?!\|)/,mr.key=o(Ee,Oe,Pe);class pr extends $t{constructor(){super(...arguments),this.order=-1}}pr.key=o(Ee,Oe);class xr extends $t{}xr.key=o(oe,pe,C),xr.colorStarts="text-decoration:",xr.colorful=!0,xr.values={current:p};class br extends $t{}br.matches=/^t(ext)?:(solid|double|dotted|dashed|wavy)(?!\|)/,br.key=o(oe,pe,Oe);class gr extends $t{}gr.matches=/^text-decoration:(from-font(?!\|)|([0-9]|(max|min|calc|clamp)\(.*\))((?!\|).)*$)/,gr.key=o(oe,pe,"thickness"),gr.unit="em";class yr extends $t{}yr.key=o(oe,"indent");class kr extends $t{}kr.key=N;class vr extends $t{}vr.key=o(Fe,C),vr.colorStarts="outline:",vr.colorful=!0,vr.values={current:p};class wr extends $t{}wr.key=o(Fe,Ze);class Or extends $t{}Or.matches=/^outline:(none|dotted|dashed|solid|double|groove|ridge|inset|outset)(?!\|)/,Or.key=o(Fe,Oe);class jr extends $t{}jr.matches=/^outline:(medium|thick|thin|[0-9]|(max|min|calc|clamp)\(.*\))((?!\|).)*$/,jr.key=o(Fe,F);class Sr extends $t{constructor(){super(...arguments),this.order=-1}}Sr.key=Fe,Sr.colorful=!0;class Nr extends $t{}Nr.matches=/^b(order)?:(collapse|separate)(?!\|)/,Nr.key=o(d,"collapse");class $r extends $t{}$r.key=o(d,Ne);class Ir extends $t{}Ir.key=o(Ae,"layout");class Rr extends $t{}Rr.key=o("accent",C),Rr.colorStarts="accent:",Rr.colorful=!0;class zr extends $t{}zr.key="appearance";class Wr extends $t{}Wr.key=o("caret",C),Wr.matches=/^caret:transparent(?!\|)/,Wr.colorStarts="caret:",Wr.colorful=!0,Wr.values={current:p};class Ar extends $t{}Ar.key=o(E,L);class Cr extends $t{get props(){if("m"!==this.prefix.slice(-3,-2))return{[this.prefix.replace(/-m(?!argin)/,"-margin").slice(0,-1)]:this};{const e=o(E,u)+"-",t=e+qt,s=e+Pt,i=e+Lt,r=e+Tt;switch(this.prefix.slice(-2,-1)){case Xt:return{[t]:this,[s]:this};case Yt:return{[i]:this,[r]:this};case Zt:return{[t]:this};case Ft:return{[s]:this};case Qt:return{[i]:this};case Ut:return{[r]:this}}}}get order(){return this.prefix===o(E,u)+":"||this.prefix===o(E,"m:")?-1:0}}Cr.id="scrollMargin",Cr.matches=/^scroll-m([xytblr]|argin(-(top|bottom|left|right))?)?:./;class Er extends $t{get props(){if("p"!==this.prefix.slice(-3,-2))return{[this.prefix.replace(/-p(?!adding)/,"-padding").slice(0,-1)]:this};{const e=o(E,f)+"-",t=e+qt,s=e+Pt,i=e+Lt,r=e+Tt;switch(this.prefix.slice(-2,-1)){case Xt:return{[t]:this,[s]:this};case Yt:return{[i]:this,[r]:this};case Zt:return{[t]:this};case Ft:return{[s]:this};case Qt:return{[i]:this};case Ut:return{[r]:this}}}}get order(){return this.prefix===o(E,f)+":"||this.prefix===o(E,"p:")?-1:0}}Er.id="scrollPadding",Er.matches=/^scroll-p([xytblr]|adding(-(top|bottom|left|right))?)?:./;class Mr extends $t{}Mr.matches=/^scroll-snap:(start|end|center)/,Mr.key=o(E,Qe,de);class Vr extends $t{}Vr.matches=/^scroll-snap:(normal|always)(?!\|)/,Vr.key=o(E,Qe,"stop");class _r extends $t{}_r.matches=/^scroll-snap:(([xy]|block|inline|both)(\|(proximity|mandatory))?)(?!\|)/,_r.key=o(E,Qe,Pe);class Lr extends $t{}Lr.key="will-change";class Tr extends $t{}Tr.key=o(oe,"underline",Ze);class qr extends $t{get props(){return{[this.prefix.slice(0,-1)]:this}}}qr.matches=/^(?:top|bottom|left|right):./,qr.key="inset";class Pr extends $t{constructor(){super(...arguments),this.order=-1}}Pr.matches=/^(columns|cols):./,Pr.key=k,Pr.unit="";class Zr extends $t{}Zr.key=o("white",me),Zr.unit="";class Fr extends $t{}Fr.matches=/^t(ext)?:(mixed|upright|sideways-right|sideways|use-glyph-orientation)(?!\|)/,Fr.key=o(oe,"orientation");class Qr extends $t{}Qr.matches=/^writing:./,Qr.key=o("writing",_);class Ur extends $t{}Ur.key="contain";class Xr extends $t{}Xr.matches=/^\@duration:./,Xr.key=o(M,se),Xr.unit="ms";class Yr extends $t{}Yr.matches=/^t(ext)?:(optimizeSpeed|optimizeLegibility|geometricPrecision)(?!\|)/,Yr.key=o(oe,"rendering");class Br extends $t{}Br.key=V;class Dr extends $t{}Dr.matches=/^t(ext)?:(none|underline|overline|line-through)(?!\|)/,Dr.key=o(oe,pe,ye);class Gr extends $t{}Gr.matches=/^grid-col-start:./,Gr.key=o(D,y,Be),Gr.unit="";class Hr extends $t{}Hr.matches=/^list-style:(url|linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient|conic-gradient)\(.*\)((?!\|).)*$/,Hr.key=o(Ee,Oe,$);class Jr extends $t{}Jr.matches=/^shape:((margin|content|border|padding)(?!\|)|(inset|circle|ellipse|polygon|url|linear-gradient)\(.*\)((?!\|).)*$)/,Jr.key=o(Ue,"outside"),Jr.values={content:o(N,ne),border:o(d,ne),padding:o(f,ne),margin:o(u,ne)};class Kr extends $t{}Kr.matches=/^shape:([0-9]|(max|min|calc|clamp)\(.*\))((?!\|).)*$/,Kr.key=o(Ue,u);class en extends $t{}en.key=o(Ue,$,"threshold"),en.unit="";class tn extends $t{}tn.matches=/^clip:./,tn.key=o(ce,"path"),tn.values={content:o(N,ne),border:o(d,ne),padding:o(f,ne),margin:o(u,ne),fill:o(ae,ne),stroke:o(I,ne),view:o(Xe,ne)};class sn extends $t{constructor(){super(...arguments),this.order=-1}}sn.key=D;class rn extends $t{constructor(){super(...arguments),this.order=-1}}rn.matches=/^f:./,rn.key=m,rn.unit="",rn.colorful=!0;class nn extends $t{}nn.key="quotes";class an extends $t{constructor(){super(...arguments),this.order=-1}}an.key=o(D,g);class cn extends $t{}cn.key=o(D,w,Be),cn.unit="";class ln extends $t{}ln.key=o(D,g,Ye)+"s";class on extends $t{}on.matches=/^grid-template-cols:./,on.key=o(D,g,k),on.values={min:o(U,N),max:o(Q,N)};class dn extends $t{}dn.key=o(D,g,O),dn.values={min:o(U,N),max:o(Q,N)};class hn extends $t{constructor(){super(...arguments),this.order=-1}}hn.key=o(D,Ye),hn.unit="";class un extends $t{}un.matches=/^grid-col-end:./,un.key=o(D,y,"end"),un.unit="";class fn extends $t{}fn.key=o(D,w,"end"),fn.unit="";class mn extends $t{get props(){return{"mask-image":this,"-webkit-mask-image":this}}}mn.key=o("mask",$);class pn extends $t{get props(){return{"-webkit-text-fill-color":this}}}pn.id="textFillColor",pn.matches=/^text-fill-color:./,pn.colorStarts="text-fill:",pn.colorful=!0,pn.values={current:p};class xn extends $t{get props(){return{"-webkit-text-stroke":this}}}xn.id="textStroke",xn.matches=/^text-stroke:./;class bn extends $t{get props(){return{"-webkit-text-stroke-width":this}}}bn.id="textStrokeWidth",bn.matches=/^text-stroke(:((thin|medium|thick)(?!\|)|\.?\d((?!\|).)*$)|-width:.)/;class gn extends $t{get props(){return{"-webkit-text-stroke-color":this}}}gn.id="textStrokeColor",gn.matches=/^text-stroke-color:./,gn.colorStarts="text-stroke:",gn.colorful=!0,gn.values={current:p};class yn extends $t{}yn.key=o(I,"dasharray");class kn extends $t{}kn.key=o(I,"dash")+Ze;class vn extends $t{}vn.key="x",vn.unit="";class wn extends $t{}wn.key="y",wn.unit="";class On extends $t{}On.key="cx",On.unit="";class jn extends $t{}jn.key="cy",jn.unit="";class Sn extends $t{}Sn.key="rx",Sn.unit="";class Nn extends $t{}Nn.key="ry",Nn.unit="";class $n extends $t{}$n.key=o(d,$,"outset");class In extends $t{}In.matches=/^border-image:(?:stretch|repeat|round|space)(?:(?!\|).)*$/,In.key=o(d,$,A);class Rn extends $t{}Rn.key=o(d,$,"slice"),Rn.unit="";class zn extends $t{}zn.matches=/^border-image:(?:url|linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient|conic-gradient)\(.*\)(?:(?!\|).)*$/,zn.key=o(d,$,"source");class Wn extends $t{}Wn.matches=/^border-image:(?:\.?[0-9]|(max|min|calc|clamp)\(.*\))(?:(?!\|).)*$/,Wn.key=o(d,$,F);class An extends $t{}An.key=o(d,$),An.unit="";const Cn=/\{(.*)\}/;class En extends $t{get props(){const e={},t=t=>{const s=t.indexOf(":");if(-1!==s){const i=t.slice(0,s);i in e||(e[i]={value:t.slice(s+1)})}},s=e=>{const s=e.text.slice(CSS.escape(e.name).length).match(Cn)[1].split(";");for(const e of s)t(e)},i=[];let r="";const n=()=>{r&&(i.push(r),r="")};let c=1;const l=e=>{for(;c<this.value.length;c++){const t=this.value[c];if(!e){if(";"===t){n();continue}if("}"===t)break}if(r+=t,e===t){if("'"===e){let e=0;for(let t=r.length-2;"\\"===r[t];t--)e++;if(e%2)continue}break}t in a&&"'"!==e&&(c++,l(a[t]))}};l(void 0),n();for(const e of i){const i=Ct.findAndNew(e);if(Array.isArray(i))for(const e of i)s(e);else i?s(i):t(e)}return e}}En.id=Ce,En.matches=/^(?:.+?[*_>~+])?\{.+?\}/,En.unit="";class Mn extends $t{}Mn.key="counter-increment",Mn.unit="";var Vn=s(580),_n=s.n(Vn);class Ln extends $t{}Ln.semantics={"center-content":{"justify-content":"center","align-items":"center"},"sr-only":{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0,0,0,0)","white-space":"nowrap","border-width":"0"},full:{width:"100%",height:"100%"},center:{left:0,right:0,"margin-left":ge,"margin-right":ge},middle:{top:0,bottom:0,"margin-top":ge,"margin-bottom":ge},"break-spaces":{"white-space":o(xe,me)+"s"},"break-word":{"overflow-wrap":o(xe,fe),overflow:re}};const Tn="undefined"!=typeof window,qn=[Ln,En,Ei,Et,Vt,Hi,Bt,hr,dr,_t,Qi,Fi,Zi,qi,Pi,Ui,Ss,Dt,Gt,Ht,Jt,Ur,kr,Mn,Kt,is,rs,ns,rn,as,cs,ls,os,xr,br,gr,Dr,ds,Tr,ur,Fr,hs,Yr,yr,us,Pr,Zr,qr,fs,Os,js,Ns,$s,Is,Rs,zs,Ws,As,Cs,Es,ui,fi,ki,vi,wi,Oi,Ri,Ci,ji,Si,$i,Ii,pn,bn,gn,xn,Ni,Ir,xs,ps,ms,bs,vs,ws,ks,ys,gs,Ms,Vs,Xr,_s,Ls,Ts,qs,Ps,Zs,Qs,Hs,Js,Ks,Nr,$r,ei,$n,In,Rn,zn,Wn,An,ti,si,ii,ri,ni,ai,ci,li,oi,di,hi,pi,yi,xi,yn,kn,gi,bi,vn,wn,On,jn,Sn,Nn,Gr,un,Bi,zi,cn,fn,Gi,Wi,tr,sr,ir,ln,on,dn,an,hn,sn,Ai,Yi,Ti,Li,_i,Vi,Mi,Di,Ji,Ki,er,rr,nr,ar,cr,lr,or,fr,mr,Hr,pr,vr,wr,Or,jr,Sr,Rr,zr,Wr,Ar,Cr,Er,Mr,Vr,_r,Lr,Qr,Br,Jr,Kr,en,tn,nn,mn],Pn=qn.get=e=>qn.find((t=>{var s;return e===t.id||e===(null===(s=t.key)||void 0===s?void 0:s.replace(/-./g,(e=>e[1].toUpperCase())))||e===t.key}));function Zn(){if(Tn){const e=new Ct(document.head);Ct.root=e,e.observe(document.documentElement)}}qn.extend=function(e,...t){const s=Object.assign({},...t);for(const t in s){const i=Pn(t);if(i){const r=s[t];i.extend(e,r)}}return this},$t.extend("colors",_n()).extend("breakpoints",l()),Ct.Styles.push(...qn);Tn&&(window.initMasterCSS=Zn,window.MasterStyles=qn,window.MasterCSSManual||Zn());const Fn=s(580),Qn=s(642)})(),i})()}));